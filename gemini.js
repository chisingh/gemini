import vega__default, { SVGRenderer, sceneFromJSON, sceneToJSON, View, parse as parse$2, textMetrics, pathRectangle, pathSymbols, pathTrail, defaultLocale, timeUnitSpecifier } from 'vega';
import * as d3 from 'd3';
import d3__default, { interpolate, groups, interpolateString, extent, select, path, line, area, easeLinear, ascending, descending, local, selectAll, rollups } from 'd3';
import vegaLite__default, { deepEqual as deepEqual$1, compile as compile$2 } from 'vega-lite';

class Animation {
  constructor(schedule, rawInfo, spec) {
    this.schedule = schedule;
    this.moments = this.schedule.moments;
    this.status = "ready";
    this.spec = spec;
    this.logs = [];
    this._queue = [];
    this.rawInfo = rawInfo;
  }

  log(timestamp, message, info) {
    if (typeof message === "string" && typeof timestamp === "number") {
      this.logs.push({
        timestamp,
        message,
        info
      });
    }
    return this.logs;
  }

  async play(targetElm) {
    this.status = "playing";
    // get moments and sort by sTime
    const { moments } = this;

    const globalSTime = new Date();
    this._start(moments[0].starting, targetElm);
    this.log(new Date() - globalSTime, "0-th moment");

    for (let i = 1; i < moments.length; i++) {
      const moment = moments[i];

      await this._end(moment).then(() => {
        const delay = Math.max(moment.time - (new Date() - globalSTime), 0);
        return new Promise(resolve => setTimeout(() => resolve(), delay));
      });
      this._start(moment.starting, targetElm);
      this.log(new Date() - globalSTime, `${i}-th moment`);

      if (i === moments.length - 1) {
        this.status = "ready";
        return;
      }
    }
  }

  _start(steps, targetElm) {
    steps.forEach(step => {
      this._queue.push({
        sTime: step.sTime,
        eTime: step.eTime,
        step,
        result: step.template(this.rawInfo, step, targetElm) // contains the promise
      });
    });
  }

  async _end(moment) {
    const { time } = moment;

    const workingSteps = this._queue.filter(item => item.eTime === time);
    for (let i = 0; i < workingSteps.length; i++) {
      await workingSteps[i].result;
    }
  }
}

Array.prototype.contains = function(v, accessor) {
  accessor =
    accessor ||
    (d => {
      return d;
    });
  for (let i = 0; i < this.length; i++) {
    if (accessor(this[i]) === accessor(v)) return true;
  }
  return false;
};
Array.prototype.containAll = function(arr, accessor) {
  accessor =
    accessor ||
    (d => {
      return d;
    });
  for (let i = 0; i < arr.length; i++) {
    if (!this.contains(arr[i], accessor)) return false;
  }
  return true;
};

Array.prototype.unique = function(accessor) {
  const arr = [];
  for (let i = 0; i < this.length; i++) {
    if (!arr.contains(this[i], accessor)) {
      arr.push(this[i]);
    }
  }
  return arr;
};
Array.prototype.sample = function(N) {
  const tempThis = this.slice();
  const sampled = [];
  for (let i = 0; i < N; i++) {
    sampled.push(
      tempThis.splice([Math.floor(Math.random() * tempThis.length)], 1)[0]
    );
  }
  return sampled;
};

Array.prototype.shuffle = function() {
  for (let i = this.length; i; i--) {
    const j = Math.floor(Math.random() * i);
    [this[i - 1], this[j]] = [this[j], this[i - 1]];
  }
  return this;
};
Array.prototype.clone = function() {
  return JSON.parse(JSON.stringify(this));
};
function stringifyDatumValue(value) {
  if (value === null) {
    return "__null__";
  }
  return value.toString();
}
function deepEqual(obj1, obj2) {
  if (obj1 === obj2) {
    return true;
  }
  if (isDate(obj1) && isDate(obj2)) {
    return Number(obj1) === Number(obj2);
  }
  if (
    typeof obj1 === "object" &&
    obj1 !== undefined &&
    typeof obj2 === "object" &&
    obj2 !== undefined
  ) {
    const props1 = Object.keys(obj1);
    const props2 = Object.keys(obj2);
    if (props1.length !== props2.length) {
      return false;
    }

    for (let i = 0; i < props1.length; i++) {
      const prop = props1[i];

      if (!Object.prototype.hasOwnProperty.call(obj2, prop) || !deepEqual(obj1[prop], obj2[prop])) {
        return false;
      }
    }
    return true;
  }
  return false;
}

function copy(obj) {
  if (obj === undefined) {
    return undefined;
  }
  return JSON.parse(JSON.stringify(obj));
}
// create a new obj that has the same keys pointing the same values/functions;
function copy2(obj) {
  return Object.keys(obj).reduce((acc, curr) => {
    acc[curr] = obj[curr];
    return acc;
  }, {});
}
function flatten(arrays) {
  return arrays.reduce((acc, curr) => {
    acc = acc.concat(curr);
    return acc;
  }, []);
}

function permutate(arr) {
  if (arr.length === 2) {
    return [arr, [arr[1], arr[0]]];
  }
  return arr.reduce((acc, anchor, i) => {
    const workingArr = copy(arr);
    workingArr.splice(i, 1);

    acc = acc.concat(
      permutate(workingArr).map(newArr => {
        return [anchor].concat(newArr);
      })
    );
    return acc;
  }, []);
}
function isDate(o) {
  return o !== undefined && typeof o.getMonth === "function";
}

function enumArr(arr, item) {
  const newArrs = [];
  for (let i = 0; i < arr.length; i++) {
    const newArr = copy(arr);
    if (Array.isArray(newArr[i])) {
      newArr[i].push(item);
    } else {
      newArr[i] = [newArr[i], item];
    }
    newArrs.push(newArr);
  }
  return newArrs;
}

function enumArraysByItems(arrs, items, enumArrFn = enumArr) {
  let newArrs = copy(arrs);
  items.forEach(item => {
    newArrs = newArrs.reduce((allArrs, arr) => {
      return (allArrs = allArrs.concat(enumArrFn(arr, item)));
    }, []);
  });
  return newArrs;
}

function get(o, ...props) {
  return props.reduce((obj, prop) => {
    return !isNullOrUndefined(obj) && !isNullOrUndefined(obj[prop])
      ? obj[prop]
      : undefined;
  }, o);
}

function isNullOrUndefined(obj) {
  return obj === null || obj === undefined;
}
function isNumber(x) {
  return typeof x === "number" && !isNaN(x);
}
function roundUp(num, d = 5) {
  return Math.round(Math.pow(10, d) * num) / Math.pow(10, d);
}
Array.prototype.exclude = function(items, accessor = x => x) {
  const newArr = this.slice();
  for (const item of items) {
    const i = newArr.findIndex(x => accessor(x) === accessor(item));
    if (i >= 0) {
      newArr.splice(i, 1);
    }
  }
  return newArr;
};
function variance(nums) {
  const mu = mean(nums);
  return (
    nums.reduce((acc, num) => (acc += Math.pow(num - mu, 2)), 0) / nums.length
  );
}
function mean(nums) {
  return nums.reduce((sum, num) => sum + num, 0) / nums.length;
}

function isEmpty(o) {
  return typeof o === "object" && Object.keys(o).length === 0;
}
function isDefinitelyNaN(o) {
  return ((typeof(v) === "number" ) && isNaN(v))
}
function isValue(v) {
  return (v !== undefined) && (v !== null) && !(isDefinitelyNaN())
}

function crossJoinArrays(arrs) {
  return arrs.reduce((acc, currArray) => {
    return currArray.reduce((result, b) => {
      return result.concat(acc.map(a => [...a, b]))
    }, [])
  }, [[]])
}

//Enumerate all ways of splitting arr into N non-empty arrays
function NSplits(arr, N) {
  if (N === 1) {
    return [[arr]]
  } else if (arr.length === N) {
    return [arr.map(item => { return [item] })];
  } else if (arr.length < N) {
    throw new Error(`Cannot split ${arr.length}-long array into ${N}.`)
  }
  let results = [];
  for (let i = 1; arr.length -i >= N-1; i++) {
    let division = NSplits(arr.slice(i), N-1).map(division => {
      return [arr.slice(0,i)].concat(division)
    });
    results = results.concat(division);
  }
  return results;
}

function collectResolves(parsedBlock, parsedSteps) {
  let resolves = collect(parsedBlock);
  // 1-2. collect the alternative timelines. (alterIds)
  resolves.forEach(r => {
    r.alterIds = parsedSteps
      .filter(
        step => step.alterId &&
          (step.alterId.split(":")[0] === r.alterName)
      )
      .map(step => step.alterId)
      .unique();

    // Place ":main" at first
    const i = r.alterIds.findIndex(d => d.indexOf(":main") >= 0);
    const head = r.alterIds.splice(i, 1);
    r.alterIds = head.concat(r.alterIds);
  });
  return resolves;
}

function collect(block) {
  let resolves = [];

  if (block.sync) {
    block.sync.forEach(blk => {
      resolves = resolves.concat(collect(blk));
    });
  } else if (block.concat) {
    block.concat.forEach(blk => {
      resolves = resolves.concat(collect(blk));
    });
  }
  if (block.resolve) {
    resolves.push(block.resolve);
  }
  return resolves;
}

class Schedule {
  constructor(parsedSteps) {
    // Assgin the sTime and eTime

    let newParsedSteps = parsedSteps.map((stp, i) => {
      return { ...stp, stepId: i };
    });

    this.tracks = newParsedSteps
      .map(d => {
        const trackName = (d.trackName = d.compName
          ? `${d.compType}.${d.compName}`
          : d.compType);

        return {
          name: trackName,
          compType: d.compType,
          compName: d.compName
        };
      })
      .unique(d => d.name)
      .map(track => {
        return {
          ...track,
          steps: newParsedSteps.filter(d => d.trackName === track.name)
        };
      });
  }


  getTimeline(alterId) {
    return this.tracks.map(track => {
      return Object.assign({}, track, {
        steps: track.steps.filter(
          step => step.alterId === undefined || step.alterId.indexOf(alterId) >= 0
        )
      });
    });
  }

  getTimelineAlternator(scaleOrderResovles) {
    let counter = 0;
    let dividers = scaleOrderResovles.reduce(
      (acc, r, i) => {
        acc.push(r.alterIds.length * acc[i]);
        return acc;
      },
      [1]
    );
    const totalCount = dividers[dividers.length - 1];
    dividers = dividers.slice(0, dividers.length - 1).sort((a, b) => b - a);
    return () => {
      counter += 1;
      counter %= totalCount;
      if (counter === 0) {
        console.warn("Gemini cannot find the order to resolve.");
        return false;
      }
      return dividers.reduce(
        (acc, divider, i) => {
          const q = Math.floor(acc.remainder / divider);
          acc.remainder -= q * divider;
          const resolve = scaleOrderResovles[i];

          const alterId = resolve.alterIds[q];

          acc.tracks = acc.tracks.map(track => {
            const newSteps = track.steps.filter(step => {
              if (step.alterId === undefined) {
                return true;
              }
              if (
                step.alterId.split(":")[0] === alterId.split(":")[0] &&
                step.alterId.split(":")[1] !== alterId.split(":")[1]
              ) {
                return false;
              }

              return true;
            });
            return Object.assign({}, track, { steps: newSteps });
          });

          return acc;
        },
        { tracks: this.tracks, remainder: counter }
      ).tracks;
    };
  }


}

function check(schedule, resolves) {
  // 3. check if there is any component whose steps are overlapped by themselves.
  let tracksPerAlterId = [{ alterId: ":main", tracks: schedule.tracks }];
  if (resolves.length > 0) {
    tracksPerAlterId = resolves
      .reduce((allAlterIds, resolve) => {
        return allAlterIds.concat(resolve.alterIds);
      }, [])
      .map(alterId => {
        return {
          tracks: schedule.tracks.map(track => {
            return {
              ...track,
              steps: track.steps.filter(
                stp => !stp.alterId || alterId === stp.alterId
              )
            };
          }),
          alterId
        };
      });
  }
  const conflictsPerAlterId = tracksPerAlterId.map(findConflicts);
  const conflictedAlterIds = conflictsPerAlterId
    .filter(conflicts => conflicts.length > 0)
    .map(conflicts => conflicts.alterId);

  if (conflictedAlterIds.length === tracksPerAlterId.length) {
    if (conflictsPerAlterId.length > 1) {
      throw new Error(
        "All possible timelines have 1+ schedule conflict.",
        conflictsPerAlterId
      );
    } else {
      throw new Error(
        "The timeline has 1+ schedule conflict.",
        conflictsPerAlterId
      );
    }
  } else if (conflictedAlterIds.length > 0) {
    if (
      conflictsPerAlterId.find(conflicts =>
        conflicts.find(conf => conf.alterId.indexOf(":main") >= 0)
      )
    ) {
      console.warn(
        "The main timeline (specified timeline) has 1+ schedule conflict.",
        conflictsPerAlterId
      );
    } else {
      console.warn(
        "Some possible timelines have 1+ schedule conflict.",
        conflictsPerAlterId
      );
    }
  }
  schedule.tracks = schedule.tracks.map(track => {
    return {
      ...track,
      steps: track.steps.filter(
        stp => conflictedAlterIds.indexOf(stp.alterId) < 0
      )
    };
  });
  resolves = resolves.map(resolve => {
    return {
      ...resolve,
      alterIds: resolve.alterIds.filter(
        id => conflictedAlterIds.indexOf(id) < 0
      )
    };
  });

  return {conflictsPerAlterId};
}


function findConflicts(tracksWithAlterId) {
  const conflicts = [];
  const { tracks } = tracksWithAlterId;
  const { alterId } = tracksWithAlterId;

  for (const track of tracks) {
    const sortedSteps = track.steps.sort(
      (stp1, stp2) => stp1.sTime - stp2.sTime
    );
    for (let i = 0; i < sortedSteps.length - 1; i++) {
      if (sortedSteps[i].eTime > sortedSteps[i + 1].sTime) {
        conflicts.push({
          alterId,
          conflictedSteps: [sortedSteps[i], sortedSteps[i + 1]],
          compName: track.compName,
          compType: track.compType
        });
      }
    }
  }

  return conflicts;
}

var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

function unwrapExports (x) {
	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
}

function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

function getCjsExportFromNamespace (n) {
	return n && n['default'] || n;
}

var uri_all = createCommonjsModule(function (module, exports) {
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function (global, factory) {
	 factory(exports) ;
}(commonjsGlobal, (function (exports) {
function merge() {
    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {
        sets[_key] = arguments[_key];
    }

    if (sets.length > 1) {
        sets[0] = sets[0].slice(0, -1);
        var xl = sets.length - 1;
        for (var x = 1; x < xl; ++x) {
            sets[x] = sets[x].slice(1, -1);
        }
        sets[xl] = sets[xl].slice(1);
        return sets.join('');
    } else {
        return sets[0];
    }
}
function subexp(str) {
    return "(?:" + str + ")";
}
function typeOf(o) {
    return o === undefined ? "undefined" : o === null ? "null" : Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase();
}
function toUpperCase(str) {
    return str.toUpperCase();
}
function toArray(obj) {
    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== "number" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];
}
function assign(target, source) {
    var obj = target;
    if (source) {
        for (var key in source) {
            obj[key] = source[key];
        }
    }
    return obj;
}

function buildExps(isIRI) {
    var ALPHA$$ = "[A-Za-z]",
        DIGIT$$ = "[0-9]",
        HEXDIG$$ = merge(DIGIT$$, "[A-Fa-f]"),
        PCT_ENCODED$ = subexp(subexp("%[EFef]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%" + HEXDIG$$ + HEXDIG$$)),
        //expanded
    GEN_DELIMS$$ = "[\\:\\/\\?\\#\\[\\]\\@]",
        SUB_DELIMS$$ = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",
        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),
        UCSCHAR$$ = isIRI ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]",
        //subset, excludes bidi control characters
    IPRIVATE$$ = isIRI ? "[\\uE000-\\uF8FF]" : "[]",
        //subset
    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, "[\\-\\.\\_\\~]", UCSCHAR$$),
        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, "[\\+\\-\\.]") + "*"),
        USERINFO$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\:]")) + "*"),
        DEC_OCTET_RELAXED$ = subexp(subexp("25[0-5]") + "|" + subexp("2[0-4]" + DIGIT$$) + "|" + subexp("1" + DIGIT$$ + DIGIT$$) + "|" + subexp("0?[1-9]" + DIGIT$$) + "|0?0?" + DIGIT$$),
        //relaxed parsing rules
    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$),
        H16$ = subexp(HEXDIG$$ + "{1,4}"),
        LS32$ = subexp(subexp(H16$ + "\\:" + H16$) + "|" + IPV4ADDRESS$),
        IPV6ADDRESS1$ = subexp(subexp(H16$ + "\\:") + "{6}" + LS32$),
        //                           6( h16 ":" ) ls32
    IPV6ADDRESS2$ = subexp("\\:\\:" + subexp(H16$ + "\\:") + "{5}" + LS32$),
        //                      "::" 5( h16 ":" ) ls32
    IPV6ADDRESS3$ = subexp(subexp(H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{4}" + LS32$),
        //[               h16 ] "::" 4( h16 ":" ) ls32
    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,1}" + H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{3}" + LS32$),
        //[ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,2}" + H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{2}" + LS32$),
        //[ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,3}" + H16$) + "?\\:\\:" + H16$ + "\\:" + LS32$),
        //[ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,4}" + H16$) + "?\\:\\:" + LS32$),
        //[ *4( h16 ":" ) h16 ] "::"              ls32
    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,5}" + H16$) + "?\\:\\:" + H16$),
        //[ *5( h16 ":" ) h16 ] "::"              h16
    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,6}" + H16$) + "?\\:\\:"),
        //[ *6( h16 ":" ) h16 ] "::"
    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join("|")),
        ZONEID$ = subexp(subexp(UNRESERVED$$ + "|" + PCT_ENCODED$) + "+"),
        //RFC 6874, with relaxed parsing rules
    IPVFUTURE$ = subexp("[vV]" + HEXDIG$$ + "+\\." + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\:]") + "+"),
        //RFC 6874
    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$)) + "*"),
        PCHAR$ = subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\:\\@]")),
        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + "|" + merge(UNRESERVED$$, SUB_DELIMS$$, "[\\@]")) + "+"),
        QUERY$ = subexp(subexp(PCHAR$ + "|" + merge("[\\/\\?]", IPRIVATE$$)) + "*");
    return {
        NOT_SCHEME: new RegExp(merge("[^]", ALPHA$$, DIGIT$$, "[\\+\\-\\.]"), "g"),
        NOT_USERINFO: new RegExp(merge("[^\\%\\:]", UNRESERVED$$, SUB_DELIMS$$), "g"),
        NOT_HOST: new RegExp(merge("[^\\%\\[\\]\\:]", UNRESERVED$$, SUB_DELIMS$$), "g"),
        NOT_PATH: new RegExp(merge("[^\\%\\/\\:\\@]", UNRESERVED$$, SUB_DELIMS$$), "g"),
        NOT_PATH_NOSCHEME: new RegExp(merge("[^\\%\\/\\@]", UNRESERVED$$, SUB_DELIMS$$), "g"),
        NOT_QUERY: new RegExp(merge("[^\\%]", UNRESERVED$$, SUB_DELIMS$$, "[\\:\\@\\/\\?]", IPRIVATE$$), "g"),
        NOT_FRAGMENT: new RegExp(merge("[^\\%]", UNRESERVED$$, SUB_DELIMS$$, "[\\:\\@\\/\\?]"), "g"),
        ESCAPE: new RegExp(merge("[^]", UNRESERVED$$, SUB_DELIMS$$), "g"),
        UNRESERVED: new RegExp(UNRESERVED$$, "g"),
        OTHER_CHARS: new RegExp(merge("[^\\%]", UNRESERVED$$, RESERVED$$), "g"),
        PCT_ENCODED: new RegExp(PCT_ENCODED$, "g"),
        IPV4ADDRESS: new RegExp("^(" + IPV4ADDRESS$ + ")$"),
        IPV6ADDRESS: new RegExp("^\\[?(" + IPV6ADDRESS$ + ")" + subexp(subexp("\\%25|\\%(?!" + HEXDIG$$ + "{2})") + "(" + ZONEID$ + ")") + "?\\]?$") //RFC 6874, with relaxed parsing rules
    };
}
var URI_PROTOCOL = buildExps(false);

var IRI_PROTOCOL = buildExps(true);

var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();













var toConsumableArray = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];

    return arr2;
  } else {
    return Array.from(arr);
  }
};

/** Highest positive signed 32-bit float value */

var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1

/** Bootstring parameters */
var base = 36;
var tMin = 1;
var tMax = 26;
var skew = 38;
var damp = 700;
var initialBias = 72;
var initialN = 128; // 0x80
var delimiter = '-'; // '\x2D'

/** Regular expressions */
var regexPunycode = /^xn--/;
var regexNonASCII = /[^\0-\x7E]/; // non-ASCII chars
var regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g; // RFC 3490 separators

/** Error messages */
var errors = {
	'overflow': 'Overflow: input needs wider integers to process',
	'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
	'invalid-input': 'Invalid input'
};

/** Convenience shortcuts */
var baseMinusTMin = base - tMin;
var floor = Math.floor;
var stringFromCharCode = String.fromCharCode;

/*--------------------------------------------------------------------------*/

/**
 * A generic error utility function.
 * @private
 * @param {String} type The error type.
 * @returns {Error} Throws a `RangeError` with the applicable error message.
 */
function error$1(type) {
	throw new RangeError(errors[type]);
}

/**
 * A generic `Array#map` utility function.
 * @private
 * @param {Array} array The array to iterate over.
 * @param {Function} callback The function that gets called for every array
 * item.
 * @returns {Array} A new array of values returned by the callback function.
 */
function map(array, fn) {
	var result = [];
	var length = array.length;
	while (length--) {
		result[length] = fn(array[length]);
	}
	return result;
}

/**
 * A simple `Array#map`-like wrapper to work with domain name strings or email
 * addresses.
 * @private
 * @param {String} domain The domain name or email address.
 * @param {Function} callback The function that gets called for every
 * character.
 * @returns {Array} A new string of characters returned by the callback
 * function.
 */
function mapDomain(string, fn) {
	var parts = string.split('@');
	var result = '';
	if (parts.length > 1) {
		// In email addresses, only the domain name should be punycoded. Leave
		// the local part (i.e. everything up to `@`) intact.
		result = parts[0] + '@';
		string = parts[1];
	}
	// Avoid `split(regex)` for IE8 compatibility. See #17.
	string = string.replace(regexSeparators, '\x2E');
	var labels = string.split('.');
	var encoded = map(labels, fn).join('.');
	return result + encoded;
}

/**
 * Creates an array containing the numeric code points of each Unicode
 * character in the string. While JavaScript uses UCS-2 internally,
 * this function will convert a pair of surrogate halves (each of which
 * UCS-2 exposes as separate characters) into a single code point,
 * matching UTF-16.
 * @see `punycode.ucs2.encode`
 * @see <https://mathiasbynens.be/notes/javascript-encoding>
 * @memberOf punycode.ucs2
 * @name decode
 * @param {String} string The Unicode input string (UCS-2).
 * @returns {Array} The new array of code points.
 */
function ucs2decode(string) {
	var output = [];
	var counter = 0;
	var length = string.length;
	while (counter < length) {
		var value = string.charCodeAt(counter++);
		if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
			// It's a high surrogate, and there is a next character.
			var extra = string.charCodeAt(counter++);
			if ((extra & 0xFC00) == 0xDC00) {
				// Low surrogate.
				output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
			} else {
				// It's an unmatched surrogate; only append this code unit, in case the
				// next code unit is the high surrogate of a surrogate pair.
				output.push(value);
				counter--;
			}
		} else {
			output.push(value);
		}
	}
	return output;
}

/**
 * Creates a string based on an array of numeric code points.
 * @see `punycode.ucs2.decode`
 * @memberOf punycode.ucs2
 * @name encode
 * @param {Array} codePoints The array of numeric code points.
 * @returns {String} The new Unicode string (UCS-2).
 */
var ucs2encode = function ucs2encode(array) {
	return String.fromCodePoint.apply(String, toConsumableArray(array));
};

/**
 * Converts a basic code point into a digit/integer.
 * @see `digitToBasic()`
 * @private
 * @param {Number} codePoint The basic numeric code point value.
 * @returns {Number} The numeric value of a basic code point (for use in
 * representing integers) in the range `0` to `base - 1`, or `base` if
 * the code point does not represent a value.
 */
var basicToDigit = function basicToDigit(codePoint) {
	if (codePoint - 0x30 < 0x0A) {
		return codePoint - 0x16;
	}
	if (codePoint - 0x41 < 0x1A) {
		return codePoint - 0x41;
	}
	if (codePoint - 0x61 < 0x1A) {
		return codePoint - 0x61;
	}
	return base;
};

/**
 * Converts a digit/integer into a basic code point.
 * @see `basicToDigit()`
 * @private
 * @param {Number} digit The numeric value of a basic code point.
 * @returns {Number} The basic code point whose value (when used for
 * representing integers) is `digit`, which needs to be in the range
 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
 * used; else, the lowercase form is used. The behavior is undefined
 * if `flag` is non-zero and `digit` has no uppercase form.
 */
var digitToBasic = function digitToBasic(digit, flag) {
	//  0..25 map to ASCII a..z or A..Z
	// 26..35 map to ASCII 0..9
	return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
};

/**
 * Bias adaptation function as per section 3.4 of RFC 3492.
 * https://tools.ietf.org/html/rfc3492#section-3.4
 * @private
 */
var adapt = function adapt(delta, numPoints, firstTime) {
	var k = 0;
	delta = firstTime ? floor(delta / damp) : delta >> 1;
	delta += floor(delta / numPoints);
	for (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {
		delta = floor(delta / baseMinusTMin);
	}
	return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
};

/**
 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
 * symbols.
 * @memberOf punycode
 * @param {String} input The Punycode string of ASCII-only symbols.
 * @returns {String} The resulting string of Unicode symbols.
 */
var decode = function decode(input) {
	// Don't use UCS-2.
	var output = [];
	var inputLength = input.length;
	var i = 0;
	var n = initialN;
	var bias = initialBias;

	// Handle the basic code points: let `basic` be the number of input code
	// points before the last delimiter, or `0` if there is none, then copy
	// the first basic code points to the output.

	var basic = input.lastIndexOf(delimiter);
	if (basic < 0) {
		basic = 0;
	}

	for (var j = 0; j < basic; ++j) {
		// if it's not a basic code point
		if (input.charCodeAt(j) >= 0x80) {
			error$1('not-basic');
		}
		output.push(input.charCodeAt(j));
	}

	// Main decoding loop: start just after the last delimiter if any basic code
	// points were copied; start at the beginning otherwise.

	for (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{

		// `index` is the index of the next character to be consumed.
		// Decode a generalized variable-length integer into `delta`,
		// which gets added to `i`. The overflow checking is easier
		// if we increase `i` as we go, then subtract off its starting
		// value at the end to obtain `delta`.
		var oldi = i;
		for (var w = 1, k = base;; /* no condition */k += base) {

			if (index >= inputLength) {
				error$1('invalid-input');
			}

			var digit = basicToDigit(input.charCodeAt(index++));

			if (digit >= base || digit > floor((maxInt - i) / w)) {
				error$1('overflow');
			}

			i += digit * w;
			var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;

			if (digit < t) {
				break;
			}

			var baseMinusT = base - t;
			if (w > floor(maxInt / baseMinusT)) {
				error$1('overflow');
			}

			w *= baseMinusT;
		}

		var out = output.length + 1;
		bias = adapt(i - oldi, out, oldi == 0);

		// `i` was supposed to wrap around from `out` to `0`,
		// incrementing `n` each time, so we'll fix that now:
		if (floor(i / out) > maxInt - n) {
			error$1('overflow');
		}

		n += floor(i / out);
		i %= out;

		// Insert `n` at position `i` of the output.
		output.splice(i++, 0, n);
	}

	return String.fromCodePoint.apply(String, output);
};

/**
 * Converts a string of Unicode symbols (e.g. a domain name label) to a
 * Punycode string of ASCII-only symbols.
 * @memberOf punycode
 * @param {String} input The string of Unicode symbols.
 * @returns {String} The resulting Punycode string of ASCII-only symbols.
 */
var encode = function encode(input) {
	var output = [];

	// Convert the input in UCS-2 to an array of Unicode code points.
	input = ucs2decode(input);

	// Cache the length.
	var inputLength = input.length;

	// Initialize the state.
	var n = initialN;
	var delta = 0;
	var bias = initialBias;

	// Handle the basic code points.
	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var _currentValue2 = _step.value;

			if (_currentValue2 < 0x80) {
				output.push(stringFromCharCode(_currentValue2));
			}
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator.return) {
				_iterator.return();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}

	var basicLength = output.length;
	var handledCPCount = basicLength;

	// `handledCPCount` is the number of code points that have been handled;
	// `basicLength` is the number of basic code points.

	// Finish the basic string with a delimiter unless it's empty.
	if (basicLength) {
		output.push(delimiter);
	}

	// Main encoding loop:
	while (handledCPCount < inputLength) {

		// All non-basic code points < n have been handled already. Find the next
		// larger one:
		var m = maxInt;
		var _iteratorNormalCompletion2 = true;
		var _didIteratorError2 = false;
		var _iteratorError2 = undefined;

		try {
			for (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
				var currentValue = _step2.value;

				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow.
		} catch (err) {
			_didIteratorError2 = true;
			_iteratorError2 = err;
		} finally {
			try {
				if (!_iteratorNormalCompletion2 && _iterator2.return) {
					_iterator2.return();
				}
			} finally {
				if (_didIteratorError2) {
					throw _iteratorError2;
				}
			}
		}

		var handledCPCountPlusOne = handledCPCount + 1;
		if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
			error$1('overflow');
		}

		delta += (m - n) * handledCPCountPlusOne;
		n = m;

		var _iteratorNormalCompletion3 = true;
		var _didIteratorError3 = false;
		var _iteratorError3 = undefined;

		try {
			for (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
				var _currentValue = _step3.value;

				if (_currentValue < n && ++delta > maxInt) {
					error$1('overflow');
				}
				if (_currentValue == n) {
					// Represent delta as a generalized variable-length integer.
					var q = delta;
					for (var k = base;; /* no condition */k += base) {
						var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
						if (q < t) {
							break;
						}
						var qMinusT = q - t;
						var baseMinusT = base - t;
						output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}
		} catch (err) {
			_didIteratorError3 = true;
			_iteratorError3 = err;
		} finally {
			try {
				if (!_iteratorNormalCompletion3 && _iterator3.return) {
					_iterator3.return();
				}
			} finally {
				if (_didIteratorError3) {
					throw _iteratorError3;
				}
			}
		}

		++delta;
		++n;
	}
	return output.join('');
};

/**
 * Converts a Punycode string representing a domain name or an email address
 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
 * it doesn't matter if you call it on a string that has already been
 * converted to Unicode.
 * @memberOf punycode
 * @param {String} input The Punycoded domain name or email address to
 * convert to Unicode.
 * @returns {String} The Unicode representation of the given Punycode
 * string.
 */
var toUnicode = function toUnicode(input) {
	return mapDomain(input, function (string) {
		return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;
	});
};

/**
 * Converts a Unicode string representing a domain name or an email address to
 * Punycode. Only the non-ASCII parts of the domain name will be converted,
 * i.e. it doesn't matter if you call it with a domain that's already in
 * ASCII.
 * @memberOf punycode
 * @param {String} input The domain name or email address to convert, as a
 * Unicode string.
 * @returns {String} The Punycode representation of the given domain name or
 * email address.
 */
var toASCII = function toASCII(input) {
	return mapDomain(input, function (string) {
		return regexNonASCII.test(string) ? 'xn--' + encode(string) : string;
	});
};

/*--------------------------------------------------------------------------*/

/** Define the public API */
var punycode = {
	/**
  * A string representing the current Punycode.js version number.
  * @memberOf punycode
  * @type String
  */
	'version': '2.1.0',
	/**
  * An object of methods to convert from JavaScript's internal character
  * representation (UCS-2) to Unicode code points, and back.
  * @see <https://mathiasbynens.be/notes/javascript-encoding>
  * @memberOf punycode
  * @type Object
  */
	'ucs2': {
		'decode': ucs2decode,
		'encode': ucs2encode
	},
	'decode': decode,
	'encode': encode,
	'toASCII': toASCII,
	'toUnicode': toUnicode
};

/**
 * URI.js
 *
 * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/uri-js
 */
/**
 * Copyright 2011 Gary Court. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are
 * permitted provided that the following conditions are met:
 *
 *    1. Redistributions of source code must retain the above copyright notice, this list of
 *       conditions and the following disclaimer.
 *
 *    2. Redistributions in binary form must reproduce the above copyright notice, this list
 *       of conditions and the following disclaimer in the documentation and/or other materials
 *       provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * The views and conclusions contained in the software and documentation are those of the
 * authors and should not be interpreted as representing official policies, either expressed
 * or implied, of Gary Court.
 */
var SCHEMES = {};
function pctEncChar(chr) {
    var c = chr.charCodeAt(0);
    var e = void 0;
    if (c < 16) e = "%0" + c.toString(16).toUpperCase();else if (c < 128) e = "%" + c.toString(16).toUpperCase();else if (c < 2048) e = "%" + (c >> 6 | 192).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();else e = "%" + (c >> 12 | 224).toString(16).toUpperCase() + "%" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();
    return e;
}
function pctDecChars(str) {
    var newStr = "";
    var i = 0;
    var il = str.length;
    while (i < il) {
        var c = parseInt(str.substr(i + 1, 2), 16);
        if (c < 128) {
            newStr += String.fromCharCode(c);
            i += 3;
        } else if (c >= 194 && c < 224) {
            if (il - i >= 6) {
                var c2 = parseInt(str.substr(i + 4, 2), 16);
                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);
            } else {
                newStr += str.substr(i, 6);
            }
            i += 6;
        } else if (c >= 224) {
            if (il - i >= 9) {
                var _c = parseInt(str.substr(i + 4, 2), 16);
                var c3 = parseInt(str.substr(i + 7, 2), 16);
                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);
            } else {
                newStr += str.substr(i, 9);
            }
            i += 9;
        } else {
            newStr += str.substr(i, 3);
            i += 3;
        }
    }
    return newStr;
}
function _normalizeComponentEncoding(components, protocol) {
    function decodeUnreserved(str) {
        var decStr = pctDecChars(str);
        return !decStr.match(protocol.UNRESERVED) ? str : decStr;
    }
    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, "");
    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
    return components;
}

function _stripLeadingZeros(str) {
    return str.replace(/^0*(.*)/, "$1") || "0";
}
function _normalizeIPv4(host, protocol) {
    var matches = host.match(protocol.IPV4ADDRESS) || [];

    var _matches = slicedToArray(matches, 2),
        address = _matches[1];

    if (address) {
        return address.split(".").map(_stripLeadingZeros).join(".");
    } else {
        return host;
    }
}
function _normalizeIPv6(host, protocol) {
    var matches = host.match(protocol.IPV6ADDRESS) || [];

    var _matches2 = slicedToArray(matches, 3),
        address = _matches2[1],
        zone = _matches2[2];

    if (address) {
        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),
            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),
            last = _address$toLowerCase$2[0],
            first = _address$toLowerCase$2[1];

        var firstFields = first ? first.split(":").map(_stripLeadingZeros) : [];
        var lastFields = last.split(":").map(_stripLeadingZeros);
        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);
        var fieldCount = isLastFieldIPv4Address ? 7 : 8;
        var lastFieldsStart = lastFields.length - fieldCount;
        var fields = Array(fieldCount);
        for (var x = 0; x < fieldCount; ++x) {
            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';
        }
        if (isLastFieldIPv4Address) {
            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);
        }
        var allZeroFields = fields.reduce(function (acc, field, index) {
            if (!field || field === "0") {
                var lastLongest = acc[acc.length - 1];
                if (lastLongest && lastLongest.index + lastLongest.length === index) {
                    lastLongest.length++;
                } else {
                    acc.push({ index: index, length: 1 });
                }
            }
            return acc;
        }, []);
        var longestZeroFields = allZeroFields.sort(function (a, b) {
            return b.length - a.length;
        })[0];
        var newHost = void 0;
        if (longestZeroFields && longestZeroFields.length > 1) {
            var newFirst = fields.slice(0, longestZeroFields.index);
            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);
            newHost = newFirst.join(":") + "::" + newLast.join(":");
        } else {
            newHost = fields.join(":");
        }
        if (zone) {
            newHost += "%" + zone;
        }
        return newHost;
    } else {
        return host;
    }
}
var URI_PARSE = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;
var NO_MATCH_IS_UNDEFINED = "".match(/(){0}/)[1] === undefined;
function parse(uriString) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var components = {};
    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;
    if (options.reference === "suffix") uriString = (options.scheme ? options.scheme + ":" : "") + "//" + uriString;
    var matches = uriString.match(URI_PARSE);
    if (matches) {
        if (NO_MATCH_IS_UNDEFINED) {
            //store each component
            components.scheme = matches[1];
            components.userinfo = matches[3];
            components.host = matches[4];
            components.port = parseInt(matches[5], 10);
            components.path = matches[6] || "";
            components.query = matches[7];
            components.fragment = matches[8];
            //fix port number
            if (isNaN(components.port)) {
                components.port = matches[5];
            }
        } else {
            //IE FIX for improper RegExp matching
            //store each component
            components.scheme = matches[1] || undefined;
            components.userinfo = uriString.indexOf("@") !== -1 ? matches[3] : undefined;
            components.host = uriString.indexOf("//") !== -1 ? matches[4] : undefined;
            components.port = parseInt(matches[5], 10);
            components.path = matches[6] || "";
            components.query = uriString.indexOf("?") !== -1 ? matches[7] : undefined;
            components.fragment = uriString.indexOf("#") !== -1 ? matches[8] : undefined;
            //fix port number
            if (isNaN(components.port)) {
                components.port = uriString.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? matches[4] : undefined;
            }
        }
        if (components.host) {
            //normalize IP hosts
            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);
        }
        //determine reference type
        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {
            components.reference = "same-document";
        } else if (components.scheme === undefined) {
            components.reference = "relative";
        } else if (components.fragment === undefined) {
            components.reference = "absolute";
        } else {
            components.reference = "uri";
        }
        //check for reference errors
        if (options.reference && options.reference !== "suffix" && options.reference !== components.reference) {
            components.error = components.error || "URI is not a " + options.reference + " reference.";
        }
        //find scheme handler
        var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
        //check if scheme can't handle IRIs
        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {
            //if host component is a domain name
            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {
                //convert Unicode IDN -> ASCII IDN
                try {
                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());
                } catch (e) {
                    components.error = components.error || "Host's domain name can not be converted to ASCII via punycode: " + e;
                }
            }
            //convert IRI -> URI
            _normalizeComponentEncoding(components, URI_PROTOCOL);
        } else {
            //normalize encodings
            _normalizeComponentEncoding(components, protocol);
        }
        //perform scheme specific parsing
        if (schemeHandler && schemeHandler.parse) {
            schemeHandler.parse(components, options);
        }
    } else {
        components.error = components.error || "URI can not be parsed.";
    }
    return components;
}

function _recomposeAuthority(components, options) {
    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;
    var uriTokens = [];
    if (components.userinfo !== undefined) {
        uriTokens.push(components.userinfo);
        uriTokens.push("@");
    }
    if (components.host !== undefined) {
        //normalize IP hosts, add brackets and escape zone separator for IPv6
        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {
            return "[" + $1 + ($2 ? "%25" + $2 : "") + "]";
        }));
    }
    if (typeof components.port === "number") {
        uriTokens.push(":");
        uriTokens.push(components.port.toString(10));
    }
    return uriTokens.length ? uriTokens.join("") : undefined;
}

var RDS1 = /^\.\.?\//;
var RDS2 = /^\/\.(\/|$)/;
var RDS3 = /^\/\.\.(\/|$)/;
var RDS5 = /^\/?(?:.|\n)*?(?=\/|$)/;
function removeDotSegments(input) {
    var output = [];
    while (input.length) {
        if (input.match(RDS1)) {
            input = input.replace(RDS1, "");
        } else if (input.match(RDS2)) {
            input = input.replace(RDS2, "/");
        } else if (input.match(RDS3)) {
            input = input.replace(RDS3, "/");
            output.pop();
        } else if (input === "." || input === "..") {
            input = "";
        } else {
            var im = input.match(RDS5);
            if (im) {
                var s = im[0];
                input = input.slice(s.length);
                output.push(s);
            } else {
                throw new Error("Unexpected dot segment condition");
            }
        }
    }
    return output.join("");
}

function serialize(components) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;
    var uriTokens = [];
    //find scheme handler
    var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
    //perform scheme specific serialization
    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);
    if (components.host) {
        //if host component is an IPv6 address
        if (protocol.IPV6ADDRESS.test(components.host)) ;
        //TODO: normalize IPv6 address as per RFC 5952

        //if host component is a domain name
        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {
                //convert IDN via punycode
                try {
                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);
                } catch (e) {
                    components.error = components.error || "Host's domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;
                }
            }
    }
    //normalize encoding
    _normalizeComponentEncoding(components, protocol);
    if (options.reference !== "suffix" && components.scheme) {
        uriTokens.push(components.scheme);
        uriTokens.push(":");
    }
    var authority = _recomposeAuthority(components, options);
    if (authority !== undefined) {
        if (options.reference !== "suffix") {
            uriTokens.push("//");
        }
        uriTokens.push(authority);
        if (components.path && components.path.charAt(0) !== "/") {
            uriTokens.push("/");
        }
    }
    if (components.path !== undefined) {
        var s = components.path;
        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {
            s = removeDotSegments(s);
        }
        if (authority === undefined) {
            s = s.replace(/^\/\//, "/%2F"); //don't allow the path to start with "//"
        }
        uriTokens.push(s);
    }
    if (components.query !== undefined) {
        uriTokens.push("?");
        uriTokens.push(components.query);
    }
    if (components.fragment !== undefined) {
        uriTokens.push("#");
        uriTokens.push(components.fragment);
    }
    return uriTokens.join(""); //merge tokens into a string
}

function resolveComponents(base, relative) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    var skipNormalization = arguments[3];

    var target = {};
    if (!skipNormalization) {
        base = parse(serialize(base, options), options); //normalize base components
        relative = parse(serialize(relative, options), options); //normalize relative components
    }
    options = options || {};
    if (!options.tolerant && relative.scheme) {
        target.scheme = relative.scheme;
        //target.authority = relative.authority;
        target.userinfo = relative.userinfo;
        target.host = relative.host;
        target.port = relative.port;
        target.path = removeDotSegments(relative.path || "");
        target.query = relative.query;
    } else {
        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {
            //target.authority = relative.authority;
            target.userinfo = relative.userinfo;
            target.host = relative.host;
            target.port = relative.port;
            target.path = removeDotSegments(relative.path || "");
            target.query = relative.query;
        } else {
            if (!relative.path) {
                target.path = base.path;
                if (relative.query !== undefined) {
                    target.query = relative.query;
                } else {
                    target.query = base.query;
                }
            } else {
                if (relative.path.charAt(0) === "/") {
                    target.path = removeDotSegments(relative.path);
                } else {
                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {
                        target.path = "/" + relative.path;
                    } else if (!base.path) {
                        target.path = relative.path;
                    } else {
                        target.path = base.path.slice(0, base.path.lastIndexOf("/") + 1) + relative.path;
                    }
                    target.path = removeDotSegments(target.path);
                }
                target.query = relative.query;
            }
            //target.authority = base.authority;
            target.userinfo = base.userinfo;
            target.host = base.host;
            target.port = base.port;
        }
        target.scheme = base.scheme;
    }
    target.fragment = relative.fragment;
    return target;
}

function resolve(baseURI, relativeURI, options) {
    var schemelessOptions = assign({ scheme: 'null' }, options);
    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);
}

function normalize(uri, options) {
    if (typeof uri === "string") {
        uri = serialize(parse(uri, options), options);
    } else if (typeOf(uri) === "object") {
        uri = parse(serialize(uri, options), options);
    }
    return uri;
}

function equal(uriA, uriB, options) {
    if (typeof uriA === "string") {
        uriA = serialize(parse(uriA, options), options);
    } else if (typeOf(uriA) === "object") {
        uriA = serialize(uriA, options);
    }
    if (typeof uriB === "string") {
        uriB = serialize(parse(uriB, options), options);
    } else if (typeOf(uriB) === "object") {
        uriB = serialize(uriB, options);
    }
    return uriA === uriB;
}

function escapeComponent(str, options) {
    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);
}

function unescapeComponent(str, options) {
    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);
}

var handler = {
    scheme: "http",
    domainHost: true,
    parse: function parse(components, options) {
        //report missing host
        if (!components.host) {
            components.error = components.error || "HTTP URIs must have a host.";
        }
        return components;
    },
    serialize: function serialize(components, options) {
        //normalize the default port
        if (components.port === (String(components.scheme).toLowerCase() !== "https" ? 80 : 443) || components.port === "") {
            components.port = undefined;
        }
        //normalize the empty path
        if (!components.path) {
            components.path = "/";
        }
        //NOTE: We do not parse query strings for HTTP URIs
        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,
        //and not the HTTP spec.
        return components;
    }
};

var handler$1 = {
    scheme: "https",
    domainHost: handler.domainHost,
    parse: handler.parse,
    serialize: handler.serialize
};

var O = {};
//RFC 3986
var UNRESERVED$$ = "[A-Za-z0-9\\-\\.\\_\\~" + ( "\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF" ) + "]";
var HEXDIG$$ = "[0-9A-Fa-f]"; //case-insensitive
var PCT_ENCODED$ = subexp(subexp("%[EFef]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%" + HEXDIG$$ + HEXDIG$$)); //expanded
//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =
//const ATEXT$$ = "[A-Za-z0-9\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~]";
//const WSP$$ = "[\\x20\\x09]";
//const OBS_QTEXT$$ = "[\\x01-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F]";  //(%d1-8 / %d11-12 / %d14-31 / %d127)
//const QTEXT$$ = merge("[\\x21\\x23-\\x5B\\x5D-\\x7E]", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext
//const VCHAR$$ = "[\\x21-\\x7E]";
//const WSP$$ = "[\\x20\\x09]";
//const OBS_QP$ = subexp("\\\\" + merge("[\\x00\\x0D\\x0A]", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext
//const FWS$ = subexp(subexp(WSP$$ + "*" + "\\x0D\\x0A") + "?" + WSP$$ + "+");
//const QUOTED_PAIR$ = subexp(subexp("\\\\" + subexp(VCHAR$$ + "|" + WSP$$)) + "|" + OBS_QP$);
//const QUOTED_STRING$ = subexp('\\"' + subexp(FWS$ + "?" + QCONTENT$) + "*" + FWS$ + "?" + '\\"');
var ATEXT$$ = "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";
var QTEXT$$ = "[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";
var VCHAR$$ = merge(QTEXT$$, "[\\\"\\\\]");
var SOME_DELIMS$$ = "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";
var UNRESERVED = new RegExp(UNRESERVED$$, "g");
var PCT_ENCODED = new RegExp(PCT_ENCODED$, "g");
var NOT_LOCAL_PART = new RegExp(merge("[^]", ATEXT$$, "[\\.]", '[\\"]', VCHAR$$), "g");
var NOT_HFNAME = new RegExp(merge("[^]", UNRESERVED$$, SOME_DELIMS$$), "g");
var NOT_HFVALUE = NOT_HFNAME;
function decodeUnreserved(str) {
    var decStr = pctDecChars(str);
    return !decStr.match(UNRESERVED) ? str : decStr;
}
var handler$2 = {
    scheme: "mailto",
    parse: function parse$$1(components, options) {
        var mailtoComponents = components;
        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(",") : [];
        mailtoComponents.path = undefined;
        if (mailtoComponents.query) {
            var unknownHeaders = false;
            var headers = {};
            var hfields = mailtoComponents.query.split("&");
            for (var x = 0, xl = hfields.length; x < xl; ++x) {
                var hfield = hfields[x].split("=");
                switch (hfield[0]) {
                    case "to":
                        var toAddrs = hfield[1].split(",");
                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {
                            to.push(toAddrs[_x]);
                        }
                        break;
                    case "subject":
                        mailtoComponents.subject = unescapeComponent(hfield[1], options);
                        break;
                    case "body":
                        mailtoComponents.body = unescapeComponent(hfield[1], options);
                        break;
                    default:
                        unknownHeaders = true;
                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);
                        break;
                }
            }
            if (unknownHeaders) mailtoComponents.headers = headers;
        }
        mailtoComponents.query = undefined;
        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {
            var addr = to[_x2].split("@");
            addr[0] = unescapeComponent(addr[0]);
            if (!options.unicodeSupport) {
                //convert Unicode IDN -> ASCII IDN
                try {
                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());
                } catch (e) {
                    mailtoComponents.error = mailtoComponents.error || "Email address's domain name can not be converted to ASCII via punycode: " + e;
                }
            } else {
                addr[1] = unescapeComponent(addr[1], options).toLowerCase();
            }
            to[_x2] = addr.join("@");
        }
        return mailtoComponents;
    },
    serialize: function serialize$$1(mailtoComponents, options) {
        var components = mailtoComponents;
        var to = toArray(mailtoComponents.to);
        if (to) {
            for (var x = 0, xl = to.length; x < xl; ++x) {
                var toAddr = String(to[x]);
                var atIdx = toAddr.lastIndexOf("@");
                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);
                var domain = toAddr.slice(atIdx + 1);
                //convert IDN via punycode
                try {
                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);
                } catch (e) {
                    components.error = components.error || "Email address's domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;
                }
                to[x] = localPart + "@" + domain;
            }
            components.path = to.join(",");
        }
        var headers = mailtoComponents.headers = mailtoComponents.headers || {};
        if (mailtoComponents.subject) headers["subject"] = mailtoComponents.subject;
        if (mailtoComponents.body) headers["body"] = mailtoComponents.body;
        var fields = [];
        for (var name in headers) {
            if (headers[name] !== O[name]) {
                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + "=" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));
            }
        }
        if (fields.length) {
            components.query = fields.join("&");
        }
        return components;
    }
};

var URN_PARSE = /^([^\:]+)\:(.*)/;
//RFC 2141
var handler$3 = {
    scheme: "urn",
    parse: function parse$$1(components, options) {
        var matches = components.path && components.path.match(URN_PARSE);
        var urnComponents = components;
        if (matches) {
            var scheme = options.scheme || urnComponents.scheme || "urn";
            var nid = matches[1].toLowerCase();
            var nss = matches[2];
            var urnScheme = scheme + ":" + (options.nid || nid);
            var schemeHandler = SCHEMES[urnScheme];
            urnComponents.nid = nid;
            urnComponents.nss = nss;
            urnComponents.path = undefined;
            if (schemeHandler) {
                urnComponents = schemeHandler.parse(urnComponents, options);
            }
        } else {
            urnComponents.error = urnComponents.error || "URN can not be parsed.";
        }
        return urnComponents;
    },
    serialize: function serialize$$1(urnComponents, options) {
        var scheme = options.scheme || urnComponents.scheme || "urn";
        var nid = urnComponents.nid;
        var urnScheme = scheme + ":" + (options.nid || nid);
        var schemeHandler = SCHEMES[urnScheme];
        if (schemeHandler) {
            urnComponents = schemeHandler.serialize(urnComponents, options);
        }
        var uriComponents = urnComponents;
        var nss = urnComponents.nss;
        uriComponents.path = (nid || options.nid) + ":" + nss;
        return uriComponents;
    }
};

var UUID = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;
//RFC 4122
var handler$4 = {
    scheme: "urn:uuid",
    parse: function parse(urnComponents, options) {
        var uuidComponents = urnComponents;
        uuidComponents.uuid = uuidComponents.nss;
        uuidComponents.nss = undefined;
        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {
            uuidComponents.error = uuidComponents.error || "UUID is not valid.";
        }
        return uuidComponents;
    },
    serialize: function serialize(uuidComponents, options) {
        var urnComponents = uuidComponents;
        //normalize UUID
        urnComponents.nss = (uuidComponents.uuid || "").toLowerCase();
        return urnComponents;
    }
};

SCHEMES[handler.scheme] = handler;
SCHEMES[handler$1.scheme] = handler$1;
SCHEMES[handler$2.scheme] = handler$2;
SCHEMES[handler$3.scheme] = handler$3;
SCHEMES[handler$4.scheme] = handler$4;

exports.SCHEMES = SCHEMES;
exports.pctEncChar = pctEncChar;
exports.pctDecChars = pctDecChars;
exports.parse = parse;
exports.removeDotSegments = removeDotSegments;
exports.serialize = serialize;
exports.resolveComponents = resolveComponents;
exports.resolve = resolve;
exports.normalize = normalize;
exports.equal = equal;
exports.escapeComponent = escapeComponent;
exports.unescapeComponent = unescapeComponent;

Object.defineProperty(exports, '__esModule', { value: true });

})));

});

unwrapExports(uri_all);

// do not edit .js files directly - edit src/index.jst



var fastDeepEqual = function equal(a, b) {
  if (a === b) return true;

  if (a && b && typeof a == 'object' && typeof b == 'object') {
    if (a.constructor !== b.constructor) return false;

    var length, i, keys;
    if (Array.isArray(a)) {
      length = a.length;
      if (length != b.length) return false;
      for (i = length; i-- !== 0;)
        if (!equal(a[i], b[i])) return false;
      return true;
    }



    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;
    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();
    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();

    keys = Object.keys(a);
    length = keys.length;
    if (length !== Object.keys(b).length) return false;

    for (i = length; i-- !== 0;)
      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;

    for (i = length; i-- !== 0;) {
      var key = keys[i];

      if (!equal(a[key], b[key])) return false;
    }

    return true;
  }

  // true if both NaN, false otherwise
  return a!==a && b!==b;
};

// https://mathiasbynens.be/notes/javascript-encoding
// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode
var ucs2length = function ucs2length(str) {
  var length = 0
    , len = str.length
    , pos = 0
    , value;
  while (pos < len) {
    length++;
    value = str.charCodeAt(pos++);
    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {
      // high surrogate, and there is a next character
      value = str.charCodeAt(pos);
      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate
    }
  }
  return length;
};

var util = {
  copy: copy$1,
  checkDataType: checkDataType,
  checkDataTypes: checkDataTypes,
  coerceToTypes: coerceToTypes,
  toHash: toHash,
  getProperty: getProperty,
  escapeQuotes: escapeQuotes,
  equal: fastDeepEqual,
  ucs2length: ucs2length,
  varOccurences: varOccurences,
  varReplace: varReplace,
  cleanUpCode: cleanUpCode,
  finalCleanUpCode: finalCleanUpCode,
  schemaHasRules: schemaHasRules,
  schemaHasRulesExcept: schemaHasRulesExcept,
  schemaUnknownRules: schemaUnknownRules,
  toQuotedString: toQuotedString,
  getPathExpr: getPathExpr,
  getPath: getPath,
  getData: getData,
  unescapeFragment: unescapeFragment,
  unescapeJsonPointer: unescapeJsonPointer,
  escapeFragment: escapeFragment,
  escapeJsonPointer: escapeJsonPointer
};


function copy$1(o, to) {
  to = to || {};
  for (var key in o) to[key] = o[key];
  return to;
}


function checkDataType(dataType, data, negate) {
  var EQUAL = negate ? ' !== ' : ' === '
    , AND = negate ? ' || ' : ' && '
    , OK = negate ? '!' : ''
    , NOT = negate ? '' : '!';
  switch (dataType) {
    case 'null': return data + EQUAL + 'null';
    case 'array': return OK + 'Array.isArray(' + data + ')';
    case 'object': return '(' + OK + data + AND +
                          'typeof ' + data + EQUAL + '"object"' + AND +
                          NOT + 'Array.isArray(' + data + '))';
    case 'integer': return '(typeof ' + data + EQUAL + '"number"' + AND +
                           NOT + '(' + data + ' % 1)' +
                           AND + data + EQUAL + data + ')';
    default: return 'typeof ' + data + EQUAL + '"' + dataType + '"';
  }
}


function checkDataTypes(dataTypes, data) {
  switch (dataTypes.length) {
    case 1: return checkDataType(dataTypes[0], data, true);
    default:
      var code = '';
      var types = toHash(dataTypes);
      if (types.array && types.object) {
        code = types.null ? '(': '(!' + data + ' || ';
        code += 'typeof ' + data + ' !== "object")';
        delete types.null;
        delete types.array;
        delete types.object;
      }
      if (types.number) delete types.integer;
      for (var t in types)
        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);

      return code;
  }
}


var COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);
function coerceToTypes(optionCoerceTypes, dataTypes) {
  if (Array.isArray(dataTypes)) {
    var types = [];
    for (var i=0; i<dataTypes.length; i++) {
      var t = dataTypes[i];
      if (COERCE_TO_TYPES[t]) types[types.length] = t;
      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;
    }
    if (types.length) return types;
  } else if (COERCE_TO_TYPES[dataTypes]) {
    return [dataTypes];
  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {
    return ['array'];
  }
}


function toHash(arr) {
  var hash = {};
  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;
  return hash;
}


var IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;
var SINGLE_QUOTE = /'|\\/g;
function getProperty(key) {
  return typeof key == 'number'
          ? '[' + key + ']'
          : IDENTIFIER.test(key)
            ? '.' + key
            : "['" + escapeQuotes(key) + "']";
}


function escapeQuotes(str) {
  return str.replace(SINGLE_QUOTE, '\\$&')
            .replace(/\n/g, '\\n')
            .replace(/\r/g, '\\r')
            .replace(/\f/g, '\\f')
            .replace(/\t/g, '\\t');
}


function varOccurences(str, dataVar) {
  dataVar += '[^0-9]';
  var matches = str.match(new RegExp(dataVar, 'g'));
  return matches ? matches.length : 0;
}


function varReplace(str, dataVar, expr) {
  dataVar += '([^0-9])';
  expr = expr.replace(/\$/g, '$$$$');
  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');
}


var EMPTY_ELSE = /else\s*{\s*}/g
  , EMPTY_IF_NO_ELSE = /if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g
  , EMPTY_IF_WITH_ELSE = /if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;
function cleanUpCode(out) {
  return out.replace(EMPTY_ELSE, '')
            .replace(EMPTY_IF_NO_ELSE, '')
            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');
}


var ERRORS_REGEXP = /[^v.]errors/g
  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g
  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g
  , RETURN_VALID = 'return errors === 0;'
  , RETURN_TRUE = 'validate.errors = null; return true;'
  , RETURN_ASYNC = /if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/
  , RETURN_DATA_ASYNC = 'return data;'
  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g
  , REMOVE_ROOTDATA = /if \(rootData === undefined\) rootData = data;/;

function finalCleanUpCode(out, async) {
  var matches = out.match(ERRORS_REGEXP);
  if (matches && matches.length == 2) {
    out = async
          ? out.replace(REMOVE_ERRORS_ASYNC, '')
               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)
          : out.replace(REMOVE_ERRORS, '')
               .replace(RETURN_VALID, RETURN_TRUE);
  }

  matches = out.match(ROOTDATA_REGEXP);
  if (!matches || matches.length !== 3) return out;
  return out.replace(REMOVE_ROOTDATA, '');
}


function schemaHasRules(schema, rules) {
  if (typeof schema == 'boolean') return !schema;
  for (var key in schema) if (rules[key]) return true;
}


function schemaHasRulesExcept(schema, rules, exceptKeyword) {
  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';
  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;
}


function schemaUnknownRules(schema, rules) {
  if (typeof schema == 'boolean') return;
  for (var key in schema) if (!rules[key]) return key;
}


function toQuotedString(str) {
  return '\'' + escapeQuotes(str) + '\'';
}


function getPathExpr(currentPath, expr, jsonPointers, isNumber) {
  var path = jsonPointers // false by default
              ? '\'/\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \'~0\').replace(/\\//g, \'~1\')')
              : (isNumber ? '\'[\' + ' + expr + ' + \']\'' : '\'[\\\'\' + ' + expr + ' + \'\\\']\'');
  return joinPaths(currentPath, path);
}


function getPath(currentPath, prop, jsonPointers) {
  var path = jsonPointers // false by default
              ? toQuotedString('/' + escapeJsonPointer(prop))
              : toQuotedString(getProperty(prop));
  return joinPaths(currentPath, path);
}


var JSON_POINTER = /^\/(?:[^~]|~0|~1)*$/;
var RELATIVE_JSON_POINTER = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
function getData($data, lvl, paths) {
  var up, jsonPointer, data, matches;
  if ($data === '') return 'rootData';
  if ($data[0] == '/') {
    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);
    jsonPointer = $data;
    data = 'rootData';
  } else {
    matches = $data.match(RELATIVE_JSON_POINTER);
    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);
    up = +matches[1];
    jsonPointer = matches[2];
    if (jsonPointer == '#') {
      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);
      return paths[lvl - up];
    }

    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);
    data = 'data' + ((lvl - up) || '');
    if (!jsonPointer) return data;
  }

  var expr = data;
  var segments = jsonPointer.split('/');
  for (var i=0; i<segments.length; i++) {
    var segment = segments[i];
    if (segment) {
      data += getProperty(unescapeJsonPointer(segment));
      expr += ' && ' + data;
    }
  }
  return expr;
}


function joinPaths (a, b) {
  if (a == '""') return b;
  return (a + ' + ' + b).replace(/' \+ '/g, '');
}


function unescapeFragment(str) {
  return unescapeJsonPointer(decodeURIComponent(str));
}


function escapeFragment(str) {
  return encodeURIComponent(escapeJsonPointer(str));
}


function escapeJsonPointer(str) {
  return str.replace(/~/g, '~0').replace(/\//g, '~1');
}


function unescapeJsonPointer(str) {
  return str.replace(/~1/g, '/').replace(/~0/g, '~');
}

var schema_obj = SchemaObject;

function SchemaObject(obj) {
  util.copy(obj, this);
}

var jsonSchemaTraverse = createCommonjsModule(function (module) {

var traverse = module.exports = function (schema, opts, cb) {
  // Legacy support for v0.3.1 and earlier.
  if (typeof opts == 'function') {
    cb = opts;
    opts = {};
  }

  cb = opts.cb || cb;
  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};
  var post = cb.post || function() {};

  _traverse(opts, pre, post, schema, '', schema);
};


traverse.keywords = {
  additionalItems: true,
  items: true,
  contains: true,
  additionalProperties: true,
  propertyNames: true,
  not: true
};

traverse.arrayKeywords = {
  items: true,
  allOf: true,
  anyOf: true,
  oneOf: true
};

traverse.propsKeywords = {
  definitions: true,
  properties: true,
  patternProperties: true,
  dependencies: true
};

traverse.skipKeywords = {
  default: true,
  enum: true,
  const: true,
  required: true,
  maximum: true,
  minimum: true,
  exclusiveMaximum: true,
  exclusiveMinimum: true,
  multipleOf: true,
  maxLength: true,
  minLength: true,
  pattern: true,
  format: true,
  maxItems: true,
  minItems: true,
  uniqueItems: true,
  maxProperties: true,
  minProperties: true
};


function _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {
  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {
    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
    for (var key in schema) {
      var sch = schema[key];
      if (Array.isArray(sch)) {
        if (key in traverse.arrayKeywords) {
          for (var i=0; i<sch.length; i++)
            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);
        }
      } else if (key in traverse.propsKeywords) {
        if (sch && typeof sch == 'object') {
          for (var prop in sch)
            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);
        }
      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {
        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);
      }
    }
    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
  }
}


function escapeJsonPtr(str) {
  return str.replace(/~/g, '~0').replace(/\//g, '~1');
}
});

var resolve_1 = resolve;

resolve.normalizeId = normalizeId;
resolve.fullPath = getFullPath;
resolve.url = resolveUrl;
resolve.ids = resolveIds;
resolve.inlineRef = inlineRef;
resolve.schema = resolveSchema;

/**
 * [resolve and compile the references ($ref)]
 * @this   Ajv
 * @param  {Function} compile reference to schema compilation funciton (localCompile)
 * @param  {Object} root object with information about the root schema for the current schema
 * @param  {String} ref reference to resolve
 * @return {Object|Function} schema object (if the schema can be inlined) or validation function
 */
function resolve(compile, root, ref) {
  /* jshint validthis: true */
  var refVal = this._refs[ref];
  if (typeof refVal == 'string') {
    if (this._refs[refVal]) refVal = this._refs[refVal];
    else return resolve.call(this, compile, root, refVal);
  }

  refVal = refVal || this._schemas[ref];
  if (refVal instanceof schema_obj) {
    return inlineRef(refVal.schema, this._opts.inlineRefs)
            ? refVal.schema
            : refVal.validate || this._compile(refVal);
  }

  var res = resolveSchema.call(this, root, ref);
  var schema, v, baseId;
  if (res) {
    schema = res.schema;
    root = res.root;
    baseId = res.baseId;
  }

  if (schema instanceof schema_obj) {
    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);
  } else if (schema !== undefined) {
    v = inlineRef(schema, this._opts.inlineRefs)
        ? schema
        : compile.call(this, schema, root, undefined, baseId);
  }

  return v;
}


/**
 * Resolve schema, its root and baseId
 * @this Ajv
 * @param  {Object} root root object with properties schema, refVal, refs
 * @param  {String} ref  reference to resolve
 * @return {Object} object with properties schema, root, baseId
 */
function resolveSchema(root, ref) {
  /* jshint validthis: true */
  var p = uri_all.parse(ref)
    , refPath = _getFullPath(p)
    , baseId = getFullPath(this._getId(root.schema));
  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {
    var id = normalizeId(refPath);
    var refVal = this._refs[id];
    if (typeof refVal == 'string') {
      return resolveRecursive.call(this, root, refVal, p);
    } else if (refVal instanceof schema_obj) {
      if (!refVal.validate) this._compile(refVal);
      root = refVal;
    } else {
      refVal = this._schemas[id];
      if (refVal instanceof schema_obj) {
        if (!refVal.validate) this._compile(refVal);
        if (id == normalizeId(ref))
          return { schema: refVal, root: root, baseId: baseId };
        root = refVal;
      } else {
        return;
      }
    }
    if (!root.schema) return;
    baseId = getFullPath(this._getId(root.schema));
  }
  return getJsonPointer.call(this, p, baseId, root.schema, root);
}


/* @this Ajv */
function resolveRecursive(root, ref, parsedRef) {
  /* jshint validthis: true */
  var res = resolveSchema.call(this, root, ref);
  if (res) {
    var schema = res.schema;
    var baseId = res.baseId;
    root = res.root;
    var id = this._getId(schema);
    if (id) baseId = resolveUrl(baseId, id);
    return getJsonPointer.call(this, parsedRef, baseId, schema, root);
  }
}


var PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);
/* @this Ajv */
function getJsonPointer(parsedRef, baseId, schema, root) {
  /* jshint validthis: true */
  parsedRef.fragment = parsedRef.fragment || '';
  if (parsedRef.fragment.slice(0,1) != '/') return;
  var parts = parsedRef.fragment.split('/');

  for (var i = 1; i < parts.length; i++) {
    var part = parts[i];
    if (part) {
      part = util.unescapeFragment(part);
      schema = schema[part];
      if (schema === undefined) break;
      var id;
      if (!PREVENT_SCOPE_CHANGE[part]) {
        id = this._getId(schema);
        if (id) baseId = resolveUrl(baseId, id);
        if (schema.$ref) {
          var $ref = resolveUrl(baseId, schema.$ref);
          var res = resolveSchema.call(this, root, $ref);
          if (res) {
            schema = res.schema;
            root = res.root;
            baseId = res.baseId;
          }
        }
      }
    }
  }
  if (schema !== undefined && schema !== root.schema)
    return { schema: schema, root: root, baseId: baseId };
}


var SIMPLE_INLINED = util.toHash([
  'type', 'format', 'pattern',
  'maxLength', 'minLength',
  'maxProperties', 'minProperties',
  'maxItems', 'minItems',
  'maximum', 'minimum',
  'uniqueItems', 'multipleOf',
  'required', 'enum'
]);
function inlineRef(schema, limit) {
  if (limit === false) return false;
  if (limit === undefined || limit === true) return checkNoRef(schema);
  else if (limit) return countKeys(schema) <= limit;
}


function checkNoRef(schema) {
  var item;
  if (Array.isArray(schema)) {
    for (var i=0; i<schema.length; i++) {
      item = schema[i];
      if (typeof item == 'object' && !checkNoRef(item)) return false;
    }
  } else {
    for (var key in schema) {
      if (key == '$ref') return false;
      item = schema[key];
      if (typeof item == 'object' && !checkNoRef(item)) return false;
    }
  }
  return true;
}


function countKeys(schema) {
  var count = 0, item;
  if (Array.isArray(schema)) {
    for (var i=0; i<schema.length; i++) {
      item = schema[i];
      if (typeof item == 'object') count += countKeys(item);
      if (count == Infinity) return Infinity;
    }
  } else {
    for (var key in schema) {
      if (key == '$ref') return Infinity;
      if (SIMPLE_INLINED[key]) {
        count++;
      } else {
        item = schema[key];
        if (typeof item == 'object') count += countKeys(item) + 1;
        if (count == Infinity) return Infinity;
      }
    }
  }
  return count;
}


function getFullPath(id, normalize) {
  if (normalize !== false) id = normalizeId(id);
  var p = uri_all.parse(id);
  return _getFullPath(p);
}


function _getFullPath(p) {
  return uri_all.serialize(p).split('#')[0] + '#';
}


var TRAILING_SLASH_HASH = /#\/?$/;
function normalizeId(id) {
  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';
}


function resolveUrl(baseId, id) {
  id = normalizeId(id);
  return uri_all.resolve(baseId, id);
}


/* @this Ajv */
function resolveIds(schema) {
  var schemaId = normalizeId(this._getId(schema));
  var baseIds = {'': schemaId};
  var fullPaths = {'': getFullPath(schemaId, false)};
  var localRefs = {};
  var self = this;

  jsonSchemaTraverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {
    if (jsonPtr === '') return;
    var id = self._getId(sch);
    var baseId = baseIds[parentJsonPtr];
    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;
    if (keyIndex !== undefined)
      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));

    if (typeof id == 'string') {
      id = baseId = normalizeId(baseId ? uri_all.resolve(baseId, id) : id);

      var refVal = self._refs[id];
      if (typeof refVal == 'string') refVal = self._refs[refVal];
      if (refVal && refVal.schema) {
        if (!fastDeepEqual(sch, refVal.schema))
          throw new Error('id "' + id + '" resolves to more than one schema');
      } else if (id != normalizeId(fullPath)) {
        if (id[0] == '#') {
          if (localRefs[id] && !fastDeepEqual(sch, localRefs[id]))
            throw new Error('id "' + id + '" resolves to more than one schema');
          localRefs[id] = sch;
        } else {
          self._refs[id] = fullPath;
        }
      }
    }
    baseIds[jsonPtr] = baseId;
    fullPaths[jsonPtr] = fullPath;
  });

  return localRefs;
}

var error_classes = {
  Validation: errorSubclass(ValidationError),
  MissingRef: errorSubclass(MissingRefError)
};


function ValidationError(errors) {
  this.message = 'validation failed';
  this.errors = errors;
  this.ajv = this.validation = true;
}


MissingRefError.message = function (baseId, ref) {
  return 'can\'t resolve reference ' + ref + ' from id ' + baseId;
};


function MissingRefError(baseId, ref, message) {
  this.message = message || MissingRefError.message(baseId, ref);
  this.missingRef = resolve_1.url(baseId, ref);
  this.missingSchema = resolve_1.normalizeId(resolve_1.fullPath(this.missingRef));
}


function errorSubclass(Subclass) {
  Subclass.prototype = Object.create(Error.prototype);
  Subclass.prototype.constructor = Subclass;
  return Subclass;
}

var fastJsonStableStringify = function (data, opts) {
    if (!opts) opts = {};
    if (typeof opts === 'function') opts = { cmp: opts };
    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;

    var cmp = opts.cmp && (function (f) {
        return function (node) {
            return function (a, b) {
                var aobj = { key: a, value: node[a] };
                var bobj = { key: b, value: node[b] };
                return f(aobj, bobj);
            };
        };
    })(opts.cmp);

    var seen = [];
    return (function stringify (node) {
        if (node && node.toJSON && typeof node.toJSON === 'function') {
            node = node.toJSON();
        }

        if (node === undefined) return;
        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';
        if (typeof node !== 'object') return JSON.stringify(node);

        var i, out;
        if (Array.isArray(node)) {
            out = '[';
            for (i = 0; i < node.length; i++) {
                if (i) out += ',';
                out += stringify(node[i]) || 'null';
            }
            return out + ']';
        }

        if (node === null) return 'null';

        if (seen.indexOf(node) !== -1) {
            if (cycles) return JSON.stringify('__cycle__');
            throw new TypeError('Converting circular structure to JSON');
        }

        var seenIndex = seen.push(node) - 1;
        var keys = Object.keys(node).sort(cmp && cmp(node));
        out = '';
        for (i = 0; i < keys.length; i++) {
            var key = keys[i];
            var value = stringify(node[key]);

            if (!value) continue;
            if (out) out += ',';
            out += JSON.stringify(key) + ':' + value;
        }
        seen.splice(seenIndex, 1);
        return '{' + out + '}';
    })(data);
};

var validate = function generate_validate(it, $keyword, $ruleType) {
  var out = '';
  var $async = it.schema.$async === true,
    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),
    $id = it.self._getId(it.schema);
  if (it.opts.strictKeywords) {
    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);
    if ($unknownKwd) {
      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;
      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);
      else throw new Error($keywordsMsg);
    }
  }
  if (it.isTop) {
    out += ' var validate = ';
    if ($async) {
      it.async = true;
      out += 'async ';
    }
    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \'use strict\'; ';
    if ($id && (it.opts.sourceCode || it.opts.processCode)) {
      out += ' ' + ('/\*# sourceURL=' + $id + ' */') + ' ';
    }
  }
  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {
    var $keyword = 'false schema';
    var $lvl = it.level;
    var $dataLvl = it.dataLevel;
    var $schema = it.schema[$keyword];
    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
    var $breakOnError = !it.opts.allErrors;
    var $errorKeyword;
    var $data = 'data' + ($dataLvl || '');
    var $valid = 'valid' + $lvl;
    if (it.schema === false) {
      if (it.isTop) {
        $breakOnError = true;
      } else {
        out += ' var ' + ($valid) + ' = false; ';
      }
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = ''; /* istanbul ignore else */
      if (it.createErrors !== false) {
        out += ' { keyword: \'' + ($errorKeyword || 'false schema') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';
        if (it.opts.messages !== false) {
          out += ' , message: \'boolean schema is false\' ';
        }
        if (it.opts.verbose) {
          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
        }
        out += ' } ';
      } else {
        out += ' {} ';
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        /* istanbul ignore if */
        if (it.async) {
          out += ' throw new ValidationError([' + (__err) + ']); ';
        } else {
          out += ' validate.errors = [' + (__err) + ']; return false; ';
        }
      } else {
        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
      }
    } else {
      if (it.isTop) {
        if ($async) {
          out += ' return data; ';
        } else {
          out += ' validate.errors = null; return true; ';
        }
      } else {
        out += ' var ' + ($valid) + ' = true; ';
      }
    }
    if (it.isTop) {
      out += ' }; return validate; ';
    }
    return out;
  }
  if (it.isTop) {
    var $top = it.isTop,
      $lvl = it.level = 0,
      $dataLvl = it.dataLevel = 0,
      $data = 'data';
    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));
    it.baseId = it.baseId || it.rootId;
    delete it.isTop;
    it.dataPathArr = [undefined];
    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {
      var $defaultMsg = 'default is ignored in the schema root';
      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);
      else throw new Error($defaultMsg);
    }
    out += ' var vErrors = null; ';
    out += ' var errors = 0;     ';
    out += ' if (rootData === undefined) rootData = data; ';
  } else {
    var $lvl = it.level,
      $dataLvl = it.dataLevel,
      $data = 'data' + ($dataLvl || '');
    if ($id) it.baseId = it.resolve.url(it.baseId, $id);
    if ($async && !it.async) throw new Error('async schema in sync schema');
    out += ' var errs_' + ($lvl) + ' = errors;';
  }
  var $valid = 'valid' + $lvl,
    $breakOnError = !it.opts.allErrors,
    $closingBraces1 = '',
    $closingBraces2 = '';
  var $errorKeyword;
  var $typeSchema = it.schema.type,
    $typeIsArray = Array.isArray($typeSchema);
  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {
    if ($typeIsArray) {
      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');
    } else if ($typeSchema != 'null') {
      $typeSchema = [$typeSchema, 'null'];
      $typeIsArray = true;
    }
  }
  if ($typeIsArray && $typeSchema.length == 1) {
    $typeSchema = $typeSchema[0];
    $typeIsArray = false;
  }
  if (it.schema.$ref && $refKeywords) {
    if (it.opts.extendRefs == 'fail') {
      throw new Error('$ref: validation keywords used in schema at path "' + it.errSchemaPath + '" (see option extendRefs)');
    } else if (it.opts.extendRefs !== true) {
      $refKeywords = false;
      it.logger.warn('$ref: keywords ignored in schema at path "' + it.errSchemaPath + '"');
    }
  }
  if (it.schema.$comment && it.opts.$comment) {
    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));
  }
  if ($typeSchema) {
    if (it.opts.coerceTypes) {
      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);
    }
    var $rulesGroup = it.RULES.types[$typeSchema];
    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {
      var $schemaPath = it.schemaPath + '.type',
        $errSchemaPath = it.errSchemaPath + '/type';
      var $schemaPath = it.schemaPath + '.type',
        $errSchemaPath = it.errSchemaPath + '/type',
        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';
      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';
      if ($coerceToTypes) {
        var $dataType = 'dataType' + $lvl,
          $coerced = 'coerced' + $lvl;
        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';
        if (it.opts.coerceTypes == 'array') {
          out += ' if (' + ($dataType) + ' == \'object\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \'array\'; ';
        }
        out += ' var ' + ($coerced) + ' = undefined; ';
        var $bracesCoercion = '';
        var arr1 = $coerceToTypes;
        if (arr1) {
          var $type, $i = -1,
            l1 = arr1.length - 1;
          while ($i < l1) {
            $type = arr1[$i += 1];
            if ($i) {
              out += ' if (' + ($coerced) + ' === undefined) { ';
              $bracesCoercion += '}';
            }
            if (it.opts.coerceTypes == 'array' && $type != 'array') {
              out += ' if (' + ($dataType) + ' == \'array\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';
            }
            if ($type == 'string') {
              out += ' if (' + ($dataType) + ' == \'number\' || ' + ($dataType) + ' == \'boolean\') ' + ($coerced) + ' = \'\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \'\'; ';
            } else if ($type == 'number' || $type == 'integer') {
              out += ' if (' + ($dataType) + ' == \'boolean\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \'string\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';
              if ($type == 'integer') {
                out += ' && !(' + ($data) + ' % 1)';
              }
              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';
            } else if ($type == 'boolean') {
              out += ' if (' + ($data) + ' === \'false\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \'true\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';
            } else if ($type == 'null') {
              out += ' if (' + ($data) + ' === \'\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';
            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {
              out += ' if (' + ($dataType) + ' == \'string\' || ' + ($dataType) + ' == \'number\' || ' + ($dataType) + ' == \'boolean\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';
            }
          }
        }
        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = ''; /* istanbul ignore else */
        if (it.createErrors !== false) {
          out += ' { keyword: \'' + ($errorKeyword || 'type') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \'';
          if ($typeIsArray) {
            out += '' + ($typeSchema.join(","));
          } else {
            out += '' + ($typeSchema);
          }
          out += '\' } ';
          if (it.opts.messages !== false) {
            out += ' , message: \'should be ';
            if ($typeIsArray) {
              out += '' + ($typeSchema.join(","));
            } else {
              out += '' + ($typeSchema);
            }
            out += '\' ';
          }
          if (it.opts.verbose) {
            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
          }
          out += ' } ';
        } else {
          out += ' {} ';
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          /* istanbul ignore if */
          if (it.async) {
            out += ' throw new ValidationError([' + (__err) + ']); ';
          } else {
            out += ' validate.errors = [' + (__err) + ']; return false; ';
          }
        } else {
          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
        }
        out += ' } else {  ';
        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',
          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';
        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';
        if (!$dataLvl) {
          out += 'if (' + ($parentData) + ' !== undefined)';
        }
        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';
      } else {
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = ''; /* istanbul ignore else */
        if (it.createErrors !== false) {
          out += ' { keyword: \'' + ($errorKeyword || 'type') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \'';
          if ($typeIsArray) {
            out += '' + ($typeSchema.join(","));
          } else {
            out += '' + ($typeSchema);
          }
          out += '\' } ';
          if (it.opts.messages !== false) {
            out += ' , message: \'should be ';
            if ($typeIsArray) {
              out += '' + ($typeSchema.join(","));
            } else {
              out += '' + ($typeSchema);
            }
            out += '\' ';
          }
          if (it.opts.verbose) {
            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
          }
          out += ' } ';
        } else {
          out += ' {} ';
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          /* istanbul ignore if */
          if (it.async) {
            out += ' throw new ValidationError([' + (__err) + ']); ';
          } else {
            out += ' validate.errors = [' + (__err) + ']; return false; ';
          }
        } else {
          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
        }
      }
      out += ' } ';
    }
  }
  if (it.schema.$ref && !$refKeywords) {
    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';
    if ($breakOnError) {
      out += ' } if (errors === ';
      if ($top) {
        out += '0';
      } else {
        out += 'errs_' + ($lvl);
      }
      out += ') { ';
      $closingBraces2 += '}';
    }
  } else {
    var arr2 = it.RULES;
    if (arr2) {
      var $rulesGroup, i2 = -1,
        l2 = arr2.length - 1;
      while (i2 < l2) {
        $rulesGroup = arr2[i2 += 1];
        if ($shouldUseGroup($rulesGroup)) {
          if ($rulesGroup.type) {
            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';
          }
          if (it.opts.useDefaults) {
            if ($rulesGroup.type == 'object' && it.schema.properties) {
              var $schema = it.schema.properties,
                $schemaKeys = Object.keys($schema);
              var arr3 = $schemaKeys;
              if (arr3) {
                var $propertyKey, i3 = -1,
                  l3 = arr3.length - 1;
                while (i3 < l3) {
                  $propertyKey = arr3[i3 += 1];
                  var $sch = $schema[$propertyKey];
                  if ($sch.default !== undefined) {
                    var $passData = $data + it.util.getProperty($propertyKey);
                    if (it.compositeRule) {
                      if (it.opts.strictDefaults) {
                        var $defaultMsg = 'default is ignored for: ' + $passData;
                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);
                        else throw new Error($defaultMsg);
                      }
                    } else {
                      out += ' if (' + ($passData) + ' === undefined ';
                      if (it.opts.useDefaults == 'empty') {
                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \'\' ';
                      }
                      out += ' ) ' + ($passData) + ' = ';
                      if (it.opts.useDefaults == 'shared') {
                        out += ' ' + (it.useDefault($sch.default)) + ' ';
                      } else {
                        out += ' ' + (JSON.stringify($sch.default)) + ' ';
                      }
                      out += '; ';
                    }
                  }
                }
              }
            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {
              var arr4 = it.schema.items;
              if (arr4) {
                var $sch, $i = -1,
                  l4 = arr4.length - 1;
                while ($i < l4) {
                  $sch = arr4[$i += 1];
                  if ($sch.default !== undefined) {
                    var $passData = $data + '[' + $i + ']';
                    if (it.compositeRule) {
                      if (it.opts.strictDefaults) {
                        var $defaultMsg = 'default is ignored for: ' + $passData;
                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);
                        else throw new Error($defaultMsg);
                      }
                    } else {
                      out += ' if (' + ($passData) + ' === undefined ';
                      if (it.opts.useDefaults == 'empty') {
                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \'\' ';
                      }
                      out += ' ) ' + ($passData) + ' = ';
                      if (it.opts.useDefaults == 'shared') {
                        out += ' ' + (it.useDefault($sch.default)) + ' ';
                      } else {
                        out += ' ' + (JSON.stringify($sch.default)) + ' ';
                      }
                      out += '; ';
                    }
                  }
                }
              }
            }
          }
          var arr5 = $rulesGroup.rules;
          if (arr5) {
            var $rule, i5 = -1,
              l5 = arr5.length - 1;
            while (i5 < l5) {
              $rule = arr5[i5 += 1];
              if ($shouldUseRule($rule)) {
                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);
                if ($code) {
                  out += ' ' + ($code) + ' ';
                  if ($breakOnError) {
                    $closingBraces1 += '}';
                  }
                }
              }
            }
          }
          if ($breakOnError) {
            out += ' ' + ($closingBraces1) + ' ';
            $closingBraces1 = '';
          }
          if ($rulesGroup.type) {
            out += ' } ';
            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {
              out += ' else { ';
              var $schemaPath = it.schemaPath + '.type',
                $errSchemaPath = it.errSchemaPath + '/type';
              var $$outStack = $$outStack || [];
              $$outStack.push(out);
              out = ''; /* istanbul ignore else */
              if (it.createErrors !== false) {
                out += ' { keyword: \'' + ($errorKeyword || 'type') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \'';
                if ($typeIsArray) {
                  out += '' + ($typeSchema.join(","));
                } else {
                  out += '' + ($typeSchema);
                }
                out += '\' } ';
                if (it.opts.messages !== false) {
                  out += ' , message: \'should be ';
                  if ($typeIsArray) {
                    out += '' + ($typeSchema.join(","));
                  } else {
                    out += '' + ($typeSchema);
                  }
                  out += '\' ';
                }
                if (it.opts.verbose) {
                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
                }
                out += ' } ';
              } else {
                out += ' {} ';
              }
              var __err = out;
              out = $$outStack.pop();
              if (!it.compositeRule && $breakOnError) {
                /* istanbul ignore if */
                if (it.async) {
                  out += ' throw new ValidationError([' + (__err) + ']); ';
                } else {
                  out += ' validate.errors = [' + (__err) + ']; return false; ';
                }
              } else {
                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
              }
              out += ' } ';
            }
          }
          if ($breakOnError) {
            out += ' if (errors === ';
            if ($top) {
              out += '0';
            } else {
              out += 'errs_' + ($lvl);
            }
            out += ') { ';
            $closingBraces2 += '}';
          }
        }
      }
    }
  }
  if ($breakOnError) {
    out += ' ' + ($closingBraces2) + ' ';
  }
  if ($top) {
    if ($async) {
      out += ' if (errors === 0) return data;           ';
      out += ' else throw new ValidationError(vErrors); ';
    } else {
      out += ' validate.errors = vErrors; ';
      out += ' return errors === 0;       ';
    }
    out += ' }; return validate;';
  } else {
    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';
  }
  out = it.util.cleanUpCode(out);
  if ($top) {
    out = it.util.finalCleanUpCode(out, $async);
  }

  function $shouldUseGroup($rulesGroup) {
    var rules = $rulesGroup.rules;
    for (var i = 0; i < rules.length; i++)
      if ($shouldUseRule(rules[i])) return true;
  }

  function $shouldUseRule($rule) {
    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));
  }

  function $ruleImplementsSomeKeyword($rule) {
    var impl = $rule.implements;
    for (var i = 0; i < impl.length; i++)
      if (it.schema[impl[i]] !== undefined) return true;
  }
  return out;
};

/**
 * Functions below are used inside compiled validations function
 */

var ucs2length$1 = util.ucs2length;


// this error is thrown by async schemas to return validation errors via exception
var ValidationError$1 = error_classes.Validation;

var compile_1 = compile;


/**
 * Compiles schema to validation function
 * @this   Ajv
 * @param  {Object} schema schema object
 * @param  {Object} root object with information about the root schema for this schema
 * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution
 * @param  {String} baseId base ID for IDs in the schema
 * @return {Function} validation function
 */
function compile(schema, root, localRefs, baseId) {
  /* jshint validthis: true, evil: true */
  /* eslint no-shadow: 0 */
  var self = this
    , opts = this._opts
    , refVal = [ undefined ]
    , refs = {}
    , patterns = []
    , patternsHash = {}
    , defaults = []
    , defaultsHash = {}
    , customRules = [];

  root = root || { schema: schema, refVal: refVal, refs: refs };

  var c = checkCompiling.call(this, schema, root, baseId);
  var compilation = this._compilations[c.index];
  if (c.compiling) return (compilation.callValidate = callValidate);

  var formats = this._formats;
  var RULES = this.RULES;

  try {
    var v = localCompile(schema, root, localRefs, baseId);
    compilation.validate = v;
    var cv = compilation.callValidate;
    if (cv) {
      cv.schema = v.schema;
      cv.errors = null;
      cv.refs = v.refs;
      cv.refVal = v.refVal;
      cv.root = v.root;
      cv.$async = v.$async;
      if (opts.sourceCode) cv.source = v.source;
    }
    return v;
  } finally {
    endCompiling.call(this, schema, root, baseId);
  }

  /* @this   {*} - custom context, see passContext option */
  function callValidate() {
    /* jshint validthis: true */
    var validate = compilation.validate;
    var result = validate.apply(this, arguments);
    callValidate.errors = validate.errors;
    return result;
  }

  function localCompile(_schema, _root, localRefs, baseId) {
    var isRoot = !_root || (_root && _root.schema == _schema);
    if (_root.schema != root.schema)
      return compile.call(self, _schema, _root, localRefs, baseId);

    var $async = _schema.$async === true;

    var sourceCode = validate({
      isTop: true,
      schema: _schema,
      isRoot: isRoot,
      baseId: baseId,
      root: _root,
      schemaPath: '',
      errSchemaPath: '#',
      errorPath: '""',
      MissingRefError: error_classes.MissingRef,
      RULES: RULES,
      validate: validate,
      util: util,
      resolve: resolve_1,
      resolveRef: resolveRef,
      usePattern: usePattern,
      useDefault: useDefault,
      useCustomRule: useCustomRule,
      opts: opts,
      formats: formats,
      logger: self.logger,
      self: self
    });

    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)
                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)
                   + sourceCode;

    if (opts.processCode) sourceCode = opts.processCode(sourceCode);
    // console.log('\n\n\n *** \n', JSON.stringify(sourceCode));
    var validate$1;
    try {
      var makeValidate = new Function(
        'self',
        'RULES',
        'formats',
        'root',
        'refVal',
        'defaults',
        'customRules',
        'equal',
        'ucs2length',
        'ValidationError',
        sourceCode
      );

      validate$1 = makeValidate(
        self,
        RULES,
        formats,
        root,
        refVal,
        defaults,
        customRules,
        fastDeepEqual,
        ucs2length$1,
        ValidationError$1
      );

      refVal[0] = validate$1;
    } catch(e) {
      self.logger.error('Error compiling schema, function code:', sourceCode);
      throw e;
    }

    validate$1.schema = _schema;
    validate$1.errors = null;
    validate$1.refs = refs;
    validate$1.refVal = refVal;
    validate$1.root = isRoot ? validate$1 : _root;
    if ($async) validate$1.$async = true;
    if (opts.sourceCode === true) {
      validate$1.source = {
        code: sourceCode,
        patterns: patterns,
        defaults: defaults
      };
    }

    return validate$1;
  }

  function resolveRef(baseId, ref, isRoot) {
    ref = resolve_1.url(baseId, ref);
    var refIndex = refs[ref];
    var _refVal, refCode;
    if (refIndex !== undefined) {
      _refVal = refVal[refIndex];
      refCode = 'refVal[' + refIndex + ']';
      return resolvedRef(_refVal, refCode);
    }
    if (!isRoot && root.refs) {
      var rootRefId = root.refs[ref];
      if (rootRefId !== undefined) {
        _refVal = root.refVal[rootRefId];
        refCode = addLocalRef(ref, _refVal);
        return resolvedRef(_refVal, refCode);
      }
    }

    refCode = addLocalRef(ref);
    var v = resolve_1.call(self, localCompile, root, ref);
    if (v === undefined) {
      var localSchema = localRefs && localRefs[ref];
      if (localSchema) {
        v = resolve_1.inlineRef(localSchema, opts.inlineRefs)
            ? localSchema
            : compile.call(self, localSchema, root, localRefs, baseId);
      }
    }

    if (v === undefined) {
      removeLocalRef(ref);
    } else {
      replaceLocalRef(ref, v);
      return resolvedRef(v, refCode);
    }
  }

  function addLocalRef(ref, v) {
    var refId = refVal.length;
    refVal[refId] = v;
    refs[ref] = refId;
    return 'refVal' + refId;
  }

  function removeLocalRef(ref) {
    delete refs[ref];
  }

  function replaceLocalRef(ref, v) {
    var refId = refs[ref];
    refVal[refId] = v;
  }

  function resolvedRef(refVal, code) {
    return typeof refVal == 'object' || typeof refVal == 'boolean'
            ? { code: code, schema: refVal, inline: true }
            : { code: code, $async: refVal && !!refVal.$async };
  }

  function usePattern(regexStr) {
    var index = patternsHash[regexStr];
    if (index === undefined) {
      index = patternsHash[regexStr] = patterns.length;
      patterns[index] = regexStr;
    }
    return 'pattern' + index;
  }

  function useDefault(value) {
    switch (typeof value) {
      case 'boolean':
      case 'number':
        return '' + value;
      case 'string':
        return util.toQuotedString(value);
      case 'object':
        if (value === null) return 'null';
        var valueStr = fastJsonStableStringify(value);
        var index = defaultsHash[valueStr];
        if (index === undefined) {
          index = defaultsHash[valueStr] = defaults.length;
          defaults[index] = value;
        }
        return 'default' + index;
    }
  }

  function useCustomRule(rule, schema, parentSchema, it) {
    if (self._opts.validateSchema !== false) {
      var deps = rule.definition.dependencies;
      if (deps && !deps.every(function(keyword) {
        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);
      }))
        throw new Error('parent schema must have all required keywords: ' + deps.join(','));

      var validateSchema = rule.definition.validateSchema;
      if (validateSchema) {
        var valid = validateSchema(schema);
        if (!valid) {
          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);
          if (self._opts.validateSchema == 'log') self.logger.error(message);
          else throw new Error(message);
        }
      }
    }

    var compile = rule.definition.compile
      , inline = rule.definition.inline
      , macro = rule.definition.macro;

    var validate;
    if (compile) {
      validate = compile.call(self, schema, parentSchema, it);
    } else if (macro) {
      validate = macro.call(self, schema, parentSchema, it);
      if (opts.validateSchema !== false) self.validateSchema(validate, true);
    } else if (inline) {
      validate = inline.call(self, it, rule.keyword, schema, parentSchema);
    } else {
      validate = rule.definition.validate;
      if (!validate) return;
    }

    if (validate === undefined)
      throw new Error('custom keyword "' + rule.keyword + '"failed to compile');

    var index = customRules.length;
    customRules[index] = validate;

    return {
      code: 'customRule' + index,
      validate: validate
    };
  }
}


/**
 * Checks if the schema is currently compiled
 * @this   Ajv
 * @param  {Object} schema schema to compile
 * @param  {Object} root root object
 * @param  {String} baseId base schema ID
 * @return {Object} object with properties "index" (compilation index) and "compiling" (boolean)
 */
function checkCompiling(schema, root, baseId) {
  /* jshint validthis: true */
  var index = compIndex.call(this, schema, root, baseId);
  if (index >= 0) return { index: index, compiling: true };
  index = this._compilations.length;
  this._compilations[index] = {
    schema: schema,
    root: root,
    baseId: baseId
  };
  return { index: index, compiling: false };
}


/**
 * Removes the schema from the currently compiled list
 * @this   Ajv
 * @param  {Object} schema schema to compile
 * @param  {Object} root root object
 * @param  {String} baseId base schema ID
 */
function endCompiling(schema, root, baseId) {
  /* jshint validthis: true */
  var i = compIndex.call(this, schema, root, baseId);
  if (i >= 0) this._compilations.splice(i, 1);
}


/**
 * Index of schema compilation in the currently compiled list
 * @this   Ajv
 * @param  {Object} schema schema to compile
 * @param  {Object} root root object
 * @param  {String} baseId base schema ID
 * @return {Integer} compilation index
 */
function compIndex(schema, root, baseId) {
  /* jshint validthis: true */
  for (var i=0; i<this._compilations.length; i++) {
    var c = this._compilations[i];
    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;
  }
  return -1;
}


function patternCode(i, patterns) {
  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';
}


function defaultCode(i) {
  return 'var default' + i + ' = defaults[' + i + '];';
}


function refValCode(i, refVal) {
  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';
}


function customRuleCode(i) {
  return 'var customRule' + i + ' = customRules[' + i + '];';
}


function vars(arr, statement) {
  if (!arr.length) return '';
  var code = '';
  for (var i=0; i<arr.length; i++)
    code += statement(i, arr);
  return code;
}

var cache = createCommonjsModule(function (module) {


var Cache = module.exports = function Cache() {
  this._cache = {};
};


Cache.prototype.put = function Cache_put(key, value) {
  this._cache[key] = value;
};


Cache.prototype.get = function Cache_get(key) {
  return this._cache[key];
};


Cache.prototype.del = function Cache_del(key) {
  delete this._cache[key];
};


Cache.prototype.clear = function Cache_clear() {
  this._cache = {};
};
});

var DATE = /^(\d\d\d\d)-(\d\d)-(\d\d)$/;
var DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];
var TIME = /^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;
var HOSTNAME = /^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;
var URI = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
var URIREF = /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
// uri-template: https://tools.ietf.org/html/rfc6570
var URITEMPLATE = /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;
// For the source: https://gist.github.com/dperini/729294
// For test cases: https://mathiasbynens.be/demo/url-regex
// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.
// var URL = /^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu;
var URL = /^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i;
var UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;
var JSON_POINTER$1 = /^(?:\/(?:[^~/]|~0|~1)*)*$/;
var JSON_POINTER_URI_FRAGMENT = /^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;
var RELATIVE_JSON_POINTER$1 = /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;


var formats_1 = formats;

function formats(mode) {
  mode = mode == 'full' ? 'full' : 'fast';
  return util.copy(formats[mode]);
}


formats.fast = {
  // date: http://tools.ietf.org/html/rfc3339#section-5.6
  date: /^\d\d\d\d-[0-1]\d-[0-3]\d$/,
  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6
  time: /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,
  'date-time': /^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,
  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js
  uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,
  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,
  'uri-template': URITEMPLATE,
  url: URL,
  // email (sources from jsen validator):
  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363
  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')
  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,
  hostname: HOSTNAME,
  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html
  ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses
  ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
  regex: regex,
  // uuid: http://tools.ietf.org/html/rfc4122
  uuid: UUID,
  // JSON-pointer: https://tools.ietf.org/html/rfc6901
  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A
  'json-pointer': JSON_POINTER$1,
  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,
  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00
  'relative-json-pointer': RELATIVE_JSON_POINTER$1
};


formats.full = {
  date: date,
  time: time,
  'date-time': date_time,
  uri: uri,
  'uri-reference': URIREF,
  'uri-template': URITEMPLATE,
  url: URL,
  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,
  hostname: HOSTNAME,
  ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
  ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
  regex: regex,
  uuid: UUID,
  'json-pointer': JSON_POINTER$1,
  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,
  'relative-json-pointer': RELATIVE_JSON_POINTER$1
};


function isLeapYear(year) {
  // https://tools.ietf.org/html/rfc3339#appendix-C
  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
}


function date(str) {
  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6
  var matches = str.match(DATE);
  if (!matches) return false;

  var year = +matches[1];
  var month = +matches[2];
  var day = +matches[3];

  return month >= 1 && month <= 12 && day >= 1 &&
          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);
}


function time(str, full) {
  var matches = str.match(TIME);
  if (!matches) return false;

  var hour = matches[1];
  var minute = matches[2];
  var second = matches[3];
  var timeZone = matches[5];
  return ((hour <= 23 && minute <= 59 && second <= 59) ||
          (hour == 23 && minute == 59 && second == 60)) &&
         (!full || timeZone);
}


var DATE_TIME_SEPARATOR = /t|\s/i;
function date_time(str) {
  // http://tools.ietf.org/html/rfc3339#section-5.6
  var dateTime = str.split(DATE_TIME_SEPARATOR);
  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);
}


var NOT_URI_FRAGMENT = /\/|:/;
function uri(str) {
  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required "."
  return NOT_URI_FRAGMENT.test(str) && URI.test(str);
}


var Z_ANCHOR = /[^\\]\\Z/;
function regex(str) {
  if (Z_ANCHOR.test(str)) return false;
  try {
    new RegExp(str);
    return true;
  } catch(e) {
    return false;
  }
}

var ref = function generate_ref(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $async, $refCode;
  if ($schema == '#' || $schema == '#/') {
    if (it.isRoot) {
      $async = it.async;
      $refCode = 'validate';
    } else {
      $async = it.root.schema.$async === true;
      $refCode = 'root.refVal[0]';
    }
  } else {
    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);
    if ($refVal === undefined) {
      var $message = it.MissingRefError.message(it.baseId, $schema);
      if (it.opts.missingRefs == 'fail') {
        it.logger.error($message);
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = ''; /* istanbul ignore else */
        if (it.createErrors !== false) {
          out += ' { keyword: \'' + ('$ref') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \'' + (it.util.escapeQuotes($schema)) + '\' } ';
          if (it.opts.messages !== false) {
            out += ' , message: \'can\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\' ';
          }
          if (it.opts.verbose) {
            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
          }
          out += ' } ';
        } else {
          out += ' {} ';
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          /* istanbul ignore if */
          if (it.async) {
            out += ' throw new ValidationError([' + (__err) + ']); ';
          } else {
            out += ' validate.errors = [' + (__err) + ']; return false; ';
          }
        } else {
          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
        }
        if ($breakOnError) {
          out += ' if (false) { ';
        }
      } else if (it.opts.missingRefs == 'ignore') {
        it.logger.warn($message);
        if ($breakOnError) {
          out += ' if (true) { ';
        }
      } else {
        throw new it.MissingRefError(it.baseId, $schema, $message);
      }
    } else if ($refVal.inline) {
      var $it = it.util.copy(it);
      $it.level++;
      var $nextValid = 'valid' + $it.level;
      $it.schema = $refVal.schema;
      $it.schemaPath = '';
      $it.errSchemaPath = $schema;
      var $code = it.validate($it).replace(/validate\.schema/g, $refVal.code);
      out += ' ' + ($code) + ' ';
      if ($breakOnError) {
        out += ' if (' + ($nextValid) + ') { ';
      }
    } else {
      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);
      $refCode = $refVal.code;
    }
  }
  if ($refCode) {
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = '';
    if (it.opts.passContext) {
      out += ' ' + ($refCode) + '.call(this, ';
    } else {
      out += ' ' + ($refCode) + '( ';
    }
    out += ' ' + ($data) + ', (dataPath || \'\')';
    if (it.errorPath != '""') {
      out += ' + ' + (it.errorPath);
    }
    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',
      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';
    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';
    var __callValidate = out;
    out = $$outStack.pop();
    if ($async) {
      if (!it.async) throw new Error('async schema referenced by sync schema');
      if ($breakOnError) {
        out += ' var ' + ($valid) + '; ';
      }
      out += ' try { await ' + (__callValidate) + '; ';
      if ($breakOnError) {
        out += ' ' + ($valid) + ' = true; ';
      }
      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';
      if ($breakOnError) {
        out += ' ' + ($valid) + ' = false; ';
      }
      out += ' } ';
      if ($breakOnError) {
        out += ' if (' + ($valid) + ') { ';
      }
    } else {
      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';
      if ($breakOnError) {
        out += ' else { ';
      }
    }
  }
  return out;
};

var allOf = function generate_allOf(it, $keyword, $ruleType) {
  var out = ' ';
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $currentBaseId = $it.baseId,
    $allSchemasEmpty = true;
  var arr1 = $schema;
  if (arr1) {
    var $sch, $i = -1,
      l1 = arr1.length - 1;
    while ($i < l1) {
      $sch = arr1[$i += 1];
      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {
        $allSchemasEmpty = false;
        $it.schema = $sch;
        $it.schemaPath = $schemaPath + '[' + $i + ']';
        $it.errSchemaPath = $errSchemaPath + '/' + $i;
        out += '  ' + (it.validate($it)) + ' ';
        $it.baseId = $currentBaseId;
        if ($breakOnError) {
          out += ' if (' + ($nextValid) + ') { ';
          $closingBraces += '}';
        }
      }
    }
  }
  if ($breakOnError) {
    if ($allSchemasEmpty) {
      out += ' if (true) { ';
    } else {
      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';
    }
  }
  out = it.util.cleanUpCode(out);
  return out;
};

var anyOf = function generate_anyOf(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $noEmptySchema = $schema.every(function($sch) {
    return (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all));
  });
  if ($noEmptySchema) {
    var $currentBaseId = $it.baseId;
    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';
    var $wasComposite = it.compositeRule;
    it.compositeRule = $it.compositeRule = true;
    var arr1 = $schema;
    if (arr1) {
      var $sch, $i = -1,
        l1 = arr1.length - 1;
      while ($i < l1) {
        $sch = arr1[$i += 1];
        $it.schema = $sch;
        $it.schemaPath = $schemaPath + '[' + $i + ']';
        $it.errSchemaPath = $errSchemaPath + '/' + $i;
        out += '  ' + (it.validate($it)) + ' ';
        $it.baseId = $currentBaseId;
        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';
        $closingBraces += '}';
      }
    }
    it.compositeRule = $it.compositeRule = $wasComposite;
    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ('anyOf') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';
      if (it.opts.messages !== false) {
        out += ' , message: \'should match some schema in anyOf\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    if (!it.compositeRule && $breakOnError) {
      /* istanbul ignore if */
      if (it.async) {
        out += ' throw new ValidationError(vErrors); ';
      } else {
        out += ' validate.errors = vErrors; return false; ';
      }
    }
    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';
    if (it.opts.allErrors) {
      out += ' } ';
    }
    out = it.util.cleanUpCode(out);
  } else {
    if ($breakOnError) {
      out += ' if (true) { ';
    }
  }
  return out;
};

var comment = function generate_comment(it, $keyword, $ruleType) {
  var out = ' ';
  var $schema = it.schema[$keyword];
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $comment = it.util.toQuotedString($schema);
  if (it.opts.$comment === true) {
    out += ' console.log(' + ($comment) + ');';
  } else if (typeof it.opts.$comment == 'function') {
    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';
  }
  return out;
};

var _const = function generate_const(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $isData = it.opts.$data && $schema && $schema.$data;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
  }
  if (!$isData) {
    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';
  }
  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ('const') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should be equal to constant\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += ' }';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var contains = function generate_contains(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $idx = 'i' + $lvl,
    $dataNxt = $it.dataLevel = it.dataLevel + 1,
    $nextData = 'data' + $dataNxt,
    $currentBaseId = it.baseId,
    $nonEmptySchema = (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all));
  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';
  if ($nonEmptySchema) {
    var $wasComposite = it.compositeRule;
    it.compositeRule = $it.compositeRule = true;
    $it.schema = $schema;
    $it.schemaPath = $schemaPath;
    $it.errSchemaPath = $errSchemaPath;
    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';
    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
    var $passData = $data + '[' + $idx + ']';
    $it.dataPathArr[$dataNxt] = $idx;
    var $code = it.validate($it);
    $it.baseId = $currentBaseId;
    if (it.util.varOccurences($code, $nextData) < 2) {
      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
    } else {
      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
    }
    out += ' if (' + ($nextValid) + ') break; }  ';
    it.compositeRule = $it.compositeRule = $wasComposite;
    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';
  } else {
    out += ' if (' + ($data) + '.length == 0) {';
  }
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ('contains') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should contain a valid item\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += ' } else { ';
  if ($nonEmptySchema) {
    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';
  }
  if (it.opts.allErrors) {
    out += ' } ';
  }
  out = it.util.cleanUpCode(out);
  return out;
};

var dependencies = function generate_dependencies(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $schemaDeps = {},
    $propertyDeps = {},
    $ownProperties = it.opts.ownProperties;
  for ($property in $schema) {
    var $sch = $schema[$property];
    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;
    $deps[$property] = $sch;
  }
  out += 'var ' + ($errs) + ' = errors;';
  var $currentErrorPath = it.errorPath;
  out += 'var missing' + ($lvl) + ';';
  for (var $property in $propertyDeps) {
    $deps = $propertyDeps[$property];
    if ($deps.length) {
      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';
      if ($ownProperties) {
        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($property)) + '\') ';
      }
      if ($breakOnError) {
        out += ' && ( ';
        var arr1 = $deps;
        if (arr1) {
          var $propertyKey, $i = -1,
            l1 = arr1.length - 1;
          while ($i < l1) {
            $propertyKey = arr1[$i += 1];
            if ($i) {
              out += ' || ';
            }
            var $prop = it.util.getProperty($propertyKey),
              $useData = $data + $prop;
            out += ' ( ( ' + ($useData) + ' === undefined ';
            if ($ownProperties) {
              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($propertyKey)) + '\') ';
            }
            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';
          }
        }
        out += ')) {  ';
        var $propertyPath = 'missing' + $lvl,
          $missingProperty = '\' + ' + $propertyPath + ' + \'';
        if (it.opts._errorDataPathProperty) {
          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;
        }
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = ''; /* istanbul ignore else */
        if (it.createErrors !== false) {
          out += ' { keyword: \'' + ('dependencies') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \'' + (it.util.escapeQuotes($property)) + '\', missingProperty: \'' + ($missingProperty) + '\', depsCount: ' + ($deps.length) + ', deps: \'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(", "))) + '\' } ';
          if (it.opts.messages !== false) {
            out += ' , message: \'should have ';
            if ($deps.length == 1) {
              out += 'property ' + (it.util.escapeQuotes($deps[0]));
            } else {
              out += 'properties ' + (it.util.escapeQuotes($deps.join(", ")));
            }
            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\' ';
          }
          if (it.opts.verbose) {
            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
          }
          out += ' } ';
        } else {
          out += ' {} ';
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          /* istanbul ignore if */
          if (it.async) {
            out += ' throw new ValidationError([' + (__err) + ']); ';
          } else {
            out += ' validate.errors = [' + (__err) + ']; return false; ';
          }
        } else {
          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
        }
      } else {
        out += ' ) { ';
        var arr2 = $deps;
        if (arr2) {
          var $propertyKey, i2 = -1,
            l2 = arr2.length - 1;
          while (i2 < l2) {
            $propertyKey = arr2[i2 += 1];
            var $prop = it.util.getProperty($propertyKey),
              $missingProperty = it.util.escapeQuotes($propertyKey),
              $useData = $data + $prop;
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
            }
            out += ' if ( ' + ($useData) + ' === undefined ';
            if ($ownProperties) {
              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($propertyKey)) + '\') ';
            }
            out += ') {  var err =   '; /* istanbul ignore else */
            if (it.createErrors !== false) {
              out += ' { keyword: \'' + ('dependencies') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \'' + (it.util.escapeQuotes($property)) + '\', missingProperty: \'' + ($missingProperty) + '\', depsCount: ' + ($deps.length) + ', deps: \'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(", "))) + '\' } ';
              if (it.opts.messages !== false) {
                out += ' , message: \'should have ';
                if ($deps.length == 1) {
                  out += 'property ' + (it.util.escapeQuotes($deps[0]));
                } else {
                  out += 'properties ' + (it.util.escapeQuotes($deps.join(", ")));
                }
                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\' ';
              }
              if (it.opts.verbose) {
                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
              }
              out += ' } ';
            } else {
              out += ' {} ';
            }
            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';
          }
        }
      }
      out += ' }   ';
      if ($breakOnError) {
        $closingBraces += '}';
        out += ' else { ';
      }
    }
  }
  it.errorPath = $currentErrorPath;
  var $currentBaseId = $it.baseId;
  for (var $property in $schemaDeps) {
    var $sch = $schemaDeps[$property];
    if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {
      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';
      if ($ownProperties) {
        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($property)) + '\') ';
      }
      out += ') { ';
      $it.schema = $sch;
      $it.schemaPath = $schemaPath + it.util.getProperty($property);
      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);
      out += '  ' + (it.validate($it)) + ' ';
      $it.baseId = $currentBaseId;
      out += ' }  ';
      if ($breakOnError) {
        out += ' if (' + ($nextValid) + ') { ';
        $closingBraces += '}';
      }
    }
  }
  if ($breakOnError) {
    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';
  }
  out = it.util.cleanUpCode(out);
  return out;
};

var _enum = function generate_enum(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $isData = it.opts.$data && $schema && $schema.$data;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
  }
  var $i = 'i' + $lvl,
    $vSchema = 'schema' + $lvl;
  if (!$isData) {
    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';
  }
  out += 'var ' + ($valid) + ';';
  if ($isData) {
    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';
  }
  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';
  if ($isData) {
    out += '  }  ';
  }
  out += ' if (!' + ($valid) + ') {   ';
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ('enum') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should be equal to one of the allowed values\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += ' }';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var format = function generate_format(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  if (it.opts.format === false) {
    if ($breakOnError) {
      out += ' if (true) { ';
    }
    return out;
  }
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  var $unknownFormats = it.opts.unknownFormats,
    $allowUnknown = Array.isArray($unknownFormats);
  if ($isData) {
    var $format = 'format' + $lvl,
      $isObject = 'isObject' + $lvl,
      $formatType = 'formatType' + $lvl;
    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \'object\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \'string\'; if (' + ($isObject) + ') { ';
    if (it.async) {
      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';
    }
    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';
    if ($isData) {
      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'string\') || ';
    }
    out += ' (';
    if ($unknownFormats != 'ignore') {
      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';
      if ($allowUnknown) {
        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';
      }
      out += ') || ';
    }
    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \'' + ($ruleType) + '\' && !(typeof ' + ($format) + ' == \'function\' ? ';
    if (it.async) {
      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';
    } else {
      out += ' ' + ($format) + '(' + ($data) + ') ';
    }
    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';
  } else {
    var $format = it.formats[$schema];
    if (!$format) {
      if ($unknownFormats == 'ignore') {
        it.logger.warn('unknown format "' + $schema + '" ignored in schema at path "' + it.errSchemaPath + '"');
        if ($breakOnError) {
          out += ' if (true) { ';
        }
        return out;
      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {
        if ($breakOnError) {
          out += ' if (true) { ';
        }
        return out;
      } else {
        throw new Error('unknown format "' + $schema + '" is used in schema at path "' + it.errSchemaPath + '"');
      }
    }
    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;
    var $formatType = $isObject && $format.type || 'string';
    if ($isObject) {
      var $async = $format.async === true;
      $format = $format.validate;
    }
    if ($formatType != $ruleType) {
      if ($breakOnError) {
        out += ' if (true) { ';
      }
      return out;
    }
    if ($async) {
      if (!it.async) throw new Error('async format in sync schema');
      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';
      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';
    } else {
      out += ' if (! ';
      var $formatRef = 'formats' + it.util.getProperty($schema);
      if ($isObject) $formatRef += '.validate';
      if (typeof $format == 'function') {
        out += ' ' + ($formatRef) + '(' + ($data) + ') ';
      } else {
        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';
      }
      out += ') { ';
    }
  }
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ('format') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';
    if ($isData) {
      out += '' + ($schemaValue);
    } else {
      out += '' + (it.util.toQuotedString($schema));
    }
    out += '  } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should match format "';
      if ($isData) {
        out += '\' + ' + ($schemaValue) + ' + \'';
      } else {
        out += '' + (it.util.escapeQuotes($schema));
      }
      out += '"\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema:  ';
      if ($isData) {
        out += 'validate.schema' + ($schemaPath);
      } else {
        out += '' + (it.util.toQuotedString($schema));
      }
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += ' } ';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var _if = function generate_if(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $thenSch = it.schema['then'],
    $elseSch = it.schema['else'],
    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? typeof $thenSch == 'object' && Object.keys($thenSch).length > 0 : it.util.schemaHasRules($thenSch, it.RULES.all)),
    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? typeof $elseSch == 'object' && Object.keys($elseSch).length > 0 : it.util.schemaHasRules($elseSch, it.RULES.all)),
    $currentBaseId = $it.baseId;
  if ($thenPresent || $elsePresent) {
    var $ifClause;
    $it.createErrors = false;
    $it.schema = $schema;
    $it.schemaPath = $schemaPath;
    $it.errSchemaPath = $errSchemaPath;
    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';
    var $wasComposite = it.compositeRule;
    it.compositeRule = $it.compositeRule = true;
    out += '  ' + (it.validate($it)) + ' ';
    $it.baseId = $currentBaseId;
    $it.createErrors = true;
    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';
    it.compositeRule = $it.compositeRule = $wasComposite;
    if ($thenPresent) {
      out += ' if (' + ($nextValid) + ') {  ';
      $it.schema = it.schema['then'];
      $it.schemaPath = it.schemaPath + '.then';
      $it.errSchemaPath = it.errSchemaPath + '/then';
      out += '  ' + (it.validate($it)) + ' ';
      $it.baseId = $currentBaseId;
      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';
      if ($thenPresent && $elsePresent) {
        $ifClause = 'ifClause' + $lvl;
        out += ' var ' + ($ifClause) + ' = \'then\'; ';
      } else {
        $ifClause = '\'then\'';
      }
      out += ' } ';
      if ($elsePresent) {
        out += ' else { ';
      }
    } else {
      out += ' if (!' + ($nextValid) + ') { ';
    }
    if ($elsePresent) {
      $it.schema = it.schema['else'];
      $it.schemaPath = it.schemaPath + '.else';
      $it.errSchemaPath = it.errSchemaPath + '/else';
      out += '  ' + (it.validate($it)) + ' ';
      $it.baseId = $currentBaseId;
      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';
      if ($thenPresent && $elsePresent) {
        $ifClause = 'ifClause' + $lvl;
        out += ' var ' + ($ifClause) + ' = \'else\'; ';
      } else {
        $ifClause = '\'else\'';
      }
      out += ' } ';
    }
    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ('if') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';
      if (it.opts.messages !== false) {
        out += ' , message: \'should match "\' + ' + ($ifClause) + ' + \'" schema\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    if (!it.compositeRule && $breakOnError) {
      /* istanbul ignore if */
      if (it.async) {
        out += ' throw new ValidationError(vErrors); ';
      } else {
        out += ' validate.errors = vErrors; return false; ';
      }
    }
    out += ' }   ';
    if ($breakOnError) {
      out += ' else { ';
    }
    out = it.util.cleanUpCode(out);
  } else {
    if ($breakOnError) {
      out += ' if (true) { ';
    }
  }
  return out;
};

var items = function generate_items(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $idx = 'i' + $lvl,
    $dataNxt = $it.dataLevel = it.dataLevel + 1,
    $nextData = 'data' + $dataNxt,
    $currentBaseId = it.baseId;
  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';
  if (Array.isArray($schema)) {
    var $additionalItems = it.schema.additionalItems;
    if ($additionalItems === false) {
      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';
      var $currErrSchemaPath = $errSchemaPath;
      $errSchemaPath = it.errSchemaPath + '/additionalItems';
      out += '  if (!' + ($valid) + ') {   ';
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = ''; /* istanbul ignore else */
      if (it.createErrors !== false) {
        out += ' { keyword: \'' + ('additionalItems') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';
        if (it.opts.messages !== false) {
          out += ' , message: \'should NOT have more than ' + ($schema.length) + ' items\' ';
        }
        if (it.opts.verbose) {
          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
        }
        out += ' } ';
      } else {
        out += ' {} ';
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        /* istanbul ignore if */
        if (it.async) {
          out += ' throw new ValidationError([' + (__err) + ']); ';
        } else {
          out += ' validate.errors = [' + (__err) + ']; return false; ';
        }
      } else {
        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
      }
      out += ' } ';
      $errSchemaPath = $currErrSchemaPath;
      if ($breakOnError) {
        $closingBraces += '}';
        out += ' else { ';
      }
    }
    var arr1 = $schema;
    if (arr1) {
      var $sch, $i = -1,
        l1 = arr1.length - 1;
      while ($i < l1) {
        $sch = arr1[$i += 1];
        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {
          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';
          var $passData = $data + '[' + $i + ']';
          $it.schema = $sch;
          $it.schemaPath = $schemaPath + '[' + $i + ']';
          $it.errSchemaPath = $errSchemaPath + '/' + $i;
          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);
          $it.dataPathArr[$dataNxt] = $i;
          var $code = it.validate($it);
          $it.baseId = $currentBaseId;
          if (it.util.varOccurences($code, $nextData) < 2) {
            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
          } else {
            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
          }
          out += ' }  ';
          if ($breakOnError) {
            out += ' if (' + ($nextValid) + ') { ';
            $closingBraces += '}';
          }
        }
      }
    }
    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0 : it.util.schemaHasRules($additionalItems, it.RULES.all))) {
      $it.schema = $additionalItems;
      $it.schemaPath = it.schemaPath + '.additionalItems';
      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';
      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';
      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
      var $passData = $data + '[' + $idx + ']';
      $it.dataPathArr[$dataNxt] = $idx;
      var $code = it.validate($it);
      $it.baseId = $currentBaseId;
      if (it.util.varOccurences($code, $nextData) < 2) {
        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
      } else {
        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
      }
      if ($breakOnError) {
        out += ' if (!' + ($nextValid) + ') break; ';
      }
      out += ' } }  ';
      if ($breakOnError) {
        out += ' if (' + ($nextValid) + ') { ';
        $closingBraces += '}';
      }
    }
  } else if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {
    $it.schema = $schema;
    $it.schemaPath = $schemaPath;
    $it.errSchemaPath = $errSchemaPath;
    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';
    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
    var $passData = $data + '[' + $idx + ']';
    $it.dataPathArr[$dataNxt] = $idx;
    var $code = it.validate($it);
    $it.baseId = $currentBaseId;
    if (it.util.varOccurences($code, $nextData) < 2) {
      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
    } else {
      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
    }
    if ($breakOnError) {
      out += ' if (!' + ($nextValid) + ') break; ';
    }
    out += ' }';
  }
  if ($breakOnError) {
    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';
  }
  out = it.util.cleanUpCode(out);
  return out;
};

var _limit = function generate__limit(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $errorKeyword;
  var $data = 'data' + ($dataLvl || '');
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  var $isMax = $keyword == 'maximum',
    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',
    $schemaExcl = it.schema[$exclusiveKeyword],
    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,
    $op = $isMax ? '<' : '>',
    $notOp = $isMax ? '>' : '<',
    $errorKeyword = undefined;
  if ($isDataExcl) {
    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),
      $exclusive = 'exclusive' + $lvl,
      $exclType = 'exclType' + $lvl,
      $exclIsNumber = 'exclIsNumber' + $lvl,
      $opExpr = 'op' + $lvl,
      $opStr = '\' + ' + $opExpr + ' + \'';
    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';
    $schemaValueExcl = 'schemaExcl' + $lvl;
    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \'boolean\' && ' + ($exclType) + ' != \'undefined\' && ' + ($exclType) + ' != \'number\') { ';
    var $errorKeyword = $exclusiveKeyword;
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = ''; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ($errorKeyword || '_exclusiveLimit') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';
      if (it.opts.messages !== false) {
        out += ' , message: \'' + ($exclusiveKeyword) + ' should be boolean\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    var __err = out;
    out = $$outStack.pop();
    if (!it.compositeRule && $breakOnError) {
      /* istanbul ignore if */
      if (it.async) {
        out += ' throw new ValidationError([' + (__err) + ']); ';
      } else {
        out += ' validate.errors = [' + (__err) + ']; return false; ';
      }
    } else {
      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    }
    out += ' } else if ( ';
    if ($isData) {
      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
    }
    out += ' ' + ($exclType) + ' == \'number\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \'' + ($op) + '\' : \'' + ($op) + '=\'; ';
    if ($schema === undefined) {
      $errorKeyword = $exclusiveKeyword;
      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;
      $schemaValue = $schemaValueExcl;
      $isData = $isDataExcl;
    }
  } else {
    var $exclIsNumber = typeof $schemaExcl == 'number',
      $opStr = $op;
    if ($exclIsNumber && $isData) {
      var $opExpr = '\'' + $opStr + '\'';
      out += ' if ( ';
      if ($isData) {
        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
      }
      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';
    } else {
      if ($exclIsNumber && $schema === undefined) {
        $exclusive = true;
        $errorKeyword = $exclusiveKeyword;
        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;
        $schemaValue = $schemaExcl;
        $notOp += '=';
      } else {
        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);
        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {
          $exclusive = true;
          $errorKeyword = $exclusiveKeyword;
          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;
          $notOp += '=';
        } else {
          $exclusive = false;
          $opStr += '=';
        }
      }
      var $opExpr = '\'' + $opStr + '\'';
      out += ' if ( ';
      if ($isData) {
        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
      }
      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';
    }
  }
  $errorKeyword = $errorKeyword || $keyword;
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ($errorKeyword || '_limit') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should be ' + ($opStr) + ' ';
      if ($isData) {
        out += '\' + ' + ($schemaValue);
      } else {
        out += '' + ($schemaValue) + '\'';
      }
    }
    if (it.opts.verbose) {
      out += ' , schema:  ';
      if ($isData) {
        out += 'validate.schema' + ($schemaPath);
      } else {
        out += '' + ($schema);
      }
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += ' } ';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var _limitItems = function generate__limitItems(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $errorKeyword;
  var $data = 'data' + ($dataLvl || '');
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  var $op = $keyword == 'maxItems' ? '>' : '<';
  out += 'if ( ';
  if ($isData) {
    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
  }
  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';
  var $errorKeyword = $keyword;
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ($errorKeyword || '_limitItems') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should NOT have ';
      if ($keyword == 'maxItems') {
        out += 'more';
      } else {
        out += 'fewer';
      }
      out += ' than ';
      if ($isData) {
        out += '\' + ' + ($schemaValue) + ' + \'';
      } else {
        out += '' + ($schema);
      }
      out += ' items\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema:  ';
      if ($isData) {
        out += 'validate.schema' + ($schemaPath);
      } else {
        out += '' + ($schema);
      }
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += '} ';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var _limitLength = function generate__limitLength(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $errorKeyword;
  var $data = 'data' + ($dataLvl || '');
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  var $op = $keyword == 'maxLength' ? '>' : '<';
  out += 'if ( ';
  if ($isData) {
    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
  }
  if (it.opts.unicode === false) {
    out += ' ' + ($data) + '.length ';
  } else {
    out += ' ucs2length(' + ($data) + ') ';
  }
  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';
  var $errorKeyword = $keyword;
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ($errorKeyword || '_limitLength') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should NOT be ';
      if ($keyword == 'maxLength') {
        out += 'longer';
      } else {
        out += 'shorter';
      }
      out += ' than ';
      if ($isData) {
        out += '\' + ' + ($schemaValue) + ' + \'';
      } else {
        out += '' + ($schema);
      }
      out += ' characters\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema:  ';
      if ($isData) {
        out += 'validate.schema' + ($schemaPath);
      } else {
        out += '' + ($schema);
      }
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += '} ';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var _limitProperties = function generate__limitProperties(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $errorKeyword;
  var $data = 'data' + ($dataLvl || '');
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  var $op = $keyword == 'maxProperties' ? '>' : '<';
  out += 'if ( ';
  if ($isData) {
    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'number\') || ';
  }
  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';
  var $errorKeyword = $keyword;
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ($errorKeyword || '_limitProperties') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should NOT have ';
      if ($keyword == 'maxProperties') {
        out += 'more';
      } else {
        out += 'fewer';
      }
      out += ' than ';
      if ($isData) {
        out += '\' + ' + ($schemaValue) + ' + \'';
      } else {
        out += '' + ($schema);
      }
      out += ' properties\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema:  ';
      if ($isData) {
        out += 'validate.schema' + ($schemaPath);
      } else {
        out += '' + ($schema);
      }
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += '} ';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var multipleOf = function generate_multipleOf(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  out += 'var division' + ($lvl) + ';if (';
  if ($isData) {
    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \'number\' || ';
  }
  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';
  if (it.opts.multipleOfPrecision) {
    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';
  } else {
    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';
  }
  out += ' ) ';
  if ($isData) {
    out += '  )  ';
  }
  out += ' ) {   ';
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ('multipleOf') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should be multiple of ';
      if ($isData) {
        out += '\' + ' + ($schemaValue);
      } else {
        out += '' + ($schemaValue) + '\'';
      }
    }
    if (it.opts.verbose) {
      out += ' , schema:  ';
      if ($isData) {
        out += 'validate.schema' + ($schemaPath);
      } else {
        out += '' + ($schema);
      }
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += '} ';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var not = function generate_not(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {
    $it.schema = $schema;
    $it.schemaPath = $schemaPath;
    $it.errSchemaPath = $errSchemaPath;
    out += ' var ' + ($errs) + ' = errors;  ';
    var $wasComposite = it.compositeRule;
    it.compositeRule = $it.compositeRule = true;
    $it.createErrors = false;
    var $allErrorsOption;
    if ($it.opts.allErrors) {
      $allErrorsOption = $it.opts.allErrors;
      $it.opts.allErrors = false;
    }
    out += ' ' + (it.validate($it)) + ' ';
    $it.createErrors = true;
    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;
    it.compositeRule = $it.compositeRule = $wasComposite;
    out += ' if (' + ($nextValid) + ') {   ';
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = ''; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ('not') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';
      if (it.opts.messages !== false) {
        out += ' , message: \'should NOT be valid\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    var __err = out;
    out = $$outStack.pop();
    if (!it.compositeRule && $breakOnError) {
      /* istanbul ignore if */
      if (it.async) {
        out += ' throw new ValidationError([' + (__err) + ']); ';
      } else {
        out += ' validate.errors = [' + (__err) + ']; return false; ';
      }
    } else {
      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    }
    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';
    if (it.opts.allErrors) {
      out += ' } ';
    }
  } else {
    out += '  var err =   '; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ('not') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';
      if (it.opts.messages !== false) {
        out += ' , message: \'should NOT be valid\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    if ($breakOnError) {
      out += ' if (false) { ';
    }
  }
  return out;
};

var oneOf = function generate_oneOf(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $currentBaseId = $it.baseId,
    $prevValid = 'prevValid' + $lvl,
    $passingSchemas = 'passingSchemas' + $lvl;
  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';
  var $wasComposite = it.compositeRule;
  it.compositeRule = $it.compositeRule = true;
  var arr1 = $schema;
  if (arr1) {
    var $sch, $i = -1,
      l1 = arr1.length - 1;
    while ($i < l1) {
      $sch = arr1[$i += 1];
      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {
        $it.schema = $sch;
        $it.schemaPath = $schemaPath + '[' + $i + ']';
        $it.errSchemaPath = $errSchemaPath + '/' + $i;
        out += '  ' + (it.validate($it)) + ' ';
        $it.baseId = $currentBaseId;
      } else {
        out += ' var ' + ($nextValid) + ' = true; ';
      }
      if ($i) {
        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';
        $closingBraces += '}';
      }
      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';
    }
  }
  it.compositeRule = $it.compositeRule = $wasComposite;
  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ('oneOf') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should match exactly one schema in oneOf\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError(vErrors); ';
    } else {
      out += ' validate.errors = vErrors; return false; ';
    }
  }
  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';
  if (it.opts.allErrors) {
    out += ' } ';
  }
  return out;
};

var pattern = function generate_pattern(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);
  out += 'if ( ';
  if ($isData) {
    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \'string\') || ';
  }
  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';
  var $$outStack = $$outStack || [];
  $$outStack.push(out);
  out = ''; /* istanbul ignore else */
  if (it.createErrors !== false) {
    out += ' { keyword: \'' + ('pattern') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';
    if ($isData) {
      out += '' + ($schemaValue);
    } else {
      out += '' + (it.util.toQuotedString($schema));
    }
    out += '  } ';
    if (it.opts.messages !== false) {
      out += ' , message: \'should match pattern "';
      if ($isData) {
        out += '\' + ' + ($schemaValue) + ' + \'';
      } else {
        out += '' + (it.util.escapeQuotes($schema));
      }
      out += '"\' ';
    }
    if (it.opts.verbose) {
      out += ' , schema:  ';
      if ($isData) {
        out += 'validate.schema' + ($schemaPath);
      } else {
        out += '' + (it.util.toQuotedString($schema));
      }
      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
    }
    out += ' } ';
  } else {
    out += ' {} ';
  }
  var __err = out;
  out = $$outStack.pop();
  if (!it.compositeRule && $breakOnError) {
    /* istanbul ignore if */
    if (it.async) {
      out += ' throw new ValidationError([' + (__err) + ']); ';
    } else {
      out += ' validate.errors = [' + (__err) + ']; return false; ';
    }
  } else {
    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
  }
  out += '} ';
  if ($breakOnError) {
    out += ' else { ';
  }
  return out;
};

var properties = function generate_properties(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  var $key = 'key' + $lvl,
    $idx = 'idx' + $lvl,
    $dataNxt = $it.dataLevel = it.dataLevel + 1,
    $nextData = 'data' + $dataNxt,
    $dataProperties = 'dataProperties' + $lvl;
  var $schemaKeys = Object.keys($schema || {}),
    $pProperties = it.schema.patternProperties || {},
    $pPropertyKeys = Object.keys($pProperties),
    $aProperties = it.schema.additionalProperties,
    $someProperties = $schemaKeys.length || $pPropertyKeys.length,
    $noAdditional = $aProperties === false,
    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,
    $removeAdditional = it.opts.removeAdditional,
    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,
    $ownProperties = it.opts.ownProperties,
    $currentBaseId = it.baseId;
  var $required = it.schema.required;
  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);
  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';
  if ($ownProperties) {
    out += ' var ' + ($dataProperties) + ' = undefined;';
  }
  if ($checkAdditional) {
    if ($ownProperties) {
      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';
    } else {
      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';
    }
    if ($someProperties) {
      out += ' var isAdditional' + ($lvl) + ' = !(false ';
      if ($schemaKeys.length) {
        if ($schemaKeys.length > 8) {
          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';
        } else {
          var arr1 = $schemaKeys;
          if (arr1) {
            var $propertyKey, i1 = -1,
              l1 = arr1.length - 1;
            while (i1 < l1) {
              $propertyKey = arr1[i1 += 1];
              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';
            }
          }
        }
      }
      if ($pPropertyKeys.length) {
        var arr2 = $pPropertyKeys;
        if (arr2) {
          var $pProperty, $i = -1,
            l2 = arr2.length - 1;
          while ($i < l2) {
            $pProperty = arr2[$i += 1];
            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';
          }
        }
      }
      out += ' ); if (isAdditional' + ($lvl) + ') { ';
    }
    if ($removeAdditional == 'all') {
      out += ' delete ' + ($data) + '[' + ($key) + ']; ';
    } else {
      var $currentErrorPath = it.errorPath;
      var $additionalProperty = '\' + ' + $key + ' + \'';
      if (it.opts._errorDataPathProperty) {
        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
      }
      if ($noAdditional) {
        if ($removeAdditional) {
          out += ' delete ' + ($data) + '[' + ($key) + ']; ';
        } else {
          out += ' ' + ($nextValid) + ' = false; ';
          var $currErrSchemaPath = $errSchemaPath;
          $errSchemaPath = it.errSchemaPath + '/additionalProperties';
          var $$outStack = $$outStack || [];
          $$outStack.push(out);
          out = ''; /* istanbul ignore else */
          if (it.createErrors !== false) {
            out += ' { keyword: \'' + ('additionalProperties') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \'' + ($additionalProperty) + '\' } ';
            if (it.opts.messages !== false) {
              out += ' , message: \'';
              if (it.opts._errorDataPathProperty) {
                out += 'is an invalid additional property';
              } else {
                out += 'should NOT have additional properties';
              }
              out += '\' ';
            }
            if (it.opts.verbose) {
              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
            }
            out += ' } ';
          } else {
            out += ' {} ';
          }
          var __err = out;
          out = $$outStack.pop();
          if (!it.compositeRule && $breakOnError) {
            /* istanbul ignore if */
            if (it.async) {
              out += ' throw new ValidationError([' + (__err) + ']); ';
            } else {
              out += ' validate.errors = [' + (__err) + ']; return false; ';
            }
          } else {
            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
          }
          $errSchemaPath = $currErrSchemaPath;
          if ($breakOnError) {
            out += ' break; ';
          }
        }
      } else if ($additionalIsSchema) {
        if ($removeAdditional == 'failing') {
          out += ' var ' + ($errs) + ' = errors;  ';
          var $wasComposite = it.compositeRule;
          it.compositeRule = $it.compositeRule = true;
          $it.schema = $aProperties;
          $it.schemaPath = it.schemaPath + '.additionalProperties';
          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';
          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
          var $passData = $data + '[' + $key + ']';
          $it.dataPathArr[$dataNxt] = $key;
          var $code = it.validate($it);
          $it.baseId = $currentBaseId;
          if (it.util.varOccurences($code, $nextData) < 2) {
            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
          } else {
            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
          }
          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';
          it.compositeRule = $it.compositeRule = $wasComposite;
        } else {
          $it.schema = $aProperties;
          $it.schemaPath = it.schemaPath + '.additionalProperties';
          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';
          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
          var $passData = $data + '[' + $key + ']';
          $it.dataPathArr[$dataNxt] = $key;
          var $code = it.validate($it);
          $it.baseId = $currentBaseId;
          if (it.util.varOccurences($code, $nextData) < 2) {
            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
          } else {
            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
          }
          if ($breakOnError) {
            out += ' if (!' + ($nextValid) + ') break; ';
          }
        }
      }
      it.errorPath = $currentErrorPath;
    }
    if ($someProperties) {
      out += ' } ';
    }
    out += ' }  ';
    if ($breakOnError) {
      out += ' if (' + ($nextValid) + ') { ';
      $closingBraces += '}';
    }
  }
  var $useDefaults = it.opts.useDefaults && !it.compositeRule;
  if ($schemaKeys.length) {
    var arr3 = $schemaKeys;
    if (arr3) {
      var $propertyKey, i3 = -1,
        l3 = arr3.length - 1;
      while (i3 < l3) {
        $propertyKey = arr3[i3 += 1];
        var $sch = $schema[$propertyKey];
        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {
          var $prop = it.util.getProperty($propertyKey),
            $passData = $data + $prop,
            $hasDefault = $useDefaults && $sch.default !== undefined;
          $it.schema = $sch;
          $it.schemaPath = $schemaPath + $prop;
          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);
          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);
          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);
          var $code = it.validate($it);
          $it.baseId = $currentBaseId;
          if (it.util.varOccurences($code, $nextData) < 2) {
            $code = it.util.varReplace($code, $nextData, $passData);
            var $useData = $passData;
          } else {
            var $useData = $nextData;
            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';
          }
          if ($hasDefault) {
            out += ' ' + ($code) + ' ';
          } else {
            if ($requiredHash && $requiredHash[$propertyKey]) {
              out += ' if ( ' + ($useData) + ' === undefined ';
              if ($ownProperties) {
                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($propertyKey)) + '\') ';
              }
              out += ') { ' + ($nextValid) + ' = false; ';
              var $currentErrorPath = it.errorPath,
                $currErrSchemaPath = $errSchemaPath,
                $missingProperty = it.util.escapeQuotes($propertyKey);
              if (it.opts._errorDataPathProperty) {
                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
              }
              $errSchemaPath = it.errSchemaPath + '/required';
              var $$outStack = $$outStack || [];
              $$outStack.push(out);
              out = ''; /* istanbul ignore else */
              if (it.createErrors !== false) {
                out += ' { keyword: \'' + ('required') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \'' + ($missingProperty) + '\' } ';
                if (it.opts.messages !== false) {
                  out += ' , message: \'';
                  if (it.opts._errorDataPathProperty) {
                    out += 'is a required property';
                  } else {
                    out += 'should have required property \\\'' + ($missingProperty) + '\\\'';
                  }
                  out += '\' ';
                }
                if (it.opts.verbose) {
                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
                }
                out += ' } ';
              } else {
                out += ' {} ';
              }
              var __err = out;
              out = $$outStack.pop();
              if (!it.compositeRule && $breakOnError) {
                /* istanbul ignore if */
                if (it.async) {
                  out += ' throw new ValidationError([' + (__err) + ']); ';
                } else {
                  out += ' validate.errors = [' + (__err) + ']; return false; ';
                }
              } else {
                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
              }
              $errSchemaPath = $currErrSchemaPath;
              it.errorPath = $currentErrorPath;
              out += ' } else { ';
            } else {
              if ($breakOnError) {
                out += ' if ( ' + ($useData) + ' === undefined ';
                if ($ownProperties) {
                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($propertyKey)) + '\') ';
                }
                out += ') { ' + ($nextValid) + ' = true; } else { ';
              } else {
                out += ' if (' + ($useData) + ' !== undefined ';
                if ($ownProperties) {
                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($propertyKey)) + '\') ';
                }
                out += ' ) { ';
              }
            }
            out += ' ' + ($code) + ' } ';
          }
        }
        if ($breakOnError) {
          out += ' if (' + ($nextValid) + ') { ';
          $closingBraces += '}';
        }
      }
    }
  }
  if ($pPropertyKeys.length) {
    var arr4 = $pPropertyKeys;
    if (arr4) {
      var $pProperty, i4 = -1,
        l4 = arr4.length - 1;
      while (i4 < l4) {
        $pProperty = arr4[i4 += 1];
        var $sch = $pProperties[$pProperty];
        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {
          $it.schema = $sch;
          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);
          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);
          if ($ownProperties) {
            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';
          } else {
            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';
          }
          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';
          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
          var $passData = $data + '[' + $key + ']';
          $it.dataPathArr[$dataNxt] = $key;
          var $code = it.validate($it);
          $it.baseId = $currentBaseId;
          if (it.util.varOccurences($code, $nextData) < 2) {
            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
          } else {
            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
          }
          if ($breakOnError) {
            out += ' if (!' + ($nextValid) + ') break; ';
          }
          out += ' } ';
          if ($breakOnError) {
            out += ' else ' + ($nextValid) + ' = true; ';
          }
          out += ' }  ';
          if ($breakOnError) {
            out += ' if (' + ($nextValid) + ') { ';
            $closingBraces += '}';
          }
        }
      }
    }
  }
  if ($breakOnError) {
    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';
  }
  out = it.util.cleanUpCode(out);
  return out;
};

var propertyNames = function generate_propertyNames(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $errs = 'errs__' + $lvl;
  var $it = it.util.copy(it);
  var $closingBraces = '';
  $it.level++;
  var $nextValid = 'valid' + $it.level;
  out += 'var ' + ($errs) + ' = errors;';
  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {
    $it.schema = $schema;
    $it.schemaPath = $schemaPath;
    $it.errSchemaPath = $errSchemaPath;
    var $key = 'key' + $lvl,
      $idx = 'idx' + $lvl,
      $i = 'i' + $lvl,
      $invalidName = '\' + ' + $key + ' + \'',
      $dataNxt = $it.dataLevel = it.dataLevel + 1,
      $nextData = 'data' + $dataNxt,
      $dataProperties = 'dataProperties' + $lvl,
      $ownProperties = it.opts.ownProperties,
      $currentBaseId = it.baseId;
    if ($ownProperties) {
      out += ' var ' + ($dataProperties) + ' = undefined; ';
    }
    if ($ownProperties) {
      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';
    } else {
      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';
    }
    out += ' var startErrs' + ($lvl) + ' = errors; ';
    var $passData = $key;
    var $wasComposite = it.compositeRule;
    it.compositeRule = $it.compositeRule = true;
    var $code = it.validate($it);
    $it.baseId = $currentBaseId;
    if (it.util.varOccurences($code, $nextData) < 2) {
      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';
    } else {
      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';
    }
    it.compositeRule = $it.compositeRule = $wasComposite;
    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ('propertyNames') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \'' + ($invalidName) + '\' } ';
      if (it.opts.messages !== false) {
        out += ' , message: \'property name \\\'' + ($invalidName) + '\\\' is invalid\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    if (!it.compositeRule && $breakOnError) {
      /* istanbul ignore if */
      if (it.async) {
        out += ' throw new ValidationError(vErrors); ';
      } else {
        out += ' validate.errors = vErrors; return false; ';
      }
    }
    if ($breakOnError) {
      out += ' break; ';
    }
    out += ' } }';
  }
  if ($breakOnError) {
    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';
  }
  out = it.util.cleanUpCode(out);
  return out;
};

var required = function generate_required(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $isData = it.opts.$data && $schema && $schema.$data;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
  }
  var $vSchema = 'schema' + $lvl;
  if (!$isData) {
    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {
      var $required = [];
      var arr1 = $schema;
      if (arr1) {
        var $property, i1 = -1,
          l1 = arr1.length - 1;
        while (i1 < l1) {
          $property = arr1[i1 += 1];
          var $propertySch = it.schema.properties[$property];
          if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == 'object' && Object.keys($propertySch).length > 0 : it.util.schemaHasRules($propertySch, it.RULES.all)))) {
            $required[$required.length] = $property;
          }
        }
      }
    } else {
      var $required = $schema;
    }
  }
  if ($isData || $required.length) {
    var $currentErrorPath = it.errorPath,
      $loopRequired = $isData || $required.length >= it.opts.loopRequired,
      $ownProperties = it.opts.ownProperties;
    if ($breakOnError) {
      out += ' var missing' + ($lvl) + '; ';
      if ($loopRequired) {
        if (!$isData) {
          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';
        }
        var $i = 'i' + $lvl,
          $propertyPath = 'schema' + $lvl + '[' + $i + ']',
          $missingProperty = '\' + ' + $propertyPath + ' + \'';
        if (it.opts._errorDataPathProperty) {
          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);
        }
        out += ' var ' + ($valid) + ' = true; ';
        if ($isData) {
          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';
        }
        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';
        if ($ownProperties) {
          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';
        }
        out += '; if (!' + ($valid) + ') break; } ';
        if ($isData) {
          out += '  }  ';
        }
        out += '  if (!' + ($valid) + ') {   ';
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = ''; /* istanbul ignore else */
        if (it.createErrors !== false) {
          out += ' { keyword: \'' + ('required') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \'' + ($missingProperty) + '\' } ';
          if (it.opts.messages !== false) {
            out += ' , message: \'';
            if (it.opts._errorDataPathProperty) {
              out += 'is a required property';
            } else {
              out += 'should have required property \\\'' + ($missingProperty) + '\\\'';
            }
            out += '\' ';
          }
          if (it.opts.verbose) {
            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
          }
          out += ' } ';
        } else {
          out += ' {} ';
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          /* istanbul ignore if */
          if (it.async) {
            out += ' throw new ValidationError([' + (__err) + ']); ';
          } else {
            out += ' validate.errors = [' + (__err) + ']; return false; ';
          }
        } else {
          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
        }
        out += ' } else { ';
      } else {
        out += ' if ( ';
        var arr2 = $required;
        if (arr2) {
          var $propertyKey, $i = -1,
            l2 = arr2.length - 1;
          while ($i < l2) {
            $propertyKey = arr2[$i += 1];
            if ($i) {
              out += ' || ';
            }
            var $prop = it.util.getProperty($propertyKey),
              $useData = $data + $prop;
            out += ' ( ( ' + ($useData) + ' === undefined ';
            if ($ownProperties) {
              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($propertyKey)) + '\') ';
            }
            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';
          }
        }
        out += ') {  ';
        var $propertyPath = 'missing' + $lvl,
          $missingProperty = '\' + ' + $propertyPath + ' + \'';
        if (it.opts._errorDataPathProperty) {
          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;
        }
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = ''; /* istanbul ignore else */
        if (it.createErrors !== false) {
          out += ' { keyword: \'' + ('required') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \'' + ($missingProperty) + '\' } ';
          if (it.opts.messages !== false) {
            out += ' , message: \'';
            if (it.opts._errorDataPathProperty) {
              out += 'is a required property';
            } else {
              out += 'should have required property \\\'' + ($missingProperty) + '\\\'';
            }
            out += '\' ';
          }
          if (it.opts.verbose) {
            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
          }
          out += ' } ';
        } else {
          out += ' {} ';
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          /* istanbul ignore if */
          if (it.async) {
            out += ' throw new ValidationError([' + (__err) + ']); ';
          } else {
            out += ' validate.errors = [' + (__err) + ']; return false; ';
          }
        } else {
          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
        }
        out += ' } else { ';
      }
    } else {
      if ($loopRequired) {
        if (!$isData) {
          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';
        }
        var $i = 'i' + $lvl,
          $propertyPath = 'schema' + $lvl + '[' + $i + ']',
          $missingProperty = '\' + ' + $propertyPath + ' + \'';
        if (it.opts._errorDataPathProperty) {
          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);
        }
        if ($isData) {
          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */
          if (it.createErrors !== false) {
            out += ' { keyword: \'' + ('required') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \'' + ($missingProperty) + '\' } ';
            if (it.opts.messages !== false) {
              out += ' , message: \'';
              if (it.opts._errorDataPathProperty) {
                out += 'is a required property';
              } else {
                out += 'should have required property \\\'' + ($missingProperty) + '\\\'';
              }
              out += '\' ';
            }
            if (it.opts.verbose) {
              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
            }
            out += ' } ';
          } else {
            out += ' {} ';
          }
          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';
        }
        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';
        if ($ownProperties) {
          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';
        }
        out += ') {  var err =   '; /* istanbul ignore else */
        if (it.createErrors !== false) {
          out += ' { keyword: \'' + ('required') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \'' + ($missingProperty) + '\' } ';
          if (it.opts.messages !== false) {
            out += ' , message: \'';
            if (it.opts._errorDataPathProperty) {
              out += 'is a required property';
            } else {
              out += 'should have required property \\\'' + ($missingProperty) + '\\\'';
            }
            out += '\' ';
          }
          if (it.opts.verbose) {
            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
          }
          out += ' } ';
        } else {
          out += ' {} ';
        }
        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';
        if ($isData) {
          out += '  }  ';
        }
      } else {
        var arr3 = $required;
        if (arr3) {
          var $propertyKey, i3 = -1,
            l3 = arr3.length - 1;
          while (i3 < l3) {
            $propertyKey = arr3[i3 += 1];
            var $prop = it.util.getProperty($propertyKey),
              $missingProperty = it.util.escapeQuotes($propertyKey),
              $useData = $data + $prop;
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
            }
            out += ' if ( ' + ($useData) + ' === undefined ';
            if ($ownProperties) {
              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \'' + (it.util.escapeQuotes($propertyKey)) + '\') ';
            }
            out += ') {  var err =   '; /* istanbul ignore else */
            if (it.createErrors !== false) {
              out += ' { keyword: \'' + ('required') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \'' + ($missingProperty) + '\' } ';
              if (it.opts.messages !== false) {
                out += ' , message: \'';
                if (it.opts._errorDataPathProperty) {
                  out += 'is a required property';
                } else {
                  out += 'should have required property \\\'' + ($missingProperty) + '\\\'';
                }
                out += '\' ';
              }
              if (it.opts.verbose) {
                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
              }
              out += ' } ';
            } else {
              out += ' {} ';
            }
            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';
          }
        }
      }
    }
    it.errorPath = $currentErrorPath;
  } else if ($breakOnError) {
    out += ' if (true) {';
  }
  return out;
};

var uniqueItems = function generate_uniqueItems(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  if (($schema || $isData) && it.opts.uniqueItems !== false) {
    if ($isData) {
      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \'boolean\') ' + ($valid) + ' = false; else { ';
    }
    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';
    var $itemType = it.schema.items && it.schema.items.type,
      $typeIsArray = Array.isArray($itemType);
    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {
      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';
    } else {
      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';
      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');
      out += ' if (' + (it.util[$method]($itemType, 'item', true)) + ') continue; ';
      if ($typeIsArray) {
        out += ' if (typeof item == \'string\') item = \'"\' + item; ';
      }
      out += ' if (typeof itemIndices[item] == \'number\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';
    }
    out += ' } ';
    if ($isData) {
      out += '  }  ';
    }
    out += ' if (!' + ($valid) + ') {   ';
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = ''; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ('uniqueItems') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';
      if (it.opts.messages !== false) {
        out += ' , message: \'should NOT have duplicate items (items ## \' + j + \' and \' + i + \' are identical)\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema:  ';
        if ($isData) {
          out += 'validate.schema' + ($schemaPath);
        } else {
          out += '' + ($schema);
        }
        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    var __err = out;
    out = $$outStack.pop();
    if (!it.compositeRule && $breakOnError) {
      /* istanbul ignore if */
      if (it.async) {
        out += ' throw new ValidationError([' + (__err) + ']); ';
      } else {
        out += ' validate.errors = [' + (__err) + ']; return false; ';
      }
    } else {
      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    }
    out += ' } ';
    if ($breakOnError) {
      out += ' else { ';
    }
  } else {
    if ($breakOnError) {
      out += ' if (true) { ';
    }
  }
  return out;
};

//all requires must be explicit because browserify won't work with dynamic requires
var dotjs = {
  '$ref': ref,
  allOf: allOf,
  anyOf: anyOf,
  '$comment': comment,
  const: _const,
  contains: contains,
  dependencies: dependencies,
  'enum': _enum,
  format: format,
  'if': _if,
  items: items,
  maximum: _limit,
  minimum: _limit,
  maxItems: _limitItems,
  minItems: _limitItems,
  maxLength: _limitLength,
  minLength: _limitLength,
  maxProperties: _limitProperties,
  minProperties: _limitProperties,
  multipleOf: multipleOf,
  not: not,
  oneOf: oneOf,
  pattern: pattern,
  properties: properties,
  propertyNames: propertyNames,
  required: required,
  uniqueItems: uniqueItems,
  validate: validate
};

var toHash$1 = util.toHash;

var rules = function rules() {
  var RULES = [
    { type: 'number',
      rules: [ { 'maximum': ['exclusiveMaximum'] },
               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },
    { type: 'string',
      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },
    { type: 'array',
      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },
    { type: 'object',
      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',
               { 'properties': ['additionalProperties', 'patternProperties'] } ] },
    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }
  ];

  var ALL = [ 'type', '$comment' ];
  var KEYWORDS = [
    '$schema', '$id', 'id', '$data', '$async', 'title',
    'description', 'default', 'definitions',
    'examples', 'readOnly', 'writeOnly',
    'contentMediaType', 'contentEncoding',
    'additionalItems', 'then', 'else'
  ];
  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];
  RULES.all = toHash$1(ALL);
  RULES.types = toHash$1(TYPES);

  RULES.forEach(function (group) {
    group.rules = group.rules.map(function (keyword) {
      var implKeywords;
      if (typeof keyword == 'object') {
        var key = Object.keys(keyword)[0];
        implKeywords = keyword[key];
        keyword = key;
        implKeywords.forEach(function (k) {
          ALL.push(k);
          RULES.all[k] = true;
        });
      }
      ALL.push(keyword);
      var rule = RULES.all[keyword] = {
        keyword: keyword,
        code: dotjs[keyword],
        implements: implKeywords
      };
      return rule;
    });

    RULES.all.$comment = {
      keyword: '$comment',
      code: dotjs.$comment
    };

    if (group.type) RULES.types[group.type] = group;
  });

  RULES.keywords = toHash$1(ALL.concat(KEYWORDS));
  RULES.custom = {};

  return RULES;
};

var KEYWORDS = [
  'multipleOf',
  'maximum',
  'exclusiveMaximum',
  'minimum',
  'exclusiveMinimum',
  'maxLength',
  'minLength',
  'pattern',
  'additionalItems',
  'maxItems',
  'minItems',
  'uniqueItems',
  'maxProperties',
  'minProperties',
  'required',
  'additionalProperties',
  'enum',
  'format',
  'const'
];

var data = function (metaSchema, keywordsJsonPointers) {
  for (var i=0; i<keywordsJsonPointers.length; i++) {
    metaSchema = JSON.parse(JSON.stringify(metaSchema));
    var segments = keywordsJsonPointers[i].split('/');
    var keywords = metaSchema;
    var j;
    for (j=1; j<segments.length; j++)
      keywords = keywords[segments[j]];

    for (j=0; j<KEYWORDS.length; j++) {
      var key = KEYWORDS[j];
      var schema = keywords[key];
      if (schema) {
        keywords[key] = {
          anyOf: [
            schema,
            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }
          ]
        };
      }
    }
  }

  return metaSchema;
};

var MissingRefError$1 = error_classes.MissingRef;

var async = compileAsync;


/**
 * Creates validating function for passed schema with asynchronous loading of missing schemas.
 * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.
 * @this  Ajv
 * @param {Object}   schema schema object
 * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped
 * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.
 * @return {Promise} promise that resolves with a validating function.
 */
function compileAsync(schema, meta, callback) {
  /* eslint no-shadow: 0 */
  /* global Promise */
  /* jshint validthis: true */
  var self = this;
  if (typeof this._opts.loadSchema != 'function')
    throw new Error('options.loadSchema should be a function');

  if (typeof meta == 'function') {
    callback = meta;
    meta = undefined;
  }

  var p = loadMetaSchemaOf(schema).then(function () {
    var schemaObj = self._addSchema(schema, undefined, meta);
    return schemaObj.validate || _compileAsync(schemaObj);
  });

  if (callback) {
    p.then(
      function(v) { callback(null, v); },
      callback
    );
  }

  return p;


  function loadMetaSchemaOf(sch) {
    var $schema = sch.$schema;
    return $schema && !self.getSchema($schema)
            ? compileAsync.call(self, { $ref: $schema }, true)
            : Promise.resolve();
  }


  function _compileAsync(schemaObj) {
    try { return self._compile(schemaObj); }
    catch(e) {
      if (e instanceof MissingRefError$1) return loadMissingSchema(e);
      throw e;
    }


    function loadMissingSchema(e) {
      var ref = e.missingSchema;
      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');

      var schemaPromise = self._loadingSchemas[ref];
      if (!schemaPromise) {
        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);
        schemaPromise.then(removePromise, removePromise);
      }

      return schemaPromise.then(function (sch) {
        if (!added(ref)) {
          return loadMetaSchemaOf(sch).then(function () {
            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);
          });
        }
      }).then(function() {
        return _compileAsync(schemaObj);
      });

      function removePromise() {
        delete self._loadingSchemas[ref];
      }

      function added(ref) {
        return self._refs[ref] || self._schemas[ref];
      }
    }
  }
}

var custom = function generate_custom(it, $keyword, $ruleType) {
  var out = ' ';
  var $lvl = it.level;
  var $dataLvl = it.dataLevel;
  var $schema = it.schema[$keyword];
  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;
  var $breakOnError = !it.opts.allErrors;
  var $errorKeyword;
  var $data = 'data' + ($dataLvl || '');
  var $valid = 'valid' + $lvl;
  var $errs = 'errs__' + $lvl;
  var $isData = it.opts.$data && $schema && $schema.$data,
    $schemaValue;
  if ($isData) {
    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';
    $schemaValue = 'schema' + $lvl;
  } else {
    $schemaValue = $schema;
  }
  var $rule = this,
    $definition = 'definition' + $lvl,
    $rDef = $rule.definition,
    $closingBraces = '';
  var $compile, $inline, $macro, $ruleValidate, $validateCode;
  if ($isData && $rDef.$data) {
    $validateCode = 'keywordValidate' + $lvl;
    var $validateSchema = $rDef.validateSchema;
    out += ' var ' + ($definition) + ' = RULES.custom[\'' + ($keyword) + '\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';
  } else {
    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);
    if (!$ruleValidate) return;
    $schemaValue = 'validate.schema' + $schemaPath;
    $validateCode = $ruleValidate.code;
    $compile = $rDef.compile;
    $inline = $rDef.inline;
    $macro = $rDef.macro;
  }
  var $ruleErrs = $validateCode + '.errors',
    $i = 'i' + $lvl,
    $ruleErr = 'ruleErr' + $lvl,
    $asyncKeyword = $rDef.async;
  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');
  if (!($inline || $macro)) {
    out += '' + ($ruleErrs) + ' = null;';
  }
  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';
  if ($isData && $rDef.$data) {
    $closingBraces += '}';
    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';
    if ($validateSchema) {
      $closingBraces += '}';
      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';
    }
  }
  if ($inline) {
    if ($rDef.statements) {
      out += ' ' + ($ruleValidate.validate) + ' ';
    } else {
      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';
    }
  } else if ($macro) {
    var $it = it.util.copy(it);
    var $closingBraces = '';
    $it.level++;
    var $nextValid = 'valid' + $it.level;
    $it.schema = $ruleValidate.validate;
    $it.schemaPath = '';
    var $wasComposite = it.compositeRule;
    it.compositeRule = $it.compositeRule = true;
    var $code = it.validate($it).replace(/validate\.schema/g, $validateCode);
    it.compositeRule = $it.compositeRule = $wasComposite;
    out += ' ' + ($code);
  } else {
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = '';
    out += '  ' + ($validateCode) + '.call( ';
    if (it.opts.passContext) {
      out += 'this';
    } else {
      out += 'self';
    }
    if ($compile || $rDef.schema === false) {
      out += ' , ' + ($data) + ' ';
    } else {
      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';
    }
    out += ' , (dataPath || \'\')';
    if (it.errorPath != '""') {
      out += ' + ' + (it.errorPath);
    }
    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',
      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';
    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';
    var def_callRuleValidate = out;
    out = $$outStack.pop();
    if ($rDef.errors === false) {
      out += ' ' + ($valid) + ' = ';
      if ($asyncKeyword) {
        out += 'await ';
      }
      out += '' + (def_callRuleValidate) + '; ';
    } else {
      if ($asyncKeyword) {
        $ruleErrs = 'customErrors' + $lvl;
        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';
      } else {
        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';
      }
    }
  }
  if ($rDef.modifying) {
    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';
  }
  out += '' + ($closingBraces);
  if ($rDef.valid) {
    if ($breakOnError) {
      out += ' if (true) { ';
    }
  } else {
    out += ' if ( ';
    if ($rDef.valid === undefined) {
      out += ' !';
      if ($macro) {
        out += '' + ($nextValid);
      } else {
        out += '' + ($valid);
      }
    } else {
      out += ' ' + (!$rDef.valid) + ' ';
    }
    out += ') { ';
    $errorKeyword = $rule.keyword;
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = '';
    var $$outStack = $$outStack || [];
    $$outStack.push(out);
    out = ''; /* istanbul ignore else */
    if (it.createErrors !== false) {
      out += ' { keyword: \'' + ($errorKeyword || 'custom') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \'' + ($rule.keyword) + '\' } ';
      if (it.opts.messages !== false) {
        out += ' , message: \'should pass "' + ($rule.keyword) + '" keyword validation\' ';
      }
      if (it.opts.verbose) {
        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
      }
      out += ' } ';
    } else {
      out += ' {} ';
    }
    var __err = out;
    out = $$outStack.pop();
    if (!it.compositeRule && $breakOnError) {
      /* istanbul ignore if */
      if (it.async) {
        out += ' throw new ValidationError([' + (__err) + ']); ';
      } else {
        out += ' validate.errors = [' + (__err) + ']; return false; ';
      }
    } else {
      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
    }
    var def_customError = out;
    out = $$outStack.pop();
    if ($inline) {
      if ($rDef.errors) {
        if ($rDef.errors != 'full') {
          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \'\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = "' + ($errSchemaPath) + '"; } ';
          if (it.opts.verbose) {
            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';
          }
          out += ' } ';
        }
      } else {
        if ($rDef.errors === false) {
          out += ' ' + (def_customError) + ' ';
        } else {
          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \'\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = "' + ($errSchemaPath) + '"; } ';
          if (it.opts.verbose) {
            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';
          }
          out += ' } } ';
        }
      }
    } else if ($macro) {
      out += '   var err =   '; /* istanbul ignore else */
      if (it.createErrors !== false) {
        out += ' { keyword: \'' + ($errorKeyword || 'custom') + '\' , dataPath: (dataPath || \'\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \'' + ($rule.keyword) + '\' } ';
        if (it.opts.messages !== false) {
          out += ' , message: \'should pass "' + ($rule.keyword) + '" keyword validation\' ';
        }
        if (it.opts.verbose) {
          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';
        }
        out += ' } ';
      } else {
        out += ' {} ';
      }
      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';
      if (!it.compositeRule && $breakOnError) {
        /* istanbul ignore if */
        if (it.async) {
          out += ' throw new ValidationError(vErrors); ';
        } else {
          out += ' validate.errors = vErrors; return false; ';
        }
      }
    } else {
      if ($rDef.errors === false) {
        out += ' ' + (def_customError) + ' ';
      } else {
        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \'\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = "' + ($errSchemaPath) + '";  ';
        if (it.opts.verbose) {
          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';
        }
        out += ' } } else { ' + (def_customError) + ' } ';
      }
    }
    out += ' } ';
    if ($breakOnError) {
      out += ' else { ';
    }
  }
  return out;
};

var $schema = "http://json-schema.org/draft-07/schema#";
var $id = "http://json-schema.org/draft-07/schema#";
var title = "Core schema meta-schema";
var definitions = {
	schemaArray: {
		type: "array",
		minItems: 1,
		items: {
			$ref: "#"
		}
	},
	nonNegativeInteger: {
		type: "integer",
		minimum: 0
	},
	nonNegativeIntegerDefault0: {
		allOf: [
			{
				$ref: "#/definitions/nonNegativeInteger"
			},
			{
				"default": 0
			}
		]
	},
	simpleTypes: {
		"enum": [
			"array",
			"boolean",
			"integer",
			"null",
			"number",
			"object",
			"string"
		]
	},
	stringArray: {
		type: "array",
		items: {
			type: "string"
		},
		uniqueItems: true,
		"default": [
		]
	}
};
var type = [
	"object",
	"boolean"
];
var properties$1 = {
	$id: {
		type: "string",
		format: "uri-reference"
	},
	$schema: {
		type: "string",
		format: "uri"
	},
	$ref: {
		type: "string",
		format: "uri-reference"
	},
	$comment: {
		type: "string"
	},
	title: {
		type: "string"
	},
	description: {
		type: "string"
	},
	"default": true,
	readOnly: {
		type: "boolean",
		"default": false
	},
	examples: {
		type: "array",
		items: true
	},
	multipleOf: {
		type: "number",
		exclusiveMinimum: 0
	},
	maximum: {
		type: "number"
	},
	exclusiveMaximum: {
		type: "number"
	},
	minimum: {
		type: "number"
	},
	exclusiveMinimum: {
		type: "number"
	},
	maxLength: {
		$ref: "#/definitions/nonNegativeInteger"
	},
	minLength: {
		$ref: "#/definitions/nonNegativeIntegerDefault0"
	},
	pattern: {
		type: "string",
		format: "regex"
	},
	additionalItems: {
		$ref: "#"
	},
	items: {
		anyOf: [
			{
				$ref: "#"
			},
			{
				$ref: "#/definitions/schemaArray"
			}
		],
		"default": true
	},
	maxItems: {
		$ref: "#/definitions/nonNegativeInteger"
	},
	minItems: {
		$ref: "#/definitions/nonNegativeIntegerDefault0"
	},
	uniqueItems: {
		type: "boolean",
		"default": false
	},
	contains: {
		$ref: "#"
	},
	maxProperties: {
		$ref: "#/definitions/nonNegativeInteger"
	},
	minProperties: {
		$ref: "#/definitions/nonNegativeIntegerDefault0"
	},
	required: {
		$ref: "#/definitions/stringArray"
	},
	additionalProperties: {
		$ref: "#"
	},
	definitions: {
		type: "object",
		additionalProperties: {
			$ref: "#"
		},
		"default": {
		}
	},
	properties: {
		type: "object",
		additionalProperties: {
			$ref: "#"
		},
		"default": {
		}
	},
	patternProperties: {
		type: "object",
		additionalProperties: {
			$ref: "#"
		},
		propertyNames: {
			format: "regex"
		},
		"default": {
		}
	},
	dependencies: {
		type: "object",
		additionalProperties: {
			anyOf: [
				{
					$ref: "#"
				},
				{
					$ref: "#/definitions/stringArray"
				}
			]
		}
	},
	propertyNames: {
		$ref: "#"
	},
	"const": true,
	"enum": {
		type: "array",
		items: true,
		minItems: 1,
		uniqueItems: true
	},
	type: {
		anyOf: [
			{
				$ref: "#/definitions/simpleTypes"
			},
			{
				type: "array",
				items: {
					$ref: "#/definitions/simpleTypes"
				},
				minItems: 1,
				uniqueItems: true
			}
		]
	},
	format: {
		type: "string"
	},
	contentMediaType: {
		type: "string"
	},
	contentEncoding: {
		type: "string"
	},
	"if": {
		$ref: "#"
	},
	then: {
		$ref: "#"
	},
	"else": {
		$ref: "#"
	},
	allOf: {
		$ref: "#/definitions/schemaArray"
	},
	anyOf: {
		$ref: "#/definitions/schemaArray"
	},
	oneOf: {
		$ref: "#/definitions/schemaArray"
	},
	not: {
		$ref: "#"
	}
};
var jsonSchemaDraft07 = {
	$schema: $schema,
	$id: $id,
	title: title,
	definitions: definitions,
	type: type,
	properties: properties$1,
	"default": true
};

var jsonSchemaDraft07$1 = /*#__PURE__*/Object.freeze({
  __proto__: null,
  $schema: $schema,
  $id: $id,
  title: title,
  definitions: definitions,
  type: type,
  properties: properties$1,
  'default': jsonSchemaDraft07
});

var require$$2 = getCjsExportFromNamespace(jsonSchemaDraft07$1);

var definition_schema = {
  $id: 'https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js',
  definitions: {
    simpleTypes: require$$2.definitions.simpleTypes
  },
  type: 'object',
  dependencies: {
    schema: ['validate'],
    $data: ['validate'],
    statements: ['inline'],
    valid: {not: {required: ['macro']}}
  },
  properties: {
    type: require$$2.properties.type,
    schema: {type: 'boolean'},
    statements: {type: 'boolean'},
    dependencies: {
      type: 'array',
      items: {type: 'string'}
    },
    metaSchema: {type: 'object'},
    modifying: {type: 'boolean'},
    valid: {type: 'boolean'},
    $data: {type: 'boolean'},
    async: {type: 'boolean'},
    errors: {
      anyOf: [
        {type: 'boolean'},
        {const: 'full'}
      ]
    }
  }
};

var IDENTIFIER$1 = /^[a-z_$][a-z0-9_$-]*$/i;



var keyword = {
  add: addKeyword,
  get: getKeyword,
  remove: removeKeyword,
  validate: validateKeyword
};


/**
 * Define custom keyword
 * @this  Ajv
 * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).
 * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.
 * @return {Ajv} this for method chaining
 */
function addKeyword(keyword, definition) {
  /* jshint validthis: true */
  /* eslint no-shadow: 0 */
  var RULES = this.RULES;
  if (RULES.keywords[keyword])
    throw new Error('Keyword ' + keyword + ' is already defined');

  if (!IDENTIFIER$1.test(keyword))
    throw new Error('Keyword ' + keyword + ' is not a valid identifier');

  if (definition) {
    this.validateKeyword(definition, true);

    var dataType = definition.type;
    if (Array.isArray(dataType)) {
      for (var i=0; i<dataType.length; i++)
        _addRule(keyword, dataType[i], definition);
    } else {
      _addRule(keyword, dataType, definition);
    }

    var metaSchema = definition.metaSchema;
    if (metaSchema) {
      if (definition.$data && this._opts.$data) {
        metaSchema = {
          anyOf: [
            metaSchema,
            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }
          ]
        };
      }
      definition.validateSchema = this.compile(metaSchema, true);
    }
  }

  RULES.keywords[keyword] = RULES.all[keyword] = true;


  function _addRule(keyword, dataType, definition) {
    var ruleGroup;
    for (var i=0; i<RULES.length; i++) {
      var rg = RULES[i];
      if (rg.type == dataType) {
        ruleGroup = rg;
        break;
      }
    }

    if (!ruleGroup) {
      ruleGroup = { type: dataType, rules: [] };
      RULES.push(ruleGroup);
    }

    var rule = {
      keyword: keyword,
      definition: definition,
      custom: true,
      code: custom,
      implements: definition.implements
    };
    ruleGroup.rules.push(rule);
    RULES.custom[keyword] = rule;
  }

  return this;
}


/**
 * Get keyword
 * @this  Ajv
 * @param {String} keyword pre-defined or custom keyword.
 * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.
 */
function getKeyword(keyword) {
  /* jshint validthis: true */
  var rule = this.RULES.custom[keyword];
  return rule ? rule.definition : this.RULES.keywords[keyword] || false;
}


/**
 * Remove keyword
 * @this  Ajv
 * @param {String} keyword pre-defined or custom keyword.
 * @return {Ajv} this for method chaining
 */
function removeKeyword(keyword) {
  /* jshint validthis: true */
  var RULES = this.RULES;
  delete RULES.keywords[keyword];
  delete RULES.all[keyword];
  delete RULES.custom[keyword];
  for (var i=0; i<RULES.length; i++) {
    var rules = RULES[i].rules;
    for (var j=0; j<rules.length; j++) {
      if (rules[j].keyword == keyword) {
        rules.splice(j, 1);
        break;
      }
    }
  }
  return this;
}


/**
 * Validate keyword definition
 * @this  Ajv
 * @param {Object} definition keyword definition object.
 * @param {Boolean} throwError true to throw exception if definition is invalid
 * @return {boolean} validation result
 */
function validateKeyword(definition, throwError) {
  validateKeyword.errors = null;
  var v = this._validateKeyword = this._validateKeyword
                                  || this.compile(definition_schema, true);

  if (v(definition)) return true;
  validateKeyword.errors = v.errors;
  if (throwError)
    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));
  else
    return false;
}

var $schema$1 = "http://json-schema.org/draft-07/schema#";
var $id$1 = "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#";
var description = "Meta-schema for $data reference (JSON Schema extension proposal)";
var type$1 = "object";
var required$1 = [
	"$data"
];
var properties$2 = {
	$data: {
		type: "string",
		anyOf: [
			{
				format: "relative-json-pointer"
			},
			{
				format: "json-pointer"
			}
		]
	}
};
var additionalProperties = false;
var data$1 = {
	$schema: $schema$1,
	$id: $id$1,
	description: description,
	type: type$1,
	required: required$1,
	properties: properties$2,
	additionalProperties: additionalProperties
};

var data$2 = /*#__PURE__*/Object.freeze({
  __proto__: null,
  $schema: $schema$1,
  $id: $id$1,
  description: description,
  type: type$1,
  required: required$1,
  properties: properties$2,
  additionalProperties: additionalProperties,
  'default': data$1
});

var require$$1 = getCjsExportFromNamespace(data$2);

var ajv = Ajv;

Ajv.prototype.validate = validate$1;
Ajv.prototype.compile = compile$1;
Ajv.prototype.addSchema = addSchema;
Ajv.prototype.addMetaSchema = addMetaSchema;
Ajv.prototype.validateSchema = validateSchema;
Ajv.prototype.getSchema = getSchema;
Ajv.prototype.removeSchema = removeSchema;
Ajv.prototype.addFormat = addFormat;
Ajv.prototype.errorsText = errorsText;

Ajv.prototype._addSchema = _addSchema;
Ajv.prototype._compile = _compile;

Ajv.prototype.compileAsync = async;

Ajv.prototype.addKeyword = keyword.add;
Ajv.prototype.getKeyword = keyword.get;
Ajv.prototype.removeKeyword = keyword.remove;
Ajv.prototype.validateKeyword = keyword.validate;


Ajv.ValidationError = error_classes.Validation;
Ajv.MissingRefError = error_classes.MissingRef;
Ajv.$dataMetaSchema = data;

var META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';

var META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];
var META_SUPPORT_DATA = ['/properties'];

/**
 * Creates validator instance.
 * Usage: `Ajv(opts)`
 * @param {Object} opts optional options
 * @return {Object} ajv instance
 */
function Ajv(opts) {
  if (!(this instanceof Ajv)) return new Ajv(opts);
  opts = this._opts = util.copy(opts) || {};
  setLogger(this);
  this._schemas = {};
  this._refs = {};
  this._fragments = {};
  this._formats = formats_1(opts.format);

  this._cache = opts.cache || new cache;
  this._loadingSchemas = {};
  this._compilations = [];
  this.RULES = rules();
  this._getId = chooseGetId(opts);

  opts.loopRequired = opts.loopRequired || Infinity;
  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;
  if (opts.serialize === undefined) opts.serialize = fastJsonStableStringify;
  this._metaOpts = getMetaSchemaOptions(this);

  if (opts.formats) addInitialFormats(this);
  if (opts.keywords) addInitialKeywords(this);
  addDefaultMetaSchema(this);
  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);
  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});
  addInitialSchemas(this);
}



/**
 * Validate data using schema
 * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.
 * @this   Ajv
 * @param  {String|Object} schemaKeyRef key, ref or schema object
 * @param  {Any} data to be validated
 * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).
 */
function validate$1(schemaKeyRef, data) {
  var v;
  if (typeof schemaKeyRef == 'string') {
    v = this.getSchema(schemaKeyRef);
    if (!v) throw new Error('no schema with key or ref "' + schemaKeyRef + '"');
  } else {
    var schemaObj = this._addSchema(schemaKeyRef);
    v = schemaObj.validate || this._compile(schemaObj);
  }

  var valid = v(data);
  if (v.$async !== true) this.errors = v.errors;
  return valid;
}


/**
 * Create validating function for passed schema.
 * @this   Ajv
 * @param  {Object} schema schema object
 * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.
 * @return {Function} validating function
 */
function compile$1(schema, _meta) {
  var schemaObj = this._addSchema(schema, undefined, _meta);
  return schemaObj.validate || this._compile(schemaObj);
}


/**
 * Adds schema to the instance.
 * @this   Ajv
 * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.
 * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.
 * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.
 * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.
 * @return {Ajv} this for method chaining
 */
function addSchema(schema, key, _skipValidation, _meta) {
  if (Array.isArray(schema)){
    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);
    return this;
  }
  var id = this._getId(schema);
  if (id !== undefined && typeof id != 'string')
    throw new Error('schema id must be string');
  key = resolve_1.normalizeId(key || id);
  checkUnique(this, key);
  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);
  return this;
}


/**
 * Add schema that will be used to validate other schemas
 * options in META_IGNORE_OPTIONS are alway set to false
 * @this   Ajv
 * @param {Object} schema schema object
 * @param {String} key optional schema key
 * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema
 * @return {Ajv} this for method chaining
 */
function addMetaSchema(schema, key, skipValidation) {
  this.addSchema(schema, key, skipValidation, true);
  return this;
}


/**
 * Validate schema
 * @this   Ajv
 * @param {Object} schema schema to validate
 * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid
 * @return {Boolean} true if schema is valid
 */
function validateSchema(schema, throwOrLogError) {
  var $schema = schema.$schema;
  if ($schema !== undefined && typeof $schema != 'string')
    throw new Error('$schema must be a string');
  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);
  if (!$schema) {
    this.logger.warn('meta-schema not available');
    this.errors = null;
    return true;
  }
  var valid = this.validate($schema, schema);
  if (!valid && throwOrLogError) {
    var message = 'schema is invalid: ' + this.errorsText();
    if (this._opts.validateSchema == 'log') this.logger.error(message);
    else throw new Error(message);
  }
  return valid;
}


function defaultMeta(self) {
  var meta = self._opts.meta;
  self._opts.defaultMeta = typeof meta == 'object'
                            ? self._getId(meta) || meta
                            : self.getSchema(META_SCHEMA_ID)
                              ? META_SCHEMA_ID
                              : undefined;
  return self._opts.defaultMeta;
}


/**
 * Get compiled schema from the instance by `key` or `ref`.
 * @this   Ajv
 * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).
 * @return {Function} schema validating function (with property `schema`).
 */
function getSchema(keyRef) {
  var schemaObj = _getSchemaObj(this, keyRef);
  switch (typeof schemaObj) {
    case 'object': return schemaObj.validate || this._compile(schemaObj);
    case 'string': return this.getSchema(schemaObj);
    case 'undefined': return _getSchemaFragment(this, keyRef);
  }
}


function _getSchemaFragment(self, ref) {
  var res = resolve_1.schema.call(self, { schema: {} }, ref);
  if (res) {
    var schema = res.schema
      , root = res.root
      , baseId = res.baseId;
    var v = compile_1.call(self, schema, root, undefined, baseId);
    self._fragments[ref] = new schema_obj({
      ref: ref,
      fragment: true,
      schema: schema,
      root: root,
      baseId: baseId,
      validate: v
    });
    return v;
  }
}


function _getSchemaObj(self, keyRef) {
  keyRef = resolve_1.normalizeId(keyRef);
  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];
}


/**
 * Remove cached schema(s).
 * If no parameter is passed all schemas but meta-schemas are removed.
 * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.
 * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.
 * @this   Ajv
 * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object
 * @return {Ajv} this for method chaining
 */
function removeSchema(schemaKeyRef) {
  if (schemaKeyRef instanceof RegExp) {
    _removeAllSchemas(this, this._schemas, schemaKeyRef);
    _removeAllSchemas(this, this._refs, schemaKeyRef);
    return this;
  }
  switch (typeof schemaKeyRef) {
    case 'undefined':
      _removeAllSchemas(this, this._schemas);
      _removeAllSchemas(this, this._refs);
      this._cache.clear();
      return this;
    case 'string':
      var schemaObj = _getSchemaObj(this, schemaKeyRef);
      if (schemaObj) this._cache.del(schemaObj.cacheKey);
      delete this._schemas[schemaKeyRef];
      delete this._refs[schemaKeyRef];
      return this;
    case 'object':
      var serialize = this._opts.serialize;
      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;
      this._cache.del(cacheKey);
      var id = this._getId(schemaKeyRef);
      if (id) {
        id = resolve_1.normalizeId(id);
        delete this._schemas[id];
        delete this._refs[id];
      }
  }
  return this;
}


function _removeAllSchemas(self, schemas, regex) {
  for (var keyRef in schemas) {
    var schemaObj = schemas[keyRef];
    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {
      self._cache.del(schemaObj.cacheKey);
      delete schemas[keyRef];
    }
  }
}


/* @this   Ajv */
function _addSchema(schema, skipValidation, meta, shouldAddSchema) {
  if (typeof schema != 'object' && typeof schema != 'boolean')
    throw new Error('schema should be object or boolean');
  var serialize = this._opts.serialize;
  var cacheKey = serialize ? serialize(schema) : schema;
  var cached = this._cache.get(cacheKey);
  if (cached) return cached;

  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;

  var id = resolve_1.normalizeId(this._getId(schema));
  if (id && shouldAddSchema) checkUnique(this, id);

  var willValidate = this._opts.validateSchema !== false && !skipValidation;
  var recursiveMeta;
  if (willValidate && !(recursiveMeta = id && id == resolve_1.normalizeId(schema.$schema)))
    this.validateSchema(schema, true);

  var localRefs = resolve_1.ids.call(this, schema);

  var schemaObj = new schema_obj({
    id: id,
    schema: schema,
    localRefs: localRefs,
    cacheKey: cacheKey,
    meta: meta
  });

  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;
  this._cache.put(cacheKey, schemaObj);

  if (willValidate && recursiveMeta) this.validateSchema(schema, true);

  return schemaObj;
}


/* @this   Ajv */
function _compile(schemaObj, root) {
  if (schemaObj.compiling) {
    schemaObj.validate = callValidate;
    callValidate.schema = schemaObj.schema;
    callValidate.errors = null;
    callValidate.root = root ? root : callValidate;
    if (schemaObj.schema.$async === true)
      callValidate.$async = true;
    return callValidate;
  }
  schemaObj.compiling = true;

  var currentOpts;
  if (schemaObj.meta) {
    currentOpts = this._opts;
    this._opts = this._metaOpts;
  }

  var v;
  try { v = compile_1.call(this, schemaObj.schema, root, schemaObj.localRefs); }
  catch(e) {
    delete schemaObj.validate;
    throw e;
  }
  finally {
    schemaObj.compiling = false;
    if (schemaObj.meta) this._opts = currentOpts;
  }

  schemaObj.validate = v;
  schemaObj.refs = v.refs;
  schemaObj.refVal = v.refVal;
  schemaObj.root = v.root;
  return v;


  /* @this   {*} - custom context, see passContext option */
  function callValidate() {
    /* jshint validthis: true */
    var _validate = schemaObj.validate;
    var result = _validate.apply(this, arguments);
    callValidate.errors = _validate.errors;
    return result;
  }
}


function chooseGetId(opts) {
  switch (opts.schemaId) {
    case 'auto': return _get$IdOrId;
    case 'id': return _getId;
    default: return _get$Id;
  }
}

/* @this   Ajv */
function _getId(schema) {
  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);
  return schema.id;
}

/* @this   Ajv */
function _get$Id(schema) {
  if (schema.id) this.logger.warn('schema id ignored', schema.id);
  return schema.$id;
}


function _get$IdOrId(schema) {
  if (schema.$id && schema.id && schema.$id != schema.id)
    throw new Error('schema $id is different from id');
  return schema.$id || schema.id;
}


/**
 * Convert array of error message objects to string
 * @this   Ajv
 * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.
 * @param  {Object} options optional options with properties `separator` and `dataVar`.
 * @return {String} human readable string with all errors descriptions
 */
function errorsText(errors, options) {
  errors = errors || this.errors;
  if (!errors) return 'No errors';
  options = options || {};
  var separator = options.separator === undefined ? ', ' : options.separator;
  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;

  var text = '';
  for (var i=0; i<errors.length; i++) {
    var e = errors[i];
    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;
  }
  return text.slice(0, -separator.length);
}


/**
 * Add custom format
 * @this   Ajv
 * @param {String} name format name
 * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)
 * @return {Ajv} this for method chaining
 */
function addFormat(name, format) {
  if (typeof format == 'string') format = new RegExp(format);
  this._formats[name] = format;
  return this;
}


function addDefaultMetaSchema(self) {
  var $dataSchema;
  if (self._opts.$data) {
    $dataSchema = require$$1;
    self.addMetaSchema($dataSchema, $dataSchema.$id, true);
  }
  if (self._opts.meta === false) return;
  var metaSchema = require$$2;
  if (self._opts.$data) metaSchema = data(metaSchema, META_SUPPORT_DATA);
  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);
  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;
}


function addInitialSchemas(self) {
  var optsSchemas = self._opts.schemas;
  if (!optsSchemas) return;
  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);
  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);
}


function addInitialFormats(self) {
  for (var name in self._opts.formats) {
    var format = self._opts.formats[name];
    self.addFormat(name, format);
  }
}


function addInitialKeywords(self) {
  for (var name in self._opts.keywords) {
    var keyword = self._opts.keywords[name];
    self.addKeyword(name, keyword);
  }
}


function checkUnique(self, id) {
  if (self._schemas[id] || self._refs[id])
    throw new Error('schema with key or id "' + id + '" already exists');
}


function getMetaSchemaOptions(self) {
  var metaOpts = util.copy(self._opts);
  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)
    delete metaOpts[META_IGNORE_OPTIONS[i]];
  return metaOpts;
}


function setLogger(self) {
  var logger = self._opts.logger;
  if (logger === false) {
    self.logger = {log: noop, warn: noop, error: noop};
  } else {
    if (logger === undefined) logger = console;
    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))
      throw new Error('logger must implement log, warn and error methods');
    self.logger = logger;
  }
}


function noop() {}

/* global globalThis */
/* eslint no-restricted-globals: 1 */
function schema() {
  return {
    type: "object",
    properties: {
      timeline: { $ref: "#/defs/block" },
      totalDuration: { type: "number", minimum: 0 },
      staggerings: { type: "array", items: { $ref: "#/defs/staggering" } },
      enumerators: { type: "array", items: { $ref: "#/defs/enumerator" } },
      meta: { type: "object" }
    },
    additionalProperties: false,
    defs: {
      ease: {
        type: "string",
        enum: ["linear", "cubic", "quad", "exp", "bounce", "circle", "sin",
          "linearIn", "cubicIn", "quadIn", "expIn", "bounceIn", "circleIn", "sinIn",
          "linearOut", "cubicOut", "quadOut", "expOut", "bounceOut", "circleOut", "sinOut"
        ]
      },
      enumerator: {
        type: "object",
        properties: {
          name: { type: "string" },
          filter: { type: "string" },
          stepSize: { type: "number" },
          values: { type: "array" }
        },
        additionalProperties: false,
        oneOf: [
          { required: ["name", "filter", "stepSize"] },
          { required: ["name", "filter", "values"] }
        ]
      },
      staggering: {
        type: "object",
        properties: {
          name: { type: "string" },
          by: {
            oneOf: [
              { type: "string" },
              {
                type: "object",
                properties: {
                  initial: { type: "string" },
                  final: { type: "string" }
                },
                additionalProperties: false
              }
            ]
          },
          overlap: { type: "number" },
          order: { type: "string", enum: ["ascending", "descending"] },
          ease: { $ref: "#/defs/ease" },
          staggering: { $ref: "#/defs/subStaggering" }
        },
        additionalProperties: false,
        oneOf: [{ required: ["name", "overlap", "by"] }]
      },
      subStaggering: {
        type: "object",
        properties: {
          name: { type: "string" },
          by: { oneOf: [{ type: "string" }, { type: "object" }] },
          overlap: { type: "number" },
          order: { type: "string", enum: ["ascending", "descending"] },
          staggering: { $ref: "#/defs/subStaggering" }
        },
        additionalProperties: false,
        oneOf: [{ required: ["overlap", "by"] }]
      },
      block: {
        anyOf: [
          { $ref: "#/defs/sync" },
          { $ref: "#/defs/concat" },
          { $ref: "#/defs/markStep" },
          { $ref: "#/defs/axisStep" },
          { $ref: "#/defs/legendStep" },
          { $ref: "#/defs/pauseStep" },
          { $ref: "#/defs/viewStep" }
        ]
      },
      concat: {
        type: "object",
        properties: {
          concat: { type: "array", items: { $ref: "#/defs/block" } },
          autoScaleOrder: { type: "array", items: { type: "string" } },
          enumerator: { type: "string" }
        },
        required: ["concat"],
        additionalProperties: false
      },
      sync: {
        type: "object",
        properties: {
          sync: { type: "array", items: { $ref: "#/defs/block" } },
          anchor: { type: "string", enum: ["start", "end"] }
        },
        required: ["sync"],
        additionalProperties: false
      },
      markStep: {
        type: "object",
        properties: {
          component: {
            type: "object",
            properties: { mark: { type: "string" } },
            additionalProperties: false,
            required: ["mark"]
          },
          change: {
            type: "object",
            properties: {
              data: {
                oneOf: [
                  {
                    type: "object",
                    properties: {
                      keys: { type: "array", items: { type: "string" } },
                      enter: { type: "boolean" },
                      exit: { type: "boolean" },
                      update: { type: "boolean" }
                    },
                    additionalProperties: false
                  },
                  { type: "array", items: { type: "string" } },
                  { type: "boolean" }
                ]
              },
              scale: {
                oneOf: [
                  {
                    type: "object",
                    additionalProperties: {
                      type: "object",
                      properties: { data: { type: "boolean" } },
                      additionalProperties: false
                    }
                  },
                  { type: "boolean" },
                  { type: "array", items: { type: "string" } }
                ]
              },
              signal: {
                oneOf: [
                  { type: "array", items: { type: "string" } },
                  { type: "boolean" }
                ]
              },
              marktype: { type: "boolean" },
              encode: { $ref: "#/defs/encode" }
            },
            additionalProperties: false
          },
          timing: { $ref: "#/defs/timing" },
          enumerator: { type: "string" }
        },
        required: ["timing", "component"],
        additionalProperties: false
      },
      axisStep: {
        type: "object",
        properties: {
          component: {
            type: "object",
            properties: { axis: { type: "string" } },
            additionalProperties: false,
            required: ["axis"]
          },
          change: {
            type: "object",
            properties: {
              scale: {
                oneOf: [
                  {
                    type: "object",
                    properties: {
                      domainDimension: { type: "string", enum: ["same", "diff"] },
                      data: { type: "boolean" }
                    },
                    additionalProperties: false
                  },
                  { type: "boolean" }
                ]
              },
              signal: {
                oneOf: [
                  { type: "array", items: { type: "string" } },
                  { type: "boolean" }
                ]
              },
              marktype: { type: "boolean" },
              encode: {
                oneOf: [
                  {
                    type: "object",
                    properties: {
                      axis: { $ref: "#/defs/encode" },
                      title: { $ref: "#/defs/encode" },
                      ticks: { $ref: "#/defs/encode" },
                      labels: { $ref: "#/defs/encode" },
                      grid: { $ref: "#/defs/encode" },
                      domain: { $ref: "#/defs/encode" }
                    },
                    additionalProperties: false
                  },
                  { type: "boolean" }
                ]
              }
            },
            additionalProperties: false
          },
          timing: { $ref: "#/defs/timing" },
          enumerator: { type: "string" }
        },
        required: ["timing", "component"],
        additionalProperties: false
      },
      legendStep: {
        type: "object",
        properties: {
          component: {
            type: "object",
            properties: { legend: { type: "string" } },
            additionalProperties: false,
            required: ["legend"]
          },
          change: {
            type: "object",
            properties: {
              scale: {
                oneOf: [
                  {
                    type: "object",
                    properties: {
                      domainDimension: { type: "string", enum: ["same", "diff"] }
                    },
                    additionalProperties: {
                      type: "object",
                      properties: { data: { type: "boolean" } },
                      additionalProperties: false
                    }
                  },
                  { type: "boolean" },
                  { type: "array", items: { type: "string" } }
                ]
              },
              signal: {
                oneOf: [
                  { type: "array", items: { type: "string" } },
                  { type: "boolean" }
                ]
              },
              encode: {
                oneOf: [
                  {
                    type: "object",
                    properties: {
                      symbols: { $ref: "#/defs/encode" },
                      title: { $ref: "#/defs/encode" },
                      labels: { $ref: "#/defs/encode" },
                      entries: { $ref: "#/defs/encode" },
                      gradient: { $ref: "#/defs/encode" },
                      legend: { $ref: "#/defs/encode" }
                    },
                    additionalProperties: false
                  },
                  { type: "boolean" }
                ]
              }
            },
            additionalProperties: false
          },
          timing: { $ref: "#/defs/timing" },
          enumerator: { type: "string" }
        },
        required: ["timing", "component"],
        additionalProperties: false
      },
      pauseStep: {
        type: "object",
        properties: {
          component: { const: "pause" },
          timing: { $ref: "#/defs/timing" }
        },
        required: ["timing", "component"],
        additionalProperties: false
      },
      viewStep: {
        type: "object",
        properties: {
          component: { const: "view" },
          change: {
            type: "object",
            properties: {
              signal: {
                oneOf: [
                  { type: "array", items: { type: "string" } },
                  { type: "boolean" }
                ]
              },
              additionalProperties: false
            }
          },
          timing: { $ref: "#/defs/timing" }
        },
        required: ["timing", "component"],
        additionalProperties: false
      },
      timing: {
        type: "object",
        properties: {
          duration: {
            oneOf: [
              { type: "number", minimum: 0 },
              {
                type: "object",
                properties: { ratio: { type: "number", minimum: 0 } }
              }
            ]
          },
          delay: {
            oneOf: [
              { type: "number" },
              { type: "object", properties: { ratio: { type: "number" } } }
            ]
          },
          staggering: { type: "string" },
          ease: { $ref: "#/defs/ease" },
        }
      },
      encode: {
        oneOf: [
          {
            type: "object",
            properties: {
              update: { oneOf: [{ type: "object" }, { type: "boolean" }] },
              enter: { oneOf: [{ type: "object" }, { type: "boolean" }] },
              exit: { oneOf: [{ type: "object" }, { type: "boolean" }] }
            },
            additionalProperties: false
          },
          { type: "boolean" }
        ]
      }
    }
  };
}

function specChecker(spec) {
  const ajv$1 = new ajv();
  const validate = ajv$1.compile(schema());

  const valid = validate(spec);
  if (!valid) {
    throw new Error("Invalid Spec", validate.errors);
  }
  return true;
}

var RawCode = 'RawCode';
var Literal = 'Literal';
var Property = 'Property';
var Identifier = 'Identifier';

var ArrayExpression = 'ArrayExpression';
var BinaryExpression = 'BinaryExpression';
var CallExpression = 'CallExpression';
var ConditionalExpression = 'ConditionalExpression';
var LogicalExpression = 'LogicalExpression';
var MemberExpression = 'MemberExpression';
var ObjectExpression = 'ObjectExpression';
var UnaryExpression = 'UnaryExpression';

function ASTNode(type) {
  this.type = type;
}

ASTNode.prototype.visit = function(visitor) {
  var node = this, c, i, n;

  if (visitor(node)) return 1;

  for (c=children(node), i=0, n=c.length; i<n; ++i) {
    if (c[i].visit(visitor)) return 1;
  }
};

function children(node) {
  switch (node.type) {
    case ArrayExpression:
      return node.elements;
    case BinaryExpression:
    case LogicalExpression:
      return [node.left, node.right];
    case CallExpression:
      var args = node.arguments.slice();
      args.unshift(node.callee);
      return args;
    case ConditionalExpression:
      return [node.test, node.consequent, node.alternate];
    case MemberExpression:
      return [node.object, node.property];
    case ObjectExpression:
      return node.properties;
    case Property:
      return [node.key, node.value];
    case UnaryExpression:
      return [node.argument];
    case Identifier:
    case Literal:
    case RawCode:
    default:
      return [];
  }
}

/*
  The following expression parser is based on Esprima (http://esprima.org/).
  Original header comment and license for Esprima is included here:

  Copyright (C) 2013 Ariya Hidayat <ariya.hidayat@gmail.com>
  Copyright (C) 2013 Thaddee Tyl <thaddee.tyl@gmail.com>
  Copyright (C) 2013 Mathias Bynens <mathias@qiwi.be>
  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>
  Copyright (C) 2012 Mathias Bynens <mathias@qiwi.be>
  Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>
  Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>
  Copyright (C) 2012 Yusuke Suzuki <utatane.tea@gmail.com>
  Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>
  Copyright (C) 2011 Ariya Hidayat <ariya.hidayat@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

var TokenName,
    source,
    index,
    length,
    lookahead;

var TokenBooleanLiteral = 1,
    TokenEOF = 2,
    TokenIdentifier = 3,
    TokenKeyword = 4,
    TokenNullLiteral = 5,
    TokenNumericLiteral = 6,
    TokenPunctuator = 7,
    TokenStringLiteral = 8,
    TokenRegularExpression = 9;

TokenName = {};
TokenName[TokenBooleanLiteral] = 'Boolean';
TokenName[TokenEOF] = '<end>';
TokenName[TokenIdentifier] = 'Identifier';
TokenName[TokenKeyword] = 'Keyword';
TokenName[TokenNullLiteral] = 'Null';
TokenName[TokenNumericLiteral] = 'Numeric';
TokenName[TokenPunctuator] = 'Punctuator';
TokenName[TokenStringLiteral] = 'String';
TokenName[TokenRegularExpression] = 'RegularExpression';

var SyntaxArrayExpression = 'ArrayExpression',
    SyntaxBinaryExpression = 'BinaryExpression',
    SyntaxCallExpression = 'CallExpression',
    SyntaxConditionalExpression = 'ConditionalExpression',
    SyntaxIdentifier = 'Identifier',
    SyntaxLiteral = 'Literal',
    SyntaxLogicalExpression = 'LogicalExpression',
    SyntaxMemberExpression = 'MemberExpression',
    SyntaxObjectExpression = 'ObjectExpression',
    SyntaxProperty = 'Property',
    SyntaxUnaryExpression = 'UnaryExpression';

// Error messages should be identical to V8.
var MessageUnexpectedToken = 'Unexpected token %0',
    MessageUnexpectedNumber = 'Unexpected number',
    MessageUnexpectedString = 'Unexpected string',
    MessageUnexpectedIdentifier = 'Unexpected identifier',
    MessageUnexpectedReserved = 'Unexpected reserved word',
    MessageUnexpectedEOS = 'Unexpected end of input',
    MessageInvalidRegExp = 'Invalid regular expression',
    MessageUnterminatedRegExp = 'Invalid regular expression: missing /',
    MessageStrictOctalLiteral = 'Octal literals are not allowed in strict mode.',
    MessageStrictDuplicateProperty = 'Duplicate data property in object literal not allowed in strict mode';

var ILLEGAL = 'ILLEGAL',
    DISABLED = 'Disabled.';

// See also tools/generate-unicode-regex.py.
var RegexNonAsciiIdentifierStart = new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
    // eslint-disable-next-line no-misleading-character-class
    RegexNonAsciiIdentifierPart = new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");

// Ensure the condition is true, otherwise throw an error.
// This is only to have a better contract semantic, i.e. another safety net
// to catch a logic error. The condition shall be fulfilled in normal case.
// Do NOT use this to enforce a certain condition on any user input.

function assert(condition, message) {
  /* istanbul ignore next */
  if (!condition) {
    throw new Error('ASSERT: ' + message);
  }
}

function isDecimalDigit(ch) {
  return (ch >= 0x30 && ch <= 0x39); // 0..9
}

function isHexDigit(ch) {
  return '0123456789abcdefABCDEF'.indexOf(ch) >= 0;
}

function isOctalDigit(ch) {
  return '01234567'.indexOf(ch) >= 0;
}

// 7.2 White Space

function isWhiteSpace(ch) {
  return (ch === 0x20) || (ch === 0x09) || (ch === 0x0B) || (ch === 0x0C) || (ch === 0xA0) ||
    (ch >= 0x1680 && [0x1680, 0x180E, 0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A, 0x202F, 0x205F, 0x3000, 0xFEFF].indexOf(ch) >= 0);
}

// 7.3 Line Terminators

function isLineTerminator(ch) {
  return (ch === 0x0A) || (ch === 0x0D) || (ch === 0x2028) || (ch === 0x2029);
}

// 7.6 Identifier Names and Identifiers

function isIdentifierStart(ch) {
  return (ch === 0x24) || (ch === 0x5F) || // $ (dollar) and _ (underscore)
    (ch >= 0x41 && ch <= 0x5A) || // A..Z
    (ch >= 0x61 && ch <= 0x7A) || // a..z
    (ch === 0x5C) || // \ (backslash)
    ((ch >= 0x80) && RegexNonAsciiIdentifierStart.test(String.fromCharCode(ch)));
}

function isIdentifierPart(ch) {
  return (ch === 0x24) || (ch === 0x5F) || // $ (dollar) and _ (underscore)
    (ch >= 0x41 && ch <= 0x5A) || // A..Z
    (ch >= 0x61 && ch <= 0x7A) || // a..z
    (ch >= 0x30 && ch <= 0x39) || // 0..9
    (ch === 0x5C) || // \ (backslash)
    ((ch >= 0x80) && RegexNonAsciiIdentifierPart.test(String.fromCharCode(ch)));
}

// 7.6.1.1 Keywords

var keywords = {
  'if':1, 'in':1, 'do':1,
  'var':1, 'for':1, 'new':1, 'try':1, 'let':1,
  'this':1, 'else':1, 'case':1, 'void':1, 'with':1, 'enum':1,
  'while':1, 'break':1, 'catch':1, 'throw':1, 'const':1, 'yield':1, 'class':1, 'super':1,
  'return':1, 'typeof':1, 'delete':1, 'switch':1, 'export':1, 'import':1, 'public':1, 'static':1,
  'default':1, 'finally':1, 'extends':1, 'package':1, 'private':1,
  'function':1, 'continue':1, 'debugger':1,
  'interface':1, 'protected':1,
  'instanceof':1, 'implements':1
};

function skipComment() {
  var ch;

  while (index < length) {
    ch = source.charCodeAt(index);

    if (isWhiteSpace(ch) || isLineTerminator(ch)) {
      ++index;
    } else {
      break;
    }
  }
}

function scanHexEscape(prefix) {
  var i, len, ch, code = 0;

  len = (prefix === 'u') ? 4 : 2;
  for (i = 0; i < len; ++i) {
    if (index < length && isHexDigit(source[index])) {
      ch = source[index++];
      code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());
    } else {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }
  }
  return String.fromCharCode(code);
}

function scanUnicodeCodePointEscape() {
  var ch, code, cu1, cu2;

  ch = source[index];
  code = 0;

  // At least, one hex digit is required.
  if (ch === '}') {
    throwError({}, MessageUnexpectedToken, ILLEGAL);
  }

  while (index < length) {
    ch = source[index++];
    if (!isHexDigit(ch)) {
      break;
    }
    code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());
  }

  if (code > 0x10FFFF || ch !== '}') {
    throwError({}, MessageUnexpectedToken, ILLEGAL);
  }

  // UTF-16 Encoding
  if (code <= 0xFFFF) {
    return String.fromCharCode(code);
  }
  cu1 = ((code - 0x10000) >> 10) + 0xD800;
  cu2 = ((code - 0x10000) & 1023) + 0xDC00;
  return String.fromCharCode(cu1, cu2);
}

function getEscapedIdentifier() {
  var ch, id;

  ch = source.charCodeAt(index++);
  id = String.fromCharCode(ch);

  // '\u' (U+005C, U+0075) denotes an escaped character.
  if (ch === 0x5C) {
    if (source.charCodeAt(index) !== 0x75) {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }
    ++index;
    ch = scanHexEscape('u');
    if (!ch || ch === '\\' || !isIdentifierStart(ch.charCodeAt(0))) {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }
    id = ch;
  }

  while (index < length) {
    ch = source.charCodeAt(index);
    if (!isIdentifierPart(ch)) {
      break;
    }
    ++index;
    id += String.fromCharCode(ch);

    // '\u' (U+005C, U+0075) denotes an escaped character.
    if (ch === 0x5C) {
      id = id.substr(0, id.length - 1);
      if (source.charCodeAt(index) !== 0x75) {
        throwError({}, MessageUnexpectedToken, ILLEGAL);
      }
      ++index;
      ch = scanHexEscape('u');
      if (!ch || ch === '\\' || !isIdentifierPart(ch.charCodeAt(0))) {
        throwError({}, MessageUnexpectedToken, ILLEGAL);
      }
      id += ch;
    }
  }

  return id;
}

function getIdentifier() {
  var start, ch;

  start = index++;
  while (index < length) {
    ch = source.charCodeAt(index);
    if (ch === 0x5C) {
      // Blackslash (U+005C) marks Unicode escape sequence.
      index = start;
      return getEscapedIdentifier();
    }
    if (isIdentifierPart(ch)) {
      ++index;
    } else {
      break;
    }
  }

  return source.slice(start, index);
}

function scanIdentifier() {
  var start, id, type;

  start = index;

  // Backslash (U+005C) starts an escaped character.
  id = (source.charCodeAt(index) === 0x5C) ? getEscapedIdentifier() : getIdentifier();

  // There is no keyword or literal with only one character.
  // Thus, it must be an identifier.
  if (id.length === 1) {
    type = TokenIdentifier;
  } else if (keywords.hasOwnProperty(id)) { // eslint-disable-line no-prototype-builtins
    type = TokenKeyword;
  } else if (id === 'null') {
    type = TokenNullLiteral;
  } else if (id === 'true' || id === 'false') {
    type = TokenBooleanLiteral;
  } else {
    type = TokenIdentifier;
  }

  return {
    type: type,
    value: id,
    start: start,
    end: index
  };
}

// 7.7 Punctuators

function scanPunctuator() {
  var start = index,
    code = source.charCodeAt(index),
    code2,
    ch1 = source[index],
    ch2,
    ch3,
    ch4;

  switch (code) {

    // Check for most common single-character punctuators.
    case 0x2E: // . dot
    case 0x28: // ( open bracket
    case 0x29: // ) close bracket
    case 0x3B: // ; semicolon
    case 0x2C: // , comma
    case 0x7B: // { open curly brace
    case 0x7D: // } close curly brace
    case 0x5B: // [
    case 0x5D: // ]
    case 0x3A: // :
    case 0x3F: // ?
    case 0x7E: // ~
      ++index;
      return {
        type: TokenPunctuator,
        value: String.fromCharCode(code),
        start: start,
        end: index
      };

    default:
      code2 = source.charCodeAt(index + 1);

      // '=' (U+003D) marks an assignment or comparison operator.
      if (code2 === 0x3D) {
        switch (code) {
          case 0x2B: // +
          case 0x2D: // -
          case 0x2F: // /
          case 0x3C: // <
          case 0x3E: // >
          case 0x5E: // ^
          case 0x7C: // |
          case 0x25: // %
          case 0x26: // &
          case 0x2A: // *
            index += 2;
            return {
              type: TokenPunctuator,
              value: String.fromCharCode(code) + String.fromCharCode(code2),
              start: start,
              end: index
            };

          case 0x21: // !
          case 0x3D: // =
            index += 2;

            // !== and ===
            if (source.charCodeAt(index) === 0x3D) {
              ++index;
            }
            return {
              type: TokenPunctuator,
              value: source.slice(start, index),
              start: start,
              end: index
            };
        }
      }
  }

  // 4-character punctuator: >>>=

  ch4 = source.substr(index, 4);

  if (ch4 === '>>>=') {
    index += 4;
    return {
      type: TokenPunctuator,
      value: ch4,
      start: start,
      end: index
    };
  }

  // 3-character punctuators: === !== >>> <<= >>=

  ch3 = ch4.substr(0, 3);

  if (ch3 === '>>>' || ch3 === '<<=' || ch3 === '>>=') {
    index += 3;
    return {
      type: TokenPunctuator,
      value: ch3,
      start: start,
      end: index
    };
  }

  // Other 2-character punctuators: ++ -- << >> && ||
  ch2 = ch3.substr(0, 2);

  if ((ch1 === ch2[1] && ('+-<>&|'.indexOf(ch1) >= 0)) || ch2 === '=>') {
    index += 2;
    return {
      type: TokenPunctuator,
      value: ch2,
      start: start,
      end: index
    };
  }

  // 1-character punctuators: < > = ! + - * % & | ^ /

  if ('<>=!+-*%&|^/'.indexOf(ch1) >= 0) {
    ++index;
    return {
      type: TokenPunctuator,
      value: ch1,
      start: start,
      end: index
    };
  }

  throwError({}, MessageUnexpectedToken, ILLEGAL);
}

// 7.8.3 Numeric Literals

function scanHexLiteral(start) {
  var number = '';

  while (index < length) {
    if (!isHexDigit(source[index])) {
      break;
    }
    number += source[index++];
  }

  if (number.length === 0) {
    throwError({}, MessageUnexpectedToken, ILLEGAL);
  }

  if (isIdentifierStart(source.charCodeAt(index))) {
    throwError({}, MessageUnexpectedToken, ILLEGAL);
  }

  return {
    type: TokenNumericLiteral,
    value: parseInt('0x' + number, 16),
    start: start,
    end: index
  };
}

function scanOctalLiteral(start) {
  var number = '0' + source[index++];
  while (index < length) {
    if (!isOctalDigit(source[index])) {
      break;
    }
    number += source[index++];
  }

  if (isIdentifierStart(source.charCodeAt(index)) || isDecimalDigit(source.charCodeAt(index))) {
    throwError({}, MessageUnexpectedToken, ILLEGAL);
  }

  return {
    type: TokenNumericLiteral,
    value: parseInt(number, 8),
    octal: true,
    start: start,
    end: index
  };
}

function scanNumericLiteral() {
  var number, start, ch;

  ch = source[index];
  assert(isDecimalDigit(ch.charCodeAt(0)) || (ch === '.'),
    'Numeric literal must start with a decimal digit or a decimal point');

  start = index;
  number = '';
  if (ch !== '.') {
    number = source[index++];
    ch = source[index];

    // Hex number starts with '0x'.
    // Octal number starts with '0'.
    if (number === '0') {
      if (ch === 'x' || ch === 'X') {
        ++index;
        return scanHexLiteral(start);
      }
      if (isOctalDigit(ch)) {
        return scanOctalLiteral(start);
      }

      // decimal number starts with '0' such as '09' is illegal.
      if (ch && isDecimalDigit(ch.charCodeAt(0))) {
        throwError({}, MessageUnexpectedToken, ILLEGAL);
      }
    }

    while (isDecimalDigit(source.charCodeAt(index))) {
      number += source[index++];
    }
    ch = source[index];
  }

  if (ch === '.') {
    number += source[index++];
    while (isDecimalDigit(source.charCodeAt(index))) {
      number += source[index++];
    }
    ch = source[index];
  }

  if (ch === 'e' || ch === 'E') {
    number += source[index++];

    ch = source[index];
    if (ch === '+' || ch === '-') {
      number += source[index++];
    }
    if (isDecimalDigit(source.charCodeAt(index))) {
      while (isDecimalDigit(source.charCodeAt(index))) {
        number += source[index++];
      }
    } else {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }
  }

  if (isIdentifierStart(source.charCodeAt(index))) {
    throwError({}, MessageUnexpectedToken, ILLEGAL);
  }

  return {
    type: TokenNumericLiteral,
    value: parseFloat(number),
    start: start,
    end: index
  };
}

// 7.8.4 String Literals

function scanStringLiteral() {
  var str = '',
    quote, start, ch, code, octal = false;

  quote = source[index];
  assert((quote === '\'' || quote === '"'),
    'String literal must starts with a quote');

  start = index;
  ++index;

  while (index < length) {
    ch = source[index++];

    if (ch === quote) {
      quote = '';
      break;
    } else if (ch === '\\') {
      ch = source[index++];
      if (!ch || !isLineTerminator(ch.charCodeAt(0))) {
        switch (ch) {
          case 'u':
          case 'x':
            if (source[index] === '{') {
              ++index;
              str += scanUnicodeCodePointEscape();
            } else {
              str += scanHexEscape(ch);
            }
            break;
          case 'n':
            str += '\n';
            break;
          case 'r':
            str += '\r';
            break;
          case 't':
            str += '\t';
            break;
          case 'b':
            str += '\b';
            break;
          case 'f':
            str += '\f';
            break;
          case 'v':
            str += '\x0B';
            break;

          default:
            if (isOctalDigit(ch)) {
              code = '01234567'.indexOf(ch);

              // \0 is not octal escape sequence
              if (code !== 0) {
                octal = true;
              }

              if (index < length && isOctalDigit(source[index])) {
                octal = true;
                code = code * 8 + '01234567'.indexOf(source[index++]);

                // 3 digits are only allowed when string starts
                // with 0, 1, 2, 3
                if ('0123'.indexOf(ch) >= 0 &&
                  index < length &&
                  isOctalDigit(source[index])) {
                  code = code * 8 + '01234567'.indexOf(source[index++]);
                }
              }
              str += String.fromCharCode(code);
            } else {
              str += ch;
            }
            break;
        }
      } else {
        if (ch === '\r' && source[index] === '\n') {
          ++index;
        }
      }
    } else if (isLineTerminator(ch.charCodeAt(0))) {
      break;
    } else {
      str += ch;
    }
  }

  if (quote !== '') {
    throwError({}, MessageUnexpectedToken, ILLEGAL);
  }

  return {
    type: TokenStringLiteral,
    value: str,
    octal: octal,
    start: start,
    end: index
  };
}

function testRegExp(pattern, flags) {
  var tmp = pattern;

  if (flags.indexOf('u') >= 0) {
    // Replace each astral symbol and every Unicode code point
    // escape sequence with a single ASCII symbol to avoid throwing on
    // regular expressions that are only valid in combination with the
    // `/u` flag.
    // Note: replacing with the ASCII symbol `x` might cause false
    // negatives in unlikely scenarios. For example, `[\u{61}-b]` is a
    // perfectly valid pattern that is equivalent to `[a-b]`, but it
    // would be replaced by `[x-b]` which throws an error.
    tmp = tmp
      .replace(/\\u\{([0-9a-fA-F]+)\}/g, function($0, $1) {
        if (parseInt($1, 16) <= 0x10FFFF) {
          return 'x';
        }
        throwError({}, MessageInvalidRegExp);
      })
      .replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, 'x');
  }

  // First, detect invalid regular expressions.
  try {
    new RegExp(tmp);
  } catch (e) {
    throwError({}, MessageInvalidRegExp);
  }

  // Return a regular expression object for this pattern-flag pair, or
  // `null` in case the current environment doesn't support the flags it
  // uses.
  try {
    return new RegExp(pattern, flags);
  } catch (exception) {
    return null;
  }
}

function scanRegExpBody() {
  var ch, str, classMarker, terminated, body;

  ch = source[index];
  assert(ch === '/', 'Regular expression literal must start with a slash');
  str = source[index++];

  classMarker = false;
  terminated = false;
  while (index < length) {
    ch = source[index++];
    str += ch;
    if (ch === '\\') {
      ch = source[index++];
      // ECMA-262 7.8.5
      if (isLineTerminator(ch.charCodeAt(0))) {
        throwError({}, MessageUnterminatedRegExp);
      }
      str += ch;
    } else if (isLineTerminator(ch.charCodeAt(0))) {
      throwError({}, MessageUnterminatedRegExp);
    } else if (classMarker) {
      if (ch === ']') {
        classMarker = false;
      }
    } else {
      if (ch === '/') {
        terminated = true;
        break;
      } else if (ch === '[') {
        classMarker = true;
      }
    }
  }

  if (!terminated) {
    throwError({}, MessageUnterminatedRegExp);
  }

  // Exclude leading and trailing slash.
  body = str.substr(1, str.length - 2);
  return {
    value: body,
    literal: str
  };
}

function scanRegExpFlags() {
  var ch, str, flags;

  str = '';
  flags = '';
  while (index < length) {
    ch = source[index];
    if (!isIdentifierPart(ch.charCodeAt(0))) {
      break;
    }

    ++index;
    if (ch === '\\' && index < length) {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    } else {
      flags += ch;
      str += ch;
    }
  }

  if (flags.search(/[^gimuy]/g) >= 0) {
    throwError({}, MessageInvalidRegExp, flags);
  }

  return {
    value: flags,
    literal: str
  };
}

function scanRegExp() {
  var start, body, flags, value;

  lookahead = null;
  skipComment();
  start = index;

  body = scanRegExpBody();
  flags = scanRegExpFlags();
  value = testRegExp(body.value, flags.value);

  return {
    literal: body.literal + flags.literal,
    value: value,
    regex: {
      pattern: body.value,
      flags: flags.value
    },
    start: start,
    end: index
  };
}

function isIdentifierName(token) {
  return token.type === TokenIdentifier ||
    token.type === TokenKeyword ||
    token.type === TokenBooleanLiteral ||
    token.type === TokenNullLiteral;
}

function advance() {
  var ch;

  skipComment();

  if (index >= length) {
    return {
      type: TokenEOF,
      start: index,
      end: index
    };
  }

  ch = source.charCodeAt(index);

  if (isIdentifierStart(ch)) {
    return scanIdentifier();
  }

  // Very common: ( and ) and ;
  if (ch === 0x28 || ch === 0x29 || ch === 0x3B) {
    return scanPunctuator();
  }

  // String literal starts with single quote (U+0027) or double quote (U+0022).
  if (ch === 0x27 || ch === 0x22) {
    return scanStringLiteral();
  }


  // Dot (.) U+002E can also start a floating-point number, hence the need
  // to check the next character.
  if (ch === 0x2E) {
    if (isDecimalDigit(source.charCodeAt(index + 1))) {
      return scanNumericLiteral();
    }
    return scanPunctuator();
  }

  if (isDecimalDigit(ch)) {
    return scanNumericLiteral();
  }

  return scanPunctuator();
}

function lex() {
  var token;

  token = lookahead;
  index = token.end;

  lookahead = advance();

  index = token.end;

  return token;
}

function peek() {
  var pos;

  pos = index;

  lookahead = advance();
  index = pos;
}

function finishArrayExpression(elements) {
  var node = new ASTNode(SyntaxArrayExpression);
  node.elements = elements;
  return node;
}

function finishBinaryExpression(operator, left, right) {
  var node = new ASTNode((operator === '||' || operator === '&&') ? SyntaxLogicalExpression : SyntaxBinaryExpression);
  node.operator = operator;
  node.left = left;
  node.right = right;
  return node;
}

function finishCallExpression(callee, args) {
  var node = new ASTNode(SyntaxCallExpression);
  node.callee = callee;
  node.arguments = args;
  return node;
}

function finishConditionalExpression(test, consequent, alternate) {
  var node = new ASTNode(SyntaxConditionalExpression);
  node.test = test;
  node.consequent = consequent;
  node.alternate = alternate;
  return node;
}

function finishIdentifier(name) {
  var node = new ASTNode(SyntaxIdentifier);
  node.name = name;
  return node;
}

function finishLiteral(token) {
  var node = new ASTNode(SyntaxLiteral);
  node.value = token.value;
  node.raw = source.slice(token.start, token.end);
  if (token.regex) {
    if (node.raw === '//') {
      node.raw = '/(?:)/';
    }
    node.regex = token.regex;
  }
  return node;
}

function finishMemberExpression(accessor, object, property) {
  var node = new ASTNode(SyntaxMemberExpression);
  node.computed = accessor === '[';
  node.object = object;
  node.property = property;
  if (!node.computed) property.member = true;
  return node;
}

function finishObjectExpression(properties) {
  var node = new ASTNode(SyntaxObjectExpression);
  node.properties = properties;
  return node;
}

function finishProperty(kind, key, value) {
  var node = new ASTNode(SyntaxProperty);
  node.key = key;
  node.value = value;
  node.kind = kind;
  return node;
}

function finishUnaryExpression(operator, argument) {
  var node = new ASTNode(SyntaxUnaryExpression);
  node.operator = operator;
  node.argument = argument;
  node.prefix = true;
  return node;
}

// Throw an exception

function throwError(token, messageFormat) {
  var error,
    args = Array.prototype.slice.call(arguments, 2),
    msg = messageFormat.replace(
      /%(\d)/g,
      function(whole, index) {
        assert(index < args.length, 'Message reference must be in range');
        return args[index];
      }
    );


  error = new Error(msg);
  error.index = index;
  error.description = msg;
  throw error;
}

// Throw an exception because of the token.

function throwUnexpected(token) {
  if (token.type === TokenEOF) {
    throwError(token, MessageUnexpectedEOS);
  }

  if (token.type === TokenNumericLiteral) {
    throwError(token, MessageUnexpectedNumber);
  }

  if (token.type === TokenStringLiteral) {
    throwError(token, MessageUnexpectedString);
  }

  if (token.type === TokenIdentifier) {
    throwError(token, MessageUnexpectedIdentifier);
  }

  if (token.type === TokenKeyword) {
    throwError(token, MessageUnexpectedReserved);
  }

  // BooleanLiteral, NullLiteral, or Punctuator.
  throwError(token, MessageUnexpectedToken, token.value);
}

// Expect the next token to match the specified punctuator.
// If not, an exception will be thrown.

function expect(value) {
  var token = lex();
  if (token.type !== TokenPunctuator || token.value !== value) {
    throwUnexpected(token);
  }
}

// Return true if the next token matches the specified punctuator.

function match(value) {
  return lookahead.type === TokenPunctuator && lookahead.value === value;
}

// Return true if the next token matches the specified keyword

function matchKeyword(keyword) {
  return lookahead.type === TokenKeyword && lookahead.value === keyword;
}

// 11.1.4 Array Initialiser

function parseArrayInitialiser() {
  var elements = [];

  index = lookahead.start;
  expect('[');

  while (!match(']')) {
    if (match(',')) {
      lex();
      elements.push(null);
    } else {
      elements.push(parseConditionalExpression());

      if (!match(']')) {
        expect(',');
      }
    }
  }

  lex();

  return finishArrayExpression(elements);
}

// 11.1.5 Object Initialiser

function parseObjectPropertyKey() {
  var token;

  index = lookahead.start;
  token = lex();

  // Note: This function is called only from parseObjectProperty(), where
  // EOF and Punctuator tokens are already filtered out.

  if (token.type === TokenStringLiteral || token.type === TokenNumericLiteral) {
    if (token.octal) {
      throwError(token, MessageStrictOctalLiteral);
    }
    return finishLiteral(token);
  }

  return finishIdentifier(token.value);
}

function parseObjectProperty() {
  var token, key, id, value;

  index = lookahead.start;
  token = lookahead;

  if (token.type === TokenIdentifier) {
    id = parseObjectPropertyKey();
    expect(':');
    value = parseConditionalExpression();
    return finishProperty('init', id, value);
  }
  if (token.type === TokenEOF || token.type === TokenPunctuator) {
    throwUnexpected(token);
  } else {
    key = parseObjectPropertyKey();
    expect(':');
    value = parseConditionalExpression();
    return finishProperty('init', key, value);
  }
}

function parseObjectInitialiser() {
  var properties = [],
    property, name, key, map = {},
    toString = String;

  index = lookahead.start;
  expect('{');

  while (!match('}')) {
    property = parseObjectProperty();

    if (property.key.type === SyntaxIdentifier) {
      name = property.key.name;
    } else {
      name = toString(property.key.value);
    }

    key = '$' + name;
    if (Object.prototype.hasOwnProperty.call(map, key)) {
      throwError({}, MessageStrictDuplicateProperty);
    } else {
      map[key] = true;
    }

    properties.push(property);

    if (!match('}')) {
      expect(',');
    }
  }

  expect('}');

  return finishObjectExpression(properties);
}

// 11.1.6 The Grouping Operator

function parseGroupExpression() {
  var expr;

  expect('(');

  expr = parseExpression();

  expect(')');

  return expr;
}


// 11.1 Primary Expressions

var legalKeywords = {
  "if": 1,
  "this": 1
};

function parsePrimaryExpression() {
  var type, token, expr;

  if (match('(')) {
    return parseGroupExpression();
  }

  if (match('[')) {
    return parseArrayInitialiser();
  }

  if (match('{')) {
    return parseObjectInitialiser();
  }

  type = lookahead.type;
  index = lookahead.start;


  if (type === TokenIdentifier || legalKeywords[lookahead.value]) {
    expr = finishIdentifier(lex().value);
  } else if (type === TokenStringLiteral || type === TokenNumericLiteral) {
    if (lookahead.octal) {
      throwError(lookahead, MessageStrictOctalLiteral);
    }
    expr = finishLiteral(lex());
  } else if (type === TokenKeyword) {
    throw new Error(DISABLED);
  } else if (type === TokenBooleanLiteral) {
    token = lex();
    token.value = (token.value === 'true');
    expr = finishLiteral(token);
  } else if (type === TokenNullLiteral) {
    token = lex();
    token.value = null;
    expr = finishLiteral(token);
  } else if (match('/') || match('/=')) {
    expr = finishLiteral(scanRegExp());
    peek();
  } else {
    throwUnexpected(lex());
  }

  return expr;
}

// 11.2 Left-Hand-Side Expressions

function parseArguments() {
  var args = [];

  expect('(');

  if (!match(')')) {
    while (index < length) {
      args.push(parseConditionalExpression());
      if (match(')')) {
        break;
      }
      expect(',');
    }
  }

  expect(')');

  return args;
}

function parseNonComputedProperty() {
  var token;
  index = lookahead.start;
  token = lex();

  if (!isIdentifierName(token)) {
    throwUnexpected(token);
  }

  return finishIdentifier(token.value);
}

function parseNonComputedMember() {
  expect('.');

  return parseNonComputedProperty();
}

function parseComputedMember() {
  var expr;

  expect('[');

  expr = parseExpression();

  expect(']');

  return expr;
}

function parseLeftHandSideExpressionAllowCall() {
  var expr, args, property;

  expr = parsePrimaryExpression();

  for (;;) {
    if (match('.')) {
      property = parseNonComputedMember();
      expr = finishMemberExpression('.', expr, property);
    } else if (match('(')) {
      args = parseArguments();
      expr = finishCallExpression(expr, args);
    } else if (match('[')) {
      property = parseComputedMember();
      expr = finishMemberExpression('[', expr, property);
    } else {
      break;
    }
  }

  return expr;
}

// 11.3 Postfix Expressions

function parsePostfixExpression() {
  var expr = parseLeftHandSideExpressionAllowCall();

  if (lookahead.type === TokenPunctuator) {
    if ((match('++') || match('--'))) {
      throw new Error(DISABLED);
    }
  }

  return expr;
}

// 11.4 Unary Operators

function parseUnaryExpression() {
  var token, expr;

  if (lookahead.type !== TokenPunctuator && lookahead.type !== TokenKeyword) {
    expr = parsePostfixExpression();
  } else if (match('++') || match('--')) {
    throw new Error(DISABLED);
  } else if (match('+') || match('-') || match('~') || match('!')) {
    token = lex();
    expr = parseUnaryExpression();
    expr = finishUnaryExpression(token.value, expr);
  } else if (matchKeyword('delete') || matchKeyword('void') || matchKeyword('typeof')) {
    throw new Error(DISABLED);
  } else {
    expr = parsePostfixExpression();
  }

  return expr;
}

function binaryPrecedence(token) {
  var prec = 0;

  if (token.type !== TokenPunctuator && token.type !== TokenKeyword) {
    return 0;
  }

  switch (token.value) {
    case '||':
      prec = 1;
      break;

    case '&&':
      prec = 2;
      break;

    case '|':
      prec = 3;
      break;

    case '^':
      prec = 4;
      break;

    case '&':
      prec = 5;
      break;

    case '==':
    case '!=':
    case '===':
    case '!==':
      prec = 6;
      break;

    case '<':
    case '>':
    case '<=':
    case '>=':
    case 'instanceof':
    case 'in':
      prec = 7;
      break;

    case '<<':
    case '>>':
    case '>>>':
      prec = 8;
      break;

    case '+':
    case '-':
      prec = 9;
      break;

    case '*':
    case '/':
    case '%':
      prec = 11;
      break;
  }

  return prec;
}

// 11.5 Multiplicative Operators
// 11.6 Additive Operators
// 11.7 Bitwise Shift Operators
// 11.8 Relational Operators
// 11.9 Equality Operators
// 11.10 Binary Bitwise Operators
// 11.11 Binary Logical Operators

function parseBinaryExpression() {
  var marker, markers, expr, token, prec, stack, right, operator, left, i;

  marker = lookahead;
  left = parseUnaryExpression();

  token = lookahead;
  prec = binaryPrecedence(token);
  if (prec === 0) {
    return left;
  }
  token.prec = prec;
  lex();

  markers = [marker, lookahead];
  right = parseUnaryExpression();

  stack = [left, token, right];

  while ((prec = binaryPrecedence(lookahead)) > 0) {

    // Reduce: make a binary expression from the three topmost entries.
    while ((stack.length > 2) && (prec <= stack[stack.length - 2].prec)) {
      right = stack.pop();
      operator = stack.pop().value;
      left = stack.pop();
      markers.pop();
      expr = finishBinaryExpression(operator, left, right);
      stack.push(expr);
    }

    // Shift.
    token = lex();
    token.prec = prec;
    stack.push(token);
    markers.push(lookahead);
    expr = parseUnaryExpression();
    stack.push(expr);
  }

  // Final reduce to clean-up the stack.
  i = stack.length - 1;
  expr = stack[i];
  markers.pop();
  while (i > 1) {
    markers.pop();
    expr = finishBinaryExpression(stack[i - 1].value, stack[i - 2], expr);
    i -= 2;
  }

  return expr;
}

// 11.12 Conditional Operator

function parseConditionalExpression() {
  var expr, consequent, alternate;

  expr = parseBinaryExpression();

  if (match('?')) {
    lex();
    consequent = parseConditionalExpression();
    expect(':');
    alternate = parseConditionalExpression();

    expr = finishConditionalExpression(expr, consequent, alternate);
  }

  return expr;
}

// 11.14 Comma Operator

function parseExpression() {
  var expr = parseConditionalExpression();

  if (match(',')) {
    throw new Error(DISABLED); // no sequence expressions
  }

  return expr;
}

function parse(code) {
  source = code;
  index = 0;
  length = source.length;
  lookahead = null;

  peek();

  var expr = parseExpression();

  if (lookahead.type !== TokenEOF) {
    throw new Error("Unexpect token after expression.");
  }
  return expr;
}

var Constants = {
  NaN:       'NaN',
  E:         'Math.E',
  LN2:       'Math.LN2',
  LN10:      'Math.LN10',
  LOG2E:     'Math.LOG2E',
  LOG10E:    'Math.LOG10E',
  PI:        'Math.PI',
  SQRT1_2:   'Math.SQRT1_2',
  SQRT2:     'Math.SQRT2',
  MIN_VALUE: 'Number.MIN_VALUE',
  MAX_VALUE: 'Number.MAX_VALUE'
};

function accessor(fn, fields, name) {
  fn.fields = fields || [];
  fn.fname = name;
  return fn;
}

function error(message) {
  throw Error(message);
}

function splitAccessPath(p) {
  var path = [],
      q = null,
      b = 0,
      n = p.length,
      s = '',
      i, j, c;

  p = p + '';

  function push() {
    path.push(s + p.substring(i, j));
    s = '';
    i = j + 1;
  }

  for (i=j=0; j<n; ++j) {
    c = p[j];
    if (c === '\\') {
      s += p.substring(i, j);
      s += p.substring(++j, ++j);
      i = j;
    } else if (c === q) {
      push();
      q = null;
      b = -1;
    } else if (q) {
      continue;
    } else if (i === b && c === '"') {
      i = j + 1;
      q = c;
    } else if (i === b && c === "'") {
      i = j + 1;
      q = c;
    } else if (c === '.' && !b) {
      if (j > i) {
        push();
      } else {
        i = j + 1;
      }
    } else if (c === '[') {
      if (j > i) push();
      b = i = j + 1;
    } else if (c === ']') {
      if (!b) error('Access path missing open bracket: ' + p);
      if (b > 0) push();
      b = 0;
      i = j + 1;
    }
  }

  if (b) error('Access path missing closing bracket: ' + p);
  if (q) error('Access path missing closing quote: ' + p);

  if (j > i) {
    j++;
    push();
  }

  return path;
}

var isArray = Array.isArray;

function isObject(_) {
  return _ === Object(_);
}

function isString(_) {
  return typeof _ === 'string';
}

function $(x) {
  return isArray(x) ? '[' + x.map($) + ']'
    : isObject(x) || isString(x) ?
      // Output valid JSON and JS source strings.
      // See http://timelessrepo.com/json-isnt-a-javascript-subset
      JSON.stringify(x).replace('\u2028','\\u2028').replace('\u2029', '\\u2029')
    : x;
}

function field(field, name) {
  var path = splitAccessPath(field),
      code = 'return _[' + path.map($).join('][') + '];';

  return accessor(
    Function('_', code),
    [(field = path.length===1 ? path[0] : field)],
    name || field
  );
}

var empty = [];

var id = field('id');

var identity = accessor(function(_) { return _; }, empty, 'identity');

var zero = accessor(function() { return 0; }, empty, 'zero');

var one = accessor(function() { return 1; }, empty, 'one');

var truthy = accessor(function() { return true; }, empty, 'true');

var falsy = accessor(function() { return false; }, empty, 'false');

function isFunction(_) {
  return typeof _ === 'function';
}

const hop = Object.prototype.hasOwnProperty;

function hasOwnProperty(object, property) {
  return hop.call(object, property);
}

function toSet(_) {
  for (var s={}, i=0, n=_.length; i<n; ++i) s[_[i]] = true;
  return s;
}

function Functions(codegen) {

  function fncall(name, args, cast, type) {
    var obj = codegen(args[0]);
    if (cast) {
      obj = cast + '(' + obj + ')';
      if (cast.lastIndexOf('new ', 0) === 0) obj = '(' + obj + ')';
    }
    return obj + '.' + name + (type < 0 ? '' : type === 0 ?
      '()' :
      '(' + args.slice(1).map(codegen).join(',') + ')');
  }

  function fn(name, cast, type) {
    return function(args) {
      return fncall(name, args, cast, type);
    };
  }

  var DATE = 'new Date',
      STRING = 'String',
      REGEXP = 'RegExp';

  return {
    // MATH functions
    isNaN:    'Number.isNaN',
    isFinite: 'Number.isFinite',
    abs:      'Math.abs',
    acos:     'Math.acos',
    asin:     'Math.asin',
    atan:     'Math.atan',
    atan2:    'Math.atan2',
    ceil:     'Math.ceil',
    cos:      'Math.cos',
    exp:      'Math.exp',
    floor:    'Math.floor',
    log:      'Math.log',
    max:      'Math.max',
    min:      'Math.min',
    pow:      'Math.pow',
    random:   'Math.random',
    round:    'Math.round',
    sin:      'Math.sin',
    sqrt:     'Math.sqrt',
    tan:      'Math.tan',

    clamp: function(args) {
      if (args.length < 3) error('Missing arguments to clamp function.');
      if (args.length > 3) error('Too many arguments to clamp function.');
      var a = args.map(codegen);
      return 'Math.max('+a[1]+', Math.min('+a[2]+','+a[0]+'))';
    },

    // DATE functions
    now:             'Date.now',
    utc:             'Date.UTC',
    datetime:        DATE,
    date:            fn('getDate', DATE, 0),
    day:             fn('getDay', DATE, 0),
    year:            fn('getFullYear', DATE, 0),
    month:           fn('getMonth', DATE, 0),
    hours:           fn('getHours', DATE, 0),
    minutes:         fn('getMinutes', DATE, 0),
    seconds:         fn('getSeconds', DATE, 0),
    milliseconds:    fn('getMilliseconds', DATE, 0),
    time:            fn('getTime', DATE, 0),
    timezoneoffset:  fn('getTimezoneOffset', DATE, 0),
    utcdate:         fn('getUTCDate', DATE, 0),
    utcday:          fn('getUTCDay', DATE, 0),
    utcyear:         fn('getUTCFullYear', DATE, 0),
    utcmonth:        fn('getUTCMonth', DATE, 0),
    utchours:        fn('getUTCHours', DATE, 0),
    utcminutes:      fn('getUTCMinutes', DATE, 0),
    utcseconds:      fn('getUTCSeconds', DATE, 0),
    utcmilliseconds: fn('getUTCMilliseconds', DATE, 0),

    // sequence functions
    length:      fn('length', null, -1),
    join:        fn('join', null),
    indexof:     fn('indexOf', null),
    lastindexof: fn('lastIndexOf', null),
    slice:       fn('slice', null),

    reverse: function(args) {
      return '('+codegen(args[0])+').slice().reverse()';
    },

    // STRING functions
    parseFloat:  'parseFloat',
    parseInt:    'parseInt',
    upper:       fn('toUpperCase', STRING, 0),
    lower:       fn('toLowerCase', STRING, 0),
    substring:   fn('substring', STRING),
    split:       fn('split', STRING),
    replace:     fn('replace', STRING),
    trim:        fn('trim', STRING, 0),

    // REGEXP functions
    regexp:  REGEXP,
    test:    fn('test', REGEXP),

    // Control Flow functions
    if: function(args) {
        if (args.length < 3) error('Missing arguments to if function.');
        if (args.length > 3) error('Too many arguments to if function.');
        var a = args.map(codegen);
        return '('+a[0]+'?'+a[1]+':'+a[2]+')';
      }
  };
}

function stripQuotes(s) {
  var n = s && s.length - 1;
  return n && (
      (s[0]==='"' && s[n]==='"') ||
      (s[0]==='\'' && s[n]==='\'')
    ) ? s.slice(1, -1) : s;
}

function vgCodegen(opt) {
  opt = opt || {};

  var whitelist = opt.whitelist ? toSet(opt.whitelist) : {},
      blacklist = opt.blacklist ? toSet(opt.blacklist) : {},
      constants = opt.constants || Constants,
      functions = (opt.functions || Functions)(visit),
      globalvar = opt.globalvar,
      fieldvar = opt.fieldvar,
      globals = {},
      fields = {},
      memberDepth = 0;

  var outputGlobal = isFunction(globalvar)
    ? globalvar
    : function (id) { return globalvar + '["' + id + '"]'; };

  function visit(ast) {
    if (isString(ast)) return ast;
    var generator = Generators[ast.type];
    if (generator == null) error('Unsupported type: ' + ast.type);
    return generator(ast);
  }

  var Generators = {
    Literal: function(n) {
        return n.raw;
      },

    Identifier: function(n) {
      var id = n.name;
      if (memberDepth > 0) {
        return id;
      } else if (hasOwnProperty(blacklist, id)) {
        return error('Illegal identifier: ' + id);
      } else if (hasOwnProperty(constants, id)) {
        return constants[id];
      } else if (hasOwnProperty(whitelist, id)) {
        return id;
      } else {
        globals[id] = 1;
        return outputGlobal(id);
      }
    },

    MemberExpression: function(n) {
        var d = !n.computed;
        var o = visit(n.object);
        if (d) memberDepth += 1;
        var p = visit(n.property);
        if (o === fieldvar) {
          // strip quotes to sanitize field name (#1653)
          fields[stripQuotes(p)] = 1;
        }
        if (d) memberDepth -= 1;
        return o + (d ? '.'+p : '['+p+']');
      },

    CallExpression: function(n) {
        if (n.callee.type !== 'Identifier') {
          error('Illegal callee type: ' + n.callee.type);
        }
        var callee = n.callee.name;
        var args = n.arguments;
        var fn = hasOwnProperty(functions, callee) && functions[callee];
        if (!fn) error('Unrecognized function: ' + callee);
        return isFunction(fn)
          ? fn(args)
          : fn + '(' + args.map(visit).join(',') + ')';
      },

    ArrayExpression: function(n) {
        return '[' + n.elements.map(visit).join(',') + ']';
      },

    BinaryExpression: function(n) {
        return '(' + visit(n.left) + n.operator + visit(n.right) + ')';
      },

    UnaryExpression: function(n) {
        return '(' + n.operator + visit(n.argument) + ')';
      },

    ConditionalExpression: function(n) {
        return '(' + visit(n.test) +
          '?' + visit(n.consequent) +
          ':' + visit(n.alternate) +
          ')';
      },

    LogicalExpression: function(n) {
        return '(' + visit(n.left) + n.operator + visit(n.right) + ')';
      },

    ObjectExpression: function(n) {
        return '{' + n.properties.map(visit).join(',') + '}';
      },

    Property: function(n) {
        memberDepth += 1;
        var k = visit(n.key);
        memberDepth -= 1;
        return k + ':' + visit(n.value);
      }
  };

  function codegen(ast) {
    var result = {
      code:    visit(ast),
      globals: Object.keys(globals),
      fields:  Object.keys(fields)
    };
    globals = {};
    fields = {};
    return result;
  }

  codegen.functions = functions;
  codegen.constants = constants;

  return codegen;
}

const textDefault = {
  fill: "#000",
  font: "sans-serif",
  fontSize: 11,
  opacity: 1,
  baseline: "alphabetic"
};
// the browsers' default
const BR_PROP_DEFAULT = {
  none: {},
  rect: { opacity: 1 },
  gradient: { opacity: 1 },
  group: { opacity: 1 },
  tick: { opacity: 1 },
  grid: { opacity: 1 },
  domain: { opacity: 1 },
  symbol: { opacity: 1, stroke: "transparent" },
  line: { opacity: 1, fill: "none" },
  // area: { opacity: 1, strokeWidth: "1px", stroke: "none" },
  area: { opacity: 1, strokeWidth: "0px" },
  trail: { opacity: 1, strokeWidth: "0px" },
  rule: { opacity: 1 },
  text: textDefault,
  title: textDefault
};

const DEFAULT_EASE = {
  mark: "cubic",
  line: "cubic",
  axis: "cubic",
  legend: "cubic",
  view: "cubic"
};

// From https://github.com/vega/vega/blob/master/packages/vega-parser/src/config.js
/**
 * Standard configuration defaults for Vega specification parsing.
 * Users can provide their own (sub-)set of these default values
 * by passing in a config object to the top-level parse method.
 */
const defaultFont = "sans-serif",
  defaultSymbolSize = 30,
  defaultStrokeWidth = 2,
  defaultColor = "#4c78a8",
  black = "#000",
  gray = "#888",
  lightGray = "#ddd";
const vegaConfig = {
  // default visualization description
  description: "Vega visualization",

  // default padding around visualization
  padding: 0,

  // default for automatic sizing; options: 'none', 'pad', 'fit'
  // or provide an object (e.g., {'type': 'pad', 'resize': true})
  autosize: "pad",

  // default view background color
  // covers the entire view component
  background: null,

  // default event handling configuration
  // preventDefault for view-sourced event types except 'wheel'
  events: {
    defaults: {allow: ["wheel"]}
  },

  // defaults for top-level group marks
  // accepts mark properties (fill, stroke, etc)
  // covers the data rectangle within group width/height
  group: null,

  // defaults for basic mark types
  // each subset accepts mark properties (fill, stroke, etc)
  mark: null,
  arc: { fill: defaultColor },
  area: { fill: defaultColor },
  image: null,
  line: {
    stroke: defaultColor,
    strokeWidth: defaultStrokeWidth
  },
  path: { stroke: defaultColor },
  rect: { fill: defaultColor },
  rule: { stroke: black },
  shape: { stroke: defaultColor },
  symbol: {
    fill: defaultColor,
    size: 64
  },
  text: {
    fill: black,
    font: defaultFont,
    fontSize: 11
  },
  trail: {
    fill: defaultColor,
    size: defaultStrokeWidth
  },

  // style definitions
  style: {
    // axis & legend labels
    "guide-label": {
      fill: black,
      font: defaultFont,
      fontSize: 10
    },
    // axis & legend titles
    "guide-title": {
      fill: black,
      font: defaultFont,
      fontSize: 11,
      fontWeight: "bold"
    },
    // headers, including chart title
    "group-title": {
      fill: black,
      font: defaultFont,
      fontSize: 13,
      fontWeight: "bold"
    },
    // chart subtitle
    "group-subtitle": {
      fill: black,
      font: defaultFont,
      fontSize: 12
    },
    // defaults for styled point marks in Vega-Lite
    point: {
      size: defaultSymbolSize,
      strokeWidth: defaultStrokeWidth,
      shape: "circle"
    },
    circle: {
      size: defaultSymbolSize,
      strokeWidth: defaultStrokeWidth
    },
    square: {
      size: defaultSymbolSize,
      strokeWidth: defaultStrokeWidth,
      shape: "square"
    },
    // defaults for styled group marks in Vega-Lite
    cell: {
      fill: "transparent",
      stroke: lightGray
    }
  },

  // defaults for title
  title: {
    orient: "top",
    anchor: "middle",
    offset: 4,
    subtitlePadding: 3
  },

  // defaults for axes
  axis: {
    minExtent: 0,
    maxExtent: 200,
    bandPosition: 0.5,
    domain: true,
    domainWidth: 1,
    domainColor: gray,
    grid: false,
    gridWidth: 1,
    gridColor: lightGray,
    labels: true,
    labelAngle: 0,
    labelLimit: 180,
    labelOffset: 0,
    labelPadding: 2,
    ticks: true,
    tickColor: gray,
    tickOffset: 0,
    tickRound: true,
    tickSize: 5,
    tickWidth: 1,
    titlePadding: 4
  },

  // correction for centering bias
  axisBand: {
    tickOffset: -0.5
  },

  // defaults for cartographic projection
  projection: {
    type: "mercator"
  },

  // defaults for legends
  legend: {
    orient: "right",
    padding: 0,
    gridAlign: "each",
    columnPadding: 10,
    rowPadding: 2,
    symbolDirection: "vertical",
    gradientDirection: "vertical",
    gradientLength: 200,
    gradientThickness: 16,
    gradientStrokeColor: lightGray,
    gradientStrokeWidth: 0,
    gradientLabelOffset: 2,
    labelAlign: "left",
    labelBaseline: "middle",
    labelLimit: 160,
    labelOffset: 4,
    labelOverlap: true,
    symbolLimit: 30,
    symbolType: "circle",
    symbolSize: 100,
    symbolOffset: 0,
    symbolStrokeWidth: 1.5,
    symbolBaseFillColor: "transparent",
    symbolBaseStrokeColor: gray,
    titleLimit: 180,
    titleOrient: "top",
    titlePadding: 5,
    layout: {
      offset: 18,
      direction: "horizontal",
      left:   { direction: "vertical" },
      right:  { direction: "vertical" }
    }
  },

  // defaults for scale ranges
  range: {
    category: {
      scheme: "tableau10"
    },
    ordinal: {
      scheme: "blues"
    },
    heatmap: {
      scheme: "yellowgreenblue"
    },
    ramp: {
      scheme: "blues"
    },
    diverging: {
      scheme: "blueorange",
      extent: [1, 0]
    },
    symbol: [
      "circle",
      "square",
      "triangle-up",
      "cross",
      "diamond",
      "triangle-right",
      "triangle-down",
      "triangle-left"
    ]
  }
};

function encodify(obj) {
  return Object.keys(obj).reduce((encode, key) => {
    encode[key] = { value: obj[key] };
    return encode;
  }, {});
}

const DEFAULT_STYLE = Object.keys(vegaConfig.style).reduce(
  (styles, key) => {
    styles[key] = encodify(vegaConfig.style[key]);
    return styles;
  },
  {}
);

const EMPTY_ENCODE = {
  enter: { opacity: { value: 0 } },
  exit: { opacity: { value: 0 } },
  update: { }
};


function axisCompPos(spec) {
  if (!spec) {
    return {};
  }
  const scName = spec.scale;
  if (spec.orient === "left" || spec.orient === "right") {
    return { y: { scale: scName, field: "value", band: 0.5 } };
  }
  return { x: { scale: scName, field: "value", band: 0.5 } };
}
function legendBandPos(spec) {
  let grLength = spec ? spec.gradientLength : undefined;
  let grThickness = spec ? spec.gradientThickness : undefined;
  grLength = grLength || vegaConfig.legend.gradientLength;
  grThickness = grThickness || vegaConfig.legend.gradientThickness;

  if (spec && spec.direction === "horizontal") {
    return {
      x: { signal: "(1-datum.perc)", mult: grLength },
      x2: { signal: "(1-datum.perc2)", mult: grLength },
      y: { value: 0 },
      height: { value: grThickness }
    };
  }
  return {
    y: { signal: "(1-datum.perc)", mult: grLength },
    y2: { signal: "(1-datum.perc2)", mult: grLength },
    x: { value: 0 },
    width: { value: grThickness }
  };
}

function legendLablePos(spec) {
  const columns = !spec ? 1 : (spec.columns || (spec.direction === "vertical" ? 1 : 0));
  const clipHeight = (spec && spec.clipHeight) ? spec.clipHeight : null;

  if (spec.type === "symbol") {
    return {
      x: { signal: columns ? `datum['offset']` : `datum['size']`, offset: vegaConfig.legend.labelOffset },
      y: { signal: clipHeight ? `${clipHeight}` : `datum['size']`, mult: 0.5}
    };
  } else {
    let grLength = spec ? spec.gradientLength : undefined;
    grLength = isNaN(grLength) ? vegaConfig.legend.gradientLength : grLength;
    let grThickness = spec ? spec.gradientThickness : undefined;
    grThickness = isNaN(grThickness) ? vegaConfig.legend.gradientThickness : grThickness;
    let grLabelOffset = spec ? spec.gradientLabelOffset : undefined;
    grLabelOffset = isNaN(grLabelOffset) ? vegaConfig.legend.gradientLabelOffset : grLabelOffset;

    if (spec.direction === "vertical") {
      return {
        x: { value: 0, },
        y: { signal: `(1-datum.perc) * clamp(height, 64, ${grLength})` },
        dx: { value: grThickness + grLabelOffset }
      };
    }
    return {
      x: { signal: `(datum.perc) * clamp(width, 64, ${grLength})` },
      y: { value: 0, },
      dy: { value: grThickness + grLabelOffset }
    };
  }

}


function titlePos(orient) {
  if (orient === "top") {
    return {x: { signal: "width", mult: 0.5}, y: {value: -22}};
  } if (orient === "bottom") {
    return {x: { signal: "width", mult: 0.5}, y: {value: 22}};
  } if (orient === "right") {
    return {y: { signal: "height", mult: 0.5}, x: {value: 22}};
  }
  return {y: { signal: "height", mult: 0.5}, x: {value: -22}};

}
function titleAngle(orient) {
  if (orient === "left") {
    return 270;
  }
  if (orient === "right") {
    return 90;
  }
  return 0;
}
function baseline(orient) {
  if (orient === "top") {
    return "bottom";
  }
  if (orient === "bottom") {
    return "top";
  }
  return "middle";
}
function tickLength(attr, orient) {
  if (attr === "x2") {
    if (orient === "right") {
      return vegaConfig.axis.tickSize;
    }
    if (orient === "left") {
      return -vegaConfig.axis.tickSize;
    }
  } else if (attr === "y2") {
    if (orient === "bottom") {
      return vegaConfig.axis.tickSize;
    }
    if (orient === "top") {
      return -vegaConfig.axis.tickSize;
    }
  }
  return 0;
}

function axisLabelAlign(spec) {
  if (spec && spec.labelAlign) {
    return spec.labelAlign;
  }

  if (spec && spec.orient === "right") {
    return "left";
  }
  if (spec && spec.orient === "left") {
    return "right";
  }
  return "center";
}

function legendLabelAlign(spec) {
  if (spec && spec.labelAlign) {
    return spec.labelAlign;
  }

  if (spec && spec.orient === "right") {
    return "left";
  }
  if (spec && spec.orient === "left") {
    return "right";
  }
  return "center";
}

function lableAngle(orient, scaleType) {
  if (orient === "top" || orient === "bottom") {
    if (["band", "point"].indexOf(scaleType) >= 0) {
      return 270;
    }
  }
  return 0;
}
function axisTextDpos(attr, spec) {
  const orient = spec ? spec.orient : undefined;
  const posOffset = (spec.ticks !== false ?
      ( isNumber(spec.tickSize) ? spec.tickSize : vegaConfig.axis.tickSize)
       : 0)
    + (isNumber(spec.labelPadding) ? spec.labelPadding : vegaConfig.axis.labelPadding);


  if (attr === "dx") {
    if (orient === "right") {
      return posOffset;
    }
    if (orient === "left") {
      return -posOffset;
    }
  } else if (attr === "dy") {
    if (orient === "bottom") {
      return posOffset;
    }
    if (orient === "top") {
      return - posOffset;
    }
  }
  return 0;
}

function gridLength(orient, gridScale){
  if (orient === "bottom" || orient === "top") {
    if (!gridScale){
      return {
        y2: {signal: "height", mult: -1},
        y: {value: 0},
        x2: {value: 0}
      };
    }
    return {
      // y2: {signal: "height"},
      // y: {signal: "height", mult: -1},
      y2: {signal: "height", mult: -1},
      y: {value: 0},
      x2: {value: 0}
    };

  }

  if (orient === "right" || orient === "left") {
    if (!gridScale){
      return {
        x2: {signal: "width"},
        x: {value: 0},
        y2: {value: 0}
      };
    }
    return {
      x2: {signal: "width"},
      x: {value: 0},
      y2: {value: 0}
    };

  }

}

function domainLength(orient) {
  if (orient === "bottom" || orient === "top") {
    return {
      y2: { value: 0 },
      x2: { signal: "width" },
      y: { value: 0 },
      x: { value: 0 }
    };
  }
  if (orient === "right" || orient === "left") {
    return {
      y2: { signal: "height", mult: 1 },
      x2: { value: 0 },
      y: { value: 0 },
      x: { value: 0 }
    };
  }
  return {
    y2: { value: 0 },
    x2: { value: 0 }
  };
}

const LEGEND_SYMBOL_CHANNEL = [
  "fill",
  "opacity",
  "shape",
  "size",
  "stroke",
  "strokeDash",
  "strokeWidth"
];

const DEFAULT_ENCODE_LEGEND = {

  title: () => {
    const defaultTitleEncode = {
      fontSize: { value: vegaConfig.style["guide-title"].fontSize },
      fontWeight: { value: "bold" }
    };

    return {
      update: defaultTitleEncode,
      enter: {...defaultTitleEncode, opacity: {value: 0}},
      exit: {...defaultTitleEncode, opacity: {value: 0}},
    };
  },
  labels: spec => {
    if (!spec) {
      return copy(EMPTY_ENCODE);
    }

    let defaultEncode = {
      ...legendLablePos(spec),
      text: { field: "label" },
      fontSize: { value: vegaConfig.style["guide-label"].fontSize },
      align: { value: legendLabelAlign(spec) },
      baseline: {
        value: spec.baseline || baseline(spec.orient)
      },
      angle: {
        value: spec.labelAngle || lableAngle(spec.orient, spec.scaleType)
      }
    };


    return {
      enter: {...defaultEncode, opacity: { value: 0 } },
      exit: {...defaultEncode, opacity: { value: 0 } },
      update: defaultEncode
    };
  },
  symbols: spec => {
    const columns = !spec ? 1 : (spec.columns || (spec.direction === "vertical" ? 1 : 0));
    const clipHeight = (spec && spec.clipHeight) ? spec.clipHeight : null;
    const defaultEncode = {
      y: { signal: clipHeight ? `${clipHeight}` : `datum['size']`, mult: 0.5},
      x: { signal: columns ? `datum['offset']` : `datum['size']`, mult: 0.5, offset: vegaConfig.legend.symbolOffset },
      shape: { value: vegaConfig.legend.symbolType },
      size: { value: vegaConfig.legend.symbolSize },
      strokeWidth: { value: vegaConfig.legend.symbolStrokeWidth }
    };

    if (spec) {
      if (!spec.fill) {
        defaultEncode.stroke = {
          value: vegaConfig.legend.symbolBaseStrokeColor
        };
        defaultEncode.fill = {
          value: vegaConfig.legend.symbolBaseFillColor
        };
      }

      LEGEND_SYMBOL_CHANNEL.forEach(channel => {
        if (channel === "shape") {
          defaultEncode[channel] = { value: spec.symbolType };
        }
        if (spec[channel]) {
          defaultEncode[channel] = { scale: spec[channel], field: "value" };
        }
      });
    }

    return {
      update: defaultEncode,
      enter: Object.assign({}, defaultEncode, { opacity: { value: 0 } }),
      exit: Object.assign({}, defaultEncode, { opacity: { value: 0 } })
    };
  },
  gradient: spec => {
    if (!spec) {
      return copy(EMPTY_ENCODE);
    }

    let grLength = spec.gradientLength ||
      {
        signal: `clamp(${spec.direction === "vertical" ? "height" : "width"}, 64, ${vegaConfig.legend.gradientLength})`
      },
      grThickness = spec.gradientThickness || vegaConfig.legend.gradientThickness;
    if (typeof grLength === "number") {
      grLength= {
        signal: `clamp(${spec.direction === "vertical" ? "height" : "width"}, 64, ${grLength})`
      };
    }
    const defaultEncode = {
      x: { value: 0 },
      y: { value: 0 },
      width:
        spec.direction === "vertical"
          ? { value: grThickness }
          : grLength,
      height:
        spec.direction === "vertical"
          ? grLength
          : { value: grThickness }
    };

    return {
      update: defaultEncode,
      enter: Object.assign({}, defaultEncode, { opacity: { value: 0 } }),
      exit: Object.assign({}, defaultEncode, { opacity: { value: 0 } })
    };
  },
  entries: () => {
    return copy(EMPTY_ENCODE);
  },
  legend: () => {
    return copy(EMPTY_ENCODE);
  },
  pairs: spec => {
    let defaultEncode = { y: { signal: "datum.index * 13" } };
    if (spec && spec.direction === "horizontal") {
      defaultEncode = { x: { signal: "datum.index * 50" } };
    }

    return {
      update: defaultEncode,
      enter: Object.assign({}, defaultEncode, { opacity: { value: 0 } }),
      exit: Object.assign({}, defaultEncode, { opacity: { value: 0 } })
    };
  },
  bands: spec => {
    let defaultEncode = {
      ...legendBandPos(spec),
      fill: {
        value: vegaConfig.legend.symbolBaseFillColor
      }
    };
    if (spec && (spec.fill || spec.stroke)) {
      defaultEncode.fill = { scale: spec.fill || spec.stroke, field: "value" };
    }

    return {
      update: defaultEncode,
      enter: {
        ...defaultEncode,
        opacity: { value: 0 }
      },
      exit: {
        ...defaultEncode,
        opacity: { value: 0 }
      }
    };
  }
};

const DEFAULT_ENCODE_MARK = {
  enter: { opacity: { value: 0 } },
  exit: { opacity: { value: 0 } },
  line: {
    update: {
      ...encodify(vegaConfig.line),
      fill: { value: "none" }
    }
  },
  area: {update: encodify(vegaConfig.area)},
  trail: {update: encodify(vegaConfig.trail)},
  symbol: { update: encodify(vegaConfig.symbol)  },
  rect: {    update: encodify(vegaConfig.rect) },
  rule: {    update: encodify(vegaConfig.rule)  },
  text: {    update: encodify(vegaConfig.text)  }
};

const DEFAULT_ENCODE_AXIS = {
  axis: () => {
    return copy(EMPTY_ENCODE);
  },
  labels: spec => {
    if (!spec) {
      return copy(EMPTY_ENCODE);
    }

    const orient = spec ? spec.orient : undefined;
    const scaleType = spec ? spec.scaleType : undefined;

    const defaultEncode = {
      ...axisCompPos(spec),
      text: { field: "label" },
      fontSize: {
        value: spec && spec.labelFontSize ? spec.labelFontSize : vegaConfig.style["guide-label"].fontSize
      },
      dx: { value: axisTextDpos("dx", spec) },
      dy: { value: axisTextDpos("dy", spec) },
      align: { value: axisLabelAlign(spec) },
      baseline: {
        value: spec && spec.baseline ? spec.baseline : baseline(orient)
      },
      angle: {
        value:
          spec && isNumber(spec.labelAngle)
            ? spec.labelAngle
            : lableAngle(orient, scaleType)
      }
    };

    return {
      enter: { ...defaultEncode, opacity: { value: 0 } },
      exit: { ...defaultEncode, opacity: { value: 0 } },
      update: defaultEncode
    };
  },
  ticks: spec => {
    if (!spec) {
      return copy(EMPTY_ENCODE);
    }

    const orient = spec ? spec.orient : undefined;
    const defaultEncode = Object.assign({}, axisCompPos(spec), {
      x2: { value: tickLength("x2", orient) },
      y2: { value: tickLength("y2", orient) },
      strokeWidth: { value: vegaConfig.axis.tickWidth },
      stroke: { value: vegaConfig.axis.tickColor }
    });
    return {
      enter: { ...defaultEncode, opacity: { value: 0 } },
      exit: { ...defaultEncode, opacity: { value: 0 } },
      update: defaultEncode
    };
  },
  grid: spec => {

    const orient = spec ? spec.orient : undefined;
    const gridScale = spec ? spec.gridScale : undefined;
    let defaultEncode = Object.assign(
      {},
      axisCompPos(spec),
      gridLength(orient, gridScale),
      {
        strokeWidth: { value: vegaConfig.axis.gridWidth },
        stroke: { value: vegaConfig.axis.gridColor }
      }
    );
    if (spec && spec.gridDash) {
      defaultEncode.strokeDasharray = {"value": spec.gridDash.join(",")};
    }

    return {
      enter: { ...defaultEncode, opacity: { value: 0 } },
      exit: { ...defaultEncode, opacity: { value: 0 } },
      update: defaultEncode
    };
  },
  title: spec => {


    const orient = spec ? spec.orient : undefined;
    const defaultEncode = Object.assign(
      {
        baseline: { value: baseline(orient) },
        align: { value: "center" },
        angle: { value: titleAngle(orient) },
        fontSize: { value: vegaConfig.style["guide-title"].fontSize },
        fontWeight: { value: "bold" }
      },
      titlePos(orient)
    );
    return {
      enter: { ...defaultEncode, opacity: { value: 0 } },
      exit: { ...defaultEncode, opacity: { value: 0 } },
      update: defaultEncode
    };
  },
  domain: spec => {

    const defaultEncode = {
      ...(spec ? domainLength(spec.orient) : {}),
      strokeWidth: { value: vegaConfig.axis.domainWidth },
      stroke: { value: vegaConfig.axis.domainColor }
    };

    return {
      enter: { ...defaultEncode, opacity: { value: 0 } },
      exit: { ...defaultEncode, opacity: { value: 0 } },
      update: defaultEncode
    };
  }
};

// DEFAULT enter means initials of the enter
const DEFAULT_ENCODE = {
  mark: DEFAULT_ENCODE_MARK,
  axis: DEFAULT_ENCODE_AXIS,
  legend: DEFAULT_ENCODE_LEGEND
};

/* eslint-disable prefer-destructuring */

function getEaseFn(easeFnName) {
  const name = easeFnName || DEFAULT_EASE.mark;
  return d3[`ease${name.slice(0, 1).toUpperCase() + name.slice(1)}`];
}


function findAfterSibling(scene, name) {
  let result;
  for (let i = 0; i < scene.items.length; i++) {
    const s = scene.items[i];
    if (s.name === name) {
      return scene.items[i + 1];
    }
    if (s.items) {
      result = findAfterSibling(s, name);
    }
  }
  return result;
}

function getJoinInfo(d, i, step, prop) {
  return d.__gemini__[step.stepId]
    ? d.__gemini__[step.stepId][prop]
    : undefined;
}

function findComp(scene, name, role) {
  let result = [];
  scene.items.forEach(item => {
    if (item.items) {
      result = result.concat(findComp(item, name, role));
    }

    if (item.role === role && item.name === name) {
      result.push(item);
    }
  });
  return result; // return the first item.
}
function svgRender(vegaScene) {
  const svg = new SVGRenderer()
    .initialize(document.createElement("div"), 1, 1)
    .render(vegaScene)
    .svg();
  const p = new DOMParser();
  const dom = p.parseFromString(svg, "image/svg+xml");
  return dom.documentElement;
}

function gradientRender(d3RootSelection, d) {
  const s = sceneFromJSON(sceneToJSON(d.mark));
  s.items[0].fill = d.fill;
  const dom = svgRender(s);
  const gradientDom = dom.getElementsByTagName("defs")[0].firstElementChild;
  let d3DefsSelection = d3RootSelection.select("defs");
  if (d3DefsSelection.empty()) {
    d3DefsSelection = d3RootSelection.append("defs");
  }
  d3DefsSelection.node().appendChild(gradientDom);
  return `${window.location.origin + window.location.pathname}#${
    gradientDom.id
  }`;
}


function propMap(prop) {
  let propName = prop;
  let tweaks;
  if (typeof prop === "object") {
    propName = prop.name;
    tweaks = prop.tweaks;
  }
  let result = [];
  switch (propName) {
  case "text":
    result = result.concat([
      { type: "text", val: "text" },
      { type: "attr", val: "transform" },
      { type: "style", val: "opacity" },
      { type: "style", val: "font" },
      { type: "style", val: "fontSize" },
      { type: "style", val: "fontWeight" },
      { type: "style", val: "fill" }
    ]);
    break;
  case "title":
    result = result.concat([
      { type: "text", val: "text" },
      { type: "attr", val: "transform" },
      { type: "style", val: "opacity" },
      { type: "style", val: "font" },
      { type: "style", val: "fontSize" },
      { type: "style", val: "fontWeight" },
      { type: "style", val: "fill" }
    ]);
    break;
  case "tick":
    result = result.concat([
      { type: "attr", val: "transform" },
      { type: "attr", val: "x2" },
      { type: "attr", val: "y2" },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" },
      { type: "style", val: "opacity" }
    ]);
    break;
  case "grid":
    result = result.concat([
      { type: "attr", val: "transform" },
      { type: "attr", val: "x2" },
      { type: "attr", val: "y2" },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" },
      { type: "style", val: "strokeDasharray" },
      { type: "style", val: "opacity" }
    ]);
    break;
  case "domain":
    result = result.concat([
      { type: "attr", val: "transform" },
      { type: "attr", val: "x2" },
      { type: "attr", val: "y2" },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" },
      { type: "style", val: "opacity" }
    ]);
    break;
  case "rect":
    result = result.concat([
      { type: "attrTween", val: "d" },
      { type: "attr", val: "transform" },
      { type: "style", val: "opacity" },
      { type: "style", val: "fill" },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" }
    ]);
    break;
  case "gradient":
    result = result.concat([
      { type: "attr", val: "d" },
      { type: "style", val: "opacity" },
      { type: "style", val: "fill", defs: gradientRender },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" }
    ]);
    break;
  case "rule":
    result = result.concat([
      { type: "attr", val: "transform" },
      { type: "attr", val: "x2" },
      { type: "attr", val: "y2" },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" },
      { type: "style", val: "opacity" }
    ]);
    break;
  case "symbol":
    result = result.concat([
      { type: "attrTween", val: "d" },
      { type: "attr", val: "size" },
      { type: "attr", val: "transform" },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" },
      { type: "style", val: "opacity" },
      { type: "style", val: "fill" }
    ]);
    break;
  case "group":
    result = result.concat([
      { type: "attr", val: "transform" },
      { type: "style", val: "opacity" }
    ]);
    break;
  case "background":
    result = result.concat([{ type: "attr", val: "d" }]);
    break;
  case "line":
    result = result.concat([
      { type: "attrTween", val: "d" },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" },
      { type: "style", val: "opacity" },
      { type: "style", val: "fill" }
    ]);
    break;
  case "trail":
  case "area":
    result = result.concat([
      { type: "attrTween", val: "d" },
      { type: "style", val: "strokeWidth" },
      { type: "style", val: "stroke" },
      { type: "style", val: "opacity" },
      { type: "style", val: "fill" }
    ]);
    break;
  case "legend-pair":
    result = result.concat([{ type: "attr", val: "transform" }]);
    break;
  }
  if (prop.excludes) {
    prop.excludes.forEach(exclude => {
      result = result.filter(
        r => !(r.type === exclude.type && r.val === exclude.val)
      );
    });
  }
  if (result.length > 0) {
    result.forEach(p => {
      p.elmType = propName;
      if (tweaks) {
        tweaks
          .filter(twk => twk.type === p.type && twk.val === p.val)
          .forEach(twk => {
            p = Object.assign(p, twk);
          });
      }
    });
    return result;
  }
  if (propName === "align") {
    return [{ type: "attr", val: "text-anchor", elmType: "none" }];
  }
  return [{ type: "style", val: propName, elmType: "none" }];
}

function computeScale(scales, scNames, getScales) {
  const computed = Object.assign({}, scales);

  scNames.forEach(scName => {
    computed.initial[scName] = getScales.initial(scName);
    computed.final[scName] = getScales.final(scName);
  });
  return computed;
}

function isLinearMarktype(mtype) {
  return ["area", "line", "trail"].indexOf(mtype) >= 0;
}

function computeHasFacet(compSpec) {
  if (
    compSpec &&
    compSpec.parent &&
    compSpec.parent.from &&
    compSpec.parent.from.facet &&
    compSpec.parent.from.facet.data &&
    compSpec.parent.from.facet.name === compSpec.from.data
  ) {
    return true;
  }
  return false;
}

function getFacet(compSpec) {
  return computeHasFacet(compSpec) ? compSpec.parent.from.facet : undefined;
}

function isGroupingMarktype(marktype) {
  return marktype === "line" || marktype === "area" || marktype === "trail";
}

function findMark(marks, markName) {
  let result;
  for (let i = 0; i < marks.length; i++) {
    const m = marks[i];
    if (m.name === markName) {
      return m;
    }
    if (m.marks) {
      result = findMark(m.marks, markName);
      if (result) {
        break;
      }
    }
  }
  return result;
}

function findData(spec, dataName) {
  for (let i = 0; i < spec.data.length; i++) {
    if (spec.data[i].name === dataName) {
      return spec.data[i];
    }
  }
}
function findFilter(spec, name) {
  for (let i = 0; i < spec.data.length; i++) {
    const d = spec.data[i];
    if (d.transform) {
      const filter = d.transform.find(filter => filter.name === name);
      if (filter) {
        return filter;
      }
    }
  }
}

class Enumerator {
  constructor(enumDef, spec, rawInfo) {
    this.views = [];
    this.stopN = this.views.length;
    this.enumDef = enumDef;
    this.currSpec = spec;
    this.easeFn = getEaseFn(enumDef.ease);
    this.delay = enumDef.delay || 0;
    this.staggering = enumDef.staggering;
    this.rawInfo = rawInfo;
  }

  async init() {
    const workingSpec = copy(this.currSpec);

    const enumVals = computeFilteringValues(this.enumDef, this.rawInfo);
    const filter = findFilter(workingSpec, this.enumDef.filter);


    for (const v of enumVals) {
      this.views.push(await new View(parse$2(computeNewSpec(workingSpec, filter, v)), {
        renderer: "svg"
      }).runAsync());
    }
    this.stopN = this.views.length;
  }

  _getScales(stop_n) {
    return scName => {
      const view = this.views[stop_n];
      return view._runtime.scales[scName]
        ? view._runtime.scales[scName].value
        : undefined;
    };
  }

  getData(stop_n) {
    if (this.extractData && this.getId) {
      return this.extractData(this.views[stop_n]);
    }
    throw Error("Cannot return data without joining data.");
  }

  getDatum(id, stop_n) {
    if (this.extractData && this.getId) {
      const found = this.extractData(this.views[stop_n]).find(
        (d, i) => this.getId(d, i) === id
      );
      return found && found.datum ? found.datum : found;
    }
    throw Error("Cannot return data without joining data.");
  }

  joinData(extractData, identifyData) {
    this.extractData = extractData;
    this.getId = identifyData;
    let currDataKeys = this.extractData(this.views[0]).map(this.getId);

    this.joinDataInfo = this.views.slice(1).map(view => {
      const join = {
        update: [],
        enter: [],
        exit: []
      };
      const newDataKeys = extractData(view).map(this.getId);
      currDataKeys.forEach(cKey => {
        const foundIndex = newDataKeys.indexOf(cKey);
        if (foundIndex >= 0) {
          join.update.push(cKey);
        } else {
          join.exit.push(cKey);
        }
      });
      join.enter = newDataKeys.filter(nKey => currDataKeys.indexOf(nKey) < 0);

      currDataKeys = newDataKeys;

      return ["update", "enter", "exit"].reduce((accMap, set) => {
        return Object.assign(
          accMap,
          join[set].reduce((acc, key) => {
            acc[key] = set;
            return acc;
          }, {})
        );
      }, {});
    });
    this.allKeys = flatten(this.joinDataInfo.map(Object.keys)).unique();
    this.set = (id, stop_n) => this.joinDataInfo[stop_n][id];
  }

  getPropVal(prop, encodes, stop_n, id) {
    const d = this.extractData(this.views[stop_n]).find(
      (x, i) => this.getId(x, i) === id
    );
    const dSet = this.set(id, stop_n);
    if (!dSet) {
      return ["x2", "y2"].indexOf(prop.val) >= 0 ? 0 : "";
    }
    const getScales = {
      initial: this._getScales(stop_n),
      final: this._getScales(stop_n + 1)
    };
    return encodes[dSet].initial(prop, getScales, d);
  }

  interpolateAlongEnumMaker(prop, encodes, elem) {
    return id => {
      return t => {
        const stop_n = Math.min(Math.floor(t * (this.stopN - 1)), this.stopN - 2);
        let d_i = this.extractData(this.views[stop_n]).find(
          (x, i) => this.getId(x, i) === id
        );
        let d_f = this.extractData(this.views[stop_n + 1]).find(
          (x, i) => this.getId(x, i) === id
        );

        const dSet = this.set(id, stop_n);
        switch (dSet) {
        case "enter":
          d_i = d_f;
          break;
        case "exit":
          d_f = d_i;
          break;
        case "update":
          break;
        default:
          return ["x2", "y2"].indexOf(prop.val) >= 0 ? 0 : "";
        }
        const getScales = {
          initial: this._getScales(stop_n),
          final: this._getScales(stop_n + 1)
        };
        if (prop.type === "attrTween") {
          return encodes[dSet].custom.bind(elem)(prop, getScales, d_i, d_f)(
            t * (this.stopN - 1) - stop_n
          );
        }
        const valI = encodes[dSet].initial.bind(elem)(prop, getScales, d_i);
        const valF = encodes[dSet].final.bind(elem)(prop, getScales, d_f);

        return interpolate(valI, valF)(t * (this.stopN - 1) - stop_n);
        // apply one of corresponding interpolation
      };
    };
  }
}

function computeFilteringValues(enumDef, rawInfo) {
  const filteringValues = enumDef.values || [];
  if (filteringValues.length === 0 && enumDef.stepSize) {
    // find initial value
    const iFilter = findFilter(rawInfo.sVis.spec, enumDef.filter);
    const iVal = parse(iFilter.expr).right.value;

    // find end value
    const fFilter = findFilter(rawInfo.eVis.spec, enumDef.filter);
    const fVal = parse(fFilter.expr).right.value;

    for (let v = iVal; v < fVal; v += enumDef.stepSize) {
      filteringValues.push(v);
    }

    filteringValues.push(fVal);
  }
  return filteringValues;
}


function computeNewSpec(workingSpec, filter, fVal) {
  const codegen = vgCodegen({
    whitelist: ["datum", "event", "signals"],
    globalvar: "global"
  });

  const parsedASTNode = parse(filter.expr);

  parsedASTNode.right.value = fVal;
  parsedASTNode.right.raw = fVal.toString();
  const newFilterExpr = codegen(parsedASTNode).code;
  filter.expr = newFilterExpr;

  return copy(workingSpec);
}

function enumerateSteps(block, rawInfo, enumDefs) {
  if (block.sync) {
    block.sync = block.sync.map(blk => enumerateSteps(blk, rawInfo, enumDefs));
  } else if (block.concat) {
    block.concat = block.concat.map(blk =>
      enumerateSteps(blk, rawInfo, enumDefs)
    );

    if (block.enumerator) {
      const foundEnumDef = enumDefs.find(
        enumDef => enumDef.name === block.enumerator
      );

      if (foundEnumDef) {
        const filteringValues = computeFilteringValues(foundEnumDef, rawInfo);
        return filteringValues.slice(1).reduce(
          (acc, fVal, i) => {
            const enumedConcatBlock = copy(block);
            enumedConcatBlock.concat.forEach(blk => {
              fetchEnumVal(blk, foundEnumDef, fVal);
            });
            enumedConcatBlock.enumerated = copy(foundEnumDef);
            enumedConcatBlock.enumerated.val = fVal;
            enumedConcatBlock.enumerated.N = filteringValues.length;
            enumedConcatBlock.enumerated.last =
              i === filteringValues.length - 2;

            acc.concat.push(enumedConcatBlock);
            return acc;
          },
          { concat: [] }
        );
      }
    }
  }
  return block;
}

function fetchEnumVal(block, enumDef, val) {
  if (block.sync || block.concat) {
    (block.sync || block.concat).forEach(blk => {
      fetchEnumVal(blk, enumDef, val);
    });
  } else if (Array.isArray(block.enumVals)) {
    block.enumerated.push({def: enumDef, val: val});
  } else {
    block.enumerated = [{def: enumDef, val: val}];
  }
}

function parse$1(spec, rawInfo){
  // const speckCheckResult = true; //specChecker(spec); TODO: when specChecker is included, it blocked loading the source map.
  const speckCheckResult = specChecker(spec);

  // Enumerator argument the concatBlock with enumerator
  let newSpec = copy(spec);
  newSpec.timeline = enumerateSteps(newSpec.timeline, rawInfo, newSpec.enumerators);


  // 1. reform the timline such that all blocks have duration.
  let parsedTimelineBlock = readBlock(newSpec.timeline, newSpec.totalDuration);
  let parsedSteps = assignTiming(parsedTimelineBlock, { sTime: 0 });

  // 2. attach staggering definitions
  parsedSteps.forEach(step => {
    if (["axis", "mark", "legend"].indexOf(step.compType) >= 0) {
      step.timing = attachStaggering(step.timing, newSpec.staggerings);
    }
  });
  // 3. enumerator definitions
  if (newSpec.enumerators) {
    newSpec.enumerators = newSpec.enumerators.map(enumerator => {
      return attachStaggering(enumerator, newSpec.staggerings);
    });

    parsedSteps.forEach((step, i) => {
      if (["axis", "mark", "legend"].indexOf(step.compType) >= 0) {
        step = attachEnumerators(step, newSpec.enumerators);
      }
    });
  }


  const schedule = new Schedule(parsedSteps);
  const resolves = collectResolves(parsedTimelineBlock, parsedSteps);

  const { conflictsPerAlterId } = check(schedule, resolves);


  return { schedule, resolves, conflictsPerAlterId };
}


function readBlock(block, totalDuration, multiplier = 1) {
  if (block.sync) {
    return readSyncBlock(block, totalDuration, multiplier);
  }
  if (block.concat) {
    return readConcatBlock(block, totalDuration, multiplier);
  }
  const delay =
    (block.delay
      ? isNumber(block.timing.delay.ratio)
        ? block.timing.delay.ratio * totalDuration
        : block.timing.delay
      : 0) * multiplier;

  const duration =
    (isNumber(block.timing.duration.ratio)
      ? block.timing.duration.ratio * totalDuration
      : block.timing.duration) * multiplier;
  const compType =
    typeof block.component === "object"
      ? Object.keys(block.component)[0]
      : block.component;
  const compName =
    typeof block.component === "object" ? block.component[compType] : undefined;

  return {
    duration,
    delay,
    timing: Object.assign({}, block.timing, { duration, delay }),
    change: block.change,
    enumerated: block.enumerated,
    enumerator: block.enumerator, // step enumerator
    compType,
    compName
  };
}
function readConcatBlock(concatBlock, totalDuration, multiplier = 1) {
  const concatenated = concatBlock.concat;
  let duration = 0;
  let alternateConcats = {};

  const newMult = concatBlock.enumerated ? 1 / concatBlock.enumerated.N : 1;

  const reformedBlocks = concatenated.map(block => {
    const newBlock = readBlock(block, totalDuration, multiplier * newMult);
    duration = duration + newBlock.timing.duration + newBlock.timing.delay;
    return newBlock;
  });

  if (concatBlock.autoScaleOrder) {
    // permutate the concat's order
    concatBlock.resolve = {
      autoScaleOrder: concatBlock.autoScaleOrder,
      alterName:
        concatBlock.autoScaleOrder.join("-") +
        (concatBlock.enumerated ? `_${concatBlock.enumerated.val}` : "")
    };
    let alternates = permutateOnlyContainNames(
      concatenated,
      concatBlock.resolve.autoScaleOrder
    );

    alternates.splice(0, 1);
    alternates = alternates.map(concatenated_i => {
      return concatenated_i.map(block => readBlock(block, totalDuration, multiplier * newMult));
    });
    alternateConcats = {
      alterName: concatBlock.resolve.alterName,
      alternates
    };
  }
  return Object.assign(
    {
      delay: 0,
      duration,
      timing: { delay: 0, duration },
      concat: reformedBlocks,
      resolve: concatBlock.resolve,
      enumerated: concatBlock.enumerated
    },
    alternateConcats
  );
}

function permutateOnlyContainNames(blocks, names) {
  const filtered = [];
  const indices = [];
  blocks.forEach((blk, i) => {
    if (containNames(blk)) {
      filtered.push(blk);
      indices.push(i);
    }
  });

  return permutate(filtered).map(permutatedOne => {
    return indices.reduce((acc, index, i) => {
      acc.splice(index, 1, permutatedOne[i]);
      return acc;
    }, copy(blocks));
  });

  function containNames(block) {
    if (block.sync || block.concat) {
      return (block.sync || block.concat).reduce((acc, blk) => {
        acc = acc || containNames(blk);
        return acc;
      }, false);
    }
    const compType = Object.keys(block.component)[0];
    return names.indexOf(block.component[compType]) >= 0;
  }
}

function readSyncBlock(syncBlock, totalDuration, multiplier = 1) {
  const anchor = syncBlock.anchor || "start";
  let duration = 0;
  const newBlocks = syncBlock.sync.map(block => {
    const newBlock = readBlock(block, totalDuration, multiplier);
    duration =
      duration > newBlock.timing.duration + newBlock.timing.delay
        ? duration
        : newBlock.timing.duration + newBlock.timing.delay;
    return newBlock;
  });

  return {
    delay: 0,
    duration,
    timing: { delay: 0, duration },
    anchor,
    sync: newBlocks
  };
}

function attachStaggering(item, staggerings) {
  if (!staggerings || staggerings.length <= 0 || !item) {
    return item;
  }

  const found = staggerings.find(stgDef => item.staggering === stgDef.name);
  return Object.assign(item, { staggering: found });
}

function attachEnumerators(item, enumerators) {
  if (!enumerators || enumerators.length <= 0 || !item) {
    return item;
  }

  const found = enumerators.find(
    enumeratorDef => item.enumerator === enumeratorDef.name
  );
  return Object.assign(item, { enumerator: found });
}

function assignTiming(block, timePointer) {
  let steps = [];
  const anchor = isNumber(timePointer.sTime) ? "s" : "e";
  let timestamp = anchor === "s" ? timePointer.sTime : timePointer.eTime;
  if (block.sync && block.anchor === "start") {
    block.sync.forEach(blk => {
      steps = steps.concat(
        assignTiming(blk, {
          sTime: anchor === "s" ? timestamp : timestamp - block.duration
        })
      );
    });
  } else if (block.sync && block.anchor === "end") {
    block.sync.forEach(blk => {
      steps = steps.concat(
        assignTiming(blk, {
          eTime: anchor === "e" ? timestamp : timestamp + block.duration
        })
      );
    });
  } else if (block.concat) {
    if (anchor === "e") {
      timestamp -= block.duration;
    }

    if (block.alternates) {
      block.alternates.forEach((alternate, i) => {
        let alterTimeStamp = timestamp;
        alternate.forEach(blk => {
          const alter = assignTiming(copy(blk), {
            sTime: alterTimeStamp
          }).map(step => {
            step.alterId = `${step.alterId || ""}${block.alterName}:${i}`;
            return step;
          });

          steps = steps.concat(alter);
          alterTimeStamp += blk.duration + blk.delay;
        });
      });
    }

    block.concat.forEach(blk => {
      const mainSteps = assignTiming(blk, { sTime: timestamp }).map(step => {
        step.alterId = step.alterId || `${block.alterName || ""}:main`;
        return copy(step);
      });
      steps = steps.concat(mainSteps);
      timestamp += blk.duration + blk.delay;
    });
  } else {
    if (anchor === "s") {
      block.sTime = timestamp;
      block.eTime = timestamp + block.duration + block.delay;
    } else {
      block.eTime = timestamp;
      block.sTime = timestamp - block.duration - block.delay;
    }
    steps = steps.concat([block]);
  }
  return steps;
}

// Join and return nextData
function facetData(data, facetDef) {
  if (!facetDef) {
    return [
      {
        datum: {},
        mark: { role: "group", marktype: "group" },
        items: [{ items: data }]
      }
    ];
  }

  let {groupby} = facetDef;
  if (typeof groupby === "string") {
    groupby = [groupby];
  }
  return groups(data, d => groupby.map(f => d.datum[f]).join("@@_@@"))
    .map(group => {
      const values  = group[1];
      let datum = groupby.reduce((datum, f) => {
        datum[f] = values[0].datum[f];
        return datum;
      }, { count: values.length });
      return {
        datum: datum,
        mark: {role: "group", marktype: "group"},
        items: [{items: values }]
      };
    });

}
function unpackData(data) {
  if (data[0].mark.marktype !== "group") {
    return data;
  }

  return data.reduce((unpacked, group) => {
    return unpacked.concat(group.items[0].items);
  }, []);
}

function getMarkData(view, compSpec, compName, marktype, facet) {
  let dataName = computeHasFacet(compSpec) ? compSpec.parent.name : compName;
  let data = view._runtime.data[dataName] ? (view._runtime.data[dataName].values.value) || [] : [];
  if (data.length === 0) {
    return data;
  }
  let isGroupingMtype = isGroupingMarktype(marktype || compSpec.type),
    hasFacet = computeHasFacet(compSpec);

  if ( isGroupingMtype && !hasFacet ) {
    return facetData(data, facet || (compSpec.parent.from ? compSpec.parent.from.facet : undefined));
  } if (!isGroupingMtype && hasFacet) {
    data = unpackData(data);
  }
  return data;
}

function getEmptyLegendData(compSpec) {
  if (compSpec.type === "symbol") {
    return {
      labels: [],
      symbols: [],
      pairs: [],
      title: []
    };
  } if (compSpec.type === "gradient") {
    return {
      labels: [],
      gradient: [],
      bands: [],
      title: []
    };
  }
}
function getLegendData(view, compName, compSpec) {
  const titleDatum = view._runtime.data[compName].values.value[0].items.find(
    item => item.role === "legend-title"
  ).items[0];
  let returnData = { title: [titleDatum] };
  if (compSpec.type === "symbol") {
    returnData = Object.assign(returnData, {
      labels: [],
      symbols: [],
      pairs: []
    });
    const fPairs = view._runtime.data[compName].values.value[0].items.find(
      item => item.role === "legend-entry"
    ).items[0].items[0].items;
    fPairs.forEach(pair => {
      returnData.pairs.push(pair);
      returnData.labels.push(
        pair.items.find(item => item.role === "legend-label").items[0]
      );
      returnData.symbols.push(
        pair.items.find(item => item.role === "legend-symbol").items[0]
      );
    });
  } else if (compSpec.type === "gradient") {
    returnData = Object.assign(returnData, {
      labels: [],
      gradient: [],
      bands: []
    });
    const entryG = view._runtime.data[compName].values.value[0].items.find(
      item => item.role === "legend-entry"
    ).items[0];
    let labelG; let bandG; let gradientG;
    if ((labelG = entryG.items.find(item => item.role === "legend-label"))) {
      returnData.labels = returnData.labels.concat(labelG.items);
    }
    if ((bandG = entryG.items.find(item => item.role === "legend-band"))) {
      returnData.bands = returnData.bands.concat(bandG.items);
    }
    if (
      (gradientG = entryG.items.find(item => item.role === "legend-gradient"))
    ) {
      returnData.gradient.push(gradientG.items[0]);
    }
  }
  return returnData;
}

function getEmptyAxisData() {
  return {
    tick: [],
    label: [],
    grid: []
  };
}
function getAxisData(view, compName) {
  return ["tick", "label", "grid"].reduce((acc, subComp) => {
    let data = view._runtime.data[compName].values.value[0].items
      .find(item => item.role === `axis-${subComp}`);

    data = data && data.items ? data.items : [];
    acc[subComp] = data;
    return acc;
  }, {});
}

function computeIdMaker(key) {
  if (Array.isArray(key)) {
    return (d) => {
      return key
        .map(field => {
          return d.datum[field];
        })
        .join("-");
    };
  }
  return (d, i) => stringifyDatumValue(i);
}

function initialData(step, rawInfo) {
  const sView = rawInfo.sVis.view;
  const { change } = step;
  const isAdd = !change.initial && !!change.final;
  if (change.compType === "axis") {
    if (isAdd) {
      return getEmptyAxisData();
    }
    return getAxisData(sView, change.compName);
  }
  if (change.compType === "legend") {
    if (isAdd) {
      return getEmptyLegendData(change.final);
    }
    return getLegendData(sView, change.compName, change.initial);
  }
  if (change.compType === "mark") {
    if (isAdd) {
      return [];
    }
    const mtype = step.marktypes ? step.marktypes.initial : change.initial.type;
    return getMarkData(sView, change.initial, change.compName, mtype);
  }
  if (change.compType === "view") {
    return sView._runtime.data.root.values.value[0];
  }
}

function joinData(step, rawInfo, initialData) {
  const iData = initialData;
  const eView = rawInfo.eVis.view, sView = rawInfo.sVis.view;
  const {change} = step;
  const isAdd = !change.initial && !!change.final;
  const isRemove = !!change.initial && !change.final;
  const {hasFacet} = step;
  let preFetchCurrData = false;
  let computeId = {};

  if (change.compType === "axis") {
    const result = {
      nextData: {},
      currData: {},
      computeDatumId: {}
    };

    result.nextData.axis = isRemove
      ? iData.axis
      : [eView._runtime.data[change.compName].values.value[0].datum];
    result.currData.axis = iData.axis;
    result.computeDatumId.axis = (d, i) => i;

    if (
      change.scale === false ||
      (change.scale && change.scale.data === false)
    ) {
      const computeId = d => stringifyDatumValue(d.datum.value);
      return ["tick", "label", "grid"].reduce((acc, subComp) => {
        const nextData = iData[subComp].map((d, i) => {
          setJoinInfo(d, step, { animSet: "update", joinKey: computeId(d) });
          return d;
        });
        acc.nextData[subComp] = nextData;
        acc.currData[subComp] = nextData;
        acc.computeDatumId[subComp] = computeId;
        return acc;
      }, result);
    }

    let fData = getEmptyAxisData();
    if (!isRemove) {
      fData = getAxisData(eView, change.compName);
    }

    return ["tick", "label", "grid"].reduce((acc, subComp) => {
      let subCompEncName = subComp === "tick" ? "ticks" : subComp;
      subCompEncName = subCompEncName === "label" ? "labels" : subCompEncName;
      let computeId = d => stringifyDatumValue(d.datum.value);

      if (change.encode && change.encode[subCompEncName] === false) {
        acc.nextData[subComp] = iData[subComp];
        acc.currData[subComp] = iData[subComp];
        acc.computeDatumId[subComp] = computeId;
        return acc;
      }

      const iDataSubComp = iData[subComp] || [];
      let fDataSubComp = fData[subComp] || [];
      if (!step.sameDomainDimension) {
        const ci = appendPostfix(computeId, "_exit");
        let cf = appendPostfix(computeId, "_enter");
        computeId = { initial: ci, final: cf };

        iDataSubComp.forEach((iDatum, i) => {
          setJoinInfo(iDatum, step, {
            animSet: "exit",
            joinKey: computeId.initial(iDatum, i)
          });
        });

        fDataSubComp.forEach((fDatum, i) => {
          setJoinInfo(fDatum, step, {
            animSet: "enter",
            joinKey: computeId.final(fDatum, i)
          });
        });
      } else {
        joinThem(iDataSubComp, fDataSubComp, computeId, step);
      }

      // let isAnimSet = getIsAnimSet(subCompEncName, change.encode);
      // let iDataAnimSets = (isAnimSet.exit ? [] : ["exit"]).concat(isAnimSet.update ? [] : ["update"]),
      //   fDataAnimSets = (isAnimSet.enter ? ["enter"] : []).concat(isAnimSet.update ? ["update"] : [])
      const iDataAnimSets = []; let fDataAnimSets = ["enter", "update"];
      const nextData = iDataSubComp
        .filter(d => iDataAnimSets.indexOf(getJoinInfo$1(d, step, "animSet")) >= 0)
        .concat(fDataSubComp.filter(d => fDataAnimSets.indexOf(getJoinInfo$1(d, step, "animSet")) >= 0));

      // let nextData = [];

      // nextData = nextData.concat(isAnimSet.update ? joinedData.update.final : joinedData.update.initial)
      // nextData = isAnimSet.enter ? nextData.concat(joinedData.enter) : nextData;
      // nextData = !isAnimSet.exit ? nextData.concat(joinedData.exit) : nextData;

      acc.nextData[subComp] = nextData;
      acc.currData[subComp] = iDataSubComp;
      acc.computeDatumId[subComp] = computeId;
      return acc;
    }, result);

  }
  if (change.compType === "legend") {
    const getComputeId = subComp => {
      if (subComp === "pairs") {
        return d => {
          const {datum} = d.items.find(item => item.role === "legend-label").items[0];
          return stringifyDatumValue(datum.value);
        };
      } else if (subComp === "title") {
        return d => d.text;
      } else if (subComp === "gradient") {
        return d => JSON.stringify(d.fill.stops);
      }
      return d => stringifyDatumValue(d.datum.value);
    };

    const result = Object.keys(iData).reduce(
      (acc, subComp) => {
        computeId = getComputeId(subComp);
        const nextData = iData[subComp].map((d, i) => {
          setJoinInfo(d, step, { animSet: "update", joinKey: computeId(d, i) });
          return d;
        });
        acc.nextData[subComp] = nextData;
        acc.currData[subComp] = nextData;
        acc.computeDatumId[subComp] = computeId;
        return acc;
      },
      {
        nextData: {},
        currData: {},
        computeDatumId: {}
      }
    );

    if (
      change.scale === false ||
      (change.scale && change.scale.data === false)
    ) {
      return result;
    }

    if (isRemove) {
      result.nextData = getEmptyLegendData(change.initial);
      return result;
    }
    const fData = getLegendData(eView, change.compName, change.final);
    const keys = Object.keys(fData)
      .concat(Object.keys(iData))
      .unique();
    return keys.reduce((acc, subComp) => {
      const subCompEncName = subComp;
      if (change.encode && change.encode[subCompEncName] === false) {
        return acc;
      }
      computeId = getComputeId(subComp);
      const iDataSubComp = iData[subComp] || [];
      let fDataSubComp = fData[subComp]|| [];
      if (
        (subComp === "labels" &&
          step.legendTypes.initial !== step.legendTypes.final) ||
        !step.sameDomainDimension
      ) {
        const ci = appendPostfix(computeId, "_exit");
        let cf = appendPostfix(computeId, "_enter");
        computeId = { initial: ci, final: cf };

        iDataSubComp.forEach((iDatum, i) => {
          setJoinInfo(iDatum, step, {
            animSet: "exit",
            joinKey: computeId.initial(iDatum, i)
          });
        });

        fDataSubComp.forEach((fDatum, i) => {
          setJoinInfo(fDatum, step, {
            animSet: "enter",
            joinKey: computeId.final(fDatum, i)
          });
        });
      } else {
        joinThem(iDataSubComp, fDataSubComp, computeId, step);
      }

      // let isAnimSet = getIsAnimSet(subCompEncName, change.encode);

      // let iDataAnimSets = (isAnimSet.exit ? [] : ["exit"]).concat(isAnimSet.update ? [] : ["update"]),
      //   fDataAnimSets = (isAnimSet.enter ? ["enter"] : []).concat(isAnimSet.update ? ["update"] : [])
      const iDataAnimSets = []; let fDataAnimSets = ["enter", "update"];
      const nextData = iDataSubComp
        .filter(d => iDataAnimSets.indexOf(getJoinInfo$1(d, step, "animSet")) >= 0)
        .concat(fDataSubComp.filter(d => fDataAnimSets.indexOf(getJoinInfo$1(d, step, "animSet")) >= 0));

      acc.nextData[subComp] = nextData || [];
      acc.currData[subComp] = iDataSubComp;
      acc.computeDatumId[subComp] = computeId;
      return acc;
    }, result);
  }
  if (change.compType === "mark") {
    const {marktypes} = step;

    let doUpdate = !isRemove && !isAdd && change.data !== false,
      doEnter = !isRemove && (isAdd || change.data !== false),
      doExit = !isAdd && (isRemove || change.data !== false);
    let joinFields = null;
    if (change.data) {
      doUpdate = change.data.update === false ? false : doUpdate;
      doEnter = change.data.enter === false ? false : doEnter;
      doExit = change.data.exit === false ? false : doExit;
      joinFields = (Array.isArray(change.data) ? change.data : change.data.keys) || null;
    }


    const aggregate = step.aggregates;
    const bin = step.bins;
    const isGroupingMarktypes = {
      initial: isGroupingMarktype(marktypes.initial || marktypes.final),
      final: isGroupingMarktype(marktypes.final || marktypes.initial)
    };

    const facets = {
      initial: hasFacet.initial
        ? getFacet(change.initial) || getFacet(change.final)
        : undefined,
      final: hasFacet.final
        ? getFacet(change.final) || getFacet(change.initial)
        : undefined
    };
    if (change.marktype === false) {
      isGroupingMarktypes.final = isGroupingMarktypes.initial;
    }

    if (change.data || isAdd || isRemove) {
      step.change.aggregate = aggregate;

      let fData = [];
      if (!isRemove) {
        const mtype = marktypes.final || marktypes.initial;
        const facet =
          change.marktype === false
            ? change.initial.parent.from
              ? change.initial.parent.from.facet
              : undefined
            : change.final.parent.from
              ? change.final.parent.from.facet
              : undefined;

        fData = getMarkData(eView, change.final, change.compName, mtype, facet);
      }
      //   // Data should be from change.final!
      //   let dName = computeHasFacet(change.final) ? change.final.parent.name : dataName;
      //   let _fData = eView._runtime.data[dName] ? (eView._runtime.data[dName].values.value) : [];

      //   // when the final data should be facetted but are not facetted yet:
      //   if (isGroupingMarktypes.final && !computeHasFacet(change.final)){
      //     if (change.marktype === false) {
      //       fData = facetData(_fData, change.initial.parent.from ? change.initial.parent.from.facet : undefined);
      //     } else {
      //       fData = facetData(_fData, change.final.parent.from ? change.final.parent.from.facet : undefined);
      //     }
      //   } else if (!isGroupingMarktypes.final && computeHasFacet(change.final)) {
      //     fData = unpackData(_fData);
      //   } else {
      //     fData = _fData;
      //   }
      // }

      ["initial", "final"].forEach(which => {
        if (change[which] && facets[which]) {
          computeId[which] = computeIdMaker(facets[which].groupby);
        } else if (aggregate[which]) {
          computeId[which] = computeIdMaker(aggregate[which].groupby);
        } else {
          computeId[which] = computeIdMaker(joinFields);
        }
      });


      if (isGroupingMarktypes.initial && isGroupingMarktypes.final) {
        if (
          change.final &&
          change.initial &&
          facets.final &&
          facets.initial &&
          facets.initial.groupby.sort().toString() ===
            facets.final.groupby.sort().toString()
        ) {
          computeId = computeId.initial;
          joinThem(iData, fData, computeId, step);
        } else if (
          change.final &&
          change.initial &&
          !facets.final &&
          !facets.initial
        ) {
          computeId = computeId.initial;
          joinThem(iData, fData, computeId, step);
        } else {
          const ci = appendPostfix(computeId.initial, "_exit");
          let cf = appendPostfix(computeId.final, "_enter");

          computeId = { initial: ci, final: cf };
          iData.forEach((iDatum, i) => {
            setJoinInfo(iDatum, step, {
              animSet: "exit",
              joinKey: computeId.initial(iDatum, i)
            });
          });
          fData.forEach((fDatum, i) => {
            setJoinInfo(fDatum, step, {
              animSet: "enter",
              joinKey: computeId.final(fDatum, i)
            });
          });
        }
      } else if (!isGroupingMarktypes.initial && !isGroupingMarktypes.final) {

        // if iData or fData are binned, attach the representative fields.
        // E.g., bin_A, bin_A_end -> A
        if (bin.initial) {
          extendBinnedData(iData, bin.initial);
        }
        if (bin.final) {
          extendBinnedData(fData, bin.final);
        }

        if (
          aggregate.initial &&
          aggregate.final &&
          aggregate.initial.groupby.sort().toString() ===
            aggregate.final.groupby.sort().toString()
        ) {
          computeId = computeId.initial;
          joinThem(iData, fData, computeId, step);
        } else if (!aggregate.initial && !aggregate.final) {
          computeId = computeId.initial;
          joinThem(iData, fData, computeId, step);
        } else {
          let ci = appendPostfix(computeId.initial, "_exit");
          let cf = appendPostfix(computeId.final, "_enter");
          computeId = { initial: ci, final: cf };

          iData.forEach((iDatum, i) => {
            setJoinInfo(iDatum, step, {
              animSet: "exit",
              joinKey: computeId.initial(iDatum, i)
            });
          });

          fData.forEach((fDatum, i) => {
            setJoinInfo(fDatum, step, {
              animSet: "enter",
              joinKey: computeId.final(fDatum, i)
            });
          });

          if (!aggregate.initial && aggregate.final) {
            attachAggData(fData, iData, computeId.final, aggregate.final, eView, change.final.from.data, computeIdMaker(joinFields));
            extendAggData(fData, aggregate.final);
            preFetchCurrData = true;
          } else if (aggregate.initial && !aggregate.final) {
            attachAggData(iData, fData, computeId.initial, aggregate.initial, sView, change.initial.from.data, computeIdMaker(joinFields));
            extendAggData(iData, aggregate.initial);
            preFetchCurrData = true;
          }
        }
      } else {
        // When the marktype changes between area/line to the others.
        let groupedData; let unpackedData;
        if (isGroupingMarktypes.initial) {
          computeId.initial = computeIdMaker(
            facets.initial ? change.initial.parent.from.facet.groupby : null
          );
          computeId.final = computeIdMaker(joinFields || null);
          unpackedData = unpackData(iData);
          joinThem(unpackedData, fData, computeId.final, step);

          groupedData = facetData(
            fData,
            change.initial.parent.from
              ? change.initial.parent.from.facet
              : undefined
          );
          joinThem(iData, groupedData, computeId.initial, step);
        } else {
          computeId.initial = computeIdMaker(joinFields || null);
          computeId.final = computeIdMaker(
            facets.final ? change.final.parent.from.facet.groupby : null
          );

          unpackedData = unpackData(fData);
          joinThem(iData, unpackedData, computeId.initial, step);

          groupedData = facetData(
            iData,
            change.final.parent.from
              ? change.final.parent.from.facet
              : undefined
          );
          joinThem(groupedData, fData, computeId.final, step);
        }

        return {
          nextData: fData,
          currData: iData,
          computeDatumId: computeId,
          groupedData,
          unpackedData
        };
      }

      const iDataAnimSets = (doExit ? [] : ["exit"]).concat(
        doUpdate ? [] : ["update"]
      );
      let fDataAnimSets = (doEnter ? ["enter"] : []).concat(
        doUpdate ? ["update"] : []
      );
      let nextData = iData.filter(
        d => iDataAnimSets.indexOf(getJoinInfo$1(d, step, "animSet")) >= 0
      );
      if (!doExit) {
        // we included the exit data as we do not make them exit.
        nextData.forEach((datum) => {
          setJoinInfo(datum, step, { animSet: "update" });
        });
      }

      nextData = nextData.concat(
        fData.filter(
          d => fDataAnimSets.indexOf(getJoinInfo$1(d, step, "animSet")) >= 0
        )
      );

      return {
        nextData,
        currData: iData,
        computeDatumId: computeId,
        preFetchCurrData
      };
    }
    // When there is no data change
    computeId = computeIdMaker(null);
    const sameData = iData.map((d, i) => {
      setJoinInfo(d, step, { animSet: "update", joinKey: computeId(d,i) });
      return d;
    });

    if (isGroupingMarktypes.initial !== isGroupingMarktypes.final) {
      // When the marktype changes between area/line to the others.
      let groupedData; let unpackedData;
      if (isGroupingMarktypes.initial) {
        unpackedData = unpackData(iData);
        unpackedData.map((d, i) => {
          setJoinInfo(d, step, { animSet: "update", joinKey: computeId(d,i) });
          return d;
        });
        return {
          nextData: unpackedData, currData: iData,
          computeDatumId: computeId,
          groupedData: iData,
          unpackedData: unpackedData
        };
      }
      groupedData = facetData(iData, change.final.parent.from ? change.final.parent.from.facet : undefined);
      groupedData.map((d, i) => {
        setJoinInfo(d, step, { animSet: "update", joinKey: computeId(d,i) });
        return d;
      });
      return {
        nextData: groupedData, currData: iData,
        computeDatumId: computeId,
        groupedData,
        unpackedData: iData
      };
    }

    return {
      nextData: sameData,
      currData: sameData,
      computeDatumId: computeId
    };
  }
  if (change.compType === "view") {
    return { nextData: eView._runtime.data.root.values.value[0] };
  }
  return iData;
}
function joinThem(iData, fData, computeId, step) {
  const updateData = { initial: [], final: [] };
  const enterData = [];
  const exitData = [];

  const takenChecker = new Array(fData.length);
  takenChecker.fill(false);
  iData.forEach((iDatum, i) => {
    const id = computeId(iDatum, i);
    const foundIndex = fData.findIndex(
      (fDatum, j) => computeId(fDatum, j) === id
    );
    const found = foundIndex >= 0 ? fData[foundIndex] : null;

    if (found) {
      const info = { animSet: "update", joinKey: id };
      setJoinInfo(found, step, info);
      setJoinInfo(iDatum, step, info);
      const extendedIDatum = { ...found.datum, ...iDatum.datum };
      const extendedFDatum = { ...iDatum.datum, ...found.datum };
      iDatum.datum = extendedIDatum;
      found.datum = extendedFDatum;
      updateData.final.push(found);
      updateData.initial.push(iDatum);

      takenChecker[foundIndex] = true;
    } else {
      setJoinInfo(iDatum, step, { animSet: "exit", joinKey: id });
      exitData.push(iDatum);
    }
  });
  takenChecker.forEach((taken, i) => {
    if (!taken) {
      setJoinInfo(fData[i], step, {
        animSet: "enter",
        joinKey: computeId(fData[i], i)
      });
      enterData.push(fData[i]);
    }
  });

  return {
    enter: enterData,
    update: updateData,
    exit: exitData
  };
}

function extendBinnedData(binData, bin) {
  bin.forEach(b => {
    binData.forEach(d => {
      d.datum[b.field] = d.datum[b.field] === undefined ? (d.datum[b.as[0]] + d.datum[b.as[1]])/2 : d.datum[b.field];
    });
  });
}
function extendAggData(aggData, agg) {
  aggData.forEach(aggDatum => {
    agg.as.forEach((aggField, i) => {
      aggDatum.datum[agg.fields[i]] = aggDatum.datum[agg.as[i]];
    });
  });
}

function attachAggData(aggData, targetData, aggId, agg, aggView, dataName, computeRawId) {

  let pt = aggView._runtime.data[dataName].values;
  while (!isAggregateSource(pt, agg)) {
    pt = pt.source;
  }
  let rawData = pt.source.pulse.add;


  targetData.forEach((targetDatum, i) => {
    let _i = rawData.findIndex((d, _i)=> computeRawId({datum: d}, _i) === computeRawId(targetDatum, i));
    let rawDatum = rawData[_i];
    if (rawDatum) {
      aggData.forEach((aggDatum, j) => {
        if (aggId({datum: rawDatum}, _i) === aggId(aggDatum, j)) {
          agg.fields.forEach((f, f_i) => {
            targetDatum.datum[agg.as[f_i]] = aggDatum.datum[agg.as[f_i]];
          });
          agg.groupby.forEach((f) => {
            targetDatum.datum[f] = targetDatum.datum[f] || rawDatum[f];
          });
        }
      });
    } else {
      //If targetDatum cannot find the corresponding aggregated datum, just attach its value as aggvalue
      agg.fields.forEach((f, f_i) => {
        targetDatum.datum[agg.as[f_i]] = targetDatum.datum[f];
      });
      agg.groupby.forEach((f) => {
        targetDatum.datum[f] = targetDatum.datum[f] || rawDatum[f];
      });
    }
  });
}

function isAggregateSource(pt, agg) {
  let argval = pt._argVal || pt._argval;
  if (argval && argval.as && deepEqual$1(argval.as, agg.as) ) {
    return true
  }
  return false
}

function getJoinInfo$1(d, step, prop) {
  return d.__gemini__[step.stepId]
    ? d.__gemini__[step.stepId][prop]
    : undefined;
}

function appendPostfix(computeId, postFix) {
  return (d, i) => {
    return computeId(d, i) + postFix;
  };
}
function getBin(change, rawInfo) {
  const bin = {};
  if (!change.initial || !change.final) {
    return bin;
  }
  const sSpec = rawInfo.sVis.spec;
  const eSpec = rawInfo.eVis.spec;

  const dataName = compSpec => {
    return computeHasFacet(compSpec)
      ? compSpec.parent.from.facet.data
      : compSpec.from.data;
  };

  const dataSource_f = eSpec.data.find(
    dset => dset.name === dataName(change.final)
  );
  if (dataSource_f.transform) {
    bin.final = dataSource_f.transform.filter(
      trsfm => trsfm.type === "bin"
    );
  }
  const dataSource_i = sSpec.data.find(
    dset => dset.name === dataName(change.initial)
  );
  if (dataSource_i.transform) {
    bin.initial = dataSource_i.transform.filter(
      trsfm => trsfm.type === "bin"
    );
  }
  return bin;
}
function getAggregate(change, rawInfo) {
  const aggregate = {};
  if (!change.initial || !change.final) {
    return aggregate;
  }
  const sSpec = rawInfo.sVis.spec;
  const eSpec = rawInfo.eVis.spec;

  const dataName = compSpec => {
    return computeHasFacet(compSpec)
      ? compSpec.parent.from.facet.data
      : compSpec.from.data;
  };

  const dataSource_f = eSpec.data.find(
    dset => dset.name === dataName(change.final)
  );
  if (dataSource_f.transform) {
    aggregate.final = dataSource_f.transform.find(
      trsfm => trsfm.type === "aggregate"
    );
  }
  const dataSource_i = sSpec.data.find(
    dset => dset.name === dataName(change.initial)
  );
  if (dataSource_i.transform) {
    aggregate.initial = dataSource_i.transform.find(
      trsfm => trsfm.type === "aggregate"
    );
  }
  return aggregate;
}

function setJoinInfo(datum, step, info) {
  datum.__gemini__ = datum.__gemini__ || {};
  datum.__gemini__[step.stepId] = datum.__gemini__[step.stepId] || {};
  Object.assign(datum.__gemini__[step.stepId], info);
}

function dataPreservedScale(sSpec, eSpec, scName) {
  const tempSpec = copy(eSpec);
  const scaleSpec = tempSpec.scales.find(sc => sc.name === scName);
  if (scaleSpec.domain.data) {
    const index = tempSpec.data.findIndex(
      d => d.name === scaleSpec.domain.data
    );
    if (index >= 0) {
      tempSpec.data.splice(
        index,
        1,
        sSpec.data.find(d => d.name === scaleSpec.domain.data)
      );
    }
  }
  const tempView = new View(parse$2(tempSpec), {
    renderer: "none"
  }).run();
  return tempView._runtime.scales[scName].value;
}

function computeKeptEncode(manualEncode, referenceEncode, set = null) {

  let manual = manualEncode;
  if (set !== null) {
    manual = manualEncode && manualEncode[set] ? manualEncode[set] : {};
  }
  const ref = set !== null ? referenceEncode[set] : referenceEncode;


  return Object.keys(manual)
    .filter(attr => manual[attr] === false)
    .reduce((keptEncode, attr) => {
      keptEncode[attr] = ref[attr];
      return keptEncode;
    }, {});
}


function replacePositionAttrs(targetMarktype, targetEncode, referenceEncode) {
  const encode = Object.assign({}, targetEncode);
  const POSITION_ATTRS = ["x", "x2", "xc", "width", "y", "y2", "yc", "height"];
  const replaceRules = {
    rect: [
      {replaceBy: ["x", "x2"], },
      {replaceBy: ["x", "width"], },
      {replaceBy: ["xc", "width"], remove: ["x"] },
      {replaceBy: ["y", "y2"], },
      {replaceBy: ["y", "height"], },
      {replaceBy: ["yc", "height"], remove: ["y"] }
    ],
    area: [
      {replaceBy: ["x", "x2", "y"], remove: "*" },
      {replaceBy: ["x", "width", "y"], remove: "*" },
      {replaceBy: ["xc", "width", "y"], remove: "*" },
      {replaceBy: ["y", "y2", "x"], remove: "*" },
      {replaceBy: ["y", "height", "x"], remove: "*" },
      {replaceBy: ["yc", "height", "x"], remove: "*" },
      {replaceBy: ["x", "x2", "yc"], remove: "*" },
      {replaceBy: ["x", "width", "yc"], remove: "*" },
      {replaceBy: ["xc", "width", "yc"], remove: "*" },
      {replaceBy: ["y", "y2", "xc"], remove: "*" },
      {replaceBy: ["y", "height", "xc"], remove: "*" },
      {replaceBy: ["yc", "height", "xc"], remove: "*" }
    ],
    default: [
      {replaceBy: ["x"] },
      {replaceBy: ["xc"], remove: ["x"] },
      {replaceBy: ["y"] },
      {replaceBy: ["yc"], remove: ["y"] }
    ]
  };
  let rules = replaceRules[targetMarktype] || replaceRules.default;

  rules.forEach(rule => {
    const hasAll = rule.replaceBy.reduce((hasAll, attr) => {
      return hasAll && referenceEncode[attr];
    }, true);
    if (hasAll) {
      rule.replaceBy.forEach(attr => {
        encode[attr] = referenceEncode[attr];
      });
      let removedAttrs = rule.remove || [];
      if (rule.remove === "*") {
        removedAttrs = POSITION_ATTRS.filter(attr => rule.replaceBy.indexOf(attr) < 0);
      }
      removedAttrs.forEach(attr => {
        delete encode[attr];
      });
    }
  });


  return encode;
}

function compute(rawInfo, step, lastState) {
  const eView = rawInfo.eVis.view;
  const { change } = step;
  const isAdd = !change.initial && !!change.final;
  const isRemove = !!change.initial && !change.final;

  const manualEncode = change.encode;
  let doEnter = !isRemove && (isAdd || change.data !== false);
  let doExit = !isAdd && (isRemove || change.data !== false);

  if (change.data) {
    doEnter = change.data.enter === false ? false : doEnter;
    doExit = change.data.exit === false ? false : doExit;
  }

  if (
    !isAdd &&
    !isRemove &&
    change.initial.from.data !== change.final.from.data
  ) {
    if (!computeHasFacet(change.final) && !computeHasFacet(change.initial)) {
      console.error(
        `Data source of this mark (${change.compName}) has changed unexpectedly!`
      );
    }
  }

  const aggregates = {
    initial: lastState.aggregate,
    final: lastState.aggregate
  };
  const bins = {
    initial: lastState.bin,
    final: lastState.bin
  };

  if (change.data) {
    // aggregates.done = true;
    aggregates.final = getAggregate(change, rawInfo).final;
    bins.final = getBin(change, rawInfo).final;
  }

  const beingAggregated = change.data && !aggregates.initial && aggregates.final;
  const beingDisaggregated = change.data && aggregates.initial && !aggregates.final;
  const beingBinned = change.data && !bins.initial && bins.final;
  const beingDisbinned = change.data && bins.initial && !bins.final;


  const marktypes = {
    initial: lastState.marktype, // change.initial ? change.initial.type : undefined,
    final: change.final ? change.final.type : undefined
  };

  if (
    marktypes.initial &&
    marktypes.final &&
    marktypes.initial !== marktypes.final
  ) {
    console.log("mark transform change!");
    if (change.marktype === false) {
      marktypes.final = marktypes.initial;
    }
  }

  const hasFacet = {
    initial: lastState.hasFacet,
    final: lastState.hasFacet
  };
  if ((change.data || isAdd || isRemove) && change.marktype !== false) {
    hasFacet.final = computeHasFacet(change.final);
  }

  const scales = {
    initial: lastState.scale,
    final: copy2(lastState.scale)
  };
  const encodes = {
    initial: Object.assign({ update: {} }, copy(lastState.encode)),
    final: Object.assign({ update: {} }, copy(lastState.encode))
  };
  const signals = {
    initial: lastState.signal
  };
  const signalsFinal = ["width", "height", "padding"].reduce((acc, sgName) => {
    if (Array.isArray(change.signal)) {
      if (change.signal.indexOf(sgName) >= 0) {
        acc[sgName] = eView.signal(sgName);
      }
      return acc;
    }
    if (change.signal === false) {
      return acc;
    }
    acc[sgName] = eView.signal(sgName);
    return acc;
  }, {});
  signals.final = Object.assign({}, signals.initial, signalsFinal);

  if (change.scale !== false) {
    let finalScaleNames = [];
    if (change.scale === true || isAdd) {
      finalScaleNames = Object.keys(eView._runtime.scales);
    } else if (Array.isArray(change.scale)) {
      finalScaleNames = change.scale;
    } else if (typeof change.scale === "object") {
      finalScaleNames = Object.keys(change.scale);
    }
    finalScaleNames.forEach(scName => {
      if (change.scale[scName] && change.scale[scName].data === false) {
        scales.final[scName] = dataPreservedScale(
          rawInfo.sVis.spec,
          rawInfo.eVis.spec,
          scName
        );
      } else {
        scales.final[scName] = eView._runtime.scales[scName]
          ? eView._runtime.scales[scName].value
          : undefined;
      }

      const channel = Object.keys(encodes.final.update).find(
        key => key.scale === scName
      );
      encodes.final.update[channel] = change.final
        ? copy(change.final.encode.update[channel])
        : undefined;
    });
  }

  if (beingAggregated && aggregates.final.ops.indexOf("count") >= 0) {
    step.specificScaleFor = { ...step.specificScaleFor, enter: {initial: "final"} };
  }
  if (beingDisaggregated && aggregates.initial.ops.indexOf("count") >= 0) {
    step.specificScaleFor = { ...step.specificScaleFor, exit: {final: "initial"} };
  }

  if (manualEncode === false) {
    throw Error("Interpolating data requires to interpolate encode.");
  }

  const styleEncodes = {
    initial: copy(lastState.styleEncode),
    final: copy(lastState.styleEncode)
  };
  if (change.marktype) {
    styleEncodes.final = change.final && change.final.style
      ? DEFAULT_STYLE[change.final.style] || {}
      : {};
  }

  const manualEncodeEnterWithoutInitial = manualEncode
    ? copy(manualEncode.enter || {})
    : {};
  delete manualEncodeEnterWithoutInitial.initial;


  encodes.initial.enter = Object.assign(
    {},
    lastState.encode.update,
    DEFAULT_ENCODE.mark.enter,
    beingAggregated ? computeKeptEncode(
      manualEncode,
      get(change, "final", "encode", "update") || {}
    ) : {},
    manualEncode && manualEncode.enter ? manualEncode.enter.initial : {}
  );



  if (get(change, "encode", "enter") === false) {
    encodes.final.enter = encodes.initial.enter;
  } else {
    encodes.final.enter = Object.assign(
      {},
      DEFAULT_ENCODE.mark[marktypes.final || marktypes.initial].update,
      styleEncodes.final,
      copy(get(change, "final", "encode", "update") || {}),
      manualEncode ? manualEncodeEnterWithoutInitial : {},
      computeKeptEncode(manualEncode, encodes.initial, "enter")
    );
  }

  encodes.initial.exit = Object.assign({}, lastState.encode.update);
  if (change.encode && change.encode.exit === false) {
    encodes.final.exit = encodes.initial.exit;
  } else {
    encodes.final.exit = Object.assign(
      {},
      DEFAULT_ENCODE.mark[marktypes.initial || marktypes.final].update,
      styleEncodes.final,
      doExit
        ? copy(
          get(change, "final", "encode", "update") ||
              get(change, "initial", "encode", "update")
        )
        : copy(
          get(change, "initial", "encode", "update") ||
              get(change, "final", "encode", "update")
        ),
      DEFAULT_ENCODE.mark.exit,
      manualEncode ? manualEncode.exit : {},
      computeKeptEncode(manualEncode, encodes.initial, "exit")
    );
  }

  if (change.encode && change.encode.update === false) {
    encodes.final.update = encodes.initial.update;
  } else {
    encodes.final.update = Object.assign(
      {},
      DEFAULT_ENCODE.mark[marktypes.final || marktypes.initial].update,
      styleEncodes.final,
      copy(get(change, "final", "encode", "update") || {}),
      manualEncode ? manualEncode.update : {},
      computeKeptEncode(manualEncode, encodes.initial, "update")
    );
  }

  // When marktype changes
  // |S_exit  | -> |          | exit!                 (initial.exit  -> final.exit)
  // |S_update| -> |          | update via fading out (initial.update -> initial.intermediate)
  // |        | -> | E_update | & fading in           (final.intermediate -> final.update)
  // |        | -> | E_enter  | enter!                (initial.enter  -> final.enter)
  if (marktypes.final !== marktypes.initial) {
    encodes.initial.intermediate = Object.assign(
      {},
      replacePositionAttrs(marktypes.initial, encodes.initial.update, encodes.final.update),
      { opacity: { value: 0 } }
    );

    encodes.final.intermediate = Object.assign(
      {},
      replacePositionAttrs(marktypes.final, encodes.final.update, encodes.initial.update),
      { opacity: { value: 0 } }
    );

    if (doEnter) {
      encodes.initial.enter = Object.assign(
        {},
        replacePositionAttrs(marktypes.final, encodes.final.enter, encodes.initial.enter),
        { opacity: { value: 0 } },
        manualEncode && manualEncode.enter ? manualEncode.enter.initial : {}
      );
    }
    if (doExit) {
      encodes.final.exit = Object.assign(
        {},
        replacePositionAttrs(marktypes.initial, encodes.initial.exit, encodes.final.exit),
        { opacity: { value: 0 } },
        manualEncode ? manualEncode.exit : {},
        computeKeptEncode(manualEncode, encodes.initial, "exit"),
      );
    }
  }


  if (beingAggregated) {
    // when aggregate
    encodes.final.exit = Object.assign(
      change.marktype && (marktypes.initial !== marktypes.final) ? replacePositionAttrs(marktypes.initial, encodes.final.exit, encodes.final.update) : encodes.final.update,
      { opacity: { value: 0 } },
      manualEncode ? manualEncode.exit : {},
      computeKeptEncode(manualEncode, encodes.initial, "exit"),
    );


    encodes.final.update = copy(encodes.final.enter);
  } else if (beingDisaggregated) {
    // when disaggregate

    encodes.initial.enter = Object.assign(
      {},
      change.marktype && (marktypes.initial !== marktypes.final) ? replacePositionAttrs(marktypes.final, encodes.initial.enter, encodes.initial.update) : encodes.initial.update,
      { opacity: { value: 0 } },
      manualEncode && manualEncode.enter ? manualEncode.enter.initial : {}
    );

    encodes.final.update = copy(encodes.final.enter);
  }

  return {
    encodes,
    scales,
    signals,
    marktypes,
    hasFacet,
    aggregates,
    bins,
    styleEncodes
  };
}

function compute$1(rawInfo, step, lastState) {
  const { change } = step;
  const compState = lastState;
  const eView = rawInfo.eVis.view;
  const isRemove = !change.final;
  const isAdd = !change.initial;
  let doTicks;
  let doLabels;
  let doAxisG;
  let doTitle;
  let doDomain;
  let doGrid;
  doTicks = doLabels = doAxisG = doTitle = doDomain = doGrid = true;

  if (change.encode === false) {
    doTicks = doLabels = doAxisG = doTitle = doDomain = doGrid = false;
  } else if (change.encode) {
    doTicks = !(change.encode.ticks === false);
    doLabels = !(change.encode.labels === false);
    doAxisG = !(change.encode.axis === false);
    doTitle = !(change.encode.title === false);
    doGrid = !(change.encode.grid === false);
    doDomain = !(change.encode.domain === false);
  }

  const scNames = {
    initial: change.initial ? change.initial.scale : undefined,
    final: change.final ? change.final.scale : undefined
  };

  // collect the scale objects to scale the initial/final values
  const scales = {
    initial: compState.scale,
    final: copy2(compState.scale)
  };

  if (!(change.scale === false)) {
    if (!scNames.final) {
      scales.final = {};
    } else if (change.scale && change.scale.data === false) {
      scales.final[scNames.final] = dataPreservedScale(
        rawInfo.sVis.spec,
        rawInfo.eVis.spec,
        scNames.final
      );
    } else {
      scales.final[scNames.final] = eView._runtime.scales[scNames.final]
        ? eView._runtime.scales[scNames.final].value
        : undefined;
    }
  }

  let sameDomainDimension = get(change, "scale", "domainDimension");
  if (typeof sameDomainDimension === "string") {
    sameDomainDimension =
      sameDomainDimension === "same"
        ? true
        : sameDomainDimension === "diff"
          ? false
          : undefined;
  }
  if (isRemove || isAdd) {
    sameDomainDimension = false;
  } else if (sameDomainDimension === undefined) {
    if (change.scale === false) {
      sameDomainDimension = true;
    } else {
      const scaleDefs = {
        initial: rawInfo.sVis.spec.scales.find(
          scaleDef => scaleDef.name === scNames.initial
        ),
        final: rawInfo.eVis.spec.scales.find(
          scaleDef => scaleDef.name === scNames.final
        )
      };
      sameDomainDimension = deepEqual(
        scaleDefs.initial.domain,
        scaleDefs.final.domain
      );
    }
  }

  const signals = {
    initial: compState.signal
  };
  const signalsFinal = ["width", "height", "padding"].reduce((acc, sgName) => {
    if (Array.isArray(change.signal)) {
      if (change.signal.indexOf(sgName) >= 0) {
        acc[sgName] = eView.signal(sgName);
      }
      return acc;
    }
    if (change.signal === false) {
      return acc;
    }
    acc[sgName] = eView.signal(sgName);
    return acc;
  }, {});
  signals.final = Object.assign({}, signals.initial, signalsFinal);

  const allEncodes = {};

  const subComps = {
    ticks: doTicks,
    labels: doLabels,
    title: doTitle,
    axis: doAxisG,
    grid: doGrid,
    domain: doDomain
  };
  const axisGDatumFinal = change.final
    ? findComp(eView.scenegraph().root, change.compName, "axis")[0].items[0]
    : undefined;
  const axisGEncodeBaseFinal = axisGDatumFinal
    ? {
      x: { value: axisGDatumFinal.x },
      y: { value: axisGDatumFinal.y }
    }
    : {};

  Object.keys(subComps).forEach(subComp => {
    const manualEncode =
      change.encode && change.encode[subComp] ? change.encode[subComp] : {};
    allEncodes[subComp] = getAxisSubCompEncodes(subComp, manualEncode);
  });

  function getAxisSubCompEncodes(subComponent, manualEncode) {
    const encodes = {
      initial: copy(compState.encode[subComponent] || {}),
      final: copy(compState.encode[subComponent] || {})
    };

    if (subComps[subComponent] !== true) {
      return encodes;
    }

    const subCompEncode = {
      initial:
        change.initial &&
        change.initial.encode &&
        change.initial.encode[subComponent]
          ? change.initial.encode[subComponent].update
          : undefined,
      final:
        change.final && change.final.encode && change.final.encode[subComponent]
          ? change.final.encode[subComponent].update
          : undefined
    };

    encodes.initial.enter = Object.assign(
      {},
      // defaultAxisEncode.initial,
      DEFAULT_ENCODE.axis[subComponent](sameDomainDimension ? change.initial : change.final)
        .update,
      sameDomainDimension ? subCompEncode.initial : subCompEncode.final || {},
      DEFAULT_ENCODE.mark.enter,
      compState.encode.enter,
      manualEncode && manualEncode.enter ? manualEncode.enter.initial : {}
    );
    if (manualEncode && manualEncode.enter === false) {
      encodes.final.enter = encodes.initial.enter;
    } else {
      encodes.final.enter = Object.assign(
        {},
        // defaultAxisEncode.final,
        DEFAULT_ENCODE.axis[subComponent](change.final).update,
        subCompEncode.final ? subCompEncode.final : {},
        manualEncode ? manualEncode.enter : {},
        computeKeptEncode(manualEncode, encodes.initial, "enter")
      );
    }

    encodes.initial.exit = Object.assign(
      {},
      // defaultAxisEncode.initial,
      DEFAULT_ENCODE.axis[subComponent](change.initial).update,
      subCompEncode.initial ? subCompEncode.initial : {},
      compState.encode.exit || compState.encode.update
    );
    if (manualEncode && manualEncode.exit === false) {
      encodes.final.exit = encodes.initial.exit;
    } else {
      encodes.final.exit = Object.assign(
        {},
        // defaultAxisEncode.final,
        DEFAULT_ENCODE.axis[subComponent](
          sameDomainDimension ? change.final : change.initial
        ).update,
        sameDomainDimension ? subCompEncode.final : subCompEncode.initial || {},
        DEFAULT_ENCODE.mark.exit,
        manualEncode ? manualEncode.exit : {},
        computeKeptEncode(manualEncode, encodes.initial, "exit")
      );
    }

    encodes.initial.update = Object.assign(
      {},
      // defaultAxisEncode.initial,
      DEFAULT_ENCODE.axis[subComponent](change.initial).update,
      subCompEncode.initial || {},
      encodes.initial.update
    );

    if (manualEncode && manualEncode.update === false) {
      encodes.final.update = encodes.initial.update;
    } else {
      encodes.final.update = Object.assign(
        {},
        // defaultAxisEncode.final,
        subComponent === "axis" ? axisGEncodeBaseFinal : {},
        DEFAULT_ENCODE.axis[subComponent](change.final).update,
        subCompEncode.final || {},
        manualEncode ? manualEncode.update : {},
        computeKeptEncode(manualEncode, encodes.initial, "update")
      );
    }
    return encodes;
  }

  return {
    encodes: allEncodes,
    scales,
    signals,
    sameDomainDimension
  };
}

function compute$2(rawInfo, step, lastState) {
  const LEGEND_CHANNELS = [
    "fill",
    "opacity",
    "shape",
    "size",
    "stroke",
    "strokeDash",
    "strokeWidth"
  ];
  const { change } = step;
  const eView = rawInfo.eVis.view;

  let doTitle;
  let doSymbols;
  let doLabels;
  let doEntries;
  let doGradient;
  let doLegendG;
  doTitle = doSymbols = doLabels = doEntries = doGradient = doLegendG = true;
  const isRemove = !lastState.isRemove && !change.final;
  const isAdd = !lastState.isAdd && !change.initial;
  if (change.encode === false) {
    doTitle = doSymbols = doLabels = doEntries = doGradient = doLegendG = false;
  } else if (change.encode) {
    doTitle = !(change.encode.title === false);
    doSymbols = !(change.encode.symbols === false);
    doLabels = !(change.encode.labels === false);
    doEntries = !(change.encode.entries === false);
    doGradient = !(change.encode.gradient === false);
    doLegendG = !(change.encode.legend === false);
  }

  const legendTypes = {
    initial: lastState.legendType,
    final:
      change.scale === false
        ? lastState.legendType
        : change.final
          ? change.final.type
          : undefined
  };

  const scNames = {
    initial: [],
    final: []
  };
  LEGEND_CHANNELS.forEach(channel => {
    if (change.initial && change.initial[channel]) {
      scNames.initial.push(change.initial[channel]);
    }
    if (change.final && change.final[channel]) {
      scNames.final.push(change.final[channel]);
    }
  });

  // collect the scale objects to scale the initial/final values
  const scales = {
    initial: lastState.scale,
    final: copy2(lastState.scale)
  };

  if (change.scale !== false) {
    let finalScaleNames = [];
    if (Array.isArray(change.scale)) {
      finalScaleNames = change.scale;
    } else if (change.scale === true || isAdd) {
      finalScaleNames = scNames.final;
    } else if (typeof change.scale === "object") {
      finalScaleNames = scNames.final.filter(
        scName => change.scale[scName] !== false
      );
    }
    finalScaleNames.forEach(scName => {
      if (change.scale[scName] && change.scale[scName].data === false) {
        scales.final[scName] = dataPreservedScale(
          rawInfo.sVis.spec,
          rawInfo.eVis.spec,
          scName
        );
      } else {
        scales.final[scName] = eView._runtime.scales[scName]
          ? eView._runtime.scales[scName].value
          : undefined;
      }
    });
  }

  let sameDomainDimension = get(change, "scale", "domainDimension");
  if (typeof sameDomainDimension === "string") {
    sameDomainDimension =
      sameDomainDimension === "same"
        ? true
        : sameDomainDimension === "diff"
          ? false
          : undefined;
  }
  if (sameDomainDimension === undefined) {
    if (change.scale === false) {
      sameDomainDimension = true;
    } else if (isRemove || isAdd) {
      sameDomainDimension = false;
    } else {
      // Fact: Each legend can be associated with multiple scales but their domains are equal.
      const scaleDefs = {
        initial: rawInfo.sVis.spec.scales.find(
          scaleDef => scaleDef.name === scNames.initial[0]
        ),
        final: rawInfo.eVis.spec.scales.find(
          scaleDef => scaleDef.name === scNames.final[0]
        )
      };
      sameDomainDimension = deepEqual(
        scaleDefs.initial.domain,
        scaleDefs.final.domain
      );
    }
  }

  const signals = {
    initial: lastState.signal
  };
  const signalsFinal = ["width", "height", "padding"].reduce((acc, sgName) => {
    if (Array.isArray(change.signal)) {
      if (change.signal.indexOf(sgName) >= 0) {
        acc[sgName] = eView.signal(sgName);
      }
      return acc;
    }
    if (change.signal === false) {
      return acc;
    }
    acc[sgName] = eView.signal(sgName);
    return acc;
  }, {});
  signals.final = Object.assign({}, signals.initial, signalsFinal);

  const allEncodes = {};

  const subComps = {
    gradient: doGradient,
    bands: doGradient,
    pairs: doSymbols || doLabels,
    labels: doLabels,
    title: doTitle,
    legend: doLegendG,
    entries: doEntries,
    symbols: doSymbols
  };
  Object.keys(subComps).forEach(subComp => {
    if (subComps[subComp]) {
      const manualEncode =
        change.encode && change.encode[subComp] ? change.encode[subComp] : {};
      allEncodes[subComp] = getLegendSubCompEncodes(
        subComp,
        manualEncode
      );
    }
  });

  function getLegendSubCompEncodes(subComponent, manualEncode) {
    const defaultSubcompEncode = {
      initial: DEFAULT_ENCODE.legend[subComponent](change.initial).update,
      final: DEFAULT_ENCODE.legend[subComponent](change.final).update
    };
    const comps = change;
    const compEncode = {};
    ["initial", "final"].forEach(which => {
      if (
        comps[which] &&
        comps[which].encode &&
        comps[which].encode[subComponent]
      ) {
        compEncode[which] = comps[which].encode[subComponent].update;
      }
    });

    const encodes = {
      initial: copy2(
        lastState.encode && lastState.encode[subComponent]
          ? lastState.encode[subComponent]
          : { update: defaultSubcompEncode.initial }
      ),
      final: copy2(
        lastState.encode && lastState.encode[subComponent]
          ? lastState.encode[subComponent]
          : { update: defaultSubcompEncode.final }
      )
    };

    encodes.initial.enter = Object.assign(
      {},
      sameDomainDimension
        ? defaultSubcompEncode.initial
        : defaultSubcompEncode.final,
      sameDomainDimension ? compEncode.initial : compEncode.final,
      DEFAULT_ENCODE.mark.enter,
      lastState.encode.enter,
      manualEncode && manualEncode.enter ? manualEncode.enter.initial : {}
    );
    if (manualEncode && manualEncode.enter === false) {
      encodes.final.enter = encodes.initial.enter;
    } else {
      encodes.final.enter = Object.assign(
        {},
        defaultSubcompEncode.final,
        compEncode.final,
        manualEncode ? manualEncode.enter : {},
        computeKeptEncode(manualEncode, encodes.initial, "enter")
      );
    }

    encodes.initial.exit = Object.assign(
      {},
      defaultSubcompEncode.initial,
      compEncode.initial,
      lastState.encode.exit || lastState.encode.update
    );

    if (manualEncode && manualEncode.exit === false) {
      encodes.final.exit = encodes.initial.exit;
    } else {
      encodes.final.exit = Object.assign(
        {},
        sameDomainDimension
          ? defaultSubcompEncode.final
          : defaultSubcompEncode.initial,
        sameDomainDimension ? compEncode.final : compEncode.initial,
        DEFAULT_ENCODE.mark.exit,
        manualEncode ? manualEncode.exit : {},
        computeKeptEncode(manualEncode, encodes.initial, "exit")
      );
    }

    encodes.initial.update = Object.assign(
      {},
      defaultSubcompEncode.initial,
      compEncode.initial,
      encodes.initial.update
    );

    if (manualEncode && manualEncode.update === false) {
      encodes.final.update = encodes.initial.update;
    } else {
      encodes.final.update = Object.assign(
        {},
        defaultSubcompEncode.final,
        compEncode.final,
        manualEncode ? manualEncode.update : {},
        computeKeptEncode(manualEncode, encodes.initial, "update")
      );
    }

    return encodes;
  }

  return {
    encodes: allEncodes,
    scales,
    signals,
    legendTypes,
    sameDomainDimension,
    isAdd,
    isRemove
  };
}

function compute$3(rawInfo, step, lastState) {
  const { change } = step;
  const signals = {
    initial: lastState.signal
  };
  const encodes = {
    initial: copy(lastState.encode),
    final: copy(lastState.encode)
  };

  const signalsFinal = {};
  const finalSignalNames = Array.isArray(change.signal)
    ? change.signal
    : ["width", "height", "padding"];

  finalSignalNames.forEach(sgName => {
    signalsFinal[sgName] = rawInfo.eVis.view.signal(sgName);
  });

  signals.final = { ...signals.initial, ...signalsFinal };

  if (step.change.signal !== false) {
    if (finalSignalNames.indexOf("height") >= 0) {
      encodes.final.svg.y = { value: change.final.y + change.final.padding };
      encodes.final.svg.height = {
        value: change.final.viewHeight + change.final.padding * 2
      };
      encodes.final.root.height = { value: signals.final.height };
    }
    if (finalSignalNames.indexOf("width") >= 0) {
      encodes.final.svg.x = { value: change.final.x + change.final.padding };
      encodes.final.svg.width = {
        value: change.final.viewWidth + change.final.padding * 2
      };
      encodes.final.root.width = { value: signals.final.width };
    }
  }

  // Todo Encodes for view comp
  const fRootDatum = rawInfo.eVis.view._runtime.data.root.values.value[0];
  encodes.final.root.fill = { value: fRootDatum.fill };
  encodes.final.root.stroke = { value: fRootDatum.stroke };

  return {
    signals,
    encodes
  };

}



var computeStates = /*#__PURE__*/Object.freeze({
  __proto__: null,
  mark: compute,
  axis: compute$1,
  legend: compute$2,
  view: compute$3
});

function getLegendType(legendCompSpec, view) {
  if (legendCompSpec.fill) {
    const scale = view._runtime.scales[legendCompSpec.fill].value;
    if (
      [
        "sequential-linear",
        "linear",
        "log",
        "pow",
        "sqrt",
        "symlog",
        "bin-ordinal"
      ].indexOf(scale.type) >= 0
    ) {
      if (scale.type === "bin-ordinal") {
        return { type: "gradient", isBand: true };
      }
      return { type: "gradient" };
    }
  }

  if (legendCompSpec.stroke) {
    const scale = view._runtime.scales[legendCompSpec.stroke].value;
    if (
      [
        "sequential-linear",
        "linear",
        "log",
        "pow",
        "sqrt",
        "symlog",
        "bin-ordinal"
      ].indexOf(scale.type) >= 0
    ) {
      if (scale.type === "bin-ordinal") {
        return { type: "gradient", isBand: true };
      }
      return { type: "gradient" };
    }
  }
  return { type: "symbol" };
}

function getComponents(vgSpec) {
  // By traveling vgSpec, collect the marks, axes, legends, and scales with their bound data and encoding.
  const components = [];
  function collectComp(mark, currComp, isRoot = false) {
    if (isRoot) {
      mark.name = mark.name || "root";
    }
    let newComp = currComp;
    if (mark.axes) {
      newComp = newComp.concat(
        mark.axes.map(d => {
          return {
            ...copy(d),
            compType: "axis"
          };
        })
      );
    }

    if (mark.legends) {
      newComp = newComp.concat(
        mark.legends.map(d => { return { ...copy(d),  compType: "legend" }; })
      );
    }

    if (mark.scales) {
      newComp = newComp.concat(
        mark.scales.map(d => { return { ...copy(d),  compType: "scale" }; })
      );
    }

    if (!isRoot) {
      const newMark = { ...copy(mark),  compType: "mark" };
      delete newMark.marks;
      newComp.push(newMark);
    }

    if (mark.marks) {
      newComp = mark.marks.reduce((acc, curr) => {
        const subComps = collectComp(
          { ...curr, parent: (mark || "root") },
          []
        );
        return acc.concat(subComps);
      }, newComp);
    }
    return newComp;
  }

  return collectComp(copy(vgSpec), components, true);
}
function getChanges(sComponents, eComponents) {
  const IDENTIFIERS = {
    axis: comp =>
      comp.encode && comp.encode.axis ? comp.encode.axis.name : comp.scale,
    legend: comp =>
      comp.encode && comp.encode.legend ? comp.encode.legend.name : comp.scale,
    mark: comp => comp.name,
    scale: comp => comp.name
  };
  const merged = [];
  sComponents.forEach(sComp => {
    const id = IDENTIFIERS[sComp.compType];
    const matchedId = eComponents.findIndex(
      eComp => sComp.compType === eComp.compType && id(sComp) === id(eComp)
    );
    if (matchedId >= 0) {
      merged.push({
        compType: sComp.compType,
        compName: id(sComp),
        parent: sComp.parent,
        initial: sComp,
        final: eComponents.splice(matchedId, 1)[0]
      });
    } else {
      merged.push({
        compType: sComp.compType,
        compName: id(sComp),
        parent: sComp.parent,
        initial: sComp,
        final: null
      });
    }
  });

  return merged.concat(
    eComponents.map(eComp => {
      const id = IDENTIFIERS[eComp.compType];
      return {
        compType: eComp.compType,
        compName: id(eComp),
        parent: eComp.parent,
        initial: null,
        final: eComp
      };
    })
  );
}

function getViewChange(rawInfo) {
  return {
    compType: "view",
    compName: "global",

    initial: {
      viewWidth: rawInfo.sVis.view._viewWidth,
      viewHeight: rawInfo.sVis.view._viewHeight,
      width: rawInfo.sVis.view.width(),
      height: rawInfo.sVis.view.height(),
      x: rawInfo.sVis.view._origin[0],
      y: rawInfo.sVis.view._origin[1],
      padding: rawInfo.sVis.spec.padding
    },
    final: {
      viewWidth: rawInfo.eVis.view._viewWidth,
      viewHeight: rawInfo.eVis.view._viewHeight,
      width: rawInfo.eVis.view.width(),
      height: rawInfo.eVis.view.height(),
      x: rawInfo.eVis.view._origin[0],
      y: rawInfo.eVis.view._origin[1],
      padding: rawInfo.eVis.spec.padding
    }
  };
}


function getDefaultChange(step, rawInfo) {
  const change = copy(step.change || {});
  if (step.compType === "mark") {
    change.data = change.data === undefined ? true : change.data;
    if (
      change.data.update === false &&
      change.data.enter === false &&
      change.data.exit === false
    ) {
      change.data = false;
    }
    change.marktype = change.marktype === undefined ? true : change.marktype;
    change.scale = change.scale === undefined ? true : change.scale;
    change.signal = change.signal === undefined ? true : change.signal;
    change.encode = change.encode === undefined ? true : change.encode;
  } else if (step.compType === "axis" || step.compType === "legend") {
    change.signal = change.signal === undefined ? true : change.signal;
    change.scale = change.scale === undefined ? {} : change.scale;

    if (step.compType === "legend") {
      change.scale = change.scale === undefined ? true : change.scale;
      change.signal = change.signal === undefined ? true : change.signal;
      // specify the type of the legend
      if (change.initial) {
        change.initial = Object.assign(
          change.initial,
          getLegendType(change.initial, rawInfo.sVis.view)
        );

        change.initial.direction = change.initial.direction || "vertical";
        change.initial.orient = change.initial.orient || "right";
      }
      if (change.final) {
        change.final = Object.assign(
          change.final,
          getLegendType(change.final, rawInfo.eVis.view)
        );
        change.final.direction = change.final.direction || "vertical";
        change.final.orient = change.final.orient || "right";
      }
    }
  } else if (step.compType === "view") {
    change.signal = change.signal === undefined ? true : change.signal;
  }
  return change;
}


function attachChanges(rawInfo, schedule) {
  const changes = getChanges(
    getComponents(rawInfo.sVis.spec),
    getComponents(rawInfo.eVis.spec)
  );

  // attach the view change
  changes.push(getViewChange(rawInfo));

  schedule.forEach(track => {
    track.steps = track.steps.map(step => {
      if (step.compType === "pause") {
        return step;
      }

      const found = changes.find(change => {
        return (
          change.compType === step.compType &&
          (change.compName === step.compName || step.compType === "view")
        );
      });
      if (!found) {
        console.error(`cannot found the changes of ${step.compName}.`);
      }

      step.change = {
        ...step.change,
        ...found
      };
      step.change = {
        ...step.change,
        ...getDefaultChange(step, rawInfo)
      };

      return step;
    });
  });

  return schedule;
}

//Todo make schedule class and put this as its method
function getMoments(schedule) {
  const moments = [];
  schedule.forEach(track => {
    track.steps.forEach(step => {
      let m = moments.find(m => m.time === step.sTime);
      if (!m) {
        moments.push({
          time: step.sTime,
          starting: [step],
          ending: []
        });
      } else {
        m.starting.push(step);
      }
      m = moments.find(m => m.time === step.eTime);
      if (!m) {
        moments.push({
          time: step.eTime,
          starting: [],
          ending: [step]
        });
      } else {
        m.ending.push(step);
      }
    });
  });
  return moments.sort((a, b) => a.time - b.time);
}


async function attachStates(schedule, rawInfo) {
  const state = initializeState(schedule, rawInfo);
  const moments = getMoments(schedule);
  schedule.moments = moments;

  for (const moment of moments) {
    for (const step of moment.ending) {
      const lastState = state[step.trackName];
      if (step.compType === "pause") {
        break;
      }

      lastState.data = lastState.data || initialData(step, rawInfo);

      // When the steps are enumerated by "enumerator"
      let eView;
      if (step.enumerated) {
        step.enumerated.forEach(enumed => {
          const filter = findFilter(state.spec, enumed.def.filter);
          state.spec = computeNewSpec(state.spec, filter, enumed.val);
        });
        eView = await new View(parse$2(state.spec), {
          renderer: "none"
        }).runAsync();
      }
      const newRawInfo = {
        sVis: rawInfo.sVis,
        eVis: Object.assign(
          {},
          rawInfo.eVis,
          eView ? { view: eView } : undefined
        )
      };
      if (step.compType === "view") {
        Object.assign(step.change, getViewChange(newRawInfo));
      }

      Object.assign(
        step,
        computeStates[step.compType](newRawInfo, step, lastState)
      );
      Object.assign(step, joinData(step, newRawInfo, lastState.data));
      lastState.data = step.nextData;

      if (step.encodes) {
        lastState.encode =
          copy(step.encodes.final) ||
          Object.keys(step.encodes).reduce((acc, key) => {
            acc[key] = step.encodes[key].final;
            return acc;
          }, {});
      }
      lastState.styleEncode = step.styleEncodes ? step.styleEncodes.final : undefined;
      lastState.signal = step.signals ? step.signals.final : undefined;
      lastState.scale = step.scales ? step.scales.final : undefined;
      lastState.marktype = step.marktypes ? step.marktypes.final : undefined;
      lastState.hasFacet = step.hasFacet ? step.hasFacet.final : undefined;
      lastState.aggregate = step.aggregates ? step.aggregates.final : undefined;
      lastState.bin = step.bins ? step.bins.final : undefined;
      lastState.isAdd = step.isAdd;
      lastState.isRemove = step.isRemove;
      lastState.sameDomainDimension = step.sameDomainDimension;

      state.spec = updateSpec(state, step, newRawInfo.eVis.spec);

      // Catch if scale < data for encodes using scales

      if (step.compType === "mark") {
        let valid = schedule.find(track => track.name === step.trackName)
          .scaleOrderValid;
        valid = valid === undefined ? true : valid;

        Object.keys(lastState.encode.update).map(prop => {
          const foundScale =
            lastState.scale[lastState.encode.update[prop].scale];

          if (foundScale && lastState.encode.update[prop].field && (lastState.data.length > 0)) {
            const { field } = lastState.encode.update[prop];
            let vals = lastState.data.map(d => d.datum[field]);

            if (lastState.data[0].mark.marktype === "group") {
              vals = lastState.data.reduce((vals, d) => {
                return vals.concat(d.items[0].items.map(d2 => d2.datum[field]));
              }, []);
            }

            const scaleDomain = foundScale.domain();
            if (foundScale.type === "band" || foundScale.type === "point") {
              valid =
                valid &&
                vals.reduce(
                  (acc, v) => (acc = acc && scaleDomain.indexOf(v) >= 0),
                  true
                );
            } else if (foundScale.type === "linear") {
              const max = Math.max(...vals);
              const min = Math.min(...vals);
              valid = valid && scaleDomain[0] <= min && scaleDomain[1] >= max;
            }
          }
        });
        schedule.find(
          track => track.name === step.trackName
        ).scaleOrderValid = valid;
      }
    }
    for (let step of moment.starting) {
      const lastState = state[step.trackName];
      if (get(step, "enumerator")) {
        if (step.compType === "mark") {
          // fetch enumerator
          step.enumeratorDef = step.enumerator;
          const enumerator = (step.enumerator = new Enumerator(
            step.enumeratorDef,
            state.spec,
            rawInfo
          ));
          await enumerator.init();
          // let dataName = (step.change.final || step.change.final).from.data;
          let dataName = step.compName;

          let key =
            (Array.isArray(step.change.data)
              ? step.change.data
              : step.change.data.keys) || null;
          if (
            computeHasFacet(step.change.initial) &&
            computeHasFacet(step.change.final)
          ) {
            key = (step.change.final || step.change.final).parent.from.facet
              .groupby;
            dataName = (step.change.final || step.change.final).parent.name;
          }
          let extractData = view => view.data(dataName);
          if (
            !computeHasFacet(step.change.initial) &&
            !computeHasFacet(step.change.final) &&
            isGroupingMarktype(step.change.initial) &&
            isGroupingMarktype(step.change.final)
          ) {
            extractData = view => {
              const data = view._runtime.data[dataName].values.value;
              return [
                {
                  datum: {},
                  mark: { role: "group", marktype: "group" },
                  items: [{ items: data }]
                }
              ];
            };
          }
          enumerator.joinData(extractData, (d, i) => {
            if (Array.isArray(key)) {
              return key
                .map(field => {
                  return d.datum[field];
                })
                .join("-");
            }
            return i.toString();
          });

          // Check if scale < data
          for (let i = 1; i < enumerator.stopN - 1; i++) {
            let scale = scName => lastState.scale[scName];
            if (step.change.scale) {
              scale = enumerator._getScales(i);
            }
            const data = enumerator.getData(i);
            let valid = schedule.find(track => track.name === step.trackName)
              .scaleOrderValid;
            valid = valid === undefined ? true : valid;
            Object.keys(lastState.encode.update).map(prop => {
              const foundScale = scale(lastState.encode.update[prop].scale);

              if (foundScale && lastState.encode.update[prop].field) {
                const { field } = lastState.encode.update[prop];
                const scaleDomain = foundScale.domain();
                let vals = data.map(d => d[field]);

                if (data[0].mark.marktype === "group") {
                  vals = data.reduce((vals, d) => {
                    return vals.concat(
                      d.items[0].items.map(d2 => d2.datum[field])
                    );
                  }, []);
                }

                if (foundScale.type === "band" || foundScale.type === "point") {
                  valid =
                    valid &&
                    vals.reduce(
                      (acc, v) => (acc = acc && scaleDomain.indexOf(v) >= 0),
                      true
                    );
                } else if (foundScale.type === "linear") {
                  const max = Math.max(...vals);
                  const min = Math.min(...vals);
                  valid =
                    valid && scaleDomain[0] <= min && scaleDomain[1] >= max;
                }
              }
            });
            schedule.find(
              track => track.name === step.trackName
            ).scaleOrderValid = valid;
          }
        } else if (step.compType === "axis") {
          step.enumeratorDef = step.enumerator;
          step.enumerator = {};
          for (const subComp of ["tick", "label", "grid"]) {
            const enumerator = new Enumerator(
              step.enumeratorDef,
              state.spec,
              rawInfo
            );
            await enumerator.init();
            const scName = step.compName;
            enumerator.joinData(
              view => {
                return view
                  .data(scName)[0]
                  .items.filter(item => item.role === `axis-${subComp}`)[0]
                  .items;
              },
              d => d.datum.value.toString()
            );
            step.enumerator[subComp] = enumerator;
          }

        } else if (step.compType === "legend") {
          step.enumeratorDef = step.enumerator;
          let legendEnumDefs = [];
          if (
            step.change.initial.type === "gradient" &&
            step.change.initial.type === "gradient"
          ) {
            const subComps = step.change.initial.isBand
              ? ["bands", "labels"]
              : ["labels"];
            legendEnumDefs = subComps.map(subComp => {
              return {
                subComp,
                extractData: view => {
                  const entryG = view._runtime.data[
                    step.compName
                  ].values.value[0].items.find(
                    item => item.role === "legend-entry"
                  ).items[0];
                  return entryG.items.find(
                    item => item.role === `legend-${subComp.replace(/s$/g, "")}`
                  ).items;
                },
                identifyDatum: d => d.datum.value.toString()
              };
            });
          } else if (
            step.change.initial.type === "symbol" &&
            step.change.initial.type === "symbol"
          ) {
            legendEnumDefs.push({
              subComp: "pairs",
              extractData: view => {
                return view._runtime.data[
                  step.compName
                ].values.value[0].items.find(
                  item => item.role === "legend-entry"
                ).items[0].items[0].items;
              },
              identifyDatum: d => {
                const { datum } = d.items.find(
                  item => item.role === "legend-label"
                ).items[0];
                return datum.value.toString();
              }
            });

            legendEnumDefs.push({
              subComp: "labels",
              extractData: view => {
                const pairs = view._runtime.data[
                  step.compName
                ].values.value[0].items.find(
                  item => item.role === "legend-entry"
                ).items[0].items[0].items;
                return pairs.map(pair => {
                  return pair.items.find(item => item.role === "legend-label")
                    .items[0];
                });
              },
              identifyDatum: d => d.datum.value.toString()
            });

            legendEnumDefs.push({
              subComp: "symbols",
              extractData: view => {
                const pairs = view._runtime.data[
                  step.compName
                ].values.value[0].items.find(
                  item => item.role === "legend-entry"
                ).items[0].items[0].items;
                return pairs.map(pair => {
                  return pair.items.find(item => item.role === "legend-symbol")
                    .items[0];
                });
              },
              identifyDatum: d => d.datum.value.toString()
            });
          } else {
            console.error(
              "Cannot enumerate the changes when the legend type changes."
            );
          }
          step.enumerator = {};
          for (const enumDef of legendEnumDefs) {
            const enumerator = new Enumerator(
              step.enumerator,
              state.spec,
              rawInfo
            );
            await enumerator.init();
            enumerator.joinData(enumDef.extractData, enumDef.identifyDatum);
            acc[enumDef.subComp] = enumerator;
            return acc;
          }

        }
      }
    }

  }
  return schedule;
}

function initializeState(schedule, rawInfo) {
  const sView = rawInfo.sVis.view;
  const sSpec = rawInfo.sVis.spec;
  const sComps = getComponents(sSpec);
  const initialState = {
    spec: copy(sSpec)
  };
  return schedule.reduce((initialState, track) => {
    // Todo: some scales can be hidden in _runtime._subcontext
    const compState = {
      scale: {},
      signal: {
        width: sView.signal("width"),
        height: sView.signal("height"),
        padding: sView.signal("padding")
      }
    };

    if (track.compType === "mark") {
      const sComp = sComps.find(c => c.name === track.compName);

      if (sComp) {
        compState.marktype = sComp.type;
        compState.hasFacet = computeHasFacet(sComp);
        compState.styleEncode = sComp.style ? DEFAULT_STYLE[sComp.style] : {};

        compState.encode = copy(sComp.encode || {});
        const baseEncode = Object.assign(
          {},
          DEFAULT_ENCODE.mark[compState.marktype].update,
          sComp.style ? DEFAULT_STYLE[sComp.style] : {}
        );
        compState.encode.update = Object.assign(
          baseEncode,
          compState.encode.update
        );
        compState.encode.exit = copy(compState.encode.update);
        compState.encode.enter = Object.assign(
          {},
          compState.encode.update,
          DEFAULT_ENCODE.mark.enter
        );

        sComps
          .filter(comp => comp.compType === "scale")
          .forEach(scale => {
            compState.scale[scale.name] = sView.scale(scale.name);
          });
      } else {
        compState.encode = {};
        compState.styleEncode = {};
      }
      compState.aggregate = getAggregate(
        track.steps[0].change,
        rawInfo
      ).initial;
      compState.bin = getBin(
        track.steps[0].change,
        rawInfo
      ).initial;

      // compState.aggregate.done = false;
    } else if (track.compType === "axis") {
      // for axis comp
      const sComp = sComps.find(
        c => c.compType === "axis" && c.encode.axis.name === track.compName
      );

      if (track.steps[0].change.initial) {
        compState.scale[sComp.scale] = sView.scale(sComp.scale);
      }

      compState.encode = sComp ? copy(sComp.encode || {}) : {};
      const axisGDatumInitial = sComp
        ? findComp(sView.scenegraph().root, track.compName, "axis")[0].items[0]
        : undefined;
      compState.encode.axis = axisGDatumInitial
        ? {
          update: {
            x: { value: axisGDatumInitial.x },
            y: { value: axisGDatumInitial.y }
          }
        }
        : {};
    } else if (track.compType === "legend") {
      // for axis comp

      const sComp = sComps.find(
        c => c.compType === "legend" && c.encode.legend.name === track.compName
      );
      compState.legendType = undefined;
      if (track.steps[0].change.initial) {
        compState.legendType = track.steps[0].change.initial.type;
        [
          "fill",
          "opacity",
          "shape",
          "size",
          "stroke",
          "strokeDash",
          "strokeWidth"
        ].forEach(channel => {
          const scName = track.steps[0].change.initial[channel];
          if (scName) {
            compState.scale[scName] = sView.scale(scName);
          }
        });
      }

      compState.encode = sComp ? copy(sComp.encode || {}) : {};
    } else if (track.compType === "view") {
      const iRootDatum = sView._runtime.data.root.values.value[0];
      const { initial } = track.steps[0].change;
      compState.encode = {
        svg: {
          x: { value: initial.x + initial.padding },
          y: { value: initial.y + initial.padding },
          width: { value: initial.viewWidth + initial.padding * 2 },
          height: { value: initial.viewHeight + initial.padding * 2 }
        },
        root: {
          width: { value: initial.width },
          height: { value: initial.height },
          fill: { value: iRootDatum.fill },
          stroke: { value: iRootDatum.stroke }
        }
      };
    }
    initialState[track.name] = compState;
    return initialState;
  }, initialState);
}

function updateSpec(lastState, lastStep, eSpec) {
  const updatedSpec = copy(lastState.spec);
  if (lastStep.compType === "mark") {
    const lastMarkComp = lastStep.change.final;
    // If the markComp is facetted, its parent mark should be updated.
    const compName = computeHasFacet(lastMarkComp)
      ? lastMarkComp.parent.name
      : lastStep.compName;
    if (!lastMarkComp && compName && lastStep.change.data) {
      // Remove the mark
      const old = updatedSpec.marks.findIndex(mark => mark.name === compName);
      updatedSpec.marks.splice(old, 1);
    } else {
      const old = findMark(updatedSpec.marks, compName);
      if (!old) {
        updatedSpec.marks.push(findMark(eSpec.marks, compName));
      } else {
        const dataName = computeHasFacet(lastMarkComp)
          ? lastMarkComp.parent.from.facet.data
          : lastMarkComp.from.data;
        if (lastStep.change.data) {
          // update data source
          const old = updatedSpec.data.findIndex(
            data => data.name === dataName
          );
          if (old >= 0) {
            updatedSpec.data.splice(old, 1, copy(findData(eSpec, dataName)));
          } else {
            const newI = eSpec.data.findIndex(data => data.name === dataName);
            updatedSpec.data.splice(newI, 0, copy(findData(eSpec, dataName)));
          }
        }
        old.encode.update = lastState[lastStep.trackName].encode.update;
      }
    }
  } else if (lastStep.compType === "axis") {
    // console.log(lastStep.compName);
    const old = updatedSpec.axes.findIndex(
      axis =>
        axis.encode &&
        axis.encode.axis &&
        axis.encode.axis.name === lastStep.compName
    );
    if (old >= 0) {
      updatedSpec.axes.splice(old, 1);
    }
    let newAxis;
    if (
      (newAxis = eSpec.axes.find(
        axis =>
          axis.encode &&
          axis.encode.axis &&
          axis.encode.axis.name === lastStep.compName
      ))
    ) {
      updatedSpec.axes.push(newAxis);
    }
  } else if (lastStep.compType === "legend") {
    const old = updatedSpec.legends
      ? updatedSpec.legends.findIndex(
        legend =>
          legend.encode &&
            legend.encode.legend &&
            legend.encode.legend.name === lastStep.compName
      )
      : -1;
    if (old >= 0) {
      updatedSpec.legends.splice(old, 1);
    }

    const newLegend = eSpec.legends
      ? eSpec.legends.find(
        legend =>
          legend.encode &&
            legend.encode.legend &&
            legend.encode.legend.name === lastStep.compName
      )
      : undefined;
    if (newLegend) {
      if (updatedSpec.legends) {
        updatedSpec.legends.push(newLegend);
      } else {
        updatedSpec.legends = [newLegend];
      }
    }
  }
  return updatedSpec;
}

// https://github.com/vega/vega/blob/master/packages/vega-scenegraph/src/util/text.js
function textOffset(item) {
  // perform our own font baseline calculation
  // why? not all browsers support SVG 1.1 'alignment-baseline' :(
  const { baseline } = item;
  const h = fontSize(item);
  switch (baseline) {
  case "top":
    return 0.79 * h;
  case "middle":
    return 0.3 * h;
  case "bottom":
    return -0.21 * h;
  case "line-top":
    return 0.29 * h + 0.5 * lineHeight(item);
  case "line-bottom":
    return 0.29 * h - 0.5 * lineHeight(item);
  default:
    return 0;
  }
}

function fontSize(item) {
  return item.fontSize != null ? +item.fontSize || 0 : 11;
}

function lineHeight(item) {
  return item.lineHeight != null ? item.lineHeight : fontSize(item) + 2;
}

function getStyle(attr) {
  switch (attr) {
  case "font":
    return "font-family";
  case "fontSize":
    return "font-size";
  case "fontStyle":
    return "font-style";
  case "fontVariant":
    return "font-variant";
  case "fontWeight":
    return "font-weight";
  case "strokeWidth":
    return "stroke-width";
  case "strokeDasharray":
    return "stroke-dasharray";
  }
  return attr;
}

function transformItem(item) {
  return `translate(${item.x || 0}, ${item.y || 0})${
    item.angle ? ` rotate(${item.angle})` : ""
  }`;
}

// Modify d3-interpolate-path (https://github.com/pbeshai/d3-interpolate-path) package by **.

/**
 * List of params for each command type in a path `d` attribute
 */
const typeMap = {
  M: ["x", "y"],
  L: ["x", "y"],
  H: ["x"],
  V: ["y"],
  C: ["x1", "y1", "x2", "y2", "x", "y"],
  S: ["x2", "y2", "x", "y"],
  Q: ["x1", "y1", "x", "y"],
  T: ["x", "y"],
  A: ["rx", "ry", "xAxisRotation", "largeArcFlag", "sweepFlag", "x", "y"]
};

/**
 * Convert to object representation of the command from a string
 *
 * @param {String} commandString Token string from the `d` attribute (e.g., L0,0)
 * @return {Object} An object representing this command.
 */
function commandObject(commandString) {
  // convert all spaces to commas
  commandString = commandString.trim().replace(/ /g, ",");

  const type = commandString[0];
  const args = commandString.substring(1).split(",");
  return typeMap[type.toUpperCase()].reduce(
    (obj, param, i) => {
      // parse X as float since we need it to do distance checks for extending points
      obj[param] = ["x", "y"].indexOf(param) >= 0 ? parseFloat(args[i]) : args[i];
      return obj;
    },
    { type }
  );
}

/**
 * Converts a command object to a string to be used in a `d` attribute
 * @param {Object} command A command object
 * @return {String} The string for the `d` attribute
 */
function commandToString(command) {
  const { type } = command;
  const params = typeMap[type.toUpperCase()];
  return `${type}${params.map(p => command[p]).join(",")}`;
}

/**
 * Converts command A to have the same type as command B.
 *
 * e.g., L0,5 -> C0,5,0,5,0,5
 *
 * Uses these rules:
 * x1 <- x
 * x2 <- x
 * y1 <- y
 * y2 <- y
 * rx <- 0
 * ry <- 0
 * xAxisRotation <- read from B
 * largeArcFlag <- read from B
 * sweepflag <- read from B
 *
 * @param {Object} aCommand Command object from path `d` attribute
 * @param {Object} bCommand Command object from path `d` attribute to match against
 * @return {Object} aCommand converted to type of bCommand
 */
function convertToSameType(aCommand, bCommand) {
  const conversionMap = {
    x1: "x",
    y1: "y",
    x2: "x",
    y2: "y"
  };

  const readFromBKeys = ["xAxisRotation", "largeArcFlag", "sweepFlag"];

  // convert (but ignore M types)
  if (aCommand.type !== bCommand.type && bCommand.type.toUpperCase() !== "M") {
    const aConverted = {};
    Object.keys(bCommand).forEach(bKey => {
      const bValue = bCommand[bKey];
      // first read from the A command
      let aValue = aCommand[bKey];

      // if it is one of these values, read from B no matter what
      if (aValue === undefined) {
        if (readFromBKeys.includes(bKey)) {
          aValue = bValue;
        } else {
          // if it wasn't in the A command, see if an equivalent was
          if (aValue === undefined && conversionMap[bKey]) {
            aValue = aCommand[conversionMap[bKey]];
          }

          // if it doesn't have a converted value, use 0
          if (aValue === undefined) {
            aValue = 0;
          }
        }
      }

      aConverted[bKey] = aValue;
    });

    // update the type to match B
    aConverted.type = bCommand.type;
    aCommand = aConverted;
  }

  return aCommand;
}

/**
 * Extends an array of commands to the length of the second array
 * inserting points at the spot that is closest by X value. Ensures
 * all the points of commandsToExtend are in the extended array and that
 * only numPointsToExtend points are added.
 *
 * @param {Object[]} commandsToExtend The commands array to extend
 * @param {Object[]} referenceCommands The commands array to match
 * @return {Object[]} The extended commands1 array
 */
function extend(commandsToExtend, referenceCommands, numPointsToExtend) {
  // map each command in B to a command in A by counting how many times ideally
  // a command in A was in the initial path (see https://github.com/pbeshai/d3-interpolate-path/issues/8)
  let initialCommandIndex;
  if (commandsToExtend.length > 1 && commandsToExtend[0].type === "M") {
    initialCommandIndex = 1;
  } else {
    initialCommandIndex = 0;
  }

  const counts = referenceCommands.reduce((counts, refCommand, i) => {
    // skip first M
    if (i === 0 && refCommand.type === "M") {
      counts[0] = 1;
      return counts;
    }

    let minDistance = Math.abs(
      commandsToExtend[initialCommandIndex].x - refCommand.x
    );
    let minCommand = initialCommandIndex;

    // find the closest point by X position in A
    for (let j = initialCommandIndex + 1; j < commandsToExtend.length; j++) {
      const distance = Math.abs(commandsToExtend[j].x - refCommand.x);
      if (distance < minDistance) {
        minDistance = distance;
        minCommand = j;
        // since we assume sorted by X, once we find a value farther, we can return the min.
      } else {
        break;
      }
    }

    counts[minCommand] = (counts[minCommand] || 0) + 1;
    return counts;
  }, {});

  // now extend the array adding in at the appropriate place as needed
  const extended = [];
  let numExtended = 0;
  for (let i = 0; i < commandsToExtend.length; i++) {
    // add in the initial point for this A command
    extended.push(commandsToExtend[i]);

    for (let j = 1; j < counts[i] && numExtended < numPointsToExtend; j++) {
      const commandToAdd = Object.assign({}, commandsToExtend[i]);
      // don't allow multiple Ms
      if (commandToAdd.type === "M") {
        commandToAdd.type = "L";
      } else {
        // try to set control points to x and y
        if (commandToAdd.x1 !== undefined) {
          commandToAdd.x1 = commandToAdd.x;
          commandToAdd.y1 = commandToAdd.y;
        }

        if (commandToAdd.x2 !== undefined) {
          commandToAdd.x2 = commandToAdd.x;
          commandToAdd.y2 = commandToAdd.y;
        }
      }
      extended.push(commandToAdd);
      numExtended += 1;
    }
  }

  return extended;
}

/**
 * Extends an array of commands to the length of the second array
 * inserting points at the spot that is closest by X value. Ensures
 * all the points of commandsToExtend are in the extended array and that
 * only numPointsToExtend points are added.
 *
 * @param {Object[]} commandsToExtend The commands array to extend
 * @param {Object[]} referenceCommands The commands array to match
 * @return {Object[]} The extended commands1 array
 */
function extend2(commandsToExtend, referenceCommands, numPointsToExtend, alongTo="x") {
  // map each command in B to a command in A by counting how many times ideally
  // a command in A was in the initial path (see https://github.com/pbeshai/d3-interpolate-path/issues/8)
  let initialCommandIndex;
  if (commandsToExtend.length > 1 && commandsToExtend[0].type === "M") {
    initialCommandIndex = 1;
  } else {
    initialCommandIndex = 0;
  }
  let [m, subM] = alongTo === "x" ? ["x", "y"] : ["y", "x"];


  const counts = referenceCommands.reduce((counts, refCommand, i) => {
    // skip first M
    if (i === 0 && refCommand.type === "M") {
      counts[0] = 1;
      return counts;
    }

    let minDistance = Math.abs(
      commandsToExtend[initialCommandIndex][m] - refCommand[m]
    );
    let subMinDistance = Math.abs(
      commandsToExtend[initialCommandIndex][subM] - refCommand[subM]
    );
    let minCommand = initialCommandIndex;

    // find the closest point by X position in A
    for (let j = initialCommandIndex + 1; j < commandsToExtend.length; j++) {
      const distance = Math.abs(commandsToExtend[j][m] - refCommand[m]);
      const subDistance = Math.abs(commandsToExtend[j][subM] - refCommand[subM]);
      if (distance < minDistance) {
        minDistance = distance;
        minCommand = j;
        subMinDistance = subDistance;
        // since we assume sorted by X, once we find a value farther, we can return the min.
      } else if (distance === minDistance) {
        if (subDistance < subMinDistance) {
          minCommand = j;
          subMinDistance = subDistance;
        }
      } else {
        break;
      }
    }

    counts[minCommand] = (counts[minCommand] || 0) + 1;
    return counts;
  }, {});

  // now extend the array adding in at the appropriate place as needed
  const extended = [];
  let numExtended = 0;
  for (let i = 0; i < commandsToExtend.length; i++) {
    // add in the initial point for this A command
    extended.push(commandsToExtend[i]);

    for (let j = 1; j < counts[i] && numExtended < numPointsToExtend; j++) {
      const commandToAdd = Object.assign({}, commandsToExtend[i]);
      // don't allow multiple Ms
      if (commandToAdd.type === "M") {
        commandToAdd.type = "L";
      } else {
        // try to set control points to x and y
        if (commandToAdd.x1 !== undefined) {
          commandToAdd.x1 = commandToAdd.x;
          commandToAdd.y1 = commandToAdd.y;
        }

        if (commandToAdd.x2 !== undefined) {
          commandToAdd.x2 = commandToAdd.x;
          commandToAdd.y2 = commandToAdd.y;
        }
      }
      extended.push(commandToAdd);
      numExtended += 1;
    }
  }

  return extended;
}

/**
 * Interpolate from A to B by extending A and B during interpolation to have
 * the same number of points. This allows for a smooth transition when they
 * have a different number of points.
 *
 * Ignores the `Z` character in paths unless both A and B end with it.
 *
 * @param {String} a The `d` attribute for a path
 * @param {String} b The `d` attribute for a path
 */
function interpolatePath(a, b, alongTo = "x") {
  // remove Z, remove spaces after letters as seen in IE
  const aNormalized =
    a == null ? "" : a.replace(/[Z]/gi, "").replace(/([MLCSTQAHV])\s*/gi, "$1");
  const bNormalized =
    b == null ? "" : b.replace(/[Z]/gi, "").replace(/([MLCSTQAHV])\s*/gi, "$1");
  const aPoints =
    aNormalized === "" ? [] : aNormalized.split(/(?=[MLCSTQAHV])/gi);
  const bPoints =
    bNormalized === "" ? [] : bNormalized.split(/(?=[MLCSTQAHV])/gi);

  // if both are empty, interpolation is always the empty string.
  if (!aPoints.length && !bPoints.length) {
    return function nullInterpolator() {
      return "";
    };
  }

  // if A is empty, treat it as if it used to contain just the first point
  // of B. This makes it so the line extends out of from that first point.
  if (!aPoints.length) {
    aPoints.push(bPoints[0]);

    // otherwise if B is empty, treat it as if it contains the first point
    // of A. This makes it so the line retracts into the first point.
  } else if (!bPoints.length) {
    bPoints.push(aPoints[0]);
  }

  // convert to command objects so we can match types
  let aCommands = aPoints.map(commandObject);
  let bCommands = bPoints.map(commandObject);

  // extend to match equal size
  const numPointsToExtend = Math.abs(bPoints.length - aPoints.length);

  if (numPointsToExtend !== 0) {
    // B has more points than A, so add points to A before interpolating
    if (bCommands.length > aCommands.length) {
      aCommands = extend2(aCommands, bCommands, numPointsToExtend, alongTo);

      // else if A has more points than B, add more points to B
    } else if (bCommands.length < aCommands.length) {
      bCommands = extend2(bCommands, aCommands, numPointsToExtend, alongTo);
    }
  }

  // commands have same length now.
  // convert A to the same type of B
  aCommands = aCommands.map((aCommand, i) =>
    convertToSameType(aCommand, bCommands[i])
  );

  let aProcessed = aCommands.map(commandToString).join("");
  let bProcessed = bCommands.map(commandToString).join("");

  // if both A and B end with Z add it back in
  if (
    (a == null || a[a.length - 1] === "Z") &&
    (b == null || b[b.length - 1] === "Z")
  ) {
    aProcessed += "Z";
    bProcessed += "Z";
  }

  const stringInterpolator = interpolateString(aProcessed, bProcessed);

  return function pathInterpolator(t) {
    // at 1 return the final value without the extensions used during interpolation
    if (t === 1) {
      return b == null ? "" : b;
    }

    return stringInterpolator(t);
  };
}
/**
 * Interpolate from A to B by extending A and B during interpolation to have
 * the same number of points. This allows for a smooth transition when they
 * have a different number of points.
 *
 * Ignores the `Z` character in paths unless both A and B end with it.
 *
 * @param {String} a The `d` attribute for a path
 * @param {String} b The `d` attribute for a path
 */
function interpolatePath2(a, b, alongTo = "x") {
  // remove Z, remove spaces after letters as seen in IE
  const aNormalized =
    a == null ? "" : a.replace(/[Z]/gi, "").replace(/([MLCSTQAHV])\s*/gi, "$1");
  const bNormalized =
    b == null ? "" : b.replace(/[Z]/gi, "").replace(/([MLCSTQAHV])\s*/gi, "$1");
  const aPoints =
    aNormalized === "" ? [] : aNormalized.split(/(?=[MLCSTQAHV])/gi);
  const bPoints =
    bNormalized === "" ? [] : bNormalized.split(/(?=[MLCSTQAHV])/gi);

  // if both are empty, interpolation is always the empty string.
  if (!aPoints.length && !bPoints.length) {
    return function nullInterpolator() {
      return "";
    };
  }

  // if A is empty, treat it as if it used to contain just the first point
  // of B. This makes it so the line extends out of from that first point.
  if (!aPoints.length) {
    aPoints.push(bPoints[0]);

    // otherwise if B is empty, treat it as if it contains the first point
    // of A. This makes it so the line retracts into the first point.
  } else if (!bPoints.length) {
    bPoints.push(aPoints[0]);
  }

  // convert to command objects so we can match types
  const aCommands = aPoints.map(commandObject);
  const bCommands = bPoints.map(commandObject);
  let hasZ = false;
  if (
    (a == null || a[a.length - 1] === "Z") &&
    (b == null || b[b.length - 1] === "Z")
  ) {
    hasZ = true;
  }

  // get tail
  // get head
  // concat tail + body + head
  const aExtent = extent(aCommands, c => c[alongTo]);
  const bExtent = extent(bCommands, c => c[alongTo]);
  if (alongTo === "x") {
    const aHeadI = aCommands.findIndex(c => c[alongTo] === aExtent[1]);
    const bHeadI = bCommands.findIndex(c => c[alongTo] === bExtent[1]);

    const aTop = aCommands.slice(0, aHeadI + 1);
    const bTop = bCommands.slice(0, bHeadI + 1);
    const aBottom = aCommands.slice(aHeadI + 1).reverse();
    const bBottom = bCommands.slice(bHeadI + 1).reverse();
    const hasBottom = aBottom.length > 0 && bBottom.length > 0;

    return t => {
      if (t === 1) {
        return b === null ? "" : b;
      }
      return (
        interpolateOutline(aTop, bTop, aExtent, bExtent)(t) +
        (hasBottom
          ? interpolateOutline(aBottom, bBottom, aExtent, bExtent, true, true)(t)
          : "") +
        (hasZ ? "Z" : "")
      );
    };
  } else {
    const aHeadI = aCommands.findIndex(c => c[alongTo] === aExtent[0]);
    const bHeadI = bCommands.findIndex(c => c[alongTo] === bExtent[0]);

    const aTop = aCommands.slice(0, aHeadI + 1).reverse();
    const bTop = bCommands.slice(0, bHeadI + 1).reverse();
    const aBottom = aCommands.slice(aHeadI + 1);
    const bBottom = bCommands.slice(bHeadI + 1);
    const hasBottom = aBottom.length > 0 && bBottom.length > 0;

    return t => {
      if (t === 1) {
        return b === null ? "" : b;
      }
      return (
        interpolateOutline(aTop, bTop, aExtent, bExtent, true)(t) +
        (hasBottom
          ? interpolateOutline(aBottom, bBottom, aExtent, bExtent, false, true)(t)
          : "") +
        (hasZ ? "Z" : "")
      );
    };
  }

  function interpolateOutline(
    aCommands,
    bCommands,
    aExtent,
    bExtent,
    reverse,
    isBottom = false
  ) {
    let head;
    let tail;
    let body;
    if (aExtent[1] < bExtent[0] || aExtent[0] > bExtent[1]) {
      // just interpolate
      body = getBody(aCommands, bCommands, reverse);
    } else {
      if (aExtent[1] > bExtent[1]) {
        // shrink head
        const i = aCommands.findIndex(c => c[alongTo] > bExtent[1]);
        head = getHead(aCommands.slice(i - 1), reverse, true, isBottom);
      } else if (aExtent[1] < bExtent[1]) {
        // extend head
        const i = bCommands.findIndex(c => c[alongTo] > aExtent[1]);
        head = getHead(bCommands.slice(i - 1), reverse, false, isBottom);
      }

      if (aExtent[0] < bExtent[0]) {
        // shrink tail
        const i = aCommands.findIndex(c => c[alongTo] >= bExtent[0]);
        tail = getTail(aCommands.slice(0, i + 1), reverse, true, isBottom);
      } else if (aExtent[0] > bExtent[0]) {
        // extend tail
        const i = bCommands.findIndex(c => c[alongTo] >= aExtent[0]);
        tail = getTail(bCommands.slice(0, i + 1), reverse, false, isBottom);
        // tail = getTail(bCommands.filter(c => c[alongTo] < aExtent[0]), false);
      }

      const bodyMin = Math.max(aExtent[0], bExtent[0]);
      const bodyMax = Math.min(aExtent[1], bExtent[1]);
      // get body
      body = getBody(
        aCommands.filter(c => c[alongTo] >= bodyMin && c[alongTo] <= bodyMax  ),
        bCommands.filter(c => c[alongTo] >= bodyMin && c[alongTo] <= bodyMax  ),
        reverse,
        !isBottom && ((reverse && !head) || (!reverse && !tail))
      );
    }
    if (reverse) {
      return t => {
        return (head ? head(t) : "") + body(t) + (tail ? tail(t) : "");
      };
    } else {
      return t => {
        return (tail ? tail(t) : "") + body(t) + (head ? head(t) : "");
      };
    }

  }

  function getBody(aCommands, bCommands, reverse = false, isTail = false) {
    // extend to match equal size
    const numPointsToExtend = Math.abs(bCommands.length - aCommands.length);
    if (aCommands.length <= 1 && bCommands.length <= 1) {
      return t => "";
    }
    if (numPointsToExtend !== 0) {
      // B has more points than A, so add points to A before interpolating
      if (bCommands.length > aCommands.length) {
        aCommands = extend(aCommands, bCommands, numPointsToExtend);

        // else if A has more points than B, add more points to B
      } else if (bCommands.length < aCommands.length) {
        bCommands = extend(bCommands, aCommands, numPointsToExtend);
      }
    }

    // commands have same length now.
    // convert A to the same type of B
    aCommands = aCommands.map((aCommand, i) =>
      convertToSameType(aCommand, bCommands[i])
    );
    aCommands = (reverse ? aCommands.reverse() : aCommands);
    bCommands = (reverse ? bCommands.reverse() : bCommands);
    if (isTail) {
      aCommands[0] = Object.assign({}, aCommands[0], { type: "M" });
      bCommands[0] = Object.assign({}, bCommands[0], { type: "M" });
    }
    const aProcessed = aCommands
      .map(commandToString)
      .join("");
    const bProcessed = bCommands
      .map(commandToString)
      .join("");

    const stringInterpolator = interpolateString(aProcessed, bProcessed);

    return function pathInterpolator(t) {
      // at 1 return the final value without the extensions used during interpolation
      if (t === 1) {
        return bProcessed == null ? "" : bProcessed;
      }

      return stringInterpolator(t);
    };
  }

  function getHead(commands, reverse = false, isShrink = false, isBottom=false) {
    const d = commands.map(commandToString).join("");
    const L = commands.length;
    const phases = [];
    for (let i = 1; i <= L - 1; i++) {
      let aCommands = commands.slice(0, i).concat([commands[i - 1]]);
      let bCommands = commands.slice(0, i + 1);
      aCommands = (reverse ? aCommands.reverse() : aCommands);
      bCommands = (reverse ? bCommands.reverse() : bCommands);
      const aProcessed = aCommands
        .map(commandToString)
        .join("");
      const bProcessed = bCommands
        .map(commandToString)
        .join("");
      if (reverse && !isBottom) {
        aCommands[0] = Object.assign({}, aCommands[0], { type: "M" });
        bCommands[0] = Object.assign({}, bCommands[0], { type: "M" });
      }
      phases.push(function(t) {
        return interpolateString(aProcessed, bProcessed)(t);
      });
    }

    return function(t) {
      if (isShrink) {
        t = 1 - t;
      }
      if (t === 1) {
        return d == null ? "" : d;
      }
      const phase = Math.floor(t * (L - 1));

      return phases[phase](t * (L - 1) - phase);
    };
  }

  function getTail(commands, reverse = false, isShrink = false, isBottom=false) {
    const d = commands.map(commandToString).join("");
    const L = commands.length;
    const phases = [];
    for (let i = 1; i < L; i++) {
      let aCommands = [commands[L - i]].concat(commands.slice(L - i, L));
      let bCommands = commands.slice(L - i - 1, L);

      aCommands = (reverse ? aCommands.reverse() : aCommands);
      bCommands = (reverse ? bCommands.reverse() : bCommands);

      if (!reverse && !isBottom) {
        aCommands[0] = Object.assign({}, aCommands[0], { type: "M" });
        bCommands[0] = Object.assign({}, bCommands[0], { type: "M" });
      }

      const aProcessed = aCommands
        .map(commandToString)
        .join("");
      const bProcessed = bCommands
        .map(commandToString)
        .join("");

      phases.push(function(t) {
        return interpolateString(aProcessed, bProcessed)(t);
      });
    }
    return function(t) {
      if (isShrink) {
        t = 1 - t;
      }
      if (t === 1) {
        return d == null ? "" : d;
      }
      const phase = Math.floor(t * (L - 1));
      return phases[phase](t * (L - 1) - phase);
    };
  }
}

/* eslint-disable camelcase */




function rectInterpolator(scales, encodes, signals, d, oldD, getRect) {
  let path_i;
  let path_f;
  const d_i = d.initial || oldD || select(this).datum();
  const d_f = d.final || d;
  const encode_i = encodes.initial || encodes;
  const encode_f = encodes.final || encodes;
  const scale_i = {
    primary: scales.initial || scales,
    secondary: scales.final || scales
  };
  const scale_f = {
    primary: scales.final || scales,
    secondary: scales.initial || scales
  };
  const signal_i = signals.initial || signals;
  const signal_f = signals.final || signals;

  path_i = getRect(d_i, scale_i, encode_i, signal_i).path;
  path_f = getRect(d_f, scale_f, encode_f, signal_f).path;

  return interpolatePath(path_i, path_f);
}
function symbolInterpolator(scales, encodes, signals, d, oldD, getShape) {
  let shape_i;
  let shape_f;
  let shape_i_diminished;
  let shape_f_diminished;
  const d_i = d.initial || oldD || select(this).datum();
  const d_f = d.final || d;
  const encode_i = encodes.initial || encodes;
  const encode_f = encodes.final || encodes;
  const scale_i = scales.initial || scales;
  const scale_f = scales.final || scales;
  const signal_i = signals.initial || signals;
  const signal_f = signals.final || signals;
  let isMorph = false;

  shape_i = getShape(d_i, scale_i, encode_i, signal_i);
  shape_f = getShape(d_f, scale_f, encode_f, signal_f);
  if (shape_i.meta.shape !== shape_f.meta.shape) {
    isMorph = true;
    shape_i_diminished = getShape(d_i, scale_i, encode_i, signal_i, true);
    shape_f_diminished = getShape(d_f, scale_f, encode_f, signal_f, true);
  }

  if (isMorph) {
    return t => {
      if (t < 0.5) {
        return interpolatePath(shape_i.path, shape_i_diminished.path)(t * 2);
      }
      return interpolatePath(
        shape_f_diminished.path,
        shape_f.path
      )((t - 0.5) * 2);
    };
  }
  return interpolatePath(shape_i.path, shape_f.path);
}

function areaLineInterpolatorWithScales(
  scales,
  encodes,
  marktypes,
  d,
  oldD,
  signals,
  getPath,
  interpolateStyle,
  alongTos
) {
  const encode_i = encodes.initial || encodes;
  const encode_f = encodes.final || encodes;
  const marktype_i = marktypes.initial || marktypes;
  // const marktype_i = "area";
  const marktype_f = marktypes.final || marktypes;
  const scale_i = scales.initial || scales;
  const scale_f = scales.final || scales;
  const signal_i = signals.initial || signals;
  const signal_f = signals.final || signals;
  const d_i = d.initial || oldD;
  const d_f = d.final || d;
  const alongTo_i = alongTos.initial || alongTos;
  const alongTo_f = alongTos.final || alongTos;
  const paths_11 = getPath(areaLineDToData(d_i), scale_i, encode_i, signal_i, marktype_i, alongTo_i);
  const paths_12 = getPath(areaLineDToData(d_i), scale_f, encode_i, signal_i, marktype_i, alongTo_i);
  const paths_21 = getPath(areaLineDToData(d_f), scale_i, encode_f, signal_f, marktype_f, alongTo_f);
  const paths_22 = getPath(areaLineDToData(d_f), scale_f, encode_f, signal_f, marktype_f, alongTo_f);

  if (
    isValidPath(paths_11) &&
    isValidPath(paths_12) &&
    isValidPath(paths_21) &&
    isValidPath(paths_22)
  ) {
    const interpolator_scale1 = interpolatePath(paths_11, paths_12, alongTo_i);
    const interpolator_scale2 = interpolatePath(paths_21, paths_22, alongTo_f);
    const interpolator_data =
      interpolateStyle === "update" ? interpolatePath2 : interpolatePath;
      // interpolateStyle === "update" ? interpolatePath3 : interpolatePath;
    return t => {
      return interpolator_data(
        interpolator_scale1(t),
        interpolator_scale2(t),
        alongTo_i
      )(t);
    };
  }
  const interpolator_data =
    interpolateStyle === "update" ? interpolatePath2 : interpolatePath;
    // interpolateStyle === "update" ? interpolatePath3 : interpolatePath;

  return interpolator_data(paths_11, paths_22, alongTo_i);
}

function areaLineInterpolator(
  scales,
  encodes,
  marktypes,
  d,
  oldD,
  signals,
  getPath,
  interpolateStyle
) {
  const marktype = typeof marktypes === "string" ? marktypes : undefined;

  if (marktype === "line") {
    const dataToPath = (data, scale, encode, signal) => {
      return getPath(data, scale, encode, signal, "line");
    };
    const computId = (encode, d) => {
      return !d
        ? undefined
        : [d.datum[encode.x.field], d.datum[encode.y.field]].join(",");
    };
    return computeLineInterpolator(
      areaLineDToData(d.initial || oldD),
      areaLineDToData(d.final || d),
      scales,
      encodes,
      signals,
      computId,
      dataToPath
    );
    // if (interpolateStyle === "update") {
    //   const dataToPath = (data, scale, encode, signal) => {
    //     return getPath(data, scale, encode, signal, "line");
    //   };
    //   const computId = (encode, d) => {
    //     return !d
    //       ? undefined
    //       : [d.datum[encode.x.field], d.datum[encode.y.field]].join(",");
    //   };
    //   return computeLineInterpolator(
    //     areaLineDToData(oldD),
    //     areaLineDToData(d),
    //     scales,
    //     encodes,
    //     signals,
    //     computId,
    //     dataToPath
    //   );
    // }

    // return areaLineInterpolatorWithScales.bind(this)(
    //   scales,
    //   encodes,
    //   "line",
    //   d,
    //   oldD,
    //   signals,
    //   getPath,
    //   interpolateStyle
    // );
  }
  if (marktype === "area" || marktype === "trail") {
    const alongTos = {
      initial: get(encodes, "initial", "orient", "value") === "horizontal" ? "y": "x",
      final: get(encodes, "final", "orient", "value") === "horizontal" ? "y": "x"
    };
    return areaLineInterpolatorWithScales.bind(this)(
      scales,
      encodes,
      marktype,
      d,
      oldD,
      signals,
      getPath,
      interpolateStyle,
      alongTos
    );
  }

  // when the marktype changes between "area" and "line", assume the line as area.

  if (marktypes.initial === "line" && marktypes.final === "area") {
    let alongTo = get(encodes, "final", "orient", "value") === "horizontal" ? "y": "x";
    return areaLineInterpolatorWithScales.bind(this)(scales, encodes, "area", d, oldD, signals, getPath, interpolateStyle, alongTo);
  } else { // area -> line
    let alongTo = get(encodes, "initial", "orient", "value") === "horizontal" ? "y": "x";
    let linePaths = getPath(
      areaLineDToData(d.final || d),
      scales.final || scales,
      encodes.final || encodes,
      signals.final || signals,
      "line");
    let intp = areaLineInterpolatorWithScales.bind(this)(scales, encodes, "area", d, oldD, signals, getPath, interpolateStyle, alongTo);
    return (t) => {
      return t >= 1 ? linePaths : intp(t);
    };
  }
}

function areaLineDToData(d) {
  if (!d) {
    return undefined;
  }
  return d.mark.marktype !== "group" ? d.mark.items : d.items[0].items;
}

// Interpolate path(dataA, scaleA) -> path(dataB, scaleB)
function computeLineInterpolator(
  dataA,
  dataB,
  scales,
  encodes,
  signals,
  computeId,
  getPath
) {
  // 1) calculate two anchors between dataA and dataB
  const _encodes = encodes.initial && encodes.final ? encodes : {
    initial: encodes,
    final: encodes
  };
  const computeIdA = d => computeId(_encodes.initial, d);
  const computeIdB = d => computeId(_encodes.final, d);
  const La = dataA.length;
  const Lb = dataB.length;
  let i = dataB.findIndex(d => computeIdB(d) === computeIdA(dataA[0]));
  let j = dataB.findIndex(d => computeIdB(d) === computeIdA(dataA[La - 1]));
  let head;
  let tail;
  let body;

  if (i >= 0) {
    if (j >= 0) {
      if (j < i) {
        body = getBody(dataA, dataB, scales, _encodes, signals, getPath);
      } else {
        tail = getTail(
          dataB.slice(0, i + 1),
          false,
          scales,
          _encodes,
          signals,
          getPath
        );
        body = getBody(
          dataA,
          dataB.slice(i, j + 1),
          scales,
          _encodes,
          signals,
          getPath,
          false
        );
        head = getHead(
          dataB.slice(j),
          false,
          scales,
          _encodes,
          signals,
          getPath
        );
      }
    } else if (
      (j = dataA.findIndex(d => computeIdA(d) === computeIdB(dataB[Lb - 1]))) >= 0
    ) {
      tail = getTail(
        dataB.slice(0, i + 1),
        false,
        scales,
        _encodes,
        signals,
        getPath
      );
      body = getBody(
        dataA.slice(0, j + 1),
        dataB.slice(i),
        scales,
        _encodes,
        signals,
        getPath,
        false
      );
      head = getHead(dataA.slice(j), true, scales, _encodes, signals, getPath);
    } else {
      body = getBody(dataA, dataB, scales, _encodes, signals, getPath);
    }
  } else if (j >= 0) {
    if (
      (i = dataA.findIndex(d => computeIdA(d) === computeIdB(dataB[0]))) >= 0
    ) {
      tail = getTail(
        dataA.slice(0, i + 1),
        true,
        scales,
        _encodes,
        signals,
        getPath
      );
      body = getBody(
        dataA.slice(i),
        dataB.slice(0, j + 1),
        scales,
        _encodes,
        signals,
        getPath,
        false
      );
      head = getHead(dataB.slice(j), false, scales, _encodes, signals, getPath);
    } else {
      body = getBody(dataA, dataB, scales, _encodes, signals, getPath);
    }
  } else {
    i = dataA.findIndex(d => computeIdA(d) === computeIdB(dataB[0]));
    j = dataA.findIndex(d => computeIdA(d) === computeIdB(dataB[Lb - 1]));
    if (i >= 0 && j >= 0) {
      tail = getTail(
        dataA.slice(0, i + 1),
        true,
        scales,
        _encodes,
        signals,
        getPath
      );
      body = getBody(
        dataA.slice(i, j + 1),
        dataB,
        scales,
        _encodes,
        signals,
        getPath,
        false
      );
      head = getHead(dataA.slice(j), true, scales, _encodes, signals, getPath);
    } else {
      body = getBody(dataA, dataB, scales, _encodes, signals, getPath);
    }
  }

  if (head && tail && body) {
    return t => {
      if (t === 1) {
        return getPath(dataB, scales.final, _encodes.final, signals.final);
      }
      return tail(t) + body(t) + head(t);
    };
  }
  return t => {
    if (t === 1) {
      return getPath(dataB, scales.final, _encodes.final, signals.final);
    }
    return body(t);
  };
}

function getHead(data, isShrink, scales, encodes, signals, getPath) {
  const L = data.length;
  if (L <= 1) {
    return t => "";
  }

  const interpolators = ["initial", "final"].map(which => {
    const phases = [];
    const scale = scales[which];
    const encode = encodes[which];
    const signal = signals[which] || signals;
    for (let i = 0; i <= L - 2; i++) {
      const fromPath = getPath(
        data.slice(0, i + 1).concat(data.slice(i, i + 1)),
        scale,
        encode,
        signal
      ).replace(/^M/g, "L");
      const toPath = getPath(
        data.slice(0, i + 2),
        scale,
        encode,
        signal
      ).replace(/^M/g, "L");
      phases.push(function(t) {
        return interpolateString(fromPath, toPath)(t);
      });
    }
    return function(t) {
      if (isShrink) {
        t = 1 - t;
      }
      if (t === 1) {
        return getPath(data, scale, encode, signal);
      }
      const phase = Math.floor(t * (L - 1));

      return phases[phase](t * (L - 1) - phase);
    };
  });

  return t => {
    return interpolateString(interpolators[0](t), interpolators[1](t))(t);
  };
}

function getTail(data, isShrink, scales, encodes, signals, getPath) {
  const L = data.length;
  if (L <= 1) {
    return t => "";
  }
  const interpolators = ["initial", "final"].map(which => {
    const phases = [];
    const scale = scales[which];
    const encode = encodes[which];
    const signal = signals[which] || signals;
    for (let i = L - 2; i >= 0; i--) {
      const fromPath = getPath(
        data.slice(i + 1, i + 2).concat(data.slice(i + 1)),
        scale,
        encode,
        signal
      ).replace(/Z$/g, "");
      const toPath = getPath(data.slice(i), scale, encode, signal).replace(
        /Z$/g,
        ""
      );

      phases.push(function(t) {
        return interpolateString(fromPath, toPath)(t);
      });
    }

    return function(t) {
      if (isShrink) {
        t = 1 - t;
      }
      if (t === 1) {
        return getPath(data, scale, encode, signal);
      }
      const phase = Math.floor(t * (L - 1));

      return phases[phase](t * (L - 1) - phase);
    };
  });
  return t => {
    return interpolateString(interpolators[0](t), interpolators[1](t))(t);
  };
}

function getBody(
  fromData,
  toData,
  scales,
  encodes,
  signals,
  getPath,
  toBeAssembled
) {
  const pathPairs = ["initial", "final"].map(which => {
    const scale = scales[which];
    const encode = encodes[which];
    const signal = signals[which] || signals;
    let fromPath = getPath(fromData, scale, encode, signal);
    let toPath = getPath(toData, scale, encode, signal);

    if (toBeAssembled) {
      fromPath = fromPath.replace(/^M/g, "L").replace(/Z$/g, "");
      toPath = toPath.replace(/^M/g, "L").replace(/Z$/g, "");
    }
    return [fromPath, toPath];
  });

  if (
    isValidPath(pathPairs[0][0]) &&
    isValidPath(pathPairs[0][1]) &&
    isValidPath(pathPairs[1][0]) &&
    isValidPath(pathPairs[1][0])
  ) {
    const interpolator1 = interpolatePath(pathPairs[0][0], pathPairs[0][1]);
    const interpolator2 = interpolatePath(pathPairs[1][0], pathPairs[1][1]);
    return t => {
      return interpolateString(interpolator1(t), interpolator2(t))(t);
    };
  }
  return interpolateString(pathPairs[0][0], pathPairs[1][1]);
}
function isValidPath(p) {
  return p.indexOf("NaN") < 0;
}

/* eslint-disable prefer-destructuring */

function fetchAttributes(d3Selection, props, scales, signal, encode, prevData) {
  props.forEach(prop => {
    propMap(prop).forEach(p => {
      if (p.type === "attrTween") {
        if (d3Selection.attrTween) {
          d3Selection.attrTween(getStyle(p.val), function(d) {
            const oldD = prevData ? prevData.get(this) : undefined;
            return getPropVal.bind(this)(p, encode, scales, signal, d, oldD);
          });
        } else {
          const tempP = Object.assign({}, p, { type: "attr" });
          d3Selection.attr(tempP.val, function(d) {
            const oldD = prevData ? prevData.get(this) : undefined;
            return getPropVal.bind(this)(
              tempP,
              encode,
              scales,
              signal,
              d,
              oldD
            );
          });
        }
      } else if (p.type === "attr") {
        d3Selection.attr(getStyle(p.val), function(d) {
          const oldD = prevData ? prevData.get(this) : undefined;
          return getPropVal.bind(this)(p, encode, scales, signal, d, oldD);
        });
      } else if (p.type === "text") {
        d3Selection.text(function(d) {
          const oldD = prevData ? prevData.get(this) : undefined;
          return getPropVal.bind(this)(p, encode, scales, signal, d, oldD);
        });
      } else if (p.type === "style") {
        if (p.asTween) {
          d3Selection.styleTween(getStyle(p.val), function(d) {
            const oldD = prevData ? prevData.get(this) : undefined;
            return getPropVal.bind(this)(p, encode, scales, signal, d, oldD);
          });
        } else {
          d3Selection.style(getStyle(p.val), function(d) {
            const oldD = prevData ? prevData.get(this) : undefined;
            return getPropVal.bind(this)(p, encode, scales, signal, d, oldD);
          });
        }
      }
    });
  });
}

function getPropVal(propInfo, encodes, scales, signals, d, oldD) {
  const signal = signals.final || signals;
  const encode = encodes.final || encodes;

  if (propInfo.elmType === "text") {
    if (propInfo.val === "transform") {
      // get transform
      const trfD = transformD.bind(this)(encode, scales, signal, d, false);
      const dx = decodeEncode.bind(this)("dx", encode, scales, signal, d);
      const dy = decodeEncode.bind(this)("dy", encode, scales, signal, d);
      trfD.x = (trfD.x || 0) + (dx || 0);
      trfD.y = (trfD.y || 0) + (dy || 0);
      const baseline = decodeEncode.bind(this)(
        "baseline",
        encode,
        scales,
        signal,
        d
      );
      const fontSize = decodeEncode.bind(this)(
        "fontSize",
        encode,
        scales,
        signal,
        d
      );
      if (oldD && oldD.align !== d.align) {
        const alignFactor = { right: -0.5, center: 0, left: 0.5 };
        trfD.x +=
          textMetrics.width(d,d.text) *
          (alignFactor[d.align] - alignFactor[oldD.align]);
      }

      return `${transformItem(trfD)} ${transformItem({
        y: textOffset(Object.assign({ baseline, fontSize }, d))
      })}`;
    }
    if (propInfo.val === "text") {
      return encode.text
        ? decodeEncode.bind(this)("text", encode, scales, signal, d)
        : d.text;
    }
  } else if (propInfo.elmType === "title") {
    if (propInfo.val === "transform") {
      // get transform
      const trfD = transformD.bind(this)(encode, scales, signal, d);
      // let trfD = transformD.bind(this)(encode, scales, signal, d, false);
      const dx = decodeEncode.bind(this)("dx", encode, scales, signal, d);
      const dy = decodeEncode.bind(this)("dy", encode, scales, signal, d);
      trfD.x = (trfD.x || 0) + (dx || 0);
      trfD.y = (trfD.y || 0) + (dy || 0);
      const baseline = decodeEncode.bind(this)(
        "baseline",
        encode,
        scales,
        signal,
        d
      );
      const fontSize = decodeEncode.bind(this)(
        "fontSize",
        encode,
        scales,
        signal,
        d
      );
      return `${transformItem(trfD)} ${transformItem({
        y: textOffset(Object.assign({ baseline, fontSize }, d))
      })}`;
    }
    if (propInfo.val === "text") {
      return encode.text
        ? decodeEncode.bind(this)("text", encode, scales, signal, d)
        : d.text;
    }
  } else if (
    propInfo.elmType === "tick" ||
    propInfo.elmType === "grid" ||
    propInfo.elmType === "domain"
  ) {
    // hotfix
    if (propInfo.val === "transform") {
      // get transform
      let trfD = transformD.bind(this)(encode, scales, signal, d, false);
      trfD = Object.keys(trfD).length === 0 ? d : trfD;
      const x2 = decodeEncode.bind(this)("x2", encode, scales, signal, d);
      const y2 = decodeEncode.bind(this)("y2", encode, scales, signal, d);
      if (oldD) {
        if (x2 === 0 && (oldD.y2 - oldD.y) * y2 < 0) {
          trfD.y += y2;
        } else if (y2 === 0 && (oldD.x2 - oldD.x) * x2 < 0) {
          trfD.x += x2;
        }
      }
      return transformItem(Object.keys(trfD).length === 0 ? d : trfD);
    }
    if (propInfo.val === "x2") {
      let x2 = decodeEncode.bind(this)("x2", encode, scales, signal, d);
      if (isNaN(x2)) {
        return d.x2 - d.x;
      }
      if (oldD) {
        if ((oldD.x2 - oldD.x) * x2 < 0) {
          x2 = -x2;
        }
      }
      return isNaN(x2) ? d.x2 - d.x : x2;
    }
    if (propInfo.val === "y2") {
      let y2 = decodeEncode.bind(this)("y2", encode, scales, signal, d);
      if (isNaN(y2)) {
        return d.y2 - d.y;
      }
      if (oldD) {
        if ((oldD.y2 - oldD.y) * y2 < 0) {
          y2 = -y2;
        }
      }
      return y2;
    }
  } else if (propInfo.elmType === "rect") {
    if (propInfo.val === "transform") {
      return "";
    }
    if (propInfo.val === "d") {
      if (propInfo.type === "attrTween") {
        return rectInterpolator.bind(this)(
          scales,
          encodes,
          signals,
          d,
          oldD,
          getRect
        );
      }
      return getRect(d, scales, encodes, signal).path;
    }
  } else if (propInfo.elmType === "symbol") {
    if (propInfo.val === "d") {
      if (propInfo.type === "attrTween") {
        return symbolInterpolator.bind(this)(
          scales,
          encodes,
          signals,
          d,
          oldD,
          getShape
        );
      }
      return getShape(d, scales, encode, signal).path;
    }
    if (propInfo.val === "transform") {
      const trfD = transformD.bind(this)(encodes, scales, signal, d, false);
      return transformItem(Object.keys(trfD).length === 0 ? d : trfD);
    }
  } else if (propInfo.elmType === "gradient") {
    if (propInfo.val === "d") {
      const newD = Object.keys(encode.primary || encode)
        .filter(
          key =>
            ["x", "x2", "xc", "width", "y", "y2", "yc", "height"].indexOf(
              key
            ) >= 0
        )
        .reduce((acc, curr) => {
          acc[curr] = decodeEncode.bind(this)(curr, encode, scales, signal, d);
          return acc;
        }, {});
      let x; let y; let width; let height;
      if (isNaN(newD.x)) {
        x = isNaN(newD.xc - newD.width / 2)
          ? newD.x2
          : newD.xc - newD.width / 2;
      } else {
        x = newD.x;
      }
      if (isNaN(newD.width)) {
        width = isNaN(newD.x2 - newD.x) ? undefined : newD.x2 - newD.x;
      } else {
        width = newD.width;
      }

      if (!isNaN(newD.y2) && !isNaN(newD.y)) {
        y = Math.min(newD.y2, newD.y);
        height = Math.abs(newD.y2 - newD.y);
      } else {
        y = isNaN(newD.y) ? newD.y2 : newD.y;
        height = newD.height;
      }

      //  height = isNaN(newD.height) ? ( isNaN(newD.y2 - newD.y) ? undefined : (newD.y2 - newD.y)) : newD.height;
      // return vega.pathRectangle().x(x).y(y).width(width).height(height)();

      return pathRectangle()
        .x(x)
        .y(y)
        .width(width)
        .height(height)();
    }
    if (propInfo.val === "transform") {
      const trfD = transformD.bind(this)(encode, scales, signal, d, false);
      return transformItem(Object.keys(trfD).length === 0 ? d : trfD);
    }
    if (propInfo.val === "fill") {
      if (propInfo.defs && !propInfo.isUpdate) {
        const url = propInfo.defs(select(this.closest("svg")), d);
        return `url("${url}")`;
      }
    }
  } else if (propInfo.elmType === "rule") {
    if (propInfo.val === "transform") {
      // get transform
      const trfD = transformD.bind(this)(encode, scales, signal, d, false);
      return transformItem(Object.keys(trfD).length === 0 ? d : trfD);
    }
    if (propInfo.val === "x2") {
      const x2 = decodeEncode.bind(this)("x2", encode, scales, signal, d);
      const x = decodeEncode.bind(this)("x", encode, scales, signal, d);
      return isNumber(x2 - x) ? x2 - x : d.x2 || 0;
    }
    if (propInfo.val === "y2") {
      const y2 = decodeEncode.bind(this)("y2", encode, scales, signal, d);
      const y = decodeEncode.bind(this)("y", encode, scales, signal, d);
      return isNumber(y2 - y) ? y2 - y : d.y2 || 0;
    }
  } else if (propInfo.elmType === "group") {
    if (propInfo.val === "transform") {
      const trfD = transformD.bind(this)(encode, scales, signal, d);
      return transformItem(Object.keys(trfD).length === 0 ? d : trfD);
    }
  } else if (propInfo.elmType === "background") {
    if (propInfo.val === "d") {
      const rectD = {
        x: decodeEncode.bind(this)("x", encode, scales, signal, d) || 0,
        y: decodeEncode.bind(this)("y", encode, scales, signal, d) || 0,
        height: decodeEncode.bind(this)("height", encode, scales, signal, d),
        width: decodeEncode.bind(this)("width", encode, scales, signal, d)
      };
      return pathRectangle()
        .x(rectD.x)
        .y(rectD.y)
        .width(rectD.width)
        .height(rectD.height)();
    }
  } else if (isLinearMarktype(propInfo.elmType)) {
    if (propInfo.val === "d") {
      if (propInfo.type === "attrTween") {
        const marktypes = propInfo.initialMarktype
          ? { initial: propInfo.initialMarktype, final: propInfo.elmType }
          : propInfo.elmType;
        return areaLineInterpolator.bind(this)(
          scales,
          encodes,
          marktypes,
          d,
          oldD,
          signals,
          getPath.bind(this),
          propInfo.interpolateStyle
        );
      }
      return getPath.bind(this)(
        areaLineDToData(d),
        scales,
        encode,
        signal,
        propInfo.elmType
      );
    }
    if (propInfo.val === "fill" && propInfo.asTween) {
      const getFill = encode =>
        decodeEncode.bind(this)(
          "fill",
          encode,
          scales,
          signal,
          d.mark.marktype !== "group" ? { datum: {} } : d
        );
      if (propInfo.initialMarktype === "area" && propInfo.elmType === "line") {
        // while area -> line, keep the fill of the path and remove at the end.
        const decodedValue = getFill({
          fill: (encodes.initial || encode).fill
        });
        return t => (t >= 1 ? "none" : decodedValue);
      }
      const decodedValue = getFill(encode);
      return (t) => decodedValue;
    }
    if (
      propInfo.val === "stroke" &&
      propInfo.initialMarktype === "line" &&
      propInfo.elmType === "area"
    ) {
      const _encode = { stroke: encode.stroke || encode.fill };
      return decodeEncode.bind(this)(
        "stroke",
        _encode,
        scales,
        signal,
        d.mark.marktype !== "group" ? { datum: {} } : d
      );
    }
    if (hasProp(encode, propInfo)) {
      // since data bind to the group of the line
      return decodeEncode.bind(this)(
        propInfo.val,
        encode,
        scales,
        signal,
        d.mark.marktype !== "group" ? { datum: {} } : d
      ) + (propInfo.val === "strokeWidth" ? "px" : "");
    }
  }

  if (propInfo.val === "text-anchor") {
    const textAnchor = {
      left: "start",
      center: "middle",
      right: "end"
    };
    return textAnchor[
      (oldD ? oldD.align : d.align) ||
        decodeEncode.bind(this)("align", encode, scales, signal, d)
    ];
  }
  if (hasProp(encode, propInfo)) {
    return decodeEncode.bind(this)(propInfo.val, encodes, scales, signal, d);
  }
  // Vega make some lables transparent to avoid the overlaps.
  // Gemini takes the vega's decisions.
  if (propInfo.elmType === "text" && propInfo.val === "opacity") {
    return d[propInfo.val];
  }
  return BR_PROP_DEFAULT[propInfo.elmType][propInfo.val];

  function hasProp(encode, propInfo) {
    return (
      get(encode, "primary", propInfo.val) ||
      get(encode, "secondary", propInfo.val) ||
      get(encode, propInfo.val)
    );
  }
  function getRect(d, scales, encodes, signal, isDiminished) {
    const encode = encodes.primary || encodes;
    const subEncode = encodes.secondary || encodes;
    const POSITION_ATTRS = [
      "x",
      "x2",
      "xc",
      "width",
      "y",
      "y2",
      "yc",
      "height",
      "cornerRadius"
    ];
    const newD = POSITION_ATTRS.reduce((acc, attr) => {
      if (encode[attr] || subEncode[attr]) {
        acc[attr] = decodeEncode.bind(this)(
          attr,
          encodes,
          scales,
          signal,
          d,
          false
        );
      }
      return acc;
    }, {});

    let x; let y; let width; let height; let cornerRadius;
    if (isNumber(newD.xc) && isNumber(newD.width)) {
      x = newD.xc - newD.width / 2;
      width = newD.width;
    } else if (isNumber(newD.x) && isNumber(newD.x2)) {
      x = Math.min(newD.x, newD.x2);
      width = Math.abs(newD.x - newD.x2);
    } else {
      x = isNumber(newD.x) ? newD.x : newD.x2;
      width = newD.width;
    }

    if (isNumber(newD.yc) && isNumber(newD.height)) {
      y = newD.yc - newD.height / 2;
      height = newD.height;
    } else if (isNumber(newD.y2) && isNumber(newD.y)) {
      y = Math.min(newD.y2, newD.y);
      height = Math.abs(newD.y2 - newD.y);
    } else {
      y = isNumber(newD.y) ? newD.y : newD.y2;
      height = newD.height;
    }

    cornerRadius = !isNumber(newD.cornerRadius) ? 0 : newD.cornerRadius;
    if (isDiminished) {
      return {
        path: pathRectangle()
          .x(0)
          .y(0)
          .width(1)
          .height(1)(),
        meta: newD
      };
    }
    //  height = isNaN(newD.height) ? ( isNaN(newD.y2 - newD.y) ? undefined : (newD.y2 - newD.y)) : newD.height;
    // return vega.pathRectangle().x(x).y(y).width(width).height(height)();

    return {
      path: pathRectangle()
        .x(x)
        .y(y)
        .width(width)
        .height(height)
        .cornerRadius(cornerRadius)(),
      meta: newD
    };
  }

  function getShape(d, scales, encodes, signal, isDiminished = false) {
    const encode = encodes.primary || encodes;
    let newD = Object.keys(encode)
      .filter(key => ["size", "shape"].indexOf(key) >= 0)
      .reduce((acc, curr) => {
        acc[curr] = decodeEncode.bind(this)(curr, encodes, scales, signal, d);
        return acc;
      }, {});
    const context = path();
    newD = {
      shape: newD.shape || "circle",
      size: isNumber(newD.size) ? newD.size : isNumber(d.size) ? d.size : 30
    };

    pathSymbols(newD.shape).draw(context, isDiminished ? 1 : newD.size);
    return {
      path: context.toString(),
      meta: newD
    };
  }

  function getPath(data, scales, encodes, signal, type, alongTo="x") {
    // let data = (d.mark.marktype !== "group" ? d : d.items[0].items[0]).mark.items;
    const encode = encodes.primary || encodes;
    const newData = data.map(oldD => {
      const defaultD = Object.keys(encode)
        .filter(key => ["x", "x2", "xc", "width", "y", "y2", "yc", "height", "size"].indexOf(key) >= 0) // "defined" channel is ignored due to performance issue.
        .reduce((acc, curr) => {
          const newVal = decodeEncode.bind(this)(
            curr,
            encodes,
            scales,
            signal,
            oldD
          );
          if (!isNumber(newVal)) {
            return acc;
          }
          acc[curr] = newVal;
          if (scales[curr] && scales[curr].type === "band") {
            acc[curr] += Math.round(
              scales[curr].bandwidth() * (encode.bandPosition || 0.5)
            );
          }
          return acc;
        }, {});
      defaultD.height = isNumber(defaultD.height)
        ? defaultD.height
        : Math.abs(defaultD.y2 - defaultD.y);
      defaultD.width = isNumber(defaultD.width)
        ? defaultD.width
        : Math.abs(defaultD.x2 - defaultD.x);
      return Object.assign(
        // {
        //   x: oldD.x,
        //   y: oldD.y,
        //   width: oldD.width,
        //   height: oldD.height
        // },
        defaultD
      );
    });

    if (type === "line") {
      return (
        line()
          .x(d => Math.floor(d.x * 100) / 100)
          .y(d => Math.floor(d.y * 100) / 100)(newData) || ""
      );
    } else if (type === "area") {
      // areahShape  = d3_area().y(y).x1(x).x0(xw).defined(def),
      if (alongTo === "x") {
        newData.forEach(d => {
          d.y2 = isNumber(d.y2) ? d.y2 : d.y;
        });
        return (
          area()
            .x(d => Math.floor(d.x * 100) / 100)
            .y1(d => Math.floor(Math.min(d.y, d.y2) * 100) / 100)
            .y0(
              d => Math.floor((Math.min(d.y, d.y2) + (d.height || 0)) * 100) / 100
            )(newData) || ""
        );
      } else {
        newData.forEach(d => {
          d.x2 = isNumber(d.x2) ? d.x2 : d.x;
        });
        return (
          area()
            .y(d => Math.floor(d.y * 100) / 100)
            .x1(d => Math.floor(Math.min(d.x, d.x2) * 100) / 100)
            .x0(
              d => Math.floor((Math.min(d.x, d.x2) + (d.width || 0)) * 100) / 100
            )(newData) || ""
        );
      }

    } else if (type === "trail") {

      return pathTrail()
        .x(d => d.x)
        .y(d=> d.y)
        .size(d=> (isNumber(d.size) ? d.size : 2)) // 2 is default size in Vega
        .defined(d=>(d.defined || true))(newData);
    }
  }
}

function transformD(encodes, scales, signal, d, inherit = true) {
  return Object.assign(
    {},
    Object.keys(encodes.primary || encodes.final || encodes)
      .filter(key => ["x", "y", "angle", "yc", "xc"].indexOf(key) >= 0)
      .reduce((acc, curr) => {
        const newVal = decodeEncode.bind(this)(
          curr,
          encodes,
          scales,
          signal,
          d
        );
        let prop = curr;
        if (isNaN(newVal)) {
          return acc;
        }
        if (curr === "xc") {
          prop = "x";
        } else if (curr === "yc") {
          prop = "y";
        }

        acc[prop] = isNaN(acc[prop]) ? newVal : acc[prop];
        return acc;
      }, {}),
    inherit ? d : {}
  );
}
function calculateGetValeus(encodes, scales, signals, computeScale, scNames) {
  return {
    update: {
      initial: (attr, getScales, d) => {
        const computedScales = computeScale(scales, scNames, getScales);
        return getPropVal(
          attr,
          encodes.initial.update,
          computedScales.initial,
          signals.initial,
          d
        );
      },
      final: (attr, getScales, d) => {
        const computedScales = computeScale(scales, scNames, getScales);
        return getPropVal(
          attr,
          encodes.final.update,
          computedScales.final,
          signals.final,
          d
        );
      },
      custom(attr, getScales, d_i, d_f) {
        const datum = {
          initial: d_i,
          final: d_f
        };

        const computedScales = computeScale(scales, scNames, getScales);
        return getPropVal.bind(this)(
          attr,
          encodes.final.update,
          computedScales,
          signals.final,
          datum
        );
      }
    },
    enter: {
      initial: (attr, getScales, d) => {
        const computedScales = computeScale(scales, scNames, getScales);

        return getPropVal(
          attr,
          encodes.initial.enter,
          { primary: computedScales.initial, secondary: computedScales.final },
          signals.initial,
          d
        );
      },
      final: (attr, getScales, d) => {
        const computedScales = computeScale(scales, scNames, getScales);
        return getPropVal(
          attr,
          encodes.final.enter,
          computedScales.final,
          signals.final,
          d
        );
      },
      custom(attr, getScales, d_i, d_f) {
        const datum = {
          initial: d_i,
          final: d_f
        };

        const computedScales = computeScale(scales, scNames, getScales);
        return getPropVal.bind(this)(
          attr,
          encodes.final.enter,
          computedScales,
          signals.final,
          datum
        );
      }
    },
    exit: {
      initial: (attr, getScales, d) => {
        const computedScales = computeScale(scales, scNames, getScales);
        return getPropVal(
          attr,
          encodes.initial.exit,
          computedScales.initial,
          signals.initial,
          d
        );
      },
      final: (attr, getScales, d) => {
        const computedScales = computeScale(scales, scNames, getScales);
        return getPropVal(
          attr,
          encodes.final.exit,
          { primary: computedScales.final, secondary: computedScales.initial },
          signals.final,
          d
        );
      },
      custom(attr, getScales, d_i, d_f) {
        const datum = {
          initial: d_i,
          final: d_f
        };

        const computedScales = computeScale(scales, scNames, getScales);
        return getPropVal.bind(this)(
          attr,
          encodes.final.exit,
          computedScales,
          signals.final,
          datum
        );
      }
    }
  };
}

function decodeEncode(prop, encodes, scales, signal, d) {
  let subScales = copy2(scales);
  if (scales.primary && scales.secondary) {
    subScales = scales.secondary;
    scales = scales.primary;
  } else if (scales.initial && scales.final) {
    scales = scales.final;
  }

  let encode = copy(encodes);
  let subEncode = copy(encodes);
  if (encodes.primary && encodes.secondary) {
    encode = encodes.primary;
    subEncode = encodes.secondary;
  } else if (encodes.initial && encodes.final) {
    subEncode = encode = encodes.final;
  }

  const enAttr = encode[prop];
  const subEnAttr = subEncode[prop];

  function getVal(enAttr, scales) {
    if (!enAttr) {
      return;
    }
    if (Array.isArray(enAttr)) {
      let isSelected = false;
      for (let i = 0; i < enAttr.length - 1; i++) {
        // Then the items should contain 'test' prop to test (except the last)
        if (evalSignalVal(enAttr[i].test, signal, scales, d.datum)) {
          enAttr = copy(enAttr[i]);
          isSelected = true;
          break;
        }
      }
      if (!isSelected) {
        enAttr = copy(enAttr[enAttr.length - 1]);
      }
    }
    let val, isSet = true;
    if (isValue(enAttr.value)) {
      val = enAttr.value;
    } else if (enAttr.field) {
      if (enAttr.field.group) {
        return d.mark.group[enAttr.field.group];
      }
      val = d.datum[enAttr.field];
    } else if (enAttr.signal) {
      val = evalSignalVal(enAttr.signal, signal, scales, d.datum);
    } else {
      isSet = false;
    }


    if (enAttr.scale) {
      const scName = enAttr.scale;
      const sc = scales[scName];
      if (isSet) {
        if ((!sc) || !isValue(sc(val))){
          return undefined
        }
        val = sc(val);
      }

      if (enAttr.band) {
        let bw = (sc && sc.type === "band") ? sc.bandwidth() : 0;
        bw = Math.round(
          bw *
            ((enAttr.band === true || isNumber(enAttr.band)) ? enAttr.band : 0.5)
        );
        val = isSet ? val + bw : bw;
      }
    }

    if (enAttr.exp) {
      console.error("Todo decodeEncdoe with exp.");
    }
    if (enAttr.mult) {
      if (isNumber(enAttr.mult)) {
        val *= enAttr.mult;
      } else {
        val *= decodeEncode(
          "mult",
          { mult: enAttr.mult },
          scales,
          signal,
          d
        );
      }
    }
    if (enAttr.offset) {
      if (isNumber(enAttr.offset)) {
        val += enAttr.offset;
      } else {
        val += decodeEncode(
          "offset",
          { offset: enAttr.offset },
          scales,
          signal,
          d
        );
      }
    }
    return val;
  }
  const fValPrimary = getVal(enAttr, scales);
  const fValSecondary = getVal(subEnAttr, subScales);
  return isValue(fValPrimary) ? fValPrimary : fValSecondary;
}


function evalSignalVal(signalVal, signal, scales, datum) {
  const VEGA_FUNCTIONS = [
    {
      name: "scale",
      fn: (scName, val) => (scales[scName] ? scales[scName](val) : undefined)
    },
    { name: "isValid", fn: o => o !== null && o === o },
    { name: "timeFormat", fn: (a, b) => defaultLocale().timeFormat(b)(a) },
    { name: "timeUnitSpecifier", fn: (a, b) => timeUnitSpecifier(a, b) }
  ];

  const codegen = vgCodegen({
    whitelist: ["datum"].concat(Object.keys(signal || {})),
    globalvar: "global"
  });


  VEGA_FUNCTIONS.forEach(fnDef => {
    codegen.functions[fnDef.name] = fnDef.name;
  });
  const extraFunctions = VEGA_FUNCTIONS.map(fnDef => fnDef.fn);
  const extraFunctionNames = VEGA_FUNCTIONS.map(fnDef => fnDef.name);

  const codegenVal = codegen(parse(signalVal));

  const fn = Function(
    "datum",
    ...Object.keys(signal || {}),
    ...extraFunctionNames,
    `return (${codegenVal.code})`
  );
  return fn(
    datum,
    ...Object.keys(signal || {}).map(key => signal[key]),
    ...extraFunctions
  );

}

const ORDER = {
  ascending: ascending,
  descending: descending
};

function getOrderFn(isNumber, order) {
  if (isNumber && order) {
    return (a, b) => ORDER[order](Number(a), Number(b));
  }
  return ORDER[order];
}

function staggeredTiming(staggering, data, duration) {
  let N;
  let grouped;
  const dataWithTiming = data.map((d, i) => {
    return { ...d, __staggering_id__: i };
  });
  const subStaggering = staggering.staggering;

  const isNumber =
    staggering.by &&
    dataWithTiming.reduce((acc, d) => {
      let val;
      if (typeof staggering.by === "string") {
        val = (d.initial || d.final)[staggering.by];
      } else if (staggering.by.initial || staggering.by.final) {
        const which = staggering.by.initial ? "initial" : "final";
        val = (which === "initial"
          ? d.initial || d.final
          : d.final || d.initial)[staggering.by[which]];
      }
      return (acc = acc && (val !== undefined ? !isNaN(Number(val)) : true));
    }, true);
  if (!staggering.by) {


    const orderFn = getOrderFn(true, staggering.order);
    grouped = groups(dataWithTiming, d => {
      const val = d.__staggering_id__;
      return val === undefined ? "__empty__" : val;
    });
    if (typeof(orderFn) === "function") {
      grouped.sort((a,b) => orderFn(a[0], b[0]));
    }
  } else if (typeof staggering.by === "string") {


    grouped = groups(dataWithTiming, d => {
      const val = (d.initial || d.final)[staggering.by];
      return val === undefined ? "__empty__" : val;
    });

    const orderFn = getOrderFn(isNumber, staggering.order);
    if (typeof(orderFn) === "function") {
      grouped.sort((a,b) => orderFn(a[0], b[0]));
    }
  } else if (staggering.by.initial || staggering.by.final) {
    const which = staggering.by.initial ? "initial" : "final";


    grouped = groups(dataWithTiming, d => {
      const val = (which === "initial"
        ? d.initial || d.final
        : d.final || d.initial)[staggering.by[which]];
      return val === undefined ? "__empty__" : val;
    });

    const orderFn = getOrderFn(isNumber, staggering.order);
    if (typeof(orderFn) === "function") {
      grouped.sort((a,b) => orderFn(a[0], b[0]));
    }
  }

  N = grouped.length;

  const ease = getEaseFn(staggering.ease || "linear") || easeLinear;
  const r = staggering.overlap === undefined ? 1 : staggering.overlap;
  const delta_e = i => ease((i + 1) / N) - ease(i / N);
  const alpha = 1 / (delta_e(0) * r + 1 - r);

  let durations = new Array(N).fill(0);
  durations = durations.map((d, i) => delta_e(i) * alpha * duration);
  let delayAcc = 0;
  const delays = durations.map((dur, i, durations) => {
    const currDelay = delayAcc;
    if (i < N - 1) {
      delayAcc = delayAcc + dur - durations[i + 1] * r;
    }
    return currDelay;
  });

  if (subStaggering) {
    const timings = delays.map((d, i) => {
      return {
        delay: d,
        duration: durations[i]
      };
    });

    timings.groups = grouped.map((g, i) => {
      return staggeredTiming(subStaggering, g[1], durations[i]);
    });

    return getFlattenTimings(timings);
  }
  grouped.forEach((group, i) => {
    group[1].forEach(datum => {
      datum.delay = delays[i];
      datum.duration = durations[i];
    });
  });

  return dataWithTiming;
}

function getFlattenTimings(timings) {
  if (!timings.groups) {
    return timings;
  }
  return flatten(
    timings.map((g_t, i) => {
      return getFlattenTimings(timings.groups[i]).map(t => {
        return Object.assign({}, t, { delay: t.delay + g_t.delay });
      });
    })
  );
}

function computeTiming(initialData, finalData, stepTiming, joinKey, joinSet) {
  let timings = initialData.map((d_i, i) => {
    const key = joinKey(d_i, i, "initial");
    const found = finalData.find((d_f, j) => key === joinKey(d_f, j, "final"));
    return {
      initial: d_i.datum,
      final: found ? found.datum : null,
      set: found ? "update" : "exit",
      id: key,
      duration: stepTiming.duration,
      delay: stepTiming.delay
    };
  });
  timings = timings.concat(
    finalData
      .filter(d => joinSet(d) === "enter")
      .map((d, i) => {
        const key = joinKey(d, i, "final");
        return {
          initial: null,
          final: d.datum,
          set: "enter",
          id: key,
          duration: stepTiming.duration,
          delay: stepTiming.delay
        };
      })
  );

  if (stepTiming.staggering) {
    timings = staggeredTiming(
      stepTiming.staggering,
      timings,
      stepTiming.duration
    );
  }
  return timings;
}

function enumStepComputeTiming(enumerator, stepTiming) {
  // staggering
  let timings = enumerator.allKeys.map((d, i) => {
    let datum_i = enumerator.getDatum(d, 0);
    let datum_f = enumerator.getDatum(d, 0);
    for (let k = 1; k < enumerator.stopN; k++) {
      datum_i = datum_i || enumerator.getDatum(d, 0);
      datum_f = enumerator.getDatum(d, k) || datum_f;
    }

    return {
      initial: datum_i,
      final: datum_f,
      set: "update", // Todo
      id: i,
      key: d,
      duration: stepTiming.duration,
      delay: stepTiming.delay
    };
  });

  if (stepTiming.staggering) {
    timings = staggeredTiming(
      stepTiming.staggering,
      timings,
      stepTiming.duration
    );
  }
  timings = timings.sort((a, b) => a.id - b.id);
  return timings;
}

function markInterpolate(rawInfo, step, targetElm) {
  const joinKey = (d, i, initialOrFinal) => {
    return d.__gemini__ ?
      getJoinInfo(d, i, step, "joinKey") :
      (
        typeof(step.computeDatumId) === "function"
          ? step.computeDatumId(d, i)
          : step.computeDatumId[initialOrFinal || "initial"](d, i)
      );
  }; const joinSet = (d, i) => {
    return d.__gemini__ ? getJoinInfo(d, i, step, "animSet") : undefined;
  };

  const animVis = targetElm;
  const eView = rawInfo.eVis.view;

  const MARK_ATTRS = {
    rect: ["rect"],
    symbol: ["symbol"],
    rule: ["rule"],
    text: ["text", "align"]
  };

  return new Promise((resolve) => {
    const done = doneMaker();
    const timings = computeTiming(
      step.currData,
      step.nextData,
      step.timing,
      joinKey,
      joinSet
    );
    const {
      change,
      marktypes,
      scales,
      encodes,
      signals,
      specificScaleFor
    } = step;


    const isAdd = !change.initial && !!change.final,
      isRemove = !!change.initial && !change.final;
    // if (isValidMarktype(marktypes.initial) && isValidMarktype(marktypes.final) && marktypes.initial !== marktypes.final) {
    //   isAdd = isRemove = true;
    // }
    const easeFn = getEaseFn(step.timing.ease);

    // let doUpdate =  !isRemove && !isAdd && (change.encode !== false),
    //   doEnter = !isRemove && (isAdd || change.encode !== false),
    //   doExit = !isAdd && (isRemove || change.encode !== false);

    // if (change.encode) {
    //   doUpdate = change.encode.update === false ? false : doUpdate;
    //   doEnter = change.encode.enter === false ? false : doEnter;
    //   doExit = change.encode.exit === false ? false : doExit;
    // }
    // doExit = true;
    // doEnter = true;
    let marktype;

    if (isRemove) {
      marktype = marktypes.initial;
    } else if (isAdd) {
      marktype = marktypes.final;
    } else if (
      marktypes.initial &&
      marktypes.final &&
      marktypes.initial !== marktypes.final
    ) {
      if (change.marktype === false) {
        marktype = marktypes.initial;
      } else {
        marktype = marktypes.final;
      }
    } else {
      marktype = marktypes.initial || marktypes.final;
    }

    const svgElmType = getSvgElmType(marktype);
    const svgElmTypes = {
      initial: getSvgElmType(marktypes.initial),
      final: getSvgElmType(marktypes.final)
    };

    let marks = select(`${animVis} .mark-${marktype}.role-mark.${change.compName}`);


    if (
      isAdd ||
      (marktypes.initial !== marktypes.final &&
        isValidMarktype(marktypes.final))
    ) {
      const sib = findAfterSibling(eView.scenegraph().root, change.compName);

      marks = addMark(
        select(`${animVis  } .${change.final.parent.name} > g > g`),
        change.final,
        sib ? `.${sib.name}` : undefined
      );
    }

    if (step.enumerator) {
      if (!change.data) {
        console.error(
          "Cannot apply enumerator for a mark interpolation without data change!"
        );
      }
      const {enumerator} = step;
      let finalScaleNames = [];
      if (change.scale === true) {
        finalScaleNames = Object.keys(eView._runtime.scales);
      } else if (Array.isArray(change.scale)) {
        finalScaleNames = change.scale;
      }

      const getValues = {
        update: {
          initial(attr, getScales, d){

            let computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.initial.update,
              computedScales.initial,
              signals.initial,
              d);
          },

          final: function(attr, getScales, d){
            const computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.final.update,
              computedScales.final,
              signals.initial,
              d
            );
          },
          custom(attr, getScales, d_i, d_f) {
            let datum = {
              initial: d_i,
              final: d_f
            };

            let computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.final.update,
              computedScales,
              signals.final,
              datum);
          }
        },
        enter: {
          initial(attr, getScales, d){

            let computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.initial.enter,
              {primary: computedScales.initial, secondary: computedScales.final},
              signals.initial,
              d);
          },
          final(attr, getScales, d){
            let computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.final.enter,
              computedScales.final,
              signals.initial,
              d);

          },
          custom(attr, getScales, d_i, d_f){
            let datum = {
              initial: d_i,
              final: d_f
            };

            let computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.final.enter,
              computedScales,
              signals.final,
              datum);
          }
        },
        exit: {
          initial(attr, getScales, d){

            let computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.initial.exit,
              computedScales.initial,
              signals.initial,
              d);
          },
          final(attr, getScales, d){
            let computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.final.exit,
              {primary: computedScales.final, secondary: computedScales.initial},
              signals.final,
              d);
          },
          custom(attr, getScales, d_i, d_f){
            let datum = {
              initial: d_i,
              final: d_f
            };

            let computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal.bind(this)(
              attr,
              encodes.final.exit,
              computedScales,
              signals.final,
              datum);
          }
        }
      };
      // bind allKeys
      const newBoundMarks = marks
        .selectAll(svgElmType)
        .data(enumerator.allKeys, d => d);
      newBoundMarks.exit().remove();
      newBoundMarks.enter().append(svgElmType);

      const initialMarks = marks
        .selectAll(svgElmType)
        .filter(id => ["update", "exit"].indexOf(enumerator.set(id, 0)) >= 0);
      const allProps = MARK_ATTRS[marktype].reduce((acc, prop) => {
        return acc.concat(propMap(prop));
      }, []);
      allProps.forEach(p => {
        if (p.type === "attrTween") {
          const tempP = Object.assign({}, p, { type: "attr" });
          initialMarks[tempP.type](getStyle(tempP.val), id =>
            enumerator.getPropVal(tempP, getValues, 0, id)
          );
        } else if (p.type === "text") {
          initialMarks[p.type](id =>
            enumerator.getPropVal(p, getValues, 0, id)
          );
        } else {
          initialMarks[p.type](getStyle(p.val), id =>
            enumerator.getPropVal(p, getValues, 0, id)
          );
        }
      });



      // staggering
      const timings = enumStepComputeTiming(enumerator, step.timing);

      const animMarks = marks.selectAll(svgElmType).transition();

      allProps.forEach(p => {
        if (p.type === "attr") {
          animMarks.attrTween(p.val, function(d) {
            return enumerator.interpolateAlongEnumMaker(p, getValues, this)(d);
          });
        } else if (p.type === "attrTween") {
          animMarks.attrTween(p.val, function(d) {
            return enumerator.interpolateAlongEnumMaker(p, getValues, this)(d);
          });
        } else if (p.type === "text") {
          animMarks.tween("text", function(d) {
            const textInterpolator = enumerator.interpolateAlongEnumMaker(
              p,
              getValues,
              this
            )(d);
            return function(t) {
              this.setAttribute("text", textInterpolator(t));
            };
          });
        } else if (p.type === "style") {
          animMarks.styleTween(getStyle(p.val), d => {
            return enumerator.interpolateAlongEnumMaker(p, getValues, this)(d);
          });
        }
      });

      // interpolate them
      animMarks
        .duration((d, i) => timings[i].duration)
        .delay((d, i) => timings[i].delay)
        .ease(easeFn)
        .end()
        .then(() => {
          marks.selectAll(svgElmType).data(step.nextData);
          done("all", () => {resolve();});
        });



    } else {
      // If there is a marktype change between different svgElmTypes
      if (marktypes.initial !== marktypes.final) {
        let animMarksI; let animMarksF;
        if (isValidMarktype(marktypes.initial)) {
          const marks = select(
            animVis + ` .mark-${marktypes.initial}.role-mark.${change.compName}`
          );
          animMarksI = marks.selectAll(svgElmTypes.initial);
          const newTimings =
            marktypes.final && !isValidMarktype(marktypes.final)
              ? computeTiming(
                step.currData,
                step.unpackedData,
                step.timing,
                joinKey,
                joinSet
              )
              : timings;
          const prevData = local();
          let nextData =
              marktypes.final && !isValidMarktype(marktypes.final)
                ? step.unpackedData
                : step.nextData;

          if (change.data || isAdd || isRemove) {
            animMarksI = animMarksI.data(step.currData);
            animMarksI.each(function(d) {
              prevData.set(this, d);
            });
            animMarksI = animMarksI.data(nextData, (d, i) =>
              joinKey(d, i, "initial")
            );
          } else {
            animMarksI.each(function(d) {
              prevData.set(this, d);
            });
          }

          exit(
            newTimings,
            animMarksI,
            marktypes.initial,
            {
              initial: encodes.initial.exit,
              final: encodes.final.exit
            },
            signals,
            prevData
          );

          update(
            newTimings,
            animMarksI,
            marktypes.initial,
            {
              initial: encodes.initial.update,
              final: encodes.initial.intermediate
            },
            // encode,
            signals,
            prevData,
            false,
            false
          );
        } else {
          done("exit", () => {
            resolve();
          });
        }

        if (isValidMarktype(marktypes.final)) {
          const prevData = local();
          let newTimings = marktypes.initial && !isValidMarktype(marktypes.initial) ? computeTiming(step.unpackedData, step.nextData, step.timing, joinKey, joinSet) : timings;
          let currData = !marktypes.initial
            ? []
            : !isValidMarktype(marktypes.initial)
              ? step.unpackedData
              : animMarksI.data();
          const marks = select(
            animVis + ` .mark-${marktypes.final}.role-mark.${change.compName}`
          );
          animMarksF = marks
            .selectAll(svgElmTypes.final)
            .filter(d => !d)
            .data(currData);

          fetchAttributes(
            animMarksF.enter().append(svgElmTypes.final),
            MARK_ATTRS[marktypes.final],
            { primary: scales.initial, secondary: scales.final },
            signals.initial,
            encodes.final.intermediate
          );
          animMarksF = marks.selectAll(svgElmTypes.final);
          animMarksF.each(function(d) {
            prevData.set(this, d);
          });
          if (change.data || isAdd || isRemove) {
            animMarksF = animMarksF.data(step.nextData, (d, i) =>
              joinKey(d, i, "final")
            );
          }

          enter(newTimings, animMarksF, marktypes.final);
          // fade-in the new martype
          update(
            newTimings,
            animMarksF,
            marktypes.final,
            {
              initial: encodes.final.intermediate,
              final: encodes.final.update
            },
            signals,
            prevData,
            true,
            true
          );
        } else {
          done("update", () => {
            resolve();
          });
          done("enter", () => {
            resolve();
          });
        }
      } else {
        let animMarks = marks.selectAll(svgElmType);
        const prevData = local();
        animMarks.each(function(d) {
          prevData.set(this, d);
        });
        if (change.data || isAdd || isRemove) {
          // let nextData = change.marktype === false ? step.unpackedData : step.nextData;

          if (step.preFetchCurrData) {
            animMarks = animMarks.data(step.currData);
          }

          animMarks = animMarks.data(step.nextData, (d, i) => {
            // console.log(joinKey(d, i));
            return joinKey(d, i);
          });
        }

        // enter
        enter(timings, animMarks, marktype);

        // exit
        exit(
          timings,
          animMarks,
          marktype,
          {
            initial: encodes.initial.exit, // encodes.final.exit,
            final: encodes.final.exit
          },
          signals,
          prevData
        );

        update(
          timings,
          animMarks,
          marktype,
          {
            initial: encodes.initial.update, // encodes.final.update,
            final: encodes.final.update
          },
          signals,
          prevData
        );
      }
    }
    function enter(
      timings,
      animMarks,
      marktype,
      encodeInitial = encodes.initial.enter,
      encode = encodes.final.enter
    ) {
      // enter
      let enterI = animMarks.enter().append(getSvgElmType(marktype));
      let scalesForInitial = { primary: scales.initial, secondary: scales.final };
      if (specificScaleFor && specificScaleFor.enter && specificScaleFor.enter.initial === "final") {
        scalesForInitial.primary = scales.final;
      }
      fetchAttributes(
        enterI,
        MARK_ATTRS[marktype],
        scalesForInitial,
        signals.initial,
        {
          primary: encodeInitial,
          secondary: Object.assign({}, encode, { opacity: { value: 0 } })
        }
      );

      // If they are already entered,
      if (enterI.data().length <= 0) {
        enterI = animMarks.filter((d, i) => joinSet(d, i) === "enter");
      }
      if (enterI.data().length > 0) {
        // if (doEnter && enterI.data().length > 0) {
        const setType = "final";
        const enterF = enterI.transition();

        fetchAttributes(
          enterF,
          MARK_ATTRS[marktype],
          scales.final,
          signals.final,
          {
            initial: {
              primary: encodeInitial,
              secondary: Object.assign({}, encode, { opacity: { value: 0 } })
            },
            final: encode
          }
        );

        enterF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, setType)).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, setType)).delay
          )
          .ease(easeFn)
          .end()
          .then(() => {
            done("enter", () => {resolve();});
          });
      } else {
        done("enter", () => {
          resolve();
        });
      }
    }
    function exit(timings, animMarks, marktype, encode, signals, prevData) {
      // exit
      // initiate exit
      let exitI = animMarks.exit();
      // If they are already entered,
      if (exitI.data().length <= 0) {
        exitI = animMarks.filter((d, i) => joinSet(d, i) === "exit");
      }
      if (exitI.data().length > 0) {
        // if (doExit && exitI.data().length > 0) {
        const setType = "initial";
        const exitF = exitI.transition();
        let scalesForExit =  Object.assign({}, scales, {
          primary: scales.final,
          secondary: scales.initial
        });
        let encodes = {
          ...encode,
          primary: encode.final || encodes.final.exit,
          secondary: encode.initial || encodes.final.exit
        };
        if (specificScaleFor && specificScaleFor.exit && specificScaleFor.exit.final === "initial") {
          scalesForExit.primary = scales.initial;
        }
        fetchAttributes(
          exitF,
          MARK_ATTRS[marktype],
          scalesForExit,
          signals,
          encodes, // encode || encodes.final.exit,
          prevData
        );

        exitF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, setType)).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, setType)).delay
          )
          .ease(easeFn)
          .remove()
          .end()
          .then(function() {
            done("exit", () => {resolve();});
          });
        // Todo: when should we remove exit-marks?
      } else {
        done("exit", () => {
          resolve();
        });
      }
    }
    function update(
      timings,
      animMarks,
      marktype,
      encodes,
      signals,
      prevData,
      doStatusUpdate = true,
      filterUpdate = true
    ) {
      let updateF = filterUpdate
        ? animMarks.filter((d, i) => joinSet(d, i) === "update")
        : animMarks;
      if (change.data === false && updateF.data().length === 0) {
        updateF = animMarks;
      }

      if (updateF.data().length > 0) {
        const setType = "initial"; // Actually, it also can be 'final'.
        updateF = updateF.transition();

        fetchAttributes(
          updateF,
          MARK_ATTRS[marktype],
          scales,
          signals,
          encodes,
          prevData
        );
        updateF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, setType)).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, setType)).delay
          )
          .ease(easeFn)
          .end()
          .then(() => {
            if (doStatusUpdate) {
              done("update", () => {resolve();});
            }
          });
      } else if (doStatusUpdate) {
        done("update", () => {resolve();});
      }
    }
  });
  function isValidMarktype(marktype) {
    return !!MARK_ATTRS[marktype];
  }
}
function doneMaker() {
  const transitionStatus = {
    update: false,
    enter: false,
    exit: false
  };

  return function(which, cb, args) {
    if (which === "all") {
      transitionStatus.update = transitionStatus.enter = transitionStatus.exit = true;
    } else {
      transitionStatus[which] = true;
    }
    if (
      transitionStatus.update &&
      transitionStatus.enter &&
      transitionStatus.exit
    ) {
      cb(args);
    }
  };
}


function addMark(d3Selection, compSpec, before) {
  return d3Selection
    .insert("g", before)
    .attr("class", `mark-${compSpec.type} role-mark ${compSpec.name}`);
}
function getSvgElmType(markType){
  switch (markType) {
  case "rect":
  case "symbol":
    return "path";
  case "rule":
    return "line";
  case "text":
    return "text";

  }
}

function areaLineInterpolate(rawInfo, step, targetElm) {
  const joinKey = (d, i, initialOrFinal) => {
    return d.__gemini__ ?
      getJoinInfo(d, i, step, "joinKey") :
      ( typeof(step.computeDatumId) === "function"
        ? step.computeDatumId(d, i)
        : step.computeDatumId[initialOrFinal || "final"](d, i));
  }; const joinSet = (d, i) => {
    return d.__gemini__ ? getJoinInfo(d, i, step, "animSet") : undefined;
  };
  const MARK_ATTRS = {
    area: [{ name: "area", tweaks: [] }],
    line: [{ name: "line", tweaks: [] }],
    trail: [{ name: "trail", tweaks: [] }]
  };
  const tweaks = [{ type: "attrTween", val: "d", interpolateStyle: "update" }];
  const MARK_ATTRS_DATA_INTERPOLATE = {
    area: [{ name: "area", tweaks}],
    line: [{ name: "line", tweaks}],
    trail: [{ name: "trail", tweaks}]
  };


  // Get Timing

  const animVis = targetElm;
  const eView = rawInfo.eVis.view;
  const transitionStatus = {
    update: false,
    enter: false,
    exit: false
  };

  function done(which, cb, args) {
    if (which === "all") {
      transitionStatus.update = transitionStatus.enter = transitionStatus.exit = true;
    } else {
      transitionStatus[which] = true;
    }
    if (
      transitionStatus.update &&
      transitionStatus.enter &&
      transitionStatus.exit
    ) {
      cb(args);
    }
  }
  function isAreaLineMarktype(marktype) {
    return !!MARK_ATTRS[marktype];
  }

  return new Promise((resolve) => {
    const timings = computeTiming(
      step.currData,
      step.nextData,
      step.timing,
      joinKey,
      joinSet
    );
    const {change} = step;
    const easeFn = getEaseFn(step.timing.ease);
    const {marktypes} = step;

    const isAdd = !change.initial && !!change.final,
      isRemove = !!change.initial && !change.final;

    let marktype;
    if (
      marktypes.initial &&
      marktypes.final &&
      marktypes.initial !== marktypes.final
    ) {
      if (change.marktype === false) {
        marktype = marktypes.initial;
      } else {
        marktype = marktypes.final;
      }
    } else if (isRemove) {
      marktype = marktypes.initial;
    } else if (isAdd) {
      marktype = marktypes.final;
    } else {
      marktype = marktypes.initial || marktypes.final;
    }
    const {hasFacet} = step;
    // collect the scale objects to scale the initial/final values
    const {scales} = step;
    const {encodes} = step;
    const {signals} = step;

    if (isAdd || !isAreaLineMarktype(marktypes.initial)) {
      if (hasFacet.final) {
        const sib = findAfterSibling(
          eView.scenegraph().root,
          change.final.parent.name
        );

        addMark$1(
          select(`${animVis  } .${change.final.parent.parent.name} > g > g`),
          change.final,
          sib ? `.${sib.name}` : undefined,
          { hasGroup: true }
        );
      } else {
        const sib = findAfterSibling(eView.scenegraph().root, change.compName);

        addMark$1(
          select(`${animVis  } .${change.final.parent.name} > g > g`),
          change.final,
          sib ? `.${sib.name}` : undefined
        );
      }
    }

    if (step.enumerator) {
      let finalScaleNames = [];
      if (change.scale === true) {
        finalScaleNames = Object.keys(eView._runtime.scales);
      } else if (Array.isArray(change.scale)) {
        finalScaleNames = change.scale;
      }


      const {enumerator} = step;
      const getValues = {
        update: {
          initial: (attr, getScales, d) => {
            const computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal(
              attr,
              encodes.initial.update,
              computedScales.initial,
              signals.initial,
              d
            );
          },
          final: (attr, getScales, d) => {
            const computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal(
              attr,
              encodes.final.update,
              computedScales.final,
              signals.final,
              d
            );
          },
          custom: (attr, getScales, d_i, d_f) => {
            const pahtData = {
              initial: d_i.items[0].items[0],
              final: d_f.items[0].items[0]
            };
            const nuancedAttr = Object.assign({}, attr, {
              interpolateStyle: "update"
            });
            const computedScales = computeScale(scales, finalScaleNames, getScales);

            return getPropVal.bind(this)(
              change.scale ? attr : nuancedAttr,
              encodes.final.update,
              change.scale ? computedScales : computedScales.final,
              signals.final,
              pahtData
            );
          }
        },
        enter: {
          initial: (attr, getScales, d) => {
            const computedScales = computeScale(scales, finalScaleNames, getScales);

            return getPropVal(
              attr,
              encodes.initial.enter,
              {
                primary: computedScales.initial,
                secondary: computedScales.final
              },
              signals.initial,
              d
            );
          },
          final: (attr, getScales, d) => {
            const computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal(
              attr,
              encodes.final.enter,
              computedScales.final,
              signals.final,
              d
            );
          },
          custom(attr, getScales, d_i, d_f){
            let pahtData = {
              initial: change.scale ? d_f.items[0].items[0] : { mark: { items:[] } },
              final: d_f.items[0].items[0]
            };
            let nuancedAttr = Object.assign({}, attr, {interpolateStyle: "update"});
            let computedScales = computeScale(scales, finalScaleNames, getScales);

            return getPropVal.bind(this)(
              change.scale ? attr : nuancedAttr,
              encodes.final.update,
              change.scale ? computedScales : computedScales.final,
              signals.final,
              pahtData);
          }
        },
        exit: {
          initial: (attr, getScales, d) => {
            const computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal(
              attr,
              encodes.initial.exit,
              computedScales.initial,
              signals.initial,
              d
            );
          },
          final: (attr, getScales, d) => {
            const computedScales = computeScale(scales, finalScaleNames, getScales);
            return getPropVal(
              attr,
              encodes.final.exit,
              {
                primary: computedScales.final,
                secondary: computedScales.initial
              },
              signals.final,
              d
            );
          },
          custom: (attr, getScales, d_i) => {
            const pahtData = {
              initial: d_i.items[0].items[0],
              final: change.scale
                ? d_i.items[0].items[0]
                : { mark: { items: [] } }
            };

            const computedScales = computeScale(scales, finalScaleNames, getScales);
            const nuancedAttr = Object.assign({}, attr, {
              interpolateStyle: "update"
            });
            return getPropVal.bind(this)(
              change.scale ? attr : nuancedAttr,
              encodes.final.exit,
              change.scale ? computedScales : computedScales.initial,
              signals.final,
              pahtData
            );
          }
        }
      };
      if (hasFacet.initial && hasFacet.final) {
        // bind allKeys
        let markGs = selectAll(animVis + ` .role-scope.${change.final.parent.name} > g`)
          .attr("class", "__sub");
        markGs = select(animVis + ` .role-scope.${change.final.parent.name}`)
          .selectAll(".__sub");
        markGs = markGs.data(enumerator.allKeys, d => d);
        markGs.exit().remove();
        markGs = markGs.enter().append("g");
        markGs.append("path").attr("class", "background");

        // append mark mark
        let marks = markGs
          .append("g")
          .append("g")
          .attr("class", `${marktype}-mark role-mark ${change.compName}`)
          .append("path");

        const initialMarks = marks.filter(
          id => ["update", "exit"].indexOf(enumerator.set(id, 0)) >= 0
        );
        const allProps = MARK_ATTRS[marktype].reduce((acc, prop) => {
          return acc.concat(propMap(prop));
        }, []);

        // init
        allProps.forEach(p => {
          if (p.type === "attrTween") {
            const tempP = Object.assign({}, p, { type: "attr" });
            initialMarks[tempP.type](getStyle(tempP.val), id =>
              enumerator.getPropVal(tempP, getValues, 0, id)
            );
          } else {
            initialMarks[p.type](getStyle(p.val), id =>
              enumerator.getPropVal(p, getValues, 0, id)
            );
          }
        });

        const timings = enumStepComputeTiming(enumerator, step.timing);

        marks = marks.transition();

        allProps.forEach(p => {
          if (p.type === "attr") {
            marks.attrTween(p.val, function(d) {
              return enumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
            });
          } else if (p.type === "attrTween") {
            marks.attrTween(p.val, function(d) {
              return enumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
            });
          } else if (p.type === "text") {
            marks.tween("text", function(d) {
              const textInterpolator = enumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
              return function(t) {
                this.innerHTML = textInterpolator(t);
              };
            });
          } else if (p.type === "style") {
            marks.styleTween(getStyle(p.val), function(d) {
              return enumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
            });
          }
        });

        // interpolate them
        marks
          .duration((d, i) => timings[i].duration)
          .delay((d, i) => timings[i].delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done("all", () => {
              resolve();
            });
          });
      } else if (!hasFacet.initial && !hasFacet.final) {
        let mark = select(animVis + ` .mark-${marktype}.role-mark.${change.compName}`)
          .selectAll("path");

        mark = mark.data(enumerator.allKeys, d => d);
        mark.exit().remove();
        mark = mark.enter().append("path");

        const allProps = MARK_ATTRS[marktype].reduce((acc, prop) => {
          return acc.concat(propMap(prop));
        }, []);

        // init
        allProps.forEach(p => {
          if (p.type === "attrTween") {
            const tempP = Object.assign({}, p, { type: "attr" });
            mark[tempP.type](getStyle(tempP.val), id =>
              enumerator.getPropVal(tempP, getValues, 0, id)
            );
          } else {
            mark[p.type](getStyle(p.val), id =>
              enumerator.getPropVal(p, getValues, 0, id)
            );
          }
        });

        const timings = enumStepComputeTiming(enumerator, step.timing);

        mark = mark.transition();

        allProps.forEach(p => {
          if (p.type === "attr") {
            mark.attrTween(p.val, function(d) {
              return enumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
            });
          } else if (p.type === "attrTween") {
            mark.attrTween(p.val, function(d) {
              return enumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
            });
          } else if (p.type === "text") {
            mark.tween("text", function(d) {
              const textInterpolator = enumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
              return function(t) {
                this.innerHTML = textInterpolator(t);
              };
            });
          } else if (p.type === "style") {
            mark.styleTween(getStyle(p.val), function(d) {
              return enumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
            });
          }
        });

        // interpolate them
        mark
          .duration((d, i) => timings[i].duration)
          .delay((d, i) => timings[i].delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done("all", () => {
              resolve();
            });
          });
      }
    } else if (marktypes.initial && !isAreaLineMarktype(marktypes.initial)) {
      // when marktype changes from other marks to area/line mark

      const setType = "final"; const marktype = marktypes.final;
      const prevData = local();

      if (hasFacet.final) {
        const timings = computeTiming(
          step.groupedData,
          step.nextData,
          step.timing,
          joinKey,
          joinSet
        );
        let markGs = selectAll(
          animVis + ` .role-scope.${change.final.parent.name} > g`
        );
        markGs = select(`${animVis  } .role-scope.${change.final.parent.name}`)
          .selectAll(`.role-scope.${change.final.parent.name} > g`)
          .data(step.groupedData, (d, i) => joinKey(d, i, setType));

        // append group mark
        const enterIG = markGs.enter().append("g");
        enterIG.append("path").attr("class", "background");

        // append mark mark
        const enterIMark = enterIG
          .append("g")
          .append("g")
          .attr("class", `mark-${marktype} role-mark ${change.compName}`)
          .append("path");

        fetchAttributes(
          enterIMark,
          MARK_ATTRS[marktype],
          { primary: scales.initial, secondary: scales.final },
          signals.initial,
          encodes.final.intermediate
        );

        markGs = select(`${animVis  } .role-scope.${change.final.parent.name}`)
          .selectAll(`.role-scope.${change.final.parent.name} > g`);

        markGs.each(function(d) {
          prevData.set(this, d);
        });
        markGs = markGs.data(step.nextData, (d, i) => joinKey(d, i, setType));

        update(
          timings,
          markGs,
          marktype,
          {
            initial: encodes.final.intermediate,
            final: encodes.final.update
          },
          prevData
        );

        enter(timings, markGs, marktype);

        done("exit", () => resolve());
      } else {
        let mark = select(animVis + ` .mark-${marktype}.role-mark.${change.compName}`)
          .selectAll("path");
        mark = mark.data(step.groupedData);

        const enterI = mark.enter().append("path");

        fetchAttributes(
          enterI,
          MARK_ATTRS[marktype],
          { primary: scales.initial, secondary: scales.final },
          signals.initial,
          encodes.final.intermediate
        );

        let enterF = select(
            animVis + ` .mark-${marktypes.final}.role-mark.${change.compName}`
          )
          .selectAll("path");
        enterF.each(function(d) {
          prevData.set(this, d);
        });

        enterF = enterF.data(step.nextData).transition();

        fetchAttributes(
          enterF,
          MARK_ATTRS[marktypes.final], // MARK_ATTRS_DATA_INTERPOLATE[marktype],
          scales,
          signals.final,
          encodes.final.update,
          prevData
        );

        enterF
          .duration(step.timing.duration)
          .delay(step.timing.delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done("all", () => {resolve();});
          });

      }
    } else if (marktypes.final && !isAreaLineMarktype(marktypes.final)) {
      // when marktype changes from area/line to the other marktypes
      // exit
      const timings = computeTiming(
        step.currData,
        step.groupedData,
        step.timing,
        joinKey,
        joinSet
      );
      const prevData = local();
      const setType = "initial"; const marktype = marktypes.initial;
      if (hasFacet.initial) {
        let markGs = selectAll(
          animVis + ` .role-scope.${change.initial.parent.name} > g`
        );
        markGs = select(`${animVis  } .role-scope.${change.initial.parent.name}`)
          .selectAll(`.role-scope.${change.initial.parent.name} > g`);

        markGs.each(function(d) {
          prevData.set(this, d);
        });
        markGs = markGs.data(step.groupedData, (d, i) =>
          joinKey(d, i, setType)
        );

        exit(
          timings,
          markGs,
          marktype,
          {
            initial: encodes.initial.exit,
            final: encodes.final.exit
          },
          prevData,
          "initial"
        );

        update(
          timings,
          markGs,
          marktype,
          {
            initial: encodes.initial.update,
            final: encodes.initial.intermediate
          },
          prevData
        );
        done("enter", () => resolve());
      } else {
        let mark = select(animVis + ` .mark-${marktype}.role-mark.${change.compName}`)
          .selectAll("path");
        mark.each(function(d) {
          prevData.set(this, d);
        });
        mark = mark.data(step.groupedData).transition();
        // fade-out by the exit encoding

        fetchAttributes(
          mark,
          MARK_ATTRS[marktype],
          Object.assign({}, scales, {
            primary: scales.final,
            secondary: scales.initial
          }),
          signals.final,
          {
            initial: encodes.initial.update,
            final: encodes.initial.intermediate
          },
          prevData
        );

        mark
          .duration(step.duration)
          .delay(step.delay)
          .ease(easeFn)
          // .remove()
          .end()
          .then(function() {
            done("all", () => {resolve();});
          });
      }
    } else if ((isRemove || hasFacet.final) && (isAdd || hasFacet.initial)) {
      // When adding or removing or changing marks with pathGroup
      const parentName = isAdd
        ? change.final.parent.name
        : isRemove
          ? change.initial.parent.name
          : change.initial.type === marktypes.initial
            ? change.initial.parent.name
            : change.final.parent.name;
      let markGs = selectAll(animVis + ` .role-scope.${parentName} > g`)
        .attr("class", "__sub");

      markGs = select(animVis + ` .role-scope.${parentName}`)
        .selectAll(".__sub");
      const prevData = local();
      markGs.each(function(d) {
        prevData.set(this, d);
      });
      if (change.data || isAdd || isRemove) {
        markGs = markGs.data(step.nextData, (d, i) => joinKey(d, i));
      }

      // enter
      // if (doEnter) {
      enter(timings, markGs, marktypes.final); // , encodes.initial.enter, encodes.final.enter, "final")

      // exit
      // if (doExit) {
      exit(
        timings,
        markGs,
        marktypes.initial,
        {
          initial: encodes.initial.exit,
          final: encodes.final.exit
        },
        prevData,
        "initial"
      );

      // finalize update
      // if (doUpdate) {

      update(
        timings,
        markGs,
        marktypes,
        {
          initial: encodes.initial.update,
          final: encodes.final.update
        },
        prevData
      );

    } else if ((isRemove || !hasFacet.final) && (isAdd || !hasFacet.initial)) {
      // When adding or removing or updating a single mark without pathgroup

      const markG = select(
        animVis + ` .mark-${marktypes.initial}.role-mark.${change.compName}`
      );
      let mark = markG.selectAll("path");
      const prevData = local();
      mark.each(function(d) {
        prevData.set(this, d);
      });
      if (change.data || isAdd || isRemove) {
        mark = mark.data(step.nextData);
      }

      // enter

      const enterI = mark.enter().append("path");

      fetchAttributes(
        enterI,
        MARK_ATTRS[marktype],
        { primary: scales.initial, secondary: scales.final },
        signals.initial,
        encodes.initial.enter
      );
      if (enterI.data().length > 0) {
        let enterF = enterI.transition();

        fetchAttributes(
          enterF,
          MARK_ATTRS[marktype], // MARK_ATTRS_DATA_INTERPOLATE[marktype],
          scales.final,
          signals.final,
          encodes.final.enter
        );

        enterF
          .duration(step.timing.duration)
          .delay(step.timing.delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done("enter", () => {resolve();});
          });
      } else {
        done("enter", () => {
          resolve();
        });
      }


      // exit

      // initiate exit
      const exitI = mark.exit();

      if (exitI.data().length > 0) {
        // finalize exit
        const exitF = exitI.transition();

        fetchAttributes(
          exitF,
          MARK_ATTRS[marktype], // MARK_ATTRS_DATA_INTERPOLATE[marktype],
          { primary: scales.final, secondary: scales.initial },
          signals.final,
          encodes.final.exit
        );

        exitF
          .duration((d, i) => step.timing.duration)
          .delay((d, i) => step.timing.delay)
          .ease(easeFn)
          .end()
          .then(function() {
            done("exit", () => {resolve();});
          });
      } else {
        done("exit", () => {
          resolve();
        });
      }


      // finalize update

      if (mark.data().length > 0) {
        if (marktypes.initial !== marktypes.final) {
          markG.classed(`mark-${marktypes.initial}`, false);
          markG.classed(`mark-${marktypes.final}`, true);
        }

        const updateF = mark.transition();

        fetchAttributes(
          updateF,
          getProp(marktypes),
          scales,
          signals.final,
          {
            initial: encodes.initial.update,
            final: encodes.final.update
          },
          prevData
        );
        updateF
          .duration(step.timing.duration)
          .delay(step.timing.delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done("update", () => {resolve();});
          });
      } else {
        done("update", () => {
          resolve();
        });
      }


    } else if (!hasFacet.initial && hasFacet.final) {
      // single mark without pathgroup -> marks with pathgroup
      const prevData = local();

      // Remove the single area
      let exitMark = select(
          animVis + ` .mark-${marktypes.initial}.role-mark.${change.compName}`
        )
        .selectAll("path");
      exitMark = exitMark
        .each(function(d) {
          prevData.set(this, d);
        })
        .transition();

      fetchAttributes(
        exitMark,
        MARK_ATTRS[marktypes.initial], // MARK_ATTRS_DATA_INTERPOLATE[marktypes.initial],
        Object.assign({}, scales, {
          primary: scales.final,
          secondary: scales.initial
        }),
        signals.final,
        Object.assign({}, encodes.initial.exit, { opacity: { value: 0 } }),
        prevData
      );

      exitMark
        .duration((d, i) => timings.find(t => t.set === "exit").duration)
        .delay((d, i) => timings.find(t => t.set === "exit").delay)
        .ease(easeFn)
        .remove()
        .end()
        .then(function() {
          select(`${animVis  } .mark-${marktypes.initial}.role-mark.${change.compName}`).remove();
          done("exit", () => {resolve();});
        });

      // Add pathgroup with marks
      const {parent} = change.final;
      const sib = findAfterSibling(eView.scenegraph().root, parent.name);

      addMark$1(
        select(`${animVis  } .${parent.parent.name} > g > g`),
        change.final,
        sib ? `.${sib.name}` : undefined,
        { hasGroup: true }
      );

      const markGs = select(animVis + ` .role-scope.${parent.name}`)
        .selectAll("g")
        .data(step.nextData);

      // append group mark
      const enterIG = markGs.enter().append("g");
      enterIG.append("path").attr("class", "background");
      // d (rect)
      // fill (none)

      // append mark mark
      const enterIMark = enterIG
        .append("g")
        .append("g")
        .attr("class", `${marktypes.final}-mark role-mark ${change.compName}`)
        .append("path");

      fetchAttributes(
        enterIMark,
        MARK_ATTRS[marktypes.final],
        { primary: scales.initial, secondary: scales.final },
        signals.initial,
        Object.assign({}, encodes.final.enter, { opacity: { value: 0 } })
        // encodes.initial.enter
      );

      const enterFMark = enterIMark
        .each(function(d) {
          prevData.set(this, d);
        })
        .transition();

      fetchAttributes(
        enterFMark,
        MARK_ATTRS[marktypes.final],
        scales,
        signals.final,
        encodes.final.enter,
        prevData
      );

      enterFMark
        .duration(
          (d, i) => timings.find(t => t.id === joinKey(d, i, "final")).duration
        )
        .delay(
          (d, i) => timings.find(t => t.id === joinKey(d, i, "final")).delay
        )
        .ease(easeFn)
        .end()
        .then(() => {
          done("enter", () => {resolve();});
        });
      done("update", () => {
        resolve();
      });
    } else if (hasFacet.initial && !hasFacet.final) {
      // marks with pathgroup -> single mark without pathgroup

      const {parent} = change.initial,
        prevData = local();
      // Remove the pathgroup and the marks

      let exitMarks = select(animVis + ` .role-scope.${parent.name}`)
        .selectAll(` .role-scope.${parent.name} > g`)
        .data(step.currData)
        .select(`.${change.compName} > path`)
        .each(function(d) {
          prevData.set(this, d);
        });

      exitMarks = exitMarks.transition();

      fetchAttributes(
        exitMarks,
        // MARK_ATTRS_DATA_INTERPOLATE[marktype],
        MARK_ATTRS[marktypes.initial],
        Object.assign({}, scales, {
          primary: scales.final,
          secondary: scales.initial
        }),
        signals.final,
        Object.assign({}, encodes.initial.exit, { opacity: { value: 0 } }),
        prevData
      );

      exitMarks
        .duration(
          (d, i) =>
            timings.find(t => t.id === joinKey(d, i, "initial")).duration
        )
        .delay(
          (d, i) => timings.find(t => t.id === joinKey(d, i, "initial")).delay
        )
        .ease(easeFn)
        .remove()
        .end()
        .then(function() {
          done("exit", () => {resolve();});
        });

      // Add the single area
      const sib = findAfterSibling(eView.scenegraph().root, change.compName);

      let enterIMark = addMark$1(
        select(`${animVis  } .${change.final.parent.name} > g > g`),
        change.final,
        sib ? `.${sib.name}` : undefined
      );

      enterIMark = enterIMark
        .selectAll("path")
        .data(step.nextData)
        .enter()
        .append("path");

      fetchAttributes(
        enterIMark,
        MARK_ATTRS[marktypes.final],
        { primary: scales.initial, secondary: scales.final },
        signals.initial,
        Object.assign({}, encodes.final.enter, { opacity: { value: 0 } })
      );

      enterIMark.each(function(d) {
        prevData.set(this, d);
      });
      const enterF = enterIMark.transition();

      fetchAttributes(
        enterF,
        MARK_ATTRS[marktypes.final],
        scales,
        signals.final,
        encodes.final.enter,
        prevData
      );

      enterF
        .duration((d, i) => timings.find(t => t.set === "enter").duration)
        .delay((d, i) => timings.find(t => t.set === "enter").delay)
        .ease(easeFn)
        .end()
        .then(() => {
          done("enter", () => {resolve();});
        });
      done("update", () => {
        resolve();
      });
    }

    function getProp(marktypes) {
      const marktype =
        typeof marktypes === "string" ? marktypes : marktypes.final;
      const props = change.data && (isLinearMarktype(marktype)) ?
        MARK_ATTRS_DATA_INTERPOLATE[marktype] :
        MARK_ATTRS[marktype];
      if (
        isAreaLineMarktype(marktypes.initial) &&
        isAreaLineMarktype(marktypes.final) &&
        marktypes.final !== marktypes.initial
      ) {
        props[0].tweaks.push({
          type: "attrTween",
          val: "d",
          initialMarktype: marktypes.initial,
          interpolateStyle: "update"
        });
        props[0].tweaks.push({
          type: "style",
          val: "fill",
          initialMarktype: marktypes.initial,
          asTween: true
        });
        props[0].tweaks.push({
          type: "style",
          val: "stroke",
          initialMarktype: marktypes.initial
        });
      }
      return props;
    }
    function exit(
      timings,
      markGs,
      marktype,
      encodes,
      prevData,
      setType,
      isAllDone = false
    ) {
      // initiate exit
      let exitI = markGs.exit();

      // If they are already entered,
      if (exitI.data().length === 0 || !(change.data || isAdd || isRemove)) {
        exitI = markGs.filter(d => joinSet(d) === "exit");
      }
      if (exitI.data().length > 0) {
        const exitIMark = exitI.select(`.${change.compName} > path`);

        // finalize exit
        const exitFMark = exitIMark.transition();

        fetchAttributes(
          exitFMark,
          MARK_ATTRS[marktype],
          Object.assign({}, scales, {
            primary: scales.final,
            secondary: scales.initial
          }),
          signals.final,
          encodes,
          prevData
        );

        exitFMark
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, setType)).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, setType)).delay
          )
          .ease(easeFn)
          .remove()
          .end()
          .then(function() {
            exitI.remove();
            done(isAllDone ? "all" : "exit", () => {resolve();});
          });
      } else {
        done(isAllDone ? "all" : "exit", () => {
          resolve();
        });
      }
    }
    function update(timings, markGs, marktypes, encodes, prevData) {
      let updateF = markGs.filter(d => joinSet(d) === "update");

      if (change.data === false && updateF.data().length === 0) {
        updateF = markGs;
      }
      let updateFMark = updateF.select(`.${change.compName}`);
      if (marktypes.initial !== marktypes.final) {
        updateFMark.classed(`mark-${marktypes.initial}`, false);
        updateFMark.classed(`mark-${marktypes.final}`, true);
      }
      updateFMark = updateFMark.select("path");
      if (updateFMark.data().length > 0) {
        updateFMark = updateFMark.transition();
        const props = getProp(marktypes);
        fetchAttributes(
          updateFMark,
          props,
          // change.data ? MARK_ATTRS_DATA_INTERPOLATE[marktype] : MARK_ATTRS[marktype],
          scales,
          signals.final,
          encodes,
          prevData
        );
        updateFMark
          .duration(
            (d, i) => timings.find(t => t.id === joinKey(d, i)).duration
          )
          .delay((d, i) => timings.find(t => t.id === joinKey(d, i)).delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done("update", () => {resolve();});
          });
      } else {
        done("update", () => {
          resolve();
        });
      }
    }
    function enter(
      timings,
      markGs,
      marktype,
      encodeInitial = encodes.initial.enter,
      encode = encodes.final.enter
    ) {
      // append group mark
      const enterIG = markGs.enter().append("g");
      enterIG.append("path").attr("class", "background");

      // append mark mark
      let enterIMark = enterIG
        .append("g")
        .append("g")
        .attr("class", `mark-${marktype} role-mark ${change.compName}`)
        .append("path");

      fetchAttributes(
        enterIMark,
        MARK_ATTRS[marktype],
        { primary: scales.initial, secondary: scales.final },
        signals.initial,
        encodeInitial
      );

      // If they are already entered,
      if (enterIG.data().length === 0 || !(change.data || isAdd || isRemove)) {
        enterIMark = markGs
          .filter(d => joinSet(d) === "enter")
          .selectAll(`.${change.compName} > path`);
      }

      if (enterIMark.data().length > 0) {
        const prevData = local();
        enterIMark.each(function(d) {
          prevData.set(this, d);
        });
        const enterFMark = enterIMark.transition();

        fetchAttributes(
          enterFMark,
          // MARK_ATTRS_DATA_INTERPOLATE[marktype],
          MARK_ATTRS[marktype],
          scales,
          signals.final,
          encode,
          prevData
        );

        enterFMark
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "final")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "final")).delay
          )
          .ease(easeFn)
          .end()
          .then(() => {
            done("enter", () => {resolve();});
          });
      } else {
        done("enter", () => {
          resolve();
        });
      }
    }
  });

}
function addMark$1 (d3Selection, compSpec, before, opt = {}) {
  if (opt.hasGroup) {
    return d3Selection.insert("g", before)
      .attr("class", `mark-group role-scope ${compSpec.parent.name}`);
  }
  return d3Selection.insert("g", before)
    .attr("class", `mark-${compSpec.type} role-mark ${compSpec.name}`);

}

const INITIAL_STATUS = {
  update: false,
  enter: false,
  exit: false
};

function addAxis(d3Selection, newAxisScene, prior) {
  const scName = newAxisScene.name;
  const axisSubG = d3Selection
    .insert("g", prior)
    .attr("class", `mark-group role-axis ${scName}`)
    .append("g")
    .attr("transform", transformItem(newAxisScene.items[0]));

  const { datum } = newAxisScene.items[0];
  if (datum.ticks) {
    axisSubG.append("g").attr("class", "mark-rule role-axis-tick");
  }
  if (datum.labels) {
    axisSubG.append("g").attr("class", "mark-text role-axis-label");
  }
  if (datum.grid) {
    axisSubG.append("g").attr("class", "mark-rule role-axis-grid");
  }
  if (datum.domain) {
    axisSubG.append("g").attr("class", "mark-rule role-axis-domain");
  }
  if (datum.title) {
    axisSubG.append("g").attr("class", "mark-text role-axis-title");
  }

  return d3Selection;
}

function doneMaker$1(subComponents) {
  const transitionStatus = subComponents.reduce((acc, curr) => {
    acc[curr] = copy(INITIAL_STATUS);
    return acc;
  }, {});

  return function(which, cb) {
    if (which.length === 2) {
      if (which[1] === "all") {
        transitionStatus[which[0]].exit = true;
        transitionStatus[which[0]].enter = true;
        transitionStatus[which[0]].update = true;
      } else {
        transitionStatus[which[0]][which[1]] = true;
      }
    } else if (which === "all") {
      transitionStatus.update = true;
      transitionStatus.enter = true;
      transitionStatus.exit = true;
    } else {
      transitionStatus[which] = true;
    }

    const allDone = Object.keys(transitionStatus).reduce((acc, key) => {
      return (
        acc &&
        transitionStatus[key].update &&
        transitionStatus[key].enter &&
        transitionStatus[key].exit
      );
    }, true);
    if (allDone) {
      cb();
    }
  };
}
function axisInterpolate(rawInfo, step, targetElm) {
  function joinKeyGen(subcomp) {
    return (d, i, initialOrFinal = "initial") => {
      if (!d) {
        return i.toString();
      }
      if (!d.__gemini__) {
        return typeof step.computeDatumId[subcomp] === "function"
          ? step.computeDatumId[subcomp](d, i)
          : step.computeDatumId[subcomp][initialOrFinal](d, i);
        // return step.computeDatumId[subcomp](d, i);
      }
      return getJoinInfo(d, i, step, "joinKey");
    };
  }
  const joinSet = (d, i) => getJoinInfo(d, i, step, "animSet");
  const animVis = targetElm;
  const eView = rawInfo.eVis.view;

  const done = doneMaker$1(["tick", "label", "grid", "title", "domain"]);

  return new Promise(resolve => {
    // Mark Interpolate Data

    const { change } = step;
    const easeFn = getEaseFn(step.timing.ease);

    let defaultDo = true;
    if (change.encode === false) {
      defaultDo = false;
    }
    let doTicks = defaultDo;
    let doLabels = defaultDo;
    let doAxisG = defaultDo;
    let doTitle = defaultDo;
    let doDomain = defaultDo;
    let doGrid = defaultDo;

    if (change.encode) {
      doTicks = !(change.encode.ticks === false);
      doLabels = !(change.encode.labels === false);
      doAxisG = !(change.encode.axis === false);
      doTitle = !(change.encode.title === false);
      doGrid = !(change.encode.grid === false);
      doDomain = !(change.encode.domain === false);
    }

    let isRemove = false;
    let axis = selectAll(`${animVis} .role-axis.${change.compName}`);

    const scName = change.compName;
    // collect the scale objects to scale the initial/final values
    const { scales } = step;
    const { signals } = step;

    // Add Axis
    if (change.initial === null) {
      // todo: find where-to-add d3Selection by searching eView.scenegraph
      const rootMark = select(`${animVis} .mark-group.root g g `);
      const rootScene = eView.scenegraph().root;
      const sib = findAfterSibling(rootScene, change.compName);
      addAxis(
        rootMark,
        findComp(rootScene, scName, "axis")[0],
        sib ? `.${sib.name}` : undefined
      );
      axis = selectAll(`${animVis} .role-axis.${change.compName}`);
    } else if (change.final === null) {
      // Remove Axis
      isRemove = true;
    }

    // update axis group
    if (isRemove) {
      const manualEncode =
        change.encode && change.encode.axis ? change.encode.axis.exit : {};
      const axisG = axis.select("g");
      const fAxisG = axisG.transition();
      fetchAttributes(
        fAxisG,
        ["group"],
        scales.final,
        signals.final,
        Object.assign({}, DEFAULT_ENCODE.axis.axis.exit, manualEncode)
      );
      fAxisG.duration(step.duration);
    } else if (doAxisG) {
      const axisG = axis.select("g");
      axisG.data(step.nextData.axis);
      const fAxisG = axisG.transition();
      fetchAttributes(
        fAxisG,
        ["group"],
        scales.final,
        signals.final,
        step.encodes.axis.final.update
      );
      fAxisG
        .delay(step.delay)
        .duration(step.duration)
        .ease(easeFn);
    }

    function calculateGetValues(encodes) {
      return {
        update: {
          initial: (attr, getScales, d) => {
            const computedScales = computeScale(scales, [scName], getScales);
            return getPropVal(
              attr,
              encodes.initial.update,
              computedScales.initial,
              signals.initial,
              d
            );
          },
          final: (attr, getScales, d) => {
            const computedScales = computeScale(scales, [scName], getScales);
            return getPropVal(
              attr,
              encodes.final.update,
              computedScales.final,
              signals.final,
              d
            );
          }
        },
        enter: {
          initial: (attr, getScales, d) => {
            const computedScales = computeScale(scales, [scName], getScales);

            return getPropVal(
              attr,
              encodes.initial.enter,
              computedScales.initial[scName]
                ? computedScales.initial
                : computedScales.final,
              signals.initial,
              d
            );
          },
          final: (attr, getScales, d) => {
            const computedScales = computeScale(scales, [scName], getScales);
            return getPropVal(
              attr,
              encodes.final.enter,
              computedScales.final,
              signals.final,
              d
            );
          }
        },
        exit: {
          initial: (attr, getScales, d) => {
            const computedScales = computeScale(scales, [scName], getScales);
            return getPropVal(
              attr,
              encodes.initial.exit,
              computedScales.initial,
              signals.initial,
              d
            );
          },
          final: (attr, getScales, d) => {
            const computedScales = computeScale(scales, [scName], getScales);
            return getPropVal(
              attr,
              encodes.final.exit,
              computedScales.final,
              signals.final,
              d
            );
          }
        }
      };
    }
    // update tick
    if (doTicks) {
      const tickG = axis.selectAll(".role-axis-tick");
      const encodes = step.encodes.ticks;

      const TICK_ATTRS = ["tick"];

      if (step.enumerator) {
        const enumerator = step.enumerator.tick;
        const getValues = calculateGetValues(encodes);
        // bind allKeys
        const newBoundTicks = tickG
          .selectAll("line")
          .data(enumerator.allKeys, d => d);
        newBoundTicks.exit().remove();
        newBoundTicks.enter().append("line");
        const allProps = TICK_ATTRS.reduce((acc, prop) => {
          return acc.concat(propMap(prop));
        }, []);
        const initialTicks = tickG
          .selectAll("line")
          .filter(id => ["update", "exit"].indexOf(enumerator.set(id, 0)) >= 0);
        allProps.forEach(p => {
          if (p.type === "attrTween") {
            const tempP = Object.assign({}, p, { type: "attr" });
            initialTicks[tempP.type](getStyle(tempP.val), id =>
              enumerator.getPropVal(tempP, getValues, 0, id)
            );
          } else if (p.type === "text") {
            initialTicks[p.type](id =>
              enumerator.getPropVal(p, getValues, 0, id)
            );
          } else {
            initialTicks[p.type](getStyle(p.val), id =>
              enumerator.getPropVal(p, getValues, 0, id)
            );
          }
        });

        const timings = enumStepComputeTiming(enumerator, step.timing);
        const ticks = tickG.selectAll("line").transition();

        allProps.forEach(p => {
          if (p.type === "attr") {
            ticks.attrTween(p.val, d => {
              return enumerator.interpolateAlongEnumMaker(p, getValues)(d);
            });
          } else if (p.type === "text") {
            ticks.tween("text", function(d) {
              const textInterpolator = enumerator.interpolateAlongEnumMaker(
                p,
                getValues
              )(d);
              return function(t) {
                this.innerHTML = textInterpolator(t);
              };
            });
          } else if (p.type === "style") {
            ticks.styleTween(getStyle(p.val), d => {
              return enumerator.interpolateAlongEnumMaker(p, getValues)(d);
            });
          }
        });

        // interpolate them
        ticks
          .duration((d, i) => timings[i].duration)
          .delay((d, i) => timings[i].delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done(["tick", "all"], () => {
              resolve();
            });
          });
      } else {
        let ticks = tickG.selectAll("line");
        const currData = step.currData.tick;
        const newData = step.nextData.tick;
        const joinKey = joinKeyGen("tick");
        const timings = computeTiming(
          currData,
          newData,
          step.timing,
          joinKey,
          joinSet
        );

        ticks = ticks.data(newData, d => joinKey(d));
        let enterTicksI = ticks.enter().append("line");
        fetchAttributes(
          enterTicksI,
          TICK_ATTRS,
          step.sameDomainDimension
            ? { primary: scales.initial, secondary: scales.final }
            : { primary: scales.final, secondary: scales.initial },
          signals.initial,
          encodes.initial.enter
        );

        if (enterTicksI.data().length <= 0) {
          enterTicksI = ticks.filter(d => joinSet(d) === "enter");
        }

        const enterTicksF = enterTicksI.transition();
        fetchAttributes(
          enterTicksF,
          TICK_ATTRS,
          scales.final,
          signals.final,
          encodes.final.enter
        );
        enterTicksF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "final")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "final")).delay
          )
          .ease(easeFn)
          .end()
          .then(done(["tick", "enter"], () => resolve()));

        let exitTicksI = ticks.exit();
        if (exitTicksI.data().length <= 0) {
          exitTicksI = ticks.filter(d => joinSet(d) === "exit");
        }

        const exitTicksF = exitTicksI.transition();
        fetchAttributes(
          exitTicksF,
          TICK_ATTRS,
          // scales.final[scName] ? scales.final : scales.initial,
          step.sameDomainDimension
            ? { primary: scales.final, secondary: scales.initial }
            : { primary: scales.initial, secondary: scales.final }, // { primary: scales.final, secondary: scales.initial },
          signals.final,
          encodes.final.exit
        );
        exitTicksF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "initial")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "initial")).delay
          )
          .ease(easeFn)
          .remove()
          .end()
          .then(done(["tick", "exit"], () => resolve()));

        if ( ticks.data().length > 0) {
          ticks = ticks.filter(d => joinSet(d) === "update").transition();
          // finalize the update set of the ticks
          fetchAttributes(
            ticks,
            TICK_ATTRS,
            scales.final,
            signals.final,
            encodes.final.update
          );

          ticks
            .duration(
              (d, i) => timings.find(t => t.id === joinKey(d, i)).duration
            )
            .delay((d, i) => timings.find(t => t.id === joinKey(d, i)).delay)
            .ease(easeFn)
            .end()
            .then(done(["tick", "update"], () => resolve()));
        } else {
          done(["tick", "update"], () => resolve());
        }
      }
    } else {
      done(["tick", "enter"], () => resolve());
      done(["tick", "exit"], () => resolve());
      done(["tick", "update"], () => resolve());
    }

    // update label
    const labelG = axis.selectAll(".role-axis-label");

    const LABEL_ATTRS = ["text", "align"];
    // const LABEL_ATTRS = [ "text" ];

    if (!labelG.empty() && doLabels) {
      const encodes = step.encodes.labels;

      if (step.enumerator) {
        const enumerator = step.enumerator.label;

        const getValues = calculateGetValues(encodes);
        // bind allKeys
        const newBoundLabels = labelG
          .selectAll("text")
          .data(enumerator.allKeys, d => d);
        newBoundLabels.exit().remove();
        newBoundLabels.enter().append("text");
        const allProps = LABEL_ATTRS.reduce((acc, prop) => {
          return acc.concat(propMap(prop));
        }, []);
        const initialLabels = labelG
          .selectAll("text")
          .filter(id => ["update", "exit"].indexOf(enumerator.set(id, 0)) >= 0);
        allProps.forEach(p => {
          if (p.type === "attrTween") {
            const tempP = Object.assign({}, p, { type: "attr" });
            initialLabels[tempP.type](getStyle(tempP.val), id =>
              enumerator.getPropVal(tempP, getValues, 0, id)
            );
          } else if (p.type === "text") {
            initialLabels[p.type](id =>
              enumerator.getPropVal(p, getValues, 0, id)
            );
          } else {
            initialLabels[p.type](getStyle(p.val), id =>
              enumerator.getPropVal(p, getValues, 0, id)
            );
          }
        });

        const labels = labelG.selectAll("text").transition();
        const timings = enumStepComputeTiming(enumerator, step.timing);
        allProps.forEach(p => {
          if (p.type === "attr") {
            labels.attrTween(p.val, d => {
              return enumerator.interpolateAlongEnumMaker(p, getValues)(d);
            });
          } else if (p.type === "text") {
            labels.tween("text", function(d) {
              const textInterpolator = enumerator.interpolateAlongEnumMaker(
                p,
                getValues
              )(d);
              return function(t) {
                this.innerHTML = textInterpolator(t);
              };
            });
          } else if (p.type === "style") {
            labels.styleTween(getStyle(p.val), d => {
              return enumerator.interpolateAlongEnumMaker(p, getValues)(d);
            });
          }
        });

        // interpolate them
        labels
          .duration((d, i) => timings[i].duration)
          .delay((d, i) => timings[i].delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done(["label", "all"], () => {
              resolve();
            });
          });
      } else {
        let labels = labelG.selectAll("text");
        const currData = step.currData.label;
        const newData = step.nextData.label;
        const joinKey = joinKeyGen("label");
        const timings = computeTiming(
          currData,
          newData,
          step.timing,
          joinKey,
          joinSet
        );
        const prevData = local();
        labels.each(function(d) {
          prevData.set(this, d);
        });
        labels = labels.data(newData, d => joinKey(d));

        let enterLabelI = labels.enter().append("text");
        fetchAttributes(
          enterLabelI,
          LABEL_ATTRS,
          step.sameDomainDimension
            ? { primary: scales.initial, secondary: scales.final }
            : { primary: scales.final, secondary: scales.initial }, // { primary: scales.final, secondary: scales.initial },
          signals.initial,
          encodes.initial.enter
        );

        // entered labels

        if (enterLabelI.data().length <= 0) {
          enterLabelI = labels.filter(d => joinSet(d) === "enter");
        }

        const enterLabelF = enterLabelI.transition();
        fetchAttributes(
          enterLabelF,
          LABEL_ATTRS,
          scales.final,
          signals.final,
          encodes.final.enter
        );
        enterLabelF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "final")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "final")).delay
          )
          .ease(easeFn)
          .end()
          .then(done(["label", "enter"], () => resolve()));

        // exit labels
        let exitLabelI = labels.exit();
        if (exitLabelI.data().length <= 0) {
          exitLabelI = labels.filter(d => joinSet(d) === "exit");
        }

        const exitLabelF = exitLabelI.transition();
        fetchAttributes(
          exitLabelF,
          LABEL_ATTRS,
          step.sameDomainDimension
            ? { primary: scales.final, secondary: scales.initial }
            : { primary: scales.initial, secondary: scales.final }, // { primary: scales.final, secondary: scales.initial },
          signals.final,
          encodes.final.exit,
          prevData
        );
        exitLabelF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "initial")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "initial")).delay
          )
          .ease(easeFn)
          .remove()
          .end()
          .then(done(["label", "exit"], () => resolve()));

        // Todo update labels!!
        if ( labels.data().length > 0) {
          labels = labels.filter(d => joinSet(d) === "update").transition();
          // finalize the update set of the labels
          fetchAttributes(
            labels,
            LABEL_ATTRS,
            scales.final,
            signals.final,
            encodes.final.update,
            prevData
          );

          labels
            .duration(
              (d, i) => timings.find(t => t.id === joinKey(d, i)).duration
            )
            .delay((d, i) => timings.find(t => t.id === joinKey(d, i)).delay)
            .ease(easeFn)
            .end()
            .then(done(["label", "update"], () => resolve()));
        } else {
          done(["label", "update"], () => resolve());
        }
      }
    } else {
      done(["label", "enter"], () => resolve());
      done(["label", "exit"], () => resolve());
      done(["label", "update"], () => resolve());
    }

    // update grid
    let gridG = axis.selectAll(".role-axis-grid");
    const GRID_ATTRS = ["grid"];

    if (
      (!step.change.initial || step.change.initial.grid === false) &&
      step.change.final &&
      step.change.final.grid === true
    ) {
      // add grid
      gridG = axis
        .select("g")
        .select("g")
        .append("g")
        .attr("class", "mark-rule role-axis-grid");
    }
    if (!gridG.empty() && doGrid) {
      const encodes = step.encodes.grid;

      if (step.enumerator) {
        const enumerator = step.enumerator.grid;

        const getValues = calculateGetValues(encodes);

        // bind allKeys
        const newBoundGrids = gridG
          .selectAll("line")
          .data(enumerator.allKeys, d => d);
        newBoundGrids.exit().remove();
        newBoundGrids.enter().append("line");
        const initialGrids = gridG
          .selectAll("line")
          .filter(id => ["update", "exit"].indexOf(enumerator.set(id, 0)) >= 0);
        // init
        const allProps = GRID_ATTRS.reduce((acc, prop) => {
          return acc.concat(propMap(prop));
        }, []);

        allProps.forEach(p => {
          if (p.type === "attrTween") {
            const tempP = Object.assign({}, p, { type: "attr" });
            initialGrids[tempP.type](getStyle(tempP.val), id =>
              enumerator.getPropVal(tempP, getValues, 0, id)
            );
          } else if (p.type === "text") {
            initialGrids[p.type](id =>
              enumerator.getPropVal(p, getValues, 0, id)
            );
          } else {
            initialGrids[p.type](getStyle(p.val), id =>
              enumerator.getPropVal(p, getValues, 0, id)
            );
          }
        });

        const grids = gridG.selectAll("line").transition();
        const timings = enumStepComputeTiming(enumerator, step.timing);

        allProps.forEach(p => {
          if (p.type === "attr") {
            grids.attrTween(p.val, d => {
              return enumerator.interpolateAlongEnumMaker(p, getValues)(d);
            });
          } else if (p.type === "text") {
            grids.tween("text", function(d) {
              const textInterpolator = enumerator.interpolateAlongEnumMaker(
                p,
                getValues
              )(d);
              return function(t) {
                this.innerHTML = textInterpolator(t);
              };
            });
          } else if (p.type === "style") {
            grids.styleTween(getStyle(p.val), d => {
              return enumerator.interpolateAlongEnumMaker(p, getValues)(d);
            });
          }
        });

        // interpolate them
        grids
          .duration((d, i) => timings[i].duration)
          .delay((d, i) => timings[i].delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done(["grid", "all"], () => {
              resolve();
            });
          });
      } else {
        let grids = gridG.selectAll("line");
        const currData = step.currData.grid;
        const newData = step.nextData.grid;
        const joinKey = joinKeyGen("grid");
        const timings = computeTiming(
          currData,
          newData,
          step.timing,
          joinKey,
          joinSet
        );
        const prevData = local();
        grids.each(function(d) {
          prevData.set(this, d);
        });
        grids = grids.data(newData, d => joinKey(d));
        let enterGridI = grids.enter().append("line");
        fetchAttributes(
          enterGridI,
          GRID_ATTRS,
          // scales.initial[scName] ? scales.initial : scales.final,
          step.sameDomainDimension
            ? { primary: scales.initial, secondary: scales.final }
            : { primary: scales.final, secondary: scales.initial },
          signals.initial,
          encodes.initial.enter
        );

        if (enterGridI.data().length <= 0) {
          enterGridI = grids.filter(d => joinSet(d) === "enter");
        }

        const enterGridF = enterGridI.transition();
        fetchAttributes(
          enterGridF,
          GRID_ATTRS,
          scales.final,
          signals.final,
          encodes.final.enter
        );
        enterGridF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "final")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "final")).delay
          )
          .ease(easeFn)
          .end()
          .then(done(["grid", "enter"], () => resolve()));

        let exitGridI = grids.exit();
        if (exitGridI.data().length <= 0) {
          exitGridI = grids.filter(d => joinSet(d) === "exit");
        }

        const exitGridF = exitGridI.transition();

        fetchAttributes(
          exitGridF,
          GRID_ATTRS,
          step.sameDomainDimension
            ? { primary: scales.final, secondary: scales.initial }
            : { primary: scales.initial, secondary: scales.final },
          // scales.final[scName] ? scales.final : scales.initial,
          signals.final,
          encodes.final.exit,
          prevData
        );
        exitGridF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "initial")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "initial")).delay
          )
          .ease(easeFn)
          .remove()
          .end()
          .then(done(["grid", "exit"], () => resolve()));

        grids = grids.filter(d => joinSet(d) === "update").transition();
        // finalize the update set of the grids
        fetchAttributes(
          grids,
          GRID_ATTRS,
          scales.final,
          signals.final,
          encodes.final.update,
          prevData
        );

        grids
          .duration(
            (d, i) => timings.find(t => t.id === joinKey(d, i)).duration
          )
          .delay((d, i) => timings.find(t => t.id === joinKey(d, i)).delay)
          .ease(easeFn)
          .end()
          .then(done(["grid", "update"], () => resolve()));
      }
    } else {
      done(["grid", "enter"], () => resolve());
      done(["grid", "exit"], () => resolve());
      done(["grid", "update"], () => resolve());
    }
    // update title
    const TITLE_ATTRS = ["title", "align"];
    const titleG = axis.selectAll(".role-axis-title");
    if (!titleG.empty() && doTitle) {
      // Assume that there is no data binding (no enter and exit)

      const encodes = step.encodes.title;
      let title = titleG.selectAll("text");

      const iData = title.data();
      let fData = [];
      if (!isRemove) {

        if (step.change.scale === false) {
          fData = iData;
        } else {
          fData = eView._runtime.data[scName].values.value[0].items.filter(
            item => item.role === "axis-title"
          )[0].items;
        }
      }

      title.data(iData, d => d.text);
      title = title.data(fData, d => d.text);
      const enterTitleI = title.enter().append("text");

      fetchAttributes(
        enterTitleI,
        TITLE_ATTRS,
        {},
        signals.initial,
        encodes.initial.enter
      );

      const enterTitleF = enterTitleI.transition();
      fetchAttributes(
        enterTitleF,
        TITLE_ATTRS,
        {},
        signals.final,
        encodes.final.enter
      );
      enterTitleF
        .duration(step.duration)
        .delay(step.delay)
        .ease(easeFn)
        .end()
        .then(done(["title", "enter"], () => resolve()));

      const exitTitleI = title.exit();
      const exitTitleF = exitTitleI.transition();
      fetchAttributes(
        exitTitleF,
        TITLE_ATTRS,
        {},
        signals.final,
        encodes.final.exit
      );
      exitTitleF
        .duration(step.duration)
        .delay(step.delay)
        .ease(easeFn)
        .end()
        .then(done(["title", "exit"], () => resolve()));

      title = title.transition();
      // update the title
      fetchAttributes(
        title,
        TITLE_ATTRS,
        {},
        signals.final,
        encodes.final.update
      );

      title
        .duration(step.duration)
        .delay(step.delay)
        .ease(easeFn)
        .end()
        .then(done(["title", "update"], () => resolve()));
    } else {
      done(["title", "enter"], () => resolve());
      done(["title", "exit"], () => resolve());
      done(["title", "update"], () => resolve());
    }

    // update domain
    const DOMAIN_ATTRS = ["domain"];

    const domainG = axis.selectAll(".role-axis-domain");
    if (!domainG.empty() && doDomain) {
      const encodes = step.encodes.domain;
      let fData = [];
      if (!isRemove) {
        fData = eView._runtime.data[scName].values.value[0].items.filter(
          item => item.role === "axis-domain"
        )[0].items;
      }
      let domain = domainG.selectAll("line").data(fData);

      const iDomainEnter = domain.enter().append("line");
      fetchAttributes(
        iDomainEnter,
        DOMAIN_ATTRS,
        {},
        signals.initial,
        encodes.initial.enter
      );
      const fDomainEnter = iDomainEnter.transition();
      fetchAttributes(
        fDomainEnter,
        DOMAIN_ATTRS,
        {},
        signals.final,
        encodes.final.enter
      );
      fDomainEnter
        .duration(step.duration)
        .delay(step.delay)
        .ease(easeFn)
        .end()
        .then(done(["domain", "enter"], () => resolve()));

      const iDomainExit = domain.exit();
      fetchAttributes(
        iDomainExit,
        DOMAIN_ATTRS,
        {},
        signals.initial,
        encodes.initial.exit
      );
      const fDomainExit = iDomainExit.transition();
      fetchAttributes(
        fDomainExit,
        DOMAIN_ATTRS,
        {},
        signals.final,
        encodes.final.exit
      );
      fDomainExit
        .duration(step.duration)
        .delay(step.delay)
        .ease(easeFn)
        .end()
        .then(done(["domain", "exit"], () => resolve()));

      // update the domain

      fetchAttributes(
        domain,
        DOMAIN_ATTRS,
        scales.initial,
        signals.initial,
        encodes.initial.update
      );
      domain = domain.transition();

      fetchAttributes(
        domain,
        DOMAIN_ATTRS,
        scales.final,
        signals.final,
        encodes.final.update
      );

      domain
        .duration(step.duration)
        .delay(step.delay)
        .ease(easeFn)
        .end()
        .then(done(["domain", "update"], () => resolve()));
    } else {
      done(["domain", "enter"], () => resolve());
      done(["domain", "exit"], () => resolve());
      done(["domain", "update"], () => resolve());
    }
  });
}

const LEGEND_CHANNELS = [
  "fill",
  "opacity",
  "shape",
  "size",
  "stroke",
  "strokeDash",
  "strokeWidth"
];
const INITIAL_STATUS$1 = {
  update: false,
  enter: false,
  exit: false
};

function doneMaker$2(subComponents, legendTypes, legend) {
  const transitionStatus = subComponents.reduce((acc, curr) => {
    acc[curr] = copy(INITIAL_STATUS$1);
    return acc;
  }, {});

  return function(which, cb) {
    if (which.length === 2) {
      if (which[1] === "all") {
        transitionStatus[which[0]].update = transitionStatus[
          which[0]
        ].enter = transitionStatus[which[0]].exit = true;
      } else {
        transitionStatus[which[0]][which[1]] = true;
      }
    } else if (which === "all") {
      transitionStatus.update = transitionStatus.enter = transitionStatus.exit = true;
    } else {
      transitionStatus[which] = true;
    }

    const allDone =
      ["title", "labels", "symbols", "pairs", "entries", "legend"].reduce(
        (acc, key) => {
          return (
            acc &&
            transitionStatus[key].update &&
            transitionStatus[key].enter &&
            transitionStatus[key].exit
          );
        },
        true
      ) ||
      ["title", "labels", "gradient", "bands", "entries", "legend"].reduce(
        (acc, key) => {
          return (
            acc &&
            transitionStatus[key].update &&
            transitionStatus[key].enter &&
            transitionStatus[key].exit
          );
        },
        true
      );
    if (allDone) {
      if (legendTypes.final) {
        if (legendTypes.final === "gradient") {
          legend.selectAll(".mark-group.role-scope").remove();
        } else {
          const entryG = legend.select(".role-legend-entry > g > g");
          legend
            .select(".role-legend-entry > g > g > .mark-text.role-legend-label")
            .remove();
          entryG.select(".mark-text.role-legend-band").remove();
          entryG.select(".mark-text.role-legend-gradient").remove();
        }
      }
      cb();
    }
  };
}

function legendInterpolate(rawInfo, step, targetElm) {
  function joinKeyGen(subcomp) {
    return (d, i, initialOrFinal = "initial") => {
      if (!d) {
        return i.toString();
      }
      if (!d.__gemini__) {
        return typeof step.computeDatumId[subcomp] === "function"
          ? step.computeDatumId[subcomp](d, i)
          : step.computeDatumId[subcomp][initialOrFinal](d, i);
        // return step.computeDatumId[subcomp](d, i);
      }
      return getJoinInfo(d, i, step, "joinKey");
    };
  }
  const joinSet = (d, i) => {
    return d.__gemini__ ? getJoinInfo(d, i, step, "animSet") : undefined;
  };
  const eView = rawInfo.eVis.view;

  return new Promise((resolve) => {
    // Mark Interpolate Data

    const { change } = step;
    const easeFn = getEaseFn(step.timing.ease);

    let doTitle;
    let doSymbols;
    let doLabels;
    let doGradient;

    doTitle = doSymbols = doLabels = doGradient = true;

    if (change.encode === false) {
      doTitle = doSymbols = doLabels = doGradient = false;
    } else if (change.encode) {
      doTitle = !(change.encode.title === false);
      doSymbols = !(change.encode.symbols === false);
      doLabels = !(change.encode.labels === false);
      doGradient = !(change.encode.gradient === false);
    }

    const { isRemove } = step;
    const { isAdd } = step;
    let legend = select(`${targetElm} .role-legend.${change.compName}`);
    const done = doneMaker$2(
      [
        "entries",
        "title",
        "labels",
        "gradient",
        "symbols",
        "legend",
        "pairs",
        "bands"
      ],
      step.legendTypes,
      legend
    );
    const { compName } = change;
    // collect the scale objects to scale the initial/final values
    const { scales } = step;
    const { signals } = step;
    const { encodes } = step;
    const { legendTypes } = step;

    // add/remove/update legend
    if (isAdd) {
      const rootMark = select(`${targetElm} .mark-group.root g g `);
      const rootScene = eView.scenegraph().root;
      const sib = findAfterSibling(rootScene, change.compName);
      addLegend(
        rootMark,
        findComp(rootScene, change.compName, "legend")[0],
        sib ? `.${sib.name}` : undefined
      );
      legend = selectAll(`${targetElm} .role-legend.${change.compName}`);

      done(["legend", "all"], () => resolve());
      done(["entries", "all"], () => resolve());
    } else if (isRemove) {
      const manualEncode =
        change.encode && change.encode.legend ? change.encode.legend.exit : {};
      const legendG = legend.select("g");
      const fLegendG = legendG.transition();
      fetchAttributes(
        fLegendG,
        ["group"],
        scales.final,
        signals.final,
        Object.assign({}, step.encodes.legend.final.exit, manualEncode)
      );
      fLegendG
        .duration(step.duration)
        .end()
        .then(() => {
          done(["legend", "all"], () => resolve());
          done(["entries", "all"], () => resolve());
        });
    } else {
      // update legend G
      const fLegendD = findComp(eView.scenegraph().root, compName, "legend")[0]
        .items[0];
      const encode = {
        x: { value: fLegendD.x },
        y: { value: fLegendD.y }
      };

      const legendG = legend.select("g");
      const fData = [eView._runtime.data[compName].values.value[0].datum];
      legendG.data(fData);
      const fLegendG = legendG.transition();
      fetchAttributes(
        fLegendG,
        ["group"],
        scales.final,
        signals.final,
        Object.assign({}, step.encodes.legend.update, encode)
      );
      fLegendG
        .duration(step.duration)
        .end()
        .then(() => {
          done(["legend", "all"], () => resolve());
          done(["entries", "all"], () => resolve());
        });
    }

    const scNames = {
      initial: [],
      final: []
    };
    LEGEND_CHANNELS.forEach(channel => {
      if (change.initial && change.initial[channel]) {
        scNames.initial.push(change.initial[channel]);
      }
      if (change.final && change.final[channel]) {
        scNames.final.push(change.final[channel]);
      }
    });

    let finalScaleNames = [];
    if (change.scale === true || isAdd) {
      finalScaleNames = scNames.final;
    } else if (Array.isArray(change.scale)) {
      finalScaleNames = change.scale;
    } else if (typeof change.scale === "object") {
      finalScaleNames = Object.keys(change.scale).filter(
        scName => change.scale[scName]
      );
    }

    if (step.enumerator) {
      if (legendTypes.initial !== legendTypes.final) {
        console.error("Cannot enumerate the change of the legend type.");
      }
      const legType = legendTypes.initial || legendTypes.final;
      let subComps;
      if (legType === "symbol") {
        const pairs = legend
          .select(".role-legend-entry .role-scope")
          .selectAll(".role-scope > g")
          .data(step.enumerator.pairs.allKeys, d => d);
        pairs.exit().remove();
        const enterPairSubGs = pairs
          .enter()
          .append("g")
          .append("g");
        enterPairSubGs
          .append("g")
          .attr("class", "mark-symbol role-legend-symbol")
          .append("path")
          .datum((d, i) => step.enumerator.symbols.allKeys[i]);
        enterPairSubGs
          .append("g")
          .attr("class", "mark-text role-legend-label")
          .append("text")
          .datum((d, i) => step.enumerator.labels.allKeys[i]);

        subComps = [
          {
            name: "pairs",
            selection: legend
              .select(".role-legend-entry .role-scope")
              .selectAll(".role-scope > g"),
            props: ["group"]
          },
          {
            name: "symbols",
            selection: legend
              .select(".role-legend-entry .role-scope")
              .selectAll(".role-legend-symbol > path"),
            props: ["symbol"]
          },
          {
            name: "labels",
            selection: legend
              .select(".role-legend-entry .role-scope")
              .selectAll(".role-legend-label > text"),
            props: ["text"]
          }
        ];
      } else {
        // bind allKeys
        const selection = legend
          .select(".role-legend-label")
          .selectAll("text")
          .data(step.enumerator.labels.allKeys, d => d);
        selection.exit().remove();
        selection.enter().append("text");

        subComps = [
          {
            name: "labels",
            selection: legend.select(".role-legend-label").selectAll("text"),
            svgElmType: "text",
            props: ["text"]
          }
        ];
        if (step.change.initial.isBand) {
          const selection = legend
            .select(".role-legend-band ")
            .selectAll("path")
            .data(step.enumerator.bands.allKeys, d => d);
          selection.exit().remove();
          selection.enter().append("path");

          subComps.push({
            name: "bands",
            selection: legend.select(".role-legend-band ").selectAll("path"),
            svgElmType: "path",
            props: ["rect"]
          });
        } else {
          done(["bands", "all"], () => {
            resolve();
          });
        }
        done(["gradient", "all"], () => {
          resolve();
        }); // The gradient elms cannot be enumerated.
      }

      subComps.forEach(subComp => {
        const subCompEnumerator = step.enumerator[subComp.name];
        const getValues = calculateGetValeus(
          encodes[subComp.name],
          scales,
          signals,
          computeScale,
          finalScaleNames
        );
        const allProps = subComp.props.reduce((acc, prop) => {
          return acc.concat(propMap(prop));
        }, []);

        const initials = subComp.selection.filter(
          id => ["update", "exit"].indexOf(subCompEnumerator.set(id, 0)) >= 0
        );
        allProps.forEach(p => {
          if (p.type === "attrTween") {
            const tempP = Object.assign({}, p, { type: "attr" });
            initials[tempP.type](getStyle(tempP.val), id =>
              subCompEnumerator.getPropVal(tempP, getValues, 0, id)
            );
          } else if (p.type === "text") {
            initials[p.type](id =>
              subCompEnumerator.getPropVal(p, getValues, 0, id)
            );
          } else {
            initials[p.type](getStyle(p.val), id =>
              subCompEnumerator.getPropVal(p, getValues, 0, id)
            );
          }
        });

        const subCompTransition = subComp.selection.transition();
        const timings = enumStepComputeTiming(subCompEnumerator, step.timing);
        allProps.forEach(p => {
          if (p.type === "attr") {
            subCompTransition.attrTween(p.val, d => {
              return subCompEnumerator.interpolateAlongEnumMaker(
                p,
                getValues
              )(d);
            });
          } else if (p.type === "attrTween") {
            subCompTransition.attrTween(p.val, function(d) {
              return subCompEnumerator.interpolateAlongEnumMaker(
                p,
                getValues,
                this
              )(d);
            });
          } else if (p.type === "text") {
            subCompTransition.tween("text", function(d) {
              const textInterpolator = subCompEnumerator.interpolateAlongEnumMaker(
                p,
                getValues
              )(d);
              return function(t) {
                this.innerHTML = textInterpolator(t);
              };
            });
          } else if (p.type === "style") {
            subCompTransition.styleTween(getStyle(p.val), d => {
              return subCompEnumerator.interpolateAlongEnumMaker(
                p,
                getValues
              )(d);
            });
          }
        });

        // interpolate them
        subCompTransition
          .duration((d, i) => timings[i].duration)
          .delay((d, i) => timings[i].delay)
          .ease(easeFn)
          .end()
          .then(() => {
            done([subComp.name, "all"], () => {
              resolve();
            });
          });
      });
    } else {
      if (
        [legendTypes.initial, legendTypes.final].indexOf("symbol") >= 0 &&
        (doSymbols || doLabels)
      ) {
        if (legendTypes.initial !== "symbol") {
          // add the frame for the symbol legend.
          legend
            .select(" .role-legend-entry > g > g")
            .append("g")
            .attr("class", "mark-group role-scope");
        }

        let pairs = legend
          .select(".role-legend-entry .role-scope")
          .selectAll(".role-scope > g");

        const joinKey = {
          pairs: joinKeyGen("pairs"),
          symbols: joinKeyGen("symbols"),
          labels: joinKeyGen("labels")
        }; // currData.symbols === currData.labels
        const nextDataLabels =
          legendTypes.final !== "symbol" ? [] : step.nextData.labels;
        const currDataLabels =
          legendTypes.initial !== "symbol" ? [] : step.currData.labels;
        const timings = {
          pairs: computeTiming(
            step.currData.pairs,
            step.nextData.pairs,
            step.timing,
            joinKey.pairs,
            joinSet
          ),
          symbols: computeTiming(
            step.currData.symbols,
            step.nextData.symbols,
            step.timing,
            joinKey.symbols,
            joinSet
          ),
          labels: computeTiming(
            currDataLabels,
            nextDataLabels,
            step.timing,
            joinKey.labels,
            joinSet
          )
        };

        const prevData = local();

        pairs.selectAll(".role-legend-symbol > path").each(function(d) {
          prevData.set(this, d);
        });

        pairs = pairs.data(step.nextData.pairs, d => joinKey.pairs(d));
        // if (!isRemove && (isAnimSetSymbols.enter || isAnimSetLabels.enter)) {
        if (!isRemove && pairs.enter().data().length > 0) {
          let enterPairsI = pairs.enter().append("g");
          const enterPairsIsubG = enterPairsI.append("g");
          let enterSymbolsI = enterPairsIsubG
            .append("g")
            .attr("class", "mark-symbol role-legend-symbol")
            .append("path")
            .datum((d, i) => step.nextData.symbols[i]);
          let enterLabelsI = enterPairsIsubG
            .append("g")
            .attr("class", "mark-text role-legend-label")
            .append("text")
            .datum((d, i) => step.nextData.labels[i]);

          const actingScales = step.sameDomainDimension
            ? { primary: scales.initial, secondary: scales.final }
            : { primary: scales.final, secondary: scales.initial };

          fetchAttributes(
            enterPairsI,
            ["group"],
            actingScales,
            signals.initial,
            encodes.pairs.initial.enter
          );

          fetchAttributes(
            enterSymbolsI,
            ["symbol"],
            actingScales,
            signals.initial,
            encodes.symbols.initial.enter
          );

          fetchAttributes(
            enterLabelsI,
            ["text"],
            actingScales,
            signals.initial,
            encodes.labels.initial.enter
          );

          if (enterPairsI.data().length <= 0) {
            enterPairsI = pairs.filter(d => joinSet(d) === "enter");
          }

          const enterPairsF = enterPairsI.transition();
          fetchAttributes(
            enterPairsF,
            ["group"],
            scales.final,
            signals.final,
            encodes.pairs.final.enter
          );
          enterPairsF
            .duration(
              (d, i) =>
                timings.pairs.find(t => t.id === joinKey.pairs(d, i, "final"))
                  .duration
            )
            .delay(
              (d, i) =>
                timings.pairs.find(t => t.id === joinKey.pairs(d, i, "final"))
                  .delay
            )
            .ease(easeFn)
            .end()
            .then(done(["pairs", "enter"], () => resolve()));

          if (enterSymbolsI.data().length <= 0) {
            enterSymbolsI = pairs
              .selectAll(".role-legend-symbol > path")
              .filter(d => joinSet(d) === "enter");
          }
          const enterSymbolsF = enterSymbolsI.transition();
          fetchAttributes(
            enterSymbolsF,
            ["symbol"],
            scales,
            signals.final,
            encodes.symbols.final.enter
          );
          enterSymbolsF
            .duration(
              (d, i) =>
                timings.symbols.find(
                  t => t.id === joinKey.symbols(d, i, "final")
                ).duration
            )
            .delay(
              (d, i) =>
                timings.symbols.find(
                  t => t.id === joinKey.symbols(d, i, "final")
                ).delay
            )
            .ease(easeFn)
            .end()
            .then(done(["symbols", "enter"], () => resolve()));

          if (enterLabelsI.data().length <= 0) {
            enterLabelsI = pairs
              .selectAll(".role-legend-label > text")
              .filter(d => joinSet(d) === "enter");
          }
          const enterLabelsF = enterLabelsI.transition();
          fetchAttributes(
            enterLabelsF,
            ["text"],
            scales.final,
            signals.final,
            encodes.labels.final.enter
          );
          enterLabelsF
            .duration(
              (d, i) =>
                timings.labels.find(t => t.id === joinKey.labels(d, i, "final"))
                  .duration
            )
            .delay(
              (d, i) =>
                timings.labels.find(t => t.id === joinKey.labels(d, i, "final"))
                  .delay
            )
            .ease(easeFn)
            .end()
            .then(done(["labels", "enter"], () => resolve()));
        } else {
          done(["pairs", "enter"], () => resolve());
          done(["symbols", "enter"], () => resolve());
          done(["labels", "enter"], () => resolve());
        }

        // if (!isAdd && (isAnimSetSymbols.exit || isAnimSetLabels.exit)) {
        if (!isAdd && pairs.exit().data().length > 0) {
          let exitPairsI = pairs.exit();
          if (exitPairsI.data().length <= 0) {
            exitPairsI = pairs.filter(d => joinSet(d) === "exit");
          }
          const actingScales = step.sameDomainDimension
            ? { primary: scales.final, secondary: scales.initial }
            : { primary: scales.initial, secondary: scales.final };

          const exitPairsF = exitPairsI.transition();
          fetchAttributes(
            exitPairsF,
            ["group"],
            actingScales,
            signals.final,
            encodes.pairs.final.exit
          );
          exitPairsF
            .duration(
              (d, i) =>
                timings.pairs.find(t => t.id === joinKey.pairs(d, i, "initial"))
                  .duration
            )
            .delay(
              (d, i) =>
                timings.pairs.find(t => t.id === joinKey.pairs(d, i, "initial"))
                  .delay
            )
            .ease(easeFn)
            .remove()
            .end()
            .then(done(["pairs", "exit"], () => resolve()));

          const exitSymbolsI = exitPairsI.selectAll(
            ".role-legend-symbol > path"
          );
          const exitSymbolsF = exitSymbolsI.transition();
          fetchAttributes(
            exitSymbolsF,
            ["symbol"],
            Object.assign({}, scales, {
              primary: scales.final,
              secondary: scales.initial
            }),
            signals.final,
            encodes.symbols.final.exit
          );
          exitSymbolsF
            .duration(
              (d, i) =>
                timings.symbols.find(
                  t => t.id === joinKey.symbols(d, i, "initial")
                ).duration
            )
            .delay(
              (d, i) =>
                timings.symbols.find(
                  t => t.id === joinKey.symbols(d, i, "initial")
                ).delay
            )
            .ease(easeFn)
            .remove()
            .end()
            .then(done(["symbols", "exit"], () => resolve()));

          const exitLabelsI = exitPairsI.selectAll(".role-legend-label > text");
          const exitLabelsF = exitLabelsI.transition();
          fetchAttributes(
            exitLabelsF,
            ["text"],
            actingScales,
            signals.final,
            encodes.labels.final.exit
          );
          exitLabelsF
            .duration(
              (d, i) =>
                timings.labels.find(
                  t => t.id === joinKey.labels(d, i, "initial")
                ).duration
            )
            .delay(
              (d, i) =>
                timings.labels.find(
                  t => t.id === joinKey.labels(d, i, "initial")
                ).delay
            )
            .ease(easeFn)
            .remove()
            .end()
            .then(done(["labels", "exit"], () => resolve()));
        } else {
          done(["pairs", "exit"], () => resolve());
          done(["labels", "exit"], () => resolve());
          done(["symbols", "exit"], () => resolve());
        }

        if (pairs.data().length > 0) {
          // if ((isAnimSetSymbols.update || isAnimSetLabels.update) && pairs.data().length > 0) {
          const updatePairsF = pairs
            .filter(d => joinSet(d) === "update")
            .transition();
          // finalize the update set of the pairs
          fetchAttributes(
            updatePairsF,
            ["group"],
            scales.final,
            signals.final,
            encodes.pairs.final.update
          );

          updatePairsF
            .duration(
              (d, i) =>
                timings.pairs.find(t => t.id === joinKey.pairs(d, i)).duration
            )
            .delay(
              (d, i) =>
                timings.pairs.find(t => t.id === joinKey.pairs(d, i)).delay
            )
            .ease(easeFn)
            .end()
            .then(done(["pairs", "update"], () => resolve()));

          const updateSymbolsI = pairs
            .select(".role-legend-symbol > path")
            .datum((d, i) => step.nextData.symbols[i]);
          const updateSymbolsF = updateSymbolsI.transition();
          fetchAttributes(
            updateSymbolsF,
            ["symbol"],
            scales,
            signals.final,
            {
              initial: encodes.symbols.initial.update,
              final: encodes.symbols.final.update
            },
            prevData
          );
          updateSymbolsF
            .duration(
              (d, i) =>
                timings.symbols.find(t => t.id === joinKey.symbols(d, i))
                  .duration
            )
            .delay(
              (d, i) =>
                timings.symbols.find(t => t.id === joinKey.symbols(d, i)).delay
            )
            .ease(easeFn)
            .end()
            .then(done(["symbols", "update"], () => resolve()));

          const updateLabelsI = pairs
            .select(".role-legend-label > text")
            .datum((d, i) => step.nextData.labels[i]);
          const updateLabelsF = updateLabelsI.transition();
          fetchAttributes(
            updateLabelsF,
            ["text"],
            scales.final,
            signals.final,
            encodes.labels.final.update
          );
          updateLabelsF
            .duration(
              (d, i) =>
                timings.labels.find(t => t.id === joinKey.labels(d, i)).duration
            )
            .delay(
              (d, i) =>
                timings.labels.find(t => t.id === joinKey.labels(d, i)).delay
            )
            .ease(easeFn)
            .end()
            .then(done(["labels", "update"], () => resolve()));
        } else {
          done(["pairs", "update"], () => resolve());
          done(["symbols", "update"], () => resolve());
          done(["labels", "update"], () => resolve());
        }
      }
      if (
        [legendTypes.initial, legendTypes.final].indexOf("gradient") >= 0 &&
        (doGradient || doLabels)
      ) {
        const entryG = legend.select(" .role-legend-entry > g > g");
        if (legendTypes.initial !== "gradient") {
          // add the frame for the symbol legend.
          entryG.append("g").attr("class", "mark-text role-legend-label");

          if (step.change.final.isBand) {
            entryG.append("g").attr("class", "mark-rect role-legend-band");
          } else {
            entryG.append("g").attr("class", "mark-rect role-legend-gradient");
          }
        }

        if (step.change.initial.isBand && !step.change.final.isBand ) {
          entryG.append("g").attr("class", "mark-rect role-legend-gradient");
        } else if (!step.change.initial.isBand && step.change.final.isBand) {
          entryG.append("g").attr("class", "mark-rect role-legend-band");
        }

        const labelG = legend.select(
          " .role-legend-entry > g > g > .role-legend-label"
        );
        if (doLabels && !labelG.empty()) {
          gradientSubComp("labels", labelG, "text", ["text"]);
        } else {
          done(["labels", "all"], () => resolve());
        }

        const gradientG = legend.select(".role-legend-gradient");
        if (doGradient && !gradientG.empty()) {
          gradientSubComp("gradient", gradientG, "path", ["gradient"]);
        } else {
          done(["gradient", "all"], () => resolve());
        }

        const bandsG = legend.select(".role-legend-band");
        if (doGradient && !bandsG.empty()) {
          gradientSubComp("bands", bandsG, "path", ["rect"]);
        } else {
          done(["bands", "all"], () => resolve());
        }
      }
    }

    // Title
    const titleG = legend.select(".role-legend-title");
    if (!titleG.empty() && doTitle) {
      let title = titleG.selectAll("text");


      const joinKey = joinKeyGen("title");
      const timings = computeTiming(
        step.currData.title,
        step.nextData.title,
        step.timing,
        joinKey,
        joinSet
      );

      title = title.data(step.nextData.title, d => d.text);
      const enterTitleI = title.enter().append("text");

      fetchAttributes(
        enterTitleI,
        ["title", "align"],
        {},
        signals.initial,
        encodes.title.initial.enter
      );


      const enterTitleF = enterTitleI.transition();
      fetchAttributes(
        enterTitleF,
        ["title", "align"],
        {},
        signals.final,
        encodes.title.final.enter
      );
      enterTitleF
        .duration(
          (d, i) =>
            timings.find(t => t.id === joinKey(d, i, "final")).duration
        )
        .delay(
          (d, i) => timings.find(t => t.id === joinKey(d, i, "final")).delay
        )
        .ease(easeFn)
        .end()
        .then(done(["title", "enter"], () => resolve()));




      const exitTitleI = title.exit();
      const exitTitleF = exitTitleI.transition();
      fetchAttributes(
        exitTitleF,
        ["title", "align"],
        {},
        signals.final,
        encodes.title.final.exit
      );
      exitTitleF
        .duration(
          (d, i) =>
            timings.find(t => t.id === joinKey(d, i, "initial")).duration
        )
        .delay(
          (d, i) => timings.find(t => t.id === joinKey(d, i, "initial")).delay
        )
        .ease(easeFn)
        .remove()
        .end()
        .then(done(["title", "exit"], () => resolve()));




      title = title.transition();
      // update the title
      fetchAttributes(
        title,
        ["title", "align"],
        {},
        signals.final,
        encodes.title.final.update
      );

      title
        .duration(
          (d, i) => timings.find(t => t.id === joinKey(d, i)).duration
        )
        .delay((d, i) => timings.find(t => t.id === joinKey(d, i)).delay)
        .ease(easeFn)
        .end()
        .then(done(["title", "update"], () => resolve()));

    }


    function gradientSubComp(
      subCompName,
      subCompG,
      subCompSvgElmType,
      subCompProps
    ) {
      const prevData = local();
      let subCompSelection = subCompG.selectAll(subCompSvgElmType);

      const joinKey = joinKeyGen(subCompName);
      const nextData =
        subCompName === "labels" && legendTypes.final !== "gradient"
          ? []
          : step.nextData[subCompName];
      const currData =
        subCompName === "labels" && legendTypes.initial !== "gradient"
          ? []
          : step.currData[subCompName];
      const timings = computeTiming(
        currData,
        nextData,
        step.timing,
        joinKey,
        joinSet
      );
      subCompSelection.each(function(d) {
        prevData.set(this, d);
      });
      subCompSelection = subCompSelection.data(nextData, (d, i) =>
        joinKey(d, i)
      );

      // if (!isRemove && isAnimSet.enter) {
      if (!isRemove && subCompSelection.enter().data().length > 0) {
        let enterSubCompI = subCompSelection.enter().append(subCompSvgElmType);

        fetchAttributes(
          enterSubCompI,
          subCompProps,
          step.sameDomainDimension
            ? { primary: scales.initial, secondary: scales.final }
            : { primary: scales.final, secondary: scales.initial },
          signals.initial,
          encodes[subCompName].initial.enter
        );

        if (enterSubCompI.data().length <= 0) {
          enterSubCompI = subCompG
            .selectAll(subCompSvgElmType)
            .filter(d => joinSet(d) === "enter");
        }
        const enterSubCompF = enterSubCompI.transition();
        fetchAttributes(
          enterSubCompF,
          subCompProps,
          scales,
          signals.final,
          encodes[subCompName].final.enter,
          prevData
        );
        enterSubCompF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "final")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "final")).delay
          )
          .ease(easeFn)
          .end()
          .then(done([subCompName, "enter"], () => resolve()));
      } else {
        done([subCompName, "enter"], () => resolve());
      }

      // if (!isAdd && isAnimSet.exit) {
      if (!isAdd && subCompSelection.exit().data().length > 0) {
        const exitSubCompI = subCompSelection.exit();
        const exitSubCompF = exitSubCompI.transition();
        fetchAttributes(
          exitSubCompF,
          subCompProps,
          step.sameDomainDimension
            ? { primary: scales.final, secondary: scales.initial }
            : { primary: scales.initial, secondary: scales.final },
          signals.final,
          encodes[subCompName].final.exit,
          prevData
        );
        exitSubCompF
          .duration(
            (d, i) =>
              timings.find(t => t.id === joinKey(d, i, "initial")).duration
          )
          .delay(
            (d, i) => timings.find(t => t.id === joinKey(d, i, "initial")).delay
          )
          .ease(easeFn)
          .remove()
          .end()
          .then(done([subCompName, "exit"], () => resolve()));
      } else {
        done([subCompName, "exit"], () => resolve());
      }

      // if ((isAnimSet.update) && subCompSelection.data().length > 0) {
      if (subCompSelection.data().length > 0) {
        const updateSubCompF = subCompSelection.transition();
        let modifiedSubCompProps = subCompName === "gradient"
          ? [{ name: "gradient", excludes: [{ type: "style", val: "fill" }] }]
          : subCompProps;


        fetchAttributes(
          updateSubCompF,
          modifiedSubCompProps,
          scales,
          signals.final,
          {
            initial: encodes[subCompName].initial.update,
            final: encodes[subCompName].final.update
          },
          prevData
        );
        if (subCompName === "gradient") {
          updateGradientFill(subCompSelection, step);
        }



        updateSubCompF
          .duration(
            (d, i) => timings.find(t => t.id === joinKey(d, i)).duration
          )
          .delay((d, i) => timings.find(t => t.id === joinKey(d, i)).delay)
          .ease(easeFn)
          .end()
          .then(done([subCompName, "update"], () => resolve()));
      } else {
        done([subCompName, "update"], () => resolve());
      }
    }
  });
}
function updateGradientFill(gradCompSelection, step) {
  const url = gradCompSelection.node().style.fill.replace(/^url\(['"]/, "").replace(/['"]\)$/, "");
  const vgDatum = gradCompSelection.data()[0];
  const gradientId = url.split("#").pop();
  const gradient = select(`#${gradientId}`);
  gradient.selectAll("stop")
    .data(vgDatum.fill.stops, d => (d || {}).offset)
    .transition()
    .attr("stop-color", d=> d.color)
    .duration(step.duration)
    .delay(step.delay);
  gradient.transition()
    .attr("x1", vgDatum.fill.x1)
    .attr("x2", vgDatum.fill.x2)
    .attr("y1", vgDatum.fill.y1)
    .attr("y2", vgDatum.fill.y2)
    .duration(step.duration)
    .delay(step.delay);

}
function addLegend(d3Selection, newLegendScene) {
  const compName = newLegendScene.name;
  const elem = svgRender(newLegendScene).getElementsByClassName(
    "role-legend"
  )[0];
  d3Selection.node().appendChild(elem);
  const { datum } = newLegendScene.items[0];
  // after adding the rendered result, delete the items to re-encode according to `encodes`.

  if (datum.title) {
    d3Selection.select(`.${compName} .role-legend-title text`).remove();
  }
  if (datum.type === "symbol") {
    d3Selection
      .selectAll(`.${compName} .role-legend-entry .role-scope > g`)
      .remove();
  } else {
    d3Selection
      .selectAll(`.${compName} .role-legend-entry .role-legend-label > text`)
      .remove();
    d3Selection
      .selectAll(`.${compName} .role-legend-entry .role-legend-gradient > path`)
      .remove();
    d3Selection
      .selectAll(`.${compName} .role-legend-entry .role-legend-band > path`)
      .remove();
  }

  return d3Selection;
}

function viewInterpolate(rawInfo, step, targetElm) {
  const animVis = targetElm;

  return new Promise((resolve) => {
    const easeFn = getEaseFn(step.timing.ease);

    if (step.change.signal === false) {
      resolve();
    }

    const view = select(`${animVis} svg`);
    const svgEncode = step.encodes.final.svg;
    // update svg
    // When just applying attr("width", ...), the size of the chart jitters.
    view
      .transition()
      .tween("resize", function() {
        const w = interpolate(
          this.getAttribute("width"),
          svgEncode.width.value
        );
        const h = interpolate(
          this.getAttribute("height"),
          svgEncode.height.value
        );
        return function(t) {
          const _w = Math.round(w(t) * 1) / 1;
          const _h = Math.round(h(t) * 1) / 1;
          this.setAttribute("width", _w);
          this.setAttribute("height", _h);
          this.setAttribute("viewBox", `0 0 ${_w} ${_h}`);
        };
      })
      .duration(step.duration)
      .delay(step.delay)
      .ease(easeFn)
      .end()
      .then(() => {
        resolve();
      });

    // update svg > g
    view
      .select("g")
      .transition()
      .attr(
        "transform",
        transformItem({ x: svgEncode.x.value, y: svgEncode.y.value })
      )
      .duration(step.duration)
      .delay(step.delay)
      .ease(easeFn);

    // update background
    let root = view.select(".root g > .background");
    const rootEncode = step.encodes.final.root;
    const fDatum = Object.keys(rootEncode).reduce((fDatum, key) => {
      fDatum[key] = rootEncode[key].value;
      return fDatum;
    }, {});
    root = root.data([fDatum]).transition();
    fetchAttributes(
      root,
      ["background", "fill", "stroke"],
      {},
      step.signals.final,
      rootEncode
    );

    root
      .duration(step.duration)
      .delay(step.delay)
      .ease(easeFn);

    // update frame
  });
}

const LIBRARY = {
  legend: legendInterpolate,
  axis: axisInterpolate,
  mark: {
    interpolate: {
      others: markInterpolate,
      areaLine: areaLineInterpolate
    },
    marktypeChange
  },
  view: viewInterpolate,
  pause: step => {
    return new Promise((resolve) => {
      setTimeout(function() {
        resolve();
      }, step.duration + step.delay);
    });
  }
};
function Actuator(step) {
  let template;
  const { marktypes } = step;
  if (step.compType === "mark") {
    if (
      marktypes.final &&
      marktypes.initial &&
      marktypes.initial !== step.marktypes.final
    ) {
      template = LIBRARY.mark.marktypeChange;
    } else if (
      isLinearMarktype(marktypes.initial) || isLinearMarktype(marktypes.final)
    ) {
      template = LIBRARY.mark.interpolate.areaLine;
    } else {
      template = LIBRARY.mark.interpolate.others;
    }
  } else {
    template = LIBRARY[step.compType];
  }

  return template;
}

async function marktypeChange(rawInfo, step, targetElm) {
  const mTypeI = step.marktypes.initial;
  const mTypeF = step.marktypes.final;
  if ( isLinearMarktype(mTypeF) && isLinearMarktype(mTypeI)) {
    return LIBRARY.mark.interpolate.areaLine(rawInfo, step, targetElm);
  }
  if (
    ( isLinearMarktype(mTypeI) && ["rule", "rect", "symbol", "text"].indexOf(mTypeF) >= 0) ||
    ( isLinearMarktype(mTypeF) && ["rule", "rect", "symbol", "text"].indexOf(mTypeI) >= 0)
  ) {
    return Promise.all([
      LIBRARY.mark.interpolate.others(rawInfo, step, targetElm),
      LIBRARY.mark.interpolate.areaLine(rawInfo, step, targetElm)
    ]);
  }
  return LIBRARY.mark.interpolate.others(rawInfo, step, targetElm);
}

async function autoScaleOrder(extendedSchedule, resolves, rawInfo) {
  const mainTimeline = extendedSchedule.getTimeline(":main");

  let extendedTimeline = await attachStates(mainTimeline, rawInfo);
  const scaleOrderResovles = resolves.filter(r => r.autoScaleOrder),
    scheduleAlternator = extendedSchedule.getTimelineAlternator(scaleOrderResovles);

  while (!validateScaleOrder(scaleOrderResovles, extendedTimeline)) {
    const altTimeline = scheduleAlternator();
    if (!altTimeline) {
      extendedTimeline = await attachStates(mainTimeline, rawInfo);
      break;
    }
    extendedTimeline = await attachStates(altTimeline, rawInfo);
  }
  return extendedTimeline;
}

function validateScaleOrder(resolves, timeline) {
  let valid = true;
  resolves.forEach(resolve => {
    resolve.autoScaleOrder.forEach(compName => {
      const foundTrack = timeline.find(track => track.compName === compName);
      if (foundTrack && foundTrack.scaleOrderValid === false) {
        valid = false;
      }
    });
  });
  return valid;
}

class AnimationSequence {

  constructor(animations) {
    this.animations = animations;
    this.status = "ready";
    this.specs = animations.map(anim => anim.spec);
    this.logs = [];
    this.rawInfos = animations.map(anim => anim.rawInfo);
  }

  log(timestamp, message, info) {
    if (typeof message === "string" && typeof timestamp === "number") {
      this.logs.push({
        timestamp,
        message,
        info
      });
    }
    return this.logs;
  }

  async play (targetElm) {
    // play and return the promsie
    const globalSTime = new Date();


    for (let i = 0; i < this.animations.length; i++) {
      const animation = this.animations[i];
      this.log(new Date() - globalSTime, `Start the ${i}-th animated transition.`);
      await animation.play(targetElm);
      if (i < (this.animations.length - 1)) {
        const target = document.querySelector(targetElm);
        target.textContent = "";
        target.append(animation.rawInfo.eVis.htmlDiv);
      }
    }
  }
}

function vl2vg4gemini(vlSpec) {
  let vgSpec = compile$2(vlSpec).spec;
  vgSpec.axes = mergeDuplicatedAxes(vgSpec.axes);
  appendNamesOnGuides(vgSpec);
  return vgSpec;
}


function castVL2VG(vlSpec) {
  if (vlSpec && vlSpec.$schema && vlSpec.$schema.indexOf("https://vega.github.io/schema/vega-lite") >= 0){
    return vl2vg4gemini(vlSpec)
  }
  return vlSpec
}


function appendNamesOnGuides(vgSpec){
  if (vgSpec.axes) {
    vgSpec.axes.forEach(axis => {
      if (!axis.encode) {
        axis.encode = {axis: {name: axis.scale}};
      } else {
        axis.encode.axis = { ...axis.encode.axis, name: axis.scale };
      }
    });
  }
  if (vgSpec.legends) {
    vgSpec.legends.forEach((legend, i) => {
      if (!legend.encode) {
        legend.encode = {legend: {name: `legend${i}`}};
      } else {
        legend.encode.legend = Object.assign({}, legend.encode.legend, {name: `legend${i}`});
      }
    });
  }
}


function mergeDuplicatedAxes(vegaAxes) {
  if (!vegaAxes || vegaAxes.length <= 0) {
    return [];
  }
  let axesScales = vegaAxes.filter(a => a.grid).map(a => a.scale);

  return rollups(vegaAxes,
    axes => {
      let axisWithGrid = axes.find(a => a.grid);
      let axisWithoutGrid = { ...axes.find(a => !a.grid) };

      if (axisWithGrid) {
        axisWithoutGrid.grid = true;
        if (axisWithGrid.gridScale) {
          axisWithoutGrid.gridScale = axisWithGrid.gridScale;
        }
        axisWithoutGrid.zindex = 0;
      }
      return axisWithoutGrid;
    },
    axis => axis.scale
  ).map(d => d[1])
   .sort((a,b) => (axesScales.indexOf(a.scale) - axesScales.indexOf(b.scale)));
}

function attachAnimTemplates(schedule) {
  schedule.forEach(track => {
    track.steps = track.steps.map(step => {
      const template = Actuator(step);
      if (!template) {
        console.error(
          `There is no such animation template for ${step.compType}.`
        );
      }

      step.template = template;
      return step;
    });
  });
  return schedule;
}

class Gemini {

  static async animateSequence(visSequence, animSpecs) {
    // 1) compile the each hop
    const views = new Array(visSequence.length);
    const animations = [];
    for (let i = 1; i < visSequence.length; i++) {
      const sSpec = castVL2VG(visSequence[i-1]);
      const eSpec = castVL2VG(visSequence[i]);
      const gemSpec = animSpecs[i-1];
      const sDiv = document.createElement("div");
      const eDiv = document.createElement("div");
      const sView = await new View(parse$2(sSpec), {
        renderer: "svg"
      }).runAsync();
      const eView = await new View(parse$2(eSpec), {
        renderer: "svg"
      }).runAsync();

      // create ones for replacing divs.
      await new View(parse$2(sSpec), {
        renderer: "svg"
      }).initialize(sDiv).runAsync();
      await new View(parse$2(eSpec), {
        renderer: "svg"
      }).initialize(eDiv).runAsync();

      const rawInfo = {
        sVis: { view: sView, spec: sSpec, htmlDiv: sDiv },
        eVis: { view: eView, spec: eSpec, htmlDiv: eDiv }
      };


      animations.push(await _animate(gemSpec, rawInfo));

      if (i===1 && !views[i-1]){
        views[i-1] = sView;
      }      if (!views[i]){
        views[i] = eView;
      }    }

    return new AnimationSequence(animations);
  }
  static async animate(startVisSpec, endVisSpec, geminiSpec) {
    const sSpec = castVL2VG(startVisSpec), eSpec = (endVisSpec);
    const eView = await new View(parse$2(eSpec), {
      renderer: "svg"
    }).runAsync();

    const sView = await new View(parse$2(sSpec), {
      renderer: "svg"
    }).runAsync();

    const rawInfo = {
      sVis: { view: sView, spec: sSpec },
      eVis: { view: eView, spec: eSpec }
    };


    return await _animate(geminiSpec, rawInfo);
  }
}
async function _animate(gemSpec, rawInfo){
  const { schedule, resolves } = parse$1(gemSpec, rawInfo);
  schedule.tracks = attachChanges(rawInfo, schedule.tracks);
  const finalTimeline = await autoScaleOrder(schedule, resolves, rawInfo);

  return new Animation(attachAnimTemplates(finalTimeline), rawInfo, gemSpec);
}

const MIN_POS_DELTA = 3;
const CHANNEL_TO_ATTRS = [
  { channel: "x", attrs: ["x", "x2", "xc", "width"] },
  { channel: "y", attrs: ["y", "y2", "yc", "height"] },
  { channel: "color", attrs: ["stroke", "fill"] },
  { channel: "shape", attrs: ["shape"] },
  { channel: "size", attrs: ["size"] },
  { channel: "opacity", attrs: ["opacity"] },
  { channel: "text", attrs: ["text"] },
  { channel: "others", attrs: ["tooltip", "define", "strokeWidth"] }
];
const CHANNELS = ["x", "y", "color", "shape", "size", "opacity", "text"];

const CHANNEL_TO_ATTRS_OBJ = {
  x: ["x", "x2", "xc", "width"],
  y: ["y", "y2", "yc", "height"],
  color: ["stroke", "fill"],
  shape: ["shape"],
  size: ["size"],
  opacity: ["opacity"],
  text: ["text"],
  others: ["tooltip", "define", "strokeWidth"]
};

function getSubEncodeByChannel(encode, channel) {
  const subEncode = {};
  if (channel === "others") {
    const otherEncode = copy(encode);
    CHANNEL_TO_ATTRS.reduce((channelRelatedAttrs, ch2Attrs) => {
      return (channelRelatedAttrs = channelRelatedAttrs.concat(ch2Attrs.attrs));
    }, []).forEach(attr => {
      delete otherEncode[attr];
    });

    return otherEncode;
  }

  CHANNEL_TO_ATTRS_OBJ[channel]
    // .filter(attr => encode[attr])
    .forEach(attr => {
      subEncode[attr] = encode[attr];
    });
  return subEncode;
}
function getCoreAttr(subEncode, channel, marktype){
  if (!subEncode) {
    return;
  }
  if (channel === "color") {
    let coreAttr = ["line", "rule", "symbol"].indexOf(marktype) >= 0
      ? subEncode.stroke
      : subEncode.fill;

    if (
      coreAttr === "symbol" &&
        subEncode.fill &&
        subEncode.fill.value !== "transparent"
    ) {
      coreAttr = subEncode.fill;
    }

    return coreAttr;
  }
  if (channel==="x") {
    return subEncode.x  || subEncode.xc;
  } else if (channel==="y") {
    return subEncode.y  || subEncode.yc;
  }
  return subEncode[channel];
}

function setUpRecomOpt(opt) {
  let _opt = copy(opt);
  _opt.axes = _opt.axes || {};
  for (const scaleName in _opt.scales || {}) {
    _opt.axes[scaleName] = _opt.axes[scaleName] || {};
    _opt.axes[scaleName].change = _opt.axes[scaleName].change || {};
    _opt.axes[scaleName].change.scale = _opt.axes[scaleName].change.scale || {};
    if (_opt.axes[scaleName].change.scale !== false) {
      _opt.axes[scaleName].change.scale.domainDimension = _opt.scales[scaleName].domainDimension;
    }
  }
  return _opt
}

function detectDiffs(rawInfo, userInput = {}) {
  // 0) compare signals
  const signalDiffs = detectSignalDiffs(rawInfo);

  const matches = getChanges(
    getComponents(rawInfo.sVis.spec),
    getComponents(rawInfo.eVis.spec)
  );
  const scaleDiffs = matches
    .filter(match => match.compType === "scale")
    .reduce((scaleDiffs, match) => {
      scaleDiffs[match.compName] = match;
      scaleDiffs[match.compName].meta = detectScaleDiffs(match, rawInfo, userInput.scales);

      return scaleDiffs;
    }, {});

  const compDiffs = matches
    .filter(match => {
      return (
        ["root", "pathgroup"].indexOf(match.compName) < 0 &&
        match.compType !== "scale"
      );
    }).map(match => {
      switch (match.compType) {
      case "mark":
        match.meta = detectMarkDiffs(match, rawInfo, scaleDiffs);
        break;
      case "axis":
        match.meta = detectAxisDiffs(match, rawInfo, scaleDiffs);
        break;
      case "legend":
        match.meta = detectLegendDiffs(match, rawInfo, scaleDiffs);
        break;
      }

      return match;
    });
  const viewDiffs = detectViewDiff(rawInfo);

  // 1) should return the components
  return {
    compDiffs,
    scaleDiffs,
    signalDiffs,
    viewDiffs
  };
}
function appendCompScaleDiff(usedScales, scaleDiffs) {
  let compScaleDiffDetails = {}; let compScaleDiff = false;

  usedScales.forEach(scaleName => {
    compScaleDiffDetails[scaleName] = scaleDiffs[scaleName].meta;
    compScaleDiff = compScaleDiff || scaleDiffs[scaleName].meta;
  }, {});

  return compScaleDiff ? compScaleDiffDetails : false;
}
function detectMarkDiffs(match, rawInfo, scaleDiffs) {
  let markDiffs = { view: { deltaW: 0, deltaH: 0 } };
  if (!match.initial) {
    markDiffs.add = true;
    markDiffs.view = { deltaW: MIN_POS_DELTA, deltaH: MIN_POS_DELTA };
  } else if (!match.final) {
    markDiffs.remove = true;
    markDiffs.view = { deltaW: MIN_POS_DELTA, deltaH: MIN_POS_DELTA };
  }

  // marktype
  markDiffs.marktype = !match.initial || !match.final || (match.initial.type !== match.final.type);

  // compare the encodes per channel
  const enAttrs_i = Object.keys(get(match, "initial", "encode", "update") || {});
  let enAttrs_f = Object.keys(get(match, "final", "encode", "update") || {});
  markDiffs.usedEnAttrs = enAttrs_i.concat(enAttrs_f).unique();

  markDiffs.encode = CHANNELS.reduce((encodeDiffs, channel) => {
    const subEncode_i = getSubEncodeByChannel(
      get(match, "initial", "encode", "update") || {},
      channel
    );
    let subEncode_f = getSubEncodeByChannel(
      get(match, "final", "encode", "update") || {},
      channel
    );

    encodeDiffs[channel] = !deepEqual(subEncode_i, subEncode_f);

    // ignoreable encode diffs (d (opacity) > 0.5 )
    if (
      channel === "opacity" &&
      (get(subEncode_i, "opacity", "value") ||
        get(subEncode_i, "opacity") === undefined) &&
      (get(subEncode_f, "opacity", "value") ||
        get(subEncode_f, "opacity") === undefined)
    ) {
      const opacityVal_i = get(subEncode_i, "opacity", "value") || 1.0;
      let opacityVal_f = get(subEncode_f, "opacity", "value") || 1.0;
      if (Math.abs(opacityVal_i - opacityVal_f) < 0.5) {
        encodeDiffs.opacity = false;
      }
    }

    //
    if (markDiffs.marktype && encodeDiffs[channel]) {
      const marktype_i = get(match, "initial", "type"),
        marktype_f = get(match, "final", "type");
      let coreEnAttr_i = getCoreAttr(subEncode_i, channel, marktype_i);
      let coreEnAttr_f = getCoreAttr(subEncode_f, channel, marktype_f);

      if (deepEqual(coreEnAttr_i, coreEnAttr_f)) {
        encodeDiffs[channel] = "byMarktypeChange";
      }
    }

    //
    return encodeDiffs;
  }, {});



  // find the used scales
  let usedScales = [];
  ["update"].forEach(set => {
    const encode_i = match.initial && match.initial.encode[set];
    const encode_f = match.final && match.final.encode[set];

    [encode_i, encode_f].forEach(encode => {
      Object.keys(encode || {}).map(attr => {
        if (Array.isArray(encode[attr])) {
          usedScales = usedScales.concat(
            encode[attr].filter(ch => ch.scale).map(ch => ch.scale)
          );
        } else if (encode[attr].scale) {
          usedScales.push(encode[attr].scale);
        }
      });
    });
  });
  markDiffs.usedScales = usedScales.unique();
  markDiffs.scale = appendCompScaleDiff(markDiffs.usedScales, scaleDiffs);
  markDiffs.scNames = Object.keys(markDiffs.scale);
  markDiffs.view = {
    deltaW: markDiffs.scale.x
      ? markDiffs.scale.x.rangeDelta
      : markDiffs.view.deltaW,
    deltaH: markDiffs.scale.y
      ? markDiffs.scale.y.rangeDelta
      : markDiffs.view.deltaH
  };
  if (markDiffs.scale.y && markDiffs.scale.y.add) {
    markDiffs.view.deltaH = MIN_POS_DELTA;
  } else if (markDiffs.scale.y && markDiffs.scale.y.remove) {
    markDiffs.view.deltaH = -MIN_POS_DELTA;
  }

  if (markDiffs.scale.x && markDiffs.scale.x.add) {
    markDiffs.view.deltaW = MIN_POS_DELTA;
  } else if (markDiffs.scale.x && markDiffs.scale.x.remove) {
    markDiffs.view.deltaW = -MIN_POS_DELTA;
  }

  // Get data and compare
  // get dataComp name
  // let iDataCompName = computeHasFacet(match.initial) ? match.initial.parent.from.facet.data : match.initial.from.data,
  //   fDataCompName = computeHasFacet(match.final) ? match.final.parent.from.facet.data : match.final.from.data;

  // markDiffs.data = isDiffDataComp(
  //   findDataComp(rawInfo.sVis.spec, iDataCompName),
  //   findDataComp(rawInfo.eVis.spec, fDataCompName),
  //   rawInfo
  // );
  // if (markDiffs.data || true) {
  let iData = match.initial
    ? getMarkData(rawInfo.sVis.view, match.initial, match.compName)
    : [];
  let fData = match.final
    ? getMarkData(rawInfo.eVis.view, match.final, match.compName)
    : [];

  if (match.initial && (computeHasFacet(match.initial) || isGroupingMarktype(match.initial.type))) {
    iData = unpackData(iData);
  }
  if (match.final && (computeHasFacet(match.final) || isGroupingMarktype(match.final.type))) {
    fData = unpackData(fData);
  }
  if (!markDiffs.data) {

    iData = computeHasFacet(match.initial) ? unpackData(iData) : iData;
    fData = computeHasFacet(match.final) ? unpackData(fData) : fData;

    markDiffs.data = isDiffData(iData, fData);
  }

  // }

  return markDiffs;
}

function detectScaleDiffs(match, rawInfo, userInputScales = {}) {
  if (!match.initial) {
    return {add: true};
  } if (!match.final) {
    return {remove: true};
  }

  //get range diff
  let rangeDelta = 0;

  let rangeVals_i = rawInfo.sVis.view.scale(match.initial.name).range(),
    rangeVals_f = rawInfo.eVis.view.scale(match.final.name).range();

  if (!deepEqual(rangeVals_i, rangeVals_f)){
    if ((rangeVals_i.length === 2 && isNumber(rangeVals_i[0]) && isNumber(rangeVals_i[1]))
      && (rangeVals_f.length === 2 && isNumber(rangeVals_f[0]) && isNumber(rangeVals_f[1]))) {
      rangeDelta = Math.abs(rangeVals_f[0]-rangeVals_f[1]) - Math.abs(rangeVals_i[0]-rangeVals_i[1]);
    }
  }

  //get domain diff
  let domainVals_i = rawInfo.sVis.view.scale(match.initial.name).domain(),
    domainVals_f = rawInfo.eVis.view.scale(match.final.name).domain();
  let domainValueDiff = !deepEqual(domainVals_i, domainVals_f);

  //get the other diffs
  let others_i = copy(match.initial);
  delete others_i.range;
  delete others_i.domain;
  let others_f = copy(match.final);
  delete others_f.range;
  delete others_f.domain;
  let scaleDiff = !deepEqual(others_i, others_f);

  if (!scaleDiff && !domainValueDiff && rangeDelta === 0) {
    return false;
  }

  scaleDiff = {
    rangeDelta: rangeDelta,
    domainValueDiff: !deepEqual(domainVals_i, domainVals_f)
  };

  let userInputDomainDimensionDiff = get(userInputScales[match.initial.name], "domainDimension");
  scaleDiff.domainSpaceDiff = userInputDomainDimensionDiff === "diff" ? true : (
    userInputDomainDimensionDiff === "same" ? false :
      !deepEqual(match.initial.domain, match.final.domain)
  );


  if ((["band", "point", "ordinal"].indexOf(match.initial.type) >= 0) &&
    (["band", "point", "ordinal"].indexOf(match.final.type) >= 0)) {
    scaleDiff.stayDiscrete = true;
  }
  return scaleDiff;
}

function detectLegendDiffs(match, rawInfo, scaleDiffs) {
  const legendDiffs = {
    usedScales: [],
    view: { deltaW: 0, deltaH: 0, x: 0, y: 0 }
  };
  if (!match.initial) {
    legendDiffs.add = true;
    legendDiffs.view = {
      deltaW: MIN_POS_DELTA,
      deltaH: MIN_POS_DELTA,
      x: MIN_POS_DELTA,
      y: MIN_POS_DELTA
    };
  } else if (!match.final) {
    legendDiffs.remove = true;
    legendDiffs.view = {
      deltaW: -MIN_POS_DELTA,
      deltaH: -MIN_POS_DELTA,
      x: -MIN_POS_DELTA,
      y: -MIN_POS_DELTA
    };
  }

  const legend_i = copy(match.initial || {}); let legend_f = copy(match.final || {});

  // 1) scale diff
  [
    "fill",
    "opacity",
    "shape",
    "size",
    "stroke",
    "strokeDash",
    "strokeWidth"
  ].forEach(scale => {
    if (match.initial && match.initial[scale]) {
      legendDiffs.usedScales.push(match.initial[scale]);
    }
    if (match.final && match.final[scale]) {
      legendDiffs.usedScales.push(match.final[scale]);
    }

    delete legend_i[scale];
    delete legend_f[scale];
  }, false);
  legendDiffs.usedScales = legendDiffs.usedScales.unique();
  legendDiffs.scale = appendCompScaleDiff(legendDiffs.usedScales, scaleDiffs);
  legendDiffs.scNames = Object.keys(legendDiffs.scale);
  // 2) encode diff
  legendDiffs.encode = !deepEqual(legend_i, legend_f);

  // 3) Pos Diff
  if (match.initial && match.final) {
    const legendGDatum = {
      initial: findComp(
        rawInfo.sVis.view.scenegraph().root,
        match.compName,
        "legend"
      )[0].items[0],
      final: findComp(
        rawInfo.eVis.view.scenegraph().root,
        match.compName,
        "legend"
      )[0].items[0]
    };

    legendDiffs.view.x = legendGDatum.final.x - legendGDatum.initial.x;
    legendDiffs.view.y = legendGDatum.final.y - legendGDatum.initial.y;
  }

  return legendDiffs;
}

function detectAxisDiffs(match, rawInfo, scaleDiffs) {
  const axisDiffs = {
    view: { deltaW: 0, deltaH: 0, x: 0, y: 0 }
  };
  if (!match.initial) {
    axisDiffs.add = true;
    axisDiffs.view = {
      deltaW: MIN_POS_DELTA,
      deltaH: MIN_POS_DELTA,
      x: MIN_POS_DELTA,
      y: MIN_POS_DELTA
    };
  } else if (!match.final) {
    axisDiffs.remove = true;
    axisDiffs.view = {
      deltaW: -MIN_POS_DELTA,
      deltaH: -MIN_POS_DELTA,
      x: -MIN_POS_DELTA,
      y: -MIN_POS_DELTA
    };
  }
  // 1) scale diff
  axisDiffs.usedScales = [];
  if (match.initial) {
    axisDiffs.usedScales.push(match.initial.scale);
  } else if (match.final) {
    axisDiffs.usedScales.push(match.final.scale);
  }

  axisDiffs.scale = appendCompScaleDiff(axisDiffs.usedScales, scaleDiffs);
  axisDiffs.scNames = Object.keys(axisDiffs.scale);
  if (match.final && match.initial) {
    axisDiffs.view = {
      deltaW: axisDiffs.scale.x ? axisDiffs.scale.x.rangeDelta : 0,
      deltaH: axisDiffs.scale.y ? axisDiffs.scale.y.rangeDelta : 0
    };
    if (match.initial.scale === match.final.scale) {
      if (!!match.initial.grid !== !!match.final.grid) {
        if (match.final.scale === "x") {
          axisDiffs.view.deltaH = match.initial.grid
            ? -MIN_POS_DELTA
            : MIN_POS_DELTA;
        } else if (match.final.scale === "y") {
          axisDiffs.view.deltaW = match.initial.grid
            ? -MIN_POS_DELTA
            : MIN_POS_DELTA;
        }
      } else if (!!match.initial.grid && !!match.final.grid) {
        let delta =
          get(scaleDiffs, match.initial.gridScale, "meta", "rangeDelta") || 0;
        if (match.final.orient === "left" || match.final.orient === "right") {
          axisDiffs.view.deltaW = delta;
        } else {
          axisDiffs.view.deltaH = delta;
        }
      }
    }
  }

  // 2) encode diff
  const axis_i = copy(match.initial) || {}; let axis_f = copy(match.final || {});
  delete axis_i.scale;
  delete axis_f.scale;
  axisDiffs.encode = !deepEqual(axis_i, axis_f);

  // 3) Pos Diff
  if (match.initial && match.final) {
    const axisGDatum = {
      initial: findComp(
        rawInfo.sVis.view.scenegraph().root,
        match.compName,
        "axis"
      )[0].items[0],
      final: findComp(
        rawInfo.eVis.view.scenegraph().root,
        match.compName,
        "axis"
      )[0].items[0]
    };
    let fWidth = axisGDatum.final.bounds.x2 - axisGDatum.final.bounds.x1,
      iWidth = axisGDatum.initial.bounds.x2 - axisGDatum.initial.bounds.x1,
      fHeight = axisGDatum.final.bounds.y2 - axisGDatum.final.bounds.y1,
      iHeight = axisGDatum.initial.bounds.y2 - axisGDatum.initial.bounds.y1;

    axisDiffs.view.deltaW += fWidth - iWidth;
    axisDiffs.view.deltaH += fHeight - iHeight;

    axisDiffs.view.x = axisGDatum.final.x - axisGDatum.initial.x;
    axisDiffs.view.y = axisGDatum.final.y - axisGDatum.initial.y;
  }

  return axisDiffs;
}
function detectViewDiff(rawInfo) {
  const viewDiffs = getViewChange(rawInfo);
  const paddingDiff = viewDiffs.final.padding - viewDiffs.initial.padding;
  viewDiffs.deltaW = viewDiffs.final.viewWidth - viewDiffs.initial.viewWidth + paddingDiff;
  viewDiffs.deltaH = viewDiffs.final.viewHeight - viewDiffs.initial.viewHeight + paddingDiff;
  viewDiffs.width = {};
  viewDiffs.height = {};
  if (Math.abs(viewDiffs.deltaW) > MIN_POS_DELTA/2) {
    viewDiffs.width[viewDiffs.deltaW > 0 ? "increase" : "decrease"] = true;
  }
  if (Math.abs(viewDiffs.deltaH) > MIN_POS_DELTA/2) {
    viewDiffs.height[viewDiffs.deltaH > 0 ? "increase" : "decrease"] = true;
  }
  viewDiffs.scNames = [];

  return viewDiffs;
}

function detectSignalDiffs(rawInfo) {
  const signalDiffs = {
    initial: rawInfo.sVis.view._runtime.signals,
    final: rawInfo.eVis.view._runtime.signals,
    meta: {
      update: [],
      exit: [],
      enter: [],
      same: []
    }
  };
  Object.keys(signalDiffs.initial)
    .concat(Object.keys(signalDiffs.final))
    .unique()
    .forEach(sgName => {
      let sg_f = signalDiffs.final[sgName];
      let sg_i = signalDiffs.initial[sgName];
      if (!sg_f) {
        signalDiffs.meta.exit.push(sgName);
      } else if (!sg_i) {
        signalDiffs.meta.enter.push(sgName);
      } else if (!deepEqual(sg_f.value, sg_i.value)) {
        signalDiffs.meta.update.push(sgName);
      } else {
        signalDiffs.meta.same.push(sgName);
      }
    });
  return signalDiffs;
}

function isDiffData(iData, fData) {
  const diff = { column: false, row: false };

  let iFields = iData[0] ? Object.keys(iData[0].datum) : [];
  let fFields = fData[0] ? Object.keys(fData[0].datum) : [];
  let sharedFields = [];
  if (!deepEqual(iFields, fFields)) {
    if (iFields.containAll(fFields)) {
      diff.column = "removed";
      sharedFields = fFields;
    } else if (fFields.containAll(iFields)) {
      diff.column = "added";
      sharedFields = iFields;
    } else {
      diff.column = "changed";
      sharedFields = iFields.filter(f => fFields.indexOf(f) >= 0);
    }
  } else {
    sharedFields = iFields;
  }

  if (sharedFields.length > 0) {
    const mappedIData = iData.map(d =>
      sharedFields.map(f => d.datum[f]).join(",")
    );
    const mappedFData = fData.map(d =>
      sharedFields.map(f => d.datum[f]).join(",")
    );
    diff.row = !deepEqual(mappedIData, mappedFData);
  } else {
    diff.row = iData.length !== fData.length;
  }

  if (!diff.column && !diff.row) {
    return false;
  }
  diff.sharedFields = sharedFields;
  return diff;
}

// function isDiffDataComp(iDataComp, fDataComp, rawInfo) {
//   if (iDataComp.source || fDataComp.source) {
//     let newIDataComp = iDataComp,
//       newFDataComp = fDataComp;
//     if (iDataComp.source && typeof(iDataComp.source) === "string") {
//       newIDataComp = findDataComp(rawInfo.sVis.spec, iDataComp.source);
//       newIDataComp.transform = (newIDataComp.transform || []).concat(iDataComp.transform);
//     }
//     if (fDataComp.source && typeof(fDataComp.source) === "string") {
//       newFDataComp = findDataComp(rawInfo.eVis.spec, fDataComp.source);
//       newFDataComp.transform = (newFDataComp.transform || []).concat(fDataComp.transform);
//     }

//     return isDiffDataComp(newIDataComp, newFDataComp, rawInfo)
//   }

//   let _i = copy(iDataComp), _f = copy(fDataComp);
//   delete _i.name;
//   // delete _i.values;
//   delete _f.name;
//   // delete _f.values;
//   if (_i.values && _f.values) {
//     if (_i.values.length !== _f.values.length) {
//       return true
//     }
//     if ( JSON.stringify(_i.values.sort()) !== JSON.stringify(_f.values.sort())){
//       return true
//     }

//   }
//   delete _i.values;
//   delete _f.values;
//   return !deepEqual(_i, _f);
//   //compare all except for "name".  ("values" may take a lot of times...)
// }

// function findDataComp(spec, compName) {
//   return spec.data.find(comp => comp.name === compName);
// }

function applyMarkDiffs(
  markDiff,
  applyingDiffs,
  rawInfo,
  extraDiffsByMarktypeChange = []
) {

  const markCompSummary = new MarkSummary(markDiff, rawInfo);

  applyingDiffs.forEach(diff => {
    markCompSummary.applyDiff(diff, extraDiffsByMarktypeChange);
  });
  return markCompSummary;
}


class MarkSummary {
  constructor(markDiff, rawInfo) {
    const vegaView = rawInfo.sVis.view;
    let data = getMarkData(
      vegaView,
      markDiff.initial,
      markDiff.compName,

    );
    let hasFacet = markDiff.initial ? computeHasFacet(markDiff.initial) : undefined;
    let isGroupingMtype = markDiff.initial ? isGroupingMarktype(markDiff.initial.type) : undefined;
    data = hasFacet || isGroupingMtype ? unpackData(data) : data;
    this.markDiff = markDiff;
    this.rawInfo = rawInfo;
    this.isEmpty = markDiff.add;
    this.marktype = get(markDiff, "initial", "type");
    this.encode = get(markDiff, "initial", "encode", "update") || {};

    this.data = {
      hasFacet,
      isGroupingMarktype: isGroupingMtype,
      fields: data[0] ? Object.keys(data[0].datum) : [],
      values: data
    };

    this.scales = markDiff.meta.usedScales.reduce((scales, scName) => {
      const scale_i = vegaView._runtime.scales[scName];
      if (scale_i) {
        scales[scName] = scale_i.value;
      }
      return scales;
    }, {});

    this.style = get(markDiff, "initial", "style");
  }

  applyDiff(diff, extraDiffsByMarktypeChange) {

    if (diff === "add") {
      this.isEmpty = true;
    }
    if (diff === "remove") {
      this.isEmpty = false;
    }
    if (diff === "marktype") {
      this.marktype = get(this.markDiff, "final", "type");
      extraDiffsByMarktypeChange.forEach(extraDiff => {
        this.applyDiff(extraDiff);
      });
    } else if (diff === "data") {
      this.data = {
        isGroupingMarktype: this.markDiff.final ? isGroupingMarktype(this.markDiff.final.type) : undefined,
        hasFacet: this.markDiff.final ? computeHasFacet(this.markDiff.final) : undefined,
      };
      let data = getMarkData(
        this.rawInfo.eVis.view,
        this.markDiff.final,
        this.markDiff.compName
      );
      data = this.data.hasFacet || this.data.isGroupingMarktype ? unpackData(data) : data;
      this.data.fields = data[0] ? Object.keys(data[0].datum) : [];
      this.data.values = data;
    } else if (diff.indexOf("encode.") >= 0) {
      const channel = diff.replace("encode.", "");
      this.encode = Object.assign(
        {},
        this.encode,
        this.markDiff.final ? getSubEncodeByChannel(this.markDiff.final.encode.update, channel) : {}
      );
    } else if (diff.indexOf("scale.") >= 0) {
      const scName = diff.replace("scale.", "");
      const scale_f = this.rawInfo.eVis.view._runtime.scales[scName];
      if (scale_f) {
        this.scales[scName] = scale_f.value;
      } else {
        delete this.scales[scName];
      }
    } else if (diff === "style") {
      this.style = get(this.markDiff, "final", "style");
    }
    return this;
  }

}
// Todo
// Make Test

function checkMarkComp(markCompSummary) {
  const { encode } = markCompSummary;
  const { marktype } = markCompSummary;
  const { data } = markCompSummary;
  const { scales } = markCompSummary;

  if (markCompSummary.isEmpty) {
    return { result: true };
  }

  // encode - marktype
  if (marktype === "rect") {
    const isXEncodeValid = containAnyAttrSet(
      [
        ["x", "x2"],
        ["x", "width"],
        ["xc", "width"]
      ],
      encode
    );
    const isYEncodeValid = containAnyAttrSet(
      [
        ["y", "y2"],
        ["y", "height"],
        ["yc", "height"]
      ],
      encode
    );
    if (!isXEncodeValid || !isYEncodeValid) {
      return { result: false, reasons: ["encode", "marktype"] };
    }
  } else if (marktype === "area") {
    const isValid =
      encode.orient && encode.orient.value === "horizontal"
        ? containAnyAttrSet(
          [
            ["x", "x2", "y"],
            ["x", "y", "width"]
          ],
          encode
        )
        : containAnyAttrSet(
          [
            ["x", "y2", "y"],
            ["x", "y", "height"]
          ],
          encode
        );

    if (!isValid) {
      return { result: false, reasons: ["encode", "marktype"] };
    }
  } else if (marktype === "line") {
    const isInValid = containAnyAttrSet(
      [ ["x2", "x"], ["y2", "y"], ["y", "height"], ["yc", "height"], ["x", "width"], ["xc", "width"] ],
      encode
    );
    if (isInValid) {
      return { result: false, reasons: ["encode", "marktype"] };
    }
  } else if (marktype === "text") {
    if (!encode.text) {
      return { result: false, reasons: ["encode", "marktype"] };
    }
  } else if (marktype === "rule") {
    if (
      !containAnyAttrSet(
        [
          ["x", "x2", "y"],
          ["y", "y2", "x"]
        ],
        encode
      )
    ) {
      return { result: false, reasons: ["encode", "marktype"] };
    }
  } else if (!marktype) {
    return { result: false, reasons: ["marktype"] };
  }

  // encode - data, encode - data - scale, encode - scale
  const attrs = Object.keys(encode);
  let valid = true;
  Object.keys(scales || {}).forEach(scName => {

    if (!attrs.find(attr => {
      if (!encode[attr]) {
        return false;
      }
      const enAttrs = Array.isArray(encode[attr]) ? encode[attr] : [ encode[attr] ];
      return enAttrs.find(enAttr => enAttr.scale === scName);
    })) {
      valid = false;
    }
  });
  if (!valid) {
    return { reasons: ["encode", "scale"], result: false };
  }

  for (let i = 0; i < attrs.length; i++) {
    const enAttrs = Array.isArray(encode[attrs[i]]) ? encode[attrs[i]] : [ encode[attrs[i]] ];
    for (let j = 0; j < enAttrs.length; j++) {
      const enAttr = enAttrs[j];
      if (enAttr && enAttr.scale) {
        if (!scales[enAttr.scale]) {
          return { reasons: ["encode", "scale"], result: false };
        }
        if (enAttr.band && scales[enAttr.scale].type !== "band") {
          return { reasons: ["encode", "scale"], result: false };
        }
      }
      if (enAttr && enAttr.field && !enAttr.field.group) {
        let field = enAttr.field;
        if (enAttr.field.parent) {
          field = enAttr.field.parent;
        }
        if (data.fields.indexOf(field) < 0) {
          return { result: false, reasons: ["encode", "data"] };
        }
        if (enAttr.scale) {
          const foundScale = scales[enAttr.scale];
          const vals = data.values.map(d => d.datum[field]);
          const scaleDomain = foundScale.domain();
          let valid = true;

          if (["band", "ordinal", "point"].indexOf(foundScale.type) >= 0) {
            // for discrete scales
            valid =
              valid &&
              vals.reduce(
                (acc, v) => (acc = acc && scaleDomain.indexOf(v) >= 0),
                true
              );
          } else if (foundScale.type === "linear") {
            const max = Math.max(...vals);
            const min = Math.min(...vals);
            valid = valid && scaleDomain[0] <= min && scaleDomain[1] >= max;
          } else if (foundScale.type === "time") {
            const max = Math.max(...vals);
            const min = Math.min(...vals);
            valid = valid && scaleDomain[0] <= min && scaleDomain[1] >= max;
          }

          if (!valid) {
            return { reasons: ["encode", "data", "scale"], result: false };
          }
        }
      }
    }
  }
  return { result: true };
}

function containAnyAttrSet(possibleAttrSets, encode) {
  return possibleAttrSets.reduce((valid, attrs) => {
    const hasAttrs = attrs.reduce(
      (hasAttrs, attr) => hasAttrs && encode[attr],
      true
    );
    return valid || hasAttrs;
  }, false);
}

function validate$2(pseudoTimeline, stageN) {
  return (
    // checkViewAxisConstraint(pseudoTimeline) &&
    checkViewLegendConstraint(pseudoTimeline) &&
    checkUnempty(pseudoTimeline) &&
    pseudoTimeline.concat.length === stageN &&
    checkMarkConstraint(pseudoTimeline)
  );
}
function checkUnempty(pseudoTl) {
  return !pseudoTl.concat.find(stage => stage.sync.length === 0);
}

function checkViewLegendConstraint(pseudoTl) {
  const viewChanges = {
    marks: [],
    legends: []
  };

  pseudoTl.concat.forEach((stage, i) => {
    stage.sync.forEach(pseudoStep => {
      const delta = {
        x: get(pseudoStep, "diff", "meta", "view", "x"),
        y: get(pseudoStep, "diff", "meta", "view", "y"),
        width: get(pseudoStep, "diff", "meta", "view", "deltaW"),
        height: get(pseudoStep, "diff", "meta", "view", "deltaH")
      };

      if (["legend", "mark"].indexOf(pseudoStep.diff.compType) >= 0) {
        const vc = {
          x:
            delta.x >= MIN_POS_DELTA
              ? "inc"
              : delta.x <= -MIN_POS_DELTA
                ? "dec"
                : false,
          y:
            delta.y >= MIN_POS_DELTA
              ? "inc"
              : delta.y <= -MIN_POS_DELTA
                ? "dec"
                : false,
          width:
            delta.width >= MIN_POS_DELTA
              ? "inc"
              : delta.width <= -MIN_POS_DELTA
                ? "dec"
                : false,
          height:
            delta.height >= MIN_POS_DELTA
              ? "inc"
              : delta.height <= -MIN_POS_DELTA
                ? "dec"
                : false,
          when: i
        };
        if (vc.x || vc.y || vc.width || vc.height) {
          if (pseudoStep.diff.compType === "legend") {
            vc.orient =
              get(pseudoStep, "diff", "initial", "orient") ||
              get(pseudoStep, "diff", "final", "orient") ||
              "right";
            viewChanges.legends.push(vc);
          } else {
            viewChanges.marks.push(vc);
          }
        }
      }
    });
  });
  if (viewChanges.marks.length === 0 || viewChanges.legends.length === 0) {
    return true;
  }

  for (const markViewChange of viewChanges.marks) {
    const rightLegendVCs = viewChanges.legends.filter(
      vc => vc.orient === "right"
    );
    if (rightLegendVCs.length > 0) {
      if (markViewChange.width === "inc") {
        if (
          markViewChange.when <
          Math.min(
            ...rightLegendVCs.filter(vc => vc.x === "inc").map(c => c.when)
          )
        ) {
          return false;
        }
      } else if (markViewChange.width === "dec") {
        if (
          markViewChange.when >
          Math.max(
            ...rightLegendVCs.filter(vc => vc.x === "dec").map(c => c.when)
          )
        ) {
          return false;
        }
      }
    }
    const bottomLegendVCs = viewChanges.legends.filter(
      vc => vc.orient === "bottom"
    );
    if (bottomLegendVCs.length > 0) {
      if (markViewChange.height === "inc") {
        if (
          markViewChange.when <
          Math.min(
            ...bottomLegendVCs.filter(vc => vc.y === "inc").map(c => c.when)
          )
        ) {
          return false;
        }
      } else if (markViewChange.height === "dec") {
        if (
          markViewChange.when >
          Math.max(
            ...bottomLegendVCs.filter(vc => vc.y === "dec").map(c => c.when)
          )
        ) {
          return false;
        }
      }
    }
  }

  return true;
}

function checkMarkConstraint(pseudoTl) {
  for (const stage of pseudoTl.concat) {
    const markPseduoSteps = stage.sync.filter(
      pseudoStep => pseudoStep.diff.compType === "mark"
    );
    for (let i = 0; i < markPseduoSteps.length; i++) {
      const pseudoStep = markPseduoSteps[i];
      if (
        (
          deepEqual(pseudoStep.factorSets.current, ["data"]) ||
          deepEqual(pseudoStep.factorSets.current, ["data", "marktype"])
        ) &&
        pseudoStep.diff.meta.data.row === false
      ) {
        return false;
      }
      /*
      if pseudoStep.factorSets.current has "data"
       && pseudoStep.diff.meta.data.row === false
       && pseudoStep.diff.initial.encode.
      */
    }
  }
  return true;
}

// Enuemerate a set of steps (<stageN) by splitting the diffs.
function enumeratePseudoTimelines(diffs, stageN, rawInfo, timing) {
  // Assume: Axes and legends cannot be splitted
  // Assume: There is only one mark component. (no add/remove of the mark components)

  // 0. find the mark components.
  const markDiffs = diffs.compDiffs.filter(
    diff => diff.compType === "mark"
  );

  const enumedMarksPusedoSteps = markDiffs.map(markDiff => {
    // 1. find valid splitting factors of the mark components.
    const { allFactors, extraFactorsByMarktype } = findAllFactors(markDiff);

    // 2. enumerate by assigning a value among [0, ..., stageN -1] on each factor
    const skippingCondition = new SkippingConditions();
    const enumed = [];

    for (let i = 0; i < Math.pow(stageN, allFactors.length); i++) {
      const factorAssignment = getFactorAssignment(i, allFactors.length, stageN);

      let valid = true;
      const factorSets = [];
      for (let j = 0; j < stageN - 1; j++) {
        const applyingFactors = allFactors.filter((factor, factorId) => {
          return factorAssignment[factorId] >= stageN - j - 1;
        });

        if (skippingCondition.check(applyingFactors)) {
          valid = false;
          break;
        }

        const markCompSummary = applyMarkDiffs(
          markDiff,
          applyingFactors,
          rawInfo,
          extraFactorsByMarktype
        );
        // 3. Check if the intermediate mark components are valid. If not, exclude the enumerated steps.
        const { reasons } = checkMarkComp(markCompSummary);

        if (reasons) {
          // register a new skipping condition
          const newSkippingCondition = allFactors
            .filter(factor =>
              reasons.find(reason => factor.indexOf(reason) >= 0)
            )
            .map(factor => {
              return {factor, include: applyingFactors.indexOf(factor) >= 0};
            });
          skippingCondition.register(newSkippingCondition);

          valid = false;
          break;
        } else if (
          !factorSets.find(
            appFctrs => appFctrs.toString() === applyingFactors.toString()
          )
        ) {
          factorSets.push(applyingFactors);
        }
      }

      if (valid) {
        factorSets.push(allFactors);
        if (
          !enumed.find(
            fctrSets => fctrSets.toString() === factorSets.toString()
          )
        ) {
          enumed.push(factorSets);
        }
      }
    }

    return enumed.map(factorSets => {
      let prevFactorSet;
      return factorSets.map(factorSet => {
        let newPseudoStep = {
          diff: markDiff,
          factorSets: {
            current: prevFactorSet
              ? factorSet.exclude(prevFactorSet)
              : factorSet,
            applied: factorSet,
            all: allFactors,
            extraByMarktype: extraFactorsByMarktype
          }
        };
        prevFactorSet = factorSet;
        return newPseudoStep;
      });
    });

  });

  const axespseudoSteps = getAxisPseudoSteps(diffs);

  const legendspseudoSteps = getLegendPseudoSteps(diffs);

  let pseudoTimelines;
  if (enumedMarksPusedoSteps.length === 1) {
    pseudoTimelines = enumArraysByItems(
      enumedMarksPusedoSteps[0],
      legendspseudoSteps.concat(axespseudoSteps),
      enumTlByStep
    ).map(pseudoTl => {
      return {
        concat: pseudoTl.map(stage => {
          return { sync: Array.isArray(stage) ? stage : [stage] };
        })
      };
    });
  } else if (stageN ===1 ) {
    pseudoTimelines = [
      {
        concat: [
          {
            sync: [
              ...enumedMarksPusedoSteps.map(steps => steps[0][0]),
              ...legendspseudoSteps,
              ...axespseudoSteps
            ]
          }
        ]
      }
    ];
  }
  else {
    console.error(
      "Currently, Gemini Recommendation only supports a single mark without adding or removing."
    );
    console.error("TODO: cross join the pseudo timelines of each mark.");
  }


  pseudoTimelines = pseudoTimelines
    .map(pseudoTl => {
      pseudoTl.concat = pseudoTl.concat.map(stage => {
        let currSync = stage.sync;

        // filter empty mark pStep
        currSync = currSync.filter(pStep => {
          return (pStep.diff.compType !== "mark") ||
            (
              !(
                (pStep.factorSets.applied.length === 0) ||
                (pStep.factorSets.current.length === 0)
              ) &&
              !(
                (pStep.factorSets.all.indexOf("add") >= 0) &&
                (pStep.factorSets.applied.indexOf("add") < 0)
              ) &&
              !(
                (pStep.factorSets.all.indexOf("remove") >= 0) &&
                (pStep.factorSets.applied.length !== pStep.factorSets.current.length)
              )
            );
        });
        return { sync: currSync };
      });
      return pseudoTl;
  });

  pseudoTimelines = pseudoTimelines.filter(pseudoTl => validate$2(pseudoTl, stageN));
    // .map((pseudoTl, i) => appendGuideMoves(pseudoTl, axespseudoSteps, legendspseudoSteps))
  pseudoTimelines = pseudoTimelines.map(pseudoTl => appendViewDiff(pseudoTl, diffs.viewDiffs))
    .map(pseudoTl => appendGridChanges(pseudoTl))
    .map(pseudoTl => appendTiming(pseudoTl, timing));



  return pseudoTimelines;
}

function appendTiming(pseudoTl, timing = {}) {
  const totalDuration = timing.totalDuration || 2000;
  pseudoTl.concat.forEach(stage => {
    for (const pseudoStep of stage.sync) {
      pseudoStep.timing = {
        duration: { ratio: Math.floor(100 / pseudoTl.concat.length) / 100 }
      };

    }
  });
  pseudoTl.totalDuration = totalDuration;
  return pseudoTl;
}
function getLegendPseudoSteps(diffs) {
  return diffs.compDiffs
    .filter(
      diff =>
        diff.compType === "legend" &&
        (diff.meta.scale ||
          diff.meta.encode ||
          diff.meta.add ||
          diff.meta.remove ||
          Math.abs(diff.meta.view.x) - MIN_POS_DELTA > 0 ||
          Math.abs(diff.meta.view.y) - MIN_POS_DELTA > 0 ||
          Math.abs(diff.meta.view.deltaH) - MIN_POS_DELTA > 0 ||
          Math.abs(diff.meta.view.deltaW) - MIN_POS_DELTA > 0)
    )
    .reduce((steps, diff) => {
      let factors = [];
      if (diff.meta.add) {
        factors = [`add.${diff.meta.usedScales.sort().join("_")}`];
      } else if (diff.meta.remove) {
        factors = [`remove.${diff.meta.usedScales.sort().join("_")}`];
      } else {
        if (diff.meta.scale) {
          factors = factors.concat(Object.keys(diff.meta.scale).map(scName => `scale.${scName}`));
        }
        if (diff.meta.encode) {
          factors.push("encode");
        }
        if (diff.meta.view.x !== 0 || diff.meta.view.y !== 0) {
          factors.push("encode.position");
        }
      }

      // return steps.concat(
      //   factors.map(fctr => {
      //     return { diff: diff, factorSets: {current: [fctr],  all: factors} }
      //   })
      // );
      return steps.concat({ diff, factorSets: {current: factors,  all: factors} });
    }, []);
}
function getAxisPseudoSteps(diffs) {
  return diffs.compDiffs
    .filter(
      diff =>
        diff.compType === "axis" &&
        (diff.meta.scale ||
          diff.meta.encode ||
          diff.meta.add ||
          diff.meta.remove ||
          Math.abs(diff.meta.view.x) - MIN_POS_DELTA > 0 ||
          Math.abs(diff.meta.view.y) - MIN_POS_DELTA > 0 ||
          Math.abs(diff.meta.view.deltaH) - MIN_POS_DELTA > 0 ||
          Math.abs(diff.meta.view.deltaW) - MIN_POS_DELTA > 0)
    )
    .filter(diff => {
      if (diff.meta.remove || diff.meta.add) {
        return true;
      }

      if (diff.meta.scale[diff.meta.usedScales[0]]) {
        const scaleDiff = diff.meta.scale[diff.meta.usedScales[0]];
        return scaleDiff.rangeDelta === 0 &&
          !scaleDiff.domainValueDiff &&
          scaleDiff.stayDiscrete
          ? false
          : true;
      }
      return true;
    })
    .map(diff => {
      let factors = [];
      if (diff.meta.add) {
        factors = [`add.${diff.compName}`];
      } else if (diff.meta.remove) {
        factors = [`remove.${diff.compName}`];
      } else {
        if (diff.meta.scale) {
          factors = factors.concat(Object.keys(diff.meta.scale).map(scName => `scale.${scName}`));
          factors.push("encode");
        }

        if (diff.meta.view.x !== 0 || diff.meta.view.y !== 0) {
          factors.push("encode.position");
        }
      }
      return { diff, factorSets: {current: factors, applied: factors, all: factors} };
    });
}


function appendViewDiff(pseudoTl, viewDiffs) {
  const done = {
    increase: { width: false, height: false },
    decrease: { width: false, height: false }
  };
  function appendDiff(stage, incOrDec) {
    for (const which of ["width", "height"]) {
      if (
        viewDiffs[which][incOrDec] &&
        needViewDiff(stage.sync, incOrDec, which) &&
        !done[incOrDec][which]
      ) {
        const found = stage.sync.find(pStep => pStep.diff.compType === "view");
        if (found) {
          found.factorSets.current.push(which);
        } else {
          stage.sync.push({

            diff: {
              compName: viewDiffs.compName,
              compType: viewDiffs.compType,
              meta: viewDiffs
            },
            factorSets: { current: [which] }
          });
        }

        done[incOrDec][which] = true;
      }
    }

    return stage;
  }
  return {
    concat: pseudoTl.concat
      .map((stage, j) => appendDiff(stage, "increase"))
      .reverse()
      .map(stage => appendDiff(stage, "decrease"))
      .reverse()
  };
}
function needViewDiff(pseudoSteps, incOrDec, which) {
  for (const pseudoStep of pseudoSteps.filter(
    step => ["mark", "axis", "legend"].indexOf(step.diff.compType) >= 0
  )) {
    let deltaProp = which === "width" ? "x" : "y";
    if (pseudoStep.diff.compType === "mark") {
      deltaProp = which === "width" ? "deltaW" : "deltaH";
    } else if (pseudoStep.diff.compType === "axis") {
      if (
        ["left", "top"].indexOf(
          (pseudoStep.diff.initial || pseudoStep.diff.final).orient
        ) >= 0
      ) {
        deltaProp = which === "width" ? "deltaW" : "deltaH";
      }
    }
    let hasViwRelatedScaleDiff = true;
    if (pseudoStep.diff.compType === "mark") {
      hasViwRelatedScaleDiff =
        pseudoStep.factorSets.current.indexOf(
          which === "width" ? "scale.x" : "scale.y"
        ) >= 0;
    }

    if (
      pseudoStep.diff.meta.view[deltaProp] >= MIN_POS_DELTA &&
      incOrDec === "increase" &&
      hasViwRelatedScaleDiff
    ) {
      return true;
    }
    if (
      pseudoStep.diff.meta.view[deltaProp] <= -MIN_POS_DELTA &&
      incOrDec === "decrease" &&
      hasViwRelatedScaleDiff
    ) {
      return true;
    }
  }
  return false;
}

// When the size of the mark view changes, grid lines should be extended.
function appendGridChanges(pseudoTl) {
  // Currently only one pStep is generated.
  let xAxisPStep, yAxisPStep;
  pseudoTl.concat.forEach(stage => {
    xAxisPStep = xAxisPStep || stage.sync.find(aPStep =>
      !aPStep.diff.meta.add &&
      !aPStep.diff.meta.remove &&
      aPStep.diff.compType === "axis" &&
      aPStep.diff.meta.scNames[0] === "x");
    yAxisPStep = yAxisPStep || stage.sync.find(aPStep =>
      !aPStep.diff.meta.add &&
      !aPStep.diff.meta.remove &&
      aPStep.diff.compType === "axis" &&
      aPStep.diff.meta.scNames[0] === "y");
  });

  if (!xAxisPStep && !yAxisPStep) {
    return pseudoTl;
  }
  return {
    ...pseudoTl,
    concat: pseudoTl.concat.map(stage => {
      let newStage = copy(stage);
      // if there is any mark.view change
      if ( stage.sync.find(pStep => ["mark", "axis"].indexOf(pStep.diff.compType) >= 0 && pStep.diff.meta.view.deltaH !== 0) ) {
        if (xAxisPStep && !stage.sync.find(pStep => pStep.diff.compType === "axis" && pStep.diff.meta.scNames[0] === "x")) {

          xAxisPStep.factorSets.all.push("encode.only.grid");
          let gridChangingAxisPStep = {
            ...xAxisPStep,
            factorSets: {
              all: copy(xAxisPStep.factorSets.all),
              applied: ["encode.only.grid"],
              current: ["encode.only.grid"]
            }
          };
          xAxisPStep.factorSets.applied.push("encode.only.grid");
          newStage.sync.push(gridChangingAxisPStep);
        }
      }

      if ( stage.sync.find(pStep => ["mark", "axis"].indexOf(pStep.diff.compType) >= 0 && pStep.diff.meta.view.deltaW !== 0) ) {
        if (yAxisPStep && !stage.sync.find(pStep => pStep.diff.compType === "axis" && pStep.diff.meta.scNames[0] === "y")) {
          yAxisPStep.factorSets.all.push("encode.only.grid");
          let gridChangingAxisPStep = {
            ...yAxisPStep,
            factorSets: {
              all: copy(yAxisPStep.factorSets.all),
              applied: ["encode.only.grid"],
              current: ["encode.only.grid"]
            }
          };
          yAxisPStep.factorSets.applied.push("encode.only.grid");
          newStage.sync.push(gridChangingAxisPStep);
        }
      }

      return newStage;
    })
  };

}
function enumTlByStep(Tl, step) {
  const newTls = [];
  for (let i = 0; i < Tl.length; i++) {
    const newTl = copy(Tl);
    if (!Array.isArray(newTl[i])) {
      newTl[i] = [newTl[i]];
    }
    const found = newTl[i].find(stp => stp.diff.compName === step.diff.compName);
    if (found) {
      found.factorSets.current = found.factorSets.current.concat(
        step.factorSets.current
      );
    } else {
      newTl[i].push(step);
    }

    newTls.push(newTl);
  }
  return newTls;
}

// choose the factors having diffs between initial and final.
function findAllFactors(markDiff) {
  const allFactors = [];
  let diffInfo = markDiff.meta;
  let extraFactorsByMarktype = [];
  if (diffInfo.add) {
    allFactors.push("add");
  }

  if (diffInfo.remove) {
    allFactors.push("remove");
    return { allFactors, extraFactorsByMarktype };
  }

  if (diffInfo.marktype) {
    allFactors.push("marktype");
    extraFactorsByMarktype.push("encode.others");
  }
  if (diffInfo.data) {
    if (diffInfo.data.row !== false || diffInfo.data.column !== "removed") {
      allFactors.push("data");
    }
  }
  if (diffInfo.scale) {
    Object.keys(diffInfo.scale).forEach(scName => {
      const scaleDiff = diffInfo.scale[scName];
      if (scaleDiff) {
        allFactors.push(`scale.${scName}`);
      }
    });
  }
  Object.keys(diffInfo.encode).forEach(chName => {
    const chDiff = diffInfo.encode[chName];
    if (chDiff === true) {
      allFactors.push(`encode.${chName}`);
    } else if (chDiff === "byMarktypeChange") {
      extraFactorsByMarktype.push(`encode.${chName}`);
    }
  });
  return { allFactors, extraFactorsByMarktype };
}

function getFactorAssignment(i, factorLen, stageN) {
  let quotient = i;
  const assignment = new Array(factorLen);
  for (let j = 0; j < factorLen; j++) {
    assignment[j] = quotient % stageN;
    quotient = Math.floor(quotient / stageN);
  }
  return assignment;
}

class SkippingConditions {
  constructor() {
    this.registered = [];
  }

  register(condition) {
    this.registered.push(condition);
  }

  check(factors) {
    for (let i = 0; i < this.registered.length; i++) {
      const condition = this.registered[i];
      const result = condition.reduce((satisfying, condF) => {
        return (satisfying =
          satisfying && factors.indexOf(condF.factor) >= 0 === condF.include);
      }, true);

      if (result) {
        return true;
      }
    }
    return false;
  }
}

// legendspseudoSteps.map(pStep => pStep.diff.compName)
//   .unique()
//   .forEach(legendName => {
//   let mergedLegendStep = mergePusedoSteps(currSync.filter(pStep => pStep.diff.compName === legendName))
//   if (mergedLegendStep){
//     currSync = currSync.filter(pStep => pStep.diff.compName !== legendName).concat([mergedLegendStep])
//   }
// });
// function mergePusedoSteps(pSteps) {
//   if (pSteps.length === 0) {
//     return;
//   }
//   const merged = copy(pSteps[0]);
//   merged.factorSets = {
//     applied: pSteps.reduce((applied, pStep) => applied.concat(pStep.factorSets ? pStep.factorSets.applied : []), []),
//     all: merged.factorSets ? merged.factorSets.all : [],
//     extraByMarktype: merged.factorSets ? merged.factorSets.extraByMarktype : []
//   }

//   return merged;
// }

// function appendGuideMoves(pseudoTl, axespseudoSteps, legendspseudoSteps) {
//   let bottomAxisPStep = axespseudoSteps.find(pStep =>
//     (pStep.diff.initial && pStep.diff.initial.orient === "bottom") &&
//     (pStep.diff.final && pStep.diff.final.orient === "bottom")
//   );
//   let rightLegendPStep = legendspseudoSteps.find(pStep =>
//     (pStep.diff.initial && pStep.diff.initial.orient === "right") &&
//     (pStep.diff.final && pStep.diff.final.orient === "right")
//   );
//   let bottomAxisMoved = false;
//   pseudoTl.concat.forEach(stage => {
//     let markPseudoSteps = stage.sync.filter(pStep => pStep.diff.compType === "mark");
//     let widthChange = !!markPseudoSteps.find(mPseudoStep =>
//       mPseudoStep.factorSets.current.indexOf("scale.x") >= 0 && mPseudoStep.diff.meta.view.deltaW !== 0
//     );

//     if (bottomAxisPStep) {
//       let thisbottomAxisPStep = stage.sync.find(pStep => pStep.diff.compName === bottomAxisPStep.diff.compName );
//       if (bottomAxisMoved && thisbottomAxisPStep) {
//         thisbottomAxisPStep.factorSets.current = thisbottomAxisPStep.factorSets.current.filter(fctr => fctr !== "encode.position");
//       }

//       if ((markPseudoSteps.length > 0)) {
//         let heightChange = !!markPseudoSteps.find(mPseudoStep =>
//           mPseudoStep.factorSets.current.indexOf("scale.y") >= 0 && mPseudoStep.diff.meta.view.deltaH !== 0
//         );
//         if (heightChange) {
//           // If marks height change, the bottom axis should move
//           if (!thisbottomAxisPStep && !bottomAxisMoved) {
//             // add axisPStep only changing axisG
//             stage.sync.push({
//               diff: bottomAxisPStep.diff,
//               factorSets: {
//                 current: ["encode.position"],
//                 applied: ["encode.position"],
//                 all: bottomAxisPStep.factorSets.all
//               }
//             })
//           }
//           bottomAxisMoved = true;
//         } else {
//           // If marks height does not change, the bottom axis should not move
//           if (thisbottomAxisPStep && !bottomAxisMoved) {
//             // bottomAxisPStep should not move
//             thisbottomAxisPStep.factorSets.current = thisbottomAxisPStep.factorSets.current.filter(fctr => fctr !== "encode.position")

//           }
//           bottomAxisMoved = false;
//         }
//       } else {
//         if (thisbottomAxisPStep) {
//           bottomAxisMoved = true;
//         }
//       }
//     }

//   })

//   return pseudoTl;
//   // If marks width change, the right axis should move
//   // If marks width change, the right legend should move

//   // If marks width does nont change, the right axis should  not move
//   // If marks width does not change, the right legend should not move
// }

function PERCEPTION_CAP(duration) {
  // if (duration < 0) {
  //   console.error("Duration cannot be negative!");
  // } else if (duration <= 0) {
  //   return 0.3
  // } else if (duration <= 667) {
  //   return 0.5
  // } else if (duration <= 1000) {
  //   return 0.8
  // } else if (duration <= 2000) {
  //   return 1.0
  // } else
  //   return 1.5
  // }
  // return 1.00 / (1 + Math.exp(-(duration-1250)/180)) + 0.4
  // return 1.00 / (1 + Math.exp(-(duration-1250)/180)) + 0.35
  return 1.4 / (1 + Math.exp(-(duration - 1200) / 300));
}

// Tuning for the mturk study
// // Stimulus 1
// stage1-rank1 > stage3-rank1, stage2-rank2, stage2-rank3
// stage2-rank1 > stage3-rank1, stage2-rank2, stage2-rank3

// // Stimulus 2
// s1R1 > *

// // Stimulus 3
// stage1-rank1 > *
// stage2-rank1 > stage2-rank2, stage3-rank1

// // Stimulus 4
// stage1-rank1 > stage2-rank3

const sameDomain = (pseudoStep, foundFactor) => {
  return (
    get(
      pseudoStep,
      "diff",
      "meta",
      "scale",
      foundFactor.split(".")[1],
      "domainSpaceDiff"
    ) === false
  );
};
const diffDomain = (pseudoStep, foundFactor) => {
  return (
    get(
      pseudoStep,
      "diff",
      "meta",
      "scale",
      foundFactor.split(".")[1],
      "domainSpaceDiff"
    ) === true
  );
};
const noFactors = factors => {
  return function(pseudoStep) {
    for (const fctr of factors) {
      if (pseudoStep.factorSets.current.indexOf(fctr) >= 0) {
        return false;
      }
    }
    return true;
  };
};
const PERCEPTION_COST = {
  mark: [
    { factor: "marktype", cost: 0.3 },
    { factor: "data", cost: 0.5 },
    { factor: "scale.y", cost: 0.4, with: [sameDomain] },
    { factor: "scale.x", cost: 0.4, with: [sameDomain] },
    { factor: "scale.color", cost: 0.4, with: [sameDomain] },
    { factor: "scale.shape", cost: 0.4, with: [sameDomain] },
    { factor: "scale.size", cost: 0.4, with: [sameDomain] },
    { factor: "scale.y", cost: 0.65, without: [sameDomain] },
    { factor: "scale.x", cost: 0.65, without: [sameDomain] },
    { factor: "scale.color", cost: 0.65, without: [sameDomain] },
    { factor: "scale.shape", cost: 0.65, without: [sameDomain] },
    { factor: "scale.size", cost: 0.65, without: [sameDomain] },
    { factor: "encode.x", cost: 0.3 },
    { factor: "encode.y", cost: 0.3 },
    { factor: "encode.color", cost: 0.3 },
    { factor: "encode.shape", cost: 0.3 },
    { factor: "encode.size", cost: 0.3 },
    { factor: "encode.opacity", cost: 0.2 }
  ],
  axis: [
    // { factor: "scale.*", cost: 0.7 },
    // { factor: "add.*", cost: 1 },
    // { factor: "remove.*", cost: 1 },
    { factor: "encode", cost: 0.3 },
    { factor: "scale", cost: 0.5, with: [sameDomain] },
    { factor: "add", cost: 0.7 },
    { factor: "remove", cost: 0.7 },
    { factor: "scale", cost: 1, without: [sameDomain] }
  ],
  legend: [
    // { factor: "scale.*", cost: 0.7 },
    // { factor: "add.*", cost: 1 },
    // { factor: "remove.*", cost: 1 },
    { factor: "encode", cost: 0.3 },
    { factor: "scale", cost: 0.5, with: [sameDomain] },
    { factor: "add", cost: 0.7 },
    { factor: "remove", cost: 0.7 },
    { factor: "scale", cost: 1, without: [sameDomain] }
  ]
};

const PENALTY_COMBOS = [
  {
    chunks: [
      [
        {
          compType: "mark",
          factor: "scale.y",
          with: [diffDomain, noFactors(["encode.y"])]
        }
      ]
    ],
    cost: 1.0
  },
  {
    chunks: [
      [
        {
          compType: "mark",
          factor: "scale.x",
          with: [diffDomain, noFactors(["encode.x"])]
        }
      ]
    ],
    cost: 1.0
  },
  {
    chunks: [
      [
        {
          compType: "mark",
          factor: "scale.size",
          with: [diffDomain, noFactors(["encode.size"])]
        }
      ]
    ],
    cost: 1.0
  },
  {
    chunks: [
      [
        {
          compType: "mark",
          factor: "scale.color",
          with: [diffDomain, noFactors(["encode.color"])]
        }
      ]
    ],
    cost: 1.0
  }
];

const DISCOUNT_COMBOS = [
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.y", with: [sameDomain] },
        { compType: "mark", factor: "scale.x", with: [sameDomain] }
      ]
    ],
    cost: -0.2
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.size" },
        { compType: "mark", factor: "scale.shape" }
      ],
      [
        { compType: "mark", factor: "scale.color" },
        { compType: "mark", factor: "scale.shape" }
      ],
      [
        { compType: "mark", factor: "scale.color" },
        { compType: "mark", factor: "scale.size" }
      ],
      [
        { compType: "mark", factor: "scale.size" },
        { compType: "mark", factor: "scale.opacity" }
      ],
      [
        { compType: "mark", factor: "scale.opacity" },
        { compType: "mark", factor: "scale.shape" }
      ],
      [
        { compType: "mark", factor: "scale.color" },
        { compType: "mark", factor: "scale.opacity" }
      ],
      [
        { compType: "mark", factor: "scale.color" },
        { compType: "mark", factor: "scale.size" },
        { compType: "mark", factor: "scale.shape" }
      ],
      [
        { compType: "mark", factor: "scale.size" },
        { compType: "mark", factor: "scale.shape" },
        { compType: "mark", factor: "scale.opacity" }
      ],
      [
        { compType: "mark", factor: "scale.color" },
        { compType: "mark", factor: "scale.shape" },
        { compType: "mark", factor: "scale.opacity" }
      ],
      [
        { compType: "mark", factor: "scale.color" },
        { compType: "mark", factor: "scale.size" },
        { compType: "mark", factor: "scale.opacity" }
      ],
      [
        { compType: "mark", factor: "scale.color" },
        { compType: "mark", factor: "scale.size" },
        { compType: "mark", factor: "scale.opacity" },
        { compType: "mark", factor: "scale.shape" }
      ]
    ],
    cost: -0.1
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.y", with: [sameDomain] },
        { compType: "axis", factor: "scale.y", with: [sameDomain] }
      ]
    ],
    cost: -0.5
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.y", with: [diffDomain] },
        { compType: "axis", factor: "scale.y", with: [diffDomain] }
      ]
    ],
    cost: -1
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "encode.y" },
        { compType: "axis", factor: "add.y" }
      ],
      [
        { compType: "mark", factor: "encode.y" },
        { compType: "axis", factor: "remove.y" }
      ]
    ],
    cost: -0.7
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.x", with: [sameDomain] },
        { compType: "axis", factor: "scale.x", with: [sameDomain] }
      ]
    ],
    cost: -0.5
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.x", with: [diffDomain] },
        { compType: "axis", factor: "scale.x", with: [diffDomain] }
      ]
    ],
    cost: -1
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "encode.x" },
        { compType: "axis", factor: "add.x" }
      ],
      [
        { compType: "mark", factor: "encode.x" },
        { compType: "axis", factor: "remove.x" }
      ]
    ],
    cost: -0.7
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.color" },
        { compType: "legend", contain: "color" }
      ]
    ],
    cost: -0.5
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.size" },
        { compType: "legend", contain: "size" }
      ]
    ],
    cost: -0.5
  },
  {
    chunks: [
      [
        { compType: "mark", factor: "scale.shape" },
        { compType: "legend", contain: "shape" }
      ]
    ],
    cost: -0.5
  }
];

function evaluate(pseudoTimeline) {
  const stageCosts = [];
  const cappedStageCosts = [];
  const N = pseudoTimeline.concat.length;
  const cost = pseudoTimeline.concat.reduce((cost, stage, i) => {
    const totalCost = stage.sync.reduce((sum, pseudoStep) => {
      pseudoStep.meta = { cost: getCost(pseudoStep) };
      return sum + getCost(pseudoStep);
    }, 0);
    const comboCost = getComboCost(stage.sync);
    const dur = pseudoTimeline.totalDuration / pseudoTimeline.concat.length;
    const cap = PERCEPTION_CAP(dur) * Math.pow(0.99, N - 1 - i);
    stage.meta = {
      totalCost: roundUp(totalCost),
      comboCost: roundUp(comboCost),
      cap,
      cost: roundUp(Math.max(totalCost + comboCost - cap, 0))
    };
    stageCosts.push(Math.max(totalCost + comboCost));
    cappedStageCosts.push(Math.max(totalCost + comboCost - cap, 0));
    return cost + Math.max(totalCost + comboCost - cap, 0);
  }, 0);

  return {
    cost: roundUp(cost),
    tiebreaker: mean(stageCosts),
    tiebreaker2: variance(cappedStageCosts)
  };
}

function getComboCost(pseudoSteps) {
  const check = (piece, factorSet) => {
    return factorSet.find(
      fctr => fctr === piece.factor || fctr.indexOf(piece.contain) >= 0
    );
  };

  return DISCOUNT_COMBOS.concat(PENALTY_COMBOS).reduce(
    (totalDiscount, combo) => {
      for (const chunk of combo.chunks) {
        const isChunk = chunk.reduce((isChunk, piece) => {
          const found = pseudoSteps.find(pStep => {
            return (
              pStep.diff.compType === piece.compType &&
              check(piece, pStep.factorSets.current)
            );
          });
          if (!found) {
            return false;
          }

          if (piece.with) {
            isChunk = piece.with.reduce((isChunk, subCondition) => {
              return isChunk && subCondition(found, piece.factor);
            }, isChunk);
          }

          return isChunk && !!found;
        }, true);
        if (isChunk) {
          totalDiscount += combo.cost;
          break;
        }
      }
      return totalDiscount;
    },
    0
  );
}

function getCost(pseudoStep) {
  // Todo
  if (
    pseudoStep.diff.compType === "view" ||
    pseudoStep.diff.compType === "pause"
  ) {
    return 0;
  }
  let stepCost = 0;
  for (const condition of PERCEPTION_COST[pseudoStep.diff.compType]) {
    const foundFactor = pseudoStep.factorSets.current.find(
      fctr => fctr.indexOf(condition.factor) >= 0
    );
    let with_without = true;
    if (foundFactor && condition.with) {
      with_without = condition.with.reduce((sat, subCondition) => {
        return sat && subCondition(pseudoStep, foundFactor);
      }, true);
    } else if (foundFactor && condition.without) {
      with_without = condition.without.reduce((sat, subCondition) => {
        return sat && !subCondition(pseudoStep, foundFactor);
      }, true);
    }

    stepCost += foundFactor && with_without ? condition.cost : 0;
  }
  return stepCost;
}

function generateTimeline(pseudoTimeline, userInput, includeMeta) {
  // Assume: pseudoTimeline = {concat: [ {sync: [...] }, {sync: [...]}, ...]}
  // Assume: userInput= {marks: {...}, axes: {...}, legends: {...}, scales: {...}}
  let defaultOpt = {
    timing: {
      duration: {
        ratio: Math.floor(100 / pseudoTimeline.concat.length) / 100
      }
    }
  };
  if (userInput.global) {
    defaultOpt = Object.assign(defaultOpt, userInput.global);
  }
  let opt;

  const newConcat = pseudoTimeline.concat.map(syncBlock => {
    return {
      sync: syncBlock.sync.map(pseudoStep => {
        let step;
        switch (pseudoStep.diff.compType) {
        case "mark":
          opt = Object.assign(
            {},
            defaultOpt,
            get(userInput, "marks", pseudoStep.diff.compName) || {}
          );
          step = generateMarkCompStep(pseudoStep, opt);
          break;
        case "axis":
          opt = Object.assign(
            {},
            defaultOpt,
            get(userInput, "axes", pseudoStep.diff.compName) || {}
          );
          step = generateAxisCompStep(pseudoStep, opt);
          break;
        case "legend":
          opt = Object.assign(
            {},
            defaultOpt,
            get(userInput, "legends", pseudoStep.diff.compName) || {}
          );
          step = generateLegendCompStep(pseudoStep, opt);
          break;
        case "view":
          step = generateViewCompStep(pseudoStep, opt);
          break;
        }
        if (includeMeta) {
          step.meta = pseudoStep.meta;
        }

        return step;
      }),
      ...(includeMeta ? { meta: syncBlock.meta } : {})
    };
  });
  return { concat: newConcat };
}

function generateViewCompStep(pseudoViewStep, opt) {
  return {
    component: "view",
    change: {
      signal: pseudoViewStep.factorSets.current
    },
    timing: pseudoViewStep.timing || copy(opt.timing)
  };
}

function generateAxisCompStep(pseudoStep, opt) {
  const scaleDomainDimension = get(opt, "change", "scale", "domainDimension");
  const { factorSets } = pseudoStep;
  const step = {
    component: { axis: pseudoStep.diff.compName },
    change: {},
    timing: pseudoStep.timing || copy(opt.timing)
  };
  if (scaleDomainDimension !== undefined) {
    step.change = { scale: { domainDimension: scaleDomainDimension } };
  }
  if (
    factorSets.all.indexOf("scale.y") >= 0 &&
    factorSets.applied.indexOf("scale.y") < 0
  ) {
    step.change.scale = false;
  } else if (
    factorSets.all.indexOf("scale.x") >= 0 &&
    factorSets.applied.indexOf("scale.x") < 0
  ) {
    step.change.scale = false;
  }
  if (
    factorSets.applied.indexOf("encode") < 0 &&
    factorSets.all.indexOf("encode") >= 0
  ) {
    step.change.encode = false;
  }

  if (
    step.change.encode === false &&
    factorSets.applied.indexOf("encode.only.grid") >= 0
  ) {
    step.change.encode = {
      grid: true,
      axis: true,
      labels: false,
      title: false,
      ticks: false,
      domain: false
    };
  }

  if (
    ( (step.change.encode === false) ||
      (get(step, "change", "encode", "axis") === false) ) &&
    factorSets.applied.indexOf("encode.position") >= 0
  ) {
    if (step.change.encode) {
      step.change.encode.axis = false;
    } else {
      step.change.encode = {axis: false};
    }
  }

  if (isEmpty(step.change)) {
    delete step.change;
  }

  return step;
}

function generateLegendCompStep(pseudoStep, opt) {
  const step = {
    component: { legend: pseudoStep.diff.compName },
    timing: pseudoStep.timing || copy(opt.timing)
  };
  // const factorSets = pseudoStep.factorSets;
  // if (factorSets && factorSets.current && factorSets.current.length > 0) {
  //   step.change = {
  //     scale: factorSets.current.map(fct => fct.replace("scale.", ""))
  //   };
  // }
  // if (factorSets.current.indexOf("encode.position") < 0 && factorSets.all.indexOf("encode.position") >= 0) {
  //   step.change = {
  //     ...(step.change || {}),
  //     encode: { legend: false }
  //   };
  // }
  return step;
}

function generateMarkCompStep(pseudoStep, opt) {
  const markCompDiff = pseudoStep.diff;
  const { factorSets } = pseudoStep;
  const step = {
    component: { mark: markCompDiff.compName },
    change: getBlankChange(factorSets.all),
    timing: pseudoStep.timing || copy(opt.timing)
  };
  if (factorSets.applied.indexOf("remove") >= 0) {
    delete step.change;
    return step;
  }
  // change.scale
  const scaleFactros = factorSets.applied.filter(
    fctr => fctr.indexOf("scale") >= 0
  );
  if (scaleFactros.length > 0) {
    step.change.scale = scaleFactros.map(fctr => fctr.replace("scale.", ""));
  }

  // change.data
  if (factorSets.applied.indexOf("data") >= 0) {
    step.change.data = get(opt, "change", "data") || true;
  }

  // Todo: For encode factors not in the factorSet, then it should not specify anything.
  // change.encode
  const encodeFactors = factorSets.applied.filter(
    fctr => fctr.indexOf("encode") >= 0
  );
  const encodeChange = getBlankEncodeChange(
    factorSets.all.concat(factorSets.extraByMarktype)
  );

  if (encodeFactors.length > 0) {
    encodeFactors.forEach(fctr => {
      const channel = fctr.replace("encode.", "");
      const attrs = CHANNEL_TO_ATTRS_OBJ[channel];
      attrs.forEach(attr => {
        delete encodeChange.update[attr];
        delete encodeChange.exit[attr];
        delete encodeChange.enter[attr];
      });
    });
  }
  step.change.encode = encodeChange;

  // change.marktype
  if (factorSets.applied.indexOf("marktype") >= 0) {
    step.change.marktype = true;

    factorSets.extraByMarktype.forEach(fctr => {
      const channel = fctr.replace("encode.", "");
      const attrs = CHANNEL_TO_ATTRS_OBJ[channel];
      attrs.forEach(attr => {
        delete step.change.encode.update[attr];
        delete step.change.encode.exit[attr];
        delete step.change.encode.enter[attr];
      });
    });
  }

  ["update", "enter", "exit"].forEach(dataSet => {
    if (!isEmpty(get(step, "change", "encode", dataSet))) {
      step.change.encode[dataSet] = Object.keys(step.change.encode[dataSet])
        .filter(attr => markCompDiff.meta.usedEnAttrs.indexOf(attr) >= 0)
        .reduce((acc, attr) => {
          acc[attr] = step.change.encode[dataSet][attr];
          return acc;
        }, {});
    }

    if (isEmpty(get(step, "change", "encode", dataSet))) {
      step.change.encode[dataSet] = true;
    }
  });

  return step;
}

// It provides a change.encode that does not change any attribute.
// The blankEncodeChanges are to be assigned by encode factors.
function getBlankEncodeChange(relatedFactors) {
  const blankEncode = relatedFactors
    .filter(fctr => fctr.indexOf("encode") >= 0)
    .map(fctr => CHANNEL_TO_ATTRS_OBJ[fctr.replace("encode.", "")])
    .reduce((blankEncode, attrs) => {
      attrs.forEach(attr => {
        blankEncode[attr] = false;
      });
      return blankEncode;
    }, {});

  const blankExitEncode = copy(blankEncode);
  delete blankExitEncode.opacity;

  return {
    update: copy(blankEncode),
    enter: blankExitEncode,
    exit: blankExitEncode
  };
}
function getBlankChange(allFactors) {
  return ["scale", "signal", "data", "encode", "marktype"].reduce(
    (change, factor) => {
      if (allFactors.find(f => f.indexOf(factor) >= 0)) {
        change[factor] = false;
      }
      return change;
    },
    {}
  );
}

async function recommend (
  sSpec,
  eSpec,
  opt = { marks: {}, axes: {}, legends: {}, scales: {} }
) {
  const {
    rawInfo,
    userInput,
    stageN,
    includeMeta,
    timing
  } = await initialSetUp(sSpec, eSpec, opt);

  if (!canRecommend(sSpec, eSpec).result && stageN !== 1) {
    return canRecommend(sSpec, eSpec);
  }

  const detected = detectDiffs(rawInfo, userInput);

  let pseudoTls = enumeratePseudoTimelines(detected, stageN, rawInfo, timing);
  pseudoTls = pseudoTls
    .map(pseudoTl => {
      pseudoTl.eval = evaluate(pseudoTl);
      return pseudoTl;
    })
    .sort((a, b) => compareCost(a.eval, b.eval));

  return pseudoTls.map(pseudoTl => {
    const meta = includeMeta ? pseudoTl.eval : undefined;
    return {
      spec: {
        timeline: generateTimeline(pseudoTl, userInput, includeMeta),
        totalDuration: timing.totalDuration,
        meta
      },
      pseudoTimeline: pseudoTl
    };
  });
}
function compareCost(a, b) {
  if (a.cost === b.cost) {
    if (a.tiebreaker === b.tiebreaker) {
      return a.tiebreaker2 - b.tiebreaker2;
    }
    return a.tiebreaker - b.tiebreaker;
  }
  return a.cost - b.cost;
}

async function initialSetUp(sSpec, eSpec, opt = { marks: {}, axes: {}, legends: {}, scales: {} }) {
  let _opt = copy(opt);
  const stageN = Number(opt.stageN) || 2;
  const { includeMeta } = opt;
  const timing = { totalDuration: _opt.totalDuration || 2000 };
  _opt = setUpRecomOpt(_opt);
  const eView = await new View(parse$2(castVL2VG(eSpec)), {
    renderer: "svg"
  }).runAsync();

  const sView = await new View(parse$2(castVL2VG(sSpec)), {
    renderer: "svg"
  }).runAsync();


  const rawInfo = {
    sVis: { spec: copy(castVL2VG(sSpec)), view: sView },
    eVis: { spec: copy(castVL2VG(eSpec)), view: eView }
  };

  return { rawInfo, userInput: _opt, stageN, includeMeta, timing}
}

function canRecommend(sSpec, eSpec, stageN) {

  const compDiffs = getChanges(
    getComponents(castVL2VG(sSpec)),
    getComponents(castVL2VG(eSpec))
  ).filter(match => {
    return (
      ["root", "pathgroup"].indexOf(match.compName) < 0 &&
      match.compType !== "scale"
    );
  });
  if (compDiffs.filter(comp => comp.compType === "mark").length >= 2 && stageN >1) {
    return { result: false, reason: "Gemini cannot recomend animations for transitions with multiple marks." };
  }
  return { result: true };
}

async function allAtOnce(sSpec,
  eSpec,
  opt = { marks: {}, axes: {}, legends: {}, scales: {} }
) {
  const sVGSpec = castVL2VG(sSpec), eVGSpec = castVL2VG(eSpec);
  const {
    rawInfo,
    userInput,
    stageN,
    includeMeta,
    timing
  } = await initialSetUp(sVGSpec, eVGSpec, {stageN:1, ...opt});

  const detected = detectDiffs(rawInfo, userInput);

  const steps = detected.compDiffs.map(cmpDiff => {
    let comp = {};
    comp[cmpDiff.compType] = cmpDiff.compName;
    return {
      component: comp,
      timing: {duration: {ratio: 1}}
    }
  });
  for (const incOrDec of ["increase", "decrease"]) {
    if (detected.viewDiffs.height[incOrDec] || detected.viewDiffs.width[incOrDec]) {
      steps.push({
        component: "view",
        timing: {duration: {ratio: 1}}
      });
      break;
    }
  }

  return {
    timeline: {
      sync: steps
    },
    totalDuration: opt.totalDuration || 2000
  }

}

var graphscape = createCommonjsModule(function (module, exports) {
(function (global, factory) {
   module.exports = factory(d3__default, vega__default, vegaLite__default) ;
}(commonjsGlobal, (function (d3, vega, vl) {
  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

  var d3__default = /*#__PURE__*/_interopDefaultLegacy(d3);
  var vega__default = /*#__PURE__*/_interopDefaultLegacy(vega);
  var vl__default = /*#__PURE__*/_interopDefaultLegacy(vl);

  function accessor(fn, fields, name) {
    fn.fields = fields || [];
    fn.fname = name;
    return fn;
  }

  function getter(path) {
    return path.length === 1 ? get1(path[0]) : getN(path);
  }

  const get1 = field => function (obj) {
    return obj[field];
  };

  const getN = path => {
    const len = path.length;
    return function (obj) {
      for (let i = 0; i < len; ++i) {
        obj = obj[path[i]];
      }

      return obj;
    };
  };

  function error(message) {
    throw Error(message);
  }

  function splitAccessPath(p) {
    const path = [],
          n = p.length;
    let q = null,
        b = 0,
        s = '',
        i,
        j,
        c;
    p = p + '';

    function push() {
      path.push(s + p.substring(i, j));
      s = '';
      i = j + 1;
    }

    for (i = j = 0; j < n; ++j) {
      c = p[j];

      if (c === '\\') {
        s += p.substring(i, j);
        s += p.substring(++j, ++j);
        i = j;
      } else if (c === q) {
        push();
        q = null;
        b = -1;
      } else if (q) {
        continue;
      } else if (i === b && c === '"') {
        i = j + 1;
        q = c;
      } else if (i === b && c === "'") {
        i = j + 1;
        q = c;
      } else if (c === '.' && !b) {
        if (j > i) {
          push();
        } else {
          i = j + 1;
        }
      } else if (c === '[') {
        if (j > i) push();
        b = i = j + 1;
      } else if (c === ']') {
        if (!b) error('Access path missing open bracket: ' + p);
        if (b > 0) push();
        b = 0;
        i = j + 1;
      }
    }

    if (b) error('Access path missing closing bracket: ' + p);
    if (q) error('Access path missing closing quote: ' + p);

    if (j > i) {
      j++;
      push();
    }

    return path;
  }

  function field(field, name, opt) {
    const path = splitAccessPath(field);
    field = path.length === 1 ? path[0] : field;
    return accessor((opt && opt.get || getter)(path), [field], name || field);
  }

  field('id');
  accessor(_ => _, [], 'identity');
  accessor(() => 0, [], 'zero');
  accessor(() => 1, [], 'one');
  accessor(() => true, [], 'true');
  accessor(() => false, [], 'false');

  function isFunction(_) {
    return typeof _ === 'function';
  }

  const hop = Object.prototype.hasOwnProperty;

  function has(object, property) {
    return hop.call(object, property);
  }

  function isString(_) {
    return typeof _ === 'string';
  }

  function toSet(_) {
    const s = {},
          n = _.length;

    for (let i = 0; i < n; ++i) s[_[i]] = true;

    return s;
  }

  const RawCode = 'RawCode';
  const Literal = 'Literal';
  const Property = 'Property';
  const Identifier = 'Identifier';
  const ArrayExpression = 'ArrayExpression';
  const BinaryExpression = 'BinaryExpression';
  const CallExpression = 'CallExpression';
  const ConditionalExpression = 'ConditionalExpression';
  const LogicalExpression = 'LogicalExpression';
  const MemberExpression = 'MemberExpression';
  const ObjectExpression = 'ObjectExpression';
  const UnaryExpression = 'UnaryExpression';

  function ASTNode(type) {
    this.type = type;
  }

  ASTNode.prototype.visit = function (visitor) {
    let c, i, n;
    if (visitor(this)) return 1;

    for (c = children(this), i = 0, n = c.length; i < n; ++i) {
      if (c[i].visit(visitor)) return 1;
    }
  };

  function children(node) {
    switch (node.type) {
      case ArrayExpression:
        return node.elements;

      case BinaryExpression:
      case LogicalExpression:
        return [node.left, node.right];

      case CallExpression:
        return [node.callee].concat(node.arguments);

      case ConditionalExpression:
        return [node.test, node.consequent, node.alternate];

      case MemberExpression:
        return [node.object, node.property];

      case ObjectExpression:
        return node.properties;

      case Property:
        return [node.key, node.value];

      case UnaryExpression:
        return [node.argument];

      case Identifier:
      case Literal:
      case RawCode:
      default:
        return [];
    }
  }
  /*
    The following expression parser is based on Esprima (http://esprima.org/).
    Original header comment and license for Esprima is included here:

    Copyright (C) 2013 Ariya Hidayat <ariya.hidayat@gmail.com>
    Copyright (C) 2013 Thaddee Tyl <thaddee.tyl@gmail.com>
    Copyright (C) 2013 Mathias Bynens <mathias@qiwi.be>
    Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>
    Copyright (C) 2012 Mathias Bynens <mathias@qiwi.be>
    Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>
    Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>
    Copyright (C) 2012 Yusuke Suzuki <utatane.tea@gmail.com>
    Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>
    Copyright (C) 2011 Ariya Hidayat <ariya.hidayat@gmail.com>

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions are met:

      * Redistributions of source code must retain the above copyright
        notice, this list of conditions and the following disclaimer.
      * Redistributions in binary form must reproduce the above copyright
        notice, this list of conditions and the following disclaimer in the
        documentation and/or other materials provided with the distribution.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
    ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
    DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
    (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
    LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
    ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
    (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
    THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */


  var TokenName, source, index, length, lookahead;
  var TokenBooleanLiteral = 1,
      TokenEOF = 2,
      TokenIdentifier = 3,
      TokenKeyword = 4,
      TokenNullLiteral = 5,
      TokenNumericLiteral = 6,
      TokenPunctuator = 7,
      TokenStringLiteral = 8,
      TokenRegularExpression = 9;
  TokenName = {};
  TokenName[TokenBooleanLiteral] = 'Boolean';
  TokenName[TokenEOF] = '<end>';
  TokenName[TokenIdentifier] = 'Identifier';
  TokenName[TokenKeyword] = 'Keyword';
  TokenName[TokenNullLiteral] = 'Null';
  TokenName[TokenNumericLiteral] = 'Numeric';
  TokenName[TokenPunctuator] = 'Punctuator';
  TokenName[TokenStringLiteral] = 'String';
  TokenName[TokenRegularExpression] = 'RegularExpression';
  var SyntaxArrayExpression = 'ArrayExpression',
      SyntaxBinaryExpression = 'BinaryExpression',
      SyntaxCallExpression = 'CallExpression',
      SyntaxConditionalExpression = 'ConditionalExpression',
      SyntaxIdentifier = 'Identifier',
      SyntaxLiteral = 'Literal',
      SyntaxLogicalExpression = 'LogicalExpression',
      SyntaxMemberExpression = 'MemberExpression',
      SyntaxObjectExpression = 'ObjectExpression',
      SyntaxProperty = 'Property',
      SyntaxUnaryExpression = 'UnaryExpression'; // Error messages should be identical to V8.

  var MessageUnexpectedToken = 'Unexpected token %0',
      MessageUnexpectedNumber = 'Unexpected number',
      MessageUnexpectedString = 'Unexpected string',
      MessageUnexpectedIdentifier = 'Unexpected identifier',
      MessageUnexpectedReserved = 'Unexpected reserved word',
      MessageUnexpectedEOS = 'Unexpected end of input',
      MessageInvalidRegExp = 'Invalid regular expression',
      MessageUnterminatedRegExp = 'Invalid regular expression: missing /',
      MessageStrictOctalLiteral = 'Octal literals are not allowed in strict mode.',
      MessageStrictDuplicateProperty = 'Duplicate data property in object literal not allowed in strict mode';
  var ILLEGAL = 'ILLEGAL',
      DISABLED = 'Disabled.'; // See also tools/generate-unicode-regex.py.

  var RegexNonAsciiIdentifierStart = new RegExp('[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]'),
      // eslint-disable-next-line no-misleading-character-class
  RegexNonAsciiIdentifierPart = new RegExp('[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]'); // Ensure the condition is true, otherwise throw an error.
  // This is only to have a better contract semantic, i.e. another safety net
  // to catch a logic error. The condition shall be fulfilled in normal case.
  // Do NOT use this to enforce a certain condition on any user input.

  function assert(condition, message) {
    /* istanbul ignore next */
    if (!condition) {
      throw new Error('ASSERT: ' + message);
    }
  }

  function isDecimalDigit(ch) {
    return ch >= 0x30 && ch <= 0x39; // 0..9
  }

  function isHexDigit(ch) {
    return '0123456789abcdefABCDEF'.indexOf(ch) >= 0;
  }

  function isOctalDigit(ch) {
    return '01234567'.indexOf(ch) >= 0;
  } // 7.2 White Space


  function isWhiteSpace(ch) {
    return ch === 0x20 || ch === 0x09 || ch === 0x0B || ch === 0x0C || ch === 0xA0 || ch >= 0x1680 && [0x1680, 0x180E, 0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A, 0x202F, 0x205F, 0x3000, 0xFEFF].indexOf(ch) >= 0;
  } // 7.3 Line Terminators


  function isLineTerminator(ch) {
    return ch === 0x0A || ch === 0x0D || ch === 0x2028 || ch === 0x2029;
  } // 7.6 Identifier Names and Identifiers


  function isIdentifierStart(ch) {
    return ch === 0x24 || ch === 0x5F || // $ (dollar) and _ (underscore)
    ch >= 0x41 && ch <= 0x5A || // A..Z
    ch >= 0x61 && ch <= 0x7A || // a..z
    ch === 0x5C || // \ (backslash)
    ch >= 0x80 && RegexNonAsciiIdentifierStart.test(String.fromCharCode(ch));
  }

  function isIdentifierPart(ch) {
    return ch === 0x24 || ch === 0x5F || // $ (dollar) and _ (underscore)
    ch >= 0x41 && ch <= 0x5A || // A..Z
    ch >= 0x61 && ch <= 0x7A || // a..z
    ch >= 0x30 && ch <= 0x39 || // 0..9
    ch === 0x5C || // \ (backslash)
    ch >= 0x80 && RegexNonAsciiIdentifierPart.test(String.fromCharCode(ch));
  } // 7.6.1.1 Keywords


  const keywords = {
    'if': 1,
    'in': 1,
    'do': 1,
    'var': 1,
    'for': 1,
    'new': 1,
    'try': 1,
    'let': 1,
    'this': 1,
    'else': 1,
    'case': 1,
    'void': 1,
    'with': 1,
    'enum': 1,
    'while': 1,
    'break': 1,
    'catch': 1,
    'throw': 1,
    'const': 1,
    'yield': 1,
    'class': 1,
    'super': 1,
    'return': 1,
    'typeof': 1,
    'delete': 1,
    'switch': 1,
    'export': 1,
    'import': 1,
    'public': 1,
    'static': 1,
    'default': 1,
    'finally': 1,
    'extends': 1,
    'package': 1,
    'private': 1,
    'function': 1,
    'continue': 1,
    'debugger': 1,
    'interface': 1,
    'protected': 1,
    'instanceof': 1,
    'implements': 1
  };

  function skipComment() {
    while (index < length) {
      const ch = source.charCodeAt(index);

      if (isWhiteSpace(ch) || isLineTerminator(ch)) {
        ++index;
      } else {
        break;
      }
    }
  }

  function scanHexEscape(prefix) {
    var i,
        len,
        ch,
        code = 0;
    len = prefix === 'u' ? 4 : 2;

    for (i = 0; i < len; ++i) {
      if (index < length && isHexDigit(source[index])) {
        ch = source[index++];
        code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());
      } else {
        throwError({}, MessageUnexpectedToken, ILLEGAL);
      }
    }

    return String.fromCharCode(code);
  }

  function scanUnicodeCodePointEscape() {
    var ch, code, cu1, cu2;
    ch = source[index];
    code = 0; // At least, one hex digit is required.

    if (ch === '}') {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }

    while (index < length) {
      ch = source[index++];

      if (!isHexDigit(ch)) {
        break;
      }

      code = code * 16 + '0123456789abcdef'.indexOf(ch.toLowerCase());
    }

    if (code > 0x10FFFF || ch !== '}') {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    } // UTF-16 Encoding


    if (code <= 0xFFFF) {
      return String.fromCharCode(code);
    }

    cu1 = (code - 0x10000 >> 10) + 0xD800;
    cu2 = (code - 0x10000 & 1023) + 0xDC00;
    return String.fromCharCode(cu1, cu2);
  }

  function getEscapedIdentifier() {
    var ch, id;
    ch = source.charCodeAt(index++);
    id = String.fromCharCode(ch); // '\u' (U+005C, U+0075) denotes an escaped character.

    if (ch === 0x5C) {
      if (source.charCodeAt(index) !== 0x75) {
        throwError({}, MessageUnexpectedToken, ILLEGAL);
      }

      ++index;
      ch = scanHexEscape('u');

      if (!ch || ch === '\\' || !isIdentifierStart(ch.charCodeAt(0))) {
        throwError({}, MessageUnexpectedToken, ILLEGAL);
      }

      id = ch;
    }

    while (index < length) {
      ch = source.charCodeAt(index);

      if (!isIdentifierPart(ch)) {
        break;
      }

      ++index;
      id += String.fromCharCode(ch); // '\u' (U+005C, U+0075) denotes an escaped character.

      if (ch === 0x5C) {
        id = id.substr(0, id.length - 1);

        if (source.charCodeAt(index) !== 0x75) {
          throwError({}, MessageUnexpectedToken, ILLEGAL);
        }

        ++index;
        ch = scanHexEscape('u');

        if (!ch || ch === '\\' || !isIdentifierPart(ch.charCodeAt(0))) {
          throwError({}, MessageUnexpectedToken, ILLEGAL);
        }

        id += ch;
      }
    }

    return id;
  }

  function getIdentifier() {
    var start, ch;
    start = index++;

    while (index < length) {
      ch = source.charCodeAt(index);

      if (ch === 0x5C) {
        // Blackslash (U+005C) marks Unicode escape sequence.
        index = start;
        return getEscapedIdentifier();
      }

      if (isIdentifierPart(ch)) {
        ++index;
      } else {
        break;
      }
    }

    return source.slice(start, index);
  }

  function scanIdentifier() {
    var start, id, type;
    start = index; // Backslash (U+005C) starts an escaped character.

    id = source.charCodeAt(index) === 0x5C ? getEscapedIdentifier() : getIdentifier(); // There is no keyword or literal with only one character.
    // Thus, it must be an identifier.

    if (id.length === 1) {
      type = TokenIdentifier;
    } else if (keywords.hasOwnProperty(id)) {
      // eslint-disable-line no-prototype-builtins
      type = TokenKeyword;
    } else if (id === 'null') {
      type = TokenNullLiteral;
    } else if (id === 'true' || id === 'false') {
      type = TokenBooleanLiteral;
    } else {
      type = TokenIdentifier;
    }

    return {
      type: type,
      value: id,
      start: start,
      end: index
    };
  } // 7.7 Punctuators


  function scanPunctuator() {
    var start = index,
        code = source.charCodeAt(index),
        code2,
        ch1 = source[index],
        ch2,
        ch3,
        ch4;

    switch (code) {
      // Check for most common single-character punctuators.
      case 0x2E: // . dot

      case 0x28: // ( open bracket

      case 0x29: // ) close bracket

      case 0x3B: // ; semicolon

      case 0x2C: // , comma

      case 0x7B: // { open curly brace

      case 0x7D: // } close curly brace

      case 0x5B: // [

      case 0x5D: // ]

      case 0x3A: // :

      case 0x3F: // ?

      case 0x7E:
        // ~
        ++index;
        return {
          type: TokenPunctuator,
          value: String.fromCharCode(code),
          start: start,
          end: index
        };

      default:
        code2 = source.charCodeAt(index + 1); // '=' (U+003D) marks an assignment or comparison operator.

        if (code2 === 0x3D) {
          switch (code) {
            case 0x2B: // +

            case 0x2D: // -

            case 0x2F: // /

            case 0x3C: // <

            case 0x3E: // >

            case 0x5E: // ^

            case 0x7C: // |

            case 0x25: // %

            case 0x26: // &

            case 0x2A:
              // *
              index += 2;
              return {
                type: TokenPunctuator,
                value: String.fromCharCode(code) + String.fromCharCode(code2),
                start: start,
                end: index
              };

            case 0x21: // !

            case 0x3D:
              // =
              index += 2; // !== and ===

              if (source.charCodeAt(index) === 0x3D) {
                ++index;
              }

              return {
                type: TokenPunctuator,
                value: source.slice(start, index),
                start: start,
                end: index
              };
          }
        }

    } // 4-character punctuator: >>>=


    ch4 = source.substr(index, 4);

    if (ch4 === '>>>=') {
      index += 4;
      return {
        type: TokenPunctuator,
        value: ch4,
        start: start,
        end: index
      };
    } // 3-character punctuators: === !== >>> <<= >>=


    ch3 = ch4.substr(0, 3);

    if (ch3 === '>>>' || ch3 === '<<=' || ch3 === '>>=') {
      index += 3;
      return {
        type: TokenPunctuator,
        value: ch3,
        start: start,
        end: index
      };
    } // Other 2-character punctuators: ++ -- << >> && ||


    ch2 = ch3.substr(0, 2);

    if (ch1 === ch2[1] && '+-<>&|'.indexOf(ch1) >= 0 || ch2 === '=>') {
      index += 2;
      return {
        type: TokenPunctuator,
        value: ch2,
        start: start,
        end: index
      };
    }

    if (ch2 === '//') {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    } // 1-character punctuators: < > = ! + - * % & | ^ /


    if ('<>=!+-*%&|^/'.indexOf(ch1) >= 0) {
      ++index;
      return {
        type: TokenPunctuator,
        value: ch1,
        start: start,
        end: index
      };
    }

    throwError({}, MessageUnexpectedToken, ILLEGAL);
  } // 7.8.3 Numeric Literals


  function scanHexLiteral(start) {
    let number = '';

    while (index < length) {
      if (!isHexDigit(source[index])) {
        break;
      }

      number += source[index++];
    }

    if (number.length === 0) {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }

    if (isIdentifierStart(source.charCodeAt(index))) {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }

    return {
      type: TokenNumericLiteral,
      value: parseInt('0x' + number, 16),
      start: start,
      end: index
    };
  }

  function scanOctalLiteral(start) {
    let number = '0' + source[index++];

    while (index < length) {
      if (!isOctalDigit(source[index])) {
        break;
      }

      number += source[index++];
    }

    if (isIdentifierStart(source.charCodeAt(index)) || isDecimalDigit(source.charCodeAt(index))) {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }

    return {
      type: TokenNumericLiteral,
      value: parseInt(number, 8),
      octal: true,
      start: start,
      end: index
    };
  }

  function scanNumericLiteral() {
    var number, start, ch;
    ch = source[index];
    assert(isDecimalDigit(ch.charCodeAt(0)) || ch === '.', 'Numeric literal must start with a decimal digit or a decimal point');
    start = index;
    number = '';

    if (ch !== '.') {
      number = source[index++];
      ch = source[index]; // Hex number starts with '0x'.
      // Octal number starts with '0'.

      if (number === '0') {
        if (ch === 'x' || ch === 'X') {
          ++index;
          return scanHexLiteral(start);
        }

        if (isOctalDigit(ch)) {
          return scanOctalLiteral(start);
        } // decimal number starts with '0' such as '09' is illegal.


        if (ch && isDecimalDigit(ch.charCodeAt(0))) {
          throwError({}, MessageUnexpectedToken, ILLEGAL);
        }
      }

      while (isDecimalDigit(source.charCodeAt(index))) {
        number += source[index++];
      }

      ch = source[index];
    }

    if (ch === '.') {
      number += source[index++];

      while (isDecimalDigit(source.charCodeAt(index))) {
        number += source[index++];
      }

      ch = source[index];
    }

    if (ch === 'e' || ch === 'E') {
      number += source[index++];
      ch = source[index];

      if (ch === '+' || ch === '-') {
        number += source[index++];
      }

      if (isDecimalDigit(source.charCodeAt(index))) {
        while (isDecimalDigit(source.charCodeAt(index))) {
          number += source[index++];
        }
      } else {
        throwError({}, MessageUnexpectedToken, ILLEGAL);
      }
    }

    if (isIdentifierStart(source.charCodeAt(index))) {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }

    return {
      type: TokenNumericLiteral,
      value: parseFloat(number),
      start: start,
      end: index
    };
  } // 7.8.4 String Literals


  function scanStringLiteral() {
    var str = '',
        quote,
        start,
        ch,
        code,
        octal = false;
    quote = source[index];
    assert(quote === '\'' || quote === '"', 'String literal must starts with a quote');
    start = index;
    ++index;

    while (index < length) {
      ch = source[index++];

      if (ch === quote) {
        quote = '';
        break;
      } else if (ch === '\\') {
        ch = source[index++];

        if (!ch || !isLineTerminator(ch.charCodeAt(0))) {
          switch (ch) {
            case 'u':
            case 'x':
              if (source[index] === '{') {
                ++index;
                str += scanUnicodeCodePointEscape();
              } else {
                str += scanHexEscape(ch);
              }

              break;

            case 'n':
              str += '\n';
              break;

            case 'r':
              str += '\r';
              break;

            case 't':
              str += '\t';
              break;

            case 'b':
              str += '\b';
              break;

            case 'f':
              str += '\f';
              break;

            case 'v':
              str += '\x0B';
              break;

            default:
              if (isOctalDigit(ch)) {
                code = '01234567'.indexOf(ch); // \0 is not octal escape sequence

                if (code !== 0) {
                  octal = true;
                }

                if (index < length && isOctalDigit(source[index])) {
                  octal = true;
                  code = code * 8 + '01234567'.indexOf(source[index++]); // 3 digits are only allowed when string starts
                  // with 0, 1, 2, 3

                  if ('0123'.indexOf(ch) >= 0 && index < length && isOctalDigit(source[index])) {
                    code = code * 8 + '01234567'.indexOf(source[index++]);
                  }
                }

                str += String.fromCharCode(code);
              } else {
                str += ch;
              }

              break;
          }
        } else {
          if (ch === '\r' && source[index] === '\n') {
            ++index;
          }
        }
      } else if (isLineTerminator(ch.charCodeAt(0))) {
        break;
      } else {
        str += ch;
      }
    }

    if (quote !== '') {
      throwError({}, MessageUnexpectedToken, ILLEGAL);
    }

    return {
      type: TokenStringLiteral,
      value: str,
      octal: octal,
      start: start,
      end: index
    };
  }

  function testRegExp(pattern, flags) {
    let tmp = pattern;

    if (flags.indexOf('u') >= 0) {
      // Replace each astral symbol and every Unicode code point
      // escape sequence with a single ASCII symbol to avoid throwing on
      // regular expressions that are only valid in combination with the
      // `/u` flag.
      // Note: replacing with the ASCII symbol `x` might cause false
      // negatives in unlikely scenarios. For example, `[\u{61}-b]` is a
      // perfectly valid pattern that is equivalent to `[a-b]`, but it
      // would be replaced by `[x-b]` which throws an error.
      tmp = tmp.replace(/\\u\{([0-9a-fA-F]+)\}/g, ($0, $1) => {
        if (parseInt($1, 16) <= 0x10FFFF) {
          return 'x';
        }

        throwError({}, MessageInvalidRegExp);
      }).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, 'x');
    } // First, detect invalid regular expressions.


    try {
      new RegExp(tmp);
    } catch (e) {
      throwError({}, MessageInvalidRegExp);
    } // Return a regular expression object for this pattern-flag pair, or
    // `null` in case the current environment doesn't support the flags it
    // uses.


    try {
      return new RegExp(pattern, flags);
    } catch (exception) {
      return null;
    }
  }

  function scanRegExpBody() {
    var ch, str, classMarker, terminated, body;
    ch = source[index];
    assert(ch === '/', 'Regular expression literal must start with a slash');
    str = source[index++];
    classMarker = false;
    terminated = false;

    while (index < length) {
      ch = source[index++];
      str += ch;

      if (ch === '\\') {
        ch = source[index++]; // ECMA-262 7.8.5

        if (isLineTerminator(ch.charCodeAt(0))) {
          throwError({}, MessageUnterminatedRegExp);
        }

        str += ch;
      } else if (isLineTerminator(ch.charCodeAt(0))) {
        throwError({}, MessageUnterminatedRegExp);
      } else if (classMarker) {
        if (ch === ']') {
          classMarker = false;
        }
      } else {
        if (ch === '/') {
          terminated = true;
          break;
        } else if (ch === '[') {
          classMarker = true;
        }
      }
    }

    if (!terminated) {
      throwError({}, MessageUnterminatedRegExp);
    } // Exclude leading and trailing slash.


    body = str.substr(1, str.length - 2);
    return {
      value: body,
      literal: str
    };
  }

  function scanRegExpFlags() {
    var ch, str, flags;
    str = '';
    flags = '';

    while (index < length) {
      ch = source[index];

      if (!isIdentifierPart(ch.charCodeAt(0))) {
        break;
      }

      ++index;

      if (ch === '\\' && index < length) {
        throwError({}, MessageUnexpectedToken, ILLEGAL);
      } else {
        flags += ch;
        str += ch;
      }
    }

    if (flags.search(/[^gimuy]/g) >= 0) {
      throwError({}, MessageInvalidRegExp, flags);
    }

    return {
      value: flags,
      literal: str
    };
  }

  function scanRegExp() {
    var start, body, flags, value;
    lookahead = null;
    skipComment();
    start = index;
    body = scanRegExpBody();
    flags = scanRegExpFlags();
    value = testRegExp(body.value, flags.value);
    return {
      literal: body.literal + flags.literal,
      value: value,
      regex: {
        pattern: body.value,
        flags: flags.value
      },
      start: start,
      end: index
    };
  }

  function isIdentifierName(token) {
    return token.type === TokenIdentifier || token.type === TokenKeyword || token.type === TokenBooleanLiteral || token.type === TokenNullLiteral;
  }

  function advance() {
    skipComment();

    if (index >= length) {
      return {
        type: TokenEOF,
        start: index,
        end: index
      };
    }

    const ch = source.charCodeAt(index);

    if (isIdentifierStart(ch)) {
      return scanIdentifier();
    } // Very common: ( and ) and ;


    if (ch === 0x28 || ch === 0x29 || ch === 0x3B) {
      return scanPunctuator();
    } // String literal starts with single quote (U+0027) or double quote (U+0022).


    if (ch === 0x27 || ch === 0x22) {
      return scanStringLiteral();
    } // Dot (.) U+002E can also start a floating-point number, hence the need
    // to check the next character.


    if (ch === 0x2E) {
      if (isDecimalDigit(source.charCodeAt(index + 1))) {
        return scanNumericLiteral();
      }

      return scanPunctuator();
    }

    if (isDecimalDigit(ch)) {
      return scanNumericLiteral();
    }

    return scanPunctuator();
  }

  function lex() {
    const token = lookahead;
    index = token.end;
    lookahead = advance();
    index = token.end;
    return token;
  }

  function peek() {
    const pos = index;
    lookahead = advance();
    index = pos;
  }

  function finishArrayExpression(elements) {
    const node = new ASTNode(SyntaxArrayExpression);
    node.elements = elements;
    return node;
  }

  function finishBinaryExpression(operator, left, right) {
    const node = new ASTNode(operator === '||' || operator === '&&' ? SyntaxLogicalExpression : SyntaxBinaryExpression);
    node.operator = operator;
    node.left = left;
    node.right = right;
    return node;
  }

  function finishCallExpression(callee, args) {
    const node = new ASTNode(SyntaxCallExpression);
    node.callee = callee;
    node.arguments = args;
    return node;
  }

  function finishConditionalExpression(test, consequent, alternate) {
    const node = new ASTNode(SyntaxConditionalExpression);
    node.test = test;
    node.consequent = consequent;
    node.alternate = alternate;
    return node;
  }

  function finishIdentifier(name) {
    const node = new ASTNode(SyntaxIdentifier);
    node.name = name;
    return node;
  }

  function finishLiteral(token) {
    const node = new ASTNode(SyntaxLiteral);
    node.value = token.value;
    node.raw = source.slice(token.start, token.end);

    if (token.regex) {
      if (node.raw === '//') {
        node.raw = '/(?:)/';
      }

      node.regex = token.regex;
    }

    return node;
  }

  function finishMemberExpression(accessor, object, property) {
    const node = new ASTNode(SyntaxMemberExpression);
    node.computed = accessor === '[';
    node.object = object;
    node.property = property;
    if (!node.computed) property.member = true;
    return node;
  }

  function finishObjectExpression(properties) {
    const node = new ASTNode(SyntaxObjectExpression);
    node.properties = properties;
    return node;
  }

  function finishProperty(kind, key, value) {
    const node = new ASTNode(SyntaxProperty);
    node.key = key;
    node.value = value;
    node.kind = kind;
    return node;
  }

  function finishUnaryExpression(operator, argument) {
    const node = new ASTNode(SyntaxUnaryExpression);
    node.operator = operator;
    node.argument = argument;
    node.prefix = true;
    return node;
  } // Throw an exception


  function throwError(token, messageFormat) {
    var error,
        args = Array.prototype.slice.call(arguments, 2),
        msg = messageFormat.replace(/%(\d)/g, (whole, index) => {
      assert(index < args.length, 'Message reference must be in range');
      return args[index];
    });
    error = new Error(msg);
    error.index = index;
    error.description = msg;
    throw error;
  } // Throw an exception because of the token.


  function throwUnexpected(token) {
    if (token.type === TokenEOF) {
      throwError(token, MessageUnexpectedEOS);
    }

    if (token.type === TokenNumericLiteral) {
      throwError(token, MessageUnexpectedNumber);
    }

    if (token.type === TokenStringLiteral) {
      throwError(token, MessageUnexpectedString);
    }

    if (token.type === TokenIdentifier) {
      throwError(token, MessageUnexpectedIdentifier);
    }

    if (token.type === TokenKeyword) {
      throwError(token, MessageUnexpectedReserved);
    } // BooleanLiteral, NullLiteral, or Punctuator.


    throwError(token, MessageUnexpectedToken, token.value);
  } // Expect the next token to match the specified punctuator.
  // If not, an exception will be thrown.


  function expect(value) {
    const token = lex();

    if (token.type !== TokenPunctuator || token.value !== value) {
      throwUnexpected(token);
    }
  } // Return true if the next token matches the specified punctuator.


  function match(value) {
    return lookahead.type === TokenPunctuator && lookahead.value === value;
  } // Return true if the next token matches the specified keyword


  function matchKeyword(keyword) {
    return lookahead.type === TokenKeyword && lookahead.value === keyword;
  } // 11.1.4 Array Initialiser


  function parseArrayInitialiser() {
    const elements = [];
    index = lookahead.start;
    expect('[');

    while (!match(']')) {
      if (match(',')) {
        lex();
        elements.push(null);
      } else {
        elements.push(parseConditionalExpression());

        if (!match(']')) {
          expect(',');
        }
      }
    }

    lex();
    return finishArrayExpression(elements);
  } // 11.1.5 Object Initialiser


  function parseObjectPropertyKey() {
    index = lookahead.start;
    const token = lex(); // Note: This function is called only from parseObjectProperty(), where
    // EOF and Punctuator tokens are already filtered out.

    if (token.type === TokenStringLiteral || token.type === TokenNumericLiteral) {
      if (token.octal) {
        throwError(token, MessageStrictOctalLiteral);
      }

      return finishLiteral(token);
    }

    return finishIdentifier(token.value);
  }

  function parseObjectProperty() {
    var token, key, id, value;
    index = lookahead.start;
    token = lookahead;

    if (token.type === TokenIdentifier) {
      id = parseObjectPropertyKey();
      expect(':');
      value = parseConditionalExpression();
      return finishProperty('init', id, value);
    }

    if (token.type === TokenEOF || token.type === TokenPunctuator) {
      throwUnexpected(token);
    } else {
      key = parseObjectPropertyKey();
      expect(':');
      value = parseConditionalExpression();
      return finishProperty('init', key, value);
    }
  }

  function parseObjectInitialiser() {
    var properties = [],
        property,
        name,
        key,
        map = {},
        toString = String;
    index = lookahead.start;
    expect('{');

    while (!match('}')) {
      property = parseObjectProperty();

      if (property.key.type === SyntaxIdentifier) {
        name = property.key.name;
      } else {
        name = toString(property.key.value);
      }

      key = '$' + name;

      if (Object.prototype.hasOwnProperty.call(map, key)) {
        throwError({}, MessageStrictDuplicateProperty);
      } else {
        map[key] = true;
      }

      properties.push(property);

      if (!match('}')) {
        expect(',');
      }
    }

    expect('}');
    return finishObjectExpression(properties);
  } // 11.1.6 The Grouping Operator


  function parseGroupExpression() {
    expect('(');
    const expr = parseExpression();
    expect(')');
    return expr;
  } // 11.1 Primary Expressions


  const legalKeywords = {
    'if': 1
  };

  function parsePrimaryExpression() {
    var type, token, expr;

    if (match('(')) {
      return parseGroupExpression();
    }

    if (match('[')) {
      return parseArrayInitialiser();
    }

    if (match('{')) {
      return parseObjectInitialiser();
    }

    type = lookahead.type;
    index = lookahead.start;

    if (type === TokenIdentifier || legalKeywords[lookahead.value]) {
      expr = finishIdentifier(lex().value);
    } else if (type === TokenStringLiteral || type === TokenNumericLiteral) {
      if (lookahead.octal) {
        throwError(lookahead, MessageStrictOctalLiteral);
      }

      expr = finishLiteral(lex());
    } else if (type === TokenKeyword) {
      throw new Error(DISABLED);
    } else if (type === TokenBooleanLiteral) {
      token = lex();
      token.value = token.value === 'true';
      expr = finishLiteral(token);
    } else if (type === TokenNullLiteral) {
      token = lex();
      token.value = null;
      expr = finishLiteral(token);
    } else if (match('/') || match('/=')) {
      expr = finishLiteral(scanRegExp());
      peek();
    } else {
      throwUnexpected(lex());
    }

    return expr;
  } // 11.2 Left-Hand-Side Expressions


  function parseArguments() {
    const args = [];
    expect('(');

    if (!match(')')) {
      while (index < length) {
        args.push(parseConditionalExpression());

        if (match(')')) {
          break;
        }

        expect(',');
      }
    }

    expect(')');
    return args;
  }

  function parseNonComputedProperty() {
    index = lookahead.start;
    const token = lex();

    if (!isIdentifierName(token)) {
      throwUnexpected(token);
    }

    return finishIdentifier(token.value);
  }

  function parseNonComputedMember() {
    expect('.');
    return parseNonComputedProperty();
  }

  function parseComputedMember() {
    expect('[');
    const expr = parseExpression();
    expect(']');
    return expr;
  }

  function parseLeftHandSideExpressionAllowCall() {
    var expr, args, property;
    expr = parsePrimaryExpression();

    for (;;) {
      if (match('.')) {
        property = parseNonComputedMember();
        expr = finishMemberExpression('.', expr, property);
      } else if (match('(')) {
        args = parseArguments();
        expr = finishCallExpression(expr, args);
      } else if (match('[')) {
        property = parseComputedMember();
        expr = finishMemberExpression('[', expr, property);
      } else {
        break;
      }
    }

    return expr;
  } // 11.3 Postfix Expressions


  function parsePostfixExpression() {
    const expr = parseLeftHandSideExpressionAllowCall();

    if (lookahead.type === TokenPunctuator) {
      if (match('++') || match('--')) {
        throw new Error(DISABLED);
      }
    }

    return expr;
  } // 11.4 Unary Operators


  function parseUnaryExpression() {
    var token, expr;

    if (lookahead.type !== TokenPunctuator && lookahead.type !== TokenKeyword) {
      expr = parsePostfixExpression();
    } else if (match('++') || match('--')) {
      throw new Error(DISABLED);
    } else if (match('+') || match('-') || match('~') || match('!')) {
      token = lex();
      expr = parseUnaryExpression();
      expr = finishUnaryExpression(token.value, expr);
    } else if (matchKeyword('delete') || matchKeyword('void') || matchKeyword('typeof')) {
      throw new Error(DISABLED);
    } else {
      expr = parsePostfixExpression();
    }

    return expr;
  }

  function binaryPrecedence(token) {
    let prec = 0;

    if (token.type !== TokenPunctuator && token.type !== TokenKeyword) {
      return 0;
    }

    switch (token.value) {
      case '||':
        prec = 1;
        break;

      case '&&':
        prec = 2;
        break;

      case '|':
        prec = 3;
        break;

      case '^':
        prec = 4;
        break;

      case '&':
        prec = 5;
        break;

      case '==':
      case '!=':
      case '===':
      case '!==':
        prec = 6;
        break;

      case '<':
      case '>':
      case '<=':
      case '>=':
      case 'instanceof':
      case 'in':
        prec = 7;
        break;

      case '<<':
      case '>>':
      case '>>>':
        prec = 8;
        break;

      case '+':
      case '-':
        prec = 9;
        break;

      case '*':
      case '/':
      case '%':
        prec = 11;
        break;
    }

    return prec;
  } // 11.5 Multiplicative Operators
  // 11.6 Additive Operators
  // 11.7 Bitwise Shift Operators
  // 11.8 Relational Operators
  // 11.9 Equality Operators
  // 11.10 Binary Bitwise Operators
  // 11.11 Binary Logical Operators


  function parseBinaryExpression() {
    var marker, markers, expr, token, prec, stack, right, operator, left, i;
    marker = lookahead;
    left = parseUnaryExpression();
    token = lookahead;
    prec = binaryPrecedence(token);

    if (prec === 0) {
      return left;
    }

    token.prec = prec;
    lex();
    markers = [marker, lookahead];
    right = parseUnaryExpression();
    stack = [left, token, right];

    while ((prec = binaryPrecedence(lookahead)) > 0) {
      // Reduce: make a binary expression from the three topmost entries.
      while (stack.length > 2 && prec <= stack[stack.length - 2].prec) {
        right = stack.pop();
        operator = stack.pop().value;
        left = stack.pop();
        markers.pop();
        expr = finishBinaryExpression(operator, left, right);
        stack.push(expr);
      } // Shift.


      token = lex();
      token.prec = prec;
      stack.push(token);
      markers.push(lookahead);
      expr = parseUnaryExpression();
      stack.push(expr);
    } // Final reduce to clean-up the stack.


    i = stack.length - 1;
    expr = stack[i];
    markers.pop();

    while (i > 1) {
      markers.pop();
      expr = finishBinaryExpression(stack[i - 1].value, stack[i - 2], expr);
      i -= 2;
    }

    return expr;
  } // 11.12 Conditional Operator


  function parseConditionalExpression() {
    var expr, consequent, alternate;
    expr = parseBinaryExpression();

    if (match('?')) {
      lex();
      consequent = parseConditionalExpression();
      expect(':');
      alternate = parseConditionalExpression();
      expr = finishConditionalExpression(expr, consequent, alternate);
    }

    return expr;
  } // 11.14 Comma Operator


  function parseExpression() {
    const expr = parseConditionalExpression();

    if (match(',')) {
      throw new Error(DISABLED); // no sequence expressions
    }

    return expr;
  }

  function parser(code) {
    source = code;
    index = 0;
    length = source.length;
    lookahead = null;
    peek();
    const expr = parseExpression();

    if (lookahead.type !== TokenEOF) {
      throw new Error('Unexpect token after expression.');
    }

    return expr;
  }

  var Constants = {
    NaN: 'NaN',
    E: 'Math.E',
    LN2: 'Math.LN2',
    LN10: 'Math.LN10',
    LOG2E: 'Math.LOG2E',
    LOG10E: 'Math.LOG10E',
    PI: 'Math.PI',
    SQRT1_2: 'Math.SQRT1_2',
    SQRT2: 'Math.SQRT2',
    MIN_VALUE: 'Number.MIN_VALUE',
    MAX_VALUE: 'Number.MAX_VALUE'
  };

  function Functions(codegen) {
    function fncall(name, args, cast, type) {
      let obj = codegen(args[0]);

      if (cast) {
        obj = cast + '(' + obj + ')';
        if (cast.lastIndexOf('new ', 0) === 0) obj = '(' + obj + ')';
      }

      return obj + '.' + name + (type < 0 ? '' : type === 0 ? '()' : '(' + args.slice(1).map(codegen).join(',') + ')');
    }

    function fn(name, cast, type) {
      return args => fncall(name, args, cast, type);
    }

    const DATE = 'new Date',
          STRING = 'String',
          REGEXP = 'RegExp';
    return {
      // MATH functions
      isNaN: 'Number.isNaN',
      isFinite: 'Number.isFinite',
      abs: 'Math.abs',
      acos: 'Math.acos',
      asin: 'Math.asin',
      atan: 'Math.atan',
      atan2: 'Math.atan2',
      ceil: 'Math.ceil',
      cos: 'Math.cos',
      exp: 'Math.exp',
      floor: 'Math.floor',
      log: 'Math.log',
      max: 'Math.max',
      min: 'Math.min',
      pow: 'Math.pow',
      random: 'Math.random',
      round: 'Math.round',
      sin: 'Math.sin',
      sqrt: 'Math.sqrt',
      tan: 'Math.tan',
      clamp: function (args) {
        if (args.length < 3) error('Missing arguments to clamp function.');
        if (args.length > 3) error('Too many arguments to clamp function.');
        const a = args.map(codegen);
        return 'Math.max(' + a[1] + ', Math.min(' + a[2] + ',' + a[0] + '))';
      },
      // DATE functions
      now: 'Date.now',
      utc: 'Date.UTC',
      datetime: DATE,
      date: fn('getDate', DATE, 0),
      day: fn('getDay', DATE, 0),
      year: fn('getFullYear', DATE, 0),
      month: fn('getMonth', DATE, 0),
      hours: fn('getHours', DATE, 0),
      minutes: fn('getMinutes', DATE, 0),
      seconds: fn('getSeconds', DATE, 0),
      milliseconds: fn('getMilliseconds', DATE, 0),
      time: fn('getTime', DATE, 0),
      timezoneoffset: fn('getTimezoneOffset', DATE, 0),
      utcdate: fn('getUTCDate', DATE, 0),
      utcday: fn('getUTCDay', DATE, 0),
      utcyear: fn('getUTCFullYear', DATE, 0),
      utcmonth: fn('getUTCMonth', DATE, 0),
      utchours: fn('getUTCHours', DATE, 0),
      utcminutes: fn('getUTCMinutes', DATE, 0),
      utcseconds: fn('getUTCSeconds', DATE, 0),
      utcmilliseconds: fn('getUTCMilliseconds', DATE, 0),
      // sequence functions
      length: fn('length', null, -1),
      join: fn('join', null),
      indexof: fn('indexOf', null),
      lastindexof: fn('lastIndexOf', null),
      slice: fn('slice', null),
      reverse: function (args) {
        return '(' + codegen(args[0]) + ').slice().reverse()';
      },
      // STRING functions
      parseFloat: 'parseFloat',
      parseInt: 'parseInt',
      upper: fn('toUpperCase', STRING, 0),
      lower: fn('toLowerCase', STRING, 0),
      substring: fn('substring', STRING),
      split: fn('split', STRING),
      replace: fn('replace', STRING),
      trim: fn('trim', STRING, 0),
      // REGEXP functions
      regexp: REGEXP,
      test: fn('test', REGEXP),
      // Control Flow functions
      if: function (args) {
        if (args.length < 3) error('Missing arguments to if function.');
        if (args.length > 3) error('Too many arguments to if function.');
        const a = args.map(codegen);
        return '(' + a[0] + '?' + a[1] + ':' + a[2] + ')';
      }
    };
  }

  function stripQuotes(s) {
    const n = s && s.length - 1;
    return n && (s[0] === '"' && s[n] === '"' || s[0] === '\'' && s[n] === '\'') ? s.slice(1, -1) : s;
  }

  function codegen(opt) {
    opt = opt || {};
    const allowed = opt.allowed ? toSet(opt.allowed) : {},
          forbidden = opt.forbidden ? toSet(opt.forbidden) : {},
          constants = opt.constants || Constants,
          functions = (opt.functions || Functions)(visit),
          globalvar = opt.globalvar,
          fieldvar = opt.fieldvar,
          outputGlobal = isFunction(globalvar) ? globalvar : id => "".concat(globalvar, "[\"").concat(id, "\"]");
    let globals = {},
        fields = {},
        memberDepth = 0;

    function visit(ast) {
      if (isString(ast)) return ast;
      const generator = Generators[ast.type];
      if (generator == null) error('Unsupported type: ' + ast.type);
      return generator(ast);
    }

    const Generators = {
      Literal: n => n.raw,
      Identifier: n => {
        const id = n.name;

        if (memberDepth > 0) {
          return id;
        } else if (has(forbidden, id)) {
          return error('Illegal identifier: ' + id);
        } else if (has(constants, id)) {
          return constants[id];
        } else if (has(allowed, id)) {
          return id;
        } else {
          globals[id] = 1;
          return outputGlobal(id);
        }
      },
      MemberExpression: n => {
        const d = !n.computed,
              o = visit(n.object);
        if (d) memberDepth += 1;
        const p = visit(n.property);

        if (o === fieldvar) {
          // strip quotes to sanitize field name (#1653)
          fields[stripQuotes(p)] = 1;
        }

        if (d) memberDepth -= 1;
        return o + (d ? '.' + p : '[' + p + ']');
      },
      CallExpression: n => {
        if (n.callee.type !== 'Identifier') {
          error('Illegal callee type: ' + n.callee.type);
        }

        const callee = n.callee.name,
              args = n.arguments,
              fn = has(functions, callee) && functions[callee];
        if (!fn) error('Unrecognized function: ' + callee);
        return isFunction(fn) ? fn(args) : fn + '(' + args.map(visit).join(',') + ')';
      },
      ArrayExpression: n => '[' + n.elements.map(visit).join(',') + ']',
      BinaryExpression: n => '(' + visit(n.left) + ' ' + n.operator + ' ' + visit(n.right) + ')',
      UnaryExpression: n => '(' + n.operator + visit(n.argument) + ')',
      ConditionalExpression: n => '(' + visit(n.test) + '?' + visit(n.consequent) + ':' + visit(n.alternate) + ')',
      LogicalExpression: n => '(' + visit(n.left) + n.operator + visit(n.right) + ')',
      ObjectExpression: n => '{' + n.properties.map(visit).join(',') + '}',
      Property: n => {
        memberDepth += 1;
        const k = visit(n.key);
        memberDepth -= 1;
        return k + ':' + visit(n.value);
      }
    };

    function codegen(ast) {
      const result = {
        code: visit(ast),
        globals: Object.keys(globals),
        fields: Object.keys(fields)
      };
      globals = {};
      fields = {};
      return result;
    }

    codegen.functions = functions;
    codegen.constants = constants;
    return codegen;
  }

  var vegaExpression_module = /*#__PURE__*/Object.freeze({
    __proto__: null,
    ASTNode: ASTNode,
    ArrayExpression: ArrayExpression,
    BinaryExpression: BinaryExpression,
    CallExpression: CallExpression,
    ConditionalExpression: ConditionalExpression,
    Identifier: Identifier,
    Literal: Literal,
    LogicalExpression: LogicalExpression,
    MemberExpression: MemberExpression,
    ObjectExpression: ObjectExpression,
    Property: Property,
    RawCode: RawCode,
    UnaryExpression: UnaryExpression,
    codegen: codegen,
    constants: Constants,
    functions: Functions,
    parse: parser
  });

  var TYPES = {
    QUANTITATIVE: 'quantitative',
    ORDINAL: 'ordinal',
    TEMPORAL: 'temporal',
    NOMINAL: 'nominal',
    GEOJSON: 'geojson'
  };
  var CHANNELS = ["x", "y", "color", "shape", "size", "text", "row", "column"];
  var OPS = ["equal", "lt", "lte", "gt", "gte", "range", "oneOf", "valid"];
  var LOGIC_OPS = ["and", "or", "not"];
  var constants = {
    TYPES: TYPES,
    CHANNELS: CHANNELS,
    OPS: OPS,
    LOGIC_OPS: LOGIC_OPS
  };

  function createCommonjsModule(fn, basedir, module) {
  	return module = {
  		path: basedir,
  		exports: {},
  		require: function (path, base) {
  			return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);
  		}
  	}, fn(module, module.exports), module.exports;
  }

  function getAugmentedNamespace(n) {
  	if (n.__esModule) return n;
  	var a = Object.defineProperty({}, '__esModule', {value: true});
  	Object.keys(n).forEach(function (k) {
  		var d = Object.getOwnPropertyDescriptor(n, k);
  		Object.defineProperty(a, k, d.get ? d : {
  			enumerable: true,
  			get: function () {
  				return n[k];
  			}
  		});
  	});
  	return a;
  }

  function commonjsRequire () {
  	throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
  }

  var util = createCommonjsModule(function (module, exports) {

    exports.isArray = Array.isArray || function (obj) {
      return {}.toString.call(obj) === '[object Array]';
    };

    function isString(item) {
      return typeof item === 'string' || item instanceof String;
    }

    exports.isString = isString;

    function isin(item, array) {
      return array.indexOf(item) !== -1;
    }

    exports.isin = isin;

    function json(s, sp) {
      return JSON.stringify(s, null, sp);
    }

    exports.json = json;

    function keys(obj) {
      var k = [],
          x;

      for (x in obj) {
        k.push(x);
      }

      return k;
    }

    exports.keys = keys;

    function duplicate(obj) {
      if (obj === undefined) {
        return undefined;
      }

      return JSON.parse(JSON.stringify(obj));
    }

    exports.duplicate = duplicate;
    exports.copy = duplicate;

    function forEach(obj, f, thisArg) {
      if (obj.forEach) {
        obj.forEach.call(thisArg, f);
      } else {
        for (var k in obj) {
          f.call(thisArg, obj[k], k, obj);
        }
      }
    }

    exports.forEach = forEach;

    function any(arr, f) {
      var i = 0,
          k;

      for (k in arr) {
        if (f(arr[k], k, i++)) {
          return true;
        }
      }

      return false;
    }

    exports.any = any;

    function nestedMap(collection, f, level, filter) {
      return level === 0 ? collection.map(f) : collection.map(function (v) {
        var r = nestedMap(v, f, level - 1);
        return filter ? r.filter(nonEmpty) : r;
      });
    }

    exports.nestedMap = nestedMap;

    function nestedReduce(collection, f, level, filter) {
      return level === 0 ? collection.reduce(f, []) : collection.map(function (v) {
        var r = nestedReduce(v, f, level - 1);
        return filter ? r.filter(nonEmpty) : r;
      });
    }

    exports.nestedReduce = nestedReduce;

    function nonEmpty(grp) {
      return !exports.isArray(grp) || grp.length > 0;
    }

    exports.nonEmpty = nonEmpty;

    function traverse(node, arr) {
      if (node.value !== undefined) {
        arr.push(node.value);
      } else {
        if (node.left) {
          traverse(node.left, arr);
        }

        if (node.right) {
          traverse(node.right, arr);
        }
      }

      return arr;
    }

    exports.traverse = traverse;

    function extend(obj, b) {
      var rest = [];

      for (var _i = 2; _i < arguments.length; _i++) {
        rest[_i - 2] = arguments[_i];
      }

      for (var x, name, i = 1, len = arguments.length; i < len; ++i) {
        x = arguments[i];

        for (name in x) {
          obj[name] = x[name];
        }
      }

      return obj;
    }

    exports.extend = extend;

    function union(arr1, arr2, accessor = d => d) {
      let result = [...arr1];
      return result.concat(arr2.filter(x => !arr1.find(y => accessor(x) === accessor(y))));
    }

    exports.union = union;

    (function (gen) {
      function getOpt(opt) {
        return (opt ? keys(opt) : []).reduce(function (c, k) {
          c[k] = opt[k];
          return c;
        }, Object.create({}));
      }

      gen.getOpt = getOpt;
    })(exports.gen || (exports.gen = {}));

    function powerset(list) {
      var ps = [[]];

      for (var i = 0; i < list.length; i++) {
        for (var j = 0, len = ps.length; j < len; j++) {
          ps.push(ps[j].concat(list[i]));
        }
      }

      return ps;
    }

    exports.powerset = powerset;

    function chooseKorLess(list, k) {
      var subset = [[]];

      for (var i = 0; i < list.length; i++) {
        for (var j = 0, len = subset.length; j < len; j++) {
          var sub = subset[j].concat(list[i]);

          if (sub.length <= k) {
            subset.push(sub);
          }
        }
      }

      return subset;
    }

    exports.chooseKorLess = chooseKorLess;

    function chooseK(list, k) {
      var subset = [[]];
      var kArray = [];

      for (var i = 0; i < list.length; i++) {
        for (var j = 0, len = subset.length; j < len; j++) {
          var sub = subset[j].concat(list[i]);

          if (sub.length < k) {
            subset.push(sub);
          } else if (sub.length === k) {
            kArray.push(sub);
          }
        }
      }

      return kArray;
    }

    exports.chooseK = chooseK;

    function cross(a, b) {
      var x = [];

      for (var i = 0; i < a.length; i++) {
        for (var j = 0; j < b.length; j++) {
          x.push(a[i].concat(b[j]));
        }
      }

      return x;
    }

    exports.cross = cross;

    function find(array, f, obj) {
      for (var i = 0; i < array.length; i += 1) {
        if (f(obj) === f(array[i])) {
          return i;
        }
      }

      return -1;
    }

    exports.find = find;

    function rawEqual(a, b) {
      return JSON.stringify(a) === JSON.stringify(b);
    }

    exports.rawEqual = rawEqual;

    function arrayDiff(a, b, f) {
      return a.filter(function (x) {
        if (!f) {
          return b.findIndex(y => deepEqual(x, y)) < 0;
        } else return find(b, f, x) < 0;
      });
    }

    exports.arrayDiff = arrayDiff;

    function unionObjectArray(a, b, f) {
      return arrayDiff(a, b, f).concat(b);
    }

    exports.unionObjectArray = unionObjectArray;

    function deepEqual(obj1, obj2) {
      if (obj1 === obj2) {
        return true;
      }

      if (isDate(obj1) && isDate(obj2)) {
        return Number(obj1) === Number(obj2);
      }

      if (typeof obj1 === "object" && obj1 !== undefined && typeof obj2 === "object" && obj2 !== undefined) {
        const props1 = Object.keys(obj1);
        const props2 = Object.keys(obj2);

        if (props1.length !== props2.length) {
          return false;
        }

        for (let i = 0; i < props1.length; i++) {
          const prop = props1[i];

          if (!Object.prototype.hasOwnProperty.call(obj2, prop) || !deepEqual(obj1[prop], obj2[prop])) {
            return false;
          }
        }

        return true;
      }

      return false;
    }

    exports.deepEqual = deepEqual;

    function isDate(o) {
      return o !== undefined && typeof o.getMonth === "function";
    } // partitioning the array into N_p arrays


    function partition(arr, N_p) {
      if (arr.length === N_p) {
        return [arr.map(item => [item])];
      } else if (N_p === 1) {
        return [[arr]];
      } else if (N_p > arr.length) {
        throw new Error("Cannot partition the array of ".concat(arr.length, " into ").concat(N_p, "."));
      } else if (arr.length === 0) {
        return;
      }

      let item = [arr[0]];
      let newArr = arr.slice(1);
      let results = partition(newArr, N_p - 1).map(pt => {
        let newPt = duplicate(pt);
        newPt.push(item);
        return newPt;
      });
      return partition(newArr, N_p).reduce((results, currPt) => {
        return results.concat(currPt.map((p, i, currPt) => {
          let newPt = duplicate(currPt);
          let newP = duplicate(p);
          newP.push(item[0]);
          newPt[i] = newP;
          return newPt;
        }));
      }, results);
    }

    exports.partition = partition;

    function permutate(arr) {
      if (arr.length === 1) {
        return [arr];
      }

      if (arr.length === 2) {
        return [arr, [arr[1], arr[0]]];
      }

      return arr.reduce((acc, anchor, i) => {
        const workingArr = duplicate(arr);
        workingArr.splice(i, 1);
        acc = acc.concat(permutate(workingArr).map(newArr => {
          return [anchor].concat(newArr);
        }));
        return acc;
      }, []);
    }

    exports.permutate = permutate;

    function intersection(arr1, arr2, accessor = d => d) {
      return arr2.filter(x => arr1.filter(y => accessor(x) === accessor(y)).length > 0);
    }

    exports.intersection = intersection;

    function unique(arr, accessor = d => d) {
      let maps = arr.map(accessor).reduce((acc, curr) => {
        acc[curr] = true;
        return acc;
      }, {});
      return Object.keys(maps);
    }

    exports.unique = unique;
  });

  var DEFAULT_EDIT_OPS = {
    "markEditOps": {
      "AREA_BAR": {
        "name": "AREA_BAR",
        "cost": 0.03
      },
      "AREA_LINE": {
        "name": "AREA_LINE",
        "cost": 0.02
      },
      "AREA_POINT": {
        "name": "AREA_POINT",
        "cost": 0.04
      },
      "AREA_TEXT": {
        "name": "AREA_TEXT",
        "cost": 0.08
      },
      "AREA_TICK": {
        "name": "AREA_TICK",
        "cost": 0.04
      },
      "BAR_LINE": {
        "name": "BAR_LINE",
        "cost": 0.04
      },
      "BAR_POINT": {
        "name": "BAR_POINT",
        "cost": 0.02
      },
      "BAR_TEXT": {
        "name": "BAR_TEXT",
        "cost": 0.06
      },
      "BAR_TICK": {
        "name": "BAR_TICK",
        "cost": 0.02
      },
      "LINE_POINT": {
        "name": "LINE_POINT",
        "cost": 0.03
      },
      "LINE_TEXT": {
        "name": "LINE_TEXT",
        "cost": 0.07
      },
      "LINE_TICK": {
        "name": "LINE_TICK",
        "cost": 0.03
      },
      "POINT_TEXT": {
        "name": "POINT_TEXT",
        "cost": 0.05
      },
      "POINT_TICK": {
        "name": "POINT_TICK",
        "cost": 0.01
      },
      "TEXT_TICK": {
        "name": "TEXT_TICK",
        "cost": 0.05
      }
    },
    "transformEditOps": {
      "SCALE": {
        "name": "SCALE",
        "cost": 0.6
      },
      "SORT": {
        "name": "SORT",
        "cost": 0.61
      },
      "BIN": {
        "name": "BIN",
        "cost": 0.62
      },
      "AGGREGATE": {
        "name": "AGGREGATE",
        "cost": 0.63
      },
      "ADD_FILTER": {
        "name": "ADD_FILTER",
        "cost": 0.65
      },
      "REMOVE_FILTER": {
        "name": "REMOVE_FILTER",
        "cost": 0.65
      },
      "MODIFY_FILTER": {
        "name": "MODIFY_FILTER",
        "cost": 0.64
      }
    },
    "encodingEditOps": {
      "ADD_X": {
        "name": "ADD_X",
        "cost": 4.59
      },
      "ADD_Y": {
        "name": "ADD_Y",
        "cost": 4.59
      },
      "ADD_COLOR": {
        "name": "ADD_COLOR",
        "cost": 4.55
      },
      "ADD_SHAPE": {
        "name": "ADD_SHAPE",
        "cost": 4.51
      },
      "ADD_SIZE": {
        "name": "ADD_SIZE",
        "cost": 4.53
      },
      "ADD_ROW": {
        "name": "ADD_ROW",
        "cost": 4.57
      },
      "ADD_COLUMN": {
        "name": "ADD_COLUMN",
        "cost": 4.57
      },
      "ADD_TEXT": {
        "name": "ADD_TEXT",
        "cost": 4.49
      },
      "ADD_X_COUNT": {
        "name": "ADD_X_COUNT",
        "cost": 4.58
      },
      "ADD_Y_COUNT": {
        "name": "ADD_Y_COUNT",
        "cost": 4.58
      },
      "ADD_COLOR_COUNT": {
        "name": "ADD_COLOR_COUNT",
        "cost": 4.54
      },
      "ADD_SHAPE_COUNT": {
        "name": "ADD_SHAPE_COUNT",
        "cost": 4.5
      },
      "ADD_SIZE_COUNT": {
        "name": "ADD_SIZE_COUNT",
        "cost": 4.52
      },
      "ADD_ROW_COUNT": {
        "name": "ADD_ROW_COUNT",
        "cost": 4.56
      },
      "ADD_COLUMN_COUNT": {
        "name": "ADD_COLUMN_COUNT",
        "cost": 4.56
      },
      "ADD_TEXT_COUNT": {
        "name": "ADD_TEXT_COUNT",
        "cost": 4.48
      },
      "REMOVE_X_COUNT": {
        "name": "REMOVE_X_COUNT",
        "cost": 4.58
      },
      "REMOVE_Y_COUNT": {
        "name": "REMOVE_Y_COUNT",
        "cost": 4.58
      },
      "REMOVE_COLOR_COUNT": {
        "name": "REMOVE_COLOR_COUNT",
        "cost": 4.54
      },
      "REMOVE_SHAPE_COUNT": {
        "name": "REMOVE_SHAPE_COUNT",
        "cost": 4.5
      },
      "REMOVE_SIZE_COUNT": {
        "name": "REMOVE_SIZE_COUNT",
        "cost": 4.52
      },
      "REMOVE_ROW_COUNT": {
        "name": "REMOVE_ROW_COUNT",
        "cost": 4.56
      },
      "REMOVE_COLUMN_COUNT": {
        "name": "REMOVE_COLUMN_COUNT",
        "cost": 4.56
      },
      "REMOVE_TEXT_COUNT": {
        "name": "REMOVE_TEXT_COUNT",
        "cost": 4.48
      },
      "REMOVE_X": {
        "name": "REMOVE_X",
        "cost": 4.59
      },
      "REMOVE_Y": {
        "name": "REMOVE_Y",
        "cost": 4.59
      },
      "REMOVE_COLOR": {
        "name": "REMOVE_COLOR",
        "cost": 4.55
      },
      "REMOVE_SHAPE": {
        "name": "REMOVE_SHAPE",
        "cost": 4.51
      },
      "REMOVE_SIZE": {
        "name": "REMOVE_SIZE",
        "cost": 4.53
      },
      "REMOVE_ROW": {
        "name": "REMOVE_ROW",
        "cost": 4.57
      },
      "REMOVE_COLUMN": {
        "name": "REMOVE_COLUMN",
        "cost": 4.57
      },
      "REMOVE_TEXT": {
        "name": "REMOVE_TEXT",
        "cost": 4.49
      },
      "MODIFY_X": {
        "name": "MODIFY_X",
        "cost": 4.71
      },
      "MODIFY_Y": {
        "name": "MODIFY_Y",
        "cost": 4.71
      },
      "MODIFY_COLOR": {
        "name": "MODIFY_COLOR",
        "cost": 4.67
      },
      "MODIFY_SHAPE": {
        "name": "MODIFY_SHAPE",
        "cost": 4.63
      },
      "MODIFY_SIZE": {
        "name": "MODIFY_SIZE",
        "cost": 4.65
      },
      "MODIFY_ROW": {
        "name": "MODIFY_ROW",
        "cost": 4.69
      },
      "MODIFY_COLUMN": {
        "name": "MODIFY_COLUMN",
        "cost": 4.69
      },
      "MODIFY_TEXT": {
        "name": "MODIFY_TEXT",
        "cost": 4.61
      },
      "MODIFY_X_ADD_COUNT": {
        "name": "MODIFY_X_ADD_COUNT",
        "cost": 4.7
      },
      "MODIFY_Y_ADD_COUNT": {
        "name": "MODIFY_Y_ADD_COUNT",
        "cost": 4.7
      },
      "MODIFY_COLOR_ADD_COUNT": {
        "name": "MODIFY_COLOR_ADD_COUNT",
        "cost": 4.66
      },
      "MODIFY_SHAPE_ADD_COUNT": {
        "name": "MODIFY_SHAPE_ADD_COUNT",
        "cost": 4.62
      },
      "MODIFY_SIZE_ADD_COUNT": {
        "name": "MODIFY_SIZE_ADD_COUNT",
        "cost": 4.64
      },
      "MODIFY_ROW_ADD_COUNT": {
        "name": "MODIFY_ROW_ADD_COUNT",
        "cost": 4.68
      },
      "MODIFY_COLUMN_ADD_COUNT": {
        "name": "MODIFY_COLUMN_ADD_COUNT",
        "cost": 4.68
      },
      "MODIFY_TEXT_ADD_COUNT": {
        "name": "MODIFY_TEXT_ADD_COUNT",
        "cost": 4.6
      },
      "MODIFY_X_REMOVE_COUNT": {
        "name": "MODIFY_X_REMOVE_COUNT",
        "cost": 4.7
      },
      "MODIFY_Y_REMOVE_COUNT": {
        "name": "MODIFY_Y_REMOVE_COUNT",
        "cost": 4.7
      },
      "MODIFY_COLOR_REMOVE_COUNT": {
        "name": "MODIFY_COLOR_REMOVE_COUNT",
        "cost": 4.66
      },
      "MODIFY_SHAPE_REMOVE_COUNT": {
        "name": "MODIFY_SHAPE_REMOVE_COUNT",
        "cost": 4.62
      },
      "MODIFY_SIZE_REMOVE_COUNT": {
        "name": "MODIFY_SIZE_REMOVE_COUNT",
        "cost": 4.64
      },
      "MODIFY_ROW_REMOVE_COUNT": {
        "name": "MODIFY_ROW_REMOVE_COUNT",
        "cost": 4.68
      },
      "MODIFY_COLUMN_REMOVE_COUNT": {
        "name": "MODIFY_COLUMN_REMOVE_COUNT",
        "cost": 4.68
      },
      "MODIFY_TEXT_REMOVE_COUNT": {
        "name": "MODIFY_TEXT_REMOVE_COUNT",
        "cost": 4.6
      },
      "MOVE_X_ROW": {
        "name": "MOVE_X_ROW",
        "cost": 4.45
      },
      "MOVE_X_COLUMN": {
        "name": "MOVE_X_COLUMN",
        "cost": 4.43
      },
      "MOVE_X_SIZE": {
        "name": "MOVE_X_SIZE",
        "cost": 4.46
      },
      "MOVE_X_SHAPE": {
        "name": "MOVE_X_SHAPE",
        "cost": 4.46
      },
      "MOVE_X_COLOR": {
        "name": "MOVE_X_COLOR",
        "cost": 4.46
      },
      "MOVE_X_Y": {
        "name": "MOVE_X_Y",
        "cost": 4.44
      },
      "MOVE_X_TEXT": {
        "name": "MOVE_X_TEXT",
        "cost": 4.46
      },
      "MOVE_Y_ROW": {
        "name": "MOVE_Y_ROW",
        "cost": 4.43
      },
      "MOVE_Y_COLUMN": {
        "name": "MOVE_Y_COLUMN",
        "cost": 4.45
      },
      "MOVE_Y_SIZE": {
        "name": "MOVE_Y_SIZE",
        "cost": 4.46
      },
      "MOVE_Y_SHAPE": {
        "name": "MOVE_Y_SHAPE",
        "cost": 4.46
      },
      "MOVE_Y_COLOR": {
        "name": "MOVE_Y_COLOR",
        "cost": 4.46
      },
      "MOVE_Y_X": {
        "name": "MOVE_Y_X",
        "cost": 4.44
      },
      "MOVE_Y_TEXT": {
        "name": "MOVE_Y_TEXT",
        "cost": 4.46
      },
      "MOVE_COLOR_ROW": {
        "name": "MOVE_COLOR_ROW",
        "cost": 4.47
      },
      "MOVE_COLOR_COLUMN": {
        "name": "MOVE_COLOR_COLUMN",
        "cost": 4.47
      },
      "MOVE_COLOR_SIZE": {
        "name": "MOVE_COLOR_SIZE",
        "cost": 4.43
      },
      "MOVE_COLOR_SHAPE": {
        "name": "MOVE_COLOR_SHAPE",
        "cost": 4.43
      },
      "MOVE_COLOR_Y": {
        "name": "MOVE_COLOR_Y",
        "cost": 4.46
      },
      "MOVE_COLOR_X": {
        "name": "MOVE_COLOR_X",
        "cost": 4.46
      },
      "MOVE_COLOR_TEXT": {
        "name": "MOVE_COLOR_TEXT",
        "cost": 4.43
      },
      "MOVE_SHAPE_ROW": {
        "name": "MOVE_SHAPE_ROW",
        "cost": 4.47
      },
      "MOVE_SHAPE_COLUMN": {
        "name": "MOVE_SHAPE_COLUMN",
        "cost": 4.47
      },
      "MOVE_SHAPE_SIZE": {
        "name": "MOVE_SHAPE_SIZE",
        "cost": 4.43
      },
      "MOVE_SHAPE_COLOR": {
        "name": "MOVE_SHAPE_COLOR",
        "cost": 4.43
      },
      "MOVE_SHAPE_Y": {
        "name": "MOVE_SHAPE_Y",
        "cost": 4.46
      },
      "MOVE_SHAPE_X": {
        "name": "MOVE_SHAPE_X",
        "cost": 4.46
      },
      "MOVE_SHAPE_TEXT": {
        "name": "MOVE_SHAPE_TEXT",
        "cost": 4.43
      },
      "MOVE_SIZE_ROW": {
        "name": "MOVE_SIZE_ROW",
        "cost": 4.47
      },
      "MOVE_SIZE_COLUMN": {
        "name": "MOVE_SIZE_COLUMN",
        "cost": 4.47
      },
      "MOVE_SIZE_SHAPE": {
        "name": "MOVE_SIZE_SHAPE",
        "cost": 4.43
      },
      "MOVE_SIZE_COLOR": {
        "name": "MOVE_SIZE_COLOR",
        "cost": 4.43
      },
      "MOVE_SIZE_Y": {
        "name": "MOVE_SIZE_Y",
        "cost": 4.46
      },
      "MOVE_SIZE_X": {
        "name": "MOVE_SIZE_X",
        "cost": 4.46
      },
      "MOVE_SIZE_TEXT": {
        "name": "MOVE_SIZE_TEXT",
        "cost": 4.43
      },
      "MOVE_TEXT_ROW": {
        "name": "MOVE_TEXT_ROW",
        "cost": 4.47
      },
      "MOVE_TEXT_COLUMN": {
        "name": "MOVE_TEXT_COLUMN",
        "cost": 4.47
      },
      "MOVE_TEXT_SHAPE": {
        "name": "MOVE_TEXT_SHAPE",
        "cost": 4.43
      },
      "MOVE_TEXT_COLOR": {
        "name": "MOVE_TEXT_COLOR",
        "cost": 4.43
      },
      "MOVE_TEXT_Y": {
        "name": "MOVE_TEXT_Y",
        "cost": 4.46
      },
      "MOVE_TEXT_X": {
        "name": "MOVE_TEXT_X",
        "cost": 4.46
      },
      "MOVE_TEXT_SIZE": {
        "name": "MOVE_TEXT_SIZE",
        "cost": 4.43
      },
      "MOVE_COLUMN_ROW": {
        "name": "MOVE_COLUMN_ROW",
        "cost": 4.44
      },
      "MOVE_COLUMN_SIZE": {
        "name": "MOVE_COLUMN_SIZE",
        "cost": 4.47
      },
      "MOVE_COLUMN_SHAPE": {
        "name": "MOVE_COLUMN_SHAPE",
        "cost": 4.47
      },
      "MOVE_COLUMN_COLOR": {
        "name": "MOVE_COLUMN_COLOR",
        "cost": 4.47
      },
      "MOVE_COLUMN_Y": {
        "name": "MOVE_COLUMN_Y",
        "cost": 4.45
      },
      "MOVE_COLUMN_X": {
        "name": "MOVE_COLUMN_X",
        "cost": 4.43
      },
      "MOVE_COLUMN_TEXT": {
        "name": "MOVE_COLUMN_TEXT",
        "cost": 4.47
      },
      "MOVE_ROW_COLUMN": {
        "name": "MOVE_ROW_COLUMN",
        "cost": 4.44
      },
      "MOVE_ROW_SIZE": {
        "name": "MOVE_ROW_SIZE",
        "cost": 4.47
      },
      "MOVE_ROW_SHAPE": {
        "name": "MOVE_ROW_SHAPE",
        "cost": 4.47
      },
      "MOVE_ROW_COLOR": {
        "name": "MOVE_ROW_COLOR",
        "cost": 4.47
      },
      "MOVE_ROW_Y": {
        "name": "MOVE_ROW_Y",
        "cost": 4.43
      },
      "MOVE_ROW_X": {
        "name": "MOVE_ROW_X",
        "cost": 4.45
      },
      "MOVE_ROW_TEXT": {
        "name": "MOVE_ROW_TEXT",
        "cost": 4.47
      },
      "SWAP_X_Y": {
        "name": "SWAP_X_Y",
        "cost": 4.42
      },
      "SWAP_ROW_COLUMN": {
        "name": "SWAP_ROW_COLUMN",
        "cost": 4.41
      },
      "ceiling": {
        "cost": 47.1,
        "alternatingCost": 51.81
      }
    }
  };
  var editOpSet = {
    DEFAULT_EDIT_OPS: DEFAULT_EDIT_OPS
  };

  function neighbors(spec, additionalFields, additionalChannels, importedEncodingEditOps) {
    var neighbors = [];
    var encodingEditOps = importedEncodingEditOps || editOpSet.DEFAULT_ENCODING_EDIT_OPS;
    var inChannels = util.keys(spec.encoding);
    var exChannels = additionalChannels;
    inChannels.forEach(function (channel) {
      var newNeighbor = util.duplicate(spec);
      var editOpType = "REMOVE_" + channel.toUpperCase();
      editOpType += spec.encoding[channel].field === "*" ? "_COUNT" : "";
      var editOp = util.duplicate(encodingEditOps[editOpType]);
      var newAdditionalFields = util.duplicate(additionalFields);

      if (util.find(newAdditionalFields, util.rawEqual, newNeighbor.encoding[channel]) === -1) {
        newAdditionalFields.push(newNeighbor.encoding[channel]);
      }

      var newAdditionalChannels = util.duplicate(additionalChannels);
      editOp.detail = {
        "before": {
          "field": newNeighbor.encoding[channel].field,
          channel
        },
        "after": undefined
      };
      newAdditionalChannels.push(channel);
      delete newNeighbor.encoding[channel];

      {
        newNeighbor.editOp = editOp;
        newNeighbor.additionalFields = newAdditionalFields;
        newNeighbor.additionalChannels = newAdditionalChannels;
        neighbors.push(newNeighbor);
      }
      additionalFields.forEach(function (field, index) {
        if (field.field !== spec.encoding[channel].field || field.type !== spec.encoding[channel].type) {
          newNeighbor = util.duplicate(spec);
          editOpType = "MODIFY_" + channel.toUpperCase();

          if (spec.encoding[channel].field === "*" && field.field !== "*") {
            editOpType += "_REMOVE_COUNT";
          } else if (spec.encoding[channel].field !== "*" && field.field === "*") {
            editOpType += "_ADD_COUNT";
          }

          editOp = util.duplicate(encodingEditOps[editOpType]);
          newAdditionalFields = util.duplicate(additionalFields);
          newAdditionalFields.splice(index, 1);

          if (util.find(newAdditionalFields, util.rawEqual, newNeighbor.encoding[channel]) === -1) {
            newAdditionalFields.push(newNeighbor.encoding[channel]);
          }

          newAdditionalChannels = util.duplicate(additionalChannels);
          newNeighbor.encoding[channel] = field;
          editOp.detail = {
            "before": { ...spec.encoding[channel],
              channel
            },
            "after": { ...field,
              channel
            }
          };

          {
            newNeighbor.editOp = editOp;
            newNeighbor.additionalFields = newAdditionalFields;
            newNeighbor.additionalChannels = newAdditionalChannels;
            neighbors.push(newNeighbor);
          }
        }
      });
      inChannels.forEach(function (anotherChannel) {
        if (anotherChannel === channel || ["x", "y"].indexOf(channel) < 0 || ["x", "y"].indexOf(anotherChannel) < 0) {
          return;
        }

        newNeighbor = util.duplicate(spec);
        editOp = util.duplicate(encodingEditOps["SWAP_X_Y"]);
        newAdditionalFields = util.duplicate(additionalFields);
        newAdditionalChannels = util.duplicate(additionalChannels);
        var tempChannel = util.duplicate(newNeighbor.encoding[channel]);
        newNeighbor.encoding[channel] = newNeighbor.encoding[anotherChannel];
        newNeighbor.encoding[anotherChannel] = tempChannel;
        editOp.detail = {
          "before": {
            "field": spec.encoding["x"].field,
            "channel": "x"
          },
          "after": {
            "field": spec.encoding["y"].field,
            "channel": "y"
          }
        };

        {
          newNeighbor.editOp = editOp;
          newNeighbor.additionalFields = newAdditionalFields;
          newNeighbor.additionalChannels = newAdditionalChannels;
          neighbors.push(newNeighbor);
        }
      });
      exChannels.forEach(function (exChannel, index) {
        newNeighbor = util.duplicate(spec);
        var newNeighborChannels = (channel + "_" + exChannel).toUpperCase();
        editOp = util.duplicate(encodingEditOps["MOVE_" + newNeighborChannels]);
        newAdditionalFields = util.duplicate(additionalFields);
        newAdditionalChannels = util.duplicate(additionalChannels);
        newAdditionalChannels.splice(index, 1);
        newAdditionalChannels.push(channel);
        newNeighbor.encoding[exChannel] = util.duplicate(newNeighbor.encoding[channel]);
        delete newNeighbor.encoding[channel];
        editOp.detail = {
          "before": {
            channel
          },
          "after": {
            "channel": exChannel
          }
        };

        {
          newNeighbor.editOp = editOp;
          newNeighbor.additionalFields = newAdditionalFields;
          newNeighbor.additionalChannels = newAdditionalChannels;
          neighbors.push(newNeighbor);
        }
      });
    });
    exChannels.forEach(function (channel, chIndex) {
      additionalFields.forEach(function (field, index) {
        var newNeighbor = util.duplicate(spec);
        var editOpType = "ADD_" + channel.toUpperCase();
        editOpType += field.field === "*" ? "_COUNT" : "";
        var editOp = util.duplicate(encodingEditOps[editOpType]);
        var newAdditionalFields = util.duplicate(additionalFields);
        var newAdditionalChannels = util.duplicate(additionalChannels);
        newAdditionalFields.splice(index, 1);
        newNeighbor.encoding[channel] = field;
        newAdditionalChannels.splice(chIndex, 1);
        editOp.detail = {
          "before": undefined,
          "after": {
            "field": field.field,
            channel
          }
        };

        {
          newNeighbor.editOp = editOp;
          newNeighbor.additionalFields = newAdditionalFields;
          newNeighbor.additionalChannels = newAdditionalChannels;
          neighbors.push(newNeighbor);
        }
      });
    });

    for (var i = 0; i < neighbors.length; i += 1) {
      for (var j = i + 1; j < neighbors.length; j += 1) {
        if (sameEncoding(neighbors[i].encoding, neighbors[j].encoding)) {
          neighbors.splice(j, 1);
          j -= 1;
        }
      }
    }

    return neighbors;
  }

  var neighbors_1 = neighbors;

  function sameEncoding(a, b) {
    var aKeys = util.keys(a);
    var bKeys = util.keys(b);

    if (aKeys.length !== bKeys.length) {
      return false;
    }

    var allKeys = util.union(aKeys, bKeys);

    for (var i = 0; i < allKeys.length; i += 1) {
      var key = allKeys[i];

      if (!(a[key] && b[key])) {
        return false;
      }

      if (a[key].field !== b[key].field || a[key].type !== b[key].type) {
        return false;
      }
    }

    return true;
  }

  var sameEncoding_1 = sameEncoding;
  var neighbor = {
    neighbors: neighbors_1,
    sameEncoding: sameEncoding_1
  };

  var expr = /*@__PURE__*/getAugmentedNamespace(vegaExpression_module);

  const {
    TYPES: TYPES$1,
    CHANNELS: CHANNELS$1,
    OPS: OPS$1,
    LOGIC_OPS: LOGIC_OPS$1
  } = constants;
  const DEFAULT_EDIT_OPS$1 = editOpSet.DEFAULT_EDIT_OPS;

  async function transition(s, d, importedTransitionCosts, transOptions) {
    var importedMarkEditOps = importedTransitionCosts ? importedTransitionCosts.markEditOps : DEFAULT_EDIT_OPS$1["markEditOps"];
    var importedTransformEditOps = importedTransitionCosts ? importedTransitionCosts.transformEditOps : DEFAULT_EDIT_OPS$1["transformEditOps"];
    var importedEncodingEditOps = importedTransitionCosts ? importedTransitionCosts.encodingEditOps : DEFAULT_EDIT_OPS$1["encodingEditOps"];

    let _transformEditOps = await transformEditOps(s, d, importedTransformEditOps, transOptions);

    var trans = {
      mark: markEditOps(s, d, importedMarkEditOps).map(eo => {
        return { ...eo,
          type: "mark"
        };
      }),
      transform: _transformEditOps.map(eo => {
        return { ...eo,
          type: "transform"
        };
      }),
      encoding: encodingEditOps(s, d, importedEncodingEditOps).map(eo => {
        return { ...eo,
          type: "encoding"
        };
      })
    }; //Todo: if there is a MOVE_A_B and the field has Transform, ignore the transform

    const re = new RegExp("^MOVE_");
    trans.transform = trans.transform.filter(editOp => {
      if (editOp.name.indexOf("FILTER") >= 0) {
        return true;
      }

      let moveEditOps = trans.encoding.filter(eo => re.test(eo.name));

      if (moveEditOps.length === 0) {
        return true;
      }

      moveEditOps.forEach(moveEditOp => {
        let sChannel = moveEditOp.detail.before.channel,
            dChannel = moveEditOp.detail.after.channel;
        let removed = editOp.detail.findIndex(dt => dt.how === "removed" && dt.channel === sChannel);
        let added = editOp.detail.findIndex(dt => dt.how === "added" && dt.channel === dChannel);

        if (removed >= 0 && added >= 0) {
          editOp.detail = editOp.detail.filter((dt, i) => [removed, added].indexOf(i) < 0);
        }
      });
      return editOp.detail.length > 0;
    });
    var cost = 0;
    cost = trans.encoding.reduce(function (prev, editOp) {
      if (editOp.name.indexOf('_COUNT') >= 0) {
        var channel = editOp.name.replace(/COUNT/g, '').replace(/ADD/g, '').replace(/REMOVE/g, '').replace(/MODIFY/g, '').replace(/_/g, '').toLowerCase();
        var aggEditOp = trans.transform.filter(function (editOp) {
          return editOp.name === "AGGREGATE";
        })[0];

        if (aggEditOp && aggEditOp.detail.length === 1 && aggEditOp.detail.filter(function (dt) {
          return dt.channel.toLowerCase() === channel;
        }).length) {
          aggEditOp.cost = 0;
        }

        var binEditOp = trans.transform.filter(function (editOp) {
          return editOp.name === "BIN";
        })[0];

        if (binEditOp && binEditOp.detail.filter(function (dt) {
          if (dt.how === "added") {
            return d.encoding[dt.channel].type === TYPES$1.QUANTITATIVE;
          } else {
            return s.encoding[dt.channel].type === TYPES$1.QUANTITATIVE;
          }
        }).length > 0) {
          binEditOp.cost = 0;
        }
      }

      prev += editOp.cost;
      return prev;
    }, cost);
    cost = trans.mark.reduce(function (prev, editOp) {
      prev += editOp.cost;
      return prev;
    }, cost);
    cost = trans.transform.reduce(function (prev, editOp) {
      prev += editOp.cost;
      return prev;
    }, cost);
    return { ...trans,
      cost
    };
  }

  var transition_1 = transition;

  function markEditOps(s, d, importedMarkEditOps) {
    var editOps = [];
    var markEditOps = importedMarkEditOps || DEFAULT_EDIT_OPS$1["markEditOps"];
    var newEditOp;
    const sMarkType = typeof s.mark === "object" ? s.mark.type : s.mark;
    const dMarkType = typeof d.mark === "object" ? d.mark.type : d.mark;

    if (!sMarkType || !dMarkType || sMarkType === dMarkType || sMarkType === "null" || dMarkType === "null") {
      return editOps;
    } else {
      var editOpName = [sMarkType.toUpperCase(), dMarkType.toUpperCase()].sort().join("_");

      if (markEditOps[editOpName]) {
        newEditOp = util.duplicate(markEditOps[editOpName]);
        newEditOp.detail = {
          "before": sMarkType,
          "after": dMarkType
        };
        editOps.push(newEditOp);
      } else {
        console.error("Cannot find ".concat(editOpName, " marktype change edit op."));
      }
    }

    return editOps;
  }

  var markEditOps_1 = markEditOps;

  async function transformEditOps(s, d, importedTransformEditOps, transOptions) {
    const TRANSFORM_TYPES = ["SCALE", "SORT", "AGGREGATE", "BIN", "SETTYPE"];
    var transformEditOps = importedTransformEditOps || DEFAULT_EDIT_OPS$1["transformEditOps"];
    var editOps = [];

    for (let i = 0; i < CHANNELS$1.length; i++) {
      const channel = CHANNELS$1[i];

      for (let j = 0; j < TRANSFORM_TYPES.length; j++) {
        const transformType = TRANSFORM_TYPES[j];
        let editOp;

        if (transformType === "SETTYPE" && transformEditOps[transformType]) {
          editOp = transformSettype(s, d, channel, transformEditOps);
        } else if (transformType === "SCALE" && transformEditOps[transformType]) {
          editOp = await scaleEditOps(s, d, channel, transformEditOps[transformType], transOptions);
        } else if (transformEditOps[transformType]) {
          editOp = transformBasic(s, d, channel, transformType, transformEditOps);
        }

        if (editOp) {
          let found = editOps.find(eo => eo.name === editOp.name);

          if (found) {
            found.detail.push(editOp.detail);
          } else {
            editOp.detail = [editOp.detail];
            editOps.push(editOp);
          }
        }
      }
    }
    var importedFilterEditOps = {
      "MODIFY_FILTER": transformEditOps["MODIFY_FILTER"],
      "ADD_FILTER": transformEditOps["ADD_FILTER"],
      "REMOVE_FILTER": transformEditOps["REMOVE_FILTER"]
    };
    editOps = editOps.concat(filterEditOps(s, d, importedFilterEditOps));
    return editOps;
  }

  var transformEditOps_1 = transformEditOps;

  function transformBasic(s, d, channel, transform, transformEditOps) {
    var sHas = false;
    var dHas = false;
    var editOp;
    var sEditOp, dEditOp;

    if (s.encoding[channel] && s.encoding[channel][transform.toLowerCase()]) {
      sHas = true;
      sEditOp = s.encoding[channel][transform.toLowerCase()];
    }

    if (d.encoding[channel] && d.encoding[channel][transform.toLowerCase()]) {
      dHas = true;
      dEditOp = d.encoding[channel][transform.toLowerCase()];
    }

    if (sHas && dHas && !util.rawEqual(sEditOp, dEditOp)) {
      editOp = util.duplicate(transformEditOps[transform]);
      editOp.detail = {
        how: "modified",
        channel: channel
      };
      return editOp;
    } else if (sHas && !dHas) {
      editOp = util.duplicate(transformEditOps[transform]);
      editOp.detail = {
        how: "removed",
        channel: channel
      };
      return editOp;
    } else if (!sHas && dHas) {
      editOp = util.duplicate(transformEditOps[transform]);
      editOp.detail = {
        how: "added",
        channel: channel
      };
      return editOp;
    }
  }

  var transformBasic_1 = transformBasic;

  async function scaleEditOps(s, d, channel, scaleTransformEditOps, transOptions) {
    var sHas = false,
        sOnlyHasDomainRelated = false;
    var dHas = false,
        dOnlyHasDomainRelated = false;
    var editOp, sScaleDef, dScaleDef;

    if (s.encoding[channel] && s.encoding[channel].scale) {
      sHas = true;
      sScaleDef = { ...s.encoding[channel].scale
      };

      if (!Object.keys(sScaleDef).find(key => ["domain", "zero"].indexOf(key) < 0)) {
        sOnlyHasDomainRelated = true;
      }
    }

    if (d.encoding[channel] && d.encoding[channel].scale) {
      dHas = true;
      dScaleDef = { ...d.encoding[channel].scale
      };

      if (!Object.keys(dScaleDef).find(key => ["domain", "zero"].indexOf(key) < 0)) {
        dOnlyHasDomainRelated = true;
      }
    }

    if (transOptions && transOptions.omitIncludeRawDomain) {
      if (sScaleDef && sScaleDef.domain && dScaleDef.domain === "unaggregated") {
        delete sScaleDef.domain;

        if (Object.keys(sScaleDef).length === 0) {
          sOnlyHasDomainRelated = false;
          sHas = false;
        }
      }

      if (dScaleDef && dScaleDef.domain && dScaleDef.domain === "unaggregated") {
        delete dScaleDef.domain;

        if (Object.keys(dScaleDef).length === 0) {
          dOnlyHasDomainRelated = false;
          dHas = false;
        }
      }
    }

    if (sHas && dHas && !util.rawEqual(sScaleDef, dScaleDef)) {
      if (sOnlyHasDomainRelated && dOnlyHasDomainRelated && (await sameDomain(s, d, channel))) {
        return;
      }

      editOp = util.duplicate(scaleTransformEditOps);
      editOp.detail = {
        how: "modified",
        channel: channel,
        fieldType: {
          from: s.encoding[channel].type,
          to: d.encoding[channel].type
        }
      };
      return editOp;
    } else if (sHas && !dHas) {
      if (sOnlyHasDomainRelated && (await sameDomain(s, d, channel))) {
        return;
      }

      editOp = util.duplicate(scaleTransformEditOps);
      editOp.detail = {
        how: "removed",
        channel: channel,
        fieldType: s.encoding[channel].type
      };
      return editOp;
    } else if (!sHas && dHas) {
      if (dOnlyHasDomainRelated && (await sameDomain(s, d, channel))) {
        return;
      }

      editOp = util.duplicate(scaleTransformEditOps);
      editOp.detail = {
        how: "added",
        channel: channel,
        fieldType: d.encoding[channel].type
      };
      return editOp;
    }
  }

  var scaleEditOps_1 = scaleEditOps;

  async function sameDomain(s, d, channel) {
    let dView, sView;

    try {
      dView = await new vega__default['default'].View(vega__default['default'].parse(vl__default['default'].compile(util.duplicate(d)).spec), {
        renderer: "svg"
      }).runAsync();
      sView = await new vega__default['default'].View(vega__default['default'].parse(vl__default['default'].compile(util.duplicate(s)).spec), {
        renderer: "svg"
      }).runAsync();
    } catch (e) {
      return false;
    }

    const sScale = sView._runtime.scales[channel].value;
    const dScale = dView._runtime.scales[channel].value;
    return util.deepEqual(sScale.domain(), dScale.domain());
  }

  var sameDomain_1 = sameDomain;

  function filterEditOps(s, d, importedFilterEditOps) {
    var sFilters = [],
        dFilters = [];
    var editOps = [];

    if (s.transform) {
      sFilters = getFilters(s.transform.filter(trsfm => trsfm.filter).map(trsfm => trsfm.filter));
    }

    if (d.transform) {
      dFilters = getFilters(d.transform.filter(trsfm => trsfm.filter).map(trsfm => trsfm.filter));
    }

    if (sFilters.length === 0 && dFilters.length === 0) {
      return editOps;
    }

    var dOnly = util.arrayDiff(dFilters, sFilters);
    var sOnly = util.arrayDiff(sFilters, dFilters);
    var isFind = false;

    for (var i = 0; i < dOnly.length; i++) {
      for (var j = 0; j < sOnly.length; j++) {
        if (dOnly[i].id === sOnly[j].id) {
          var newEditOp = util.duplicate(importedFilterEditOps["MODIFY_FILTER"]);
          newEditOp.detail = {
            "what": [],
            "id": sOnly[j].id,
            "before": [],
            "after": [],
            "sFilter": sOnly[j],
            "eFilter": dOnly[i]
          };

          if (!util.deepEqual(sOnly[j].op, dOnly[i].op)) {
            newEditOp.detail.what.push("op");
            newEditOp.detail.before.push(sOnly[j].op);
            newEditOp.detail.after.push(dOnly[i].op);
          }

          if (!util.deepEqual(sOnly[j].value, dOnly[i].value)) {
            newEditOp.detail.what.push("value");
            newEditOp.detail.before.push(sOnly[j].value);
            newEditOp.detail.after.push(dOnly[i].value);
          }

          editOps.push(newEditOp);
          dOnly.splice(i, 1);
          sOnly.splice(j, 1);
          isFind = true;
          break;
        }
      }

      if (isFind) {
        isFind = false;
        i--;
        continue;
      }
    }

    for (var i = 0; i < dOnly.length; i++) {
      var newEditOp = util.duplicate(importedFilterEditOps["ADD_FILTER"]);
      newEditOp.detail = newEditOp.detail = {
        "id": dOnly[i].id,
        "what": ["field", "op", "value"],
        "before": [undefined, undefined, undefined],
        "after": [dOnly[i].field, dOnly[i].op, dOnly[i].value],
        "eFilter": dOnly[i],
        "sFilter": undefined
      };
      editOps.push(newEditOp);
    }

    for (var i = 0; i < sOnly.length; i++) {
      var newEditOp = util.duplicate(importedFilterEditOps["REMOVE_FILTER"]);
      newEditOp.detail = newEditOp.detail = {
        "id": sOnly[i].id,
        "what": ["field", "op", "value"],
        "before": [sOnly[i].field, sOnly[i].op, sOnly[i].value],
        "after": [undefined, undefined, undefined],
        "sFilter": sOnly[i],
        "eFilter": undefined
      };
      editOps.push(newEditOp);
    }

    return editOps;
  }

  var filterEditOps_1 = filterEditOps;

  function getFilters(filterExpression) {
    let filters;

    if (util.isArray(filterExpression)) {
      filters = filterExpression.reduce((acc, expression) => {
        return acc.concat(parsePredicateFilter(expression));
      }, []);
    } else {
      filters = parsePredicateFilter(filterExpression);
    }

    filters = d3__default['default'].groups(filters, filter => filter.id).map(group => {
      return {
        id: group[0],
        field: group[1].map(filter => filter.field),
        op: group[1].map(filter => filter.op),
        value: group[1].map(filter => filter.value)
      };
    });
    return filters;
  }

  var getFilters_1 = getFilters;

  function parsePredicateFilter(expression) {
    let parsed = [];

    if (util.isString(expression)) {
      parsed = parsed.concat(stringFilter(expression));
    } else {
      LOGIC_OPS$1.filter(logicOp => expression.hasOwnProperty(logicOp)).forEach(logicOp => {
        let subParsed;

        if (util.isArray(expression[logicOp])) {
          subParsed = expression[logicOp].reduce((subParsed, expr) => {
            return subParsed.concat(parsePredicateFilter(expr));
          }, []);
        } else {
          subParsed = parsePredicateFilter(expression[logicOp]);
        }

        let id = subParsed.map(f => f.id).join("_");
        parsed.push({
          "id": "".concat(logicOp, ">[").concat(id, "]"),
          "op": logicOp,
          "value": subParsed
        });
      });
      OPS$1.filter(op => expression.hasOwnProperty(op)).forEach(op => {
        parsed.push({
          "id": expression.field,
          "field": expression.field,
          "op": op,
          "value": JSON.stringify(expression[op])
        });
      });
    }

    if (parsed.length === 0) {
      console.log("WARN: cannot parse filters.");
    }

    return parsed;
  }

  var parsePredicateFilter_1 = parsePredicateFilter;

  function stringFilter(expression) {
    var parser = expr["parse"];
    var expressionTree = parser(expression);
    return binaryExprsFromExprTree(expressionTree, [], 0).map(function (bExpr) {
      return {
        "id": bExpr.left.property.name,
        "field": bExpr.left.property.name,
        "op": bExpr.operator,
        "value": bExpr.right.raw
      };
    });

    function binaryExprsFromExprTree(tree, arr, depth) {
      if (tree.operator === '||' || tree.operator === '&&') {
        arr = binaryExprsFromExprTree(tree.left, arr, depth + 1);
        arr = binaryExprsFromExprTree(tree.right, arr, depth + 1);
      } else if (['==', '===', '!==', '!=', '<', '<=', '>', '>='].indexOf(tree.operator) >= 0) {
        tree.depth = depth;
        arr.push(tree);
      }

      return arr;
    }
  }

  function transformSettype(s, d, channel, transformEditOps) {
    var editOp;

    if (s.encoding[channel] && d.encoding[channel] && d.encoding[channel]["field"] === s.encoding[channel]["field"] && d.encoding[channel]["type"] !== s.encoding[channel]["type"]) {
      editOp = util.duplicate(transformEditOps["SETTYPE"]);
      editOp.detail = {
        "before": s.encoding[channel]["type"],
        "after": d.encoding[channel]["type"],
        channel: channel
      };
      return editOp;
    }
  }

  var transformSettype_1 = transformSettype;

  function encodingEditOps(s, d, importedEncodingEditOps) {
    if (neighbor.sameEncoding(s.encoding, d.encoding)) {
      return [];
    }

    var sChannels = util.keys(s.encoding);
    var sFields = sChannels.map(function (key) {
      return s.encoding[key];
    });
    var dChannels = util.keys(d.encoding);
    var dFields = dChannels.map(function (key) {
      return d.encoding[key];
    });
    var additionalFields = util.union(dFields, sFields, function (field) {
      return field.field + "_" + field.type;
    });
    var additionalChannels = util.arrayDiff(dChannels, sChannels);
    var u;

    function nearestNode(nodes) {
      var minD = Infinity;
      var argMinD = -1;
      nodes.forEach(function (node, index) {
        if (node.distance < minD) {
          minD = node.distance;
          argMinD = index;
        }
      });
      return nodes.splice(argMinD, 1)[0];
    }

    var nodes = neighbor.neighbors(s, additionalFields, additionalChannels, importedEncodingEditOps).map(function (neighbor) {
      neighbor.distance = neighbor.editOp.cost, neighbor.prev = [s];
      return neighbor;
    });
    s.distance = 0;
    s.prev = [];
    var doneNodes = [s];

    while (nodes.length > 0) {
      u = nearestNode(nodes);

      if (neighbor.sameEncoding(u.encoding, d.encoding)) {
        break;
      }

      if (u.distance >= importedEncodingEditOps.ceiling.cost) {
        return [{
          name: 'OVER_THE_CEILING',
          cost: importedEncodingEditOps.ceiling.alternatingCost
        }];
      }

      var newNodes = neighbor.neighbors(u, additionalFields, u.additionalChannels, importedEncodingEditOps);
      newNodes.forEach(function (newNode) {
        var node;

        for (var i = 0; i < doneNodes.length; i += 1) {
          if (neighbor.sameEncoding(doneNodes[i].encoding, newNode.encoding)) {
            return;
          }
        }

        for (var i = 0; i < nodes.length; i += 1) {
          if (neighbor.sameEncoding(nodes[i].encoding, newNode.encoding)) {
            node = nodes[i];
            break;
          }
        }

        if (node) {
          if (node.distance > u.distance + newNode.editOp.cost) {
            node.distance = u.distance + newNode.editOp.cost;
            node.editOp = newNode.editOp;
            node.prev = u.prev.concat([u]);
          }
        } else {
          newNode.distance = u.distance + newNode.editOp.cost;
          newNode.prev = u.prev.concat([u]);
          nodes.push(newNode);
        }
      });
      doneNodes.push(u);
    }

    if (!neighbor.sameEncoding(u.encoding, d.encoding) && nodes.length === 0) {
      return [{
        name: "UNREACHABLE",
        cost: 999
      }];
    }

    var result = [].concat(u.prev.map(function (node) {
      return node.editOp;
    }).filter(function (editOp) {
      return editOp;
    }));
    result.push(u.editOp);
    return result;
  }

  var encodingEditOps_1 = encodingEditOps;
  var trans = {
    transition: transition_1,
    markEditOps: markEditOps_1,
    transformEditOps: transformEditOps_1,
    transformBasic: transformBasic_1,
    scaleEditOps: scaleEditOps_1,
    sameDomain: sameDomain_1,
    filterEditOps: filterEditOps_1,
    getFilters: getFilters_1,
    parsePredicateFilter: parsePredicateFilter_1,
    transformSettype: transformSettype_1,
    encodingEditOps: encodingEditOps_1
  };

  function TSP(matrix, value, fixFirst) {
    var head, sequences;

    function enumSequences(arr) {
      var out = [];

      if (arr.length === 1) {
        out.push(arr);
        return out;
      } else {
        for (var i = 0; i < arr.length; i++) {
          var arrTemp = JSON.parse(JSON.stringify(arr));
          var head = arrTemp.splice(i, 1);
          enumSequences(arrTemp).map(function (seq) {
            out.push(head.concat(seq));
          });
        }

        return out;
      }
    }

    var sequence = matrix[0].map(function (elem, i) {
      return i;
    });

    if (!isNaN(fixFirst)) {
      head = sequence.splice(fixFirst, 1);
      sequences = enumSequences(sequence).map(function (elem) {
        return head.concat(elem);
      });
    } else {
      sequences = enumSequences(sequence);
    }

    var minDistance = Infinity;
    var distance = 0;
    var out = [];
    var all = [];

    for (var i = 0; i < sequences.length; i++) {
      if (i * 100 / sequences.length % 10 === 0) ;

      for (var j = 0; j < sequences[i].length - 1; j++) {
        distance += matrix[sequences[i][j]][sequences[i][j + 1]][value];
      }

      distance = Math.round(distance * 10000) / 10000;
      all.push({
        sequence: sequences[i],
        distance: distance
      });

      if (distance <= minDistance) {
        if (distance === minDistance) {
          out.push({
            sequence: sequences[i],
            distance: minDistance
          });
        } else {
          out = [];
          out.push({
            sequence: sequences[i],
            distance: distance
          });
        }
        minDistance = distance; // console.log(i,minDistance);
      }

      distance = 0;
    }

    return {
      out: out,
      all: all
    };
  } // var matrix = JSON.parse(fs.readFileSync(process.argv[2],'utf8'));
  // var fixFirst = Number(process.argv[3]);
  // console.log(TSP(matrix,"rank",fixFirst));


  var TSP_1 = {
    TSP: TSP
  };

  function scoreSimple(coverage, patternLength, inputLength) {
    var w_c = 1,
        w_l = 0;
    return (coverage * w_c + patternLength / inputLength * w_l) / (w_c + w_l);
  }

  function PatternOptimizer(inputArray, uniqTransitionSets) {
    var Optimized = [],
        maxScore = 0; // var inputDistance = distance(inputArray, uniqTransitionSets);

    for (var l = 1; l <= inputArray.length; l++) {
      for (var i = 0; i < inputArray.length - l + 1; i++) {
        var appear = [i];

        for (var j = 0; j < inputArray.length - l + 1; j++) {
          if (i !== j && isSameSub(inputArray, i, i + (l - 1), j)) {
            appear.push(j);
          }
        }

        var overlap = false;

        for (var k = 0; k < appear.length - 1; k++) {
          if (appear[k + 1] - appear[k] < l) {
            overlap = true;
            break;
          } // if(period !== 0 && period !== appear[k+1] - appear[k]){
          //   rythmic = false;
          //   break;
          // }
          // period = appear[k+1] - appear[k];

        } // if (appear.length > 1 && !overlap && rythmic ){


        if (appear.length > 1 && !overlap) {
          var newPattern = dup(inputArray).splice(i, l);
          var RPcoverage = coverage(inputArray, l, appear);

          if (!Optimized.find(function (rp) {
            return s(rp.pattern) === s(newPattern);
          })) {
            newPattern = {
              'pattern': newPattern,
              'appear': appear,
              'coverage': RPcoverage
            };
            newPattern.patternScore = scoreSimple(newPattern.coverage, l, inputArray.length);

            if (newPattern.patternScore > maxScore) {
              maxScore = newPattern.patternScore;
              Optimized = [newPattern];
            } else if (newPattern.patternScore === maxScore) {
              Optimized.push(newPattern);
            }
          }
        }
      }
    }

    return Optimized;
  }

  function coverage(array, Patternlength, appear) {
    var s,
        coverage = 0;

    for (var i = 0; i < appear.length - 1; i++) {
      s = i;

      while (appear[i] + Patternlength > appear[i + 1]) {
        i++;
      }

      coverage += appear[i] + Patternlength - appear[s];
    }

    if (i === appear.length - 1) {
      coverage += Patternlength;
    }
    return coverage / array.length;
  }

  function isSameSub(array, i1, f1, i2, f2) {
    for (var i = 0; i < f1 - i1 + 1; i++) {
      if (array[i1 + i] !== array[i2 + i]) {
        return false;
      }
    }

    return true;
  }

  function s(a) {
    return JSON.stringify(a);
  }

  function dup(a) {
    return JSON.parse(s(a));
  } // console.log(PatternOptimizer("231111".split(''),[1,1,1,1]));
  // console.log(coverage("sdsdxxxasdsdsdaasdsdsdsdsdsdsdsd".split(''), 2, [ 0, 2, 8, 10, 12, 16, 18, 20, 22, 24, 26, 28, 30 ]))


  var PatternOptimizer_1 = {
    PatternOptimizer: PatternOptimizer
  };

  function TieBreaker(result, transitionSetsFromEmptyVis) {
    var filterState = {};
    var filterScore = [];
    var filterSequenceCost = 0;

    for (var i = 0; i < result.charts.length; i++) {
      let spec = result.charts[i];

      if (spec.transform) {
        let filters = spec.transform.filter(trsfm => trsfm.filter).map(trsfm => trsfm.filter);

        for (var j = 0; j < filters.length; j++) {
          let filter = filters[j];

          if (filter.hasOwnProperty("field") && filter.hasOwnProperty("equal")) {
            if (filterState[filter.field]) {
              filterState[filter.field].push(filter.equal);
            } else {
              filterState[filter.field] = [filter.equal];
              filterScore.push({
                "field": filter.field,
                "score": 0
              });
            }
          }
        }
      }
    }

    for (var i = 0; i < filterScore.length; i++) {
      for (var j = 1; j < filterState[filterScore[i].field].length; j++) {
        if (filterState[filterScore[i].field][j - 1] < filterState[filterScore[i].field][j]) {
          filterScore[i].score += 1;
        } else if (filterState[filterScore[i].field][j - 1] > filterState[filterScore[i].field][j]) {
          filterScore[i].score -= 1;
        }
      }

      filterSequenceCost += Math.abs(filterScore[i].score + 0.1) / (filterState[filterScore[i].field].length - 1 + 0.1);
    }

    filterSequenceCost = filterScore.length > 0 ? 1 - filterSequenceCost / filterScore.length : 0;
    return {
      'tiebreakCost': filterSequenceCost,
      'reasons': filterScore
    };
  }

  var TieBreaker_1 = {
    TieBreaker: TieBreaker
  };

  async function sequence(specs, options, editOpSet$1, callback) {
    if (!editOpSet$1) {
      editOpSet$1 = editOpSet.DEFAULT_EDIT_OPS;
    }

    function distanceWithPattern(dist, globalWeightingTerm, filterCost) {
      return (dist + filterCost / 1000) * globalWeightingTerm;
    }

    var transitionSetsFromEmptyVis = await getTransitionSetsFromSpec({
      "mark": "null",
      "encoding": {}
    }, specs, editOpSet$1);

    if (!options.fixFirst) {
      var startingSpec = {
        "mark": "null",
        "encoding": {}
      };
      specs = [startingSpec].concat(specs);
    }

    var transitions = await getTransitionSets(specs, editOpSet$1);
    transitions = extendTransitionSets(transitions);
    var TSPResult = TSP_1.TSP(transitions, "cost", options.fixFirst === true ? 0 : undefined);
    var TSPResultAll = TSPResult.all.filter(function (seqWithDist) {
      return seqWithDist.sequence[0] === 0;
    }).map(function (tspR) {
      var sequence = tspR.sequence;
      var transitionSet = [];

      for (var i = 0; i < sequence.length - 1; i++) {
        transitionSet.push(transitions[sequence[i]][sequence[i + 1]]);
      }
      var pattern = transitionSet.map(function (r) {
        return r.id;
      });
      var POResult = PatternOptimizer_1.PatternOptimizer(pattern, transitions.uniq);
      var result = {
        "sequence": sequence,
        "transitions": transitionSet,
        "sumOfTransitionCosts": tspR.distance,
        "patterns": POResult,
        "globalWeightingTerm": !!POResult[0] ? 1 - POResult[0].patternScore : 1,
        "charts": sequence.map(function (index) {
          return specs[index];
        })
      };
      var tbResult = TieBreaker_1.TieBreaker(result, transitionSetsFromEmptyVis);
      result.filterSequenceCost = tbResult.tiebreakCost;
      result.filterSequenceCostReasons = tbResult.reasons;
      result.sequenceCost = distanceWithPattern(result.sumOfTransitionCosts, result.globalWeightingTerm, tbResult.tiebreakCost);
      return result;
    }).sort(function (a, b) {
      if (a.sequenceCost > b.sequenceCost) {
        return 1;
      }

      if (a.sequenceCost < b.sequenceCost) {
        return -1;
      } else {
        return a.sequence.join(',') > b.sequence.join(',') ? 1 : -1;
      }
    });
    var minSequenceCost = TSPResultAll[0].sequenceCost;

    for (var i = 0; i < TSPResultAll.length; i++) {
      if (TSPResultAll[i].sequenceCost === minSequenceCost) {
        TSPResultAll[i].isOptimum = true;
      } else {
        break;
      }
    }

    var returnValue = TSPResultAll;

    if (callback) {
      callback(returnValue);
    }

    return returnValue;
  }

  async function getTransitionSetsFromSpec(spec, specs, editOpSet) {
    var transitions = [];

    for (var i = 0; i < specs.length; i++) {
      transitions.push(await trans.transition(specs[i], spec, editOpSet, {
        omitIncludeRawDomin: true
      }));
    }

    return transitions;
  }

  async function getTransitionSets(specs, editOpSet) {
    var transitions = [];

    for (var i = 0; i < specs.length; i++) {
      transitions.push([]);

      for (var j = 0; j < specs.length; j++) {
        transitions[i].push(await trans.transition(specs[i], specs[j], editOpSet, {
          omitIncludeRawDomin: true
        }));
      }
    }

    return transitions;
  }

  function extendTransitionSets(transitions) {
    var uniqTransitionSets = [];
    var flatCosts = transitions.reduce(function (prev, curr) {
      for (var i = 0; i < curr.length; i++) {
        prev.push(curr[i].cost);
        var transitionSetSH = transitionShorthand(curr[i]);
        var index = uniqTransitionSets.map(function (tr) {
          return tr.shorthand;
        }).indexOf(transitionSetSH);

        if (index === -1) {
          curr[i]["id"] = uniqTransitionSets.push({
            tr: curr[i],
            shorthand: transitionSetSH
          }) - 1;
        } else {
          curr[i]["id"] = index;
        }
      }
      return prev;
    }, []);
    var uniqueCosts = [...new Set(flatCosts)].map(function (val) {
      return Number(val);
    }).sort(function (a, b) {
      return a - b;
    });
    var rank = d3__default['default'].scaleOrdinal().domain(uniqueCosts).range([0, uniqueCosts.length]);

    for (var i = 0; i < transitions.length; i++) {
      for (var j = 0; j < transitions[i].length; j++) {
        transitions[i][j]["start"] = i;
        transitions[i][j]["destination"] = j;
        transitions[i][j]["rank"] = Math.floor(rank(transitions[i][j].cost));
      }
    }

    transitions.uniq = uniqTransitionSets;
    return transitions;
  }

  function transitionShorthand(transition) {
    return transition.mark.concat(transition.transform).concat(transition.encoding).map(function (tr) {
      if (tr.detail) {
        if (tr.name === "MODIFY_FILTER") {
          return tr.name + '(' + JSON.stringify(tr.detail.id) + ')';
        }

        return tr.name + '(' + JSON.stringify(tr.detail) + ')';
      }

      return tr.name;
    }).sort().join('|');
  }

  var sequence_2 = sequence;
  var sequence_1 = {
    sequence: sequence_2
  };

  const {
    parsePredicateFilter: parsePredicateFilter$1
  } = trans;

  function apply(sSpec, eSpec, editOps) {
    checkApplyingEditOps(editOps);
    let resultSpec = editOps.reduce((resultSpec, editOp) => {
      if (editOp.type === "mark") {
        resultSpec = applyMarkEditOp(resultSpec, eSpec);
      } else if (editOp.type === "transform") {
        resultSpec = applyTransformEditOp(resultSpec, eSpec, editOp);
      } else if (editOp.type === "encoding") {
        resultSpec = applyEncodingEditOp(resultSpec, eSpec, editOp);
      }

      return resultSpec;
    }, util.duplicate(sSpec)); //an intermediate spec by applying edit operations on the sSpec

    checkSpec(resultSpec);
    return resultSpec;
  }

  var apply_2 = apply;

  function applyMarkEditOp(targetSpec, eSpec, editOp) {
    let resultSpec = util.duplicate(targetSpec);
    resultSpec.mark = eSpec.mark;
    return resultSpec;
  }

  var applyMarkEditOp_1 = applyMarkEditOp;

  function applyTransformEditOp(targetSpec, eSpec, editOp) {
    let resultSpec = util.duplicate(targetSpec);
    const transformType = editOp.name.toLowerCase();
    const details = !util.isArray(editOp.detail) ? [editOp.detail] : editOp.detail;

    if (transformType.indexOf("filter") >= 0) {
      if (editOp.name === "REMOVE_FILTER" || editOp.name === "MODIFY_FILTER") {
        resultSpec.transform.filter(tfm => {
          return tfm.filter && parsePredicateFilter$1(tfm.filter)[0].id === editOp.detail.id;
        }).forEach(filter => {
          if (resultSpec.transform) {
            let i = resultSpec.transform.findIndex(trsfm => util.deepEqual(trsfm, filter));
            resultSpec.transform.splice(i, 1);
          }
        });
      }

      if (editOp.name === "ADD_FILTER" || editOp.name === "MODIFY_FILTER") {
        eSpec.transform.filter(tfm => {
          return tfm.filter && parsePredicateFilter$1(tfm.filter)[0].id === editOp.detail.id;
        }).forEach(filter => {
          if (!resultSpec.transform) {
            resultSpec.transform = [filter];
          } else if (!resultSpec.transform.find(trsfm => util.deepEqual(filter, trsfm))) {
            resultSpec.transform.push(filter);
          }
        });
      }
    } else {
      details.forEach(detail => {
        let fieldDef = resultSpec.encoding[detail.channel];

        if (fieldDef) {
          //Todo: cannot apply SCALE if the channel has a different type.
          if (detail.how === "removed") {
            delete fieldDef[transformType];
          } else {
            // console.log(fieldDef.type, detail.fieldType)
            if (transformType === "scale" && fieldDef.type !== detail.fieldType) {
              throw new UnapplicableEditOPError("Cannot apply ".concat(editOp.name, " since it requires \"").concat(detail.fieldType, "\" field instead of \"").concat(fieldDef.type, "\"."));
            }

            fieldDef[transformType] = eSpec.encoding[detail.channel][transformType];
          }
        } else {
          throw new UnapplicableEditOPError("Cannot apply ".concat(editOp.name, " since there is no \"").concat(detail.channel, "\" channel."));
        }
      });
    }

    return resultSpec;
  }

  var applyTransformEditOp_1 = applyTransformEditOp;

  function applyEncodingEditOp(targetSpec, eSpec, editOp) {
    let resultSpec = util.duplicate(targetSpec);

    if (editOp.name.indexOf("REMOVE") === 0) {
      let channel = editOp.detail.before.channel;

      if (resultSpec.encoding[channel]) {
        delete resultSpec.encoding[channel];
      } else {
        throw new UnapplicableEditOPError("Cannot apply ".concat(editOp.name, " since there is no \"").concat(channel, "\" channel."));
      }
    } else if (editOp.name.indexOf("ADD") === 0) {
      let channel = editOp.detail.after.channel;

      if (resultSpec.encoding[channel]) {
        throw new UnapplicableEditOPError("Cannot apply ".concat(editOp.name, " since \"").concat(channel, "\" already exists."));
      } else {
        resultSpec.encoding[channel] = util.duplicate(eSpec.encoding[channel]);
      }
    } else if (editOp.name.indexOf("MOVE") === 0) {
      let sChannel = editOp.detail.before.channel,
          dChannel = editOp.detail.after.channel;

      if (!resultSpec.encoding[sChannel]) {
        throw new UnapplicableEditOPError("Cannot apply ".concat(editOp.name, " since there is no \"").concat(sChannel, "\" channel."));
      } else if (resultSpec.encoding[dChannel]) {
        throw new UnapplicableEditOPError("Cannot apply ".concat(editOp.name, " since \"").concat(dChannel, "\" already exists."));
      } else {
        resultSpec.encoding[dChannel] = util.duplicate(resultSpec.encoding[sChannel]);
        delete resultSpec.encoding[sChannel];
      }
    } else if (editOp.name.indexOf("MODIFY") === 0) {
      let channel = editOp.detail.before.channel,
          field = editOp.detail.after.field,
          type = editOp.detail.after.type;

      if (!resultSpec.encoding[channel]) {
        throw new UnapplicableEditOPError("Cannot apply ".concat(editOp.name, " since there is no \"").concat(channel, "\" channel."));
      } else {
        resultSpec.encoding[channel].field = field;
        resultSpec.encoding[channel].type = type;
      }
    } else if (editOp.name.indexOf("SWAP_X_Y") === 0) {
      if (!resultSpec.encoding.x || !resultSpec.encoding.y) {
        throw new UnapplicableEditOPError("Cannot apply ".concat(editOp.name, " since there is no \"x\" and \"y\" channels."));
      } else {
        let temp = util.duplicate(resultSpec.encoding.y);
        resultSpec.encoding.y = util.duplicate(resultSpec.encoding.x);
        resultSpec.encoding.x = temp;
      }
    }

    return resultSpec;
  }

  var applyEncodingEditOp_1 = applyEncodingEditOp;

  function checkSpec(spec) {
    let lg = vega__default['default'].logger();
    const warnings = [],
          errors = [];

    lg.warn = m => {
      warnings.push(m);
    };

    lg.error = m => {
      errors.push(m);
    };

    vl__default['default'].compile(spec, {
      logger: lg
    });
    let hasAggregate = false;

    for (const key in spec.encoding) {
      if (spec.encoding.hasOwnProperty(key)) {
        const fieldDef = spec.encoding[key];

        if (fieldDef.aggregate) {
          hasAggregate = true;
        }

        if (fieldDef.field === "*" && !fieldDef.aggregate) {
          warnings.push("'*' field should innclude aggregate.");
        }
      }
    }

    if (hasAggregate) {
      const hasNoAggOnQField = Object.keys(spec.encoding).filter(ch => {
        return spec.encoding[ch].type === "quantitative" && !spec.encoding[ch].aggregate;
      }).length > 0;

      if (hasNoAggOnQField) {
        warnings.push("Aggregate should be applied on all quantitative fields.");
      }
    }

    if (warnings.length > 0 || errors.length > 0) {
      throw new InvalidVLSpecError("The resulted spec is not valid Vega-Lite Spec.", {
        warnings,
        errors
      });
    }
  }

  function checkApplyingEditOps(editOps) {
    // _COUNT encodig should be applied with AGGREGATE
    if (editOps.find(eo => eo.name.indexOf("_COUNT") >= 0) && !editOps.find(eo => eo.name === "AGGREGATE")) {
      throw new UnapplicableEditOpsError("_COUNT encoding edit operations cannot be applied without AGGREGATE.");
    }
  }

  class UnapplicableEditOPError extends Error {
    constructor(message) {
      super(message);
      this.name = "UnapplicableEditOPError";
    }

  }

  class InvalidVLSpecError extends Error {
    constructor(message, info) {
      super(message);
      this.name = "InvalidVLSpecError";
      this.info = info;
    }

  }

  class UnapplicableEditOpsError extends Error {
    constructor(message) {
      super(message);
      this.name = "UnapplicableEditOpsError";
    }

  }

  var apply_1 = {
    apply: apply_2,
    applyMarkEditOp: applyMarkEditOp_1,
    applyTransformEditOp: applyTransformEditOp_1,
    applyEncodingEditOp: applyEncodingEditOp_1
  };

  const {
    copy,
    deepEqual,
    partition,
    permutate,
    union,
    intersection
  } = util;
  const apply$1 = apply_1.apply; // Take two vega-lite specs and enumerate paths [{sequence, editOpPartition (aka transition)}]:

  async function enumerate(sVLSpec, eVLSpec, editOps, transM, withExcluded = false) {
    if (editOps.length < transM) {
      throw new CannotEnumStagesMoreThanTransitions(editOps.length, transM);
    }

    const editOpPartitions = partition(editOps, transM);
    const orderedEditOpPartitions = editOpPartitions.reduce((ordered, pt) => {
      return ordered.concat(permutate(pt));
    }, []);
    const sequences = [];
    let excludedPaths = [];

    for (const editOpPartition of orderedEditOpPartitions) {
      let sequence = [copy(sVLSpec)];
      let currSpec = copy(sVLSpec);
      let valid = true;

      for (let i = 0; i < editOpPartition.length; i++) {
        const editOps = editOpPartition[i];

        if (i === editOpPartition.length - 1) {
          sequence.push(eVLSpec);
          break; // The last spec should be the same as eVLSpec;
        }

        try {
          currSpec = apply$1(copy(currSpec), eVLSpec, editOps);
        } catch (e) {
          if (["UnapplicableEditOPError", "InvalidVLSpecError", "UnapplicableEditOpsError"].indexOf(e.name) < 0) {
            throw e;
          } else {
            valid = false;
            excludedPaths.push({
              info: e,
              editOpPartition,
              invalidSpec: currSpec
            });
            break;
          }
        }

        sequence.push(copy(currSpec));
      }

      const mergedScaleDomain = await getMergedScale(sequence);
      sequence = sequence.map((currSpec, i) => {
        if (i === 0 || i === sequence.length - 1) {
          return currSpec;
        }

        return applyMergedScale(currSpec, mergedScaleDomain, editOpPartition[i - 1]);
      });

      if (valid && validate(sequence)) {
        sequences.push({
          sequence,
          editOpPartition
        });
      }
    }

    if (withExcluded) {
      return {
        sequences,
        excludedPaths
      };
    }

    return sequences;
  }

  var enumerate_2 = enumerate;

  function applyMergedScale(vlSpec, mergedScaleDomain, currEditOps) {
    let currSpec = copy(vlSpec);
    let sortEditOp = currEditOps.find(eo => eo.name === "SORT");

    for (const channel in mergedScaleDomain) {
      // When sort editOps are applied, do not change the corresponding scale domain.
      if (sortEditOp && sortEditOp.detail.find(dt => dt.channel === channel)) {
        continue;
      }

      if (mergedScaleDomain.hasOwnProperty(channel)) {
        if (currSpec.encoding[channel]) {
          if (!currSpec.encoding[channel].scale) {
            currSpec.encoding[channel].scale = {};
          }

          currSpec.encoding[channel].scale.domain = mergedScaleDomain[channel];

          if (currSpec.encoding[channel].scale.zero !== undefined) {
            delete currSpec.encoding[channel].scale.zero;
          }
        }
      }
    }

    return currSpec;
  } // Get the scales including all data points while doing transitions.


  async function getMergedScale(sequence) {
    const views = await Promise.all(sequence.map(vlSpec => {
      return new vega__default['default'].View(vega__default['default'].parse(vl__default['default'].compile(vlSpec).spec), {
        renderer: "svg"
      }).runAsync();
    }));
    let commonEncoding = sequence.reduce((commonEncoding, vlSpec, i) => {
      let encoding = Object.keys(vlSpec.encoding).map(channel => {
        return {
          channel,
          ...vlSpec.encoding[channel],
          runtimeScale: views[i]._runtime.scales[channel]
        };
      });

      if (i === 0) {
        return encoding;
      }

      return intersection(encoding, commonEncoding, ch => {
        return [ch.channel, ch.field || "", ch.type || "", ch.runtimeScale ? ch.runtimeScale.type : ""].join("_");
      });
    }, []).map(encoding => {
      return { ...encoding,
        domains: views.map(view => {
          return view._runtime.scales[encoding.channel] ? view._runtime.scales[encoding.channel].value.domain() : undefined;
        })
      };
    });
    commonEncoding = commonEncoding.filter(encoding => {
      //if all the domains are the same, then don't need to merge
      return !encoding.domains.filter(d => d).reduce((accDomain, domain) => {
        if (deepEqual(domain, accDomain)) {
          return domain;
        }

        return undefined;
      }, encoding.domains[0]);
    });
    return commonEncoding.reduce((mergedScaleDomains, encoding) => {
      if (!encoding.runtimeScale) {
        return mergedScaleDomains;
      }

      const vlType = encoding.type,
            domains = encoding.domains;

      if (vlType === "quantitative") {
        mergedScaleDomains[encoding.channel] = [Math.min(...domains.map(domain => domain[0])), Math.max(...domains.map(domain => domain[1]))];
      } else if (vlType === "nominal" || vlType === "ordinal") {
        mergedScaleDomains[encoding.channel] = domains.reduce((merged, domain) => {
          return union(merged, domain);
        }, []);
      } else if (vlType === "temporal") {
        mergedScaleDomains[encoding.channel] = [Math.min(...domains.map(domain => domain[0])), Math.max(...domains.map(domain => domain[1]))];
      }

      return mergedScaleDomains;
    }, {});
  }

  var getMergedScale_1 = getMergedScale;

  function validate(sequence) {
    //Todo: check if the sequence is a valid vega-lite spec.
    let prevChart = sequence[0];

    for (let i = 1; i < sequence.length; i++) {
      const currChart = sequence[i];

      if (deepEqual(prevChart, currChart)) {
        return false;
      }

      prevChart = sequence[i];
    }

    return true;
  }

  var validate_1 = validate;

  class CannotEnumStagesMoreThanTransitions extends Error {
    constructor(editOpsN, transM) {
      super("Cannot enumerate ".concat(transM, " transitions for ").concat(editOpsN, " edit operations. The number of transitions should lesser than the number of possible edit operations."));
      this.name = "CannotEnumStagesMoreThanTransitions";
    }

  }

  var enumerate_1 = {
    enumerate: enumerate_2,
    getMergedScale: getMergedScale_1,
    validate: validate_1
  };

  const {
    unique
  } = util;
  var HEURISTIC_RULES = [{
    name: "filter-then-aggregate",
    type: "A-Then-B",
    editOps: ["FILTER", "AGGREGATE"],
    condition: (filter, aggregate) => {
      return aggregate.detail && aggregate.detail.find(dt => dt.how === "added");
    },
    score: 1
  }, {
    name: "disaggregate-then-filter",
    type: "A-Then-B",
    editOps: ["AGGREGATE", "FILTER"],
    condition: (aggregate, filter) => {
      return aggregate.detail && aggregate.detail.find(dt => dt.how === "removed");
    },
    score: 1
  }, {
    name: "filter-then-bin",
    type: "A-Then-B",
    editOps: ["FILTER", "BIN"],
    condition: (filter, bin) => {
      return bin.detail && bin.detail.find(dt => dt.how === "added");
    },
    score: 1
  }, {
    name: "unbin-then-filter",
    type: "A-Then-B",
    editOps: ["BIN", "FILTER"],
    condition: (bin, filter) => {
      return bin.detail && bin.detail.find(dt => dt.how === "removed");
    },
    score: 1
  }, {
    name: "no-aggregate-then-bin",
    type: "A-Then-B",
    editOps: ["AGGREGATE", "BIN"],
    condition: (aggregate, bin) => {
      return aggregate.detail && aggregate.detail.find(dt => dt.how === "added");
    },
    score: -1
  }, {
    name: "no-unbin-then-disaggregate",
    type: "A-Then-B",
    editOps: ["BIN", "AGGREGATE"],
    condition: (bin, aggregate) => {
      return aggregate.detail && aggregate.detail.find(dt => dt.how === "removed");
    },
    score: -1
  }, {
    name: "encoding(MODIFY)-then-aggregate",
    type: "A-Then-B",
    editOps: ["ENCODING", "AGGREGATE"],
    condition: (encoding, aggregate) => {
      return encoding.name.indexOf("MODIFY") >= 0 && aggregate.detail && aggregate.detail.find(dt => dt.how === "added");
    },
    score: 1
  }, {
    name: "disaggregate-then-encoding(MODIFY)",
    type: "A-Then-B",
    editOps: ["AGGREGATE", "ENCODING"],
    condition: (aggregate, encoding) => {
      return encoding.name.indexOf("MODIFY") >= 0 && aggregate.detail && aggregate.detail.find(dt => dt.how === "removed");
    },
    score: 1
  }, {
    name: "encoding(add)-then-aggregate",
    type: "A-Then-B",
    editOps: ["ENCODING", "AGGREGATE"],
    condition: (encoding, aggregate) => {
      return encoding.name.indexOf("ADD") >= 0 && aggregate.detail && aggregate.detail.find(dt => dt.how === "added");
    },
    score: 1
  }, {
    name: "disaggregate-then-encoding(remove)",
    type: "A-Then-B",
    editOps: ["AGGREGATE", "ENCODING"],
    condition: (aggregate, encoding) => {
      return encoding.name.indexOf("REMOVE") >= 0 && aggregate.detail && aggregate.detail.find(dt => dt.how === "removed");
    },
    score: 1
  }, {
    name: "no-mark-then-aggregate",
    type: "A-Then-B",
    editOps: ["MARK", "AGGREGATE"],
    condition: (mark, aggregate) => {
      return aggregate.detail && aggregate.detail.find(dt => dt.how === "added");
    },
    score: -1
  }, {
    name: "no-disaggregate-then-mark",
    type: "A-Then-B",
    editOps: ["AGGREGATE", "MARK"],
    condition: (aggregate, mark) => {
      return aggregate.detail && aggregate.detail.find(dt => dt.how === "removed");
    },
    score: -1
  }, {
    name: "modifying-with-scale",
    type: "A-With-B",
    editOps: ["ENCODING.MODIFY", "SCALE"],
    score: 1
  }, {
    name: "no-filtering-with-filtering",
    type: "A-With-B",
    editOps: ["FILTER"],
    condition: editOps => {
      return unique(editOps.FILTER, f => f.position).length < editOps.FILTER.length;
    },
    score: -1
  }, {
    name: "bin-with-aggregate",
    type: "A-With-B",
    editOps: ["AGGREGATE", "BIN"],
    score: 1
  } // {
  //   editOps: [TRANSFORM, ENCODING.REMOVE],
  //   condition: (transform, remove) => {
  //     return transform.detail.field === remove.detail.before.field
  //   },
  //   score: 1
  // },
  // {
  //   editOps: [TRANSFORM, ENCODING.MODIFY],
  //   condition: (transform, modify) => {
  //     return transform.detail.field === modify.detail.after.field
  //   },
  //   score: 1
  // },
  // {
  //   editOps: [TRANSFORM, ENCODING.ADD],
  //   condition: (transform, add) => {
  //     return transform.detail.field === add.detail.after.field
  //   },
  //   score: 1
  // },
  // {
  //   editOps: [ENCODING.MODIFY, TRANSFORM],
  //   condition: (transform, modify) => {
  //     return transform.detail.field === modify.detail.before.field
  //   },
  //   score: 1
  // }
  ];
  var evaluateRules = {
    HEURISTIC_RULES: HEURISTIC_RULES
  };

  const RULES = evaluateRules.HEURISTIC_RULES;
  const {
    copy: copy$1,
    intersection: intersection$1
  } = util;

  function evaluate(editOpPartition) {
    let satisfiedRules = findRules(editOpPartition, RULES);
    let score = satisfiedRules.reduce((score, rule) => {
      return score + rule.score;
    }, 0);
    return {
      score,
      satisfiedRules
    };
  }

  var evaluate_2 = evaluate;

  function findRules(editOpPartition, rules = RULES) {
    return rules.filter(_rule => {
      let rule = copy$1(_rule);

      for (let j = 0; j < rule.editOps.length; j++) {
        const ruleEditOp = rule.editOps[j];
        rule[ruleEditOp] = [];

        for (let i = 0; i < editOpPartition.length; i++) {
          const editOpPart = editOpPartition[i];
          let newFoundEditOps = findEditOps(editOpPart, ruleEditOp);

          if (newFoundEditOps.length > 0) {
            rule[ruleEditOp] = [...rule[ruleEditOp], ...newFoundEditOps.map(eo => {
              return { ...eo,
                position: i
              };
            })];
          }
        }

        if (rule[ruleEditOp].length === 0) {
          return false; // when there is no corresponding edit op for the rule in given editOp partition.
        }
      }

      if (rule.type === "A-With-B") {
        let foundEditOps = rule.editOps.map(eo => rule[eo]);

        if (foundEditOps.filter(eo => !eo).length !== 0) {
          return false;
        }

        let positions = rule.editOps.reduce((positions, eo, i) => {
          let currPositions = rule[eo].map(d => d.position);

          if (i === 0) {
            return currPositions;
          }

          return intersection$1(positions, currPositions);
        }, []);

        if (positions.length === 0) {
          return false;
        } else if (_rule.condition) {
          let mappedFoundEditOps = rule.editOps.reduce((acc, eo) => {
            acc[eo] = rule[eo];
            return acc;
          }, {});
          return _rule.condition(mappedFoundEditOps);
        }

        return true;
      } else {
        for (let i = 0; i < rule[rule.editOps[0]].length; i++) {
          const followed = rule[rule.editOps[0]][i];

          for (let j = 0; j < rule[rule.editOps[1]].length; j++) {
            const following = rule[rule.editOps[1]][j];

            if (followed.position >= following.position) {
              return false;
            }

            if (_rule.condition && !_rule.condition(followed, following)) {
              return false;
            }
          }
        }

        return true;
      }
    });
  }

  var findRules_1 = findRules;

  function findEditOps(editOps, query) {
    return editOps.filter(eo => {
      if (query === "TRANSFORM") {
        return eo.type === "transform";
      } else if (query === "ENCODING") {
        return eo.type === "encoding";
      } else if (query === "MARK") {
        return eo.type === "mark";
      } else if (query === "ENCODING.MODIFY") {
        return eo.type === "encoding" && eo.name.indexOf("MODIFY") >= 0;
      }

      return eo.name.indexOf(query) >= 0;
    });
  }

  var evaluate_1 = {
    evaluate: evaluate_2,
    findRules: findRules_1
  };

  const {
    copy: copy$2
  } = util;
  const {
    enumerate: enumerate$1
  } = enumerate_1;
  const {
    evaluate: evaluate$1
  } = evaluate_1;
  const getTransition = trans.transition;

  async function path(sSpec, eSpec, transM) {
    validateInput(sSpec, eSpec);
    const transition = await getTransition(copy$2(sSpec), copy$2(eSpec));
    const editOps = [...transition.mark, ...transition.transform, ...transition.encoding];
    let result = {};

    if (transM === undefined) {
      for (let m = 1; m <= editOps.length; m++) {
        result[m] = await enumAndEval(sSpec, eSpec, editOps, m);
      }

      return result;
    }

    return await enumAndEval(sSpec, eSpec, editOps, transM);
  }

  var path_2 = path;

  async function enumAndEval(sSpec, eSpec, editOps, transM) {
    let result = await enumerate$1(sSpec, eSpec, editOps, transM);
    return result.map(seq => {
      return { ...seq,
        eval: evaluate$1(seq.editOpPartition)
      };
    }).sort((a, b) => {
      return b.eval.score - a.eval.score;
    });
  }

  function validateInput(sSpec, eSpec) {
    //check if specs are single-view vega-lite chart
    if (!isValidVLSpec(sSpec) || !isValidVLSpec(eSpec)) {
      return {
        error: "Gemini++ cannot recommend keyframes for the given Vega-Lite charts."
      };
    }
  }

  var validateInput_1 = validateInput;

  function isValidVLSpec(spec) {
    if (spec.layer || spec.hconcat || spec.vconcat || spec.concat || spec.spec) {
      return false;
    }

    if (spec.$schema && spec.$schema.indexOf("https://vega.github.io/schema/vega-lite") >= 0) {
      return true;
    }

    return false;
  }

  var isValidVLSpec_1 = isValidVLSpec;
  var path_1 = {
    path: path_2,
    validateInput: validateInput_1,
    isValidVLSpec: isValidVLSpec_1
  };

  var src = {
    sequence: sequence_1.sequence,
    transition: trans.transition,
    apply: apply_1.apply,
    path: path_1.path
  };

  return src;

})));

});

var graphscape$1 = unwrapExports(graphscape);
var graphscape_1 = graphscape.path;

var gs = /*#__PURE__*/Object.freeze({
  __proto__: null,
  'default': graphscape$1,
  __moduleExports: graphscape,
  path: graphscape_1
});

async function recommendKeyframes(sSpec, eSpec, M) {
  return await graphscape_1(copy(sSpec),  copy(eSpec), M);
}


async function recommendWithPath(sVlSpec, eVlSpec, opt ={ stageN: 1, totalDuration: 2000 }) {

  let _opt = copy(opt);
  _opt.totalDuration = opt.totalDuration || 2000;
  _opt.stageN = opt.stageN || 1;
  _opt = setUpRecomOpt(_opt);

  const recommendations = {};
  console.log(gs);
  for (let transM = 1; transM <= _opt.stageN; transM++) {
    let paths;
    try {
      paths = await graphscape_1(copy(sVlSpec), copy(eVlSpec), transM);
    } catch (error) {
      if (error.name === "CannotEnumStagesMoreThanTransitions") {
        continue;
      }
      throw error;
    }

    recommendations[transM] = [];
    for (const path of paths) {
      const sequence = path.sequence.map(vl2vg4gemini);

      //enumerate all possible gemini++ specs for the sequence;
      let recomsPerPath = await recommendForSeq(sequence, opt);
      recommendations[transM].push({
        path,
        recommendations: recomsPerPath
      });

    }
  }
  return recommendations;
}



function splitStagesPerTransition(stageN, transitionM) {
  return NSplits(new Array(stageN).fill(1), transitionM)
      .map(arr => arr.map(a => a.length));
}

async function recommendForSeq(sequence, opt = {}) {
  let globalOpt = copy(opt),
    transM = sequence.length-1,
    stageN = opt.stageN;
  if (stageN < transM) {
    throw new Error(`Cannot recommend ${stageN}-stage animations for a sequence with ${transM} transitions.`)
  }

  globalOpt = setUpRecomOpt(globalOpt);

  let stageNSplits = splitStagesPerTransition(stageN, transM);
  let recomsForSequence = [];
  for (const stageNSplit of stageNSplits) {
    const recommendationPerTransition = [];

    for (let i = 0; i < transM; i++) {
      const sVgVis = (sequence[i]),
        eVgVis = (sequence[i+1]);

      const _opt = {
        ...globalOpt,
        ...(opt.perTransitions || [])[i],
        ...{includeMeta: false},
        ...{
          stageN: stageNSplit[i],
          totalDuration: (opt.totalDuration || 2000) / stageN * stageNSplit[i]
        }
      };
      const _recom = await recommend(sVgVis, eVgVis, _opt);
      recommendationPerTransition.push(_recom);
    }

    recomsForSequence = recomsForSequence.concat(crossJoinArrays(recommendationPerTransition));
  }

  return recomsForSequence.map(recom => {
    return {
      specs: recom,
      cost: sumCost(recom)
    }
  }).sort((a,b) => {
    return a.cost - b.cost
  });
}

function sumCost(geminiSpecs) {
  return geminiSpecs.reduce((cost, spec) => {
    cost += spec.pseudoTimeline.eval.cost;
    return cost
  }, 0)
}

function canRecommendForSeq(sequence) {
  for (let i = 0; i < (sequence.length - 1); i++) {
    const sVis = sequence[i], eVis = sequence[i+1];
    let isRecommendable = canRecommend(sVis, eVis).result;
    if (isRecommendable.result) {
      return {result: false, reason: isRecommendable.reason}
    }
  }
  return {result: true};
}

function canRecommendKeyframes(sSpec, eSpec) {
  //check if specs are single-view vega-lite chart
  if (!isValidVLSpec(sSpec) || !isValidVLSpec(eSpec)) {
    return {result: false, reason: "Gemini++ cannot recommend keyframes for the given Vega-Lite charts."}
  }
  return {result: true}
}



function isValidVLSpec(spec) {
  if (spec.layer || spec.hconcat || spec.vconcat || spec.concat || spec.spec) {
    return false;
  }
  if (spec.$schema && (spec.$schema.indexOf("https://vega.github.io/schema/vega-lite") >= 0)){
    return true
  }
  return false

}

const { animate, animateSequence } = Gemini;

export { allAtOnce, animate, animateSequence, canRecommend, canRecommendForSeq, canRecommendKeyframes, castVL2VG, compareCost, recommend, recommendForSeq, recommendKeyframes, recommendWithPath, vl2vg4gemini };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VtaW5pLmpzIiwic291cmNlcyI6WyJzcmMvYW5pbWF0aW9uLmpzIiwic3JjL3V0aWwvdXRpbC5qcyIsInNyYy9wYXJzZXIvcmVzb2x2ZUNvbGxlY3Rvci5qcyIsInNyYy9zY2hlZHVsZS5qcyIsInNyYy9wYXJzZXIvY29uZmxpY3RDaGVja2VyLmpzIiwibm9kZV9tb2R1bGVzL3VyaS1qcy9zcmMvdXRpbC50cyIsIm5vZGVfbW9kdWxlcy91cmktanMvc3JjL3JlZ2V4cHMtdXJpLnRzIiwibm9kZV9tb2R1bGVzL3VyaS1qcy9zcmMvcmVnZXhwcy1pcmkudHMiLCJub2RlX21vZHVsZXMvdXJpLWpzL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5lczYuanMiLCJub2RlX21vZHVsZXMvdXJpLWpzL3NyYy91cmkudHMiLCJub2RlX21vZHVsZXMvdXJpLWpzL3NyYy9zY2hlbWVzL2h0dHAudHMiLCJub2RlX21vZHVsZXMvdXJpLWpzL3NyYy9zY2hlbWVzL2h0dHBzLnRzIiwibm9kZV9tb2R1bGVzL3VyaS1qcy9zcmMvc2NoZW1lcy9tYWlsdG8udHMiLCJub2RlX21vZHVsZXMvdXJpLWpzL3NyYy9zY2hlbWVzL3Vybi50cyIsIm5vZGVfbW9kdWxlcy91cmktanMvc3JjL3NjaGVtZXMvdXJuLXV1aWQudHMiLCJub2RlX21vZHVsZXMvdXJpLWpzL3NyYy9pbmRleC50cyIsIm5vZGVfbW9kdWxlcy9mYXN0LWRlZXAtZXF1YWwvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL3VjczJsZW5ndGguanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL3V0aWwuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL3NjaGVtYV9vYmouanMiLCJub2RlX21vZHVsZXMvanNvbi1zY2hlbWEtdHJhdmVyc2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL3Jlc29sdmUuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL2Vycm9yX2NsYXNzZXMuanMiLCJub2RlX21vZHVsZXMvZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy92YWxpZGF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9jYWNoZS5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvZm9ybWF0cy5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL3JlZi5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2FsbE9mLmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvYW55T2YuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9jb21tZW50LmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvY29uc3QuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9jb250YWlucy5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2RlcGVuZGVuY2llcy5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2VudW0uanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9mb3JtYXQuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9pZi5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2l0ZW1zLmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvX2xpbWl0LmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvX2xpbWl0SXRlbXMuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9fbGltaXRMZW5ndGguanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9fbGltaXRQcm9wZXJ0aWVzLmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvbXVsdGlwbGVPZi5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL25vdC5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL29uZU9mLmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvcGF0dGVybi5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL3Byb3BlcnRpZXMuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9wcm9wZXJ0eU5hbWVzLmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvcmVxdWlyZWQuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy91bmlxdWVJdGVtcy5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvY29tcGlsZS9ydWxlcy5qcyIsIm5vZGVfbW9kdWxlcy9hanYvbGliL2RhdGEuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL2FzeW5jLmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvY3VzdG9tLmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvZGVmaW5pdGlvbl9zY2hlbWEuanMiLCJub2RlX21vZHVsZXMvYWp2L2xpYi9rZXl3b3JkLmpzIiwibm9kZV9tb2R1bGVzL2Fqdi9saWIvYWp2LmpzIiwic3JjL3BhcnNlci9zcGVjQ2hlY2tlci5qcyIsIm5vZGVfbW9kdWxlcy92ZWdhLWV4cHJlc3Npb24vc3JjL2FzdC5qcyIsIm5vZGVfbW9kdWxlcy92ZWdhLWV4cHJlc3Npb24vc3JjL3BhcnNlci5qcyIsIm5vZGVfbW9kdWxlcy92ZWdhLWV4cHJlc3Npb24vc3JjL2NvbnN0YW50cy5qcyIsIm5vZGVfbW9kdWxlcy92ZWdhLWV4cHJlc3Npb24vbm9kZV9tb2R1bGVzL3ZlZ2EtdXRpbC9zcmMvYWNjZXNzb3IuanMiLCJub2RlX21vZHVsZXMvdmVnYS1leHByZXNzaW9uL25vZGVfbW9kdWxlcy92ZWdhLXV0aWwvc3JjL2Vycm9yLmpzIiwibm9kZV9tb2R1bGVzL3ZlZ2EtZXhwcmVzc2lvbi9ub2RlX21vZHVsZXMvdmVnYS11dGlsL3NyYy9zcGxpdEFjY2Vzc1BhdGguanMiLCJub2RlX21vZHVsZXMvdmVnYS1leHByZXNzaW9uL25vZGVfbW9kdWxlcy92ZWdhLXV0aWwvc3JjL2lzQXJyYXkuanMiLCJub2RlX21vZHVsZXMvdmVnYS1leHByZXNzaW9uL25vZGVfbW9kdWxlcy92ZWdhLXV0aWwvc3JjL2lzT2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL3ZlZ2EtZXhwcmVzc2lvbi9ub2RlX21vZHVsZXMvdmVnYS11dGlsL3NyYy9pc1N0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy92ZWdhLWV4cHJlc3Npb24vbm9kZV9tb2R1bGVzL3ZlZ2EtdXRpbC9zcmMvc3RyaW5nVmFsdWUuanMiLCJub2RlX21vZHVsZXMvdmVnYS1leHByZXNzaW9uL25vZGVfbW9kdWxlcy92ZWdhLXV0aWwvc3JjL2ZpZWxkLmpzIiwibm9kZV9tb2R1bGVzL3ZlZ2EtZXhwcmVzc2lvbi9ub2RlX21vZHVsZXMvdmVnYS11dGlsL3NyYy9hY2Nlc3NvcnMuanMiLCJub2RlX21vZHVsZXMvdmVnYS1leHByZXNzaW9uL25vZGVfbW9kdWxlcy92ZWdhLXV0aWwvc3JjL2lzRnVuY3Rpb24uanMiLCJub2RlX21vZHVsZXMvdmVnYS1leHByZXNzaW9uL25vZGVfbW9kdWxlcy92ZWdhLXV0aWwvc3JjL2hhc093blByb3BlcnR5LmpzIiwibm9kZV9tb2R1bGVzL3ZlZ2EtZXhwcmVzc2lvbi9ub2RlX21vZHVsZXMvdmVnYS11dGlsL3NyYy90b1NldC5qcyIsIm5vZGVfbW9kdWxlcy92ZWdhLWV4cHJlc3Npb24vc3JjL2Z1bmN0aW9ucy5qcyIsIm5vZGVfbW9kdWxlcy92ZWdhLWV4cHJlc3Npb24vc3JjL2NvZGVnZW4uanMiLCJzcmMvZGVmYXVsdC9icm93c2VyLmpzIiwic3JjL2RlZmF1bHQvZWFzZS5qcyIsInNyYy9kZWZhdWx0L3ZlZ2FDb25maWcuanMiLCJzcmMvZGVmYXVsdC91dGlsLmpzIiwic3JjL2RlZmF1bHQvc3R5bGUuanMiLCJzcmMvZGVmYXVsdC9lbmNvZGUvdmVnYURlZmF1bHQuanMiLCJzcmMvZGVmYXVsdC9lbmNvZGUvbGVnZW5kLmpzIiwic3JjL2RlZmF1bHQvZW5jb2RlL21hcmsuanMiLCJzcmMvZGVmYXVsdC9lbmNvZGUvYXhpcy5qcyIsInNyYy9kZWZhdWx0L2VuY29kZS9pbmRleC5qcyIsInNyYy9hY3R1YXRvci91dGlsLmpzIiwic3JjL2NoYW5nZUZldGNoZXIvc3RhdGUvdXRpbC5qcyIsInNyYy9lbnVtZXJhdG9yLmpzIiwic3JjL3BhcnNlci9zdGVwRW51bWVyYXRvci5qcyIsInNyYy9wYXJzZXIvaW5kZXguanMiLCJzcmMvdXRpbC92Z0RhdGFIZWxwZXIuanMiLCJzcmMvY2hhbmdlRmV0Y2hlci9zdGF0ZS9kYXRhSm9pbi5qcyIsInNyYy9jaGFuZ2VGZXRjaGVyL3N0YXRlL2NvbXB1dGUvdXRpbC5qcyIsInNyYy9jaGFuZ2VGZXRjaGVyL3N0YXRlL2NvbXB1dGUvbWFyay5qcyIsInNyYy9jaGFuZ2VGZXRjaGVyL3N0YXRlL2NvbXB1dGUvYXhpcy5qcyIsInNyYy9jaGFuZ2VGZXRjaGVyL3N0YXRlL2NvbXB1dGUvbGVnZW5kLmpzIiwic3JjL2NoYW5nZUZldGNoZXIvc3RhdGUvY29tcHV0ZS92aWV3LmpzIiwic3JjL3V0aWwvdmdTcGVjSGVscGVyLmpzIiwic3JjL2NoYW5nZUZldGNoZXIvY2hhbmdlLmpzIiwic3JjL2NoYW5nZUZldGNoZXIvc3RhdGUvaW5kZXguanMiLCJzcmMvYWN0dWF0b3IvdmVnYS1yZW5kZXItdXRpbC5qcyIsInNyYy9hY3R1YXRvci9tYXJrL2ludGVycG9sYXRlUGF0aFlILmpzIiwic3JjL2FjdHVhdG9yL21hcmsvaW50ZXJwb2xhdGVIZWxwZXIuanMiLCJzcmMvYWN0dWF0b3IvYXR0cmlidXRlRmV0Y2hlci5qcyIsInNyYy9hY3R1YXRvci9zdGFnZ2VyaW5nLmpzIiwic3JjL2FjdHVhdG9yL3RpbWluZ3MuanMiLCJzcmMvYWN0dWF0b3IvbWFyay9tYXJrLmpzIiwic3JjL2FjdHVhdG9yL21hcmsvYXJlYUxpbmUuanMiLCJzcmMvYWN0dWF0b3IvYXhpcy5qcyIsInNyYy9hY3R1YXRvci9sZWdlbmQuanMiLCJzcmMvYWN0dWF0b3Ivdmlldy5qcyIsInNyYy9hY3R1YXRvci9pbmRleC5qcyIsInNyYy9yZXNvbHZlci5qcyIsInNyYy9hbmltYXRpb25TZXF1ZW5jZS5qcyIsInNyYy91dGlsL3ZsMnZnNGdlbWluaS5qcyIsInNyYy9nZW1pbmkuanMiLCJzcmMvcmVjb21tZW5kZXIvdXRpbC5qcyIsInNyYy9yZWNvbW1lbmRlci9kaWZmRGV0ZWN0b3IuanMiLCJzcmMvcmVjb21tZW5kZXIvZGlmZkFwcGxpZXIuanMiLCJzcmMvcmVjb21tZW5kZXIvbWFya0NvbXBDaGVja2VyLmpzIiwic3JjL3JlY29tbWVuZGVyL3BzZXVkb1RpbWVsaW5lVmFsaWRhdG9yLmpzIiwic3JjL3JlY29tbWVuZGVyL3BzZXVkb1RpbWVsaW5lRW51bWVyYXRvci5qcyIsInNyYy9yZWNvbW1lbmRlci9kZXNpZ25HdWlkZWxpbmVzLmpzIiwic3JjL3JlY29tbWVuZGVyL3BzZXVkb1RpbWVsaW5lRXZhbHVhdG9yLmpzIiwic3JjL3JlY29tbWVuZGVyL3RpbWVsaW5lR2VuZXJhdG9yLmpzIiwic3JjL3JlY29tbWVuZGVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dyYXBoc2NhcGUvbm9kZV9tb2R1bGVzL3ZlZ2EtdXRpbC9idWlsZC92ZWdhLXV0aWwubW9kdWxlLmpzIiwibm9kZV9tb2R1bGVzL2dyYXBoc2NhcGUvbm9kZV9tb2R1bGVzL3ZlZ2EtZXhwcmVzc2lvbi9idWlsZC92ZWdhLWV4cHJlc3Npb24ubW9kdWxlLmpzIiwibm9kZV9tb2R1bGVzL2dyYXBoc2NhcGUvc3JjL2NvbnN0YW50cy5qcyIsIm5vZGVfbW9kdWxlcy9ncmFwaHNjYXBlL3NyYy91dGlsLmpzIiwibm9kZV9tb2R1bGVzL2dyYXBoc2NhcGUvc3JjL2VkaXRPcC9lZGl0T3BTZXQuanMiLCJub2RlX21vZHVsZXMvZ3JhcGhzY2FwZS9zcmMvdHJhbnNpdGlvbi9uZWlnaGJvci5qcyIsIm5vZGVfbW9kdWxlcy9ncmFwaHNjYXBlL3NyYy90cmFuc2l0aW9uL3RyYW5zLmpzIiwibm9kZV9tb2R1bGVzL2dyYXBoc2NhcGUvbGliL1RTUC5qcyIsIm5vZGVfbW9kdWxlcy9ncmFwaHNjYXBlL3NyYy9zZXF1ZW5jZS9QYXR0ZXJuT3B0aW1pemVyLmpzIiwibm9kZV9tb2R1bGVzL2dyYXBoc2NhcGUvc3JjL3NlcXVlbmNlL1RpZUJyZWFrZXIuanMiLCJub2RlX21vZHVsZXMvZ3JhcGhzY2FwZS9zcmMvc2VxdWVuY2Uvc2VxdWVuY2UuanMiLCJub2RlX21vZHVsZXMvZ3JhcGhzY2FwZS9zcmMvdHJhbnNpdGlvbi9hcHBseS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFwaHNjYXBlL3NyYy9wYXRoL2VudW1lcmF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFwaHNjYXBlL3NyYy9wYXRoL2V2YWx1YXRlUnVsZXMuanMiLCJub2RlX21vZHVsZXMvZ3JhcGhzY2FwZS9zcmMvcGF0aC9ldmFsdWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9ncmFwaHNjYXBlL3NyYy9wYXRoL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2dyYXBoc2NhcGUvc3JjL2luZGV4LmpzIiwic3JjL3JlY29tbWVuZGVyL3NlcXVlbmNlL2luZGV4LmpzIiwic3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEFuaW1hdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHNjaGVkdWxlLCByYXdJbmZvLCBzcGVjKSB7XG4gICAgdGhpcy5zY2hlZHVsZSA9IHNjaGVkdWxlO1xuICAgIHRoaXMubW9tZW50cyA9IHRoaXMuc2NoZWR1bGUubW9tZW50cztcbiAgICB0aGlzLnN0YXR1cyA9IFwicmVhZHlcIjtcbiAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgIHRoaXMubG9ncyA9IFtdO1xuICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgdGhpcy5yYXdJbmZvID0gcmF3SW5mbztcbiAgfVxuXG4gIGxvZyh0aW1lc3RhbXAsIG1lc3NhZ2UsIGluZm8pIHtcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHRpbWVzdGFtcCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5sb2dzLnB1c2goe1xuICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIGluZm9cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sb2dzO1xuICB9XG5cbiAgYXN5bmMgcGxheSh0YXJnZXRFbG0pIHtcbiAgICB0aGlzLnN0YXR1cyA9IFwicGxheWluZ1wiO1xuICAgIC8vIGdldCBtb21lbnRzIGFuZCBzb3J0IGJ5IHNUaW1lXG4gICAgY29uc3QgeyBtb21lbnRzIH0gPSB0aGlzO1xuXG4gICAgY29uc3QgZ2xvYmFsU1RpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuX3N0YXJ0KG1vbWVudHNbMF0uc3RhcnRpbmcsIHRhcmdldEVsbSk7XG4gICAgdGhpcy5sb2cobmV3IERhdGUoKSAtIGdsb2JhbFNUaW1lLCBcIjAtdGggbW9tZW50XCIpO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBtb21lbnQgPSBtb21lbnRzW2ldO1xuXG4gICAgICBhd2FpdCB0aGlzLl9lbmQobW9tZW50KS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLm1heChtb21lbnQudGltZSAtIChuZXcgRGF0ZSgpIC0gZ2xvYmFsU1RpbWUpLCAwKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKCksIGRlbGF5KSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3N0YXJ0KG1vbWVudC5zdGFydGluZywgdGFyZ2V0RWxtKTtcbiAgICAgIHRoaXMubG9nKG5ldyBEYXRlKCkgLSBnbG9iYWxTVGltZSwgYCR7aX0tdGggbW9tZW50YCk7XG5cbiAgICAgIGlmIChpID09PSBtb21lbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBcInJlYWR5XCI7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfc3RhcnQoc3RlcHMsIHRhcmdldEVsbSkge1xuICAgIHN0ZXBzLmZvckVhY2goc3RlcCA9PiB7XG4gICAgICB0aGlzLl9xdWV1ZS5wdXNoKHtcbiAgICAgICAgc1RpbWU6IHN0ZXAuc1RpbWUsXG4gICAgICAgIGVUaW1lOiBzdGVwLmVUaW1lLFxuICAgICAgICBzdGVwLFxuICAgICAgICByZXN1bHQ6IHN0ZXAudGVtcGxhdGUodGhpcy5yYXdJbmZvLCBzdGVwLCB0YXJnZXRFbG0pIC8vIGNvbnRhaW5zIHRoZSBwcm9taXNlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIF9lbmQobW9tZW50KSB7XG4gICAgY29uc3QgeyB0aW1lIH0gPSBtb21lbnQ7XG5cbiAgICBjb25zdCB3b3JraW5nU3RlcHMgPSB0aGlzLl9xdWV1ZS5maWx0ZXIoaXRlbSA9PiBpdGVtLmVUaW1lID09PSB0aW1lKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmtpbmdTdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgYXdhaXQgd29ya2luZ1N0ZXBzW2ldLnJlc3VsdDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgQW5pbWF0aW9uIH07XG4iLCJBcnJheS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbih2LCBhY2Nlc3Nvcikge1xuICBhY2Nlc3NvciA9XG4gICAgYWNjZXNzb3IgfHxcbiAgICAoZCA9PiB7XG4gICAgICByZXR1cm4gZDtcbiAgICB9KTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFjY2Vzc29yKHRoaXNbaV0pID09PSBhY2Nlc3Nvcih2KSkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbkFycmF5LnByb3RvdHlwZS5jb250YWluQWxsID0gZnVuY3Rpb24oYXJyLCBhY2Nlc3Nvcikge1xuICBhY2Nlc3NvciA9XG4gICAgYWNjZXNzb3IgfHxcbiAgICAoZCA9PiB7XG4gICAgICByZXR1cm4gZDtcbiAgICB9KTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbnMoYXJyW2ldLCBhY2Nlc3NvcikpIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkFycmF5LnByb3RvdHlwZS51bmlxdWUgPSBmdW5jdGlvbihhY2Nlc3Nvcikge1xuICBjb25zdCBhcnIgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCFhcnIuY29udGFpbnModGhpc1tpXSwgYWNjZXNzb3IpKSB7XG4gICAgICBhcnIucHVzaCh0aGlzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn07XG5mdW5jdGlvbiB1bmlvbihhcnIxLCBhcnIyLCBhY2Nlc3NvciA9IChkKSA9PiBkKSB7XG4gIGxldCByZXN1bHQgPSBbLi4uYXJyMV07XG4gIHJldHVybiByZXN1bHQuY29uY2F0KGFycjIuZmlsdGVyKHggPT4gIWFycjEuZmluZCh5ID0+IGFjY2Vzc29yKHgpID09PSBhY2Nlc3Nvcih5KSkpKVxufVxuZnVuY3Rpb24gaW50ZXJzZWN0aW9uKGFycjEsIGFycjIsIGFjY2Vzc29yID0gKGQpID0+IGQpIHtcbiAgcmV0dXJuIGFycjIuZmlsdGVyKHggPT4gYXJyMS5maW5kKHkgPT4gYWNjZXNzb3IoeCkgPT09IGFjY2Vzc29yKHkpKSlcbn1cbkFycmF5LnByb3RvdHlwZS5zYW1wbGUgPSBmdW5jdGlvbihOKSB7XG4gIGNvbnN0IHRlbXBUaGlzID0gdGhpcy5zbGljZSgpO1xuICBjb25zdCBzYW1wbGVkID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgc2FtcGxlZC5wdXNoKFxuICAgICAgdGVtcFRoaXMuc3BsaWNlKFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0ZW1wVGhpcy5sZW5ndGgpXSwgMSlbMF1cbiAgICApO1xuICB9XG4gIHJldHVybiBzYW1wbGVkO1xufTtcblxuQXJyYXkucHJvdG90eXBlLnNodWZmbGUgPSBmdW5jdGlvbigpIHtcbiAgZm9yIChsZXQgaSA9IHRoaXMubGVuZ3RoOyBpOyBpLS0pIHtcbiAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaSk7XG4gICAgW3RoaXNbaSAtIDFdLCB0aGlzW2pdXSA9IFt0aGlzW2pdLCB0aGlzW2kgLSAxXV07XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuQXJyYXkucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMpKTtcbn07XG5mdW5jdGlvbiBzdHJpbmdpZnlEYXR1bVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBcIl9fbnVsbF9fXCI7XG4gIH1cbiAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG59XG5mdW5jdGlvbiBkZWVwRXF1YWwob2JqMSwgb2JqMikge1xuICBpZiAob2JqMSA9PT0gb2JqMikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChpc0RhdGUob2JqMSkgJiYgaXNEYXRlKG9iajIpKSB7XG4gICAgcmV0dXJuIE51bWJlcihvYmoxKSA9PT0gTnVtYmVyKG9iajIpO1xuICB9XG4gIGlmIChcbiAgICB0eXBlb2Ygb2JqMSA9PT0gXCJvYmplY3RcIiAmJlxuICAgIG9iajEgIT09IHVuZGVmaW5lZCAmJlxuICAgIHR5cGVvZiBvYmoyID09PSBcIm9iamVjdFwiICYmXG4gICAgb2JqMiAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIGNvbnN0IHByb3BzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICAgIGNvbnN0IHByb3BzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICAgIGlmIChwcm9wczEubGVuZ3RoICE9PSBwcm9wczIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wczEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHByb3AgPSBwcm9wczFbaV07XG5cbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iajIsIHByb3ApIHx8ICFkZWVwRXF1YWwob2JqMVtwcm9wXSwgb2JqMltwcm9wXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNvcHkob2JqKSB7XG4gIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG4vLyBjcmVhdGUgYSBuZXcgb2JqIHRoYXQgaGFzIHRoZSBzYW1lIGtleXMgcG9pbnRpbmcgdGhlIHNhbWUgdmFsdWVzL2Z1bmN0aW9ucztcbmZ1bmN0aW9uIGNvcHkyKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuICAgIGFjY1tjdXJyXSA9IG9ialtjdXJyXTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5mdW5jdGlvbiBmbGF0dGVuKGFycmF5cykge1xuICByZXR1cm4gYXJyYXlzLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgYWNjID0gYWNjLmNvbmNhdChjdXJyKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHBlcm11dGF0ZShhcnIpIHtcbiAgaWYgKGFyci5sZW5ndGggPT09IDIpIHtcbiAgICByZXR1cm4gW2FyciwgW2FyclsxXSwgYXJyWzBdXV07XG4gIH1cbiAgcmV0dXJuIGFyci5yZWR1Y2UoKGFjYywgYW5jaG9yLCBpKSA9PiB7XG4gICAgY29uc3Qgd29ya2luZ0FyciA9IGNvcHkoYXJyKTtcbiAgICB3b3JraW5nQXJyLnNwbGljZShpLCAxKTtcblxuICAgIGFjYyA9IGFjYy5jb25jYXQoXG4gICAgICBwZXJtdXRhdGUod29ya2luZ0FycikubWFwKG5ld0FyciA9PiB7XG4gICAgICAgIHJldHVybiBbYW5jaG9yXS5jb25jYXQobmV3QXJyKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSk7XG59XG5mdW5jdGlvbiBpc0RhdGUobykge1xuICByZXR1cm4gbyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvLmdldE1vbnRoID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGVudW1BcnIoYXJyLCBpdGVtKSB7XG4gIGNvbnN0IG5ld0FycnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBuZXdBcnIgPSBjb3B5KGFycik7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV3QXJyW2ldKSkge1xuICAgICAgbmV3QXJyW2ldLnB1c2goaXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0FycltpXSA9IFtuZXdBcnJbaV0sIGl0ZW1dO1xuICAgIH1cbiAgICBuZXdBcnJzLnB1c2gobmV3QXJyKTtcbiAgfVxuICByZXR1cm4gbmV3QXJycztcbn1cblxuZnVuY3Rpb24gZW51bUFycmF5c0J5SXRlbXMoYXJycywgaXRlbXMsIGVudW1BcnJGbiA9IGVudW1BcnIpIHtcbiAgbGV0IG5ld0FycnMgPSBjb3B5KGFycnMpO1xuICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgIG5ld0FycnMgPSBuZXdBcnJzLnJlZHVjZSgoYWxsQXJycywgYXJyKSA9PiB7XG4gICAgICByZXR1cm4gKGFsbEFycnMgPSBhbGxBcnJzLmNvbmNhdChlbnVtQXJyRm4oYXJyLCBpdGVtKSkpO1xuICAgIH0sIFtdKTtcbiAgfSk7XG4gIHJldHVybiBuZXdBcnJzO1xufVxuXG5mdW5jdGlvbiBnZXQobywgLi4ucHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnJlZHVjZSgob2JqLCBwcm9wKSA9PiB7XG4gICAgcmV0dXJuICFpc051bGxPclVuZGVmaW5lZChvYmopICYmICFpc051bGxPclVuZGVmaW5lZChvYmpbcHJvcF0pXG4gICAgICA/IG9ialtwcm9wXVxuICAgICAgOiB1bmRlZmluZWQ7XG4gIH0sIG8pO1xufVxuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChvYmopIHtcbiAgcmV0dXJuIG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzTnVtYmVyKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcIm51bWJlclwiICYmICFpc05hTih4KTtcbn1cbmZ1bmN0aW9uIHJvdW5kVXAobnVtLCBkID0gNSkge1xuICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnBvdygxMCwgZCkgKiBudW0pIC8gTWF0aC5wb3coMTAsIGQpO1xufVxuQXJyYXkucHJvdG90eXBlLmV4Y2x1ZGUgPSBmdW5jdGlvbihpdGVtcywgYWNjZXNzb3IgPSB4ID0+IHgpIHtcbiAgY29uc3QgbmV3QXJyID0gdGhpcy5zbGljZSgpO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICBjb25zdCBpID0gbmV3QXJyLmZpbmRJbmRleCh4ID0+IGFjY2Vzc29yKHgpID09PSBhY2Nlc3NvcihpdGVtKSk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgbmV3QXJyLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld0Fycjtcbn07XG5mdW5jdGlvbiB2YXJpYW5jZShudW1zKSB7XG4gIGNvbnN0IG11ID0gbWVhbihudW1zKTtcbiAgcmV0dXJuIChcbiAgICBudW1zLnJlZHVjZSgoYWNjLCBudW0pID0+IChhY2MgKz0gTWF0aC5wb3cobnVtIC0gbXUsIDIpKSwgMCkgLyBudW1zLmxlbmd0aFxuICApO1xufVxuZnVuY3Rpb24gbWVhbihudW1zKSB7XG4gIHJldHVybiBudW1zLnJlZHVjZSgoc3VtLCBudW0pID0+IHN1bSArIG51bSwgMCkgLyBudW1zLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gaXNFbXB0eShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyhvKS5sZW5ndGggPT09IDA7XG59XG5mdW5jdGlvbiBpc0RlZmluaXRlbHlOYU4obykge1xuICByZXR1cm4gKCh0eXBlb2YodikgPT09IFwibnVtYmVyXCIgKSAmJiBpc05hTih2KSlcbn1cbmZ1bmN0aW9uIGlzVmFsdWUodikge1xuICByZXR1cm4gKHYgIT09IHVuZGVmaW5lZCkgJiYgKHYgIT09IG51bGwpICYmICEoaXNEZWZpbml0ZWx5TmFOKHYpKVxufVxuLy8gcGFydGl0aW9uaW5nIHRoZSBhcnJheSBpbnRvIE5fcCBhcnJheXNcbmZ1bmN0aW9uIHBhcnRpdGlvbihhcnIsIE5fcCkge1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gTl9wKSB7XG4gICAgcmV0dXJuIFthcnIubWFwKGl0ZW0gPT4gW2l0ZW1dKV1cbiAgfSBlbHNlIGlmIChOX3AgPT09IDEpIHtcbiAgICByZXR1cm4gW1thcnJdXVxuICB9IGVsc2UgaWYgKE5fcCA+IGFyci5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBwYXJ0aXRpb24gdGhlIGFycmF5IG9mICR7YXJyLmxlbmd0aH0gaW50byAke05fcH0uYCk7XG4gIH0gZWxzZSBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgaXRlbSA9IFthcnJbMF1dO1xuICBsZXQgbmV3QXJyID0gYXJyLnNsaWNlKDEpO1xuICBsZXQgcmVzdWx0cyA9ICBwYXJ0aXRpb24obmV3QXJyLCBOX3AgLSAxKS5tYXAocHQgPT4ge1xuICAgIGxldCBuZXdQdCA9IGNvcHkocHQpO1xuICAgIG5ld1B0LnB1c2goaXRlbSlcbiAgICByZXR1cm4gbmV3UHRcbiAgfSk7XG4gIHJldHVybiBwYXJ0aXRpb24obmV3QXJyLCBOX3ApLnJlZHVjZSgocmVzdWx0cywgY3VyclB0KSA9PiB7XG5cbiAgICByZXR1cm4gcmVzdWx0cy5jb25jYXQoY3VyclB0Lm1hcCgocCwgaSwgY3VyclB0KSA9PiB7XG4gICAgICBsZXQgbmV3UHQgPSBjb3B5KGN1cnJQdCk7XG4gICAgICBsZXQgbmV3UCA9IGNvcHkocCk7XG4gICAgICBuZXdQLnB1c2goaXRlbVswXSk7XG4gICAgICBuZXdQdFtpXSA9IG5ld1A7XG4gICAgICByZXR1cm4gbmV3UHQ7XG4gICAgfSkpO1xuICB9LCByZXN1bHRzKVxufVxuZnVuY3Rpb24gY3Jvc3NKb2luKEEsIEIpIHtcbiAgcmV0dXJuIEIucmVkdWNlKChyZXN1bHQsIGIpID0+IHtcbiAgICByZXR1cm4gcmVzdWx0LmNvbmNhdChBLm1hcChhID0+IFthLGJdKSlcbiAgfSwgW10pXG59XG5cbmZ1bmN0aW9uIGNyb3NzSm9pbkFycmF5cyhhcnJzKSB7XG4gIHJldHVybiBhcnJzLnJlZHVjZSgoYWNjLCBjdXJyQXJyYXkpID0+IHtcbiAgICByZXR1cm4gY3VyckFycmF5LnJlZHVjZSgocmVzdWx0LCBiKSA9PiB7XG4gICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdChhY2MubWFwKGEgPT4gWy4uLmEsIGJdKSlcbiAgICB9LCBbXSlcbiAgfSwgW1tdXSlcbn1cblxuLy9FbnVtZXJhdGUgYWxsIHdheXMgb2Ygc3BsaXR0aW5nIGFyciBpbnRvIE4gbm9uLWVtcHR5IGFycmF5c1xuZnVuY3Rpb24gTlNwbGl0cyhhcnIsIE4pIHtcbiAgaWYgKE4gPT09IDEpIHtcbiAgICByZXR1cm4gW1thcnJdXVxuICB9IGVsc2UgaWYgKGFyci5sZW5ndGggPT09IE4pIHtcbiAgICByZXR1cm4gW2Fyci5tYXAoaXRlbSA9PiB7IHJldHVybiBbaXRlbV0gfSldO1xuICB9IGVsc2UgaWYgKGFyci5sZW5ndGggPCBOKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc3BsaXQgJHthcnIubGVuZ3RofS1sb25nIGFycmF5IGludG8gJHtOfS5gKVxuICB9XG4gIGxldCByZXN1bHRzID0gW107XG4gIGZvciAobGV0IGkgPSAxOyBhcnIubGVuZ3RoIC1pID49IE4tMTsgaSsrKSB7XG4gICAgbGV0IGRpdmlzaW9uID0gTlNwbGl0cyhhcnIuc2xpY2UoaSksIE4tMSkubWFwKGRpdmlzaW9uID0+IHtcbiAgICAgIHJldHVybiBbYXJyLnNsaWNlKDAsaSldLmNvbmNhdChkaXZpc2lvbilcbiAgICB9KVxuICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChkaXZpc2lvbik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmV4cG9ydCB7XG4gIE5TcGxpdHMsXG4gIGlzVmFsdWUsXG4gIGRlZXBFcXVhbCxcbiAgY29weSxcbiAgY29weTIsXG4gIGZsYXR0ZW4sXG4gIHBlcm11dGF0ZSxcbiAgaXNOdW1iZXIsXG4gIGVudW1BcnJheXNCeUl0ZW1zLFxuICBnZXQsXG4gIHJvdW5kVXAsXG4gIHZhcmlhbmNlLFxuICBtZWFuLFxuICBpc0VtcHR5LFxuICBzdHJpbmdpZnlEYXR1bVZhbHVlLFxuICBwYXJ0aXRpb24sXG4gIHVuaW9uLFxuICBpbnRlcnNlY3Rpb24sXG4gIGNyb3NzSm9pbixcbiAgY3Jvc3NKb2luQXJyYXlzXG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocGFyc2VkQmxvY2ssIHBhcnNlZFN0ZXBzKSB7XG4gIGxldCByZXNvbHZlcyA9IGNvbGxlY3QocGFyc2VkQmxvY2spO1xuICAvLyAxLTIuIGNvbGxlY3QgdGhlIGFsdGVybmF0aXZlIHRpbWVsaW5lcy4gKGFsdGVySWRzKVxuICByZXNvbHZlcy5mb3JFYWNoKHIgPT4ge1xuICAgIHIuYWx0ZXJJZHMgPSBwYXJzZWRTdGVwc1xuICAgICAgLmZpbHRlcihcbiAgICAgICAgc3RlcCA9PiBzdGVwLmFsdGVySWQgJiZcbiAgICAgICAgICAoc3RlcC5hbHRlcklkLnNwbGl0KFwiOlwiKVswXSA9PT0gci5hbHRlck5hbWUpXG4gICAgICApXG4gICAgICAubWFwKHN0ZXAgPT4gc3RlcC5hbHRlcklkKVxuICAgICAgLnVuaXF1ZSgpO1xuXG4gICAgLy8gUGxhY2UgXCI6bWFpblwiIGF0IGZpcnN0XG4gICAgY29uc3QgaSA9IHIuYWx0ZXJJZHMuZmluZEluZGV4KGQgPT4gZC5pbmRleE9mKFwiOm1haW5cIikgPj0gMCk7XG4gICAgY29uc3QgaGVhZCA9IHIuYWx0ZXJJZHMuc3BsaWNlKGksIDEpO1xuICAgIHIuYWx0ZXJJZHMgPSBoZWFkLmNvbmNhdChyLmFsdGVySWRzKTtcbiAgfSk7XG4gIHJldHVybiByZXNvbHZlcztcbn1cblxuZnVuY3Rpb24gY29sbGVjdChibG9jaykge1xuICBsZXQgcmVzb2x2ZXMgPSBbXTtcblxuICBpZiAoYmxvY2suc3luYykge1xuICAgIGJsb2NrLnN5bmMuZm9yRWFjaChibGsgPT4ge1xuICAgICAgcmVzb2x2ZXMgPSByZXNvbHZlcy5jb25jYXQoY29sbGVjdChibGspKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChibG9jay5jb25jYXQpIHtcbiAgICBibG9jay5jb25jYXQuZm9yRWFjaChibGsgPT4ge1xuICAgICAgcmVzb2x2ZXMgPSByZXNvbHZlcy5jb25jYXQoY29sbGVjdChibGspKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoYmxvY2sucmVzb2x2ZSkge1xuICAgIHJlc29sdmVzLnB1c2goYmxvY2sucmVzb2x2ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc29sdmVzO1xufSIsImNsYXNzIFNjaGVkdWxlIHtcbiAgY29uc3RydWN0b3IocGFyc2VkU3RlcHMpIHtcbiAgICAvLyBBc3NnaW4gdGhlIHNUaW1lIGFuZCBlVGltZVxuXG4gICAgbGV0IG5ld1BhcnNlZFN0ZXBzID0gcGFyc2VkU3RlcHMubWFwKChzdHAsIGkpID0+IHtcbiAgICAgIHJldHVybiB7IC4uLnN0cCwgc3RlcElkOiBpIH07XG4gICAgfSk7XG5cbiAgICB0aGlzLnRyYWNrcyA9IG5ld1BhcnNlZFN0ZXBzXG4gICAgICAubWFwKGQgPT4ge1xuICAgICAgICBjb25zdCB0cmFja05hbWUgPSAoZC50cmFja05hbWUgPSBkLmNvbXBOYW1lXG4gICAgICAgICAgPyBgJHtkLmNvbXBUeXBlfS4ke2QuY29tcE5hbWV9YFxuICAgICAgICAgIDogZC5jb21wVHlwZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiB0cmFja05hbWUsXG4gICAgICAgICAgY29tcFR5cGU6IGQuY29tcFR5cGUsXG4gICAgICAgICAgY29tcE5hbWU6IGQuY29tcE5hbWVcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAudW5pcXVlKGQgPT4gZC5uYW1lKVxuICAgICAgLm1hcCh0cmFjayA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4udHJhY2ssXG4gICAgICAgICAgc3RlcHM6IG5ld1BhcnNlZFN0ZXBzLmZpbHRlcihkID0+IGQudHJhY2tOYW1lID09PSB0cmFjay5uYW1lKVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gIH1cblxuXG4gIGdldFRpbWVsaW5lKGFsdGVySWQpIHtcbiAgICByZXR1cm4gdGhpcy50cmFja3MubWFwKHRyYWNrID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0cmFjaywge1xuICAgICAgICBzdGVwczogdHJhY2suc3RlcHMuZmlsdGVyKFxuICAgICAgICAgIHN0ZXAgPT4gc3RlcC5hbHRlcklkID09PSB1bmRlZmluZWQgfHwgc3RlcC5hbHRlcklkLmluZGV4T2YoYWx0ZXJJZCkgPj0gMFxuICAgICAgICApXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFRpbWVsaW5lQWx0ZXJuYXRvcihzY2FsZU9yZGVyUmVzb3ZsZXMpIHtcbiAgICBsZXQgY291bnRlciA9IDA7XG4gICAgbGV0IGRpdmlkZXJzID0gc2NhbGVPcmRlclJlc292bGVzLnJlZHVjZShcbiAgICAgIChhY2MsIHIsIGkpID0+IHtcbiAgICAgICAgYWNjLnB1c2goci5hbHRlcklkcy5sZW5ndGggKiBhY2NbaV0pO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSxcbiAgICAgIFsxXVxuICAgICk7XG4gICAgY29uc3QgdG90YWxDb3VudCA9IGRpdmlkZXJzW2RpdmlkZXJzLmxlbmd0aCAtIDFdO1xuICAgIGRpdmlkZXJzID0gZGl2aWRlcnMuc2xpY2UoMCwgZGl2aWRlcnMubGVuZ3RoIC0gMSkuc29ydCgoYSwgYikgPT4gYiAtIGEpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb3VudGVyICs9IDE7XG4gICAgICBjb3VudGVyICU9IHRvdGFsQ291bnQ7XG4gICAgICBpZiAoY291bnRlciA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJHZW1pbmkgY2Fubm90IGZpbmQgdGhlIG9yZGVyIHRvIHJlc29sdmUuXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGl2aWRlcnMucmVkdWNlKFxuICAgICAgICAoYWNjLCBkaXZpZGVyLCBpKSA9PiB7XG4gICAgICAgICAgY29uc3QgcSA9IE1hdGguZmxvb3IoYWNjLnJlbWFpbmRlciAvIGRpdmlkZXIpO1xuICAgICAgICAgIGFjYy5yZW1haW5kZXIgLT0gcSAqIGRpdmlkZXI7XG4gICAgICAgICAgY29uc3QgcmVzb2x2ZSA9IHNjYWxlT3JkZXJSZXNvdmxlc1tpXTtcblxuICAgICAgICAgIGNvbnN0IGFsdGVySWQgPSByZXNvbHZlLmFsdGVySWRzW3FdO1xuXG4gICAgICAgICAgYWNjLnRyYWNrcyA9IGFjYy50cmFja3MubWFwKHRyYWNrID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0ZXBzID0gdHJhY2suc3RlcHMuZmlsdGVyKHN0ZXAgPT4ge1xuICAgICAgICAgICAgICBpZiAoc3RlcC5hbHRlcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3RlcC5hbHRlcklkLnNwbGl0KFwiOlwiKVswXSA9PT0gYWx0ZXJJZC5zcGxpdChcIjpcIilbMF0gJiZcbiAgICAgICAgICAgICAgICBzdGVwLmFsdGVySWQuc3BsaXQoXCI6XCIpWzFdICE9PSBhbHRlcklkLnNwbGl0KFwiOlwiKVsxXVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRyYWNrLCB7IHN0ZXBzOiBuZXdTdGVwcyB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sXG4gICAgICAgIHsgdHJhY2tzOiB0aGlzLnRyYWNrcywgcmVtYWluZGVyOiBjb3VudGVyIH1cbiAgICAgICkudHJhY2tzO1xuICAgIH07XG4gIH1cblxuXG59XG5cblxuXG5cblxuZXhwb3J0IHtTY2hlZHVsZX07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hlY2soc2NoZWR1bGUsIHJlc29sdmVzKSB7XG4gIC8vIDMuIGNoZWNrIGlmIHRoZXJlIGlzIGFueSBjb21wb25lbnQgd2hvc2Ugc3RlcHMgYXJlIG92ZXJsYXBwZWQgYnkgdGhlbXNlbHZlcy5cbiAgbGV0IHRyYWNrc1BlckFsdGVySWQgPSBbeyBhbHRlcklkOiBcIjptYWluXCIsIHRyYWNrczogc2NoZWR1bGUudHJhY2tzIH1dO1xuICBpZiAocmVzb2x2ZXMubGVuZ3RoID4gMCkge1xuICAgIHRyYWNrc1BlckFsdGVySWQgPSByZXNvbHZlc1xuICAgICAgLnJlZHVjZSgoYWxsQWx0ZXJJZHMsIHJlc29sdmUpID0+IHtcbiAgICAgICAgcmV0dXJuIGFsbEFsdGVySWRzLmNvbmNhdChyZXNvbHZlLmFsdGVySWRzKTtcbiAgICAgIH0sIFtdKVxuICAgICAgLm1hcChhbHRlcklkID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0cmFja3M6IHNjaGVkdWxlLnRyYWNrcy5tYXAodHJhY2sgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4udHJhY2ssXG4gICAgICAgICAgICAgIHN0ZXBzOiB0cmFjay5zdGVwcy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgc3RwID0+ICFzdHAuYWx0ZXJJZCB8fCBhbHRlcklkID09PSBzdHAuYWx0ZXJJZFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGFsdGVySWRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICB9XG4gIGNvbnN0IGNvbmZsaWN0c1BlckFsdGVySWQgPSB0cmFja3NQZXJBbHRlcklkLm1hcChmaW5kQ29uZmxpY3RzKTtcbiAgY29uc3QgY29uZmxpY3RlZEFsdGVySWRzID0gY29uZmxpY3RzUGVyQWx0ZXJJZFxuICAgIC5maWx0ZXIoY29uZmxpY3RzID0+IGNvbmZsaWN0cy5sZW5ndGggPiAwKVxuICAgIC5tYXAoY29uZmxpY3RzID0+IGNvbmZsaWN0cy5hbHRlcklkKTtcblxuICBpZiAoY29uZmxpY3RlZEFsdGVySWRzLmxlbmd0aCA9PT0gdHJhY2tzUGVyQWx0ZXJJZC5sZW5ndGgpIHtcbiAgICBpZiAoY29uZmxpY3RzUGVyQWx0ZXJJZC5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiQWxsIHBvc3NpYmxlIHRpbWVsaW5lcyBoYXZlIDErIHNjaGVkdWxlIGNvbmZsaWN0LlwiLFxuICAgICAgICBjb25mbGljdHNQZXJBbHRlcklkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIHRpbWVsaW5lIGhhcyAxKyBzY2hlZHVsZSBjb25mbGljdC5cIixcbiAgICAgICAgY29uZmxpY3RzUGVyQWx0ZXJJZFxuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY29uZmxpY3RlZEFsdGVySWRzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoXG4gICAgICBjb25mbGljdHNQZXJBbHRlcklkLmZpbmQoY29uZmxpY3RzID0+XG4gICAgICAgIGNvbmZsaWN0cy5maW5kKGNvbmYgPT4gY29uZi5hbHRlcklkLmluZGV4T2YoXCI6bWFpblwiKSA+PSAwKVxuICAgICAgKVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIlRoZSBtYWluIHRpbWVsaW5lIChzcGVjaWZpZWQgdGltZWxpbmUpIGhhcyAxKyBzY2hlZHVsZSBjb25mbGljdC5cIixcbiAgICAgICAgY29uZmxpY3RzUGVyQWx0ZXJJZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIlNvbWUgcG9zc2libGUgdGltZWxpbmVzIGhhdmUgMSsgc2NoZWR1bGUgY29uZmxpY3QuXCIsXG4gICAgICAgIGNvbmZsaWN0c1BlckFsdGVySWRcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHNjaGVkdWxlLnRyYWNrcyA9IHNjaGVkdWxlLnRyYWNrcy5tYXAodHJhY2sgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50cmFjayxcbiAgICAgIHN0ZXBzOiB0cmFjay5zdGVwcy5maWx0ZXIoXG4gICAgICAgIHN0cCA9PiBjb25mbGljdGVkQWx0ZXJJZHMuaW5kZXhPZihzdHAuYWx0ZXJJZCkgPCAwXG4gICAgICApXG4gICAgfTtcbiAgfSk7XG4gIHJlc29sdmVzID0gcmVzb2x2ZXMubWFwKHJlc29sdmUgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXNvbHZlLFxuICAgICAgYWx0ZXJJZHM6IHJlc29sdmUuYWx0ZXJJZHMuZmlsdGVyKFxuICAgICAgICBpZCA9PiBjb25mbGljdGVkQWx0ZXJJZHMuaW5kZXhPZihpZCkgPCAwXG4gICAgICApXG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtjb25mbGljdHNQZXJBbHRlcklkfTtcbn1cblxuXG5mdW5jdGlvbiBmaW5kQ29uZmxpY3RzKHRyYWNrc1dpdGhBbHRlcklkKSB7XG4gIGNvbnN0IGNvbmZsaWN0cyA9IFtdO1xuICBjb25zdCB7IHRyYWNrcyB9ID0gdHJhY2tzV2l0aEFsdGVySWQ7XG4gIGNvbnN0IHsgYWx0ZXJJZCB9ID0gdHJhY2tzV2l0aEFsdGVySWQ7XG5cbiAgZm9yIChjb25zdCB0cmFjayBvZiB0cmFja3MpIHtcbiAgICBjb25zdCBzb3J0ZWRTdGVwcyA9IHRyYWNrLnN0ZXBzLnNvcnQoXG4gICAgICAoc3RwMSwgc3RwMikgPT4gc3RwMS5zVGltZSAtIHN0cDIuc1RpbWVcbiAgICApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkU3RlcHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBpZiAoc29ydGVkU3RlcHNbaV0uZVRpbWUgPiBzb3J0ZWRTdGVwc1tpICsgMV0uc1RpbWUpIHtcbiAgICAgICAgY29uZmxpY3RzLnB1c2goe1xuICAgICAgICAgIGFsdGVySWQsXG4gICAgICAgICAgY29uZmxpY3RlZFN0ZXBzOiBbc29ydGVkU3RlcHNbaV0sIHNvcnRlZFN0ZXBzW2kgKyAxXV0sXG4gICAgICAgICAgY29tcE5hbWU6IHRyYWNrLmNvbXBOYW1lLFxuICAgICAgICAgIGNvbXBUeXBlOiB0cmFjay5jb21wVHlwZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmxpY3RzO1xufSIsImV4cG9ydCBmdW5jdGlvbiBtZXJnZSguLi5zZXRzOkFycmF5PHN0cmluZz4pOnN0cmluZyB7XG5cdGlmIChzZXRzLmxlbmd0aCA+IDEpIHtcblx0XHRzZXRzWzBdID0gc2V0c1swXS5zbGljZSgwLCAtMSk7XG5cdFx0Y29uc3QgeGwgPSBzZXRzLmxlbmd0aCAtIDE7XG5cdFx0Zm9yIChsZXQgeCA9IDE7IHggPCB4bDsgKyt4KSB7XG5cdFx0XHRzZXRzW3hdID0gc2V0c1t4XS5zbGljZSgxLCAtMSk7XG5cdFx0fVxuXHRcdHNldHNbeGxdID0gc2V0c1t4bF0uc2xpY2UoMSk7XG5cdFx0cmV0dXJuIHNldHMuam9pbignJyk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHNldHNbMF07XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YmV4cChzdHI6c3RyaW5nKTpzdHJpbmcge1xuXHRyZXR1cm4gXCIoPzpcIiArIHN0ciArIFwiKVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHlwZU9mKG86YW55KTpzdHJpbmcge1xuXHRyZXR1cm4gbyA9PT0gdW5kZWZpbmVkID8gXCJ1bmRlZmluZWRcIiA6IChvID09PSBudWxsID8gXCJudWxsXCIgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc3BsaXQoXCIgXCIpLnBvcCgpLnNwbGl0KFwiXVwiKS5zaGlmdCgpLnRvTG93ZXJDYXNlKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9VcHBlckNhc2Uoc3RyOnN0cmluZyk6c3RyaW5nIHtcblx0cmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheShvYmo6YW55KTpBcnJheTxhbnk+IHtcblx0cmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbCA/IChvYmogaW5zdGFuY2VvZiBBcnJheSA/IG9iaiA6ICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gXCJudW1iZXJcIiB8fCBvYmouc3BsaXQgfHwgb2JqLnNldEludGVydmFsIHx8IG9iai5jYWxsID8gW29ial0gOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopKSkgOiBbXTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduKHRhcmdldDogb2JqZWN0LCBzb3VyY2U6IGFueSk6IGFueSB7XG5cdGNvbnN0IG9iaiA9IHRhcmdldCBhcyBhbnk7XG5cdGlmIChzb3VyY2UpIHtcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcblx0XHRcdG9ialtrZXldID0gc291cmNlW2tleV07XG5cdFx0fVxuXHR9XG5cdHJldHVybiBvYmo7XG59IiwiaW1wb3J0IHsgVVJJUmVnRXhwcyB9IGZyb20gXCIuL3VyaVwiO1xuaW1wb3J0IHsgbWVyZ2UsIHN1YmV4cCB9IGZyb20gXCIuL3V0aWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRXhwcyhpc0lSSTpib29sZWFuKTpVUklSZWdFeHBzIHtcblx0Y29uc3Rcblx0XHRBTFBIQSQkID0gXCJbQS1aYS16XVwiLFxuXHRcdENSJCA9IFwiW1xcXFx4MERdXCIsXG5cdFx0RElHSVQkJCA9IFwiWzAtOV1cIixcblx0XHREUVVPVEUkJCA9IFwiW1xcXFx4MjJdXCIsXG5cdFx0SEVYRElHJCQgPSBtZXJnZShESUdJVCQkLCBcIltBLUZhLWZdXCIpLCAgLy9jYXNlLWluc2Vuc2l0aXZlXG5cdFx0TEYkJCA9IFwiW1xcXFx4MEFdXCIsXG5cdFx0U1AkJCA9IFwiW1xcXFx4MjBdXCIsXG5cdFx0UENUX0VOQ09ERUQkID0gc3ViZXhwKHN1YmV4cChcIiVbRUZlZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVs4OUEtRmEtZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVwiICsgSEVYRElHJCQgKyBIRVhESUckJCkpLCAgLy9leHBhbmRlZFxuXHRcdEdFTl9ERUxJTVMkJCA9IFwiW1xcXFw6XFxcXC9cXFxcP1xcXFwjXFxcXFtcXFxcXVxcXFxAXVwiLFxuXHRcdFNVQl9ERUxJTVMkJCA9IFwiW1xcXFwhXFxcXCRcXFxcJlxcXFwnXFxcXChcXFxcKVxcXFwqXFxcXCtcXFxcLFxcXFw7XFxcXD1dXCIsXG5cdFx0UkVTRVJWRUQkJCA9IG1lcmdlKEdFTl9ERUxJTVMkJCwgU1VCX0RFTElNUyQkKSxcblx0XHRVQ1NDSEFSJCQgPSBpc0lSSSA/IFwiW1xcXFx4QTAtXFxcXHUyMDBEXFxcXHUyMDEwLVxcXFx1MjAyOVxcXFx1MjAyRi1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZFRl1cIiA6IFwiW11cIiwgIC8vc3Vic2V0LCBleGNsdWRlcyBiaWRpIGNvbnRyb2wgY2hhcmFjdGVyc1xuXHRcdElQUklWQVRFJCQgPSBpc0lSSSA/IFwiW1xcXFx1RTAwMC1cXFxcdUY4RkZdXCIgOiBcIltdXCIsICAvL3N1YnNldFxuXHRcdFVOUkVTRVJWRUQkJCA9IG1lcmdlKEFMUEhBJCQsIERJR0lUJCQsIFwiW1xcXFwtXFxcXC5cXFxcX1xcXFx+XVwiLCBVQ1NDSEFSJCQpLFxuXHRcdFNDSEVNRSQgPSBzdWJleHAoQUxQSEEkJCArIG1lcmdlKEFMUEhBJCQsIERJR0lUJCQsIFwiW1xcXFwrXFxcXC1cXFxcLl1cIikgKyBcIipcIiksXG5cdFx0VVNFUklORk8kID0gc3ViZXhwKHN1YmV4cChQQ1RfRU5DT0RFRCQgKyBcInxcIiArIG1lcmdlKFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkLCBcIltcXFxcOl1cIikpICsgXCIqXCIpLFxuXHRcdERFQ19PQ1RFVCQgPSBzdWJleHAoc3ViZXhwKFwiMjVbMC01XVwiKSArIFwifFwiICsgc3ViZXhwKFwiMlswLTRdXCIgKyBESUdJVCQkKSArIFwifFwiICsgc3ViZXhwKFwiMVwiICsgRElHSVQkJCArIERJR0lUJCQpICsgXCJ8XCIgKyBzdWJleHAoXCJbMS05XVwiICsgRElHSVQkJCkgKyBcInxcIiArIERJR0lUJCQpLFxuXHRcdERFQ19PQ1RFVF9SRUxBWEVEJCA9IHN1YmV4cChzdWJleHAoXCIyNVswLTVdXCIpICsgXCJ8XCIgKyBzdWJleHAoXCIyWzAtNF1cIiArIERJR0lUJCQpICsgXCJ8XCIgKyBzdWJleHAoXCIxXCIgKyBESUdJVCQkICsgRElHSVQkJCkgKyBcInxcIiArIHN1YmV4cChcIjA/WzEtOV1cIiArIERJR0lUJCQpICsgXCJ8MD8wP1wiICsgRElHSVQkJCksICAvL3JlbGF4ZWQgcGFyc2luZyBydWxlc1xuXHRcdElQVjRBRERSRVNTJCA9IHN1YmV4cChERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQpLFxuXHRcdEgxNiQgPSBzdWJleHAoSEVYRElHJCQgKyBcInsxLDR9XCIpLFxuXHRcdExTMzIkID0gc3ViZXhwKHN1YmV4cChIMTYkICsgXCJcXFxcOlwiICsgSDE2JCkgKyBcInxcIiArIElQVjRBRERSRVNTJCksXG5cdFx0SVBWNkFERFJFU1MxJCA9IHN1YmV4cCggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcIns2fVwiICsgTFMzMiQpLCAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIDYoIGgxNiBcIjpcIiApIGxzMzJcblx0XHRJUFY2QUREUkVTUzIkID0gc3ViZXhwKCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcXFw6XFxcXDpcIiArIHN1YmV4cChIMTYkICsgXCJcXFxcOlwiKSArIFwiezV9XCIgKyBMUzMyJCksIC8vICAgICAgICAgICAgICAgICAgICAgIFwiOjpcIiA1KCBoMTYgXCI6XCIgKSBsczMyXG5cdFx0SVBWNkFERFJFU1MzJCA9IHN1YmV4cChzdWJleHAoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcIns0fVwiICsgTFMzMiQpLCAvL1sgICAgICAgICAgICAgICBoMTYgXSBcIjo6XCIgNCggaDE2IFwiOlwiICkgbHMzMlxuXHRcdElQVjZBRERSRVNTNCQgPSBzdWJleHAoc3ViZXhwKHN1YmV4cChIMTYkICsgXCJcXFxcOlwiKSArIFwiezAsMX1cIiArIEgxNiQpICsgXCI/XFxcXDpcXFxcOlwiICsgc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7M31cIiArIExTMzIkKSwgLy9bICoxKCBoMTYgXCI6XCIgKSBoMTYgXSBcIjo6XCIgMyggaDE2IFwiOlwiICkgbHMzMlxuXHRcdElQVjZBRERSRVNTNSQgPSBzdWJleHAoc3ViZXhwKHN1YmV4cChIMTYkICsgXCJcXFxcOlwiKSArIFwiezAsMn1cIiArIEgxNiQpICsgXCI/XFxcXDpcXFxcOlwiICsgc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7Mn1cIiArIExTMzIkKSwgLy9bICoyKCBoMTYgXCI6XCIgKSBoMTYgXSBcIjo6XCIgMiggaDE2IFwiOlwiICkgbHMzMlxuXHRcdElQVjZBRERSRVNTNiQgPSBzdWJleHAoc3ViZXhwKHN1YmV4cChIMTYkICsgXCJcXFxcOlwiKSArIFwiezAsM31cIiArIEgxNiQpICsgXCI/XFxcXDpcXFxcOlwiICsgICAgICAgIEgxNiQgKyBcIlxcXFw6XCIgICAgICAgICAgKyBMUzMyJCksIC8vWyAqMyggaDE2IFwiOlwiICkgaDE2IF0gXCI6OlwiICAgIGgxNiBcIjpcIiAgIGxzMzJcblx0XHRJUFY2QUREUkVTUzckID0gc3ViZXhwKHN1YmV4cChzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcInswLDR9XCIgKyBIMTYkKSArIFwiP1xcXFw6XFxcXDpcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBMUzMyJCksIC8vWyAqNCggaDE2IFwiOlwiICkgaDE2IF0gXCI6OlwiICAgICAgICAgICAgICBsczMyXG5cdFx0SVBWNkFERFJFU1M4JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCw1fVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgSDE2JCApLCAvL1sgKjUoIGgxNiBcIjpcIiApIGgxNiBdIFwiOjpcIiAgICAgICAgICAgICAgaDE2XG5cdFx0SVBWNkFERFJFU1M5JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCw2fVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLCAvL1sgKjYoIGgxNiBcIjpcIiApIGgxNiBdIFwiOjpcIlxuXHRcdElQVjZBRERSRVNTJCA9IHN1YmV4cChbSVBWNkFERFJFU1MxJCwgSVBWNkFERFJFU1MyJCwgSVBWNkFERFJFU1MzJCwgSVBWNkFERFJFU1M0JCwgSVBWNkFERFJFU1M1JCwgSVBWNkFERFJFU1M2JCwgSVBWNkFERFJFU1M3JCwgSVBWNkFERFJFU1M4JCwgSVBWNkFERFJFU1M5JF0uam9pbihcInxcIikpLFxuXHRcdFpPTkVJRCQgPSBzdWJleHAoc3ViZXhwKFVOUkVTRVJWRUQkJCArIFwifFwiICsgUENUX0VOQ09ERUQkKSArIFwiK1wiKSwgIC8vUkZDIDY4NzRcblx0XHRJUFY2QUREUlokID0gc3ViZXhwKElQVjZBRERSRVNTJCArIFwiXFxcXCUyNVwiICsgWk9ORUlEJCksICAvL1JGQyA2ODc0XG5cdFx0SVBWNkFERFJaX1JFTEFYRUQkID0gc3ViZXhwKElQVjZBRERSRVNTJCArIHN1YmV4cChcIlxcXFwlMjV8XFxcXCUoPyFcIiArIEhFWERJRyQkICsgXCJ7Mn0pXCIpICsgWk9ORUlEJCksICAvL1JGQyA2ODc0LCB3aXRoIHJlbGF4ZWQgcGFyc2luZyBydWxlc1xuXHRcdElQVkZVVFVSRSQgPSBzdWJleHAoXCJbdlZdXCIgKyBIRVhESUckJCArIFwiK1xcXFwuXCIgKyBtZXJnZShVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCwgXCJbXFxcXDpdXCIpICsgXCIrXCIpLFxuXHRcdElQX0xJVEVSQUwkID0gc3ViZXhwKFwiXFxcXFtcIiArIHN1YmV4cChJUFY2QUREUlpfUkVMQVhFRCQgKyBcInxcIiArIElQVjZBRERSRVNTJCArIFwifFwiICsgSVBWRlVUVVJFJCkgKyBcIlxcXFxdXCIpLCAgLy9SRkMgNjg3NFxuXHRcdFJFR19OQU1FJCA9IHN1YmV4cChzdWJleHAoUENUX0VOQ09ERUQkICsgXCJ8XCIgKyBtZXJnZShVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCkpICsgXCIqXCIpLFxuXHRcdEhPU1QkID0gc3ViZXhwKElQX0xJVEVSQUwkICsgXCJ8XCIgKyBJUFY0QUREUkVTUyQgKyBcIig/IVwiICsgUkVHX05BTUUkICsgXCIpXCIgKyBcInxcIiArIFJFR19OQU1FJCksXG5cdFx0UE9SVCQgPSBzdWJleHAoRElHSVQkJCArIFwiKlwiKSxcblx0XHRBVVRIT1JJVFkkID0gc3ViZXhwKHN1YmV4cChVU0VSSU5GTyQgKyBcIkBcIikgKyBcIj9cIiArIEhPU1QkICsgc3ViZXhwKFwiXFxcXDpcIiArIFBPUlQkKSArIFwiP1wiKSxcblx0XHRQQ0hBUiQgPSBzdWJleHAoUENUX0VOQ09ERUQkICsgXCJ8XCIgKyBtZXJnZShVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCwgXCJbXFxcXDpcXFxcQF1cIikpLFxuXHRcdFNFR01FTlQkID0gc3ViZXhwKFBDSEFSJCArIFwiKlwiKSxcblx0XHRTRUdNRU5UX05aJCA9IHN1YmV4cChQQ0hBUiQgKyBcIitcIiksXG5cdFx0U0VHTUVOVF9OWl9OQyQgPSBzdWJleHAoc3ViZXhwKFBDVF9FTkNPREVEJCArIFwifFwiICsgbWVyZ2UoVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQsIFwiW1xcXFxAXVwiKSkgKyBcIitcIiksXG5cdFx0UEFUSF9BQkVNUFRZJCA9IHN1YmV4cChzdWJleHAoXCJcXFxcL1wiICsgU0VHTUVOVCQpICsgXCIqXCIpLFxuXHRcdFBBVEhfQUJTT0xVVEUkID0gc3ViZXhwKFwiXFxcXC9cIiArIHN1YmV4cChTRUdNRU5UX05aJCArIFBBVEhfQUJFTVBUWSQpICsgXCI/XCIpLCAgLy9zaW1wbGlmaWVkXG5cdFx0UEFUSF9OT1NDSEVNRSQgPSBzdWJleHAoU0VHTUVOVF9OWl9OQyQgKyBQQVRIX0FCRU1QVFkkKSwgIC8vc2ltcGxpZmllZFxuXHRcdFBBVEhfUk9PVExFU1MkID0gc3ViZXhwKFNFR01FTlRfTlokICsgUEFUSF9BQkVNUFRZJCksICAvL3NpbXBsaWZpZWRcblx0XHRQQVRIX0VNUFRZJCA9IFwiKD8hXCIgKyBQQ0hBUiQgKyBcIilcIixcblx0XHRQQVRIJCA9IHN1YmV4cChQQVRIX0FCRU1QVFkkICsgXCJ8XCIgKyBQQVRIX0FCU09MVVRFJCArIFwifFwiICsgUEFUSF9OT1NDSEVNRSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCksXG5cdFx0UVVFUlkkID0gc3ViZXhwKHN1YmV4cChQQ0hBUiQgKyBcInxcIiArIG1lcmdlKFwiW1xcXFwvXFxcXD9dXCIsIElQUklWQVRFJCQpKSArIFwiKlwiKSxcblx0XHRGUkFHTUVOVCQgPSBzdWJleHAoc3ViZXhwKFBDSEFSJCArIFwifFtcXFxcL1xcXFw/XVwiKSArIFwiKlwiKSxcblx0XHRISUVSX1BBUlQkID0gc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC9cIiArIEFVVEhPUklUWSQgKyBQQVRIX0FCRU1QVFkkKSArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCksXG5cdFx0VVJJJCA9IHN1YmV4cChTQ0hFTUUkICsgXCJcXFxcOlwiICsgSElFUl9QQVJUJCArIHN1YmV4cChcIlxcXFw/XCIgKyBRVUVSWSQpICsgXCI/XCIgKyBzdWJleHAoXCJcXFxcI1wiICsgRlJBR01FTlQkKSArIFwiP1wiKSxcblx0XHRSRUxBVElWRV9QQVJUJCA9IHN1YmV4cChzdWJleHAoXCJcXFxcL1xcXFwvXCIgKyBBVVRIT1JJVFkkICsgUEFUSF9BQkVNUFRZJCkgKyBcInxcIiArIFBBVEhfQUJTT0xVVEUkICsgXCJ8XCIgKyBQQVRIX05PU0NIRU1FJCArIFwifFwiICsgUEFUSF9FTVBUWSQpLFxuXHRcdFJFTEFUSVZFJCA9IHN1YmV4cChSRUxBVElWRV9QQVJUJCArIHN1YmV4cChcIlxcXFw/XCIgKyBRVUVSWSQpICsgXCI/XCIgKyBzdWJleHAoXCJcXFxcI1wiICsgRlJBR01FTlQkKSArIFwiP1wiKSxcblx0XHRVUklfUkVGRVJFTkNFJCA9IHN1YmV4cChVUkkkICsgXCJ8XCIgKyBSRUxBVElWRSQpLFxuXHRcdEFCU09MVVRFX1VSSSQgPSBzdWJleHAoU0NIRU1FJCArIFwiXFxcXDpcIiArIEhJRVJfUEFSVCQgKyBzdWJleHAoXCJcXFxcP1wiICsgUVVFUlkkKSArIFwiP1wiKSxcblxuXHRcdEdFTkVSSUNfUkVGJCA9IFwiXihcIiArIFNDSEVNRSQgKyBcIilcXFxcOlwiICsgc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC8oXCIgKyBzdWJleHAoXCIoXCIgKyBVU0VSSU5GTyQgKyBcIilAXCIpICsgXCI/KFwiICsgSE9TVCQgKyBcIilcIiArIHN1YmV4cChcIlxcXFw6KFwiICsgUE9SVCQgKyBcIilcIikgKyBcIj8pXCIpICsgXCI/KFwiICsgUEFUSF9BQkVNUFRZJCArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCArIFwiKVwiKSArIHN1YmV4cChcIlxcXFw/KFwiICsgUVVFUlkkICsgXCIpXCIpICsgXCI/XCIgKyBzdWJleHAoXCJcXFxcIyhcIiArIEZSQUdNRU5UJCArIFwiKVwiKSArIFwiPyRcIixcblx0XHRSRUxBVElWRV9SRUYkID0gXCJeKCl7MH1cIiArIHN1YmV4cChzdWJleHAoXCJcXFxcL1xcXFwvKFwiICsgc3ViZXhwKFwiKFwiICsgVVNFUklORk8kICsgXCIpQFwiKSArIFwiPyhcIiArIEhPU1QkICsgXCIpXCIgKyBzdWJleHAoXCJcXFxcOihcIiArIFBPUlQkICsgXCIpXCIpICsgXCI/KVwiKSArIFwiPyhcIiArIFBBVEhfQUJFTVBUWSQgKyBcInxcIiArIFBBVEhfQUJTT0xVVEUkICsgXCJ8XCIgKyBQQVRIX05PU0NIRU1FJCArIFwifFwiICsgUEFUSF9FTVBUWSQgKyBcIilcIikgKyBzdWJleHAoXCJcXFxcPyhcIiArIFFVRVJZJCArIFwiKVwiKSArIFwiP1wiICsgc3ViZXhwKFwiXFxcXCMoXCIgKyBGUkFHTUVOVCQgKyBcIilcIikgKyBcIj8kXCIsXG5cdFx0QUJTT0xVVEVfUkVGJCA9IFwiXihcIiArIFNDSEVNRSQgKyBcIilcXFxcOlwiICsgc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC8oXCIgKyBzdWJleHAoXCIoXCIgKyBVU0VSSU5GTyQgKyBcIilAXCIpICsgXCI/KFwiICsgSE9TVCQgKyBcIilcIiArIHN1YmV4cChcIlxcXFw6KFwiICsgUE9SVCQgKyBcIilcIikgKyBcIj8pXCIpICsgXCI/KFwiICsgUEFUSF9BQkVNUFRZJCArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCArIFwiKVwiKSArIHN1YmV4cChcIlxcXFw/KFwiICsgUVVFUlkkICsgXCIpXCIpICsgXCI/JFwiLFxuXHRcdFNBTUVET0NfUkVGJCA9IFwiXlwiICsgc3ViZXhwKFwiXFxcXCMoXCIgKyBGUkFHTUVOVCQgKyBcIilcIikgKyBcIj8kXCIsXG5cdFx0QVVUSE9SSVRZX1JFRiQgPSBcIl5cIiArIHN1YmV4cChcIihcIiArIFVTRVJJTkZPJCArIFwiKUBcIikgKyBcIj8oXCIgKyBIT1NUJCArIFwiKVwiICsgc3ViZXhwKFwiXFxcXDooXCIgKyBQT1JUJCArIFwiKVwiKSArIFwiPyRcIlxuXHQ7XG5cblx0cmV0dXJuIHtcblx0XHROT1RfU0NIRU1FIDogbmV3IFJlZ0V4cChtZXJnZShcIlteXVwiLCBBTFBIQSQkLCBESUdJVCQkLCBcIltcXFxcK1xcXFwtXFxcXC5dXCIpLCBcImdcIiksXG5cdFx0Tk9UX1VTRVJJTkZPIDogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVcXFxcOl1cIiwgVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQpLCBcImdcIiksXG5cdFx0Tk9UX0hPU1QgOiBuZXcgUmVnRXhwKG1lcmdlKFwiW15cXFxcJVxcXFxbXFxcXF1cXFxcOl1cIiwgVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQpLCBcImdcIiksXG5cdFx0Tk9UX1BBVEggOiBuZXcgUmVnRXhwKG1lcmdlKFwiW15cXFxcJVxcXFwvXFxcXDpcXFxcQF1cIiwgVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQpLCBcImdcIiksXG5cdFx0Tk9UX1BBVEhfTk9TQ0hFTUUgOiBuZXcgUmVnRXhwKG1lcmdlKFwiW15cXFxcJVxcXFwvXFxcXEBdXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSwgXCJnXCIpLFxuXHRcdE5PVF9RVUVSWSA6IG5ldyBSZWdFeHAobWVyZ2UoXCJbXlxcXFwlXVwiLCBVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCwgXCJbXFxcXDpcXFxcQFxcXFwvXFxcXD9dXCIsIElQUklWQVRFJCQpLCBcImdcIiksXG5cdFx0Tk9UX0ZSQUdNRU5UIDogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVdXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkLCBcIltcXFxcOlxcXFxAXFxcXC9cXFxcP11cIiksIFwiZ1wiKSxcblx0XHRFU0NBUEUgOiBuZXcgUmVnRXhwKG1lcmdlKFwiW15dXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSwgXCJnXCIpLFxuXHRcdFVOUkVTRVJWRUQgOiBuZXcgUmVnRXhwKFVOUkVTRVJWRUQkJCwgXCJnXCIpLFxuXHRcdE9USEVSX0NIQVJTIDogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVdXCIsIFVOUkVTRVJWRUQkJCwgUkVTRVJWRUQkJCksIFwiZ1wiKSxcblx0XHRQQ1RfRU5DT0RFRCA6IG5ldyBSZWdFeHAoUENUX0VOQ09ERUQkLCBcImdcIiksXG5cdFx0SVBWNEFERFJFU1MgOiBuZXcgUmVnRXhwKFwiXihcIiArIElQVjRBRERSRVNTJCArIFwiKSRcIiksXG5cdFx0SVBWNkFERFJFU1MgOiBuZXcgUmVnRXhwKFwiXlxcXFxbPyhcIiArIElQVjZBRERSRVNTJCArIFwiKVwiICsgc3ViZXhwKHN1YmV4cChcIlxcXFwlMjV8XFxcXCUoPyFcIiArIEhFWERJRyQkICsgXCJ7Mn0pXCIpICsgXCIoXCIgKyBaT05FSUQkICsgXCIpXCIpICsgXCI/XFxcXF0/JFwiKSAgLy9SRkMgNjg3NCwgd2l0aCByZWxheGVkIHBhcnNpbmcgcnVsZXNcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYnVpbGRFeHBzKGZhbHNlKTtcbiIsImltcG9ydCB7IFVSSVJlZ0V4cHMgfSBmcm9tIFwiLi91cmlcIjtcbmltcG9ydCB7IGJ1aWxkRXhwcyB9IGZyb20gXCIuL3JlZ2V4cHMtdXJpXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGJ1aWxkRXhwcyh0cnVlKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuY29uc3QgbWF4SW50ID0gMjE0NzQ4MzY0NzsgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG4vKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5jb25zdCBiYXNlID0gMzY7XG5jb25zdCB0TWluID0gMTtcbmNvbnN0IHRNYXggPSAyNjtcbmNvbnN0IHNrZXcgPSAzODtcbmNvbnN0IGRhbXAgPSA3MDA7XG5jb25zdCBpbml0aWFsQmlhcyA9IDcyO1xuY29uc3QgaW5pdGlhbE4gPSAxMjg7IC8vIDB4ODBcbmNvbnN0IGRlbGltaXRlciA9ICctJzsgLy8gJ1xceDJEJ1xuXG4vKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuY29uc3QgcmVnZXhQdW55Y29kZSA9IC9eeG4tLS87XG5jb25zdCByZWdleE5vbkFTQ0lJID0gL1teXFwwLVxceDdFXS87IC8vIG5vbi1BU0NJSSBjaGFyc1xuY29uc3QgcmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZzsgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG4vKiogRXJyb3IgbWVzc2FnZXMgKi9cbmNvbnN0IGVycm9ycyA9IHtcblx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcbn07XG5cbi8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cbmNvbnN0IGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbjtcbmNvbnN0IGZsb29yID0gTWF0aC5mbG9vcjtcbmNvbnN0IHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG59XG5cbi8qKlxuICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuICogaXRlbS5cbiAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0bGV0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuICogYWRkcmVzc2VzLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcbiAqIGNoYXJhY3Rlci5cbiAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG4gKiBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0Y29uc3QgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0bGV0IHJlc3VsdCA9ICcnO1xuXHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHR9XG5cdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0Y29uc3QgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdGNvbnN0IGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG4gKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG4gKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG4gKiBtYXRjaGluZyBVVEYtMTYuXG4gKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcbiAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcbiAqIEBuYW1lIGRlY29kZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cbiAqL1xuZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0Y29uc3Qgb3V0cHV0ID0gW107XG5cdGxldCBjb3VudGVyID0gMDtcblx0Y29uc3QgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcblx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRjb25zdCB2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0Ly8gSXQncyBhIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3Rlci5cblx0XHRcdGNvbnN0IGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBMb3cgc3Vycm9nYXRlLlxuXHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSXQncyBhbiB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGVcblx0XHRcdFx0Ly8gbmV4dCBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXIuXG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBvdXRwdXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG4gKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuICogQG5hbWUgZW5jb2RlXG4gKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuICovXG5jb25zdCB1Y3MyZW5jb2RlID0gYXJyYXkgPT4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uYXJyYXkpO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cbiAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG4gKi9cbmNvbnN0IGJhc2ljVG9EaWdpdCA9IGZ1bmN0aW9uKGNvZGVQb2ludCkge1xuXHRpZiAoY29kZVBvaW50IC0gMHgzMCA8IDB4MEEpIHtcblx0XHRyZXR1cm4gY29kZVBvaW50IC0gMHgxNjtcblx0fVxuXHRpZiAoY29kZVBvaW50IC0gMHg0MSA8IDB4MUEpIHtcblx0XHRyZXR1cm4gY29kZVBvaW50IC0gMHg0MTtcblx0fVxuXHRpZiAoY29kZVBvaW50IC0gMHg2MSA8IDB4MUEpIHtcblx0XHRyZXR1cm4gY29kZVBvaW50IC0gMHg2MTtcblx0fVxuXHRyZXR1cm4gYmFzZTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG4gKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG4gKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cbiAqL1xuY29uc3QgZGlnaXRUb0Jhc2ljID0gZnVuY3Rpb24oZGlnaXQsIGZsYWcpIHtcblx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG59O1xuXG4vKipcbiAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgYWRhcHQgPSBmdW5jdGlvbihkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0bGV0IGsgPSAwO1xuXHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHR9XG5cdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuICogc3ltYm9scy5cbiAqIEBtZW1iZXJPZiBwdW55Y29kZVxuICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuICovXG5jb25zdCBkZWNvZGUgPSBmdW5jdGlvbihpbnB1dCkge1xuXHQvLyBEb24ndCB1c2UgVUNTLTIuXG5cdGNvbnN0IG91dHB1dCA9IFtdO1xuXHRjb25zdCBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0bGV0IGkgPSAwO1xuXHRsZXQgbiA9IGluaXRpYWxOO1xuXHRsZXQgYmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRsZXQgYmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0YmFzaWMgPSAwO1xuXHR9XG5cblx0Zm9yIChsZXQgaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdH1cblx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0fVxuXG5cdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRmb3IgKGxldCBpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0bGV0IG9sZGkgPSBpO1xuXHRcdGZvciAobGV0IHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdGNvbnN0IHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHR9XG5cblx0XHRjb25zdCBvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHR9XG5cblx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdGkgJT0gb3V0O1xuXG5cdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dC5cblx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0fVxuXG5cdHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludCguLi5vdXRwdXQpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cbiAqIEBtZW1iZXJPZiBwdW55Y29kZVxuICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuICovXG5jb25zdCBlbmNvZGUgPSBmdW5jdGlvbihpbnB1dCkge1xuXHRjb25zdCBvdXRwdXQgPSBbXTtcblxuXHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBhbiBhcnJheSBvZiBVbmljb2RlIGNvZGUgcG9pbnRzLlxuXHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdC8vIENhY2hlIHRoZSBsZW5ndGguXG5cdGxldCBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZS5cblx0bGV0IG4gPSBpbml0aWFsTjtcblx0bGV0IGRlbHRhID0gMDtcblx0bGV0IGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzLlxuXHRmb3IgKGNvbnN0IGN1cnJlbnRWYWx1ZSBvZiBpbnB1dCkge1xuXHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0fVxuXHR9XG5cblx0bGV0IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblx0bGV0IGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGg7XG5cblx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyB3aXRoIGEgZGVsaW1pdGVyIHVubGVzcyBpdCdzIGVtcHR5LlxuXHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHR9XG5cblx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0bGV0IG0gPSBtYXhJbnQ7XG5cdFx0Zm9yIChjb25zdCBjdXJyZW50VmFsdWUgb2YgaW5wdXQpIHtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93LlxuXHRcdGNvbnN0IGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0fVxuXG5cdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRuID0gbTtcblxuXHRcdGZvciAoY29uc3QgY3VycmVudFZhbHVlIG9mIGlucHV0KSB7XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyLlxuXHRcdFx0XHRsZXQgcSA9IGRlbHRhO1xuXHRcdFx0XHRmb3IgKGxldCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb25zdCBxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0Y29uc3QgYmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdCsrZGVsdGE7XG5cdFx0KytuO1xuXG5cdH1cblx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG4gKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cbiAqIEBtZW1iZXJPZiBwdW55Y29kZVxuICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuICogY29udmVydCB0byBVbmljb2RlLlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG4gKiBzdHJpbmcuXG4gKi9cbmNvbnN0IHRvVW5pY29kZSA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHQ6IHN0cmluZztcblx0fSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG4gKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cbiAqIEFTQ0lJLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuICogVW5pY29kZSBzdHJpbmcuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG4gKiBlbWFpbCBhZGRyZXNzLlxuICovXG5jb25zdCB0b0FTQ0lJID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHQ6IHN0cmluZztcblx0fSk7XG59O1xuXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuLyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuY29uc3QgcHVueWNvZGUgPSB7XG5cdC8qKlxuXHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAdHlwZSBTdHJpbmdcblx0ICovXG5cdCd2ZXJzaW9uJzogJzIuMS4wJyxcblx0LyoqXG5cdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHQndWNzMic6IHtcblx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHR9LFxuXHQnZGVjb2RlJzogZGVjb2RlLFxuXHQnZW5jb2RlJzogZW5jb2RlLFxuXHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHB1bnljb2RlO1xuIiwiLyoqXG4gKiBVUkkuanNcbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEFuIFJGQyAzOTg2IGNvbXBsaWFudCwgc2NoZW1lIGV4dGVuZGFibGUgVVJJIHBhcnNpbmcvdmFsaWRhdGluZy9yZXNvbHZpbmcgbGlicmFyeSBmb3IgSmF2YVNjcmlwdC5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzpnYXJ5LmNvdXJ0QGdtYWlsLmNvbVwiPkdhcnkgQ291cnQ8L2E+XG4gKiBAc2VlIGh0dHA6Ly9naXRodWIuY29tL2dhcnljb3VydC91cmktanNcbiAqL1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDExIEdhcnkgQ291cnQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlXG4gKiBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqXG4gKiAgICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxuICogICAgICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqICAgIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0XG4gKiAgICAgICBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFsc1xuICogICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgR0FSWSBDT1VSVCBgYEFTIElTJycgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRURcbiAqIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBHQVJZIENPVVJUIE9SXG4gKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxuICogQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUlxuICogU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTlxuICogQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGXG4gKiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiBUaGUgdmlld3MgYW5kIGNvbmNsdXNpb25zIGNvbnRhaW5lZCBpbiB0aGUgc29mdHdhcmUgYW5kIGRvY3VtZW50YXRpb24gYXJlIHRob3NlIG9mIHRoZVxuICogYXV0aG9ycyBhbmQgc2hvdWxkIG5vdCBiZSBpbnRlcnByZXRlZCBhcyByZXByZXNlbnRpbmcgb2ZmaWNpYWwgcG9saWNpZXMsIGVpdGhlciBleHByZXNzZWRcbiAqIG9yIGltcGxpZWQsIG9mIEdhcnkgQ291cnQuXG4gKi9cblxuaW1wb3J0IFVSSV9QUk9UT0NPTCBmcm9tIFwiLi9yZWdleHBzLXVyaVwiO1xuaW1wb3J0IElSSV9QUk9UT0NPTCBmcm9tIFwiLi9yZWdleHBzLWlyaVwiO1xuaW1wb3J0IHB1bnljb2RlIGZyb20gXCJwdW55Y29kZVwiO1xuaW1wb3J0IHsgdG9VcHBlckNhc2UsIHR5cGVPZiwgYXNzaWduIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVSSUNvbXBvbmVudHMge1xuXHRzY2hlbWU/OnN0cmluZztcblx0dXNlcmluZm8/OnN0cmluZztcblx0aG9zdD86c3RyaW5nO1xuXHRwb3J0PzpudW1iZXJ8c3RyaW5nO1xuXHRwYXRoPzpzdHJpbmc7XG5cdHF1ZXJ5PzpzdHJpbmc7XG5cdGZyYWdtZW50PzpzdHJpbmc7XG5cdHJlZmVyZW5jZT86c3RyaW5nO1xuXHRlcnJvcj86c3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVSSU9wdGlvbnMge1xuXHRzY2hlbWU/OnN0cmluZztcblx0cmVmZXJlbmNlPzpzdHJpbmc7XG5cdHRvbGVyYW50Pzpib29sZWFuO1xuXHRhYnNvbHV0ZVBhdGg/OmJvb2xlYW47XG5cdGlyaT86Ym9vbGVhbjtcblx0dW5pY29kZVN1cHBvcnQ/OmJvb2xlYW47XG5cdGRvbWFpbkhvc3Q/OmJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVVJJU2NoZW1lSGFuZGxlcjxDb21wb25lbnRzIGV4dGVuZHMgVVJJQ29tcG9uZW50cyA9IFVSSUNvbXBvbmVudHMsIE9wdGlvbnMgZXh0ZW5kcyBVUklPcHRpb25zID0gVVJJT3B0aW9ucywgUGFyZW50Q29tcG9uZW50cyBleHRlbmRzIFVSSUNvbXBvbmVudHMgPSBVUklDb21wb25lbnRzPiB7XG5cdHNjaGVtZTpzdHJpbmc7XG5cdHBhcnNlKGNvbXBvbmVudHM6UGFyZW50Q29tcG9uZW50cywgb3B0aW9uczpPcHRpb25zKTpDb21wb25lbnRzO1xuXHRzZXJpYWxpemUoY29tcG9uZW50czpDb21wb25lbnRzLCBvcHRpb25zOk9wdGlvbnMpOlBhcmVudENvbXBvbmVudHM7XG5cdHVuaWNvZGVTdXBwb3J0Pzpib29sZWFuO1xuXHRkb21haW5Ib3N0Pzpib29sZWFuO1xuXHRhYnNvbHV0ZVBhdGg/OmJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVVJJUmVnRXhwcyB7XG5cdE5PVF9TQ0hFTUUgOiBSZWdFeHAsXG5cdE5PVF9VU0VSSU5GTyA6IFJlZ0V4cCxcblx0Tk9UX0hPU1QgOiBSZWdFeHAsXG5cdE5PVF9QQVRIIDogUmVnRXhwLFxuXHROT1RfUEFUSF9OT1NDSEVNRSA6IFJlZ0V4cCxcblx0Tk9UX1FVRVJZIDogUmVnRXhwLFxuXHROT1RfRlJBR01FTlQgOiBSZWdFeHAsXG5cdEVTQ0FQRSA6IFJlZ0V4cCxcblx0VU5SRVNFUlZFRCA6IFJlZ0V4cCxcblx0T1RIRVJfQ0hBUlMgOiBSZWdFeHAsXG5cdFBDVF9FTkNPREVEIDogUmVnRXhwLFxuXHRJUFY0QUREUkVTUyA6IFJlZ0V4cCxcblx0SVBWNkFERFJFU1MgOiBSZWdFeHAsXG59XG5cbmV4cG9ydCBjb25zdCBTQ0hFTUVTOntbc2NoZW1lOnN0cmluZ106VVJJU2NoZW1lSGFuZGxlcn0gPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBjdEVuY0NoYXIoY2hyOnN0cmluZyk6c3RyaW5nIHtcblx0Y29uc3QgYyA9IGNoci5jaGFyQ29kZUF0KDApO1xuXHRsZXQgZTpzdHJpbmc7XG5cblx0aWYgKGMgPCAxNikgZSA9IFwiJTBcIiArIGMudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdGVsc2UgaWYgKGMgPCAxMjgpIGUgPSBcIiVcIiArIGMudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdGVsc2UgaWYgKGMgPCAyMDQ4KSBlID0gXCIlXCIgKyAoKGMgPj4gNikgfCAxOTIpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpICsgXCIlXCIgKyAoKGMgJiA2MykgfCAxMjgpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuXHRlbHNlIGUgPSBcIiVcIiArICgoYyA+PiAxMikgfCAyMjQpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpICsgXCIlXCIgKyAoKChjID4+IDYpICYgNjMpIHwgMTI4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSArIFwiJVwiICsgKChjICYgNjMpIHwgMTI4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblxuXHRyZXR1cm4gZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBjdERlY0NoYXJzKHN0cjpzdHJpbmcpOnN0cmluZyB7XG5cdGxldCBuZXdTdHIgPSBcIlwiO1xuXHRsZXQgaSA9IDA7XG5cdGNvbnN0IGlsID0gc3RyLmxlbmd0aDtcblxuXHR3aGlsZSAoaSA8IGlsKSB7XG5cdFx0Y29uc3QgYyA9IHBhcnNlSW50KHN0ci5zdWJzdHIoaSArIDEsIDIpLCAxNik7XG5cblx0XHRpZiAoYyA8IDEyOCkge1xuXHRcdFx0bmV3U3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG5cdFx0XHRpICs9IDM7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGMgPj0gMTk0ICYmIGMgPCAyMjQpIHtcblx0XHRcdGlmICgoaWwgLSBpKSA+PSA2KSB7XG5cdFx0XHRcdGNvbnN0IGMyID0gcGFyc2VJbnQoc3RyLnN1YnN0cihpICsgNCwgMiksIDE2KTtcblx0XHRcdFx0bmV3U3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMzEpIDw8IDYpIHwgKGMyICYgNjMpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld1N0ciArPSBzdHIuc3Vic3RyKGksIDYpO1xuXHRcdFx0fVxuXHRcdFx0aSArPSA2O1xuXHRcdH1cblx0XHRlbHNlIGlmIChjID49IDIyNCkge1xuXHRcdFx0aWYgKChpbCAtIGkpID49IDkpIHtcblx0XHRcdFx0Y29uc3QgYzIgPSBwYXJzZUludChzdHIuc3Vic3RyKGkgKyA0LCAyKSwgMTYpO1xuXHRcdFx0XHRjb25zdCBjMyA9IHBhcnNlSW50KHN0ci5zdWJzdHIoaSArIDcsIDIpLCAxNik7XG5cdFx0XHRcdG5ld1N0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYyAmIDE1KSA8PCAxMikgfCAoKGMyICYgNjMpIDw8IDYpIHwgKGMzICYgNjMpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ld1N0ciArPSBzdHIuc3Vic3RyKGksIDkpO1xuXHRcdFx0fVxuXHRcdFx0aSArPSA5O1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdG5ld1N0ciArPSBzdHIuc3Vic3RyKGksIDMpO1xuXHRcdFx0aSArPSAzO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdTdHI7XG59XG5cbmZ1bmN0aW9uIF9ub3JtYWxpemVDb21wb25lbnRFbmNvZGluZyhjb21wb25lbnRzOlVSSUNvbXBvbmVudHMsIHByb3RvY29sOlVSSVJlZ0V4cHMpIHtcblx0ZnVuY3Rpb24gZGVjb2RlVW5yZXNlcnZlZChzdHI6c3RyaW5nKTpzdHJpbmcge1xuXHRcdGNvbnN0IGRlY1N0ciA9IHBjdERlY0NoYXJzKHN0cik7XG5cdFx0cmV0dXJuICghZGVjU3RyLm1hdGNoKHByb3RvY29sLlVOUkVTRVJWRUQpID8gc3RyIDogZGVjU3RyKTtcblx0fVxuXG5cdGlmIChjb21wb25lbnRzLnNjaGVtZSkgY29tcG9uZW50cy5zY2hlbWUgPSBTdHJpbmcoY29tcG9uZW50cy5zY2hlbWUpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIGRlY29kZVVucmVzZXJ2ZWQpLnRvTG93ZXJDYXNlKCkucmVwbGFjZShwcm90b2NvbC5OT1RfU0NIRU1FLCBcIlwiKTtcblx0aWYgKGNvbXBvbmVudHMudXNlcmluZm8gIT09IHVuZGVmaW5lZCkgY29tcG9uZW50cy51c2VyaW5mbyA9IFN0cmluZyhjb21wb25lbnRzLnVzZXJpbmZvKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKHByb3RvY29sLk5PVF9VU0VSSU5GTywgcGN0RW5jQ2hhcikucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpO1xuXHRpZiAoY29tcG9uZW50cy5ob3N0ICE9PSB1bmRlZmluZWQpIGNvbXBvbmVudHMuaG9zdCA9IFN0cmluZyhjb21wb25lbnRzLmhvc3QpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIGRlY29kZVVucmVzZXJ2ZWQpLnRvTG93ZXJDYXNlKCkucmVwbGFjZShwcm90b2NvbC5OT1RfSE9TVCwgcGN0RW5jQ2hhcikucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpO1xuXHRpZiAoY29tcG9uZW50cy5wYXRoICE9PSB1bmRlZmluZWQpIGNvbXBvbmVudHMucGF0aCA9IFN0cmluZyhjb21wb25lbnRzLnBhdGgpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIGRlY29kZVVucmVzZXJ2ZWQpLnJlcGxhY2UoKGNvbXBvbmVudHMuc2NoZW1lID8gcHJvdG9jb2wuTk9UX1BBVEggOiBwcm90b2NvbC5OT1RfUEFUSF9OT1NDSEVNRSksIHBjdEVuY0NoYXIpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIHRvVXBwZXJDYXNlKTtcblx0aWYgKGNvbXBvbmVudHMucXVlcnkgIT09IHVuZGVmaW5lZCkgY29tcG9uZW50cy5xdWVyeSA9IFN0cmluZyhjb21wb25lbnRzLnF1ZXJ5KS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKHByb3RvY29sLk5PVF9RVUVSWSwgcGN0RW5jQ2hhcikucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpO1xuXHRpZiAoY29tcG9uZW50cy5mcmFnbWVudCAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnRzLmZyYWdtZW50ID0gU3RyaW5nKGNvbXBvbmVudHMuZnJhZ21lbnQpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIGRlY29kZVVucmVzZXJ2ZWQpLnJlcGxhY2UocHJvdG9jb2wuTk9UX0ZSQUdNRU5ULCBwY3RFbmNDaGFyKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSk7XG5cblx0cmV0dXJuIGNvbXBvbmVudHM7XG59O1xuXG5mdW5jdGlvbiBfc3RyaXBMZWFkaW5nWmVyb3Moc3RyOnN0cmluZyk6c3RyaW5nIHtcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC9eMCooLiopLywgXCIkMVwiKSB8fCBcIjBcIjtcbn1cblxuZnVuY3Rpb24gX25vcm1hbGl6ZUlQdjQoaG9zdDpzdHJpbmcsIHByb3RvY29sOlVSSVJlZ0V4cHMpOnN0cmluZyB7XG5cdGNvbnN0IG1hdGNoZXMgPSBob3N0Lm1hdGNoKHByb3RvY29sLklQVjRBRERSRVNTKSB8fCBbXTtcblx0Y29uc3QgWywgYWRkcmVzc10gPSBtYXRjaGVzO1xuXHRcblx0aWYgKGFkZHJlc3MpIHtcblx0XHRyZXR1cm4gYWRkcmVzcy5zcGxpdChcIi5cIikubWFwKF9zdHJpcExlYWRpbmdaZXJvcykuam9pbihcIi5cIik7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGhvc3Q7XG5cdH1cbn1cblxuZnVuY3Rpb24gX25vcm1hbGl6ZUlQdjYoaG9zdDpzdHJpbmcsIHByb3RvY29sOlVSSVJlZ0V4cHMpOnN0cmluZyB7XG5cdGNvbnN0IG1hdGNoZXMgPSBob3N0Lm1hdGNoKHByb3RvY29sLklQVjZBRERSRVNTKSB8fCBbXTtcblx0Y29uc3QgWywgYWRkcmVzcywgem9uZV0gPSBtYXRjaGVzO1xuXG5cdGlmIChhZGRyZXNzKSB7XG5cdFx0Y29uc3QgW2xhc3QsIGZpcnN0XSA9IGFkZHJlc3MudG9Mb3dlckNhc2UoKS5zcGxpdCgnOjonKS5yZXZlcnNlKCk7XG5cdFx0Y29uc3QgZmlyc3RGaWVsZHMgPSBmaXJzdCA/IGZpcnN0LnNwbGl0KFwiOlwiKS5tYXAoX3N0cmlwTGVhZGluZ1plcm9zKSA6IFtdO1xuXHRcdGNvbnN0IGxhc3RGaWVsZHMgPSBsYXN0LnNwbGl0KFwiOlwiKS5tYXAoX3N0cmlwTGVhZGluZ1plcm9zKTtcblx0XHRjb25zdCBpc0xhc3RGaWVsZElQdjRBZGRyZXNzID0gcHJvdG9jb2wuSVBWNEFERFJFU1MudGVzdChsYXN0RmllbGRzW2xhc3RGaWVsZHMubGVuZ3RoIC0gMV0pO1xuXHRcdGNvbnN0IGZpZWxkQ291bnQgPSBpc0xhc3RGaWVsZElQdjRBZGRyZXNzID8gNyA6IDg7XG5cdFx0Y29uc3QgbGFzdEZpZWxkc1N0YXJ0ID0gbGFzdEZpZWxkcy5sZW5ndGggLSBmaWVsZENvdW50O1xuXHRcdGNvbnN0IGZpZWxkcyA9IEFycmF5PHN0cmluZz4oZmllbGRDb3VudCk7XG5cblx0XHRmb3IgKGxldCB4ID0gMDsgeCA8IGZpZWxkQ291bnQ7ICsreCkge1xuXHRcdFx0ZmllbGRzW3hdID0gZmlyc3RGaWVsZHNbeF0gfHwgbGFzdEZpZWxkc1tsYXN0RmllbGRzU3RhcnQgKyB4XSB8fCAnJztcblx0XHR9XG5cblx0XHRpZiAoaXNMYXN0RmllbGRJUHY0QWRkcmVzcykge1xuXHRcdFx0ZmllbGRzW2ZpZWxkQ291bnQgLSAxXSA9IF9ub3JtYWxpemVJUHY0KGZpZWxkc1tmaWVsZENvdW50IC0gMV0sIHByb3RvY29sKTtcblx0XHR9XG5cblx0XHRjb25zdCBhbGxaZXJvRmllbGRzID0gZmllbGRzLnJlZHVjZTxBcnJheTx7aW5kZXg6bnVtYmVyLGxlbmd0aDpudW1iZXJ9Pj4oKGFjYywgZmllbGQsIGluZGV4KSA9PiB7XG5cdFx0XHRpZiAoIWZpZWxkIHx8IGZpZWxkID09PSBcIjBcIikge1xuXHRcdFx0XHRjb25zdCBsYXN0TG9uZ2VzdCA9IGFjY1thY2MubGVuZ3RoIC0gMV07XG5cdFx0XHRcdGlmIChsYXN0TG9uZ2VzdCAmJiBsYXN0TG9uZ2VzdC5pbmRleCArIGxhc3RMb25nZXN0Lmxlbmd0aCA9PT0gaW5kZXgpIHtcblx0XHRcdFx0XHRsYXN0TG9uZ2VzdC5sZW5ndGgrKztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhY2MucHVzaCh7IGluZGV4LCBsZW5ndGggOiAxIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYWNjO1xuXHRcdH0sIFtdKTtcblxuXHRcdGNvbnN0IGxvbmdlc3RaZXJvRmllbGRzID0gYWxsWmVyb0ZpZWxkcy5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoKVswXTtcblxuXHRcdGxldCBuZXdIb3N0OnN0cmluZztcblx0XHRpZiAobG9uZ2VzdFplcm9GaWVsZHMgJiYgbG9uZ2VzdFplcm9GaWVsZHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Y29uc3QgbmV3Rmlyc3QgPSBmaWVsZHMuc2xpY2UoMCwgbG9uZ2VzdFplcm9GaWVsZHMuaW5kZXgpIDtcblx0XHRcdGNvbnN0IG5ld0xhc3QgPSBmaWVsZHMuc2xpY2UobG9uZ2VzdFplcm9GaWVsZHMuaW5kZXggKyBsb25nZXN0WmVyb0ZpZWxkcy5sZW5ndGgpO1xuXHRcdFx0bmV3SG9zdCA9IG5ld0ZpcnN0LmpvaW4oXCI6XCIpICsgXCI6OlwiICsgbmV3TGFzdC5qb2luKFwiOlwiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3SG9zdCA9IGZpZWxkcy5qb2luKFwiOlwiKTtcblx0XHR9XG5cblx0XHRpZiAoem9uZSkge1xuXHRcdFx0bmV3SG9zdCArPSBcIiVcIiArIHpvbmU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5ld0hvc3Q7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGhvc3Q7XG5cdH1cbn1cblxuY29uc3QgVVJJX1BBUlNFID0gL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KFteXFwvPyNAXSopQCk/KFxcW1teXFwvPyNcXF1dK1xcXXxbXlxcLz8jOl0qKSg/OlxcOihcXGQqKSk/KSk/KFtePyNdKikoPzpcXD8oW14jXSopKT8oPzojKCg/Oi58XFxufFxccikqKSk/L2k7XG5jb25zdCBOT19NQVRDSF9JU19VTkRFRklORUQgPSAoPFJlZ0V4cE1hdGNoQXJyYXk+KFwiXCIpLm1hdGNoKC8oKXswfS8pKVsxXSA9PT0gdW5kZWZpbmVkO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodXJpU3RyaW5nOnN0cmluZywgb3B0aW9uczpVUklPcHRpb25zID0ge30pOlVSSUNvbXBvbmVudHMge1xuXHRjb25zdCBjb21wb25lbnRzOlVSSUNvbXBvbmVudHMgPSB7fTtcblx0Y29uc3QgcHJvdG9jb2wgPSAob3B0aW9ucy5pcmkgIT09IGZhbHNlID8gSVJJX1BST1RPQ09MIDogVVJJX1BST1RPQ09MKTtcblxuXHRpZiAob3B0aW9ucy5yZWZlcmVuY2UgPT09IFwic3VmZml4XCIpIHVyaVN0cmluZyA9IChvcHRpb25zLnNjaGVtZSA/IG9wdGlvbnMuc2NoZW1lICsgXCI6XCIgOiBcIlwiKSArIFwiLy9cIiArIHVyaVN0cmluZztcblxuXHRjb25zdCBtYXRjaGVzID0gdXJpU3RyaW5nLm1hdGNoKFVSSV9QQVJTRSk7XG5cblx0aWYgKG1hdGNoZXMpIHtcblx0XHRpZiAoTk9fTUFUQ0hfSVNfVU5ERUZJTkVEKSB7XG5cdFx0XHQvL3N0b3JlIGVhY2ggY29tcG9uZW50XG5cdFx0XHRjb21wb25lbnRzLnNjaGVtZSA9IG1hdGNoZXNbMV07XG5cdFx0XHRjb21wb25lbnRzLnVzZXJpbmZvID0gbWF0Y2hlc1szXTtcblx0XHRcdGNvbXBvbmVudHMuaG9zdCA9IG1hdGNoZXNbNF07XG5cdFx0XHRjb21wb25lbnRzLnBvcnQgPSBwYXJzZUludChtYXRjaGVzWzVdLCAxMCk7XG5cdFx0XHRjb21wb25lbnRzLnBhdGggPSBtYXRjaGVzWzZdIHx8IFwiXCI7XG5cdFx0XHRjb21wb25lbnRzLnF1ZXJ5ID0gbWF0Y2hlc1s3XTtcblx0XHRcdGNvbXBvbmVudHMuZnJhZ21lbnQgPSBtYXRjaGVzWzhdO1xuXG5cdFx0XHQvL2ZpeCBwb3J0IG51bWJlclxuXHRcdFx0aWYgKGlzTmFOKGNvbXBvbmVudHMucG9ydCkpIHtcblx0XHRcdFx0Y29tcG9uZW50cy5wb3J0ID0gbWF0Y2hlc1s1XTtcblx0XHRcdH1cblx0XHR9IGVsc2UgeyAgLy9JRSBGSVggZm9yIGltcHJvcGVyIFJlZ0V4cCBtYXRjaGluZ1xuXHRcdFx0Ly9zdG9yZSBlYWNoIGNvbXBvbmVudFxuXHRcdFx0Y29tcG9uZW50cy5zY2hlbWUgPSBtYXRjaGVzWzFdIHx8IHVuZGVmaW5lZDtcblx0XHRcdGNvbXBvbmVudHMudXNlcmluZm8gPSAodXJpU3RyaW5nLmluZGV4T2YoXCJAXCIpICE9PSAtMSA/IG1hdGNoZXNbM10gOiB1bmRlZmluZWQpO1xuXHRcdFx0Y29tcG9uZW50cy5ob3N0ID0gKHVyaVN0cmluZy5pbmRleE9mKFwiLy9cIikgIT09IC0xID8gbWF0Y2hlc1s0XSA6IHVuZGVmaW5lZCk7XG5cdFx0XHRjb21wb25lbnRzLnBvcnQgPSBwYXJzZUludChtYXRjaGVzWzVdLCAxMCk7XG5cdFx0XHRjb21wb25lbnRzLnBhdGggPSBtYXRjaGVzWzZdIHx8IFwiXCI7XG5cdFx0XHRjb21wb25lbnRzLnF1ZXJ5ID0gKHVyaVN0cmluZy5pbmRleE9mKFwiP1wiKSAhPT0gLTEgPyBtYXRjaGVzWzddIDogdW5kZWZpbmVkKTtcblx0XHRcdGNvbXBvbmVudHMuZnJhZ21lbnQgPSAodXJpU3RyaW5nLmluZGV4T2YoXCIjXCIpICE9PSAtMSA/IG1hdGNoZXNbOF0gOiB1bmRlZmluZWQpO1xuXG5cdFx0XHQvL2ZpeCBwb3J0IG51bWJlclxuXHRcdFx0aWYgKGlzTmFOKGNvbXBvbmVudHMucG9ydCkpIHtcblx0XHRcdFx0Y29tcG9uZW50cy5wb3J0ID0gKHVyaVN0cmluZy5tYXRjaCgvXFwvXFwvKD86LnxcXG4pKlxcOig/OlxcL3xcXD98XFwjfCQpLykgPyBtYXRjaGVzWzRdIDogdW5kZWZpbmVkKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoY29tcG9uZW50cy5ob3N0KSB7XG5cdFx0XHQvL25vcm1hbGl6ZSBJUCBob3N0c1xuXHRcdFx0Y29tcG9uZW50cy5ob3N0ID0gX25vcm1hbGl6ZUlQdjYoX25vcm1hbGl6ZUlQdjQoY29tcG9uZW50cy5ob3N0LCBwcm90b2NvbCksIHByb3RvY29sKTtcblx0XHR9XG5cblx0XHQvL2RldGVybWluZSByZWZlcmVuY2UgdHlwZVxuXHRcdGlmIChjb21wb25lbnRzLnNjaGVtZSA9PT0gdW5kZWZpbmVkICYmIGNvbXBvbmVudHMudXNlcmluZm8gPT09IHVuZGVmaW5lZCAmJiBjb21wb25lbnRzLmhvc3QgPT09IHVuZGVmaW5lZCAmJiBjb21wb25lbnRzLnBvcnQgPT09IHVuZGVmaW5lZCAmJiAhY29tcG9uZW50cy5wYXRoICYmIGNvbXBvbmVudHMucXVlcnkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Y29tcG9uZW50cy5yZWZlcmVuY2UgPSBcInNhbWUtZG9jdW1lbnRcIjtcblx0XHR9IGVsc2UgaWYgKGNvbXBvbmVudHMuc2NoZW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGNvbXBvbmVudHMucmVmZXJlbmNlID0gXCJyZWxhdGl2ZVwiO1xuXHRcdH0gZWxzZSBpZiAoY29tcG9uZW50cy5mcmFnbWVudCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRjb21wb25lbnRzLnJlZmVyZW5jZSA9IFwiYWJzb2x1dGVcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29tcG9uZW50cy5yZWZlcmVuY2UgPSBcInVyaVwiO1xuXHRcdH1cblxuXHRcdC8vY2hlY2sgZm9yIHJlZmVyZW5jZSBlcnJvcnNcblx0XHRpZiAob3B0aW9ucy5yZWZlcmVuY2UgJiYgb3B0aW9ucy5yZWZlcmVuY2UgIT09IFwic3VmZml4XCIgJiYgb3B0aW9ucy5yZWZlcmVuY2UgIT09IGNvbXBvbmVudHMucmVmZXJlbmNlKSB7XG5cdFx0XHRjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIlVSSSBpcyBub3QgYSBcIiArIG9wdGlvbnMucmVmZXJlbmNlICsgXCIgcmVmZXJlbmNlLlwiO1xuXHRcdH1cblxuXHRcdC8vZmluZCBzY2hlbWUgaGFuZGxlclxuXHRcdGNvbnN0IHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTWyhvcHRpb25zLnNjaGVtZSB8fCBjb21wb25lbnRzLnNjaGVtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpXTtcblxuXHRcdC8vY2hlY2sgaWYgc2NoZW1lIGNhbid0IGhhbmRsZSBJUklzXG5cdFx0aWYgKCFvcHRpb25zLnVuaWNvZGVTdXBwb3J0ICYmICghc2NoZW1lSGFuZGxlciB8fCAhc2NoZW1lSGFuZGxlci51bmljb2RlU3VwcG9ydCkpIHtcblx0XHRcdC8vaWYgaG9zdCBjb21wb25lbnQgaXMgYSBkb21haW4gbmFtZVxuXHRcdFx0aWYgKGNvbXBvbmVudHMuaG9zdCAmJiAob3B0aW9ucy5kb21haW5Ib3N0IHx8IChzY2hlbWVIYW5kbGVyICYmIHNjaGVtZUhhbmRsZXIuZG9tYWluSG9zdCkpKSB7XG5cdFx0XHRcdC8vY29udmVydCBVbmljb2RlIElETiAtPiBBU0NJSSBJRE5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb21wb25lbnRzLmhvc3QgPSBwdW55Y29kZS50b0FTQ0lJKGNvbXBvbmVudHMuaG9zdC5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBwY3REZWNDaGFycykudG9Mb3dlckNhc2UoKSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIkhvc3QncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBBU0NJSSB2aWEgcHVueWNvZGU6IFwiICsgZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly9jb252ZXJ0IElSSSAtPiBVUklcblx0XHRcdF9ub3JtYWxpemVDb21wb25lbnRFbmNvZGluZyhjb21wb25lbnRzLCBVUklfUFJPVE9DT0wpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvL25vcm1hbGl6ZSBlbmNvZGluZ3Ncblx0XHRcdF9ub3JtYWxpemVDb21wb25lbnRFbmNvZGluZyhjb21wb25lbnRzLCBwcm90b2NvbCk7XG5cdFx0fVxuXG5cdFx0Ly9wZXJmb3JtIHNjaGVtZSBzcGVjaWZpYyBwYXJzaW5nXG5cdFx0aWYgKHNjaGVtZUhhbmRsZXIgJiYgc2NoZW1lSGFuZGxlci5wYXJzZSkge1xuXHRcdFx0c2NoZW1lSGFuZGxlci5wYXJzZShjb21wb25lbnRzLCBvcHRpb25zKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Y29tcG9uZW50cy5lcnJvciA9IGNvbXBvbmVudHMuZXJyb3IgfHwgXCJVUkkgY2FuIG5vdCBiZSBwYXJzZWQuXCI7XG5cdH1cblxuXHRyZXR1cm4gY29tcG9uZW50cztcbn07XG5cbmZ1bmN0aW9uIF9yZWNvbXBvc2VBdXRob3JpdHkoY29tcG9uZW50czpVUklDb21wb25lbnRzLCBvcHRpb25zOlVSSU9wdGlvbnMpOnN0cmluZ3x1bmRlZmluZWQge1xuXHRjb25zdCBwcm90b2NvbCA9IChvcHRpb25zLmlyaSAhPT0gZmFsc2UgPyBJUklfUFJPVE9DT0wgOiBVUklfUFJPVE9DT0wpO1xuXHRjb25zdCB1cmlUb2tlbnM6QXJyYXk8c3RyaW5nPiA9IFtdO1xuXG5cdGlmIChjb21wb25lbnRzLnVzZXJpbmZvICE9PSB1bmRlZmluZWQpIHtcblx0XHR1cmlUb2tlbnMucHVzaChjb21wb25lbnRzLnVzZXJpbmZvKTtcblx0XHR1cmlUb2tlbnMucHVzaChcIkBcIik7XG5cdH1cblxuXHRpZiAoY29tcG9uZW50cy5ob3N0ICE9PSB1bmRlZmluZWQpIHtcblx0XHQvL25vcm1hbGl6ZSBJUCBob3N0cywgYWRkIGJyYWNrZXRzIGFuZCBlc2NhcGUgem9uZSBzZXBhcmF0b3IgZm9yIElQdjZcblx0XHR1cmlUb2tlbnMucHVzaChfbm9ybWFsaXplSVB2Nihfbm9ybWFsaXplSVB2NChTdHJpbmcoY29tcG9uZW50cy5ob3N0KSwgcHJvdG9jb2wpLCBwcm90b2NvbCkucmVwbGFjZShwcm90b2NvbC5JUFY2QUREUkVTUywgKF8sICQxLCAkMikgPT4gXCJbXCIgKyAkMSArICgkMiA/IFwiJTI1XCIgKyAkMiA6IFwiXCIpICsgXCJdXCIpKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgY29tcG9uZW50cy5wb3J0ID09PSBcIm51bWJlclwiKSB7XG5cdFx0dXJpVG9rZW5zLnB1c2goXCI6XCIpO1xuXHRcdHVyaVRva2Vucy5wdXNoKGNvbXBvbmVudHMucG9ydC50b1N0cmluZygxMCkpO1xuXHR9XG5cblx0cmV0dXJuIHVyaVRva2Vucy5sZW5ndGggPyB1cmlUb2tlbnMuam9pbihcIlwiKSA6IHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IFJEUzEgPSAvXlxcLlxcLj9cXC8vO1xuY29uc3QgUkRTMiA9IC9eXFwvXFwuKFxcL3wkKS87XG5jb25zdCBSRFMzID0gL15cXC9cXC5cXC4oXFwvfCQpLztcbmNvbnN0IFJEUzQgPSAvXlxcLlxcLj8kLztcbmNvbnN0IFJEUzUgPSAvXlxcLz8oPzoufFxcbikqPyg/PVxcL3wkKS87XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVEb3RTZWdtZW50cyhpbnB1dDpzdHJpbmcpOnN0cmluZyB7XG5cdGNvbnN0IG91dHB1dDpBcnJheTxzdHJpbmc+ID0gW107XG5cblx0d2hpbGUgKGlucHV0Lmxlbmd0aCkge1xuXHRcdGlmIChpbnB1dC5tYXRjaChSRFMxKSkge1xuXHRcdFx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKFJEUzEsIFwiXCIpO1xuXHRcdH0gZWxzZSBpZiAoaW5wdXQubWF0Y2goUkRTMikpIHtcblx0XHRcdGlucHV0ID0gaW5wdXQucmVwbGFjZShSRFMyLCBcIi9cIik7XG5cdFx0fSBlbHNlIGlmIChpbnB1dC5tYXRjaChSRFMzKSkge1xuXHRcdFx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKFJEUzMsIFwiL1wiKTtcblx0XHRcdG91dHB1dC5wb3AoKTtcblx0XHR9IGVsc2UgaWYgKGlucHV0ID09PSBcIi5cIiB8fCBpbnB1dCA9PT0gXCIuLlwiKSB7XG5cdFx0XHRpbnB1dCA9IFwiXCI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGltID0gaW5wdXQubWF0Y2goUkRTNSk7XG5cdFx0XHRpZiAoaW0pIHtcblx0XHRcdFx0Y29uc3QgcyA9IGltWzBdO1xuXHRcdFx0XHRpbnB1dCA9IGlucHV0LnNsaWNlKHMubGVuZ3RoKTtcblx0XHRcdFx0b3V0cHV0LnB1c2gocyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIGRvdCBzZWdtZW50IGNvbmRpdGlvblwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gb3V0cHV0LmpvaW4oXCJcIik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplKGNvbXBvbmVudHM6VVJJQ29tcG9uZW50cywgb3B0aW9uczpVUklPcHRpb25zID0ge30pOnN0cmluZyB7XG5cdGNvbnN0IHByb3RvY29sID0gKG9wdGlvbnMuaXJpID8gSVJJX1BST1RPQ09MIDogVVJJX1BST1RPQ09MKTtcblx0Y29uc3QgdXJpVG9rZW5zOkFycmF5PHN0cmluZz4gPSBbXTtcblxuXHQvL2ZpbmQgc2NoZW1lIGhhbmRsZXJcblx0Y29uc3Qgc2NoZW1lSGFuZGxlciA9IFNDSEVNRVNbKG9wdGlvbnMuc2NoZW1lIHx8IGNvbXBvbmVudHMuc2NoZW1lIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCldO1xuXG5cdC8vcGVyZm9ybSBzY2hlbWUgc3BlY2lmaWMgc2VyaWFsaXphdGlvblxuXHRpZiAoc2NoZW1lSGFuZGxlciAmJiBzY2hlbWVIYW5kbGVyLnNlcmlhbGl6ZSkgc2NoZW1lSGFuZGxlci5zZXJpYWxpemUoY29tcG9uZW50cywgb3B0aW9ucyk7XG5cblx0aWYgKGNvbXBvbmVudHMuaG9zdCkge1xuXHRcdC8vaWYgaG9zdCBjb21wb25lbnQgaXMgYW4gSVB2NiBhZGRyZXNzXG5cdFx0aWYgKHByb3RvY29sLklQVjZBRERSRVNTLnRlc3QoY29tcG9uZW50cy5ob3N0KSkge1xuXHRcdFx0Ly9UT0RPOiBub3JtYWxpemUgSVB2NiBhZGRyZXNzIGFzIHBlciBSRkMgNTk1MlxuXHRcdH1cblxuXHRcdC8vaWYgaG9zdCBjb21wb25lbnQgaXMgYSBkb21haW4gbmFtZVxuXHRcdGVsc2UgaWYgKG9wdGlvbnMuZG9tYWluSG9zdCB8fCAoc2NoZW1lSGFuZGxlciAmJiBzY2hlbWVIYW5kbGVyLmRvbWFpbkhvc3QpKSB7XG5cdFx0XHQvL2NvbnZlcnQgSUROIHZpYSBwdW55Y29kZVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29tcG9uZW50cy5ob3N0ID0gKCFvcHRpb25zLmlyaSA/IHB1bnljb2RlLnRvQVNDSUkoY29tcG9uZW50cy5ob3N0LnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIHBjdERlY0NoYXJzKS50b0xvd2VyQ2FzZSgpKSA6IHB1bnljb2RlLnRvVW5pY29kZShjb21wb25lbnRzLmhvc3QpKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Y29tcG9uZW50cy5lcnJvciA9IGNvbXBvbmVudHMuZXJyb3IgfHwgXCJIb3N0J3MgZG9tYWluIG5hbWUgY2FuIG5vdCBiZSBjb252ZXJ0ZWQgdG8gXCIgKyAoIW9wdGlvbnMuaXJpID8gXCJBU0NJSVwiIDogXCJVbmljb2RlXCIpICsgXCIgdmlhIHB1bnljb2RlOiBcIiArIGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly9ub3JtYWxpemUgZW5jb2Rpbmdcblx0X25vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKGNvbXBvbmVudHMsIHByb3RvY29sKTtcblxuXHRpZiAob3B0aW9ucy5yZWZlcmVuY2UgIT09IFwic3VmZml4XCIgJiYgY29tcG9uZW50cy5zY2hlbWUpIHtcblx0XHR1cmlUb2tlbnMucHVzaChjb21wb25lbnRzLnNjaGVtZSk7XG5cdFx0dXJpVG9rZW5zLnB1c2goXCI6XCIpO1xuXHR9XG5cblx0Y29uc3QgYXV0aG9yaXR5ID0gX3JlY29tcG9zZUF1dGhvcml0eShjb21wb25lbnRzLCBvcHRpb25zKTtcblx0aWYgKGF1dGhvcml0eSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKG9wdGlvbnMucmVmZXJlbmNlICE9PSBcInN1ZmZpeFwiKSB7XG5cdFx0XHR1cmlUb2tlbnMucHVzaChcIi8vXCIpO1xuXHRcdH1cblxuXHRcdHVyaVRva2Vucy5wdXNoKGF1dGhvcml0eSk7XG5cblx0XHRpZiAoY29tcG9uZW50cy5wYXRoICYmIGNvbXBvbmVudHMucGF0aC5jaGFyQXQoMCkgIT09IFwiL1wiKSB7XG5cdFx0XHR1cmlUb2tlbnMucHVzaChcIi9cIik7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudHMucGF0aCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0bGV0IHMgPSBjb21wb25lbnRzLnBhdGg7XG5cblx0XHRpZiAoIW9wdGlvbnMuYWJzb2x1dGVQYXRoICYmICghc2NoZW1lSGFuZGxlciB8fCAhc2NoZW1lSGFuZGxlci5hYnNvbHV0ZVBhdGgpKSB7XG5cdFx0XHRzID0gcmVtb3ZlRG90U2VnbWVudHMocyk7XG5cdFx0fVxuXG5cdFx0aWYgKGF1dGhvcml0eSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRzID0gcy5yZXBsYWNlKC9eXFwvXFwvLywgXCIvJTJGXCIpOyAgLy9kb24ndCBhbGxvdyB0aGUgcGF0aCB0byBzdGFydCB3aXRoIFwiLy9cIlxuXHRcdH1cblxuXHRcdHVyaVRva2Vucy5wdXNoKHMpO1xuXHR9XG5cblx0aWYgKGNvbXBvbmVudHMucXVlcnkgIT09IHVuZGVmaW5lZCkge1xuXHRcdHVyaVRva2Vucy5wdXNoKFwiP1wiKTtcblx0XHR1cmlUb2tlbnMucHVzaChjb21wb25lbnRzLnF1ZXJ5KTtcblx0fVxuXG5cdGlmIChjb21wb25lbnRzLmZyYWdtZW50ICE9PSB1bmRlZmluZWQpIHtcblx0XHR1cmlUb2tlbnMucHVzaChcIiNcIik7XG5cdFx0dXJpVG9rZW5zLnB1c2goY29tcG9uZW50cy5mcmFnbWVudCk7XG5cdH1cblxuXHRyZXR1cm4gdXJpVG9rZW5zLmpvaW4oXCJcIik7ICAvL21lcmdlIHRva2VucyBpbnRvIGEgc3RyaW5nXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudHMoYmFzZTpVUklDb21wb25lbnRzLCByZWxhdGl2ZTpVUklDb21wb25lbnRzLCBvcHRpb25zOlVSSU9wdGlvbnMgPSB7fSwgc2tpcE5vcm1hbGl6YXRpb24/OmJvb2xlYW4pOlVSSUNvbXBvbmVudHMge1xuXHRjb25zdCB0YXJnZXQ6VVJJQ29tcG9uZW50cyA9IHt9O1xuXG5cdGlmICghc2tpcE5vcm1hbGl6YXRpb24pIHtcblx0XHRiYXNlID0gcGFyc2Uoc2VyaWFsaXplKGJhc2UsIG9wdGlvbnMpLCBvcHRpb25zKTsgIC8vbm9ybWFsaXplIGJhc2UgY29tcG9uZW50c1xuXHRcdHJlbGF0aXZlID0gcGFyc2Uoc2VyaWFsaXplKHJlbGF0aXZlLCBvcHRpb25zKSwgb3B0aW9ucyk7ICAvL25vcm1hbGl6ZSByZWxhdGl2ZSBjb21wb25lbnRzXG5cdH1cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0aWYgKCFvcHRpb25zLnRvbGVyYW50ICYmIHJlbGF0aXZlLnNjaGVtZSkge1xuXHRcdHRhcmdldC5zY2hlbWUgPSByZWxhdGl2ZS5zY2hlbWU7XG5cdFx0Ly90YXJnZXQuYXV0aG9yaXR5ID0gcmVsYXRpdmUuYXV0aG9yaXR5O1xuXHRcdHRhcmdldC51c2VyaW5mbyA9IHJlbGF0aXZlLnVzZXJpbmZvO1xuXHRcdHRhcmdldC5ob3N0ID0gcmVsYXRpdmUuaG9zdDtcblx0XHR0YXJnZXQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG5cdFx0dGFyZ2V0LnBhdGggPSByZW1vdmVEb3RTZWdtZW50cyhyZWxhdGl2ZS5wYXRoIHx8IFwiXCIpO1xuXHRcdHRhcmdldC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuXHR9IGVsc2Uge1xuXHRcdGlmIChyZWxhdGl2ZS51c2VyaW5mbyAhPT0gdW5kZWZpbmVkIHx8IHJlbGF0aXZlLmhvc3QgIT09IHVuZGVmaW5lZCB8fCByZWxhdGl2ZS5wb3J0ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vdGFyZ2V0LmF1dGhvcml0eSA9IHJlbGF0aXZlLmF1dGhvcml0eTtcblx0XHRcdHRhcmdldC51c2VyaW5mbyA9IHJlbGF0aXZlLnVzZXJpbmZvO1xuXHRcdFx0dGFyZ2V0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0O1xuXHRcdFx0dGFyZ2V0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuXHRcdFx0dGFyZ2V0LnBhdGggPSByZW1vdmVEb3RTZWdtZW50cyhyZWxhdGl2ZS5wYXRoIHx8IFwiXCIpO1xuXHRcdFx0dGFyZ2V0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICghcmVsYXRpdmUucGF0aCkge1xuXHRcdFx0XHR0YXJnZXQucGF0aCA9IGJhc2UucGF0aDtcblx0XHRcdFx0aWYgKHJlbGF0aXZlLnF1ZXJ5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHR0YXJnZXQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YXJnZXQucXVlcnkgPSBiYXNlLnF1ZXJ5O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAocmVsYXRpdmUucGF0aC5jaGFyQXQoMCkgPT09IFwiL1wiKSB7XG5cdFx0XHRcdFx0dGFyZ2V0LnBhdGggPSByZW1vdmVEb3RTZWdtZW50cyhyZWxhdGl2ZS5wYXRoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoKGJhc2UudXNlcmluZm8gIT09IHVuZGVmaW5lZCB8fCBiYXNlLmhvc3QgIT09IHVuZGVmaW5lZCB8fCBiYXNlLnBvcnQgIT09IHVuZGVmaW5lZCkgJiYgIWJhc2UucGF0aCkge1xuXHRcdFx0XHRcdFx0dGFyZ2V0LnBhdGggPSBcIi9cIiArIHJlbGF0aXZlLnBhdGg7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICghYmFzZS5wYXRoKSB7XG5cdFx0XHRcdFx0XHR0YXJnZXQucGF0aCA9IHJlbGF0aXZlLnBhdGg7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRhcmdldC5wYXRoID0gYmFzZS5wYXRoLnNsaWNlKDAsIGJhc2UucGF0aC5sYXN0SW5kZXhPZihcIi9cIikgKyAxKSArIHJlbGF0aXZlLnBhdGg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHRhcmdldC5wYXRoID0gcmVtb3ZlRG90U2VnbWVudHModGFyZ2V0LnBhdGgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRhcmdldC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuXHRcdFx0fVxuXHRcdFx0Ly90YXJnZXQuYXV0aG9yaXR5ID0gYmFzZS5hdXRob3JpdHk7XG5cdFx0XHR0YXJnZXQudXNlcmluZm8gPSBiYXNlLnVzZXJpbmZvO1xuXHRcdFx0dGFyZ2V0Lmhvc3QgPSBiYXNlLmhvc3Q7XG5cdFx0XHR0YXJnZXQucG9ydCA9IGJhc2UucG9ydDtcblx0XHR9XG5cdFx0dGFyZ2V0LnNjaGVtZSA9IGJhc2Uuc2NoZW1lO1xuXHR9XG5cblx0dGFyZ2V0LmZyYWdtZW50ID0gcmVsYXRpdmUuZnJhZ21lbnQ7XG5cblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlKGJhc2VVUkk6c3RyaW5nLCByZWxhdGl2ZVVSSTpzdHJpbmcsIG9wdGlvbnM/OlVSSU9wdGlvbnMpOnN0cmluZyB7XG5cdGNvbnN0IHNjaGVtZWxlc3NPcHRpb25zID0gYXNzaWduKHsgc2NoZW1lIDogJ251bGwnIH0sIG9wdGlvbnMpO1xuXHRyZXR1cm4gc2VyaWFsaXplKHJlc29sdmVDb21wb25lbnRzKHBhcnNlKGJhc2VVUkksIHNjaGVtZWxlc3NPcHRpb25zKSwgcGFyc2UocmVsYXRpdmVVUkksIHNjaGVtZWxlc3NPcHRpb25zKSwgc2NoZW1lbGVzc09wdGlvbnMsIHRydWUpLCBzY2hlbWVsZXNzT3B0aW9ucyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHVyaTpzdHJpbmcsIG9wdGlvbnM/OlVSSU9wdGlvbnMpOnN0cmluZztcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUodXJpOlVSSUNvbXBvbmVudHMsIG9wdGlvbnM/OlVSSU9wdGlvbnMpOlVSSUNvbXBvbmVudHM7XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHVyaTphbnksIG9wdGlvbnM/OlVSSU9wdGlvbnMpOmFueSB7XG5cdGlmICh0eXBlb2YgdXJpID09PSBcInN0cmluZ1wiKSB7XG5cdFx0dXJpID0gc2VyaWFsaXplKHBhcnNlKHVyaSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuXHR9IGVsc2UgaWYgKHR5cGVPZih1cmkpID09PSBcIm9iamVjdFwiKSB7XG5cdFx0dXJpID0gcGFyc2Uoc2VyaWFsaXplKDxVUklDb21wb25lbnRzPnVyaSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuXHR9XG5cblx0cmV0dXJuIHVyaTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbCh1cmlBOnN0cmluZywgdXJpQjpzdHJpbmcsIG9wdGlvbnM/OiBVUklPcHRpb25zKTpib29sZWFuO1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsKHVyaUE6VVJJQ29tcG9uZW50cywgdXJpQjpVUklDb21wb25lbnRzLCBvcHRpb25zPzpVUklPcHRpb25zKTpib29sZWFuO1xuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsKHVyaUE6YW55LCB1cmlCOmFueSwgb3B0aW9ucz86VVJJT3B0aW9ucyk6Ym9vbGVhbiB7XG5cdGlmICh0eXBlb2YgdXJpQSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHVyaUEgPSBzZXJpYWxpemUocGFyc2UodXJpQSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuXHR9IGVsc2UgaWYgKHR5cGVPZih1cmlBKSA9PT0gXCJvYmplY3RcIikge1xuXHRcdHVyaUEgPSBzZXJpYWxpemUoPFVSSUNvbXBvbmVudHM+dXJpQSwgb3B0aW9ucyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIHVyaUIgPT09IFwic3RyaW5nXCIpIHtcblx0XHR1cmlCID0gc2VyaWFsaXplKHBhcnNlKHVyaUIsIG9wdGlvbnMpLCBvcHRpb25zKTtcblx0fSBlbHNlIGlmICh0eXBlT2YodXJpQikgPT09IFwib2JqZWN0XCIpIHtcblx0XHR1cmlCID0gc2VyaWFsaXplKDxVUklDb21wb25lbnRzPnVyaUIsIG9wdGlvbnMpO1xuXHR9XG5cblx0cmV0dXJuIHVyaUEgPT09IHVyaUI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlQ29tcG9uZW50KHN0cjpzdHJpbmcsIG9wdGlvbnM/OlVSSU9wdGlvbnMpOnN0cmluZyB7XG5cdHJldHVybiBzdHIgJiYgc3RyLnRvU3RyaW5nKCkucmVwbGFjZSgoIW9wdGlvbnMgfHwgIW9wdGlvbnMuaXJpID8gVVJJX1BST1RPQ09MLkVTQ0FQRSA6IElSSV9QUk9UT0NPTC5FU0NBUEUpLCBwY3RFbmNDaGFyKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmVzY2FwZUNvbXBvbmVudChzdHI6c3RyaW5nLCBvcHRpb25zPzpVUklPcHRpb25zKTpzdHJpbmcge1xuXHRyZXR1cm4gc3RyICYmIHN0ci50b1N0cmluZygpLnJlcGxhY2UoKCFvcHRpb25zIHx8ICFvcHRpb25zLmlyaSA/IFVSSV9QUk9UT0NPTC5QQ1RfRU5DT0RFRCA6IElSSV9QUk9UT0NPTC5QQ1RfRU5DT0RFRCksIHBjdERlY0NoYXJzKTtcbn07XG4iLCJpbXBvcnQgeyBVUklTY2hlbWVIYW5kbGVyLCBVUklDb21wb25lbnRzLCBVUklPcHRpb25zIH0gZnJvbSBcIi4uL3VyaVwiO1xuXG5jb25zdCBoYW5kbGVyOlVSSVNjaGVtZUhhbmRsZXIgPSB7XG5cdHNjaGVtZSA6IFwiaHR0cFwiLFxuXG5cdGRvbWFpbkhvc3QgOiB0cnVlLFxuXG5cdHBhcnNlIDogZnVuY3Rpb24gKGNvbXBvbmVudHM6VVJJQ29tcG9uZW50cywgb3B0aW9uczpVUklPcHRpb25zKTpVUklDb21wb25lbnRzIHtcblx0XHQvL3JlcG9ydCBtaXNzaW5nIGhvc3Rcblx0XHRpZiAoIWNvbXBvbmVudHMuaG9zdCkge1xuXHRcdFx0Y29tcG9uZW50cy5lcnJvciA9IGNvbXBvbmVudHMuZXJyb3IgfHwgXCJIVFRQIFVSSXMgbXVzdCBoYXZlIGEgaG9zdC5cIjtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcG9uZW50cztcblx0fSxcblxuXHRzZXJpYWxpemUgOiBmdW5jdGlvbiAoY29tcG9uZW50czpVUklDb21wb25lbnRzLCBvcHRpb25zOlVSSU9wdGlvbnMpOlVSSUNvbXBvbmVudHMge1xuXHRcdC8vbm9ybWFsaXplIHRoZSBkZWZhdWx0IHBvcnRcblx0XHRpZiAoY29tcG9uZW50cy5wb3J0ID09PSAoU3RyaW5nKGNvbXBvbmVudHMuc2NoZW1lKS50b0xvd2VyQ2FzZSgpICE9PSBcImh0dHBzXCIgPyA4MCA6IDQ0MykgfHwgY29tcG9uZW50cy5wb3J0ID09PSBcIlwiKSB7XG5cdFx0XHRjb21wb25lbnRzLnBvcnQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdFxuXHRcdC8vbm9ybWFsaXplIHRoZSBlbXB0eSBwYXRoXG5cdFx0aWYgKCFjb21wb25lbnRzLnBhdGgpIHtcblx0XHRcdGNvbXBvbmVudHMucGF0aCA9IFwiL1wiO1xuXHRcdH1cblxuXHRcdC8vTk9URTogV2UgZG8gbm90IHBhcnNlIHF1ZXJ5IHN0cmluZ3MgZm9yIEhUVFAgVVJJc1xuXHRcdC8vYXMgV1dXIEZvcm0gVXJsIEVuY29kZWQgcXVlcnkgc3RyaW5ncyBhcmUgcGFydCBvZiB0aGUgSFRNTDQrIHNwZWMsXG5cdFx0Ly9hbmQgbm90IHRoZSBIVFRQIHNwZWMuXG5cblx0XHRyZXR1cm4gY29tcG9uZW50cztcblx0fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlcjsiLCJpbXBvcnQgeyBVUklTY2hlbWVIYW5kbGVyLCBVUklDb21wb25lbnRzLCBVUklPcHRpb25zIH0gZnJvbSBcIi4uL3VyaVwiO1xuaW1wb3J0IGh0dHAgZnJvbSBcIi4vaHR0cFwiO1xuXG5jb25zdCBoYW5kbGVyOlVSSVNjaGVtZUhhbmRsZXIgPSB7XG5cdHNjaGVtZSA6IFwiaHR0cHNcIixcblx0ZG9tYWluSG9zdCA6IGh0dHAuZG9tYWluSG9zdCxcblx0cGFyc2UgOiBodHRwLnBhcnNlLFxuXHRzZXJpYWxpemUgOiBodHRwLnNlcmlhbGl6ZVxufVxuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVyOyIsImltcG9ydCB7IFVSSVNjaGVtZUhhbmRsZXIsIFVSSUNvbXBvbmVudHMsIFVSSU9wdGlvbnMgfSBmcm9tIFwiLi4vdXJpXCI7XG5pbXBvcnQgeyBwY3RFbmNDaGFyLCBwY3REZWNDaGFycywgdW5lc2NhcGVDb21wb25lbnQgfSBmcm9tIFwiLi4vdXJpXCI7XG5pbXBvcnQgcHVueWNvZGUgZnJvbSBcInB1bnljb2RlXCI7XG5pbXBvcnQgeyBtZXJnZSwgc3ViZXhwLCB0b1VwcGVyQ2FzZSwgdG9BcnJheSB9IGZyb20gXCIuLi91dGlsXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFpbHRvSGVhZGVycyB7XG5cdFtoZm5hbWU6c3RyaW5nXTpzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYWlsdG9Db21wb25lbnRzIGV4dGVuZHMgVVJJQ29tcG9uZW50cyB7XG5cdHRvOkFycmF5PHN0cmluZz4sXG5cdGhlYWRlcnM/Ok1haWx0b0hlYWRlcnMsXG5cdHN1YmplY3Q/OnN0cmluZyxcblx0Ym9keT86c3RyaW5nXG59XG5cbmNvbnN0IE86TWFpbHRvSGVhZGVycyA9IHt9O1xuY29uc3QgaXNJUkkgPSB0cnVlO1xuXG4vL1JGQyAzOTg2XG5jb25zdCBVTlJFU0VSVkVEJCQgPSBcIltBLVphLXowLTlcXFxcLVxcXFwuXFxcXF9cXFxcflwiICsgKGlzSVJJID8gXCJcXFxceEEwLVxcXFx1MjAwRFxcXFx1MjAxMC1cXFxcdTIwMjlcXFxcdTIwMkYtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRUZcIiA6IFwiXCIpICsgXCJdXCI7XG5jb25zdCBIRVhESUckJCA9IFwiWzAtOUEtRmEtZl1cIjsgIC8vY2FzZS1pbnNlbnNpdGl2ZVxuY29uc3QgUENUX0VOQ09ERUQkID0gc3ViZXhwKHN1YmV4cChcIiVbRUZlZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVs4OUEtRmEtZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVwiICsgSEVYRElHJCQgKyBIRVhESUckJCkpOyAgLy9leHBhbmRlZFxuXG4vL1JGQyA1MzIyLCBleGNlcHQgdGhlc2Ugc3ltYm9scyBhcyBwZXIgUkZDIDYwNjg6IEAgOiAvID8gIyBbIF0gJiA7ID1cbi8vY29uc3QgQVRFWFQkJCA9IFwiW0EtWmEtejAtOVxcXFwhXFxcXCNcXFxcJFxcXFwlXFxcXCZcXFxcJ1xcXFwqXFxcXCtcXFxcLVxcXFwvXFxcXD1cXFxcP1xcXFxeXFxcXF9cXFxcYFxcXFx7XFxcXHxcXFxcfVxcXFx+XVwiO1xuLy9jb25zdCBXU1AkJCA9IFwiW1xcXFx4MjBcXFxceDA5XVwiO1xuLy9jb25zdCBPQlNfUVRFWFQkJCA9IFwiW1xcXFx4MDEtXFxcXHgwOFxcXFx4MEJcXFxceDBDXFxcXHgwRS1cXFxceDFGXFxcXHg3Rl1cIjsgIC8vKCVkMS04IC8gJWQxMS0xMiAvICVkMTQtMzEgLyAlZDEyNylcbi8vY29uc3QgUVRFWFQkJCA9IG1lcmdlKFwiW1xcXFx4MjFcXFxceDIzLVxcXFx4NUJcXFxceDVELVxcXFx4N0VdXCIsIE9CU19RVEVYVCQkKTsgIC8vJWQzMyAvICVkMzUtOTEgLyAlZDkzLTEyNiAvIG9icy1xdGV4dFxuLy9jb25zdCBWQ0hBUiQkID0gXCJbXFxcXHgyMS1cXFxceDdFXVwiO1xuLy9jb25zdCBXU1AkJCA9IFwiW1xcXFx4MjBcXFxceDA5XVwiO1xuLy9jb25zdCBPQlNfUVAkID0gc3ViZXhwKFwiXFxcXFxcXFxcIiArIG1lcmdlKFwiW1xcXFx4MDBcXFxceDBEXFxcXHgwQV1cIiwgT0JTX1FURVhUJCQpKTsgIC8vJWQwIC8gQ1IgLyBMRiAvIG9icy1xdGV4dFxuLy9jb25zdCBGV1MkID0gc3ViZXhwKHN1YmV4cChXU1AkJCArIFwiKlwiICsgXCJcXFxceDBEXFxcXHgwQVwiKSArIFwiP1wiICsgV1NQJCQgKyBcIitcIik7XG4vL2NvbnN0IFFVT1RFRF9QQUlSJCA9IHN1YmV4cChzdWJleHAoXCJcXFxcXFxcXFwiICsgc3ViZXhwKFZDSEFSJCQgKyBcInxcIiArIFdTUCQkKSkgKyBcInxcIiArIE9CU19RUCQpO1xuLy9jb25zdCBRVU9URURfU1RSSU5HJCA9IHN1YmV4cCgnXFxcXFwiJyArIHN1YmV4cChGV1MkICsgXCI/XCIgKyBRQ09OVEVOVCQpICsgXCIqXCIgKyBGV1MkICsgXCI/XCIgKyAnXFxcXFwiJyk7XG5jb25zdCBBVEVYVCQkID0gXCJbQS1aYS16MC05XFxcXCFcXFxcJFxcXFwlXFxcXCdcXFxcKlxcXFwrXFxcXC1cXFxcXlxcXFxfXFxcXGBcXFxce1xcXFx8XFxcXH1cXFxcfl1cIjtcbmNvbnN0IFFURVhUJCQgPSBcIltcXFxcIVxcXFwkXFxcXCVcXFxcJ1xcXFwoXFxcXClcXFxcKlxcXFwrXFxcXCxcXFxcLVxcXFwuMC05XFxcXDxcXFxcPkEtWlxcXFx4NUUtXFxcXHg3RV1cIjtcbmNvbnN0IFZDSEFSJCQgPSBtZXJnZShRVEVYVCQkLCBcIltcXFxcXFxcIlxcXFxcXFxcXVwiKTtcbmNvbnN0IERPVF9BVE9NX1RFWFQkID0gc3ViZXhwKEFURVhUJCQgKyBcIitcIiArIHN1YmV4cChcIlxcXFwuXCIgKyBBVEVYVCQkICsgXCIrXCIpICsgXCIqXCIpO1xuY29uc3QgUVVPVEVEX1BBSVIkID0gc3ViZXhwKFwiXFxcXFxcXFxcIiArIFZDSEFSJCQpO1xuY29uc3QgUUNPTlRFTlQkID0gc3ViZXhwKFFURVhUJCQgKyBcInxcIiArIFFVT1RFRF9QQUlSJCk7XG5jb25zdCBRVU9URURfU1RSSU5HJCA9IHN1YmV4cCgnXFxcXFwiJyArIFFDT05URU5UJCArIFwiKlwiICsgJ1xcXFxcIicpO1xuXG4vL1JGQyA2MDY4XG5jb25zdCBEVEVYVF9OT19PQlMkJCA9IFwiW1xcXFx4MjEtXFxcXHg1QVxcXFx4NUUtXFxcXHg3RV1cIjsgIC8vJWQzMy05MCAvICVkOTQtMTI2XG5jb25zdCBTT01FX0RFTElNUyQkID0gXCJbXFxcXCFcXFxcJFxcXFwnXFxcXChcXFxcKVxcXFwqXFxcXCtcXFxcLFxcXFw7XFxcXDpcXFxcQF1cIjtcbmNvbnN0IFFDSEFSJCA9IHN1YmV4cChVTlJFU0VSVkVEJCQgKyBcInxcIiArIFBDVF9FTkNPREVEJCArIFwifFwiICsgU09NRV9ERUxJTVMkJCk7XG5jb25zdCBET01BSU4kID0gc3ViZXhwKERPVF9BVE9NX1RFWFQkICsgXCJ8XCIgKyBcIlxcXFxbXCIgKyBEVEVYVF9OT19PQlMkJCArIFwiKlwiICsgXCJcXFxcXVwiKTtcbmNvbnN0IExPQ0FMX1BBUlQkID0gc3ViZXhwKERPVF9BVE9NX1RFWFQkICsgXCJ8XCIgKyBRVU9URURfU1RSSU5HJCk7XG5jb25zdCBBRERSX1NQRUMkID0gc3ViZXhwKExPQ0FMX1BBUlQkICsgXCJcXFxcQFwiICsgRE9NQUlOJCk7XG5jb25zdCBUTyQgPSBzdWJleHAoQUREUl9TUEVDJCArIHN1YmV4cChcIlxcXFwsXCIgKyBBRERSX1NQRUMkKSArIFwiKlwiKTtcbmNvbnN0IEhGTkFNRSQgPSBzdWJleHAoUUNIQVIkICsgXCIqXCIpO1xuY29uc3QgSEZWQUxVRSQgPSBIRk5BTUUkO1xuY29uc3QgSEZJRUxEJCA9IHN1YmV4cChIRk5BTUUkICsgXCJcXFxcPVwiICsgSEZWQUxVRSQpO1xuY29uc3QgSEZJRUxEUzIkID0gc3ViZXhwKEhGSUVMRCQgKyBzdWJleHAoXCJcXFxcJlwiICsgSEZJRUxEJCkgKyBcIipcIik7XG5jb25zdCBIRklFTERTJCA9IHN1YmV4cChcIlxcXFw/XCIgKyBIRklFTERTMiQpO1xuY29uc3QgTUFJTFRPX1VSSSA9IG5ldyBSZWdFeHAoXCJebWFpbHRvXFxcXDpcIiArIFRPJCArIFwiP1wiICsgSEZJRUxEUyQgKyBcIj8kXCIpO1xuXG5jb25zdCBVTlJFU0VSVkVEID0gbmV3IFJlZ0V4cChVTlJFU0VSVkVEJCQsIFwiZ1wiKTtcbmNvbnN0IFBDVF9FTkNPREVEID0gbmV3IFJlZ0V4cChQQ1RfRU5DT0RFRCQsIFwiZ1wiKTtcbmNvbnN0IE5PVF9MT0NBTF9QQVJUID0gbmV3IFJlZ0V4cChtZXJnZShcIlteXVwiLCBBVEVYVCQkLCBcIltcXFxcLl1cIiwgJ1tcXFxcXCJdJywgVkNIQVIkJCksIFwiZ1wiKTtcbmNvbnN0IE5PVF9ET01BSU4gPSBuZXcgUmVnRXhwKG1lcmdlKFwiW15dXCIsIEFURVhUJCQsIFwiW1xcXFwuXVwiLCBcIltcXFxcW11cIiwgRFRFWFRfTk9fT0JTJCQsIFwiW1xcXFxdXVwiKSwgXCJnXCIpO1xuY29uc3QgTk9UX0hGTkFNRSA9IG5ldyBSZWdFeHAobWVyZ2UoXCJbXl1cIiwgVU5SRVNFUlZFRCQkLCBTT01FX0RFTElNUyQkKSwgXCJnXCIpO1xuY29uc3QgTk9UX0hGVkFMVUUgPSBOT1RfSEZOQU1FO1xuY29uc3QgVE8gPSBuZXcgUmVnRXhwKFwiXlwiICsgVE8kICsgXCIkXCIpO1xuY29uc3QgSEZJRUxEUyA9IG5ldyBSZWdFeHAoXCJeXCIgKyBIRklFTERTMiQgKyBcIiRcIik7XG5cbmZ1bmN0aW9uIGRlY29kZVVucmVzZXJ2ZWQoc3RyOnN0cmluZyk6c3RyaW5nIHtcblx0Y29uc3QgZGVjU3RyID0gcGN0RGVjQ2hhcnMoc3RyKTtcblx0cmV0dXJuICghZGVjU3RyLm1hdGNoKFVOUkVTRVJWRUQpID8gc3RyIDogZGVjU3RyKTtcbn1cblxuY29uc3QgaGFuZGxlcjpVUklTY2hlbWVIYW5kbGVyPE1haWx0b0NvbXBvbmVudHM+ID0gIHtcblx0c2NoZW1lIDogXCJtYWlsdG9cIixcblxuXHRwYXJzZSA6IGZ1bmN0aW9uIChjb21wb25lbnRzOlVSSUNvbXBvbmVudHMsIG9wdGlvbnM6VVJJT3B0aW9ucyk6TWFpbHRvQ29tcG9uZW50cyB7XG5cdFx0Y29uc3QgbWFpbHRvQ29tcG9uZW50cyA9IGNvbXBvbmVudHMgYXMgTWFpbHRvQ29tcG9uZW50cztcblx0XHRjb25zdCB0byA9IG1haWx0b0NvbXBvbmVudHMudG8gPSAobWFpbHRvQ29tcG9uZW50cy5wYXRoID8gbWFpbHRvQ29tcG9uZW50cy5wYXRoLnNwbGl0KFwiLFwiKSA6IFtdKTtcblx0XHRtYWlsdG9Db21wb25lbnRzLnBhdGggPSB1bmRlZmluZWQ7XG5cblx0XHRpZiAobWFpbHRvQ29tcG9uZW50cy5xdWVyeSkge1xuXHRcdFx0bGV0IHVua25vd25IZWFkZXJzID0gZmFsc2Vcblx0XHRcdGNvbnN0IGhlYWRlcnM6TWFpbHRvSGVhZGVycyA9IHt9O1xuXHRcdFx0Y29uc3QgaGZpZWxkcyA9IG1haWx0b0NvbXBvbmVudHMucXVlcnkuc3BsaXQoXCImXCIpO1xuXG5cdFx0XHRmb3IgKGxldCB4ID0gMCwgeGwgPSBoZmllbGRzLmxlbmd0aDsgeCA8IHhsOyArK3gpIHtcblx0XHRcdFx0Y29uc3QgaGZpZWxkID0gaGZpZWxkc1t4XS5zcGxpdChcIj1cIik7XG5cblx0XHRcdFx0c3dpdGNoIChoZmllbGRbMF0pIHtcblx0XHRcdFx0XHRjYXNlIFwidG9cIjpcblx0XHRcdFx0XHRcdGNvbnN0IHRvQWRkcnMgPSBoZmllbGRbMV0uc3BsaXQoXCIsXCIpO1xuXHRcdFx0XHRcdFx0Zm9yIChsZXQgeCA9IDAsIHhsID0gdG9BZGRycy5sZW5ndGg7IHggPCB4bDsgKyt4KSB7XG5cdFx0XHRcdFx0XHRcdHRvLnB1c2godG9BZGRyc1t4XSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFwic3ViamVjdFwiOlxuXHRcdFx0XHRcdFx0bWFpbHRvQ29tcG9uZW50cy5zdWJqZWN0ID0gdW5lc2NhcGVDb21wb25lbnQoaGZpZWxkWzFdLCBvcHRpb25zKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgXCJib2R5XCI6XG5cdFx0XHRcdFx0XHRtYWlsdG9Db21wb25lbnRzLmJvZHkgPSB1bmVzY2FwZUNvbXBvbmVudChoZmllbGRbMV0sIG9wdGlvbnMpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRcdHVua25vd25IZWFkZXJzID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGhlYWRlcnNbdW5lc2NhcGVDb21wb25lbnQoaGZpZWxkWzBdLCBvcHRpb25zKV0gPSB1bmVzY2FwZUNvbXBvbmVudChoZmllbGRbMV0sIG9wdGlvbnMpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKHVua25vd25IZWFkZXJzKSBtYWlsdG9Db21wb25lbnRzLmhlYWRlcnMgPSBoZWFkZXJzO1xuXHRcdH1cblxuXHRcdG1haWx0b0NvbXBvbmVudHMucXVlcnkgPSB1bmRlZmluZWQ7XG5cblx0XHRmb3IgKGxldCB4ID0gMCwgeGwgPSB0by5sZW5ndGg7IHggPCB4bDsgKyt4KSB7XG5cdFx0XHRjb25zdCBhZGRyID0gdG9beF0uc3BsaXQoXCJAXCIpO1xuXG5cdFx0XHRhZGRyWzBdID0gdW5lc2NhcGVDb21wb25lbnQoYWRkclswXSk7XG5cblx0XHRcdGlmICghb3B0aW9ucy51bmljb2RlU3VwcG9ydCkge1xuXHRcdFx0XHQvL2NvbnZlcnQgVW5pY29kZSBJRE4gLT4gQVNDSUkgSUROXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0YWRkclsxXSA9IHB1bnljb2RlLnRvQVNDSUkodW5lc2NhcGVDb21wb25lbnQoYWRkclsxXSwgb3B0aW9ucykudG9Mb3dlckNhc2UoKSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRtYWlsdG9Db21wb25lbnRzLmVycm9yID0gbWFpbHRvQ29tcG9uZW50cy5lcnJvciB8fCBcIkVtYWlsIGFkZHJlc3MncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBBU0NJSSB2aWEgcHVueWNvZGU6IFwiICsgZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWRkclsxXSA9IHVuZXNjYXBlQ29tcG9uZW50KGFkZHJbMV0sIG9wdGlvbnMpLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHRvW3hdID0gYWRkci5qb2luKFwiQFwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFpbHRvQ29tcG9uZW50cztcblx0fSxcblxuXHRzZXJpYWxpemUgOiBmdW5jdGlvbiAobWFpbHRvQ29tcG9uZW50czpNYWlsdG9Db21wb25lbnRzLCBvcHRpb25zOlVSSU9wdGlvbnMpOlVSSUNvbXBvbmVudHMge1xuXHRcdGNvbnN0IGNvbXBvbmVudHMgPSBtYWlsdG9Db21wb25lbnRzIGFzIFVSSUNvbXBvbmVudHM7XG5cdFx0Y29uc3QgdG8gPSB0b0FycmF5KG1haWx0b0NvbXBvbmVudHMudG8pO1xuXHRcdGlmICh0bykge1xuXHRcdFx0Zm9yIChsZXQgeCA9IDAsIHhsID0gdG8ubGVuZ3RoOyB4IDwgeGw7ICsreCkge1xuXHRcdFx0XHRjb25zdCB0b0FkZHIgPSBTdHJpbmcodG9beF0pO1xuXHRcdFx0XHRjb25zdCBhdElkeCA9IHRvQWRkci5sYXN0SW5kZXhPZihcIkBcIik7XG5cdFx0XHRcdGNvbnN0IGxvY2FsUGFydCA9ICh0b0FkZHIuc2xpY2UoMCwgYXRJZHgpKS5yZXBsYWNlKFBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKFBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSkucmVwbGFjZShOT1RfTE9DQUxfUEFSVCwgcGN0RW5jQ2hhcik7XG5cdFx0XHRcdGxldCBkb21haW4gPSB0b0FkZHIuc2xpY2UoYXRJZHggKyAxKTtcblxuXHRcdFx0XHQvL2NvbnZlcnQgSUROIHZpYSBwdW55Y29kZVxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGRvbWFpbiA9ICghb3B0aW9ucy5pcmkgPyBwdW55Y29kZS50b0FTQ0lJKHVuZXNjYXBlQ29tcG9uZW50KGRvbWFpbiwgb3B0aW9ucykudG9Mb3dlckNhc2UoKSkgOiBwdW55Y29kZS50b1VuaWNvZGUoZG9tYWluKSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIkVtYWlsIGFkZHJlc3MncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBcIiArICghb3B0aW9ucy5pcmkgPyBcIkFTQ0lJXCIgOiBcIlVuaWNvZGVcIikgKyBcIiB2aWEgcHVueWNvZGU6IFwiICsgZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRvW3hdID0gbG9jYWxQYXJ0ICsgXCJAXCIgKyBkb21haW47XG5cdFx0XHR9XG5cblx0XHRcdGNvbXBvbmVudHMucGF0aCA9IHRvLmpvaW4oXCIsXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGhlYWRlcnMgPSBtYWlsdG9Db21wb25lbnRzLmhlYWRlcnMgPSBtYWlsdG9Db21wb25lbnRzLmhlYWRlcnMgfHwge307XG5cblx0XHRpZiAobWFpbHRvQ29tcG9uZW50cy5zdWJqZWN0KSBoZWFkZXJzW1wic3ViamVjdFwiXSA9IG1haWx0b0NvbXBvbmVudHMuc3ViamVjdDtcblx0XHRpZiAobWFpbHRvQ29tcG9uZW50cy5ib2R5KSBoZWFkZXJzW1wiYm9keVwiXSA9IG1haWx0b0NvbXBvbmVudHMuYm9keTtcblxuXHRcdGNvbnN0IGZpZWxkcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgbmFtZSBpbiBoZWFkZXJzKSB7XG5cdFx0XHRpZiAoaGVhZGVyc1tuYW1lXSAhPT0gT1tuYW1lXSkge1xuXHRcdFx0XHRmaWVsZHMucHVzaChcblx0XHRcdFx0XHRuYW1lLnJlcGxhY2UoUENUX0VOQ09ERUQsIGRlY29kZVVucmVzZXJ2ZWQpLnJlcGxhY2UoUENUX0VOQ09ERUQsIHRvVXBwZXJDYXNlKS5yZXBsYWNlKE5PVF9IRk5BTUUsIHBjdEVuY0NoYXIpICtcblx0XHRcdFx0XHRcIj1cIiArXG5cdFx0XHRcdFx0aGVhZGVyc1tuYW1lXS5yZXBsYWNlKFBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKFBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSkucmVwbGFjZShOT1RfSEZWQUxVRSwgcGN0RW5jQ2hhcilcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGZpZWxkcy5sZW5ndGgpIHtcblx0XHRcdGNvbXBvbmVudHMucXVlcnkgPSBmaWVsZHMuam9pbihcIiZcIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbXBvbmVudHM7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlcjsiLCJpbXBvcnQgeyBVUklTY2hlbWVIYW5kbGVyLCBVUklDb21wb25lbnRzLCBVUklPcHRpb25zIH0gZnJvbSBcIi4uL3VyaVwiO1xuaW1wb3J0IHsgcGN0RW5jQ2hhciwgU0NIRU1FUyB9IGZyb20gXCIuLi91cmlcIjtcblxuZXhwb3J0IGludGVyZmFjZSBVUk5Db21wb25lbnRzIGV4dGVuZHMgVVJJQ29tcG9uZW50cyB7XG5cdG5pZD86c3RyaW5nO1xuXHRuc3M/OnN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVUk5PcHRpb25zIGV4dGVuZHMgVVJJT3B0aW9ucyB7XG5cdG5pZD86c3RyaW5nO1xufVxuXG5jb25zdCBOSUQkID0gXCIoPzpbMC05QS1aYS16XVswLTlBLVphLXpcXFxcLV17MSwzMX0pXCI7XG5jb25zdCBQQ1RfRU5DT0RFRCQgPSBcIig/OlxcXFwlWzAtOUEtRmEtZl17Mn0pXCI7XG5jb25zdCBUUkFOUyQkID0gXCJbMC05QS1aYS16XFxcXChcXFxcKVxcXFwrXFxcXCxcXFxcLVxcXFwuXFxcXDpcXFxcPVxcXFxAXFxcXDtcXFxcJFxcXFxfXFxcXCFcXFxcKlxcXFwnXFxcXC9cXFxcP1xcXFwjXVwiO1xuY29uc3QgTlNTJCA9IFwiKD86KD86XCIgKyBQQ1RfRU5DT0RFRCQgKyBcInxcIiArIFRSQU5TJCQgKyBcIikrKVwiO1xuY29uc3QgVVJOX1NDSEVNRSA9IG5ldyBSZWdFeHAoXCJedXJuXFxcXDooXCIgKyBOSUQkICsgXCIpJFwiKTtcbmNvbnN0IFVSTl9QQVRIID0gbmV3IFJlZ0V4cChcIl4oXCIgKyBOSUQkICsgXCIpXFxcXDooXCIgKyBOU1MkICsgXCIpJFwiKTtcbmNvbnN0IFVSTl9QQVJTRSA9IC9eKFteXFw6XSspXFw6KC4qKS87XG5jb25zdCBVUk5fRVhDTFVERUQgPSAvW1xceDAwLVxceDIwXFxcXFxcXCJcXCZcXDxcXD5cXFtcXF1cXF5cXGBcXHtcXHxcXH1cXH5cXHg3Ri1cXHhGRl0vZztcblxuLy9SRkMgMjE0MVxuY29uc3QgaGFuZGxlcjpVUklTY2hlbWVIYW5kbGVyPFVSTkNvbXBvbmVudHMsVVJOT3B0aW9ucz4gPSB7XG5cdHNjaGVtZSA6IFwidXJuXCIsXG5cblx0cGFyc2UgOiBmdW5jdGlvbiAoY29tcG9uZW50czpVUklDb21wb25lbnRzLCBvcHRpb25zOlVSTk9wdGlvbnMpOlVSTkNvbXBvbmVudHMge1xuXHRcdGNvbnN0IG1hdGNoZXMgPSBjb21wb25lbnRzLnBhdGggJiYgY29tcG9uZW50cy5wYXRoLm1hdGNoKFVSTl9QQVJTRSk7XG5cdFx0bGV0IHVybkNvbXBvbmVudHMgPSBjb21wb25lbnRzIGFzIFVSTkNvbXBvbmVudHM7XG5cblx0XHRpZiAobWF0Y2hlcykge1xuXHRcdFx0Y29uc3Qgc2NoZW1lID0gb3B0aW9ucy5zY2hlbWUgfHwgdXJuQ29tcG9uZW50cy5zY2hlbWUgfHwgXCJ1cm5cIjtcblx0XHRcdGNvbnN0IG5pZCA9IG1hdGNoZXNbMV0udG9Mb3dlckNhc2UoKTtcblx0XHRcdGNvbnN0IG5zcyA9IG1hdGNoZXNbMl07XG5cdFx0XHRjb25zdCB1cm5TY2hlbWUgPSBgJHtzY2hlbWV9OiR7b3B0aW9ucy5uaWQgfHwgbmlkfWA7XG5cdFx0XHRjb25zdCBzY2hlbWVIYW5kbGVyID0gU0NIRU1FU1t1cm5TY2hlbWVdO1xuXG5cdFx0XHR1cm5Db21wb25lbnRzLm5pZCA9IG5pZDtcblx0XHRcdHVybkNvbXBvbmVudHMubnNzID0gbnNzO1xuXHRcdFx0dXJuQ29tcG9uZW50cy5wYXRoID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoc2NoZW1lSGFuZGxlcikge1xuXHRcdFx0XHR1cm5Db21wb25lbnRzID0gc2NoZW1lSGFuZGxlci5wYXJzZSh1cm5Db21wb25lbnRzLCBvcHRpb25zKSBhcyBVUk5Db21wb25lbnRzO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR1cm5Db21wb25lbnRzLmVycm9yID0gdXJuQ29tcG9uZW50cy5lcnJvciB8fCBcIlVSTiBjYW4gbm90IGJlIHBhcnNlZC5cIjtcblx0XHR9XG5cblx0XHRyZXR1cm4gdXJuQ29tcG9uZW50cztcblx0fSxcblxuXHRzZXJpYWxpemUgOiBmdW5jdGlvbiAodXJuQ29tcG9uZW50czpVUk5Db21wb25lbnRzLCBvcHRpb25zOlVSTk9wdGlvbnMpOlVSSUNvbXBvbmVudHMge1xuXHRcdGNvbnN0IHNjaGVtZSA9IG9wdGlvbnMuc2NoZW1lIHx8IHVybkNvbXBvbmVudHMuc2NoZW1lIHx8IFwidXJuXCI7XG5cdFx0Y29uc3QgbmlkID0gdXJuQ29tcG9uZW50cy5uaWQ7XG5cdFx0Y29uc3QgdXJuU2NoZW1lID0gYCR7c2NoZW1lfToke29wdGlvbnMubmlkIHx8IG5pZH1gO1xuXHRcdGNvbnN0IHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTW3VyblNjaGVtZV07XG5cblx0XHRpZiAoc2NoZW1lSGFuZGxlcikge1xuXHRcdFx0dXJuQ29tcG9uZW50cyA9IHNjaGVtZUhhbmRsZXIuc2VyaWFsaXplKHVybkNvbXBvbmVudHMsIG9wdGlvbnMpIGFzIFVSTkNvbXBvbmVudHM7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXJpQ29tcG9uZW50cyA9IHVybkNvbXBvbmVudHMgYXMgVVJJQ29tcG9uZW50cztcblx0XHRjb25zdCBuc3MgPSB1cm5Db21wb25lbnRzLm5zcztcblx0XHR1cmlDb21wb25lbnRzLnBhdGggPSBgJHtuaWQgfHwgb3B0aW9ucy5uaWR9OiR7bnNzfWA7XG5cblx0XHRyZXR1cm4gdXJpQ29tcG9uZW50cztcblx0fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7IiwiaW1wb3J0IHsgVVJJU2NoZW1lSGFuZGxlciwgVVJJQ29tcG9uZW50cywgVVJJT3B0aW9ucyB9IGZyb20gXCIuLi91cmlcIjtcbmltcG9ydCB7IFVSTkNvbXBvbmVudHMgfSBmcm9tIFwiLi91cm5cIjtcbmltcG9ydCB7IFNDSEVNRVMgfSBmcm9tIFwiLi4vdXJpXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVVVJRENvbXBvbmVudHMgZXh0ZW5kcyBVUk5Db21wb25lbnRzIHtcblx0dXVpZD86IHN0cmluZztcbn1cblxuY29uc3QgVVVJRCA9IC9eWzAtOUEtRmEtZl17OH0oPzpcXC1bMC05QS1GYS1mXXs0fSl7M31cXC1bMC05QS1GYS1mXXsxMn0kLztcbmNvbnN0IFVVSURfUEFSU0UgPSAvXlswLTlBLUZhLWZcXC1dezM2fS87XG5cbi8vUkZDIDQxMjJcbmNvbnN0IGhhbmRsZXI6VVJJU2NoZW1lSGFuZGxlcjxVVUlEQ29tcG9uZW50cywgVVJJT3B0aW9ucywgVVJOQ29tcG9uZW50cz4gPSB7XG5cdHNjaGVtZSA6IFwidXJuOnV1aWRcIixcblxuXHRwYXJzZSA6IGZ1bmN0aW9uICh1cm5Db21wb25lbnRzOlVSTkNvbXBvbmVudHMsIG9wdGlvbnM6VVJJT3B0aW9ucyk6VVVJRENvbXBvbmVudHMge1xuXHRcdGNvbnN0IHV1aWRDb21wb25lbnRzID0gdXJuQ29tcG9uZW50cyBhcyBVVUlEQ29tcG9uZW50cztcblx0XHR1dWlkQ29tcG9uZW50cy51dWlkID0gdXVpZENvbXBvbmVudHMubnNzO1xuXHRcdHV1aWRDb21wb25lbnRzLm5zcyA9IHVuZGVmaW5lZDtcblxuXHRcdGlmICghb3B0aW9ucy50b2xlcmFudCAmJiAoIXV1aWRDb21wb25lbnRzLnV1aWQgfHwgIXV1aWRDb21wb25lbnRzLnV1aWQubWF0Y2goVVVJRCkpKSB7XG5cdFx0XHR1dWlkQ29tcG9uZW50cy5lcnJvciA9IHV1aWRDb21wb25lbnRzLmVycm9yIHx8IFwiVVVJRCBpcyBub3QgdmFsaWQuXCI7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHV1aWRDb21wb25lbnRzO1xuXHR9LFxuXG5cdHNlcmlhbGl6ZSA6IGZ1bmN0aW9uICh1dWlkQ29tcG9uZW50czpVVUlEQ29tcG9uZW50cywgb3B0aW9uczpVUklPcHRpb25zKTpVUk5Db21wb25lbnRzIHtcblx0XHRjb25zdCB1cm5Db21wb25lbnRzID0gdXVpZENvbXBvbmVudHMgYXMgVVJOQ29tcG9uZW50cztcblx0XHQvL25vcm1hbGl6ZSBVVUlEXG5cdFx0dXJuQ29tcG9uZW50cy5uc3MgPSAodXVpZENvbXBvbmVudHMudXVpZCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiB1cm5Db21wb25lbnRzO1xuXHR9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlcjsiLCJpbXBvcnQgeyBTQ0hFTUVTIH0gZnJvbSBcIi4vdXJpXCI7XG5cbmltcG9ydCBodHRwIGZyb20gXCIuL3NjaGVtZXMvaHR0cFwiO1xuU0NIRU1FU1todHRwLnNjaGVtZV0gPSBodHRwO1xuXG5pbXBvcnQgaHR0cHMgZnJvbSBcIi4vc2NoZW1lcy9odHRwc1wiO1xuU0NIRU1FU1todHRwcy5zY2hlbWVdID0gaHR0cHM7XG5cbmltcG9ydCBtYWlsdG8gZnJvbSBcIi4vc2NoZW1lcy9tYWlsdG9cIjtcblNDSEVNRVNbbWFpbHRvLnNjaGVtZV0gPSBtYWlsdG87XG5cbmltcG9ydCB1cm4gZnJvbSBcIi4vc2NoZW1lcy91cm5cIjtcblNDSEVNRVNbdXJuLnNjaGVtZV0gPSB1cm47XG5cbmltcG9ydCB1dWlkIGZyb20gXCIuL3NjaGVtZXMvdXJuLXV1aWRcIjtcblNDSEVNRVNbdXVpZC5zY2hlbWVdID0gdXVpZDtcblxuZXhwb3J0ICogZnJvbSBcIi4vdXJpXCI7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIGRvIG5vdCBlZGl0IC5qcyBmaWxlcyBkaXJlY3RseSAtIGVkaXQgc3JjL2luZGV4LmpzdFxuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBlcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09ICdvYmplY3QnICYmIHR5cGVvZiBiID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGEuY29uc3RydWN0b3IgIT09IGIuY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBsZW5ndGgsIGksIGtleXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cblxuXG4gICAgaWYgKGEuY29uc3RydWN0b3IgPT09IFJlZ0V4cCkgcmV0dXJuIGEuc291cmNlID09PSBiLnNvdXJjZSAmJiBhLmZsYWdzID09PSBiLmZsYWdzO1xuICAgIGlmIChhLnZhbHVlT2YgIT09IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZikgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKTtcbiAgICBpZiAoYS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwga2V5c1tpXSkpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAoaSA9IGxlbmd0aDsgaS0tICE9PSAwOykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmICghZXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyB0cnVlIGlmIGJvdGggTmFOLCBmYWxzZSBvdGhlcndpc2VcbiAgcmV0dXJuIGEhPT1hICYmIGIhPT1iO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmdcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXN0aWVqcy9wdW55Y29kZS5qcyAtIHB1bnljb2RlLnVjczIuZGVjb2RlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHVjczJsZW5ndGgoc3RyKSB7XG4gIHZhciBsZW5ndGggPSAwXG4gICAgLCBsZW4gPSBzdHIubGVuZ3RoXG4gICAgLCBwb3MgPSAwXG4gICAgLCB2YWx1ZTtcbiAgd2hpbGUgKHBvcyA8IGxlbikge1xuICAgIGxlbmd0aCsrO1xuICAgIHZhbHVlID0gc3RyLmNoYXJDb2RlQXQocG9zKyspO1xuICAgIGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIHBvcyA8IGxlbikge1xuICAgICAgLy8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG4gICAgICB2YWx1ZSA9IHN0ci5jaGFyQ29kZUF0KHBvcyk7XG4gICAgICBpZiAoKHZhbHVlICYgMHhGQzAwKSA9PSAweERDMDApIHBvcysrOyAvLyBsb3cgc3Vycm9nYXRlXG4gICAgfVxuICB9XG4gIHJldHVybiBsZW5ndGg7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb3B5OiBjb3B5LFxuICBjaGVja0RhdGFUeXBlOiBjaGVja0RhdGFUeXBlLFxuICBjaGVja0RhdGFUeXBlczogY2hlY2tEYXRhVHlwZXMsXG4gIGNvZXJjZVRvVHlwZXM6IGNvZXJjZVRvVHlwZXMsXG4gIHRvSGFzaDogdG9IYXNoLFxuICBnZXRQcm9wZXJ0eTogZ2V0UHJvcGVydHksXG4gIGVzY2FwZVF1b3RlczogZXNjYXBlUXVvdGVzLFxuICBlcXVhbDogcmVxdWlyZSgnZmFzdC1kZWVwLWVxdWFsJyksXG4gIHVjczJsZW5ndGg6IHJlcXVpcmUoJy4vdWNzMmxlbmd0aCcpLFxuICB2YXJPY2N1cmVuY2VzOiB2YXJPY2N1cmVuY2VzLFxuICB2YXJSZXBsYWNlOiB2YXJSZXBsYWNlLFxuICBjbGVhblVwQ29kZTogY2xlYW5VcENvZGUsXG4gIGZpbmFsQ2xlYW5VcENvZGU6IGZpbmFsQ2xlYW5VcENvZGUsXG4gIHNjaGVtYUhhc1J1bGVzOiBzY2hlbWFIYXNSdWxlcyxcbiAgc2NoZW1hSGFzUnVsZXNFeGNlcHQ6IHNjaGVtYUhhc1J1bGVzRXhjZXB0LFxuICBzY2hlbWFVbmtub3duUnVsZXM6IHNjaGVtYVVua25vd25SdWxlcyxcbiAgdG9RdW90ZWRTdHJpbmc6IHRvUXVvdGVkU3RyaW5nLFxuICBnZXRQYXRoRXhwcjogZ2V0UGF0aEV4cHIsXG4gIGdldFBhdGg6IGdldFBhdGgsXG4gIGdldERhdGE6IGdldERhdGEsXG4gIHVuZXNjYXBlRnJhZ21lbnQ6IHVuZXNjYXBlRnJhZ21lbnQsXG4gIHVuZXNjYXBlSnNvblBvaW50ZXI6IHVuZXNjYXBlSnNvblBvaW50ZXIsXG4gIGVzY2FwZUZyYWdtZW50OiBlc2NhcGVGcmFnbWVudCxcbiAgZXNjYXBlSnNvblBvaW50ZXI6IGVzY2FwZUpzb25Qb2ludGVyXG59O1xuXG5cbmZ1bmN0aW9uIGNvcHkobywgdG8pIHtcbiAgdG8gPSB0byB8fCB7fTtcbiAgZm9yICh2YXIga2V5IGluIG8pIHRvW2tleV0gPSBvW2tleV07XG4gIHJldHVybiB0bztcbn1cblxuXG5mdW5jdGlvbiBjaGVja0RhdGFUeXBlKGRhdGFUeXBlLCBkYXRhLCBuZWdhdGUpIHtcbiAgdmFyIEVRVUFMID0gbmVnYXRlID8gJyAhPT0gJyA6ICcgPT09ICdcbiAgICAsIEFORCA9IG5lZ2F0ZSA/ICcgfHwgJyA6ICcgJiYgJ1xuICAgICwgT0sgPSBuZWdhdGUgPyAnIScgOiAnJ1xuICAgICwgTk9UID0gbmVnYXRlID8gJycgOiAnISc7XG4gIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICBjYXNlICdudWxsJzogcmV0dXJuIGRhdGEgKyBFUVVBTCArICdudWxsJztcbiAgICBjYXNlICdhcnJheSc6IHJldHVybiBPSyArICdBcnJheS5pc0FycmF5KCcgKyBkYXRhICsgJyknO1xuICAgIGNhc2UgJ29iamVjdCc6IHJldHVybiAnKCcgKyBPSyArIGRhdGEgKyBBTkQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZW9mICcgKyBkYXRhICsgRVFVQUwgKyAnXCJvYmplY3RcIicgKyBBTkQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBOT1QgKyAnQXJyYXkuaXNBcnJheSgnICsgZGF0YSArICcpKSc7XG4gICAgY2FzZSAnaW50ZWdlcic6IHJldHVybiAnKHR5cGVvZiAnICsgZGF0YSArIEVRVUFMICsgJ1wibnVtYmVyXCInICsgQU5EICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVCArICcoJyArIGRhdGEgKyAnICUgMSknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEFORCArIGRhdGEgKyBFUVVBTCArIGRhdGEgKyAnKSc7XG4gICAgZGVmYXVsdDogcmV0dXJuICd0eXBlb2YgJyArIGRhdGEgKyBFUVVBTCArICdcIicgKyBkYXRhVHlwZSArICdcIic7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBjaGVja0RhdGFUeXBlcyhkYXRhVHlwZXMsIGRhdGEpIHtcbiAgc3dpdGNoIChkYXRhVHlwZXMubGVuZ3RoKSB7XG4gICAgY2FzZSAxOiByZXR1cm4gY2hlY2tEYXRhVHlwZShkYXRhVHlwZXNbMF0sIGRhdGEsIHRydWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB2YXIgY29kZSA9ICcnO1xuICAgICAgdmFyIHR5cGVzID0gdG9IYXNoKGRhdGFUeXBlcyk7XG4gICAgICBpZiAodHlwZXMuYXJyYXkgJiYgdHlwZXMub2JqZWN0KSB7XG4gICAgICAgIGNvZGUgPSB0eXBlcy5udWxsID8gJygnOiAnKCEnICsgZGF0YSArICcgfHwgJztcbiAgICAgICAgY29kZSArPSAndHlwZW9mICcgKyBkYXRhICsgJyAhPT0gXCJvYmplY3RcIiknO1xuICAgICAgICBkZWxldGUgdHlwZXMubnVsbDtcbiAgICAgICAgZGVsZXRlIHR5cGVzLmFycmF5O1xuICAgICAgICBkZWxldGUgdHlwZXMub2JqZWN0O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVzLm51bWJlcikgZGVsZXRlIHR5cGVzLmludGVnZXI7XG4gICAgICBmb3IgKHZhciB0IGluIHR5cGVzKVxuICAgICAgICBjb2RlICs9IChjb2RlID8gJyAmJiAnIDogJycgKSArIGNoZWNrRGF0YVR5cGUodCwgZGF0YSwgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiBjb2RlO1xuICB9XG59XG5cblxudmFyIENPRVJDRV9UT19UWVBFUyA9IHRvSGFzaChbICdzdHJpbmcnLCAnbnVtYmVyJywgJ2ludGVnZXInLCAnYm9vbGVhbicsICdudWxsJyBdKTtcbmZ1bmN0aW9uIGNvZXJjZVRvVHlwZXMob3B0aW9uQ29lcmNlVHlwZXMsIGRhdGFUeXBlcykge1xuICBpZiAoQXJyYXkuaXNBcnJheShkYXRhVHlwZXMpKSB7XG4gICAgdmFyIHR5cGVzID0gW107XG4gICAgZm9yICh2YXIgaT0wOyBpPGRhdGFUeXBlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHQgPSBkYXRhVHlwZXNbaV07XG4gICAgICBpZiAoQ09FUkNFX1RPX1RZUEVTW3RdKSB0eXBlc1t0eXBlcy5sZW5ndGhdID0gdDtcbiAgICAgIGVsc2UgaWYgKG9wdGlvbkNvZXJjZVR5cGVzID09PSAnYXJyYXknICYmIHQgPT09ICdhcnJheScpIHR5cGVzW3R5cGVzLmxlbmd0aF0gPSB0O1xuICAgIH1cbiAgICBpZiAodHlwZXMubGVuZ3RoKSByZXR1cm4gdHlwZXM7XG4gIH0gZWxzZSBpZiAoQ09FUkNFX1RPX1RZUEVTW2RhdGFUeXBlc10pIHtcbiAgICByZXR1cm4gW2RhdGFUeXBlc107XG4gIH0gZWxzZSBpZiAob3B0aW9uQ29lcmNlVHlwZXMgPT09ICdhcnJheScgJiYgZGF0YVR5cGVzID09PSAnYXJyYXknKSB7XG4gICAgcmV0dXJuIFsnYXJyYXknXTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHRvSGFzaChhcnIpIHtcbiAgdmFyIGhhc2ggPSB7fTtcbiAgZm9yICh2YXIgaT0wOyBpPGFyci5sZW5ndGg7IGkrKykgaGFzaFthcnJbaV1dID0gdHJ1ZTtcbiAgcmV0dXJuIGhhc2g7XG59XG5cblxudmFyIElERU5USUZJRVIgPSAvXlthLXokX11bYS16JF8wLTldKiQvaTtcbnZhciBTSU5HTEVfUVVPVEUgPSAvJ3xcXFxcL2c7XG5mdW5jdGlvbiBnZXRQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIHR5cGVvZiBrZXkgPT0gJ251bWJlcidcbiAgICAgICAgICA/ICdbJyArIGtleSArICddJ1xuICAgICAgICAgIDogSURFTlRJRklFUi50ZXN0KGtleSlcbiAgICAgICAgICAgID8gJy4nICsga2V5XG4gICAgICAgICAgICA6IFwiWydcIiArIGVzY2FwZVF1b3RlcyhrZXkpICsgXCInXVwiO1xufVxuXG5cbmZ1bmN0aW9uIGVzY2FwZVF1b3RlcyhzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKFNJTkdMRV9RVU9URSwgJ1xcXFwkJicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICdcXFxcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxyL2csICdcXFxccicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxmL2csICdcXFxcZicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpO1xufVxuXG5cbmZ1bmN0aW9uIHZhck9jY3VyZW5jZXMoc3RyLCBkYXRhVmFyKSB7XG4gIGRhdGFWYXIgKz0gJ1teMC05XSc7XG4gIHZhciBtYXRjaGVzID0gc3RyLm1hdGNoKG5ldyBSZWdFeHAoZGF0YVZhciwgJ2cnKSk7XG4gIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlcy5sZW5ndGggOiAwO1xufVxuXG5cbmZ1bmN0aW9uIHZhclJlcGxhY2Uoc3RyLCBkYXRhVmFyLCBleHByKSB7XG4gIGRhdGFWYXIgKz0gJyhbXjAtOV0pJztcbiAgZXhwciA9IGV4cHIucmVwbGFjZSgvXFwkL2csICckJCQkJyk7XG4gIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKGRhdGFWYXIsICdnJyksIGV4cHIgKyAnJDEnKTtcbn1cblxuXG52YXIgRU1QVFlfRUxTRSA9IC9lbHNlXFxzKntcXHMqfS9nXG4gICwgRU1QVFlfSUZfTk9fRUxTRSA9IC9pZlxccypcXChbXildK1xcKVxccypcXHtcXHMqXFx9KD8hXFxzKmVsc2UpL2dcbiAgLCBFTVBUWV9JRl9XSVRIX0VMU0UgPSAvaWZcXHMqXFwoKFteKV0rKVxcKVxccypcXHtcXHMqXFx9XFxzKmVsc2UoPyFcXHMqaWYpL2c7XG5mdW5jdGlvbiBjbGVhblVwQ29kZShvdXQpIHtcbiAgcmV0dXJuIG91dC5yZXBsYWNlKEVNUFRZX0VMU0UsICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoRU1QVFlfSUZfTk9fRUxTRSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZShFTVBUWV9JRl9XSVRIX0VMU0UsICdpZiAoISgkMSkpJyk7XG59XG5cblxudmFyIEVSUk9SU19SRUdFWFAgPSAvW152Ll1lcnJvcnMvZ1xuICAsIFJFTU9WRV9FUlJPUlMgPSAvdmFyIGVycm9ycyA9IDA7fHZhciB2RXJyb3JzID0gbnVsbDt8dmFsaWRhdGUuZXJyb3JzID0gdkVycm9yczsvZ1xuICAsIFJFTU9WRV9FUlJPUlNfQVNZTkMgPSAvdmFyIGVycm9ycyA9IDA7fHZhciB2RXJyb3JzID0gbnVsbDsvZ1xuICAsIFJFVFVSTl9WQUxJRCA9ICdyZXR1cm4gZXJyb3JzID09PSAwOydcbiAgLCBSRVRVUk5fVFJVRSA9ICd2YWxpZGF0ZS5lcnJvcnMgPSBudWxsOyByZXR1cm4gdHJ1ZTsnXG4gICwgUkVUVVJOX0FTWU5DID0gL2lmIFxcKGVycm9ycyA9PT0gMFxcKSByZXR1cm4gZGF0YTtcXHMqZWxzZSB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yXFwodkVycm9yc1xcKTsvXG4gICwgUkVUVVJOX0RBVEFfQVNZTkMgPSAncmV0dXJuIGRhdGE7J1xuICAsIFJPT1REQVRBX1JFR0VYUCA9IC9bXkEtWmEtel8kXXJvb3REYXRhW15BLVphLXowLTlfJF0vZ1xuICAsIFJFTU9WRV9ST09UREFUQSA9IC9pZiBcXChyb290RGF0YSA9PT0gdW5kZWZpbmVkXFwpIHJvb3REYXRhID0gZGF0YTsvO1xuXG5mdW5jdGlvbiBmaW5hbENsZWFuVXBDb2RlKG91dCwgYXN5bmMpIHtcbiAgdmFyIG1hdGNoZXMgPSBvdXQubWF0Y2goRVJST1JTX1JFR0VYUCk7XG4gIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID09IDIpIHtcbiAgICBvdXQgPSBhc3luY1xuICAgICAgICAgID8gb3V0LnJlcGxhY2UoUkVNT1ZFX0VSUk9SU19BU1lOQywgJycpXG4gICAgICAgICAgICAgICAucmVwbGFjZShSRVRVUk5fQVNZTkMsIFJFVFVSTl9EQVRBX0FTWU5DKVxuICAgICAgICAgIDogb3V0LnJlcGxhY2UoUkVNT1ZFX0VSUk9SUywgJycpXG4gICAgICAgICAgICAgICAucmVwbGFjZShSRVRVUk5fVkFMSUQsIFJFVFVSTl9UUlVFKTtcbiAgfVxuXG4gIG1hdGNoZXMgPSBvdXQubWF0Y2goUk9PVERBVEFfUkVHRVhQKTtcbiAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoICE9PSAzKSByZXR1cm4gb3V0O1xuICByZXR1cm4gb3V0LnJlcGxhY2UoUkVNT1ZFX1JPT1REQVRBLCAnJyk7XG59XG5cblxuZnVuY3Rpb24gc2NoZW1hSGFzUnVsZXMoc2NoZW1hLCBydWxlcykge1xuICBpZiAodHlwZW9mIHNjaGVtYSA9PSAnYm9vbGVhbicpIHJldHVybiAhc2NoZW1hO1xuICBmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSBpZiAocnVsZXNba2V5XSkgcmV0dXJuIHRydWU7XG59XG5cblxuZnVuY3Rpb24gc2NoZW1hSGFzUnVsZXNFeGNlcHQoc2NoZW1hLCBydWxlcywgZXhjZXB0S2V5d29yZCkge1xuICBpZiAodHlwZW9mIHNjaGVtYSA9PSAnYm9vbGVhbicpIHJldHVybiAhc2NoZW1hICYmIGV4Y2VwdEtleXdvcmQgIT0gJ25vdCc7XG4gIGZvciAodmFyIGtleSBpbiBzY2hlbWEpIGlmIChrZXkgIT0gZXhjZXB0S2V5d29yZCAmJiBydWxlc1trZXldKSByZXR1cm4gdHJ1ZTtcbn1cblxuXG5mdW5jdGlvbiBzY2hlbWFVbmtub3duUnVsZXMoc2NoZW1hLCBydWxlcykge1xuICBpZiAodHlwZW9mIHNjaGVtYSA9PSAnYm9vbGVhbicpIHJldHVybjtcbiAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkgaWYgKCFydWxlc1trZXldKSByZXR1cm4ga2V5O1xufVxuXG5cbmZ1bmN0aW9uIHRvUXVvdGVkU3RyaW5nKHN0cikge1xuICByZXR1cm4gJ1xcJycgKyBlc2NhcGVRdW90ZXMoc3RyKSArICdcXCcnO1xufVxuXG5cbmZ1bmN0aW9uIGdldFBhdGhFeHByKGN1cnJlbnRQYXRoLCBleHByLCBqc29uUG9pbnRlcnMsIGlzTnVtYmVyKSB7XG4gIHZhciBwYXRoID0ganNvblBvaW50ZXJzIC8vIGZhbHNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgPyAnXFwnL1xcJyArICcgKyBleHByICsgKGlzTnVtYmVyID8gJycgOiAnLnJlcGxhY2UoL34vZywgXFwnfjBcXCcpLnJlcGxhY2UoL1xcXFwvL2csIFxcJ34xXFwnKScpXG4gICAgICAgICAgICAgIDogKGlzTnVtYmVyID8gJ1xcJ1tcXCcgKyAnICsgZXhwciArICcgKyBcXCddXFwnJyA6ICdcXCdbXFxcXFxcJ1xcJyArICcgKyBleHByICsgJyArIFxcJ1xcXFxcXCddXFwnJyk7XG4gIHJldHVybiBqb2luUGF0aHMoY3VycmVudFBhdGgsIHBhdGgpO1xufVxuXG5cbmZ1bmN0aW9uIGdldFBhdGgoY3VycmVudFBhdGgsIHByb3AsIGpzb25Qb2ludGVycykge1xuICB2YXIgcGF0aCA9IGpzb25Qb2ludGVycyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgID8gdG9RdW90ZWRTdHJpbmcoJy8nICsgZXNjYXBlSnNvblBvaW50ZXIocHJvcCkpXG4gICAgICAgICAgICAgIDogdG9RdW90ZWRTdHJpbmcoZ2V0UHJvcGVydHkocHJvcCkpO1xuICByZXR1cm4gam9pblBhdGhzKGN1cnJlbnRQYXRoLCBwYXRoKTtcbn1cblxuXG52YXIgSlNPTl9QT0lOVEVSID0gL15cXC8oPzpbXn5dfH4wfH4xKSokLztcbnZhciBSRUxBVElWRV9KU09OX1BPSU5URVIgPSAvXihbMC05XSspKCN8XFwvKD86W15+XXx+MHx+MSkqKT8kLztcbmZ1bmN0aW9uIGdldERhdGEoJGRhdGEsIGx2bCwgcGF0aHMpIHtcbiAgdmFyIHVwLCBqc29uUG9pbnRlciwgZGF0YSwgbWF0Y2hlcztcbiAgaWYgKCRkYXRhID09PSAnJykgcmV0dXJuICdyb290RGF0YSc7XG4gIGlmICgkZGF0YVswXSA9PSAnLycpIHtcbiAgICBpZiAoIUpTT05fUE9JTlRFUi50ZXN0KCRkYXRhKSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEpTT04tcG9pbnRlcjogJyArICRkYXRhKTtcbiAgICBqc29uUG9pbnRlciA9ICRkYXRhO1xuICAgIGRhdGEgPSAncm9vdERhdGEnO1xuICB9IGVsc2Uge1xuICAgIG1hdGNoZXMgPSAkZGF0YS5tYXRjaChSRUxBVElWRV9KU09OX1BPSU5URVIpO1xuICAgIGlmICghbWF0Y2hlcykgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEpTT04tcG9pbnRlcjogJyArICRkYXRhKTtcbiAgICB1cCA9ICttYXRjaGVzWzFdO1xuICAgIGpzb25Qb2ludGVyID0gbWF0Y2hlc1syXTtcbiAgICBpZiAoanNvblBvaW50ZXIgPT0gJyMnKSB7XG4gICAgICBpZiAodXAgPj0gbHZsKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhY2Nlc3MgcHJvcGVydHkvaW5kZXggJyArIHVwICsgJyBsZXZlbHMgdXAsIGN1cnJlbnQgbGV2ZWwgaXMgJyArIGx2bCk7XG4gICAgICByZXR1cm4gcGF0aHNbbHZsIC0gdXBdO1xuICAgIH1cblxuICAgIGlmICh1cCA+IGx2bCkgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWNjZXNzIGRhdGEgJyArIHVwICsgJyBsZXZlbHMgdXAsIGN1cnJlbnQgbGV2ZWwgaXMgJyArIGx2bCk7XG4gICAgZGF0YSA9ICdkYXRhJyArICgobHZsIC0gdXApIHx8ICcnKTtcbiAgICBpZiAoIWpzb25Qb2ludGVyKSByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciBleHByID0gZGF0YTtcbiAgdmFyIHNlZ21lbnRzID0ganNvblBvaW50ZXIuc3BsaXQoJy8nKTtcbiAgZm9yICh2YXIgaT0wOyBpPHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgZGF0YSArPSBnZXRQcm9wZXJ0eSh1bmVzY2FwZUpzb25Qb2ludGVyKHNlZ21lbnQpKTtcbiAgICAgIGV4cHIgKz0gJyAmJiAnICsgZGF0YTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV4cHI7XG59XG5cblxuZnVuY3Rpb24gam9pblBhdGhzIChhLCBiKSB7XG4gIGlmIChhID09ICdcIlwiJykgcmV0dXJuIGI7XG4gIHJldHVybiAoYSArICcgKyAnICsgYikucmVwbGFjZSgvJyBcXCsgJy9nLCAnJyk7XG59XG5cblxuZnVuY3Rpb24gdW5lc2NhcGVGcmFnbWVudChzdHIpIHtcbiAgcmV0dXJuIHVuZXNjYXBlSnNvblBvaW50ZXIoZGVjb2RlVVJJQ29tcG9uZW50KHN0cikpO1xufVxuXG5cbmZ1bmN0aW9uIGVzY2FwZUZyYWdtZW50KHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGVzY2FwZUpzb25Qb2ludGVyKHN0cikpO1xufVxuXG5cbmZ1bmN0aW9uIGVzY2FwZUpzb25Qb2ludGVyKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL34vZywgJ34wJykucmVwbGFjZSgvXFwvL2csICd+MScpO1xufVxuXG5cbmZ1bmN0aW9uIHVuZXNjYXBlSnNvblBvaW50ZXIoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvfjEvZywgJy8nKS5yZXBsYWNlKC9+MC9nLCAnficpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVtYU9iamVjdDtcblxuZnVuY3Rpb24gU2NoZW1hT2JqZWN0KG9iaikge1xuICB1dGlsLmNvcHkob2JqLCB0aGlzKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRyYXZlcnNlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2NoZW1hLCBvcHRzLCBjYikge1xuICAvLyBMZWdhY3kgc3VwcG9ydCBmb3IgdjAuMy4xIGFuZCBlYXJsaWVyLlxuICBpZiAodHlwZW9mIG9wdHMgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBjYiA9IG9wdHMuY2IgfHwgY2I7XG4gIHZhciBwcmUgPSAodHlwZW9mIGNiID09ICdmdW5jdGlvbicpID8gY2IgOiBjYi5wcmUgfHwgZnVuY3Rpb24oKSB7fTtcbiAgdmFyIHBvc3QgPSBjYi5wb3N0IHx8IGZ1bmN0aW9uKCkge307XG5cbiAgX3RyYXZlcnNlKG9wdHMsIHByZSwgcG9zdCwgc2NoZW1hLCAnJywgc2NoZW1hKTtcbn07XG5cblxudHJhdmVyc2Uua2V5d29yZHMgPSB7XG4gIGFkZGl0aW9uYWxJdGVtczogdHJ1ZSxcbiAgaXRlbXM6IHRydWUsXG4gIGNvbnRhaW5zOiB0cnVlLFxuICBhZGRpdGlvbmFsUHJvcGVydGllczogdHJ1ZSxcbiAgcHJvcGVydHlOYW1lczogdHJ1ZSxcbiAgbm90OiB0cnVlXG59O1xuXG50cmF2ZXJzZS5hcnJheUtleXdvcmRzID0ge1xuICBpdGVtczogdHJ1ZSxcbiAgYWxsT2Y6IHRydWUsXG4gIGFueU9mOiB0cnVlLFxuICBvbmVPZjogdHJ1ZVxufTtcblxudHJhdmVyc2UucHJvcHNLZXl3b3JkcyA9IHtcbiAgZGVmaW5pdGlvbnM6IHRydWUsXG4gIHByb3BlcnRpZXM6IHRydWUsXG4gIHBhdHRlcm5Qcm9wZXJ0aWVzOiB0cnVlLFxuICBkZXBlbmRlbmNpZXM6IHRydWVcbn07XG5cbnRyYXZlcnNlLnNraXBLZXl3b3JkcyA9IHtcbiAgZGVmYXVsdDogdHJ1ZSxcbiAgZW51bTogdHJ1ZSxcbiAgY29uc3Q6IHRydWUsXG4gIHJlcXVpcmVkOiB0cnVlLFxuICBtYXhpbXVtOiB0cnVlLFxuICBtaW5pbXVtOiB0cnVlLFxuICBleGNsdXNpdmVNYXhpbXVtOiB0cnVlLFxuICBleGNsdXNpdmVNaW5pbXVtOiB0cnVlLFxuICBtdWx0aXBsZU9mOiB0cnVlLFxuICBtYXhMZW5ndGg6IHRydWUsXG4gIG1pbkxlbmd0aDogdHJ1ZSxcbiAgcGF0dGVybjogdHJ1ZSxcbiAgZm9ybWF0OiB0cnVlLFxuICBtYXhJdGVtczogdHJ1ZSxcbiAgbWluSXRlbXM6IHRydWUsXG4gIHVuaXF1ZUl0ZW1zOiB0cnVlLFxuICBtYXhQcm9wZXJ0aWVzOiB0cnVlLFxuICBtaW5Qcm9wZXJ0aWVzOiB0cnVlXG59O1xuXG5cbmZ1bmN0aW9uIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaGVtYSwganNvblB0ciwgcm9vdFNjaGVtYSwgcGFyZW50SnNvblB0ciwgcGFyZW50S2V5d29yZCwgcGFyZW50U2NoZW1hLCBrZXlJbmRleCkge1xuICBpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xuICAgIHByZShzY2hlbWEsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpO1xuICAgIGZvciAodmFyIGtleSBpbiBzY2hlbWEpIHtcbiAgICAgIHZhciBzY2ggPSBzY2hlbWFba2V5XTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaCkpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0cmF2ZXJzZS5hcnJheUtleXdvcmRzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNjaC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaFtpXSwganNvblB0ciArICcvJyArIGtleSArICcvJyArIGksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgaW4gdHJhdmVyc2UucHJvcHNLZXl3b3Jkcykge1xuICAgICAgICBpZiAoc2NoICYmIHR5cGVvZiBzY2ggPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNjaClcbiAgICAgICAgICAgIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaFtwcm9wXSwganNvblB0ciArICcvJyArIGtleSArICcvJyArIGVzY2FwZUpzb25QdHIocHJvcCksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hLCBwcm9wKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgaW4gdHJhdmVyc2Uua2V5d29yZHMgfHwgKG9wdHMuYWxsS2V5cyAmJiAhKGtleSBpbiB0cmF2ZXJzZS5za2lwS2V5d29yZHMpKSkge1xuICAgICAgICBfdHJhdmVyc2Uob3B0cywgcHJlLCBwb3N0LCBzY2gsIGpzb25QdHIgKyAnLycgKyBrZXksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9zdChzY2hlbWEsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gZXNjYXBlSnNvblB0cihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFVSSSA9IHJlcXVpcmUoJ3VyaS1qcycpXG4gICwgZXF1YWwgPSByZXF1aXJlKCdmYXN0LWRlZXAtZXF1YWwnKVxuICAsIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKVxuICAsIFNjaGVtYU9iamVjdCA9IHJlcXVpcmUoJy4vc2NoZW1hX29iaicpXG4gICwgdHJhdmVyc2UgPSByZXF1aXJlKCdqc29uLXNjaGVtYS10cmF2ZXJzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc29sdmU7XG5cbnJlc29sdmUubm9ybWFsaXplSWQgPSBub3JtYWxpemVJZDtcbnJlc29sdmUuZnVsbFBhdGggPSBnZXRGdWxsUGF0aDtcbnJlc29sdmUudXJsID0gcmVzb2x2ZVVybDtcbnJlc29sdmUuaWRzID0gcmVzb2x2ZUlkcztcbnJlc29sdmUuaW5saW5lUmVmID0gaW5saW5lUmVmO1xucmVzb2x2ZS5zY2hlbWEgPSByZXNvbHZlU2NoZW1hO1xuXG4vKipcbiAqIFtyZXNvbHZlIGFuZCBjb21waWxlIHRoZSByZWZlcmVuY2VzICgkcmVmKV1cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gY29tcGlsZSByZWZlcmVuY2UgdG8gc2NoZW1hIGNvbXBpbGF0aW9uIGZ1bmNpdG9uIChsb2NhbENvbXBpbGUpXG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJvb3Qgc2NoZW1hIGZvciB0aGUgY3VycmVudCBzY2hlbWFcbiAqIEBwYXJhbSAge1N0cmluZ30gcmVmIHJlZmVyZW5jZSB0byByZXNvbHZlXG4gKiBAcmV0dXJuIHtPYmplY3R8RnVuY3Rpb259IHNjaGVtYSBvYmplY3QgKGlmIHRoZSBzY2hlbWEgY2FuIGJlIGlubGluZWQpIG9yIHZhbGlkYXRpb24gZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZShjb21waWxlLCByb290LCByZWYpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgcmVmVmFsID0gdGhpcy5fcmVmc1tyZWZdO1xuICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykge1xuICAgIGlmICh0aGlzLl9yZWZzW3JlZlZhbF0pIHJlZlZhbCA9IHRoaXMuX3JlZnNbcmVmVmFsXTtcbiAgICBlbHNlIHJldHVybiByZXNvbHZlLmNhbGwodGhpcywgY29tcGlsZSwgcm9vdCwgcmVmVmFsKTtcbiAgfVxuXG4gIHJlZlZhbCA9IHJlZlZhbCB8fCB0aGlzLl9zY2hlbWFzW3JlZl07XG4gIGlmIChyZWZWYWwgaW5zdGFuY2VvZiBTY2hlbWFPYmplY3QpIHtcbiAgICByZXR1cm4gaW5saW5lUmVmKHJlZlZhbC5zY2hlbWEsIHRoaXMuX29wdHMuaW5saW5lUmVmcylcbiAgICAgICAgICAgID8gcmVmVmFsLnNjaGVtYVxuICAgICAgICAgICAgOiByZWZWYWwudmFsaWRhdGUgfHwgdGhpcy5fY29tcGlsZShyZWZWYWwpO1xuICB9XG5cbiAgdmFyIHJlcyA9IHJlc29sdmVTY2hlbWEuY2FsbCh0aGlzLCByb290LCByZWYpO1xuICB2YXIgc2NoZW1hLCB2LCBiYXNlSWQ7XG4gIGlmIChyZXMpIHtcbiAgICBzY2hlbWEgPSByZXMuc2NoZW1hO1xuICAgIHJvb3QgPSByZXMucm9vdDtcbiAgICBiYXNlSWQgPSByZXMuYmFzZUlkO1xuICB9XG5cbiAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFNjaGVtYU9iamVjdCkge1xuICAgIHYgPSBzY2hlbWEudmFsaWRhdGUgfHwgY29tcGlsZS5jYWxsKHRoaXMsIHNjaGVtYS5zY2hlbWEsIHJvb3QsIHVuZGVmaW5lZCwgYmFzZUlkKTtcbiAgfSBlbHNlIGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgIHYgPSBpbmxpbmVSZWYoc2NoZW1hLCB0aGlzLl9vcHRzLmlubGluZVJlZnMpXG4gICAgICAgID8gc2NoZW1hXG4gICAgICAgIDogY29tcGlsZS5jYWxsKHRoaXMsIHNjaGVtYSwgcm9vdCwgdW5kZWZpbmVkLCBiYXNlSWQpO1xuICB9XG5cbiAgcmV0dXJuIHY7XG59XG5cblxuLyoqXG4gKiBSZXNvbHZlIHNjaGVtYSwgaXRzIHJvb3QgYW5kIGJhc2VJZFxuICogQHRoaXMgQWp2XG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgcm9vdCBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHNjaGVtYSwgcmVmVmFsLCByZWZzXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHJlZiAgcmVmZXJlbmNlIHRvIHJlc29sdmVcbiAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggcHJvcGVydGllcyBzY2hlbWEsIHJvb3QsIGJhc2VJZFxuICovXG5mdW5jdGlvbiByZXNvbHZlU2NoZW1hKHJvb3QsIHJlZikge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBwID0gVVJJLnBhcnNlKHJlZilcbiAgICAsIHJlZlBhdGggPSBfZ2V0RnVsbFBhdGgocClcbiAgICAsIGJhc2VJZCA9IGdldEZ1bGxQYXRoKHRoaXMuX2dldElkKHJvb3Quc2NoZW1hKSk7XG4gIGlmIChPYmplY3Qua2V5cyhyb290LnNjaGVtYSkubGVuZ3RoID09PSAwIHx8IHJlZlBhdGggIT09IGJhc2VJZCkge1xuICAgIHZhciBpZCA9IG5vcm1hbGl6ZUlkKHJlZlBhdGgpO1xuICAgIHZhciByZWZWYWwgPSB0aGlzLl9yZWZzW2lkXTtcbiAgICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHJlc29sdmVSZWN1cnNpdmUuY2FsbCh0aGlzLCByb290LCByZWZWYWwsIHApO1xuICAgIH0gZWxzZSBpZiAocmVmVmFsIGluc3RhbmNlb2YgU2NoZW1hT2JqZWN0KSB7XG4gICAgICBpZiAoIXJlZlZhbC52YWxpZGF0ZSkgdGhpcy5fY29tcGlsZShyZWZWYWwpO1xuICAgICAgcm9vdCA9IHJlZlZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVmVmFsID0gdGhpcy5fc2NoZW1hc1tpZF07XG4gICAgICBpZiAocmVmVmFsIGluc3RhbmNlb2YgU2NoZW1hT2JqZWN0KSB7XG4gICAgICAgIGlmICghcmVmVmFsLnZhbGlkYXRlKSB0aGlzLl9jb21waWxlKHJlZlZhbCk7XG4gICAgICAgIGlmIChpZCA9PSBub3JtYWxpemVJZChyZWYpKVxuICAgICAgICAgIHJldHVybiB7IHNjaGVtYTogcmVmVmFsLCByb290OiByb290LCBiYXNlSWQ6IGJhc2VJZCB9O1xuICAgICAgICByb290ID0gcmVmVmFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJvb3Quc2NoZW1hKSByZXR1cm47XG4gICAgYmFzZUlkID0gZ2V0RnVsbFBhdGgodGhpcy5fZ2V0SWQocm9vdC5zY2hlbWEpKTtcbiAgfVxuICByZXR1cm4gZ2V0SnNvblBvaW50ZXIuY2FsbCh0aGlzLCBwLCBiYXNlSWQsIHJvb3Quc2NoZW1hLCByb290KTtcbn1cblxuXG4vKiBAdGhpcyBBanYgKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWN1cnNpdmUocm9vdCwgcmVmLCBwYXJzZWRSZWYpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgcmVzID0gcmVzb2x2ZVNjaGVtYS5jYWxsKHRoaXMsIHJvb3QsIHJlZik7XG4gIGlmIChyZXMpIHtcbiAgICB2YXIgc2NoZW1hID0gcmVzLnNjaGVtYTtcbiAgICB2YXIgYmFzZUlkID0gcmVzLmJhc2VJZDtcbiAgICByb290ID0gcmVzLnJvb3Q7XG4gICAgdmFyIGlkID0gdGhpcy5fZ2V0SWQoc2NoZW1hKTtcbiAgICBpZiAoaWQpIGJhc2VJZCA9IHJlc29sdmVVcmwoYmFzZUlkLCBpZCk7XG4gICAgcmV0dXJuIGdldEpzb25Qb2ludGVyLmNhbGwodGhpcywgcGFyc2VkUmVmLCBiYXNlSWQsIHNjaGVtYSwgcm9vdCk7XG4gIH1cbn1cblxuXG52YXIgUFJFVkVOVF9TQ09QRV9DSEFOR0UgPSB1dGlsLnRvSGFzaChbJ3Byb3BlcnRpZXMnLCAncGF0dGVyblByb3BlcnRpZXMnLCAnZW51bScsICdkZXBlbmRlbmNpZXMnLCAnZGVmaW5pdGlvbnMnXSk7XG4vKiBAdGhpcyBBanYgKi9cbmZ1bmN0aW9uIGdldEpzb25Qb2ludGVyKHBhcnNlZFJlZiwgYmFzZUlkLCBzY2hlbWEsIHJvb3QpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICBwYXJzZWRSZWYuZnJhZ21lbnQgPSBwYXJzZWRSZWYuZnJhZ21lbnQgfHwgJyc7XG4gIGlmIChwYXJzZWRSZWYuZnJhZ21lbnQuc2xpY2UoMCwxKSAhPSAnLycpIHJldHVybjtcbiAgdmFyIHBhcnRzID0gcGFyc2VkUmVmLmZyYWdtZW50LnNwbGl0KCcvJyk7XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG4gICAgaWYgKHBhcnQpIHtcbiAgICAgIHBhcnQgPSB1dGlsLnVuZXNjYXBlRnJhZ21lbnQocGFydCk7XG4gICAgICBzY2hlbWEgPSBzY2hlbWFbcGFydF07XG4gICAgICBpZiAoc2NoZW1hID09PSB1bmRlZmluZWQpIGJyZWFrO1xuICAgICAgdmFyIGlkO1xuICAgICAgaWYgKCFQUkVWRU5UX1NDT1BFX0NIQU5HRVtwYXJ0XSkge1xuICAgICAgICBpZCA9IHRoaXMuX2dldElkKHNjaGVtYSk7XG4gICAgICAgIGlmIChpZCkgYmFzZUlkID0gcmVzb2x2ZVVybChiYXNlSWQsIGlkKTtcbiAgICAgICAgaWYgKHNjaGVtYS4kcmVmKSB7XG4gICAgICAgICAgdmFyICRyZWYgPSByZXNvbHZlVXJsKGJhc2VJZCwgc2NoZW1hLiRyZWYpO1xuICAgICAgICAgIHZhciByZXMgPSByZXNvbHZlU2NoZW1hLmNhbGwodGhpcywgcm9vdCwgJHJlZik7XG4gICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgc2NoZW1hID0gcmVzLnNjaGVtYTtcbiAgICAgICAgICAgIHJvb3QgPSByZXMucm9vdDtcbiAgICAgICAgICAgIGJhc2VJZCA9IHJlcy5iYXNlSWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCAmJiBzY2hlbWEgIT09IHJvb3Quc2NoZW1hKVxuICAgIHJldHVybiB7IHNjaGVtYTogc2NoZW1hLCByb290OiByb290LCBiYXNlSWQ6IGJhc2VJZCB9O1xufVxuXG5cbnZhciBTSU1QTEVfSU5MSU5FRCA9IHV0aWwudG9IYXNoKFtcbiAgJ3R5cGUnLCAnZm9ybWF0JywgJ3BhdHRlcm4nLFxuICAnbWF4TGVuZ3RoJywgJ21pbkxlbmd0aCcsXG4gICdtYXhQcm9wZXJ0aWVzJywgJ21pblByb3BlcnRpZXMnLFxuICAnbWF4SXRlbXMnLCAnbWluSXRlbXMnLFxuICAnbWF4aW11bScsICdtaW5pbXVtJyxcbiAgJ3VuaXF1ZUl0ZW1zJywgJ211bHRpcGxlT2YnLFxuICAncmVxdWlyZWQnLCAnZW51bSdcbl0pO1xuZnVuY3Rpb24gaW5saW5lUmVmKHNjaGVtYSwgbGltaXQpIHtcbiAgaWYgKGxpbWl0ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCB8fCBsaW1pdCA9PT0gdHJ1ZSkgcmV0dXJuIGNoZWNrTm9SZWYoc2NoZW1hKTtcbiAgZWxzZSBpZiAobGltaXQpIHJldHVybiBjb3VudEtleXMoc2NoZW1hKSA8PSBsaW1pdDtcbn1cblxuXG5mdW5jdGlvbiBjaGVja05vUmVmKHNjaGVtYSkge1xuICB2YXIgaXRlbTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xuICAgIGZvciAodmFyIGk9MDsgaTxzY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGl0ZW0gPSBzY2hlbWFbaV07XG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT0gJ29iamVjdCcgJiYgIWNoZWNrTm9SZWYoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgICAgaWYgKGtleSA9PSAnJHJlZicpIHJldHVybiBmYWxzZTtcbiAgICAgIGl0ZW0gPSBzY2hlbWFba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgaXRlbSA9PSAnb2JqZWN0JyAmJiAhY2hlY2tOb1JlZihpdGVtKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG5mdW5jdGlvbiBjb3VudEtleXMoc2NoZW1hKSB7XG4gIHZhciBjb3VudCA9IDAsIGl0ZW07XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcbiAgICBmb3IgKHZhciBpPTA7IGk8c2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVtID0gc2NoZW1hW2ldO1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09ICdvYmplY3QnKSBjb3VudCArPSBjb3VudEtleXMoaXRlbSk7XG4gICAgICBpZiAoY291bnQgPT0gSW5maW5pdHkpIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgICAgaWYgKGtleSA9PSAnJHJlZicpIHJldHVybiBJbmZpbml0eTtcbiAgICAgIGlmIChTSU1QTEVfSU5MSU5FRFtrZXldKSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtID0gc2NoZW1hW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PSAnb2JqZWN0JykgY291bnQgKz0gY291bnRLZXlzKGl0ZW0pICsgMTtcbiAgICAgICAgaWYgKGNvdW50ID09IEluZmluaXR5KSByZXR1cm4gSW5maW5pdHk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb3VudDtcbn1cblxuXG5mdW5jdGlvbiBnZXRGdWxsUGF0aChpZCwgbm9ybWFsaXplKSB7XG4gIGlmIChub3JtYWxpemUgIT09IGZhbHNlKSBpZCA9IG5vcm1hbGl6ZUlkKGlkKTtcbiAgdmFyIHAgPSBVUkkucGFyc2UoaWQpO1xuICByZXR1cm4gX2dldEZ1bGxQYXRoKHApO1xufVxuXG5cbmZ1bmN0aW9uIF9nZXRGdWxsUGF0aChwKSB7XG4gIHJldHVybiBVUkkuc2VyaWFsaXplKHApLnNwbGl0KCcjJylbMF0gKyAnIyc7XG59XG5cblxudmFyIFRSQUlMSU5HX1NMQVNIX0hBU0ggPSAvI1xcLz8kLztcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlkKGlkKSB7XG4gIHJldHVybiBpZCA/IGlkLnJlcGxhY2UoVFJBSUxJTkdfU0xBU0hfSEFTSCwgJycpIDogJyc7XG59XG5cblxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlSWQsIGlkKSB7XG4gIGlkID0gbm9ybWFsaXplSWQoaWQpO1xuICByZXR1cm4gVVJJLnJlc29sdmUoYmFzZUlkLCBpZCk7XG59XG5cblxuLyogQHRoaXMgQWp2ICovXG5mdW5jdGlvbiByZXNvbHZlSWRzKHNjaGVtYSkge1xuICB2YXIgc2NoZW1hSWQgPSBub3JtYWxpemVJZCh0aGlzLl9nZXRJZChzY2hlbWEpKTtcbiAgdmFyIGJhc2VJZHMgPSB7Jyc6IHNjaGVtYUlkfTtcbiAgdmFyIGZ1bGxQYXRocyA9IHsnJzogZ2V0RnVsbFBhdGgoc2NoZW1hSWQsIGZhbHNlKX07XG4gIHZhciBsb2NhbFJlZnMgPSB7fTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRyYXZlcnNlKHNjaGVtYSwge2FsbEtleXM6IHRydWV9LCBmdW5jdGlvbihzY2gsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpIHtcbiAgICBpZiAoanNvblB0ciA9PT0gJycpIHJldHVybjtcbiAgICB2YXIgaWQgPSBzZWxmLl9nZXRJZChzY2gpO1xuICAgIHZhciBiYXNlSWQgPSBiYXNlSWRzW3BhcmVudEpzb25QdHJdO1xuICAgIHZhciBmdWxsUGF0aCA9IGZ1bGxQYXRoc1twYXJlbnRKc29uUHRyXSArICcvJyArIHBhcmVudEtleXdvcmQ7XG4gICAgaWYgKGtleUluZGV4ICE9PSB1bmRlZmluZWQpXG4gICAgICBmdWxsUGF0aCArPSAnLycgKyAodHlwZW9mIGtleUluZGV4ID09ICdudW1iZXInID8ga2V5SW5kZXggOiB1dGlsLmVzY2FwZUZyYWdtZW50KGtleUluZGV4KSk7XG5cbiAgICBpZiAodHlwZW9mIGlkID09ICdzdHJpbmcnKSB7XG4gICAgICBpZCA9IGJhc2VJZCA9IG5vcm1hbGl6ZUlkKGJhc2VJZCA/IFVSSS5yZXNvbHZlKGJhc2VJZCwgaWQpIDogaWQpO1xuXG4gICAgICB2YXIgcmVmVmFsID0gc2VsZi5fcmVmc1tpZF07XG4gICAgICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykgcmVmVmFsID0gc2VsZi5fcmVmc1tyZWZWYWxdO1xuICAgICAgaWYgKHJlZlZhbCAmJiByZWZWYWwuc2NoZW1hKSB7XG4gICAgICAgIGlmICghZXF1YWwoc2NoLCByZWZWYWwuc2NoZW1hKSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lkIFwiJyArIGlkICsgJ1wiIHJlc29sdmVzIHRvIG1vcmUgdGhhbiBvbmUgc2NoZW1hJyk7XG4gICAgICB9IGVsc2UgaWYgKGlkICE9IG5vcm1hbGl6ZUlkKGZ1bGxQYXRoKSkge1xuICAgICAgICBpZiAoaWRbMF0gPT0gJyMnKSB7XG4gICAgICAgICAgaWYgKGxvY2FsUmVmc1tpZF0gJiYgIWVxdWFsKHNjaCwgbG9jYWxSZWZzW2lkXSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lkIFwiJyArIGlkICsgJ1wiIHJlc29sdmVzIHRvIG1vcmUgdGhhbiBvbmUgc2NoZW1hJyk7XG4gICAgICAgICAgbG9jYWxSZWZzW2lkXSA9IHNjaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9yZWZzW2lkXSA9IGZ1bGxQYXRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGJhc2VJZHNbanNvblB0cl0gPSBiYXNlSWQ7XG4gICAgZnVsbFBhdGhzW2pzb25QdHJdID0gZnVsbFBhdGg7XG4gIH0pO1xuXG4gIHJldHVybiBsb2NhbFJlZnM7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciByZXNvbHZlID0gcmVxdWlyZSgnLi9yZXNvbHZlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBWYWxpZGF0aW9uOiBlcnJvclN1YmNsYXNzKFZhbGlkYXRpb25FcnJvciksXG4gIE1pc3NpbmdSZWY6IGVycm9yU3ViY2xhc3MoTWlzc2luZ1JlZkVycm9yKVxufTtcblxuXG5mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoZXJyb3JzKSB7XG4gIHRoaXMubWVzc2FnZSA9ICd2YWxpZGF0aW9uIGZhaWxlZCc7XG4gIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICB0aGlzLmFqdiA9IHRoaXMudmFsaWRhdGlvbiA9IHRydWU7XG59XG5cblxuTWlzc2luZ1JlZkVycm9yLm1lc3NhZ2UgPSBmdW5jdGlvbiAoYmFzZUlkLCByZWYpIHtcbiAgcmV0dXJuICdjYW5cXCd0IHJlc29sdmUgcmVmZXJlbmNlICcgKyByZWYgKyAnIGZyb20gaWQgJyArIGJhc2VJZDtcbn07XG5cblxuZnVuY3Rpb24gTWlzc2luZ1JlZkVycm9yKGJhc2VJZCwgcmVmLCBtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgTWlzc2luZ1JlZkVycm9yLm1lc3NhZ2UoYmFzZUlkLCByZWYpO1xuICB0aGlzLm1pc3NpbmdSZWYgPSByZXNvbHZlLnVybChiYXNlSWQsIHJlZik7XG4gIHRoaXMubWlzc2luZ1NjaGVtYSA9IHJlc29sdmUubm9ybWFsaXplSWQocmVzb2x2ZS5mdWxsUGF0aCh0aGlzLm1pc3NpbmdSZWYpKTtcbn1cblxuXG5mdW5jdGlvbiBlcnJvclN1YmNsYXNzKFN1YmNsYXNzKSB7XG4gIFN1YmNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgU3ViY2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViY2xhc3M7XG4gIHJldHVybiBTdWJjbGFzcztcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykgb3B0cyA9IHsgY21wOiBvcHRzIH07XG4gICAgdmFyIGN5Y2xlcyA9ICh0eXBlb2Ygb3B0cy5jeWNsZXMgPT09ICdib29sZWFuJykgPyBvcHRzLmN5Y2xlcyA6IGZhbHNlO1xuXG4gICAgdmFyIGNtcCA9IG9wdHMuY21wICYmIChmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciBhb2JqID0geyBrZXk6IGEsIHZhbHVlOiBub2RlW2FdIH07XG4gICAgICAgICAgICAgICAgdmFyIGJvYmogPSB7IGtleTogYiwgdmFsdWU6IG5vZGVbYl0gfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZihhb2JqLCBib2JqKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfSkob3B0cy5jbXApO1xuXG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICByZXR1cm4gKGZ1bmN0aW9uIHN0cmluZ2lmeSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSAmJiBub2RlLnRvSlNPTiAmJiB0eXBlb2Ygbm9kZS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnRvSlNPTigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIG5vZGUgPT0gJ251bWJlcicpIHJldHVybiBpc0Zpbml0ZShub2RlKSA/ICcnICsgbm9kZSA6ICdudWxsJztcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JykgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG5vZGUpO1xuXG4gICAgICAgIHZhciBpLCBvdXQ7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgICAgICBvdXQgPSAnWyc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpKSBvdXQgKz0gJywnO1xuICAgICAgICAgICAgICAgIG91dCArPSBzdHJpbmdpZnkobm9kZVtpXSkgfHwgJ251bGwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dCArICddJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuXG4gICAgICAgIGlmIChzZWVuLmluZGV4T2Yobm9kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAoY3ljbGVzKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoJ19fY3ljbGVfXycpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ucHVzaChub2RlKSAtIDE7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobm9kZSkuc29ydChjbXAgJiYgY21wKG5vZGUpKTtcbiAgICAgICAgb3V0ID0gJyc7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0cmluZ2lmeShub2RlW2tleV0pO1xuXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChvdXQpIG91dCArPSAnLCc7XG4gICAgICAgICAgICBvdXQgKz0gSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6JyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uc3BsaWNlKHNlZW5JbmRleCwgMSk7XG4gICAgICAgIHJldHVybiAneycgKyBvdXQgKyAnfSc7XG4gICAgfSkoZGF0YSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV92YWxpZGF0ZShpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyc7XG4gIHZhciAkYXN5bmMgPSBpdC5zY2hlbWEuJGFzeW5jID09PSB0cnVlLFxuICAgICRyZWZLZXl3b3JkcyA9IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXNFeGNlcHQoaXQuc2NoZW1hLCBpdC5SVUxFUy5hbGwsICckcmVmJyksXG4gICAgJGlkID0gaXQuc2VsZi5fZ2V0SWQoaXQuc2NoZW1hKTtcbiAgaWYgKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMpIHtcbiAgICB2YXIgJHVua25vd25Ld2QgPSBpdC51dGlsLnNjaGVtYVVua25vd25SdWxlcyhpdC5zY2hlbWEsIGl0LlJVTEVTLmtleXdvcmRzKTtcbiAgICBpZiAoJHVua25vd25Ld2QpIHtcbiAgICAgIHZhciAka2V5d29yZHNNc2cgPSAndW5rbm93biBrZXl3b3JkOiAnICsgJHVua25vd25Ld2Q7XG4gICAgICBpZiAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA9PT0gJ2xvZycpIGl0LmxvZ2dlci53YXJuKCRrZXl3b3Jkc01zZyk7XG4gICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigka2V5d29yZHNNc2cpO1xuICAgIH1cbiAgfVxuICBpZiAoaXQuaXNUb3ApIHtcbiAgICBvdXQgKz0gJyB2YXIgdmFsaWRhdGUgPSAnO1xuICAgIGlmICgkYXN5bmMpIHtcbiAgICAgIGl0LmFzeW5jID0gdHJ1ZTtcbiAgICAgIG91dCArPSAnYXN5bmMgJztcbiAgICB9XG4gICAgb3V0ICs9ICdmdW5jdGlvbihkYXRhLCBkYXRhUGF0aCwgcGFyZW50RGF0YSwgcGFyZW50RGF0YVByb3BlcnR5LCByb290RGF0YSkgeyBcXCd1c2Ugc3RyaWN0XFwnOyAnO1xuICAgIGlmICgkaWQgJiYgKGl0Lm9wdHMuc291cmNlQ29kZSB8fCBpdC5vcHRzLnByb2Nlc3NDb2RlKSkge1xuICAgICAgb3V0ICs9ICcgJyArICgnL1xcKiMgc291cmNlVVJMPScgKyAkaWQgKyAnICovJykgKyAnICc7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgaXQuc2NoZW1hID09ICdib29sZWFuJyB8fCAhKCRyZWZLZXl3b3JkcyB8fCBpdC5zY2hlbWEuJHJlZikpIHtcbiAgICB2YXIgJGtleXdvcmQgPSAnZmFsc2Ugc2NoZW1hJztcbiAgICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICAgIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gICAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICAgIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgICB2YXIgJGVycm9yS2V5d29yZDtcbiAgICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICAgIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgICBpZiAoaXQuc2NoZW1hID09PSBmYWxzZSkge1xuICAgICAgaWYgKGl0LmlzVG9wKSB7XG4gICAgICAgICRicmVha09uRXJyb3IgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgJztcbiAgICAgIH1cbiAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAnZmFsc2Ugc2NoZW1hJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczoge30gJztcbiAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdib29sZWFuIHNjaGVtYSBpcyBmYWxzZVxcJyAnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogZmFsc2UgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgIH1cbiAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXQuaXNUb3ApIHtcbiAgICAgICAgaWYgKCRhc3luYykge1xuICAgICAgICAgIG91dCArPSAnIHJldHVybiBkYXRhOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IG51bGw7IHJldHVybiB0cnVlOyAnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJyA9IHRydWU7ICc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpdC5pc1RvcCkge1xuICAgICAgb3V0ICs9ICcgfTsgcmV0dXJuIHZhbGlkYXRlOyAnO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIGlmIChpdC5pc1RvcCkge1xuICAgIHZhciAkdG9wID0gaXQuaXNUb3AsXG4gICAgICAkbHZsID0gaXQubGV2ZWwgPSAwLFxuICAgICAgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWwgPSAwLFxuICAgICAgJGRhdGEgPSAnZGF0YSc7XG4gICAgaXQucm9vdElkID0gaXQucmVzb2x2ZS5mdWxsUGF0aChpdC5zZWxmLl9nZXRJZChpdC5yb290LnNjaGVtYSkpO1xuICAgIGl0LmJhc2VJZCA9IGl0LmJhc2VJZCB8fCBpdC5yb290SWQ7XG4gICAgZGVsZXRlIGl0LmlzVG9wO1xuICAgIGl0LmRhdGFQYXRoQXJyID0gW3VuZGVmaW5lZF07XG4gICAgaWYgKGl0LnNjaGVtYS5kZWZhdWx0ICE9PSB1bmRlZmluZWQgJiYgaXQub3B0cy51c2VEZWZhdWx0cyAmJiBpdC5vcHRzLnN0cmljdERlZmF1bHRzKSB7XG4gICAgICB2YXIgJGRlZmF1bHRNc2cgPSAnZGVmYXVsdCBpcyBpZ25vcmVkIGluIHRoZSBzY2hlbWEgcm9vdCc7XG4gICAgICBpZiAoaXQub3B0cy5zdHJpY3REZWZhdWx0cyA9PT0gJ2xvZycpIGl0LmxvZ2dlci53YXJuKCRkZWZhdWx0TXNnKTtcbiAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCRkZWZhdWx0TXNnKTtcbiAgICB9XG4gICAgb3V0ICs9ICcgdmFyIHZFcnJvcnMgPSBudWxsOyAnO1xuICAgIG91dCArPSAnIHZhciBlcnJvcnMgPSAwOyAgICAgJztcbiAgICBvdXQgKz0gJyBpZiAocm9vdERhdGEgPT09IHVuZGVmaW5lZCkgcm9vdERhdGEgPSBkYXRhOyAnO1xuICB9IGVsc2Uge1xuICAgIHZhciAkbHZsID0gaXQubGV2ZWwsXG4gICAgICAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbCxcbiAgICAgICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgICBpZiAoJGlkKSBpdC5iYXNlSWQgPSBpdC5yZXNvbHZlLnVybChpdC5iYXNlSWQsICRpZCk7XG4gICAgaWYgKCRhc3luYyAmJiAhaXQuYXN5bmMpIHRocm93IG5ldyBFcnJvcignYXN5bmMgc2NoZW1hIGluIHN5bmMgc2NoZW1hJyk7XG4gICAgb3V0ICs9ICcgdmFyIGVycnNfJyArICgkbHZsKSArICcgPSBlcnJvcnM7JztcbiAgfVxuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmwsXG4gICAgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycyxcbiAgICAkY2xvc2luZ0JyYWNlczEgPSAnJyxcbiAgICAkY2xvc2luZ0JyYWNlczIgPSAnJztcbiAgdmFyICRlcnJvcktleXdvcmQ7XG4gIHZhciAkdHlwZVNjaGVtYSA9IGl0LnNjaGVtYS50eXBlLFxuICAgICR0eXBlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoJHR5cGVTY2hlbWEpO1xuICBpZiAoJHR5cGVTY2hlbWEgJiYgaXQub3B0cy5udWxsYWJsZSAmJiBpdC5zY2hlbWEubnVsbGFibGUgPT09IHRydWUpIHtcbiAgICBpZiAoJHR5cGVJc0FycmF5KSB7XG4gICAgICBpZiAoJHR5cGVTY2hlbWEuaW5kZXhPZignbnVsbCcpID09IC0xKSAkdHlwZVNjaGVtYSA9ICR0eXBlU2NoZW1hLmNvbmNhdCgnbnVsbCcpO1xuICAgIH0gZWxzZSBpZiAoJHR5cGVTY2hlbWEgIT0gJ251bGwnKSB7XG4gICAgICAkdHlwZVNjaGVtYSA9IFskdHlwZVNjaGVtYSwgJ251bGwnXTtcbiAgICAgICR0eXBlSXNBcnJheSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmICgkdHlwZUlzQXJyYXkgJiYgJHR5cGVTY2hlbWEubGVuZ3RoID09IDEpIHtcbiAgICAkdHlwZVNjaGVtYSA9ICR0eXBlU2NoZW1hWzBdO1xuICAgICR0eXBlSXNBcnJheSA9IGZhbHNlO1xuICB9XG4gIGlmIChpdC5zY2hlbWEuJHJlZiAmJiAkcmVmS2V5d29yZHMpIHtcbiAgICBpZiAoaXQub3B0cy5leHRlbmRSZWZzID09ICdmYWlsJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCckcmVmOiB2YWxpZGF0aW9uIGtleXdvcmRzIHVzZWQgaW4gc2NoZW1hIGF0IHBhdGggXCInICsgaXQuZXJyU2NoZW1hUGF0aCArICdcIiAoc2VlIG9wdGlvbiBleHRlbmRSZWZzKScpO1xuICAgIH0gZWxzZSBpZiAoaXQub3B0cy5leHRlbmRSZWZzICE9PSB0cnVlKSB7XG4gICAgICAkcmVmS2V5d29yZHMgPSBmYWxzZTtcbiAgICAgIGl0LmxvZ2dlci53YXJuKCckcmVmOiBrZXl3b3JkcyBpZ25vcmVkIGluIHNjaGVtYSBhdCBwYXRoIFwiJyArIGl0LmVyclNjaGVtYVBhdGggKyAnXCInKTtcbiAgICB9XG4gIH1cbiAgaWYgKGl0LnNjaGVtYS4kY29tbWVudCAmJiBpdC5vcHRzLiRjb21tZW50KSB7XG4gICAgb3V0ICs9ICcgJyArIChpdC5SVUxFUy5hbGwuJGNvbW1lbnQuY29kZShpdCwgJyRjb21tZW50JykpO1xuICB9XG4gIGlmICgkdHlwZVNjaGVtYSkge1xuICAgIGlmIChpdC5vcHRzLmNvZXJjZVR5cGVzKSB7XG4gICAgICB2YXIgJGNvZXJjZVRvVHlwZXMgPSBpdC51dGlsLmNvZXJjZVRvVHlwZXMoaXQub3B0cy5jb2VyY2VUeXBlcywgJHR5cGVTY2hlbWEpO1xuICAgIH1cbiAgICB2YXIgJHJ1bGVzR3JvdXAgPSBpdC5SVUxFUy50eXBlc1skdHlwZVNjaGVtYV07XG4gICAgaWYgKCRjb2VyY2VUb1R5cGVzIHx8ICR0eXBlSXNBcnJheSB8fCAkcnVsZXNHcm91cCA9PT0gdHJ1ZSB8fCAoJHJ1bGVzR3JvdXAgJiYgISRzaG91bGRVc2VHcm91cCgkcnVsZXNHcm91cCkpKSB7XG4gICAgICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgJy50eXBlJyxcbiAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy90eXBlJztcbiAgICAgIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLnR5cGUnLFxuICAgICAgICAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL3R5cGUnLFxuICAgICAgICAkbWV0aG9kID0gJHR5cGVJc0FycmF5ID8gJ2NoZWNrRGF0YVR5cGVzJyA6ICdjaGVja0RhdGFUeXBlJztcbiAgICAgIG91dCArPSAnIGlmICgnICsgKGl0LnV0aWxbJG1ldGhvZF0oJHR5cGVTY2hlbWEsICRkYXRhLCB0cnVlKSkgKyAnKSB7ICc7XG4gICAgICBpZiAoJGNvZXJjZVRvVHlwZXMpIHtcbiAgICAgICAgdmFyICRkYXRhVHlwZSA9ICdkYXRhVHlwZScgKyAkbHZsLFxuICAgICAgICAgICRjb2VyY2VkID0gJ2NvZXJjZWQnICsgJGx2bDtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGRhdGFUeXBlKSArICcgPSB0eXBlb2YgJyArICgkZGF0YSkgKyAnOyAnO1xuICAgICAgICBpZiAoaXQub3B0cy5jb2VyY2VUeXBlcyA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnb2JqZWN0XFwnICYmIEFycmF5LmlzQXJyYXkoJyArICgkZGF0YSkgKyAnKSkgJyArICgkZGF0YVR5cGUpICsgJyA9IFxcJ2FycmF5XFwnOyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIHZhciAnICsgKCRjb2VyY2VkKSArICcgPSB1bmRlZmluZWQ7ICc7XG4gICAgICAgIHZhciAkYnJhY2VzQ29lcmNpb24gPSAnJztcbiAgICAgICAgdmFyIGFycjEgPSAkY29lcmNlVG9UeXBlcztcbiAgICAgICAgaWYgKGFycjEpIHtcbiAgICAgICAgICB2YXIgJHR5cGUsICRpID0gLTEsXG4gICAgICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAgICAgJHR5cGUgPSBhcnIxWyRpICs9IDFdO1xuICAgICAgICAgICAgaWYgKCRpKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRjb2VyY2VkKSArICcgPT09IHVuZGVmaW5lZCkgeyAnO1xuICAgICAgICAgICAgICAkYnJhY2VzQ29lcmNpb24gKz0gJ30nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0Lm9wdHMuY29lcmNlVHlwZXMgPT0gJ2FycmF5JyAmJiAkdHlwZSAhPSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ2FycmF5XFwnICYmICcgKyAoJGRhdGEpICsgJy5sZW5ndGggPT0gMSkgeyAnICsgKCRjb2VyY2VkKSArICcgPSAnICsgKCRkYXRhKSArICcgPSAnICsgKCRkYXRhKSArICdbMF07ICcgKyAoJGRhdGFUeXBlKSArICcgPSB0eXBlb2YgJyArICgkZGF0YSkgKyAnOyAgfSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCR0eXBlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ251bWJlclxcJyB8fCAnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ2Jvb2xlYW5cXCcpICcgKyAoJGNvZXJjZWQpICsgJyA9IFxcJ1xcJyArICcgKyAoJGRhdGEpICsgJzsgZWxzZSBpZiAoJyArICgkZGF0YSkgKyAnID09PSBudWxsKSAnICsgKCRjb2VyY2VkKSArICcgPSBcXCdcXCc7ICc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCR0eXBlID09ICdudW1iZXInIHx8ICR0eXBlID09ICdpbnRlZ2VyJykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkZGF0YVR5cGUpICsgJyA9PSBcXCdib29sZWFuXFwnIHx8ICcgKyAoJGRhdGEpICsgJyA9PT0gbnVsbCB8fCAoJyArICgkZGF0YVR5cGUpICsgJyA9PSBcXCdzdHJpbmdcXCcgJiYgJyArICgkZGF0YSkgKyAnICYmICcgKyAoJGRhdGEpICsgJyA9PSArJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgICAgIGlmICgkdHlwZSA9PSAnaW50ZWdlcicpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyAmJiAhKCcgKyAoJGRhdGEpICsgJyAlIDEpJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvdXQgKz0gJykpICcgKyAoJGNvZXJjZWQpICsgJyA9ICsnICsgKCRkYXRhKSArICc7ICc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCR0eXBlID09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkZGF0YSkgKyAnID09PSBcXCdmYWxzZVxcJyB8fCAnICsgKCRkYXRhKSArICcgPT09IDAgfHwgJyArICgkZGF0YSkgKyAnID09PSBudWxsKSAnICsgKCRjb2VyY2VkKSArICcgPSBmYWxzZTsgZWxzZSBpZiAoJyArICgkZGF0YSkgKyAnID09PSBcXCd0cnVlXFwnIHx8ICcgKyAoJGRhdGEpICsgJyA9PT0gMSkgJyArICgkY29lcmNlZCkgKyAnID0gdHJ1ZTsgJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHR5cGUgPT0gJ251bGwnKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRkYXRhKSArICcgPT09IFxcJ1xcJyB8fCAnICsgKCRkYXRhKSArICcgPT09IDAgfHwgJyArICgkZGF0YSkgKyAnID09PSBmYWxzZSkgJyArICgkY29lcmNlZCkgKyAnID0gbnVsbDsgJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXQub3B0cy5jb2VyY2VUeXBlcyA9PSAnYXJyYXknICYmICR0eXBlID09ICdhcnJheScpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnc3RyaW5nXFwnIHx8ICcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnbnVtYmVyXFwnIHx8ICcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnYm9vbGVhblxcJyB8fCAnICsgKCRkYXRhKSArICcgPT0gbnVsbCkgJyArICgkY29lcmNlZCkgKyAnID0gWycgKyAoJGRhdGEpICsgJ107ICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnICcgKyAoJGJyYWNlc0NvZXJjaW9uKSArICcgaWYgKCcgKyAoJGNvZXJjZWQpICsgJyA9PT0gdW5kZWZpbmVkKSB7ICAgJztcbiAgICAgICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ3R5cGUnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHR5cGU6IFxcJyc7XG4gICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgJztcbiAgICAgICAgICAgIGlmICgkdHlwZUlzQXJyYXkpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnJyArICgkdHlwZVNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIH0gZWxzZSB7ICAnO1xuICAgICAgICB2YXIgJHBhcmVudERhdGEgPSAkZGF0YUx2bCA/ICdkYXRhJyArICgoJGRhdGFMdmwgLSAxKSB8fCAnJykgOiAncGFyZW50RGF0YScsXG4gICAgICAgICAgJHBhcmVudERhdGFQcm9wZXJ0eSA9ICRkYXRhTHZsID8gaXQuZGF0YVBhdGhBcnJbJGRhdGFMdmxdIDogJ3BhcmVudERhdGFQcm9wZXJ0eSc7XG4gICAgICAgIG91dCArPSAnICcgKyAoJGRhdGEpICsgJyA9ICcgKyAoJGNvZXJjZWQpICsgJzsgJztcbiAgICAgICAgaWYgKCEkZGF0YUx2bCkge1xuICAgICAgICAgIG91dCArPSAnaWYgKCcgKyAoJHBhcmVudERhdGEpICsgJyAhPT0gdW5kZWZpbmVkKSc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgJyArICgkcGFyZW50RGF0YSkgKyAnWycgKyAoJHBhcmVudERhdGFQcm9wZXJ0eSkgKyAnXSA9ICcgKyAoJGNvZXJjZWQpICsgJzsgfSAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ3R5cGUnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHR5cGU6IFxcJyc7XG4gICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgJztcbiAgICAgICAgICAgIGlmICgkdHlwZUlzQXJyYXkpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnJyArICgkdHlwZVNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfVxuICB9XG4gIGlmIChpdC5zY2hlbWEuJHJlZiAmJiAhJHJlZktleXdvcmRzKSB7XG4gICAgb3V0ICs9ICcgJyArIChpdC5SVUxFUy5hbGwuJHJlZi5jb2RlKGl0LCAnJHJlZicpKSArICcgJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgfSBpZiAoZXJyb3JzID09PSAnO1xuICAgICAgaWYgKCR0b3ApIHtcbiAgICAgICAgb3V0ICs9ICcwJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnZXJyc18nICsgKCRsdmwpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcpIHsgJztcbiAgICAgICRjbG9zaW5nQnJhY2VzMiArPSAnfSc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBhcnIyID0gaXQuUlVMRVM7XG4gICAgaWYgKGFycjIpIHtcbiAgICAgIHZhciAkcnVsZXNHcm91cCwgaTIgPSAtMSxcbiAgICAgICAgbDIgPSBhcnIyLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoaTIgPCBsMikge1xuICAgICAgICAkcnVsZXNHcm91cCA9IGFycjJbaTIgKz0gMV07XG4gICAgICAgIGlmICgkc2hvdWxkVXNlR3JvdXAoJHJ1bGVzR3JvdXApKSB7XG4gICAgICAgICAgaWYgKCRydWxlc0dyb3VwLnR5cGUpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKGl0LnV0aWwuY2hlY2tEYXRhVHlwZSgkcnVsZXNHcm91cC50eXBlLCAkZGF0YSkpICsgJykgeyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy51c2VEZWZhdWx0cykge1xuICAgICAgICAgICAgaWYgKCRydWxlc0dyb3VwLnR5cGUgPT0gJ29iamVjdCcgJiYgaXQuc2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWEucHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAkc2NoZW1hS2V5cyA9IE9iamVjdC5rZXlzKCRzY2hlbWEpO1xuICAgICAgICAgICAgICB2YXIgYXJyMyA9ICRzY2hlbWFLZXlzO1xuICAgICAgICAgICAgICBpZiAoYXJyMykge1xuICAgICAgICAgICAgICAgIHZhciAkcHJvcGVydHlLZXksIGkzID0gLTEsXG4gICAgICAgICAgICAgICAgICBsMyA9IGFycjMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaTMgPCBsMykge1xuICAgICAgICAgICAgICAgICAgJHByb3BlcnR5S2V5ID0gYXJyM1tpMyArPSAxXTtcbiAgICAgICAgICAgICAgICAgIHZhciAkc2NoID0gJHNjaGVtYVskcHJvcGVydHlLZXldO1xuICAgICAgICAgICAgICAgICAgaWYgKCRzY2guZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkcGFzc0RhdGEgPSAkZGF0YSArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0LmNvbXBvc2l0ZVJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy5zdHJpY3REZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkZWZhdWx0TXNnID0gJ2RlZmF1bHQgaXMgaWdub3JlZCBmb3I6ICcgKyAkcGFzc0RhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy5zdHJpY3REZWZhdWx0cyA9PT0gJ2xvZycpIGl0LmxvZ2dlci53YXJuKCRkZWZhdWx0TXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCRkZWZhdWx0TXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJHBhc3NEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnVzZURlZmF1bHRzID09ICdlbXB0eScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnIHx8ICcgKyAoJHBhc3NEYXRhKSArICcgPT09IG51bGwgfHwgJyArICgkcGFzc0RhdGEpICsgJyA9PT0gXFwnXFwnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnICkgJyArICgkcGFzc0RhdGEpICsgJyA9ICc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMudXNlRGVmYXVsdHMgPT0gJ3NoYXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnICcgKyAoaXQudXNlRGVmYXVsdCgkc2NoLmRlZmF1bHQpKSArICcgJztcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgJyArIChKU09OLnN0cmluZ2lmeSgkc2NoLmRlZmF1bHQpKSArICcgJztcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICc7ICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHJ1bGVzR3JvdXAudHlwZSA9PSAnYXJyYXknICYmIEFycmF5LmlzQXJyYXkoaXQuc2NoZW1hLml0ZW1zKSkge1xuICAgICAgICAgICAgICB2YXIgYXJyNCA9IGl0LnNjaGVtYS5pdGVtcztcbiAgICAgICAgICAgICAgaWYgKGFycjQpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHNjaCwgJGkgPSAtMSxcbiAgICAgICAgICAgICAgICAgIGw0ID0gYXJyNC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIHdoaWxlICgkaSA8IGw0KSB7XG4gICAgICAgICAgICAgICAgICAkc2NoID0gYXJyNFskaSArPSAxXTtcbiAgICAgICAgICAgICAgICAgIGlmICgkc2NoLmRlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAkaSArICddJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0LmNvbXBvc2l0ZVJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy5zdHJpY3REZWZhdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRkZWZhdWx0TXNnID0gJ2RlZmF1bHQgaXMgaWdub3JlZCBmb3I6ICcgKyAkcGFzc0RhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy5zdHJpY3REZWZhdWx0cyA9PT0gJ2xvZycpIGl0LmxvZ2dlci53YXJuKCRkZWZhdWx0TXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKCRkZWZhdWx0TXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJHBhc3NEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnVzZURlZmF1bHRzID09ICdlbXB0eScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnIHx8ICcgKyAoJHBhc3NEYXRhKSArICcgPT09IG51bGwgfHwgJyArICgkcGFzc0RhdGEpICsgJyA9PT0gXFwnXFwnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnICkgJyArICgkcGFzc0RhdGEpICsgJyA9ICc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMudXNlRGVmYXVsdHMgPT0gJ3NoYXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnICcgKyAoaXQudXNlRGVmYXVsdCgkc2NoLmRlZmF1bHQpKSArICcgJztcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgJyArIChKU09OLnN0cmluZ2lmeSgkc2NoLmRlZmF1bHQpKSArICcgJztcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICc7ICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGFycjUgPSAkcnVsZXNHcm91cC5ydWxlcztcbiAgICAgICAgICBpZiAoYXJyNSkge1xuICAgICAgICAgICAgdmFyICRydWxlLCBpNSA9IC0xLFxuICAgICAgICAgICAgICBsNSA9IGFycjUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlIChpNSA8IGw1KSB7XG4gICAgICAgICAgICAgICRydWxlID0gYXJyNVtpNSArPSAxXTtcbiAgICAgICAgICAgICAgaWYgKCRzaG91bGRVc2VSdWxlKCRydWxlKSkge1xuICAgICAgICAgICAgICAgIHZhciAkY29kZSA9ICRydWxlLmNvZGUoaXQsICRydWxlLmtleXdvcmQsICRydWxlc0dyb3VwLnR5cGUpO1xuICAgICAgICAgICAgICAgIGlmICgkY29kZSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgJyArICgkY29kZSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAkY2xvc2luZ0JyYWNlczEgKz0gJ30nO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgICAgb3V0ICs9ICcgJyArICgkY2xvc2luZ0JyYWNlczEpICsgJyAnO1xuICAgICAgICAgICAgJGNsb3NpbmdCcmFjZXMxID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgkcnVsZXNHcm91cC50eXBlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgICBpZiAoJHR5cGVTY2hlbWEgJiYgJHR5cGVTY2hlbWEgPT09ICRydWxlc0dyb3VwLnR5cGUgJiYgISRjb2VyY2VUb1R5cGVzKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICAgICAgICAgICAgICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgJy50eXBlJyxcbiAgICAgICAgICAgICAgICAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL3R5cGUnO1xuICAgICAgICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAndHlwZScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgdHlwZTogXFwnJztcbiAgICAgICAgICAgICAgICBpZiAoJHR5cGVJc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJ1xcJyB9ICc7XG4gICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSAnO1xuICAgICAgICAgICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKGVycm9ycyA9PT0gJztcbiAgICAgICAgICAgIGlmICgkdG9wKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnMCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXQgKz0gJ2VycnNfJyArICgkbHZsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnKSB7ICc7XG4gICAgICAgICAgICAkY2xvc2luZ0JyYWNlczIgKz0gJ30nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnICcgKyAoJGNsb3NpbmdCcmFjZXMyKSArICcgJztcbiAgfVxuICBpZiAoJHRvcCkge1xuICAgIGlmICgkYXN5bmMpIHtcbiAgICAgIG91dCArPSAnIGlmIChlcnJvcnMgPT09IDApIHJldHVybiBkYXRhOyAgICAgICAgICAgJztcbiAgICAgIG91dCArPSAnIGVsc2UgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih2RXJyb3JzKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gdkVycm9yczsgJztcbiAgICAgIG91dCArPSAnIHJldHVybiBlcnJvcnMgPT09IDA7ICAgICAgICc7XG4gICAgfVxuICAgIG91dCArPSAnIH07IHJldHVybiB2YWxpZGF0ZTsnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciAnICsgKCR2YWxpZCkgKyAnID0gZXJyb3JzID09PSBlcnJzXycgKyAoJGx2bCkgKyAnOyc7XG4gIH1cbiAgb3V0ID0gaXQudXRpbC5jbGVhblVwQ29kZShvdXQpO1xuICBpZiAoJHRvcCkge1xuICAgIG91dCA9IGl0LnV0aWwuZmluYWxDbGVhblVwQ29kZShvdXQsICRhc3luYyk7XG4gIH1cblxuICBmdW5jdGlvbiAkc2hvdWxkVXNlR3JvdXAoJHJ1bGVzR3JvdXApIHtcbiAgICB2YXIgcnVsZXMgPSAkcnVsZXNHcm91cC5ydWxlcztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKCRzaG91bGRVc2VSdWxlKHJ1bGVzW2ldKSkgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiAkc2hvdWxkVXNlUnVsZSgkcnVsZSkge1xuICAgIHJldHVybiBpdC5zY2hlbWFbJHJ1bGUua2V5d29yZF0gIT09IHVuZGVmaW5lZCB8fCAoJHJ1bGUuaW1wbGVtZW50cyAmJiAkcnVsZUltcGxlbWVudHNTb21lS2V5d29yZCgkcnVsZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gJHJ1bGVJbXBsZW1lbnRzU29tZUtleXdvcmQoJHJ1bGUpIHtcbiAgICB2YXIgaW1wbCA9ICRydWxlLmltcGxlbWVudHM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbXBsLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKGl0LnNjaGVtYVtpbXBsW2ldXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVzb2x2ZSA9IHJlcXVpcmUoJy4vcmVzb2x2ZScpXG4gICwgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpXG4gICwgZXJyb3JDbGFzc2VzID0gcmVxdWlyZSgnLi9lcnJvcl9jbGFzc2VzJylcbiAgLCBzdGFibGVTdHJpbmdpZnkgPSByZXF1aXJlKCdmYXN0LWpzb24tc3RhYmxlLXN0cmluZ2lmeScpO1xuXG52YXIgdmFsaWRhdGVHZW5lcmF0b3IgPSByZXF1aXJlKCcuLi9kb3Rqcy92YWxpZGF0ZScpO1xuXG4vKipcbiAqIEZ1bmN0aW9ucyBiZWxvdyBhcmUgdXNlZCBpbnNpZGUgY29tcGlsZWQgdmFsaWRhdGlvbnMgZnVuY3Rpb25cbiAqL1xuXG52YXIgdWNzMmxlbmd0aCA9IHV0aWwudWNzMmxlbmd0aDtcbnZhciBlcXVhbCA9IHJlcXVpcmUoJ2Zhc3QtZGVlcC1lcXVhbCcpO1xuXG4vLyB0aGlzIGVycm9yIGlzIHRocm93biBieSBhc3luYyBzY2hlbWFzIHRvIHJldHVybiB2YWxpZGF0aW9uIGVycm9ycyB2aWEgZXhjZXB0aW9uXG52YXIgVmFsaWRhdGlvbkVycm9yID0gZXJyb3JDbGFzc2VzLlZhbGlkYXRpb247XG5cbm1vZHVsZS5leHBvcnRzID0gY29tcGlsZTtcblxuXG4vKipcbiAqIENvbXBpbGVzIHNjaGVtYSB0byB2YWxpZGF0aW9uIGZ1bmN0aW9uXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7T2JqZWN0fSBzY2hlbWEgc2NoZW1hIG9iamVjdFxuICogQHBhcmFtICB7T2JqZWN0fSByb290IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSByb290IHNjaGVtYSBmb3IgdGhpcyBzY2hlbWFcbiAqIEBwYXJhbSAge09iamVjdH0gbG9jYWxSZWZzIHRoZSBoYXNoIG9mIGxvY2FsIHJlZmVyZW5jZXMgaW5zaWRlIHRoZSBzY2hlbWEgKGNyZWF0ZWQgYnkgcmVzb2x2ZS5pZCksIHVzZWQgZm9yIGlubGluZSByZXNvbHV0aW9uXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGJhc2VJZCBiYXNlIElEIGZvciBJRHMgaW4gdGhlIHNjaGVtYVxuICogQHJldHVybiB7RnVuY3Rpb259IHZhbGlkYXRpb24gZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY29tcGlsZShzY2hlbWEsIHJvb3QsIGxvY2FsUmVmcywgYmFzZUlkKSB7XG4gIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUsIGV2aWw6IHRydWUgKi9cbiAgLyogZXNsaW50IG5vLXNoYWRvdzogMCAqL1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgICAsIG9wdHMgPSB0aGlzLl9vcHRzXG4gICAgLCByZWZWYWwgPSBbIHVuZGVmaW5lZCBdXG4gICAgLCByZWZzID0ge31cbiAgICAsIHBhdHRlcm5zID0gW11cbiAgICAsIHBhdHRlcm5zSGFzaCA9IHt9XG4gICAgLCBkZWZhdWx0cyA9IFtdXG4gICAgLCBkZWZhdWx0c0hhc2ggPSB7fVxuICAgICwgY3VzdG9tUnVsZXMgPSBbXTtcblxuICByb290ID0gcm9vdCB8fCB7IHNjaGVtYTogc2NoZW1hLCByZWZWYWw6IHJlZlZhbCwgcmVmczogcmVmcyB9O1xuXG4gIHZhciBjID0gY2hlY2tDb21waWxpbmcuY2FsbCh0aGlzLCBzY2hlbWEsIHJvb3QsIGJhc2VJZCk7XG4gIHZhciBjb21waWxhdGlvbiA9IHRoaXMuX2NvbXBpbGF0aW9uc1tjLmluZGV4XTtcbiAgaWYgKGMuY29tcGlsaW5nKSByZXR1cm4gKGNvbXBpbGF0aW9uLmNhbGxWYWxpZGF0ZSA9IGNhbGxWYWxpZGF0ZSk7XG5cbiAgdmFyIGZvcm1hdHMgPSB0aGlzLl9mb3JtYXRzO1xuICB2YXIgUlVMRVMgPSB0aGlzLlJVTEVTO1xuXG4gIHRyeSB7XG4gICAgdmFyIHYgPSBsb2NhbENvbXBpbGUoc2NoZW1hLCByb290LCBsb2NhbFJlZnMsIGJhc2VJZCk7XG4gICAgY29tcGlsYXRpb24udmFsaWRhdGUgPSB2O1xuICAgIHZhciBjdiA9IGNvbXBpbGF0aW9uLmNhbGxWYWxpZGF0ZTtcbiAgICBpZiAoY3YpIHtcbiAgICAgIGN2LnNjaGVtYSA9IHYuc2NoZW1hO1xuICAgICAgY3YuZXJyb3JzID0gbnVsbDtcbiAgICAgIGN2LnJlZnMgPSB2LnJlZnM7XG4gICAgICBjdi5yZWZWYWwgPSB2LnJlZlZhbDtcbiAgICAgIGN2LnJvb3QgPSB2LnJvb3Q7XG4gICAgICBjdi4kYXN5bmMgPSB2LiRhc3luYztcbiAgICAgIGlmIChvcHRzLnNvdXJjZUNvZGUpIGN2LnNvdXJjZSA9IHYuc291cmNlO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbiAgfSBmaW5hbGx5IHtcbiAgICBlbmRDb21waWxpbmcuY2FsbCh0aGlzLCBzY2hlbWEsIHJvb3QsIGJhc2VJZCk7XG4gIH1cblxuICAvKiBAdGhpcyAgIHsqfSAtIGN1c3RvbSBjb250ZXh0LCBzZWUgcGFzc0NvbnRleHQgb3B0aW9uICovXG4gIGZ1bmN0aW9uIGNhbGxWYWxpZGF0ZSgpIHtcbiAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgdmFyIHZhbGlkYXRlID0gY29tcGlsYXRpb24udmFsaWRhdGU7XG4gICAgdmFyIHJlc3VsdCA9IHZhbGlkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgY2FsbFZhbGlkYXRlLmVycm9ycyA9IHZhbGlkYXRlLmVycm9ycztcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYWxDb21waWxlKF9zY2hlbWEsIF9yb290LCBsb2NhbFJlZnMsIGJhc2VJZCkge1xuICAgIHZhciBpc1Jvb3QgPSAhX3Jvb3QgfHwgKF9yb290ICYmIF9yb290LnNjaGVtYSA9PSBfc2NoZW1hKTtcbiAgICBpZiAoX3Jvb3Quc2NoZW1hICE9IHJvb3Quc2NoZW1hKVxuICAgICAgcmV0dXJuIGNvbXBpbGUuY2FsbChzZWxmLCBfc2NoZW1hLCBfcm9vdCwgbG9jYWxSZWZzLCBiYXNlSWQpO1xuXG4gICAgdmFyICRhc3luYyA9IF9zY2hlbWEuJGFzeW5jID09PSB0cnVlO1xuXG4gICAgdmFyIHNvdXJjZUNvZGUgPSB2YWxpZGF0ZUdlbmVyYXRvcih7XG4gICAgICBpc1RvcDogdHJ1ZSxcbiAgICAgIHNjaGVtYTogX3NjaGVtYSxcbiAgICAgIGlzUm9vdDogaXNSb290LFxuICAgICAgYmFzZUlkOiBiYXNlSWQsXG4gICAgICByb290OiBfcm9vdCxcbiAgICAgIHNjaGVtYVBhdGg6ICcnLFxuICAgICAgZXJyU2NoZW1hUGF0aDogJyMnLFxuICAgICAgZXJyb3JQYXRoOiAnXCJcIicsXG4gICAgICBNaXNzaW5nUmVmRXJyb3I6IGVycm9yQ2xhc3Nlcy5NaXNzaW5nUmVmLFxuICAgICAgUlVMRVM6IFJVTEVTLFxuICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlR2VuZXJhdG9yLFxuICAgICAgdXRpbDogdXRpbCxcbiAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICByZXNvbHZlUmVmOiByZXNvbHZlUmVmLFxuICAgICAgdXNlUGF0dGVybjogdXNlUGF0dGVybixcbiAgICAgIHVzZURlZmF1bHQ6IHVzZURlZmF1bHQsXG4gICAgICB1c2VDdXN0b21SdWxlOiB1c2VDdXN0b21SdWxlLFxuICAgICAgb3B0czogb3B0cyxcbiAgICAgIGZvcm1hdHM6IGZvcm1hdHMsXG4gICAgICBsb2dnZXI6IHNlbGYubG9nZ2VyLFxuICAgICAgc2VsZjogc2VsZlxuICAgIH0pO1xuXG4gICAgc291cmNlQ29kZSA9IHZhcnMocmVmVmFsLCByZWZWYWxDb2RlKSArIHZhcnMocGF0dGVybnMsIHBhdHRlcm5Db2RlKVxuICAgICAgICAgICAgICAgICAgICsgdmFycyhkZWZhdWx0cywgZGVmYXVsdENvZGUpICsgdmFycyhjdXN0b21SdWxlcywgY3VzdG9tUnVsZUNvZGUpXG4gICAgICAgICAgICAgICAgICAgKyBzb3VyY2VDb2RlO1xuXG4gICAgaWYgKG9wdHMucHJvY2Vzc0NvZGUpIHNvdXJjZUNvZGUgPSBvcHRzLnByb2Nlc3NDb2RlKHNvdXJjZUNvZGUpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdcXG5cXG5cXG4gKioqIFxcbicsIEpTT04uc3RyaW5naWZ5KHNvdXJjZUNvZGUpKTtcbiAgICB2YXIgdmFsaWRhdGU7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBtYWtlVmFsaWRhdGUgPSBuZXcgRnVuY3Rpb24oXG4gICAgICAgICdzZWxmJyxcbiAgICAgICAgJ1JVTEVTJyxcbiAgICAgICAgJ2Zvcm1hdHMnLFxuICAgICAgICAncm9vdCcsXG4gICAgICAgICdyZWZWYWwnLFxuICAgICAgICAnZGVmYXVsdHMnLFxuICAgICAgICAnY3VzdG9tUnVsZXMnLFxuICAgICAgICAnZXF1YWwnLFxuICAgICAgICAndWNzMmxlbmd0aCcsXG4gICAgICAgICdWYWxpZGF0aW9uRXJyb3InLFxuICAgICAgICBzb3VyY2VDb2RlXG4gICAgICApO1xuXG4gICAgICB2YWxpZGF0ZSA9IG1ha2VWYWxpZGF0ZShcbiAgICAgICAgc2VsZixcbiAgICAgICAgUlVMRVMsXG4gICAgICAgIGZvcm1hdHMsXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJlZlZhbCxcbiAgICAgICAgZGVmYXVsdHMsXG4gICAgICAgIGN1c3RvbVJ1bGVzLFxuICAgICAgICBlcXVhbCxcbiAgICAgICAgdWNzMmxlbmd0aCxcbiAgICAgICAgVmFsaWRhdGlvbkVycm9yXG4gICAgICApO1xuXG4gICAgICByZWZWYWxbMF0gPSB2YWxpZGF0ZTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHNlbGYubG9nZ2VyLmVycm9yKCdFcnJvciBjb21waWxpbmcgc2NoZW1hLCBmdW5jdGlvbiBjb2RlOicsIHNvdXJjZUNvZGUpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZS5zY2hlbWEgPSBfc2NoZW1hO1xuICAgIHZhbGlkYXRlLmVycm9ycyA9IG51bGw7XG4gICAgdmFsaWRhdGUucmVmcyA9IHJlZnM7XG4gICAgdmFsaWRhdGUucmVmVmFsID0gcmVmVmFsO1xuICAgIHZhbGlkYXRlLnJvb3QgPSBpc1Jvb3QgPyB2YWxpZGF0ZSA6IF9yb290O1xuICAgIGlmICgkYXN5bmMpIHZhbGlkYXRlLiRhc3luYyA9IHRydWU7XG4gICAgaWYgKG9wdHMuc291cmNlQ29kZSA9PT0gdHJ1ZSkge1xuICAgICAgdmFsaWRhdGUuc291cmNlID0ge1xuICAgICAgICBjb2RlOiBzb3VyY2VDb2RlLFxuICAgICAgICBwYXR0ZXJuczogcGF0dGVybnMsXG4gICAgICAgIGRlZmF1bHRzOiBkZWZhdWx0c1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlUmVmKGJhc2VJZCwgcmVmLCBpc1Jvb3QpIHtcbiAgICByZWYgPSByZXNvbHZlLnVybChiYXNlSWQsIHJlZik7XG4gICAgdmFyIHJlZkluZGV4ID0gcmVmc1tyZWZdO1xuICAgIHZhciBfcmVmVmFsLCByZWZDb2RlO1xuICAgIGlmIChyZWZJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBfcmVmVmFsID0gcmVmVmFsW3JlZkluZGV4XTtcbiAgICAgIHJlZkNvZGUgPSAncmVmVmFsWycgKyByZWZJbmRleCArICddJztcbiAgICAgIHJldHVybiByZXNvbHZlZFJlZihfcmVmVmFsLCByZWZDb2RlKTtcbiAgICB9XG4gICAgaWYgKCFpc1Jvb3QgJiYgcm9vdC5yZWZzKSB7XG4gICAgICB2YXIgcm9vdFJlZklkID0gcm9vdC5yZWZzW3JlZl07XG4gICAgICBpZiAocm9vdFJlZklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgX3JlZlZhbCA9IHJvb3QucmVmVmFsW3Jvb3RSZWZJZF07XG4gICAgICAgIHJlZkNvZGUgPSBhZGRMb2NhbFJlZihyZWYsIF9yZWZWYWwpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWRSZWYoX3JlZlZhbCwgcmVmQ29kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVmQ29kZSA9IGFkZExvY2FsUmVmKHJlZik7XG4gICAgdmFyIHYgPSByZXNvbHZlLmNhbGwoc2VsZiwgbG9jYWxDb21waWxlLCByb290LCByZWYpO1xuICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBsb2NhbFNjaGVtYSA9IGxvY2FsUmVmcyAmJiBsb2NhbFJlZnNbcmVmXTtcbiAgICAgIGlmIChsb2NhbFNjaGVtYSkge1xuICAgICAgICB2ID0gcmVzb2x2ZS5pbmxpbmVSZWYobG9jYWxTY2hlbWEsIG9wdHMuaW5saW5lUmVmcylcbiAgICAgICAgICAgID8gbG9jYWxTY2hlbWFcbiAgICAgICAgICAgIDogY29tcGlsZS5jYWxsKHNlbGYsIGxvY2FsU2NoZW1hLCByb290LCBsb2NhbFJlZnMsIGJhc2VJZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVtb3ZlTG9jYWxSZWYocmVmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVwbGFjZUxvY2FsUmVmKHJlZiwgdik7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRSZWYodiwgcmVmQ29kZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkTG9jYWxSZWYocmVmLCB2KSB7XG4gICAgdmFyIHJlZklkID0gcmVmVmFsLmxlbmd0aDtcbiAgICByZWZWYWxbcmVmSWRdID0gdjtcbiAgICByZWZzW3JlZl0gPSByZWZJZDtcbiAgICByZXR1cm4gJ3JlZlZhbCcgKyByZWZJZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUxvY2FsUmVmKHJlZikge1xuICAgIGRlbGV0ZSByZWZzW3JlZl07XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlTG9jYWxSZWYocmVmLCB2KSB7XG4gICAgdmFyIHJlZklkID0gcmVmc1tyZWZdO1xuICAgIHJlZlZhbFtyZWZJZF0gPSB2O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZWRSZWYocmVmVmFsLCBjb2RlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiByZWZWYWwgPT0gJ29iamVjdCcgfHwgdHlwZW9mIHJlZlZhbCA9PSAnYm9vbGVhbidcbiAgICAgICAgICAgID8geyBjb2RlOiBjb2RlLCBzY2hlbWE6IHJlZlZhbCwgaW5saW5lOiB0cnVlIH1cbiAgICAgICAgICAgIDogeyBjb2RlOiBjb2RlLCAkYXN5bmM6IHJlZlZhbCAmJiAhIXJlZlZhbC4kYXN5bmMgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZVBhdHRlcm4ocmVnZXhTdHIpIHtcbiAgICB2YXIgaW5kZXggPSBwYXR0ZXJuc0hhc2hbcmVnZXhTdHJdO1xuICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbmRleCA9IHBhdHRlcm5zSGFzaFtyZWdleFN0cl0gPSBwYXR0ZXJucy5sZW5ndGg7XG4gICAgICBwYXR0ZXJuc1tpbmRleF0gPSByZWdleFN0cjtcbiAgICB9XG4gICAgcmV0dXJuICdwYXR0ZXJuJyArIGluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gdXNlRGVmYXVsdCh2YWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiAnJyArIHZhbHVlO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuIHV0aWwudG9RdW90ZWRTdHJpbmcodmFsdWUpO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICAgICAgICB2YXIgdmFsdWVTdHIgPSBzdGFibGVTdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB2YXIgaW5kZXggPSBkZWZhdWx0c0hhc2hbdmFsdWVTdHJdO1xuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gZGVmYXVsdHNIYXNoW3ZhbHVlU3RyXSA9IGRlZmF1bHRzLmxlbmd0aDtcbiAgICAgICAgICBkZWZhdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ2RlZmF1bHQnICsgaW5kZXg7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXNlQ3VzdG9tUnVsZShydWxlLCBzY2hlbWEsIHBhcmVudFNjaGVtYSwgaXQpIHtcbiAgICBpZiAoc2VsZi5fb3B0cy52YWxpZGF0ZVNjaGVtYSAhPT0gZmFsc2UpIHtcbiAgICAgIHZhciBkZXBzID0gcnVsZS5kZWZpbml0aW9uLmRlcGVuZGVuY2llcztcbiAgICAgIGlmIChkZXBzICYmICFkZXBzLmV2ZXJ5KGZ1bmN0aW9uKGtleXdvcmQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJlbnRTY2hlbWEsIGtleXdvcmQpO1xuICAgICAgfSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncGFyZW50IHNjaGVtYSBtdXN0IGhhdmUgYWxsIHJlcXVpcmVkIGtleXdvcmRzOiAnICsgZGVwcy5qb2luKCcsJykpO1xuXG4gICAgICB2YXIgdmFsaWRhdGVTY2hlbWEgPSBydWxlLmRlZmluaXRpb24udmFsaWRhdGVTY2hlbWE7XG4gICAgICBpZiAodmFsaWRhdGVTY2hlbWEpIHtcbiAgICAgICAgdmFyIHZhbGlkID0gdmFsaWRhdGVTY2hlbWEoc2NoZW1hKTtcbiAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgIHZhciBtZXNzYWdlID0gJ2tleXdvcmQgc2NoZW1hIGlzIGludmFsaWQ6ICcgKyBzZWxmLmVycm9yc1RleHQodmFsaWRhdGVTY2hlbWEuZXJyb3JzKTtcbiAgICAgICAgICBpZiAoc2VsZi5fb3B0cy52YWxpZGF0ZVNjaGVtYSA9PSAnbG9nJykgc2VsZi5sb2dnZXIuZXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY29tcGlsZSA9IHJ1bGUuZGVmaW5pdGlvbi5jb21waWxlXG4gICAgICAsIGlubGluZSA9IHJ1bGUuZGVmaW5pdGlvbi5pbmxpbmVcbiAgICAgICwgbWFjcm8gPSBydWxlLmRlZmluaXRpb24ubWFjcm87XG5cbiAgICB2YXIgdmFsaWRhdGU7XG4gICAgaWYgKGNvbXBpbGUpIHtcbiAgICAgIHZhbGlkYXRlID0gY29tcGlsZS5jYWxsKHNlbGYsIHNjaGVtYSwgcGFyZW50U2NoZW1hLCBpdCk7XG4gICAgfSBlbHNlIGlmIChtYWNybykge1xuICAgICAgdmFsaWRhdGUgPSBtYWNyby5jYWxsKHNlbGYsIHNjaGVtYSwgcGFyZW50U2NoZW1hLCBpdCk7XG4gICAgICBpZiAob3B0cy52YWxpZGF0ZVNjaGVtYSAhPT0gZmFsc2UpIHNlbGYudmFsaWRhdGVTY2hlbWEodmFsaWRhdGUsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAoaW5saW5lKSB7XG4gICAgICB2YWxpZGF0ZSA9IGlubGluZS5jYWxsKHNlbGYsIGl0LCBydWxlLmtleXdvcmQsIHNjaGVtYSwgcGFyZW50U2NoZW1hKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsaWRhdGUgPSBydWxlLmRlZmluaXRpb24udmFsaWRhdGU7XG4gICAgICBpZiAoIXZhbGlkYXRlKSByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHZhbGlkYXRlID09PSB1bmRlZmluZWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2N1c3RvbSBrZXl3b3JkIFwiJyArIHJ1bGUua2V5d29yZCArICdcImZhaWxlZCB0byBjb21waWxlJyk7XG5cbiAgICB2YXIgaW5kZXggPSBjdXN0b21SdWxlcy5sZW5ndGg7XG4gICAgY3VzdG9tUnVsZXNbaW5kZXhdID0gdmFsaWRhdGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY29kZTogJ2N1c3RvbVJ1bGUnICsgaW5kZXgsXG4gICAgICB2YWxpZGF0ZTogdmFsaWRhdGVcbiAgICB9O1xuICB9XG59XG5cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHNjaGVtYSBpcyBjdXJyZW50bHkgY29tcGlsZWRcbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtPYmplY3R9IHNjaGVtYSBzY2hlbWEgdG8gY29tcGlsZVxuICogQHBhcmFtICB7T2JqZWN0fSByb290IHJvb3Qgb2JqZWN0XG4gKiBAcGFyYW0gIHtTdHJpbmd9IGJhc2VJZCBiYXNlIHNjaGVtYSBJRFxuICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIFwiaW5kZXhcIiAoY29tcGlsYXRpb24gaW5kZXgpIGFuZCBcImNvbXBpbGluZ1wiIChib29sZWFuKVxuICovXG5mdW5jdGlvbiBjaGVja0NvbXBpbGluZyhzY2hlbWEsIHJvb3QsIGJhc2VJZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBpbmRleCA9IGNvbXBJbmRleC5jYWxsKHRoaXMsIHNjaGVtYSwgcm9vdCwgYmFzZUlkKTtcbiAgaWYgKGluZGV4ID49IDApIHJldHVybiB7IGluZGV4OiBpbmRleCwgY29tcGlsaW5nOiB0cnVlIH07XG4gIGluZGV4ID0gdGhpcy5fY29tcGlsYXRpb25zLmxlbmd0aDtcbiAgdGhpcy5fY29tcGlsYXRpb25zW2luZGV4XSA9IHtcbiAgICBzY2hlbWE6IHNjaGVtYSxcbiAgICByb290OiByb290LFxuICAgIGJhc2VJZDogYmFzZUlkXG4gIH07XG4gIHJldHVybiB7IGluZGV4OiBpbmRleCwgY29tcGlsaW5nOiBmYWxzZSB9O1xufVxuXG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgc2NoZW1hIGZyb20gdGhlIGN1cnJlbnRseSBjb21waWxlZCBsaXN0XG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7T2JqZWN0fSBzY2hlbWEgc2NoZW1hIHRvIGNvbXBpbGVcbiAqIEBwYXJhbSAge09iamVjdH0gcm9vdCByb290IG9iamVjdFxuICogQHBhcmFtICB7U3RyaW5nfSBiYXNlSWQgYmFzZSBzY2hlbWEgSURcbiAqL1xuZnVuY3Rpb24gZW5kQ29tcGlsaW5nKHNjaGVtYSwgcm9vdCwgYmFzZUlkKSB7XG4gIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgdmFyIGkgPSBjb21wSW5kZXguY2FsbCh0aGlzLCBzY2hlbWEsIHJvb3QsIGJhc2VJZCk7XG4gIGlmIChpID49IDApIHRoaXMuX2NvbXBpbGF0aW9ucy5zcGxpY2UoaSwgMSk7XG59XG5cblxuLyoqXG4gKiBJbmRleCBvZiBzY2hlbWEgY29tcGlsYXRpb24gaW4gdGhlIGN1cnJlbnRseSBjb21waWxlZCBsaXN0XG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7T2JqZWN0fSBzY2hlbWEgc2NoZW1hIHRvIGNvbXBpbGVcbiAqIEBwYXJhbSAge09iamVjdH0gcm9vdCByb290IG9iamVjdFxuICogQHBhcmFtICB7U3RyaW5nfSBiYXNlSWQgYmFzZSBzY2hlbWEgSURcbiAqIEByZXR1cm4ge0ludGVnZXJ9IGNvbXBpbGF0aW9uIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGNvbXBJbmRleChzY2hlbWEsIHJvb3QsIGJhc2VJZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIGZvciAodmFyIGk9MDsgaTx0aGlzLl9jb21waWxhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IHRoaXMuX2NvbXBpbGF0aW9uc1tpXTtcbiAgICBpZiAoYy5zY2hlbWEgPT0gc2NoZW1hICYmIGMucm9vdCA9PSByb290ICYmIGMuYmFzZUlkID09IGJhc2VJZCkgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5cbmZ1bmN0aW9uIHBhdHRlcm5Db2RlKGksIHBhdHRlcm5zKSB7XG4gIHJldHVybiAndmFyIHBhdHRlcm4nICsgaSArICcgPSBuZXcgUmVnRXhwKCcgKyB1dGlsLnRvUXVvdGVkU3RyaW5nKHBhdHRlcm5zW2ldKSArICcpOyc7XG59XG5cblxuZnVuY3Rpb24gZGVmYXVsdENvZGUoaSkge1xuICByZXR1cm4gJ3ZhciBkZWZhdWx0JyArIGkgKyAnID0gZGVmYXVsdHNbJyArIGkgKyAnXTsnO1xufVxuXG5cbmZ1bmN0aW9uIHJlZlZhbENvZGUoaSwgcmVmVmFsKSB7XG4gIHJldHVybiByZWZWYWxbaV0gPT09IHVuZGVmaW5lZCA/ICcnIDogJ3ZhciByZWZWYWwnICsgaSArICcgPSByZWZWYWxbJyArIGkgKyAnXTsnO1xufVxuXG5cbmZ1bmN0aW9uIGN1c3RvbVJ1bGVDb2RlKGkpIHtcbiAgcmV0dXJuICd2YXIgY3VzdG9tUnVsZScgKyBpICsgJyA9IGN1c3RvbVJ1bGVzWycgKyBpICsgJ107Jztcbn1cblxuXG5mdW5jdGlvbiB2YXJzKGFyciwgc3RhdGVtZW50KSB7XG4gIGlmICghYXJyLmxlbmd0aCkgcmV0dXJuICcnO1xuICB2YXIgY29kZSA9ICcnO1xuICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKVxuICAgIGNvZGUgKz0gc3RhdGVtZW50KGksIGFycik7XG4gIHJldHVybiBjb2RlO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBDYWNoZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gQ2FjaGUoKSB7XG4gIHRoaXMuX2NhY2hlID0ge307XG59O1xuXG5cbkNhY2hlLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiBDYWNoZV9wdXQoa2V5LCB2YWx1ZSkge1xuICB0aGlzLl9jYWNoZVtrZXldID0gdmFsdWU7XG59O1xuXG5cbkNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBDYWNoZV9nZXQoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9jYWNoZVtrZXldO1xufTtcblxuXG5DYWNoZS5wcm90b3R5cGUuZGVsID0gZnVuY3Rpb24gQ2FjaGVfZGVsKGtleSkge1xuICBkZWxldGUgdGhpcy5fY2FjaGVba2V5XTtcbn07XG5cblxuQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gQ2FjaGVfY2xlYXIoKSB7XG4gIHRoaXMuX2NhY2hlID0ge307XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG52YXIgREFURSA9IC9eKFxcZFxcZFxcZFxcZCktKFxcZFxcZCktKFxcZFxcZCkkLztcbnZhciBEQVlTID0gWzAsMzEsMjgsMzEsMzAsMzEsMzAsMzEsMzEsMzAsMzEsMzAsMzFdO1xudmFyIFRJTUUgPSAvXihcXGRcXGQpOihcXGRcXGQpOihcXGRcXGQpKFxcLlxcZCspPyh6fFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/KT8kL2k7XG52YXIgSE9TVE5BTUUgPSAvXig/PS57MSwyNTN9XFwuPyQpW2EtejAtOV0oPzpbYS16MC05LV17MCw2MX1bYS16MC05XSk/KD86XFwuW2EtejAtOV0oPzpbLTAtOWEtel17MCw2MX1bMC05YS16XSk/KSpcXC4/JC9pO1xudmFyIFVSSSA9IC9eKD86W2Etel1bYS16MC05K1xcLS5dKjopKD86XFwvP1xcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdfCVbMC05YS1mXXsyfSkqQCk/KD86XFxbKD86KD86KD86KD86WzAtOWEtZl17MSw0fTopezZ9fDo6KD86WzAtOWEtZl17MSw0fTopezV9fCg/OlswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezR9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDF9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7M318KD86KD86WzAtOWEtZl17MSw0fTopezAsMn1bMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXsyfXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwzfVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fTp8KD86KD86WzAtOWEtZl17MSw0fTopezAsNH1bMC05YS1mXXsxLDR9KT86OikoPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw1fVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw2fVswLTlhLWZdezEsNH0pPzo6KXxbVnZdWzAtOWEtZl0rXFwuW2EtejAtOVxcLS5ffiEkJicoKSorLDs9Ol0rKVxcXXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPyl8KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9XXwlWzAtOWEtZl17Mn0pKikoPzo6XFxkKik/KD86XFwvKD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSp8XFwvKD86KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopP3woPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QF18JVswLTlhLWZdezJ9KSsoPzpcXC8oPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QF18JVswLTlhLWZdezJ9KSopKikoPzpcXD8oPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QC8/XXwlWzAtOWEtZl17Mn0pKik/KD86Iyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpALz9dfCVbMC05YS1mXXsyfSkqKT8kL2k7XG52YXIgVVJJUkVGID0gL14oPzpbYS16XVthLXowLTkrXFwtLl0qOik/KD86XFwvP1xcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdfCVbMC05YS1mXXsyfSkqQCk/KD86XFxbKD86KD86KD86KD86WzAtOWEtZl17MSw0fTopezZ9fDo6KD86WzAtOWEtZl17MSw0fTopezV9fCg/OlswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezR9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDF9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7M318KD86KD86WzAtOWEtZl17MSw0fTopezAsMn1bMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXsyfXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwzfVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fTp8KD86KD86WzAtOWEtZl17MSw0fTopezAsNH1bMC05YS1mXXsxLDR9KT86OikoPzpbMC05YS1mXXsxLDR9OlswLTlhLWZdezEsNH18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw1fVswLTlhLWZdezEsNH0pPzo6WzAtOWEtZl17MSw0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCw2fVswLTlhLWZdezEsNH0pPzo6KXxbVnZdWzAtOWEtZl0rXFwuW2EtejAtOVxcLS5ffiEkJicoKSorLDs9Ol0rKVxcXXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPyl8KD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz1dfCVbMC05YS1mXXsyfSkqKSg/OjpcXGQqKT8oPzpcXC8oPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqfFxcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QF18JVswLTlhLWZdezJ9KSopKik/fCg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QF18JVswLTlhLWZdezJ9KSopKik/KD86XFw/KD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QC8/XXwlWzAtOWEtZl17Mn0pKik/KD86Iyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyQvaTtcbi8vIHVyaS10ZW1wbGF0ZTogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY1NzBcbnZhciBVUklURU1QTEFURSA9IC9eKD86KD86W15cXHgwMC1cXHgyMFwiJzw+JVxcXFxeYHt8fV18JVswLTlhLWZdezJ9KXxcXHtbKyMuLzs/Jj0sIUB8XT8oPzpbYS16MC05X118JVswLTlhLWZdezJ9KSsoPzo6WzEtOV1bMC05XXswLDN9fFxcKik/KD86LCg/OlthLXowLTlfXXwlWzAtOWEtZl17Mn0pKyg/OjpbMS05XVswLTldezAsM318XFwqKT8pKlxcfSkqJC9pO1xuLy8gRm9yIHRoZSBzb3VyY2U6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2RwZXJpbmkvNzI5Mjk0XG4vLyBGb3IgdGVzdCBjYXNlczogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4XG4vLyBAdG9kbyBEZWxldGUgY3VycmVudCBVUkwgaW4gZmF2b3VyIG9mIHRoZSBjb21tZW50ZWQgb3V0IFVSTCBydWxlIHdoZW4gdGhpcyBpc3N1ZSBpcyBmaXhlZCBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvNzk4My5cbi8vIHZhciBVUkwgPSAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ITEwKD86XFwuXFxkezEsM30pezN9KSg/ITEyNyg/OlxcLlxcZHsxLDN9KXszfSkoPyExNjlcXC4yNTQoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTkyXFwuMTY4KD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHV7MDBhMX0tXFx1e2ZmZmZ9MC05XSstPykqW2EtelxcdXswMGExfS1cXHV7ZmZmZn0wLTldKykoPzpcXC4oPzpbYS16XFx1ezAwYTF9LVxcdXtmZmZmfTAtOV0rLT8pKlthLXpcXHV7MDBhMX0tXFx1e2ZmZmZ9MC05XSspKig/OlxcLig/OlthLXpcXHV7MDBhMX0tXFx1e2ZmZmZ9XXsyLH0pKSkoPzo6XFxkezIsNX0pPyg/OlxcL1teXFxzXSopPyQvaXU7XG52YXIgVVJMID0gL14oPzooPzpodHRwW3NcXHUwMTdGXT98ZnRwKTpcXC9cXC8pKD86KD86W1xcMC1cXHgwOFxceDBFLVxceDFGIS1cXHg5RlxceEExLVxcdTE2N0ZcXHUxNjgxLVxcdTFGRkZcXHUyMDBCLVxcdTIwMjdcXHUyMDJBLVxcdTIwMkVcXHUyMDMwLVxcdTIwNUVcXHUyMDYwLVxcdTJGRkZcXHUzMDAxLVxcdUQ3RkZcXHVFMDAwLVxcdUZFRkVcXHVGRjAwLVxcdUZGRkZdfFtcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0pKyg/OjooPzpbXFwwLVxceDA4XFx4MEUtXFx4MUYhLVxceDlGXFx4QTEtXFx1MTY3RlxcdTE2ODEtXFx1MUZGRlxcdTIwMEItXFx1MjAyN1xcdTIwMkEtXFx1MjAyRVxcdTIwMzAtXFx1MjA1RVxcdTIwNjAtXFx1MkZGRlxcdTMwMDEtXFx1RDdGRlxcdUUwMDAtXFx1RkVGRVxcdUZGMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkqKT9AKT8oPzooPyExMCg/OlxcLlswLTldezEsM30pezN9KSg/ITEyNyg/OlxcLlswLTldezEsM30pezN9KSg/ITE2OVxcLjI1NCg/OlxcLlswLTldezEsM30pezJ9KSg/ITE5MlxcLjE2OCg/OlxcLlswLTldezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyWzAtOV18M1swMV0pKD86XFwuWzAtOV17MSwzfSl7Mn0pKD86WzEtOV1bMC05XT98MVswLTldWzAtOV18MlswMV1bMC05XXwyMlswLTNdKSg/OlxcLig/OjE/WzAtOV17MSwyfXwyWzAtNF1bMC05XXwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVswLTldP3wxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTRdKSl8KD86KD86KD86WzAtOUtTYS16XFx4QTEtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0pKy0/KSooPzpbMC05S1NhLXpcXHhBMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkrKSg/OlxcLig/Oig/OlswLTlLU2EtelxceEExLVxcdUQ3RkZcXHVFMDAwLVxcdUZGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdKSstPykqKD86WzAtOUtTYS16XFx4QTEtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0pKykqKD86XFwuKD86KD86W0tTYS16XFx4QTEtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0pezIsfSkpKSg/OjpbMC05XXsyLDV9KT8oPzpcXC8oPzpbXFwwLVxceDA4XFx4MEUtXFx4MUYhLVxceDlGXFx4QTEtXFx1MTY3RlxcdTE2ODEtXFx1MUZGRlxcdTIwMEItXFx1MjAyN1xcdTIwMkEtXFx1MjAyRVxcdTIwMzAtXFx1MjA1RVxcdTIwNjAtXFx1MkZGRlxcdTMwMDEtXFx1RDdGRlxcdUUwMDAtXFx1RkVGRVxcdUZGMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkqKT8kL2k7XG52YXIgVVVJRCA9IC9eKD86dXJuOnV1aWQ6KT9bMC05YS1mXXs4fS0oPzpbMC05YS1mXXs0fS0pezN9WzAtOWEtZl17MTJ9JC9pO1xudmFyIEpTT05fUE9JTlRFUiA9IC9eKD86XFwvKD86W15+L118fjB8fjEpKikqJC87XG52YXIgSlNPTl9QT0lOVEVSX1VSSV9GUkFHTUVOVCA9IC9eIyg/OlxcLyg/OlthLXowLTlfXFwtLiEkJicoKSorLDs6PUBdfCVbMC05YS1mXXsyfXx+MHx+MSkqKSokL2k7XG52YXIgUkVMQVRJVkVfSlNPTl9QT0lOVEVSID0gL14oPzowfFsxLTldWzAtOV0qKSg/OiN8KD86XFwvKD86W15+L118fjB8fjEpKikqKSQvO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZm9ybWF0cztcblxuZnVuY3Rpb24gZm9ybWF0cyhtb2RlKSB7XG4gIG1vZGUgPSBtb2RlID09ICdmdWxsJyA/ICdmdWxsJyA6ICdmYXN0JztcbiAgcmV0dXJuIHV0aWwuY29weShmb3JtYXRzW21vZGVdKTtcbn1cblxuXG5mb3JtYXRzLmZhc3QgPSB7XG4gIC8vIGRhdGU6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgZGF0ZTogL15cXGRcXGRcXGRcXGQtWzAtMV1cXGQtWzAtM11cXGQkLyxcbiAgLy8gZGF0ZS10aW1lOiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMzM5I3NlY3Rpb24tNS42XG4gIHRpbWU6IC9eKD86WzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGR8MjM6NTk6NjApKD86XFwuXFxkKyk/KD86enxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPyk/JC9pLFxuICAnZGF0ZS10aW1lJzogL15cXGRcXGRcXGRcXGQtWzAtMV1cXGQtWzAtM11cXGRbdFxcc10oPzpbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZHwyMzo1OTo2MCkoPzpcXC5cXGQrKT8oPzp6fFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/KSQvaSxcbiAgLy8gdXJpOiBodHRwczovL2dpdGh1Yi5jb20vbWFmaW50b3NoL2lzLW15LWpzb24tdmFsaWQvYmxvYi9tYXN0ZXIvZm9ybWF0cy5qc1xuICB1cmk6IC9eKD86W2Etel1bYS16MC05Ky0uXSo6KSg/OlxcLz9cXC8pP1teXFxzXSokL2ksXG4gICd1cmktcmVmZXJlbmNlJzogL14oPzooPzpbYS16XVthLXowLTkrLS5dKjopP1xcLz9cXC8pPyg/OlteXFxcXFxccyNdW15cXHMjXSopPyg/OiNbXlxcXFxcXHNdKik/JC9pLFxuICAndXJpLXRlbXBsYXRlJzogVVJJVEVNUExBVEUsXG4gIHVybDogVVJMLFxuICAvLyBlbWFpbCAoc291cmNlcyBmcm9tIGpzZW4gdmFsaWRhdG9yKTpcbiAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDEzMjMvdXNpbmctYS1yZWd1bGFyLWV4cHJlc3Npb24tdG8tdmFsaWRhdGUtYW4tZW1haWwtYWRkcmVzcyNhbnN3ZXItODgyOTM2M1xuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9mb3Jtcy5odG1sI3ZhbGlkLWUtbWFpbC1hZGRyZXNzIChzZWFyY2ggZm9yICd3aWxsZnVsIHZpb2xhdGlvbicpXG4gIGVtYWlsOiAvXlthLXowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPykqJC9pLFxuICBob3N0bmFtZTogSE9TVE5BTUUsXG4gIC8vIG9wdGltaXplZCBodHRwczovL3d3dy5zYWZhcmlib29rc29ubGluZS5jb20vbGlicmFyeS92aWV3L3JlZ3VsYXItZXhwcmVzc2lvbnMtY29va2Jvb2svOTc4MDU5NjgwMjgzNy9jaDA3czE2Lmh0bWxcbiAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPykkLyxcbiAgLy8gb3B0aW1pemVkIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTM0OTcvcmVndWxhci1leHByZXNzaW9uLXRoYXQtbWF0Y2hlcy12YWxpZC1pcHY2LWFkZHJlc3Nlc1xuICBpcHY2OiAvXlxccyooPzooPzooPzpbMC05YS1mXXsxLDR9Oil7N30oPzpbMC05YS1mXXsxLDR9fDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Nn0oPzo6WzAtOWEtZl17MSw0fXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezV9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsMn0pfDooPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezR9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsM30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KT86KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7M30oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw0fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsMn06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Mn0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw1fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsM306KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MX0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw2fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsNH06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzo6KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsN30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KXswLDV9Oig/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKD86JS4rKT9cXHMqJC9pLFxuICByZWdleDogcmVnZXgsXG4gIC8vIHV1aWQ6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcbiAgdXVpZDogVVVJRCxcbiAgLy8gSlNPTi1wb2ludGVyOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjkwMVxuICAvLyB1cmkgZnJhZ21lbnQ6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I2FwcGVuZGl4LUFcbiAgJ2pzb24tcG9pbnRlcic6IEpTT05fUE9JTlRFUixcbiAgJ2pzb24tcG9pbnRlci11cmktZnJhZ21lbnQnOiBKU09OX1BPSU5URVJfVVJJX0ZSQUdNRU5ULFxuICAvLyByZWxhdGl2ZSBKU09OLXBvaW50ZXI6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWx1ZmYtcmVsYXRpdmUtanNvbi1wb2ludGVyLTAwXG4gICdyZWxhdGl2ZS1qc29uLXBvaW50ZXInOiBSRUxBVElWRV9KU09OX1BPSU5URVJcbn07XG5cblxuZm9ybWF0cy5mdWxsID0ge1xuICBkYXRlOiBkYXRlLFxuICB0aW1lOiB0aW1lLFxuICAnZGF0ZS10aW1lJzogZGF0ZV90aW1lLFxuICB1cmk6IHVyaSxcbiAgJ3VyaS1yZWZlcmVuY2UnOiBVUklSRUYsXG4gICd1cmktdGVtcGxhdGUnOiBVUklURU1QTEFURSxcbiAgdXJsOiBVUkwsXG4gIGVtYWlsOiAvXlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPyQvaSxcbiAgaG9zdG5hbWU6IEhPU1ROQU1FLFxuICBpcHY0OiAvXig/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSQvLFxuICBpcHY2OiAvXlxccyooPzooPzooPzpbMC05YS1mXXsxLDR9Oil7N30oPzpbMC05YS1mXXsxLDR9fDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Nn0oPzo6WzAtOWEtZl17MSw0fXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezV9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsMn0pfDooPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezR9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsM30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KT86KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7M30oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw0fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsMn06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Mn0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw1fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsM306KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MX0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw2fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsNH06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzo6KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsN30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KXswLDV9Oig/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKD86JS4rKT9cXHMqJC9pLFxuICByZWdleDogcmVnZXgsXG4gIHV1aWQ6IFVVSUQsXG4gICdqc29uLXBvaW50ZXInOiBKU09OX1BPSU5URVIsXG4gICdqc29uLXBvaW50ZXItdXJpLWZyYWdtZW50JzogSlNPTl9QT0lOVEVSX1VSSV9GUkFHTUVOVCxcbiAgJ3JlbGF0aXZlLWpzb24tcG9pbnRlcic6IFJFTEFUSVZFX0pTT05fUE9JTlRFUlxufTtcblxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjYXBwZW5kaXgtQ1xuICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG59XG5cblxuZnVuY3Rpb24gZGF0ZShzdHIpIHtcbiAgLy8gZnVsbC1kYXRlIGZyb20gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzMzOSNzZWN0aW9uLTUuNlxuICB2YXIgbWF0Y2hlcyA9IHN0ci5tYXRjaChEQVRFKTtcbiAgaWYgKCFtYXRjaGVzKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIHllYXIgPSArbWF0Y2hlc1sxXTtcbiAgdmFyIG1vbnRoID0gK21hdGNoZXNbMl07XG4gIHZhciBkYXkgPSArbWF0Y2hlc1szXTtcblxuICByZXR1cm4gbW9udGggPj0gMSAmJiBtb250aCA8PSAxMiAmJiBkYXkgPj0gMSAmJlxuICAgICAgICAgIGRheSA8PSAobW9udGggPT0gMiAmJiBpc0xlYXBZZWFyKHllYXIpID8gMjkgOiBEQVlTW21vbnRoXSk7XG59XG5cblxuZnVuY3Rpb24gdGltZShzdHIsIGZ1bGwpIHtcbiAgdmFyIG1hdGNoZXMgPSBzdHIubWF0Y2goVElNRSk7XG4gIGlmICghbWF0Y2hlcykgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBob3VyID0gbWF0Y2hlc1sxXTtcbiAgdmFyIG1pbnV0ZSA9IG1hdGNoZXNbMl07XG4gIHZhciBzZWNvbmQgPSBtYXRjaGVzWzNdO1xuICB2YXIgdGltZVpvbmUgPSBtYXRjaGVzWzVdO1xuICByZXR1cm4gKChob3VyIDw9IDIzICYmIG1pbnV0ZSA8PSA1OSAmJiBzZWNvbmQgPD0gNTkpIHx8XG4gICAgICAgICAgKGhvdXIgPT0gMjMgJiYgbWludXRlID09IDU5ICYmIHNlY29uZCA9PSA2MCkpICYmXG4gICAgICAgICAoIWZ1bGwgfHwgdGltZVpvbmUpO1xufVxuXG5cbnZhciBEQVRFX1RJTUVfU0VQQVJBVE9SID0gL3R8XFxzL2k7XG5mdW5jdGlvbiBkYXRlX3RpbWUoc3RyKSB7XG4gIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgdmFyIGRhdGVUaW1lID0gc3RyLnNwbGl0KERBVEVfVElNRV9TRVBBUkFUT1IpO1xuICByZXR1cm4gZGF0ZVRpbWUubGVuZ3RoID09IDIgJiYgZGF0ZShkYXRlVGltZVswXSkgJiYgdGltZShkYXRlVGltZVsxXSwgdHJ1ZSk7XG59XG5cblxudmFyIE5PVF9VUklfRlJBR01FTlQgPSAvXFwvfDovO1xuZnVuY3Rpb24gdXJpKHN0cikge1xuICAvLyBodHRwOi8vam1yd2FyZS5jb20vYXJ0aWNsZXMvMjAwOS91cmlfcmVnZXhwL1VSSV9yZWdleC5odG1sICsgb3B0aW9uYWwgcHJvdG9jb2wgKyByZXF1aXJlZCBcIi5cIlxuICByZXR1cm4gTk9UX1VSSV9GUkFHTUVOVC50ZXN0KHN0cikgJiYgVVJJLnRlc3Qoc3RyKTtcbn1cblxuXG52YXIgWl9BTkNIT1IgPSAvW15cXFxcXVxcXFxaLztcbmZ1bmN0aW9uIHJlZ2V4KHN0cikge1xuICBpZiAoWl9BTkNIT1IudGVzdChzdHIpKSByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgbmV3IFJlZ0V4cChzdHIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfcmVmKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkYXN5bmMsICRyZWZDb2RlO1xuICBpZiAoJHNjaGVtYSA9PSAnIycgfHwgJHNjaGVtYSA9PSAnIy8nKSB7XG4gICAgaWYgKGl0LmlzUm9vdCkge1xuICAgICAgJGFzeW5jID0gaXQuYXN5bmM7XG4gICAgICAkcmVmQ29kZSA9ICd2YWxpZGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICRhc3luYyA9IGl0LnJvb3Quc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZTtcbiAgICAgICRyZWZDb2RlID0gJ3Jvb3QucmVmVmFsWzBdJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyICRyZWZWYWwgPSBpdC5yZXNvbHZlUmVmKGl0LmJhc2VJZCwgJHNjaGVtYSwgaXQuaXNSb290KTtcbiAgICBpZiAoJHJlZlZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgJG1lc3NhZ2UgPSBpdC5NaXNzaW5nUmVmRXJyb3IubWVzc2FnZShpdC5iYXNlSWQsICRzY2hlbWEpO1xuICAgICAgaWYgKGl0Lm9wdHMubWlzc2luZ1JlZnMgPT0gJ2ZhaWwnKSB7XG4gICAgICAgIGl0LmxvZ2dlci5lcnJvcigkbWVzc2FnZSk7XG4gICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnJHJlZicpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgcmVmOiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRzY2hlbWEpKSArICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdjYW5cXFxcXFwndCByZXNvbHZlIHJlZmVyZW5jZSAnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRzY2hlbWEpKSArICdcXCcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKGZhbHNlKSB7ICc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXQub3B0cy5taXNzaW5nUmVmcyA9PSAnaWdub3JlJykge1xuICAgICAgICBpdC5sb2dnZXIud2FybigkbWVzc2FnZSk7XG4gICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IGl0Lk1pc3NpbmdSZWZFcnJvcihpdC5iYXNlSWQsICRzY2hlbWEsICRtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRyZWZWYWwuaW5saW5lKSB7XG4gICAgICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgICAgICRpdC5sZXZlbCsrO1xuICAgICAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICAgICAgJGl0LnNjaGVtYSA9ICRyZWZWYWwuc2NoZW1hO1xuICAgICAgJGl0LnNjaGVtYVBhdGggPSAnJztcbiAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJHNjaGVtYTtcbiAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCkucmVwbGFjZSgvdmFsaWRhdGVcXC5zY2hlbWEvZywgJHJlZlZhbC5jb2RlKTtcbiAgICAgIG91dCArPSAnICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICRhc3luYyA9ICRyZWZWYWwuJGFzeW5jID09PSB0cnVlIHx8IChpdC5hc3luYyAmJiAkcmVmVmFsLiRhc3luYyAhPT0gZmFsc2UpO1xuICAgICAgJHJlZkNvZGUgPSAkcmVmVmFsLmNvZGU7XG4gICAgfVxuICB9XG4gIGlmICgkcmVmQ29kZSkge1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJztcbiAgICBpZiAoaXQub3B0cy5wYXNzQ29udGV4dCkge1xuICAgICAgb3V0ICs9ICcgJyArICgkcmVmQ29kZSkgKyAnLmNhbGwodGhpcywgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgJyArICgkcmVmQ29kZSkgKyAnKCAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyAnICsgKCRkYXRhKSArICcsIChkYXRhUGF0aCB8fCBcXCdcXCcpJztcbiAgICBpZiAoaXQuZXJyb3JQYXRoICE9ICdcIlwiJykge1xuICAgICAgb3V0ICs9ICcgKyAnICsgKGl0LmVycm9yUGF0aCk7XG4gICAgfVxuICAgIHZhciAkcGFyZW50RGF0YSA9ICRkYXRhTHZsID8gJ2RhdGEnICsgKCgkZGF0YUx2bCAtIDEpIHx8ICcnKSA6ICdwYXJlbnREYXRhJyxcbiAgICAgICRwYXJlbnREYXRhUHJvcGVydHkgPSAkZGF0YUx2bCA/IGl0LmRhdGFQYXRoQXJyWyRkYXRhTHZsXSA6ICdwYXJlbnREYXRhUHJvcGVydHknO1xuICAgIG91dCArPSAnICwgJyArICgkcGFyZW50RGF0YSkgKyAnICwgJyArICgkcGFyZW50RGF0YVByb3BlcnR5KSArICcsIHJvb3REYXRhKSAgJztcbiAgICB2YXIgX19jYWxsVmFsaWRhdGUgPSBvdXQ7XG4gICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICBpZiAoJGFzeW5jKSB7XG4gICAgICBpZiAoIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIHNjaGVtYSByZWZlcmVuY2VkIGJ5IHN5bmMgc2NoZW1hJyk7XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJzsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIHRyeSB7IGF3YWl0ICcgKyAoX19jYWxsVmFsaWRhdGUpICsgJzsgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSB0cnVlOyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSBjYXRjaCAoZSkgeyBpZiAoIShlIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSkgdGhyb3cgZTsgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBlLmVycm9yczsgZWxzZSB2RXJyb3JzID0gdkVycm9ycy5jb25jYXQoZS5lcnJvcnMpOyBlcnJvcnMgPSB2RXJyb3JzLmxlbmd0aDsgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICgnICsgKCR2YWxpZCkgKyAnKSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIGlmICghJyArIChfX2NhbGxWYWxpZGF0ZSkgKyAnKSB7IGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gJyArICgkcmVmQ29kZSkgKyAnLmVycm9yczsgZWxzZSB2RXJyb3JzID0gdkVycm9ycy5jb25jYXQoJyArICgkcmVmQ29kZSkgKyAnLmVycm9ycyk7IGVycm9ycyA9IHZFcnJvcnMubGVuZ3RoOyB9ICc7XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfYWxsT2YoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkaXQgPSBpdC51dGlsLmNvcHkoaXQpO1xuICB2YXIgJGNsb3NpbmdCcmFjZXMgPSAnJztcbiAgJGl0LmxldmVsKys7XG4gIHZhciAkbmV4dFZhbGlkID0gJ3ZhbGlkJyArICRpdC5sZXZlbDtcbiAgdmFyICRjdXJyZW50QmFzZUlkID0gJGl0LmJhc2VJZCxcbiAgICAkYWxsU2NoZW1hc0VtcHR5ID0gdHJ1ZTtcbiAgdmFyIGFycjEgPSAkc2NoZW1hO1xuICBpZiAoYXJyMSkge1xuICAgIHZhciAkc2NoLCAkaSA9IC0xLFxuICAgICAgbDEgPSBhcnIxLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCRpIDwgbDEpIHtcbiAgICAgICRzY2ggPSBhcnIxWyRpICs9IDFdO1xuICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gdHlwZW9mICRzY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaCkubGVuZ3RoID4gMCA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaCwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAgICAgJGFsbFNjaGVtYXNFbXB0eSA9IGZhbHNlO1xuICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aCArICdbJyArICRpICsgJ10nO1xuICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoICsgJy8nICsgJGk7XG4gICAgICAgIG91dCArPSAnICAnICsgKGl0LnZhbGlkYXRlKCRpdCkpICsgJyAnO1xuICAgICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICAgICAgJGNsb3NpbmdCcmFjZXMgKz0gJ30nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgaWYgKCRhbGxTY2hlbWFzRW1wdHkpIHtcbiAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnICcgKyAoJGNsb3NpbmdCcmFjZXMuc2xpY2UoMCwgLTEpKSArICcgJztcbiAgICB9XG4gIH1cbiAgb3V0ID0gaXQudXRpbC5jbGVhblVwQ29kZShvdXQpO1xuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9hbnlPZihpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAkaXQubGV2ZWwrKztcbiAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICB2YXIgJG5vRW1wdHlTY2hlbWEgPSAkc2NoZW1hLmV2ZXJ5KGZ1bmN0aW9uKCRzY2gpIHtcbiAgICByZXR1cm4gKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyB0eXBlb2YgJHNjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoKS5sZW5ndGggPiAwIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKTtcbiAgfSk7XG4gIGlmICgkbm9FbXB0eVNjaGVtYSkge1xuICAgIHZhciAkY3VycmVudEJhc2VJZCA9ICRpdC5iYXNlSWQ7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsgdmFyICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgICc7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgdmFyIGFycjEgPSAkc2NoZW1hO1xuICAgIGlmIChhcnIxKSB7XG4gICAgICB2YXIgJHNjaCwgJGkgPSAtMSxcbiAgICAgICAgbDEgPSBhcnIxLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAkc2NoID0gYXJyMVskaSArPSAxXTtcbiAgICAgICAgJGl0LnNjaGVtYSA9ICRzY2g7XG4gICAgICAgICRpdC5zY2hlbWFQYXRoID0gJHNjaGVtYVBhdGggKyAnWycgKyAkaSArICddJztcbiAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArICRpO1xuICAgICAgICBvdXQgKz0gJyAgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkdmFsaWQpICsgJyB8fCAnICsgKCRuZXh0VmFsaWQpICsgJzsgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSB7ICc7XG4gICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgIH1cbiAgICB9XG4gICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gJHdhc0NvbXBvc2l0ZTtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSB7ICAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdhbnlPZicpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHt9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgbWF0Y2ggc29tZSBzY2hlbWEgaW4gYW55T2ZcXCcgJztcbiAgICAgIH1cbiAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcge30gJztcbiAgICB9XG4gICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih2RXJyb3JzKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IHZFcnJvcnM7IHJldHVybiBmYWxzZTsgJztcbiAgICAgIH1cbiAgICB9XG4gICAgb3V0ICs9ICcgfSBlbHNlIHsgIGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZFcnJvcnMgIT09IG51bGwpIHsgaWYgKCcgKyAoJGVycnMpICsgJykgdkVycm9ycy5sZW5ndGggPSAnICsgKCRlcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IG51bGw7IH0gJztcbiAgICBpZiAoaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9XG4gICAgb3V0ID0gaXQudXRpbC5jbGVhblVwQ29kZShvdXQpO1xuICB9IGVsc2Uge1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBpZiAodHJ1ZSkgeyAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9jb21tZW50KGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRjb21tZW50ID0gaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKTtcbiAgaWYgKGl0Lm9wdHMuJGNvbW1lbnQgPT09IHRydWUpIHtcbiAgICBvdXQgKz0gJyBjb25zb2xlLmxvZygnICsgKCRjb21tZW50KSArICcpOyc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGl0Lm9wdHMuJGNvbW1lbnQgPT0gJ2Z1bmN0aW9uJykge1xuICAgIG91dCArPSAnIHNlbGYuX29wdHMuJGNvbW1lbnQoJyArICgkY29tbWVudCkgKyAnLCAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcsIHZhbGlkYXRlLnJvb3Quc2NoZW1hKTsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2NvbnN0KGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIGlmICghJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJzsnO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJHZhbGlkKSArICcgPSBlcXVhbCgnICsgKCRkYXRhKSArICcsIHNjaGVtYScgKyAoJGx2bCkgKyAnKTsgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSB7ICAgJztcbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdjb25zdCcpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgYWxsb3dlZFZhbHVlOiBzY2hlbWEnICsgKCRsdmwpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSBlcXVhbCB0byBjb25zdGFudFxcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnIH0nO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2NvbnRhaW5zKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkaWR4ID0gJ2knICsgJGx2bCxcbiAgICAkZGF0YU54dCA9ICRpdC5kYXRhTGV2ZWwgPSBpdC5kYXRhTGV2ZWwgKyAxLFxuICAgICRuZXh0RGF0YSA9ICdkYXRhJyArICRkYXRhTnh0LFxuICAgICRjdXJyZW50QmFzZUlkID0gaXQuYmFzZUlkLFxuICAgICRub25FbXB0eVNjaGVtYSA9IChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gdHlwZW9mICRzY2hlbWEgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaGVtYSkubGVuZ3RoID4gMCA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaGVtYSwgaXQuUlVMRVMuYWxsKSk7XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczt2YXIgJyArICgkdmFsaWQpICsgJzsnO1xuICBpZiAoJG5vbkVtcHR5U2NoZW1hKSB7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgJGl0LnNjaGVtYSA9ICRzY2hlbWE7XG4gICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aDtcbiAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0VmFsaWQpICsgJyA9IGZhbHNlOyBmb3IgKHZhciAnICsgKCRpZHgpICsgJyA9IDA7ICcgKyAoJGlkeCkgKyAnIDwgJyArICgkZGF0YSkgKyAnLmxlbmd0aDsgJyArICgkaWR4KSArICcrKykgeyAnO1xuICAgICRpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGlkeCwgaXQub3B0cy5qc29uUG9pbnRlcnMsIHRydWUpO1xuICAgIHZhciAkcGFzc0RhdGEgPSAkZGF0YSArICdbJyArICRpZHggKyAnXSc7XG4gICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9ICRpZHg7XG4gICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIGJyZWFrOyB9ICAnO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9ICR3YXNDb21wb3NpdGU7XG4gICAgb3V0ICs9ICcgJyArICgkY2xvc2luZ0JyYWNlcykgKyAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIHsnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIGlmICgnICsgKCRkYXRhKSArICcubGVuZ3RoID09IDApIHsnO1xuICB9XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnY29udGFpbnMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7fSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgY29udGFpbiBhIHZhbGlkIGl0ZW1cXCcgJztcbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJyB9IGVsc2UgeyAnO1xuICBpZiAoJG5vbkVtcHR5U2NoZW1hKSB7XG4gICAgb3V0ICs9ICcgIGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZFcnJvcnMgIT09IG51bGwpIHsgaWYgKCcgKyAoJGVycnMpICsgJykgdkVycm9ycy5sZW5ndGggPSAnICsgKCRlcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IG51bGw7IH0gJztcbiAgfVxuICBpZiAoaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICBvdXQgKz0gJyB9ICc7XG4gIH1cbiAgb3V0ID0gaXQudXRpbC5jbGVhblVwQ29kZShvdXQpO1xuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9kZXBlbmRlbmNpZXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkc2NoZW1hRGVwcyA9IHt9LFxuICAgICRwcm9wZXJ0eURlcHMgPSB7fSxcbiAgICAkb3duUHJvcGVydGllcyA9IGl0Lm9wdHMub3duUHJvcGVydGllcztcbiAgZm9yICgkcHJvcGVydHkgaW4gJHNjaGVtYSkge1xuICAgIHZhciAkc2NoID0gJHNjaGVtYVskcHJvcGVydHldO1xuICAgIHZhciAkZGVwcyA9IEFycmF5LmlzQXJyYXkoJHNjaCkgPyAkcHJvcGVydHlEZXBzIDogJHNjaGVtYURlcHM7XG4gICAgJGRlcHNbJHByb3BlcnR5XSA9ICRzY2g7XG4gIH1cbiAgb3V0ICs9ICd2YXIgJyArICgkZXJycykgKyAnID0gZXJyb3JzOyc7XG4gIHZhciAkY3VycmVudEVycm9yUGF0aCA9IGl0LmVycm9yUGF0aDtcbiAgb3V0ICs9ICd2YXIgbWlzc2luZycgKyAoJGx2bCkgKyAnOyc7XG4gIGZvciAodmFyICRwcm9wZXJ0eSBpbiAkcHJvcGVydHlEZXBzKSB7XG4gICAgJGRlcHMgPSAkcHJvcGVydHlEZXBzWyRwcm9wZXJ0eV07XG4gICAgaWYgKCRkZXBzLmxlbmd0aCkge1xuICAgICAgb3V0ICs9ICcgaWYgKCAnICsgKCRkYXRhKSArIChpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eSkpICsgJyAhPT0gdW5kZWZpbmVkICc7XG4gICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgb3V0ICs9ICcgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHkpKSArICdcXCcpICc7XG4gICAgICB9XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyAmJiAoICc7XG4gICAgICAgIHZhciBhcnIxID0gJGRlcHM7XG4gICAgICAgIGlmIChhcnIxKSB7XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eUtleSwgJGkgPSAtMSxcbiAgICAgICAgICAgIGwxID0gYXJyMS5sZW5ndGggLSAxO1xuICAgICAgICAgIHdoaWxlICgkaSA8IGwxKSB7XG4gICAgICAgICAgICAkcHJvcGVydHlLZXkgPSBhcnIxWyRpICs9IDFdO1xuICAgICAgICAgICAgaWYgKCRpKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgJHByb3AgPSBpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eUtleSksXG4gICAgICAgICAgICAgICR1c2VEYXRhID0gJGRhdGEgKyAkcHJvcDtcbiAgICAgICAgICAgIG91dCArPSAnICggKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICEgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHlLZXkpKSArICdcXCcpICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJykgJiYgKG1pc3NpbmcnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZyhpdC5vcHRzLmpzb25Qb2ludGVycyA/ICRwcm9wZXJ0eUtleSA6ICRwcm9wKSkgKyAnKSApICc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnKSkgeyAgJztcbiAgICAgICAgdmFyICRwcm9wZXJ0eVBhdGggPSAnbWlzc2luZycgKyAkbHZsLFxuICAgICAgICAgICRtaXNzaW5nUHJvcGVydHkgPSAnXFwnICsgJyArICRwcm9wZXJ0eVBhdGggKyAnICsgXFwnJztcbiAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgIGl0LmVycm9yUGF0aCA9IGl0Lm9wdHMuanNvblBvaW50ZXJzID8gaXQudXRpbC5nZXRQYXRoRXhwcigkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5UGF0aCwgdHJ1ZSkgOiAkY3VycmVudEVycm9yUGF0aCArICcgKyAnICsgJHByb3BlcnR5UGF0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2RlcGVuZGVuY2llcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgcHJvcGVydHk6IFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5KSkgKyAnXFwnLCBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnLCBkZXBzQ291bnQ6ICcgKyAoJGRlcHMubGVuZ3RoKSArICcsIGRlcHM6IFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJGRlcHMubGVuZ3RoID09IDEgPyAkZGVwc1swXSA6ICRkZXBzLmpvaW4oXCIsIFwiKSkpICsgJ1xcJyB9ICc7XG4gICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBoYXZlICc7XG4gICAgICAgICAgICBpZiAoJGRlcHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdwcm9wZXJ0eSAnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRkZXBzWzBdKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXQgKz0gJ3Byb3BlcnRpZXMgJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkZGVwcy5qb2luKFwiLCBcIikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnIHdoZW4gcHJvcGVydHkgJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHkpKSArICcgaXMgcHJlc2VudFxcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyApIHsgJztcbiAgICAgICAgdmFyIGFycjIgPSAkZGVwcztcbiAgICAgICAgaWYgKGFycjIpIHtcbiAgICAgICAgICB2YXIgJHByb3BlcnR5S2V5LCBpMiA9IC0xLFxuICAgICAgICAgICAgbDIgPSBhcnIyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgd2hpbGUgKGkyIDwgbDIpIHtcbiAgICAgICAgICAgICRwcm9wZXJ0eUtleSA9IGFycjJbaTIgKz0gMV07XG4gICAgICAgICAgICB2YXIgJHByb3AgPSBpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eUtleSksXG4gICAgICAgICAgICAgICRtaXNzaW5nUHJvcGVydHkgPSBpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkdXNlRGF0YSA9ICRkYXRhICsgJHByb3A7XG4gICAgICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aCgkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5S2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJyBpZiAoICcgKyAoJHVzZURhdGEpICsgJyA9PT0gdW5kZWZpbmVkICc7XG4gICAgICAgICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgfHwgISBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJyArICgkZGF0YSkgKyAnLCBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRwcm9wZXJ0eUtleSkpICsgJ1xcJykgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnKSB7ICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdkZXBlbmRlbmNpZXMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHByb3BlcnR5OiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRwcm9wZXJ0eSkpICsgJ1xcJywgbWlzc2luZ1Byb3BlcnR5OiBcXCcnICsgKCRtaXNzaW5nUHJvcGVydHkpICsgJ1xcJywgZGVwc0NvdW50OiAnICsgKCRkZXBzLmxlbmd0aCkgKyAnLCBkZXBzOiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRkZXBzLmxlbmd0aCA9PSAxID8gJGRlcHNbMF0gOiAkZGVwcy5qb2luKFwiLCBcIikpKSArICdcXCcgfSAnO1xuICAgICAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBoYXZlICc7XG4gICAgICAgICAgICAgICAgaWYgKCRkZXBzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJ3Byb3BlcnR5ICcgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJGRlcHNbMF0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICdwcm9wZXJ0aWVzICcgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJGRlcHMuam9pbihcIiwgXCIpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dCArPSAnIHdoZW4gcHJvcGVydHkgJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHkpKSArICcgaXMgcHJlc2VudFxcJyAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyB9ICc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICAgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGl0LmVycm9yUGF0aCA9ICRjdXJyZW50RXJyb3JQYXRoO1xuICB2YXIgJGN1cnJlbnRCYXNlSWQgPSAkaXQuYmFzZUlkO1xuICBmb3IgKHZhciAkcHJvcGVydHkgaW4gJHNjaGVtYURlcHMpIHtcbiAgICB2YXIgJHNjaCA9ICRzY2hlbWFEZXBzWyRwcm9wZXJ0eV07XG4gICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gdHlwZW9mICRzY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaCkubGVuZ3RoID4gMCA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaCwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgaWYgKCAnICsgKCRkYXRhKSArIChpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eSkpICsgJyAhPT0gdW5kZWZpbmVkICc7XG4gICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgb3V0ICs9ICcgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHkpKSArICdcXCcpICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJykgeyAnO1xuICAgICAgJGl0LnNjaGVtYSA9ICRzY2g7XG4gICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHkpO1xuICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArIGl0LnV0aWwuZXNjYXBlRnJhZ21lbnQoJHByb3BlcnR5KTtcbiAgICAgIG91dCArPSAnICAnICsgKGl0LnZhbGlkYXRlKCRpdCkpICsgJyAnO1xuICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgb3V0ICs9ICcgfSAgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAnO1xuICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgICAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIG91dCA9IGl0LnV0aWwuY2xlYW5VcENvZGUob3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfZW51bShpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICB2YXIgJGkgPSAnaScgKyAkbHZsLFxuICAgICR2U2NoZW1hID0gJ3NjaGVtYScgKyAkbHZsO1xuICBpZiAoISRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkdlNjaGVtYSkgKyAnID0gdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnOyc7XG4gIH1cbiAgb3V0ICs9ICd2YXIgJyArICgkdmFsaWQpICsgJzsnO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIGlmIChzY2hlbWEnICsgKCRsdmwpICsgJyA9PT0gdW5kZWZpbmVkKSAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hJyArICgkbHZsKSArICcpKSAnICsgKCR2YWxpZCkgKyAnID0gZmFsc2U7IGVsc2Ugeyc7XG4gIH1cbiAgb3V0ICs9ICcnICsgKCR2YWxpZCkgKyAnID0gZmFsc2U7Zm9yICh2YXIgJyArICgkaSkgKyAnPTA7ICcgKyAoJGkpICsgJzwnICsgKCR2U2NoZW1hKSArICcubGVuZ3RoOyAnICsgKCRpKSArICcrKykgaWYgKGVxdWFsKCcgKyAoJGRhdGEpICsgJywgJyArICgkdlNjaGVtYSkgKyAnWycgKyAoJGkpICsgJ10pKSB7ICcgKyAoJHZhbGlkKSArICcgPSB0cnVlOyBicmVhazsgfSc7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgIH0gICc7XG4gIH1cbiAgb3V0ICs9ICcgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSB7ICAgJztcbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdlbnVtJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBhbGxvd2VkVmFsdWVzOiBzY2hlbWEnICsgKCRsdmwpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSBlcXVhbCB0byBvbmUgb2YgdGhlIGFsbG93ZWQgdmFsdWVzXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gJztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB7fSAnO1xuICB9XG4gIHZhciBfX2VyciA9IG91dDtcbiAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gIH1cbiAgb3V0ICs9ICcgfSc7XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfZm9ybWF0KGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIGlmIChpdC5vcHRzLmZvcm1hdCA9PT0gZmFsc2UpIHtcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgdmFyICR1bmtub3duRm9ybWF0cyA9IGl0Lm9wdHMudW5rbm93bkZvcm1hdHMsXG4gICAgJGFsbG93VW5rbm93biA9IEFycmF5LmlzQXJyYXkoJHVua25vd25Gb3JtYXRzKTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICB2YXIgJGZvcm1hdCA9ICdmb3JtYXQnICsgJGx2bCxcbiAgICAgICRpc09iamVjdCA9ICdpc09iamVjdCcgKyAkbHZsLFxuICAgICAgJGZvcm1hdFR5cGUgPSAnZm9ybWF0VHlwZScgKyAkbHZsO1xuICAgIG91dCArPSAnIHZhciAnICsgKCRmb3JtYXQpICsgJyA9IGZvcm1hdHNbJyArICgkc2NoZW1hVmFsdWUpICsgJ107IHZhciAnICsgKCRpc09iamVjdCkgKyAnID0gdHlwZW9mICcgKyAoJGZvcm1hdCkgKyAnID09IFxcJ29iamVjdFxcJyAmJiAhKCcgKyAoJGZvcm1hdCkgKyAnIGluc3RhbmNlb2YgUmVnRXhwKSAmJiAnICsgKCRmb3JtYXQpICsgJy52YWxpZGF0ZTsgdmFyICcgKyAoJGZvcm1hdFR5cGUpICsgJyA9ICcgKyAoJGlzT2JqZWN0KSArICcgJiYgJyArICgkZm9ybWF0KSArICcudHlwZSB8fCBcXCdzdHJpbmdcXCc7IGlmICgnICsgKCRpc09iamVjdCkgKyAnKSB7ICc7XG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB2YXIgYXN5bmMnICsgKCRsdmwpICsgJyA9ICcgKyAoJGZvcm1hdCkgKyAnLmFzeW5jOyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyAnICsgKCRmb3JtYXQpICsgJyA9ICcgKyAoJGZvcm1hdCkgKyAnLnZhbGlkYXRlOyB9IGlmICggICc7XG4gICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgIG91dCArPSAnICgnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mICcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT0gXFwnc3RyaW5nXFwnKSB8fCAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyAoJztcbiAgICBpZiAoJHVua25vd25Gb3JtYXRzICE9ICdpZ25vcmUnKSB7XG4gICAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAmJiAhJyArICgkZm9ybWF0KSArICcgJztcbiAgICAgIGlmICgkYWxsb3dVbmtub3duKSB7XG4gICAgICAgIG91dCArPSAnICYmIHNlbGYuX29wdHMudW5rbm93bkZvcm1hdHMuaW5kZXhPZignICsgKCRzY2hlbWFWYWx1ZSkgKyAnKSA9PSAtMSAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcpIHx8ICc7XG4gICAgfVxuICAgIG91dCArPSAnICgnICsgKCRmb3JtYXQpICsgJyAmJiAnICsgKCRmb3JtYXRUeXBlKSArICcgPT0gXFwnJyArICgkcnVsZVR5cGUpICsgJ1xcJyAmJiAhKHR5cGVvZiAnICsgKCRmb3JtYXQpICsgJyA9PSBcXCdmdW5jdGlvblxcJyA/ICc7XG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyAoYXN5bmMnICsgKCRsdmwpICsgJyA/IGF3YWl0ICcgKyAoJGZvcm1hdCkgKyAnKCcgKyAoJGRhdGEpICsgJykgOiAnICsgKCRmb3JtYXQpICsgJygnICsgKCRkYXRhKSArICcpKSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyAnICsgKCRmb3JtYXQpICsgJygnICsgKCRkYXRhKSArICcpICc7XG4gICAgfVxuICAgIG91dCArPSAnIDogJyArICgkZm9ybWF0KSArICcudGVzdCgnICsgKCRkYXRhKSArICcpKSkpKSB7JztcbiAgfSBlbHNlIHtcbiAgICB2YXIgJGZvcm1hdCA9IGl0LmZvcm1hdHNbJHNjaGVtYV07XG4gICAgaWYgKCEkZm9ybWF0KSB7XG4gICAgICBpZiAoJHVua25vd25Gb3JtYXRzID09ICdpZ25vcmUnKSB7XG4gICAgICAgIGl0LmxvZ2dlci53YXJuKCd1bmtub3duIGZvcm1hdCBcIicgKyAkc2NoZW1hICsgJ1wiIGlnbm9yZWQgaW4gc2NoZW1hIGF0IHBhdGggXCInICsgaXQuZXJyU2NoZW1hUGF0aCArICdcIicpO1xuICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH0gZWxzZSBpZiAoJGFsbG93VW5rbm93biAmJiAkdW5rbm93bkZvcm1hdHMuaW5kZXhPZigkc2NoZW1hKSA+PSAwKSB7XG4gICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGZvcm1hdCBcIicgKyAkc2NoZW1hICsgJ1wiIGlzIHVzZWQgaW4gc2NoZW1hIGF0IHBhdGggXCInICsgaXQuZXJyU2NoZW1hUGF0aCArICdcIicpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgJGlzT2JqZWN0ID0gdHlwZW9mICRmb3JtYXQgPT0gJ29iamVjdCcgJiYgISgkZm9ybWF0IGluc3RhbmNlb2YgUmVnRXhwKSAmJiAkZm9ybWF0LnZhbGlkYXRlO1xuICAgIHZhciAkZm9ybWF0VHlwZSA9ICRpc09iamVjdCAmJiAkZm9ybWF0LnR5cGUgfHwgJ3N0cmluZyc7XG4gICAgaWYgKCRpc09iamVjdCkge1xuICAgICAgdmFyICRhc3luYyA9ICRmb3JtYXQuYXN5bmMgPT09IHRydWU7XG4gICAgICAkZm9ybWF0ID0gJGZvcm1hdC52YWxpZGF0ZTtcbiAgICB9XG4gICAgaWYgKCRmb3JtYXRUeXBlICE9ICRydWxlVHlwZSkge1xuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICAgIGlmICgkYXN5bmMpIHtcbiAgICAgIGlmICghaXQuYXN5bmMpIHRocm93IG5ldyBFcnJvcignYXN5bmMgZm9ybWF0IGluIHN5bmMgc2NoZW1hJyk7XG4gICAgICB2YXIgJGZvcm1hdFJlZiA9ICdmb3JtYXRzJyArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJHNjaGVtYSkgKyAnLnZhbGlkYXRlJztcbiAgICAgIG91dCArPSAnIGlmICghKGF3YWl0ICcgKyAoJGZvcm1hdFJlZikgKyAnKCcgKyAoJGRhdGEpICsgJykpKSB7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIGlmICghICc7XG4gICAgICB2YXIgJGZvcm1hdFJlZiA9ICdmb3JtYXRzJyArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJHNjaGVtYSk7XG4gICAgICBpZiAoJGlzT2JqZWN0KSAkZm9ybWF0UmVmICs9ICcudmFsaWRhdGUnO1xuICAgICAgaWYgKHR5cGVvZiAkZm9ybWF0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3V0ICs9ICcgJyArICgkZm9ybWF0UmVmKSArICcoJyArICgkZGF0YSkgKyAnKSAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgJyArICgkZm9ybWF0UmVmKSArICcudGVzdCgnICsgKCRkYXRhKSArICcpICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJykgeyAnO1xuICAgIH1cbiAgfVxuICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2Zvcm1hdCcpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgZm9ybWF0OiAgJztcbiAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWFWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRzY2hlbWEpKTtcbiAgICB9XG4gICAgb3V0ICs9ICcgIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIG1hdGNoIGZvcm1hdCBcIic7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ1xcJyArICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKyBcXCcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRzY2hlbWEpKTtcbiAgICAgIH1cbiAgICAgIG91dCArPSAnXCJcXCcgJztcbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6ICAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICd2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRzY2hlbWEpKTtcbiAgICAgIH1cbiAgICAgIG91dCArPSAnICAgICAgICAgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gJztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB7fSAnO1xuICB9XG4gIHZhciBfX2VyciA9IG91dDtcbiAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gIH1cbiAgb3V0ICs9ICcgfSAnO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2lmKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgJGl0LmxldmVsKys7XG4gIHZhciAkbmV4dFZhbGlkID0gJ3ZhbGlkJyArICRpdC5sZXZlbDtcbiAgdmFyICR0aGVuU2NoID0gaXQuc2NoZW1hWyd0aGVuJ10sXG4gICAgJGVsc2VTY2ggPSBpdC5zY2hlbWFbJ2Vsc2UnXSxcbiAgICAkdGhlblByZXNlbnQgPSAkdGhlblNjaCAhPT0gdW5kZWZpbmVkICYmIChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gdHlwZW9mICR0aGVuU2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCR0aGVuU2NoKS5sZW5ndGggPiAwIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkdGhlblNjaCwgaXQuUlVMRVMuYWxsKSksXG4gICAgJGVsc2VQcmVzZW50ID0gJGVsc2VTY2ggIT09IHVuZGVmaW5lZCAmJiAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/IHR5cGVvZiAkZWxzZVNjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkZWxzZVNjaCkubGVuZ3RoID4gMCA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJGVsc2VTY2gsIGl0LlJVTEVTLmFsbCkpLFxuICAgICRjdXJyZW50QmFzZUlkID0gJGl0LmJhc2VJZDtcbiAgaWYgKCR0aGVuUHJlc2VudCB8fCAkZWxzZVByZXNlbnQpIHtcbiAgICB2YXIgJGlmQ2xhdXNlO1xuICAgICRpdC5jcmVhdGVFcnJvcnMgPSBmYWxzZTtcbiAgICAkaXQuc2NoZW1hID0gJHNjaGVtYTtcbiAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoO1xuICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGg7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsgdmFyICcgKyAoJHZhbGlkKSArICcgPSB0cnVlOyAgJztcbiAgICB2YXIgJHdhc0NvbXBvc2l0ZSA9IGl0LmNvbXBvc2l0ZVJ1bGU7XG4gICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gdHJ1ZTtcbiAgICBvdXQgKz0gJyAgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgJGl0LmNyZWF0ZUVycm9ycyA9IHRydWU7XG4gICAgb3V0ICs9ICcgIGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZFcnJvcnMgIT09IG51bGwpIHsgaWYgKCcgKyAoJGVycnMpICsgJykgdkVycm9ycy5sZW5ndGggPSAnICsgKCRlcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IG51bGw7IH0gICc7XG4gICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gJHdhc0NvbXBvc2l0ZTtcbiAgICBpZiAoJHRoZW5QcmVzZW50KSB7XG4gICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgICc7XG4gICAgICAkaXQuc2NoZW1hID0gaXQuc2NoZW1hWyd0aGVuJ107XG4gICAgICAkaXQuc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLnRoZW4nO1xuICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy90aGVuJztcbiAgICAgIG91dCArPSAnICAnICsgKGl0LnZhbGlkYXRlKCRpdCkpICsgJyAnO1xuICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgb3V0ICs9ICcgJyArICgkdmFsaWQpICsgJyA9ICcgKyAoJG5leHRWYWxpZCkgKyAnOyAnO1xuICAgICAgaWYgKCR0aGVuUHJlc2VudCAmJiAkZWxzZVByZXNlbnQpIHtcbiAgICAgICAgJGlmQ2xhdXNlID0gJ2lmQ2xhdXNlJyArICRsdmw7XG4gICAgICAgIG91dCArPSAnIHZhciAnICsgKCRpZkNsYXVzZSkgKyAnID0gXFwndGhlblxcJzsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRpZkNsYXVzZSA9ICdcXCd0aGVuXFwnJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICAgIGlmICgkZWxzZVByZXNlbnQpIHtcbiAgICAgICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICB9XG4gICAgaWYgKCRlbHNlUHJlc2VudCkge1xuICAgICAgJGl0LnNjaGVtYSA9IGl0LnNjaGVtYVsnZWxzZSddO1xuICAgICAgJGl0LnNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgJy5lbHNlJztcbiAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvZWxzZSc7XG4gICAgICBvdXQgKz0gJyAgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRuZXh0VmFsaWQpICsgJzsgJztcbiAgICAgIGlmICgkdGhlblByZXNlbnQgJiYgJGVsc2VQcmVzZW50KSB7XG4gICAgICAgICRpZkNsYXVzZSA9ICdpZkNsYXVzZScgKyAkbHZsO1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkaWZDbGF1c2UpICsgJyA9IFxcJ2Vsc2VcXCc7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkaWZDbGF1c2UgPSAnXFwnZWxzZVxcJyc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfVxuICAgIG91dCArPSAnIGlmICghJyArICgkdmFsaWQpICsgJykgeyAgIHZhciBlcnIgPSAgICc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnaWYnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGZhaWxpbmdLZXl3b3JkOiAnICsgKCRpZkNsYXVzZSkgKyAnIH0gJztcbiAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBtYXRjaCBcIlxcJyArICcgKyAoJGlmQ2xhdXNlKSArICcgKyBcXCdcIiBzY2hlbWFcXCcgJztcbiAgICAgIH1cbiAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcge30gJztcbiAgICB9XG4gICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih2RXJyb3JzKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IHZFcnJvcnM7IHJldHVybiBmYWxzZTsgJztcbiAgICAgIH1cbiAgICB9XG4gICAgb3V0ICs9ICcgfSAgICc7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICAgIH1cbiAgICBvdXQgPSBpdC51dGlsLmNsZWFuVXBDb2RlKG91dCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2l0ZW1zKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkaWR4ID0gJ2knICsgJGx2bCxcbiAgICAkZGF0YU54dCA9ICRpdC5kYXRhTGV2ZWwgPSBpdC5kYXRhTGV2ZWwgKyAxLFxuICAgICRuZXh0RGF0YSA9ICdkYXRhJyArICRkYXRhTnh0LFxuICAgICRjdXJyZW50QmFzZUlkID0gaXQuYmFzZUlkO1xuICBvdXQgKz0gJ3ZhciAnICsgKCRlcnJzKSArICcgPSBlcnJvcnM7dmFyICcgKyAoJHZhbGlkKSArICc7JztcbiAgaWYgKEFycmF5LmlzQXJyYXkoJHNjaGVtYSkpIHtcbiAgICB2YXIgJGFkZGl0aW9uYWxJdGVtcyA9IGl0LnNjaGVtYS5hZGRpdGlvbmFsSXRlbXM7XG4gICAgaWYgKCRhZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkZGF0YSkgKyAnLmxlbmd0aCA8PSAnICsgKCRzY2hlbWEubGVuZ3RoKSArICc7ICc7XG4gICAgICB2YXIgJGN1cnJFcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGg7XG4gICAgICAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxJdGVtcyc7XG4gICAgICBvdXQgKz0gJyAgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSB7ICAgJztcbiAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2FkZGl0aW9uYWxJdGVtcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgbGltaXQ6ICcgKyAoJHNjaGVtYS5sZW5ndGgpICsgJyB9ICc7XG4gICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIE5PVCBoYXZlIG1vcmUgdGhhbiAnICsgKCRzY2hlbWEubGVuZ3RoKSArICcgaXRlbXNcXCcgJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IGZhbHNlICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgICB9XG4gICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICRlcnJTY2hlbWFQYXRoID0gJGN1cnJFcnJTY2hlbWFQYXRoO1xuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgJGNsb3NpbmdCcmFjZXMgKz0gJ30nO1xuICAgICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGFycjEgPSAkc2NoZW1hO1xuICAgIGlmIChhcnIxKSB7XG4gICAgICB2YXIgJHNjaCwgJGkgPSAtMSxcbiAgICAgICAgbDEgPSBhcnIxLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAkc2NoID0gYXJyMVskaSArPSAxXTtcbiAgICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gdHlwZW9mICRzY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaCkubGVuZ3RoID4gMCA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaCwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAgICAgICBvdXQgKz0gJyAnICsgKCRuZXh0VmFsaWQpICsgJyA9IHRydWU7IGlmICgnICsgKCRkYXRhKSArICcubGVuZ3RoID4gJyArICgkaSkgKyAnKSB7ICc7XG4gICAgICAgICAgdmFyICRwYXNzRGF0YSA9ICRkYXRhICsgJ1snICsgJGkgKyAnXSc7XG4gICAgICAgICAgJGl0LnNjaGVtYSA9ICRzY2g7XG4gICAgICAgICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aCArICdbJyArICRpICsgJ10nO1xuICAgICAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGggKyAnLycgKyAkaTtcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRpLCBpdC5vcHRzLmpzb25Qb2ludGVycywgdHJ1ZSk7XG4gICAgICAgICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9ICRpO1xuICAgICAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgfSAgJztcbiAgICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgJGFkZGl0aW9uYWxJdGVtcyA9PSAnb2JqZWN0JyAmJiAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/IHR5cGVvZiAkYWRkaXRpb25hbEl0ZW1zID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRhZGRpdGlvbmFsSXRlbXMpLmxlbmd0aCA+IDAgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRhZGRpdGlvbmFsSXRlbXMsIGl0LlJVTEVTLmFsbCkpKSB7XG4gICAgICAkaXQuc2NoZW1hID0gJGFkZGl0aW9uYWxJdGVtcztcbiAgICAgICRpdC5zY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcuYWRkaXRpb25hbEl0ZW1zJztcbiAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvYWRkaXRpb25hbEl0ZW1zJztcbiAgICAgIG91dCArPSAnICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgaWYgKCcgKyAoJGRhdGEpICsgJy5sZW5ndGggPiAnICsgKCRzY2hlbWEubGVuZ3RoKSArICcpIHsgIGZvciAodmFyICcgKyAoJGlkeCkgKyAnID0gJyArICgkc2NoZW1hLmxlbmd0aCkgKyAnOyAnICsgKCRpZHgpICsgJyA8ICcgKyAoJGRhdGEpICsgJy5sZW5ndGg7ICcgKyAoJGlkeCkgKyAnKyspIHsgJztcbiAgICAgICRpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGlkeCwgaXQub3B0cy5qc29uUG9pbnRlcnMsIHRydWUpO1xuICAgICAgdmFyICRwYXNzRGF0YSA9ICRkYXRhICsgJ1snICsgJGlkeCArICddJztcbiAgICAgICRpdC5kYXRhUGF0aEFyclskZGF0YU54dF0gPSAkaWR4O1xuICAgICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICAgIH1cbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIGJyZWFrOyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSB9ICAnO1xuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyB0eXBlb2YgJHNjaGVtYSA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoZW1hKS5sZW5ndGggPiAwIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoZW1hLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICRpdC5zY2hlbWEgPSAkc2NoZW1hO1xuICAgICRpdC5zY2hlbWFQYXRoID0gJHNjaGVtYVBhdGg7XG4gICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aDtcbiAgICBvdXQgKz0gJyAgZm9yICh2YXIgJyArICgkaWR4KSArICcgPSAnICsgKDApICsgJzsgJyArICgkaWR4KSArICcgPCAnICsgKCRkYXRhKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7ICc7XG4gICAgJGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aEV4cHIoaXQuZXJyb3JQYXRoLCAkaWR4LCBpdC5vcHRzLmpzb25Qb2ludGVycywgdHJ1ZSk7XG4gICAgdmFyICRwYXNzRGF0YSA9ICRkYXRhICsgJ1snICsgJGlkeCArICddJztcbiAgICAkaXQuZGF0YVBhdGhBcnJbJGRhdGFOeHRdID0gJGlkeDtcbiAgICB2YXIgJGNvZGUgPSBpdC52YWxpZGF0ZSgkaXQpO1xuICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgb3V0ICs9ICcgJyArIChpdC51dGlsLnZhclJlcGxhY2UoJGNvZGUsICRuZXh0RGF0YSwgJHBhc3NEYXRhKSkgKyAnICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0RGF0YSkgKyAnID0gJyArICgkcGFzc0RhdGEpICsgJzsgJyArICgkY29kZSkgKyAnICc7XG4gICAgfVxuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSBicmVhazsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSc7XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIG91dCA9IGl0LnV0aWwuY2xlYW5VcENvZGUob3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfX2xpbWl0KGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZXJyb3JLZXl3b3JkO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgdmFyICRpc01heCA9ICRrZXl3b3JkID09ICdtYXhpbXVtJyxcbiAgICAkZXhjbHVzaXZlS2V5d29yZCA9ICRpc01heCA/ICdleGNsdXNpdmVNYXhpbXVtJyA6ICdleGNsdXNpdmVNaW5pbXVtJyxcbiAgICAkc2NoZW1hRXhjbCA9IGl0LnNjaGVtYVskZXhjbHVzaXZlS2V5d29yZF0sXG4gICAgJGlzRGF0YUV4Y2wgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWFFeGNsICYmICRzY2hlbWFFeGNsLiRkYXRhLFxuICAgICRvcCA9ICRpc01heCA/ICc8JyA6ICc+JyxcbiAgICAkbm90T3AgPSAkaXNNYXggPyAnPicgOiAnPCcsXG4gICAgJGVycm9yS2V5d29yZCA9IHVuZGVmaW5lZDtcbiAgaWYgKCRpc0RhdGFFeGNsKSB7XG4gICAgdmFyICRzY2hlbWFWYWx1ZUV4Y2wgPSBpdC51dGlsLmdldERhdGEoJHNjaGVtYUV4Y2wuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFyciksXG4gICAgICAkZXhjbHVzaXZlID0gJ2V4Y2x1c2l2ZScgKyAkbHZsLFxuICAgICAgJGV4Y2xUeXBlID0gJ2V4Y2xUeXBlJyArICRsdmwsXG4gICAgICAkZXhjbElzTnVtYmVyID0gJ2V4Y2xJc051bWJlcicgKyAkbHZsLFxuICAgICAgJG9wRXhwciA9ICdvcCcgKyAkbHZsLFxuICAgICAgJG9wU3RyID0gJ1xcJyArICcgKyAkb3BFeHByICsgJyArIFxcJyc7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYUV4Y2wnICsgKCRsdmwpICsgJyA9ICcgKyAoJHNjaGVtYVZhbHVlRXhjbCkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZUV4Y2wgPSAnc2NoZW1hRXhjbCcgKyAkbHZsO1xuICAgIG91dCArPSAnIHZhciAnICsgKCRleGNsdXNpdmUpICsgJzsgdmFyICcgKyAoJGV4Y2xUeXBlKSArICcgPSB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWVFeGNsKSArICc7IGlmICgnICsgKCRleGNsVHlwZSkgKyAnICE9IFxcJ2Jvb2xlYW5cXCcgJiYgJyArICgkZXhjbFR5cGUpICsgJyAhPSBcXCd1bmRlZmluZWRcXCcgJiYgJyArICgkZXhjbFR5cGUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHsgJztcbiAgICB2YXIgJGVycm9yS2V5d29yZCA9ICRleGNsdXNpdmVLZXl3b3JkO1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ19leGNsdXNpdmVMaW1pdCcpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHt9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnICsgKCRleGNsdXNpdmVLZXl3b3JkKSArICcgc2hvdWxkIGJlIGJvb2xlYW5cXCcgJztcbiAgICAgIH1cbiAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcge30gJztcbiAgICB9XG4gICAgdmFyIF9fZXJyID0gb3V0O1xuICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9IGVsc2UgaWYgKCAnO1xuICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJykgfHwgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgJyArICgkZXhjbFR5cGUpICsgJyA9PSBcXCdudW1iZXJcXCcgPyAoICgnICsgKCRleGNsdXNpdmUpICsgJyA9ICcgKyAoJHNjaGVtYVZhbHVlKSArICcgPT09IHVuZGVmaW5lZCB8fCAnICsgKCRzY2hlbWFWYWx1ZUV4Y2wpICsgJyAnICsgKCRvcCkgKyAnPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnKSA/ICcgKyAoJGRhdGEpICsgJyAnICsgKCRub3RPcCkgKyAnPSAnICsgKCRzY2hlbWFWYWx1ZUV4Y2wpICsgJyA6ICcgKyAoJGRhdGEpICsgJyAnICsgKCRub3RPcCkgKyAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKSA6ICggKCcgKyAoJGV4Y2x1c2l2ZSkgKyAnID0gJyArICgkc2NoZW1hVmFsdWVFeGNsKSArICcgPT09IHRydWUpID8gJyArICgkZGF0YSkgKyAnICcgKyAoJG5vdE9wKSArICc9ICcgKyAoJHNjaGVtYVZhbHVlKSArICcgOiAnICsgKCRkYXRhKSArICcgJyArICgkbm90T3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICkgfHwgJyArICgkZGF0YSkgKyAnICE9PSAnICsgKCRkYXRhKSArICcpIHsgdmFyIG9wJyArICgkbHZsKSArICcgPSAnICsgKCRleGNsdXNpdmUpICsgJyA/IFxcJycgKyAoJG9wKSArICdcXCcgOiBcXCcnICsgKCRvcCkgKyAnPVxcJzsgJztcbiAgICBpZiAoJHNjaGVtYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAkZXJyb3JLZXl3b3JkID0gJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAkZXhjbHVzaXZlS2V5d29yZDtcbiAgICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWFWYWx1ZUV4Y2w7XG4gICAgICAkaXNEYXRhID0gJGlzRGF0YUV4Y2w7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciAkZXhjbElzTnVtYmVyID0gdHlwZW9mICRzY2hlbWFFeGNsID09ICdudW1iZXInLFxuICAgICAgJG9wU3RyID0gJG9wO1xuICAgIGlmICgkZXhjbElzTnVtYmVyICYmICRpc0RhdGEpIHtcbiAgICAgIHZhciAkb3BFeHByID0gJ1xcJycgKyAkb3BTdHIgKyAnXFwnJztcbiAgICAgIG91dCArPSAnIGlmICggJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAnICgnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mICcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT0gXFwnbnVtYmVyXFwnKSB8fCAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgKCAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnID09PSB1bmRlZmluZWQgfHwgJyArICgkc2NoZW1hRXhjbCkgKyAnICcgKyAoJG9wKSArICc9ICcgKyAoJHNjaGVtYVZhbHVlKSArICcgPyAnICsgKCRkYXRhKSArICcgJyArICgkbm90T3ApICsgJz0gJyArICgkc2NoZW1hRXhjbCkgKyAnIDogJyArICgkZGF0YSkgKyAnICcgKyAoJG5vdE9wKSArICcgJyArICgkc2NoZW1hVmFsdWUpICsgJyApIHx8ICcgKyAoJGRhdGEpICsgJyAhPT0gJyArICgkZGF0YSkgKyAnKSB7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkZXhjbElzTnVtYmVyICYmICRzY2hlbWEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAkZXhjbHVzaXZlID0gdHJ1ZTtcbiAgICAgICAgJGVycm9yS2V5d29yZCA9ICRleGNsdXNpdmVLZXl3b3JkO1xuICAgICAgICAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAkZXhjbHVzaXZlS2V5d29yZDtcbiAgICAgICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYUV4Y2w7XG4gICAgICAgICRub3RPcCArPSAnPSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoJGV4Y2xJc051bWJlcikgJHNjaGVtYVZhbHVlID0gTWF0aFskaXNNYXggPyAnbWluJyA6ICdtYXgnXSgkc2NoZW1hRXhjbCwgJHNjaGVtYSk7XG4gICAgICAgIGlmICgkc2NoZW1hRXhjbCA9PT0gKCRleGNsSXNOdW1iZXIgPyAkc2NoZW1hVmFsdWUgOiB0cnVlKSkge1xuICAgICAgICAgICRleGNsdXNpdmUgPSB0cnVlO1xuICAgICAgICAgICRlcnJvcktleXdvcmQgPSAkZXhjbHVzaXZlS2V5d29yZDtcbiAgICAgICAgICAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAkZXhjbHVzaXZlS2V5d29yZDtcbiAgICAgICAgICAkbm90T3AgKz0gJz0nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRleGNsdXNpdmUgPSBmYWxzZTtcbiAgICAgICAgICAkb3BTdHIgKz0gJz0nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgJG9wRXhwciA9ICdcXCcnICsgJG9wU3RyICsgJ1xcJyc7XG4gICAgICBvdXQgKz0gJyBpZiAoICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJykgfHwgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnICcgKyAoJGRhdGEpICsgJyAnICsgKCRub3RPcCkgKyAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcgfHwgJyArICgkZGF0YSkgKyAnICE9PSAnICsgKCRkYXRhKSArICcpIHsgJztcbiAgICB9XG4gIH1cbiAgJGVycm9yS2V5d29yZCA9ICRlcnJvcktleXdvcmQgfHwgJGtleXdvcmQ7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgkZXJyb3JLZXl3b3JkIHx8ICdfbGltaXQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGNvbXBhcmlzb246ICcgKyAoJG9wRXhwcikgKyAnLCBsaW1pdDogJyArICgkc2NoZW1hVmFsdWUpICsgJywgZXhjbHVzaXZlOiAnICsgKCRleGNsdXNpdmUpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSAnICsgKCRvcFN0cikgKyAnICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ1xcJyArICcgKyAoJHNjaGVtYVZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hVmFsdWUpICsgJ1xcJyc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnIH0gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9fbGltaXRJdGVtcyhpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGVycm9yS2V5d29yZDtcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkb3AgPSAka2V5d29yZCA9PSAnbWF4SXRlbXMnID8gJz4nIDogJzwnO1xuICBvdXQgKz0gJ2lmICggJztcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJykgfHwgJztcbiAgfVxuICBvdXQgKz0gJyAnICsgKCRkYXRhKSArICcubGVuZ3RoICcgKyAoJG9wKSArICcgJyArICgkc2NoZW1hVmFsdWUpICsgJykgeyAnO1xuICB2YXIgJGVycm9yS2V5d29yZCA9ICRrZXl3b3JkO1xuICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAnX2xpbWl0SXRlbXMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGxpbWl0OiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIE5PVCBoYXZlICc7XG4gICAgICBpZiAoJGtleXdvcmQgPT0gJ21heEl0ZW1zJykge1xuICAgICAgICBvdXQgKz0gJ21vcmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICdmZXdlcic7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB0aGFuICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ1xcJyArICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKyBcXCcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgaXRlbXNcXCcgJztcbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6ICAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICd2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIG91dCArPSAnICAgICAgICAgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gJztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB7fSAnO1xuICB9XG4gIHZhciBfX2VyciA9IG91dDtcbiAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gIH1cbiAgb3V0ICs9ICd9ICc7XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfX2xpbWl0TGVuZ3RoKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZXJyb3JLZXl3b3JkO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgdmFyICRvcCA9ICRrZXl3b3JkID09ICdtYXhMZW5ndGgnID8gJz4nIDogJzwnO1xuICBvdXQgKz0gJ2lmICggJztcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJykgfHwgJztcbiAgfVxuICBpZiAoaXQub3B0cy51bmljb2RlID09PSBmYWxzZSkge1xuICAgIG91dCArPSAnICcgKyAoJGRhdGEpICsgJy5sZW5ndGggJztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB1Y3MybGVuZ3RoKCcgKyAoJGRhdGEpICsgJykgJztcbiAgfVxuICBvdXQgKz0gJyAnICsgKCRvcCkgKyAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcpIHsgJztcbiAgdmFyICRlcnJvcktleXdvcmQgPSAka2V5d29yZDtcbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ19saW1pdExlbmd0aCcpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgbGltaXQ6ICcgKyAoJHNjaGVtYVZhbHVlKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgTk9UIGJlICc7XG4gICAgICBpZiAoJGtleXdvcmQgPT0gJ21heExlbmd0aCcpIHtcbiAgICAgICAgb3V0ICs9ICdsb25nZXInO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICdzaG9ydGVyJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIHRoYW4gJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAnXFwnICsgJyArICgkc2NoZW1hVmFsdWUpICsgJyArIFxcJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyBjaGFyYWN0ZXJzXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnfSAnO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX19saW1pdFByb3BlcnRpZXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRlcnJvcktleXdvcmQ7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICB2YXIgJG9wID0gJGtleXdvcmQgPT0gJ21heFByb3BlcnRpZXMnID8gJz4nIDogJzwnO1xuICBvdXQgKz0gJ2lmICggJztcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJykgfHwgJztcbiAgfVxuICBvdXQgKz0gJyBPYmplY3Qua2V5cygnICsgKCRkYXRhKSArICcpLmxlbmd0aCAnICsgKCRvcCkgKyAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcpIHsgJztcbiAgdmFyICRlcnJvcktleXdvcmQgPSAka2V5d29yZDtcbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ19saW1pdFByb3BlcnRpZXMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGxpbWl0OiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIE5PVCBoYXZlICc7XG4gICAgICBpZiAoJGtleXdvcmQgPT0gJ21heFByb3BlcnRpZXMnKSB7XG4gICAgICAgIG91dCArPSAnbW9yZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJ2Zld2VyJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIHRoYW4gJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAnXFwnICsgJyArICgkc2NoZW1hVmFsdWUpICsgJyArIFxcJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyBwcm9wZXJ0aWVzXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnfSAnO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX211bHRpcGxlT2YoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIG91dCArPSAndmFyIGRpdmlzaW9uJyArICgkbHZsKSArICc7aWYgKCc7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmICggdHlwZW9mICcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT0gXFwnbnVtYmVyXFwnIHx8ICc7XG4gIH1cbiAgb3V0ICs9ICcgKGRpdmlzaW9uJyArICgkbHZsKSArICcgPSAnICsgKCRkYXRhKSArICcgLyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnLCAnO1xuICBpZiAoaXQub3B0cy5tdWx0aXBsZU9mUHJlY2lzaW9uKSB7XG4gICAgb3V0ICs9ICcgTWF0aC5hYnMoTWF0aC5yb3VuZChkaXZpc2lvbicgKyAoJGx2bCkgKyAnKSAtIGRpdmlzaW9uJyArICgkbHZsKSArICcpID4gMWUtJyArIChpdC5vcHRzLm11bHRpcGxlT2ZQcmVjaXNpb24pICsgJyAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIGRpdmlzaW9uJyArICgkbHZsKSArICcgIT09IHBhcnNlSW50KGRpdmlzaW9uJyArICgkbHZsKSArICcpICc7XG4gIH1cbiAgb3V0ICs9ICcgKSAnO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnICApICAnO1xuICB9XG4gIG91dCArPSAnICkgeyAgICc7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnbXVsdGlwbGVPZicpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgbXVsdGlwbGVPZjogJyArICgkc2NoZW1hVmFsdWUpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSBtdWx0aXBsZSBvZiAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYVZhbHVlKSArICdcXCcnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgICAgICAgICAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJ30gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9ub3QoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgJGl0LmxldmVsKys7XG4gIHZhciAkbmV4dFZhbGlkID0gJ3ZhbGlkJyArICRpdC5sZXZlbDtcbiAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gdHlwZW9mICRzY2hlbWEgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaGVtYSkubGVuZ3RoID4gMCA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaGVtYSwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAkaXQuc2NoZW1hID0gJHNjaGVtYTtcbiAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoO1xuICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGg7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsgICc7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgJGl0LmNyZWF0ZUVycm9ycyA9IGZhbHNlO1xuICAgIHZhciAkYWxsRXJyb3JzT3B0aW9uO1xuICAgIGlmICgkaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICAgICRhbGxFcnJvcnNPcHRpb24gPSAkaXQub3B0cy5hbGxFcnJvcnM7XG4gICAgICAkaXQub3B0cy5hbGxFcnJvcnMgPSBmYWxzZTtcbiAgICB9XG4gICAgb3V0ICs9ICcgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAkaXQuY3JlYXRlRXJyb3JzID0gdHJ1ZTtcbiAgICBpZiAoJGFsbEVycm9yc09wdGlvbikgJGl0Lm9wdHMuYWxsRXJyb3JzID0gJGFsbEVycm9yc09wdGlvbjtcbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAgICc7XG4gICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ25vdCcpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHt9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgTk9UIGJlIHZhbGlkXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIHZhciBfX2VyciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSBlbHNlIHsgIGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZFcnJvcnMgIT09IG51bGwpIHsgaWYgKCcgKyAoJGVycnMpICsgJykgdkVycm9ycy5sZW5ndGggPSAnICsgKCRlcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IG51bGw7IH0gJztcbiAgICBpZiAoaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgIHZhciBlcnIgPSAgICc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnbm90JykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczoge30gJztcbiAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBOT1QgYmUgdmFsaWRcXCcgJztcbiAgICAgIH1cbiAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcge30gJztcbiAgICB9XG4gICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKGZhbHNlKSB7ICc7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX29uZU9mKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkY3VycmVudEJhc2VJZCA9ICRpdC5iYXNlSWQsXG4gICAgJHByZXZWYWxpZCA9ICdwcmV2VmFsaWQnICsgJGx2bCxcbiAgICAkcGFzc2luZ1NjaGVtYXMgPSAncGFzc2luZ1NjaGVtYXMnICsgJGx2bDtcbiAgb3V0ICs9ICd2YXIgJyArICgkZXJycykgKyAnID0gZXJyb3JzICwgJyArICgkcHJldlZhbGlkKSArICcgPSBmYWxzZSAsICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZSAsICcgKyAoJHBhc3NpbmdTY2hlbWFzKSArICcgPSBudWxsOyAnO1xuICB2YXIgJHdhc0NvbXBvc2l0ZSA9IGl0LmNvbXBvc2l0ZVJ1bGU7XG4gIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gIHZhciBhcnIxID0gJHNjaGVtYTtcbiAgaWYgKGFycjEpIHtcbiAgICB2YXIgJHNjaCwgJGkgPSAtMSxcbiAgICAgIGwxID0gYXJyMS5sZW5ndGggLSAxO1xuICAgIHdoaWxlICgkaSA8IGwxKSB7XG4gICAgICAkc2NoID0gYXJyMVskaSArPSAxXTtcbiAgICAgIGlmICgoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/IHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDAgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRzY2gsIGl0LlJVTEVTLmFsbCkpKSB7XG4gICAgICAgICRpdC5zY2hlbWEgPSAkc2NoO1xuICAgICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgJ1snICsgJGkgKyAnXSc7XG4gICAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGggKyAnLycgKyAkaTtcbiAgICAgICAgb3V0ICs9ICcgICcgKyAoaXQudmFsaWRhdGUoJGl0KSkgKyAnICc7XG4gICAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0VmFsaWQpICsgJyA9IHRydWU7ICc7XG4gICAgICB9XG4gICAgICBpZiAoJGkpIHtcbiAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnICYmICcgKyAoJHByZXZWYWxpZCkgKyAnKSB7ICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgJyArICgkcGFzc2luZ1NjaGVtYXMpICsgJyA9IFsnICsgKCRwYXNzaW5nU2NoZW1hcykgKyAnLCAnICsgKCRpKSArICddOyB9IGVsc2UgeyAnO1xuICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJyArICgkdmFsaWQpICsgJyA9ICcgKyAoJHByZXZWYWxpZCkgKyAnID0gdHJ1ZTsgJyArICgkcGFzc2luZ1NjaGVtYXMpICsgJyA9ICcgKyAoJGkpICsgJzsgfSc7XG4gICAgfVxuICB9XG4gIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9ICR3YXNDb21wb3NpdGU7XG4gIG91dCArPSAnJyArICgkY2xvc2luZ0JyYWNlcykgKyAnaWYgKCEnICsgKCR2YWxpZCkgKyAnKSB7ICAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ29uZU9mJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBwYXNzaW5nU2NoZW1hczogJyArICgkcGFzc2luZ1NjaGVtYXMpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBtYXRjaCBleGFjdGx5IG9uZSBzY2hlbWEgaW4gb25lT2ZcXCcgJztcbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IodkVycm9ycyk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IHZFcnJvcnM7IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH1cbiAgb3V0ICs9ICd9IGVsc2UgeyAgZXJyb3JzID0gJyArICgkZXJycykgKyAnOyBpZiAodkVycm9ycyAhPT0gbnVsbCkgeyBpZiAoJyArICgkZXJycykgKyAnKSB2RXJyb3JzLmxlbmd0aCA9ICcgKyAoJGVycnMpICsgJzsgZWxzZSB2RXJyb3JzID0gbnVsbDsgfSc7XG4gIGlmIChpdC5vcHRzLmFsbEVycm9ycykge1xuICAgIG91dCArPSAnIH0gJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9wYXR0ZXJuKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICB2YXIgJHJlZ2V4cCA9ICRpc0RhdGEgPyAnKG5ldyBSZWdFeHAoJyArICRzY2hlbWFWYWx1ZSArICcpKScgOiBpdC51c2VQYXR0ZXJuKCRzY2hlbWEpO1xuICBvdXQgKz0gJ2lmICggJztcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ3N0cmluZ1xcJykgfHwgJztcbiAgfVxuICBvdXQgKz0gJyAhJyArICgkcmVnZXhwKSArICcudGVzdCgnICsgKCRkYXRhKSArICcpICkgeyAgICc7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncGF0dGVybicpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgcGF0dGVybjogICc7XG4gICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgIG91dCArPSAnJyArICgkc2NoZW1hVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJycgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSk7XG4gICAgfVxuICAgIG91dCArPSAnICB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBtYXRjaCBwYXR0ZXJuIFwiJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAnXFwnICsgJyArICgkc2NoZW1hVmFsdWUpICsgJyArIFxcJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHNjaGVtYSkpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICdcIlxcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJHNjaGVtYSkpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgICAgICAgICAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJ30gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9wcm9wZXJ0aWVzKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAkaXQubGV2ZWwrKztcbiAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICB2YXIgJGtleSA9ICdrZXknICsgJGx2bCxcbiAgICAkaWR4ID0gJ2lkeCcgKyAkbHZsLFxuICAgICRkYXRhTnh0ID0gJGl0LmRhdGFMZXZlbCA9IGl0LmRhdGFMZXZlbCArIDEsXG4gICAgJG5leHREYXRhID0gJ2RhdGEnICsgJGRhdGFOeHQsXG4gICAgJGRhdGFQcm9wZXJ0aWVzID0gJ2RhdGFQcm9wZXJ0aWVzJyArICRsdmw7XG4gIHZhciAkc2NoZW1hS2V5cyA9IE9iamVjdC5rZXlzKCRzY2hlbWEgfHwge30pLFxuICAgICRwUHJvcGVydGllcyA9IGl0LnNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyB8fCB7fSxcbiAgICAkcFByb3BlcnR5S2V5cyA9IE9iamVjdC5rZXlzKCRwUHJvcGVydGllcyksXG4gICAgJGFQcm9wZXJ0aWVzID0gaXQuc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLFxuICAgICRzb21lUHJvcGVydGllcyA9ICRzY2hlbWFLZXlzLmxlbmd0aCB8fCAkcFByb3BlcnR5S2V5cy5sZW5ndGgsXG4gICAgJG5vQWRkaXRpb25hbCA9ICRhUHJvcGVydGllcyA9PT0gZmFsc2UsXG4gICAgJGFkZGl0aW9uYWxJc1NjaGVtYSA9IHR5cGVvZiAkYVByb3BlcnRpZXMgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJGFQcm9wZXJ0aWVzKS5sZW5ndGgsXG4gICAgJHJlbW92ZUFkZGl0aW9uYWwgPSBpdC5vcHRzLnJlbW92ZUFkZGl0aW9uYWwsXG4gICAgJGNoZWNrQWRkaXRpb25hbCA9ICRub0FkZGl0aW9uYWwgfHwgJGFkZGl0aW9uYWxJc1NjaGVtYSB8fCAkcmVtb3ZlQWRkaXRpb25hbCxcbiAgICAkb3duUHJvcGVydGllcyA9IGl0Lm9wdHMub3duUHJvcGVydGllcyxcbiAgICAkY3VycmVudEJhc2VJZCA9IGl0LmJhc2VJZDtcbiAgdmFyICRyZXF1aXJlZCA9IGl0LnNjaGVtYS5yZXF1aXJlZDtcbiAgaWYgKCRyZXF1aXJlZCAmJiAhKGl0Lm9wdHMuJGRhdGEgJiYgJHJlcXVpcmVkLiRkYXRhKSAmJiAkcmVxdWlyZWQubGVuZ3RoIDwgaXQub3B0cy5sb29wUmVxdWlyZWQpIHZhciAkcmVxdWlyZWRIYXNoID0gaXQudXRpbC50b0hhc2goJHJlcXVpcmVkKTtcbiAgb3V0ICs9ICd2YXIgJyArICgkZXJycykgKyAnID0gZXJyb3JzO3ZhciAnICsgKCRuZXh0VmFsaWQpICsgJyA9IHRydWU7JztcbiAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgPSB1bmRlZmluZWQ7JztcbiAgfVxuICBpZiAoJGNoZWNrQWRkaXRpb25hbCkge1xuICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgb3V0ICs9ICcgJyArICgkZGF0YVByb3BlcnRpZXMpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgfHwgT2JqZWN0LmtleXMoJyArICgkZGF0YSkgKyAnKTsgZm9yICh2YXIgJyArICgkaWR4KSArICc9MDsgJyArICgkaWR4KSArICc8JyArICgkZGF0YVByb3BlcnRpZXMpICsgJy5sZW5ndGg7ICcgKyAoJGlkeCkgKyAnKyspIHsgdmFyICcgKyAoJGtleSkgKyAnID0gJyArICgkZGF0YVByb3BlcnRpZXMpICsgJ1snICsgKCRpZHgpICsgJ107ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGtleSkgKyAnIGluICcgKyAoJGRhdGEpICsgJykgeyAnO1xuICAgIH1cbiAgICBpZiAoJHNvbWVQcm9wZXJ0aWVzKSB7XG4gICAgICBvdXQgKz0gJyB2YXIgaXNBZGRpdGlvbmFsJyArICgkbHZsKSArICcgPSAhKGZhbHNlICc7XG4gICAgICBpZiAoJHNjaGVtYUtleXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICgkc2NoZW1hS2V5cy5sZW5ndGggPiA4KSB7XG4gICAgICAgICAgb3V0ICs9ICcgfHwgdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnLmhhc093blByb3BlcnR5KCcgKyAoJGtleSkgKyAnKSAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBhcnIxID0gJHNjaGVtYUtleXM7XG4gICAgICAgICAgaWYgKGFycjEpIHtcbiAgICAgICAgICAgIHZhciAkcHJvcGVydHlLZXksIGkxID0gLTEsXG4gICAgICAgICAgICAgIGwxID0gYXJyMS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKGkxIDwgbDEpIHtcbiAgICAgICAgICAgICAgJHByb3BlcnR5S2V5ID0gYXJyMVtpMSArPSAxXTtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgfHwgJyArICgka2V5KSArICcgPT0gJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRwcm9wZXJ0eUtleSkpICsgJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCRwUHJvcGVydHlLZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyMiA9ICRwUHJvcGVydHlLZXlzO1xuICAgICAgICBpZiAoYXJyMikge1xuICAgICAgICAgIHZhciAkcFByb3BlcnR5LCAkaSA9IC0xLFxuICAgICAgICAgICAgbDIgPSBhcnIyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgd2hpbGUgKCRpIDwgbDIpIHtcbiAgICAgICAgICAgICRwUHJvcGVydHkgPSBhcnIyWyRpICs9IDFdO1xuICAgICAgICAgICAgb3V0ICs9ICcgfHwgJyArIChpdC51c2VQYXR0ZXJuKCRwUHJvcGVydHkpKSArICcudGVzdCgnICsgKCRrZXkpICsgJykgJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG91dCArPSAnICk7IGlmIChpc0FkZGl0aW9uYWwnICsgKCRsdmwpICsgJykgeyAnO1xuICAgIH1cbiAgICBpZiAoJHJlbW92ZUFkZGl0aW9uYWwgPT0gJ2FsbCcpIHtcbiAgICAgIG91dCArPSAnIGRlbGV0ZSAnICsgKCRkYXRhKSArICdbJyArICgka2V5KSArICddOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgJGN1cnJlbnRFcnJvclBhdGggPSBpdC5lcnJvclBhdGg7XG4gICAgICB2YXIgJGFkZGl0aW9uYWxQcm9wZXJ0eSA9ICdcXCcgKyAnICsgJGtleSArICcgKyBcXCcnO1xuICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICBpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGtleSwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgfVxuICAgICAgaWYgKCRub0FkZGl0aW9uYWwpIHtcbiAgICAgICAgaWYgKCRyZW1vdmVBZGRpdGlvbmFsKSB7XG4gICAgICAgICAgb3V0ICs9ICcgZGVsZXRlICcgKyAoJGRhdGEpICsgJ1snICsgKCRrZXkpICsgJ107ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgJyArICgkbmV4dFZhbGlkKSArICcgPSBmYWxzZTsgJztcbiAgICAgICAgICB2YXIgJGN1cnJFcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGg7XG4gICAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy9hZGRpdGlvbmFsUHJvcGVydGllcyc7XG4gICAgICAgICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBhZGRpdGlvbmFsUHJvcGVydHk6IFxcJycgKyAoJGFkZGl0aW9uYWxQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJyc7XG4gICAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGFuIGludmFsaWQgYWRkaXRpb25hbCBwcm9wZXJ0eSc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgTk9UIGhhdmUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogZmFsc2UgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgJGVyclNjaGVtYVBhdGggPSAkY3VyckVyclNjaGVtYVBhdGg7XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGJyZWFrOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICgkYWRkaXRpb25hbElzU2NoZW1hKSB7XG4gICAgICAgIGlmICgkcmVtb3ZlQWRkaXRpb25hbCA9PSAnZmFpbGluZycpIHtcbiAgICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkZXJycykgKyAnID0gZXJyb3JzOyAgJztcbiAgICAgICAgICB2YXIgJHdhc0NvbXBvc2l0ZSA9IGl0LmNvbXBvc2l0ZVJ1bGU7XG4gICAgICAgICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gdHJ1ZTtcbiAgICAgICAgICAkaXQuc2NoZW1hID0gJGFQcm9wZXJ0aWVzO1xuICAgICAgICAgICRpdC5zY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcuYWRkaXRpb25hbFByb3BlcnRpZXMnO1xuICAgICAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvYWRkaXRpb25hbFByb3BlcnRpZXMnO1xuICAgICAgICAgICRpdC5lcnJvclBhdGggPSBpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkgPyBpdC5lcnJvclBhdGggOiBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGtleSwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICAgIHZhciAkcGFzc0RhdGEgPSAkZGF0YSArICdbJyArICRrZXkgKyAnXSc7XG4gICAgICAgICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9ICRrZXk7XG4gICAgICAgICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAgICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICAgICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSB7IGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZhbGlkYXRlLmVycm9ycyAhPT0gbnVsbCkgeyBpZiAoZXJyb3JzKSB2YWxpZGF0ZS5lcnJvcnMubGVuZ3RoID0gZXJyb3JzOyBlbHNlIHZhbGlkYXRlLmVycm9ycyA9IG51bGw7IH0gZGVsZXRlICcgKyAoJGRhdGEpICsgJ1snICsgKCRrZXkpICsgJ107IH0gICc7XG4gICAgICAgICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gJHdhc0NvbXBvc2l0ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkaXQuc2NoZW1hID0gJGFQcm9wZXJ0aWVzO1xuICAgICAgICAgICRpdC5zY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcuYWRkaXRpb25hbFByb3BlcnRpZXMnO1xuICAgICAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvYWRkaXRpb25hbFByb3BlcnRpZXMnO1xuICAgICAgICAgICRpdC5lcnJvclBhdGggPSBpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkgPyBpdC5lcnJvclBhdGggOiBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGtleSwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICAgIHZhciAkcGFzc0RhdGEgPSAkZGF0YSArICdbJyArICRrZXkgKyAnXSc7XG4gICAgICAgICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9ICRrZXk7XG4gICAgICAgICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAgICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICAgICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCEnICsgKCRuZXh0VmFsaWQpICsgJykgYnJlYWs7ICc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpdC5lcnJvclBhdGggPSAkY3VycmVudEVycm9yUGF0aDtcbiAgICB9XG4gICAgaWYgKCRzb21lUHJvcGVydGllcykge1xuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICAnO1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICB9XG4gIH1cbiAgdmFyICR1c2VEZWZhdWx0cyA9IGl0Lm9wdHMudXNlRGVmYXVsdHMgJiYgIWl0LmNvbXBvc2l0ZVJ1bGU7XG4gIGlmICgkc2NoZW1hS2V5cy5sZW5ndGgpIHtcbiAgICB2YXIgYXJyMyA9ICRzY2hlbWFLZXlzO1xuICAgIGlmIChhcnIzKSB7XG4gICAgICB2YXIgJHByb3BlcnR5S2V5LCBpMyA9IC0xLFxuICAgICAgICBsMyA9IGFycjMubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpMyA8IGwzKSB7XG4gICAgICAgICRwcm9wZXJ0eUtleSA9IGFycjNbaTMgKz0gMV07XG4gICAgICAgIHZhciAkc2NoID0gJHNjaGVtYVskcHJvcGVydHlLZXldO1xuICAgICAgICBpZiAoKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyB0eXBlb2YgJHNjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoKS5sZW5ndGggPiAwIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAgIHZhciAkcHJvcCA9IGl0LnV0aWwuZ2V0UHJvcGVydHkoJHByb3BlcnR5S2V5KSxcbiAgICAgICAgICAgICRwYXNzRGF0YSA9ICRkYXRhICsgJHByb3AsXG4gICAgICAgICAgICAkaGFzRGVmYXVsdCA9ICR1c2VEZWZhdWx0cyAmJiAkc2NoLmRlZmF1bHQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgJHByb3A7XG4gICAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArIGl0LnV0aWwuZXNjYXBlRnJhZ21lbnQoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoKGl0LmVycm9yUGF0aCwgJHByb3BlcnR5S2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9IGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICB2YXIgJGNvZGUgPSBpdC52YWxpZGF0ZSgkaXQpO1xuICAgICAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgICAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgICAgICAgJGNvZGUgPSBpdC51dGlsLnZhclJlcGxhY2UoJGNvZGUsICRuZXh0RGF0YSwgJHBhc3NEYXRhKTtcbiAgICAgICAgICAgIHZhciAkdXNlRGF0YSA9ICRwYXNzRGF0YTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyICR1c2VEYXRhID0gJG5leHREYXRhO1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJGhhc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoJHJlcXVpcmVkSGFzaCAmJiAkcmVxdWlyZWRIYXNoWyRwcm9wZXJ0eUtleV0pIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG91dCArPSAnKSB7ICcgKyAoJG5leHRWYWxpZCkgKyAnID0gZmFsc2U7ICc7XG4gICAgICAgICAgICAgIHZhciAkY3VycmVudEVycm9yUGF0aCA9IGl0LmVycm9yUGF0aCxcbiAgICAgICAgICAgICAgICAkY3VyckVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCxcbiAgICAgICAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aCgkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5S2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy9yZXF1aXJlZCc7XG4gICAgICAgICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgICAgICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgICAgICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnO1xuICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJGVyclNjaGVtYVBhdGggPSAkY3VyckVyclNjaGVtYVBhdGg7XG4gICAgICAgICAgICAgIGl0LmVycm9yUGF0aCA9ICRjdXJyZW50RXJyb3JQYXRoO1xuICAgICAgICAgICAgICBvdXQgKz0gJyB9IGVsc2UgeyAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyBpZiAoICcgKyAoJHVzZURhdGEpICsgJyA9PT0gdW5kZWZpbmVkICc7XG4gICAgICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJykgeyAnICsgKCRuZXh0VmFsaWQpICsgJyA9IHRydWU7IH0gZWxzZSB7ICc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJHVzZURhdGEpICsgJyAhPT0gdW5kZWZpbmVkICc7XG4gICAgICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyAmJiAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJyApIHsgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgJyArICgkY29kZSkgKyAnIH0gJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRwUHJvcGVydHlLZXlzLmxlbmd0aCkge1xuICAgIHZhciBhcnI0ID0gJHBQcm9wZXJ0eUtleXM7XG4gICAgaWYgKGFycjQpIHtcbiAgICAgIHZhciAkcFByb3BlcnR5LCBpNCA9IC0xLFxuICAgICAgICBsNCA9IGFycjQubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpNCA8IGw0KSB7XG4gICAgICAgICRwUHJvcGVydHkgPSBhcnI0W2k0ICs9IDFdO1xuICAgICAgICB2YXIgJHNjaCA9ICRwUHJvcGVydGllc1skcFByb3BlcnR5XTtcbiAgICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gdHlwZW9mICRzY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaCkubGVuZ3RoID4gMCA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaCwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLnBhdHRlcm5Qcm9wZXJ0aWVzJyArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJHBQcm9wZXJ0eSk7XG4gICAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy9wYXR0ZXJuUHJvcGVydGllcy8nICsgaXQudXRpbC5lc2NhcGVGcmFnbWVudCgkcFByb3BlcnR5KTtcbiAgICAgICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgPSAnICsgKCRkYXRhUHJvcGVydGllcykgKyAnIHx8IE9iamVjdC5rZXlzKCcgKyAoJGRhdGEpICsgJyk7IGZvciAodmFyICcgKyAoJGlkeCkgKyAnPTA7ICcgKyAoJGlkeCkgKyAnPCcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7IHZhciAnICsgKCRrZXkpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICdbJyArICgkaWR4KSArICddOyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBmb3IgKHZhciAnICsgKCRrZXkpICsgJyBpbiAnICsgKCRkYXRhKSArICcpIHsgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoaXQudXNlUGF0dGVybigkcFByb3BlcnR5KSkgKyAnLnRlc3QoJyArICgka2V5KSArICcpKSB7ICc7XG4gICAgICAgICAgJGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aEV4cHIoaXQuZXJyb3JQYXRoLCAka2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgdmFyICRwYXNzRGF0YSA9ICRkYXRhICsgJ1snICsgJGtleSArICddJztcbiAgICAgICAgICAkaXQuZGF0YVBhdGhBcnJbJGRhdGFOeHRdID0gJGtleTtcbiAgICAgICAgICB2YXIgJGNvZGUgPSBpdC52YWxpZGF0ZSgkaXQpO1xuICAgICAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgICAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgICAgICAgb3V0ICs9ICcgJyArIChpdC51dGlsLnZhclJlcGxhY2UoJGNvZGUsICRuZXh0RGF0YSwgJHBhc3NEYXRhKSkgKyAnICc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0RGF0YSkgKyAnID0gJyArICgkcGFzc0RhdGEpICsgJzsgJyArICgkY29kZSkgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSBicmVhazsgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBlbHNlICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgfSAgJztcbiAgICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgJyArICgkY2xvc2luZ0JyYWNlcykgKyAnIGlmICgnICsgKCRlcnJzKSArICcgPT0gZXJyb3JzKSB7JztcbiAgfVxuICBvdXQgPSBpdC51dGlsLmNsZWFuVXBDb2RlKG91dCk7XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3Byb3BlcnR5TmFtZXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsnO1xuICBpZiAoKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyB0eXBlb2YgJHNjaGVtYSA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoZW1hKS5sZW5ndGggPiAwIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoZW1hLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICRpdC5zY2hlbWEgPSAkc2NoZW1hO1xuICAgICRpdC5zY2hlbWFQYXRoID0gJHNjaGVtYVBhdGg7XG4gICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aDtcbiAgICB2YXIgJGtleSA9ICdrZXknICsgJGx2bCxcbiAgICAgICRpZHggPSAnaWR4JyArICRsdmwsXG4gICAgICAkaSA9ICdpJyArICRsdmwsXG4gICAgICAkaW52YWxpZE5hbWUgPSAnXFwnICsgJyArICRrZXkgKyAnICsgXFwnJyxcbiAgICAgICRkYXRhTnh0ID0gJGl0LmRhdGFMZXZlbCA9IGl0LmRhdGFMZXZlbCArIDEsXG4gICAgICAkbmV4dERhdGEgPSAnZGF0YScgKyAkZGF0YU54dCxcbiAgICAgICRkYXRhUHJvcGVydGllcyA9ICdkYXRhUHJvcGVydGllcycgKyAkbHZsLFxuICAgICAgJG93blByb3BlcnRpZXMgPSBpdC5vcHRzLm93blByb3BlcnRpZXMsXG4gICAgICAkY3VycmVudEJhc2VJZCA9IGl0LmJhc2VJZDtcbiAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgIG91dCArPSAnIHZhciAnICsgKCRkYXRhUHJvcGVydGllcykgKyAnID0gdW5kZWZpbmVkOyAnO1xuICAgIH1cbiAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgPSAnICsgKCRkYXRhUHJvcGVydGllcykgKyAnIHx8IE9iamVjdC5rZXlzKCcgKyAoJGRhdGEpICsgJyk7IGZvciAodmFyICcgKyAoJGlkeCkgKyAnPTA7ICcgKyAoJGlkeCkgKyAnPCcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7IHZhciAnICsgKCRrZXkpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICdbJyArICgkaWR4KSArICddOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyBmb3IgKHZhciAnICsgKCRrZXkpICsgJyBpbiAnICsgKCRkYXRhKSArICcpIHsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgdmFyIHN0YXJ0RXJycycgKyAoJGx2bCkgKyAnID0gZXJyb3JzOyAnO1xuICAgIHZhciAkcGFzc0RhdGEgPSAka2V5O1xuICAgIHZhciAkd2FzQ29tcG9zaXRlID0gaXQuY29tcG9zaXRlUnVsZTtcbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSB0cnVlO1xuICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICB9XG4gICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gJHdhc0NvbXBvc2l0ZTtcbiAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSB7IGZvciAodmFyICcgKyAoJGkpICsgJz1zdGFydEVycnMnICsgKCRsdmwpICsgJzsgJyArICgkaSkgKyAnPGVycm9yczsgJyArICgkaSkgKyAnKyspIHsgdkVycm9yc1snICsgKCRpKSArICddLnByb3BlcnR5TmFtZSA9ICcgKyAoJGtleSkgKyAnOyB9ICAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdwcm9wZXJ0eU5hbWVzJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBwcm9wZXJ0eU5hbWU6IFxcJycgKyAoJGludmFsaWROYW1lKSArICdcXCcgfSAnO1xuICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwncHJvcGVydHkgbmFtZSBcXFxcXFwnJyArICgkaW52YWxpZE5hbWUpICsgJ1xcXFxcXCcgaXMgaW52YWxpZFxcJyAnO1xuICAgICAgfVxuICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB7fSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHZFcnJvcnMpOyAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gdkVycm9yczsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgYnJlYWs7ICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gfSc7XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIG91dCA9IGl0LnV0aWwuY2xlYW5VcENvZGUob3V0KTtcbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfcmVxdWlyZWQoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgdmFyICR2U2NoZW1hID0gJ3NjaGVtYScgKyAkbHZsO1xuICBpZiAoISRpc0RhdGEpIHtcbiAgICBpZiAoJHNjaGVtYS5sZW5ndGggPCBpdC5vcHRzLmxvb3BSZXF1aXJlZCAmJiBpdC5zY2hlbWEucHJvcGVydGllcyAmJiBPYmplY3Qua2V5cyhpdC5zY2hlbWEucHJvcGVydGllcykubGVuZ3RoKSB7XG4gICAgICB2YXIgJHJlcXVpcmVkID0gW107XG4gICAgICB2YXIgYXJyMSA9ICRzY2hlbWE7XG4gICAgICBpZiAoYXJyMSkge1xuICAgICAgICB2YXIgJHByb3BlcnR5LCBpMSA9IC0xLFxuICAgICAgICAgIGwxID0gYXJyMS5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAoaTEgPCBsMSkge1xuICAgICAgICAgICRwcm9wZXJ0eSA9IGFycjFbaTEgKz0gMV07XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eVNjaCA9IGl0LnNjaGVtYS5wcm9wZXJ0aWVzWyRwcm9wZXJ0eV07XG4gICAgICAgICAgaWYgKCEoJHByb3BlcnR5U2NoICYmIChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gdHlwZW9mICRwcm9wZXJ0eVNjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkcHJvcGVydHlTY2gpLmxlbmd0aCA+IDAgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRwcm9wZXJ0eVNjaCwgaXQuUlVMRVMuYWxsKSkpKSB7XG4gICAgICAgICAgICAkcmVxdWlyZWRbJHJlcXVpcmVkLmxlbmd0aF0gPSAkcHJvcGVydHk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciAkcmVxdWlyZWQgPSAkc2NoZW1hO1xuICAgIH1cbiAgfVxuICBpZiAoJGlzRGF0YSB8fCAkcmVxdWlyZWQubGVuZ3RoKSB7XG4gICAgdmFyICRjdXJyZW50RXJyb3JQYXRoID0gaXQuZXJyb3JQYXRoLFxuICAgICAgJGxvb3BSZXF1aXJlZCA9ICRpc0RhdGEgfHwgJHJlcXVpcmVkLmxlbmd0aCA+PSBpdC5vcHRzLmxvb3BSZXF1aXJlZCxcbiAgICAgICRvd25Qcm9wZXJ0aWVzID0gaXQub3B0cy5vd25Qcm9wZXJ0aWVzO1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyB2YXIgbWlzc2luZycgKyAoJGx2bCkgKyAnOyAnO1xuICAgICAgaWYgKCRsb29wUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKCEkaXNEYXRhKSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJHZTY2hlbWEpICsgJyA9IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJzsgJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgJGkgPSAnaScgKyAkbHZsLFxuICAgICAgICAgICRwcm9wZXJ0eVBhdGggPSAnc2NoZW1hJyArICRsdmwgKyAnWycgKyAkaSArICddJyxcbiAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gJ1xcJyArICcgKyAkcHJvcGVydHlQYXRoICsgJyArIFxcJyc7XG4gICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICBpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKCRjdXJyZW50RXJyb3JQYXRoLCAkcHJvcGVydHlQYXRoLCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJHZhbGlkKSArICcgPSB0cnVlOyAnO1xuICAgICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICAgIG91dCArPSAnIGlmIChzY2hlbWEnICsgKCRsdmwpICsgJyA9PT0gdW5kZWZpbmVkKSAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hJyArICgkbHZsKSArICcpKSAnICsgKCR2YWxpZCkgKyAnID0gZmFsc2U7IGVsc2Ugeyc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgZm9yICh2YXIgJyArICgkaSkgKyAnID0gMDsgJyArICgkaSkgKyAnIDwgJyArICgkdlNjaGVtYSkgKyAnLmxlbmd0aDsgJyArICgkaSkgKyAnKyspIHsgJyArICgkdmFsaWQpICsgJyA9ICcgKyAoJGRhdGEpICsgJ1snICsgKCR2U2NoZW1hKSArICdbJyArICgkaSkgKyAnXV0gIT09IHVuZGVmaW5lZCAnO1xuICAgICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICBvdXQgKz0gJyAmJiAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsICcgKyAoJHZTY2hlbWEpICsgJ1snICsgKCRpKSArICddKSAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnOyBpZiAoIScgKyAoJHZhbGlkKSArICcpIGJyZWFrOyB9ICc7XG4gICAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgICAgb3V0ICs9ICcgIH0gICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgIGlmICghJyArICgkdmFsaWQpICsgJykgeyAgICc7XG4gICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnO1xuICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSBlbHNlIHsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIGlmICggJztcbiAgICAgICAgdmFyIGFycjIgPSAkcmVxdWlyZWQ7XG4gICAgICAgIGlmIChhcnIyKSB7XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eUtleSwgJGkgPSAtMSxcbiAgICAgICAgICAgIGwyID0gYXJyMi5sZW5ndGggLSAxO1xuICAgICAgICAgIHdoaWxlICgkaSA8IGwyKSB7XG4gICAgICAgICAgICAkcHJvcGVydHlLZXkgPSBhcnIyWyRpICs9IDFdO1xuICAgICAgICAgICAgaWYgKCRpKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgJHByb3AgPSBpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eUtleSksXG4gICAgICAgICAgICAgICR1c2VEYXRhID0gJGRhdGEgKyAkcHJvcDtcbiAgICAgICAgICAgIG91dCArPSAnICggKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICEgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHlLZXkpKSArICdcXCcpICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJykgJiYgKG1pc3NpbmcnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZyhpdC5vcHRzLmpzb25Qb2ludGVycyA/ICRwcm9wZXJ0eUtleSA6ICRwcm9wKSkgKyAnKSApICc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnKSB7ICAnO1xuICAgICAgICB2YXIgJHByb3BlcnR5UGF0aCA9ICdtaXNzaW5nJyArICRsdmwsXG4gICAgICAgICAgJG1pc3NpbmdQcm9wZXJ0eSA9ICdcXCcgKyAnICsgJHByb3BlcnR5UGF0aCArICcgKyBcXCcnO1xuICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgaXQuZXJyb3JQYXRoID0gaXQub3B0cy5qc29uUG9pbnRlcnMgPyBpdC51dGlsLmdldFBhdGhFeHByKCRjdXJyZW50RXJyb3JQYXRoLCAkcHJvcGVydHlQYXRoLCB0cnVlKSA6ICRjdXJyZW50RXJyb3JQYXRoICsgJyArICcgKyAkcHJvcGVydHlQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnO1xuICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSBlbHNlIHsgJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCRsb29wUmVxdWlyZWQpIHtcbiAgICAgICAgaWYgKCEkaXNEYXRhKSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJHZTY2hlbWEpICsgJyA9IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJzsgJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgJGkgPSAnaScgKyAkbHZsLFxuICAgICAgICAgICRwcm9wZXJ0eVBhdGggPSAnc2NoZW1hJyArICRsdmwgKyAnWycgKyAkaSArICddJyxcbiAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gJ1xcJyArICcgKyAkcHJvcGVydHlQYXRoICsgJyArIFxcJyc7XG4gICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICBpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKCRjdXJyZW50RXJyb3JQYXRoLCAkcHJvcGVydHlQYXRoLCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkdlNjaGVtYSkgKyAnICYmICFBcnJheS5pc0FycmF5KCcgKyAoJHZTY2hlbWEpICsgJykpIHsgIHZhciBlcnIgPSAgICc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJztcbiAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIG91dCArPSAnaXMgYSByZXF1aXJlZCBwcm9wZXJ0eSc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyB9IGVsc2UgaWYgKCcgKyAoJHZTY2hlbWEpICsgJyAhPT0gdW5kZWZpbmVkKSB7ICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgZm9yICh2YXIgJyArICgkaSkgKyAnID0gMDsgJyArICgkaSkgKyAnIDwgJyArICgkdlNjaGVtYSkgKyAnLmxlbmd0aDsgJyArICgkaSkgKyAnKyspIHsgaWYgKCcgKyAoJGRhdGEpICsgJ1snICsgKCR2U2NoZW1hKSArICdbJyArICgkaSkgKyAnXV0gPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsICcgKyAoJHZTY2hlbWEpICsgJ1snICsgKCRpKSArICddKSAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnKSB7ICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnO1xuICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7IH0gfSAnO1xuICAgICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICAgIG91dCArPSAnICB9ICAnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYXJyMyA9ICRyZXF1aXJlZDtcbiAgICAgICAgaWYgKGFycjMpIHtcbiAgICAgICAgICB2YXIgJHByb3BlcnR5S2V5LCBpMyA9IC0xLFxuICAgICAgICAgICAgbDMgPSBhcnIzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgd2hpbGUgKGkzIDwgbDMpIHtcbiAgICAgICAgICAgICRwcm9wZXJ0eUtleSA9IGFycjNbaTMgKz0gMV07XG4gICAgICAgICAgICB2YXIgJHByb3AgPSBpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eUtleSksXG4gICAgICAgICAgICAgICRtaXNzaW5nUHJvcGVydHkgPSBpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkdXNlRGF0YSA9ICRkYXRhICsgJHByb3A7XG4gICAgICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgICAgIGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aCgkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5S2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJyBpZiAoICcgKyAoJHVzZURhdGEpICsgJyA9PT0gdW5kZWZpbmVkICc7XG4gICAgICAgICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgfHwgISBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJyArICgkZGF0YSkgKyAnLCBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRwcm9wZXJ0eUtleSkpICsgJ1xcJykgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnKSB7ICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdyZXF1aXJlZCcpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgbWlzc2luZ1Byb3BlcnR5OiBcXCcnICsgKCRtaXNzaW5nUHJvcGVydHkpICsgJ1xcJyB9ICc7XG4gICAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJztcbiAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJ3Nob3VsZCBoYXZlIHJlcXVpcmVkIHByb3BlcnR5IFxcXFxcXCcnICsgKCRtaXNzaW5nUHJvcGVydHkpICsgJ1xcXFxcXCcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyB9ICc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGl0LmVycm9yUGF0aCA9ICRjdXJyZW50RXJyb3JQYXRoO1xuICB9IGVsc2UgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBpZiAodHJ1ZSkgeyc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfdW5pcXVlSXRlbXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgaWYgKCgkc2NoZW1hIHx8ICRpc0RhdGEpICYmIGl0Lm9wdHMudW5pcXVlSXRlbXMgIT09IGZhbHNlKSB7XG4gICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgIG91dCArPSAnIHZhciAnICsgKCR2YWxpZCkgKyAnOyBpZiAoJyArICgkc2NoZW1hVmFsdWUpICsgJyA9PT0gZmFsc2UgfHwgJyArICgkc2NoZW1hVmFsdWUpICsgJyA9PT0gdW5kZWZpbmVkKSAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgZWxzZSBpZiAodHlwZW9mICcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT0gXFwnYm9vbGVhblxcJykgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBlbHNlIHsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgdmFyIGkgPSAnICsgKCRkYXRhKSArICcubGVuZ3RoICwgJyArICgkdmFsaWQpICsgJyA9IHRydWUgLCBqOyBpZiAoaSA+IDEpIHsgJztcbiAgICB2YXIgJGl0ZW1UeXBlID0gaXQuc2NoZW1hLml0ZW1zICYmIGl0LnNjaGVtYS5pdGVtcy50eXBlLFxuICAgICAgJHR5cGVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSgkaXRlbVR5cGUpO1xuICAgIGlmICghJGl0ZW1UeXBlIHx8ICRpdGVtVHlwZSA9PSAnb2JqZWN0JyB8fCAkaXRlbVR5cGUgPT0gJ2FycmF5JyB8fCAoJHR5cGVJc0FycmF5ICYmICgkaXRlbVR5cGUuaW5kZXhPZignb2JqZWN0JykgPj0gMCB8fCAkaXRlbVR5cGUuaW5kZXhPZignYXJyYXknKSA+PSAwKSkpIHtcbiAgICAgIG91dCArPSAnIG91dGVyOiBmb3IgKDtpLS07KSB7IGZvciAoaiA9IGk7IGotLTspIHsgaWYgKGVxdWFsKCcgKyAoJGRhdGEpICsgJ1tpXSwgJyArICgkZGF0YSkgKyAnW2pdKSkgeyAnICsgKCR2YWxpZCkgKyAnID0gZmFsc2U7IGJyZWFrIG91dGVyOyB9IH0gfSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgaXRlbUluZGljZXMgPSB7fSwgaXRlbTsgZm9yICg7aS0tOykgeyB2YXIgaXRlbSA9ICcgKyAoJGRhdGEpICsgJ1tpXTsgJztcbiAgICAgIHZhciAkbWV0aG9kID0gJ2NoZWNrRGF0YVR5cGUnICsgKCR0eXBlSXNBcnJheSA/ICdzJyA6ICcnKTtcbiAgICAgIG91dCArPSAnIGlmICgnICsgKGl0LnV0aWxbJG1ldGhvZF0oJGl0ZW1UeXBlLCAnaXRlbScsIHRydWUpKSArICcpIGNvbnRpbnVlOyAnO1xuICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICBvdXQgKz0gJyBpZiAodHlwZW9mIGl0ZW0gPT0gXFwnc3RyaW5nXFwnKSBpdGVtID0gXFwnXCJcXCcgKyBpdGVtOyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgaWYgKHR5cGVvZiBpdGVtSW5kaWNlc1tpdGVtXSA9PSBcXCdudW1iZXJcXCcpIHsgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBqID0gaXRlbUluZGljZXNbaXRlbV07IGJyZWFrOyB9IGl0ZW1JbmRpY2VzW2l0ZW1dID0gaTsgfSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgIG91dCArPSAnICB9ICAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICAnO1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCd1bmlxdWVJdGVtcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgaTogaSwgajogaiB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgTk9UIGhhdmUgZHVwbGljYXRlIGl0ZW1zIChpdGVtcyAjIyBcXCcgKyBqICsgXFwnIGFuZCBcXCcgKyBpICsgXFwnIGFyZSBpZGVudGljYWwpXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB7fSAnO1xuICAgIH1cbiAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBpZiAodHJ1ZSkgeyAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vL2FsbCByZXF1aXJlcyBtdXN0IGJlIGV4cGxpY2l0IGJlY2F1c2UgYnJvd3NlcmlmeSB3b24ndCB3b3JrIHdpdGggZHluYW1pYyByZXF1aXJlc1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICckcmVmJzogcmVxdWlyZSgnLi9yZWYnKSxcbiAgYWxsT2Y6IHJlcXVpcmUoJy4vYWxsT2YnKSxcbiAgYW55T2Y6IHJlcXVpcmUoJy4vYW55T2YnKSxcbiAgJyRjb21tZW50JzogcmVxdWlyZSgnLi9jb21tZW50JyksXG4gIGNvbnN0OiByZXF1aXJlKCcuL2NvbnN0JyksXG4gIGNvbnRhaW5zOiByZXF1aXJlKCcuL2NvbnRhaW5zJyksXG4gIGRlcGVuZGVuY2llczogcmVxdWlyZSgnLi9kZXBlbmRlbmNpZXMnKSxcbiAgJ2VudW0nOiByZXF1aXJlKCcuL2VudW0nKSxcbiAgZm9ybWF0OiByZXF1aXJlKCcuL2Zvcm1hdCcpLFxuICAnaWYnOiByZXF1aXJlKCcuL2lmJyksXG4gIGl0ZW1zOiByZXF1aXJlKCcuL2l0ZW1zJyksXG4gIG1heGltdW06IHJlcXVpcmUoJy4vX2xpbWl0JyksXG4gIG1pbmltdW06IHJlcXVpcmUoJy4vX2xpbWl0JyksXG4gIG1heEl0ZW1zOiByZXF1aXJlKCcuL19saW1pdEl0ZW1zJyksXG4gIG1pbkl0ZW1zOiByZXF1aXJlKCcuL19saW1pdEl0ZW1zJyksXG4gIG1heExlbmd0aDogcmVxdWlyZSgnLi9fbGltaXRMZW5ndGgnKSxcbiAgbWluTGVuZ3RoOiByZXF1aXJlKCcuL19saW1pdExlbmd0aCcpLFxuICBtYXhQcm9wZXJ0aWVzOiByZXF1aXJlKCcuL19saW1pdFByb3BlcnRpZXMnKSxcbiAgbWluUHJvcGVydGllczogcmVxdWlyZSgnLi9fbGltaXRQcm9wZXJ0aWVzJyksXG4gIG11bHRpcGxlT2Y6IHJlcXVpcmUoJy4vbXVsdGlwbGVPZicpLFxuICBub3Q6IHJlcXVpcmUoJy4vbm90JyksXG4gIG9uZU9mOiByZXF1aXJlKCcuL29uZU9mJyksXG4gIHBhdHRlcm46IHJlcXVpcmUoJy4vcGF0dGVybicpLFxuICBwcm9wZXJ0aWVzOiByZXF1aXJlKCcuL3Byb3BlcnRpZXMnKSxcbiAgcHJvcGVydHlOYW1lczogcmVxdWlyZSgnLi9wcm9wZXJ0eU5hbWVzJyksXG4gIHJlcXVpcmVkOiByZXF1aXJlKCcuL3JlcXVpcmVkJyksXG4gIHVuaXF1ZUl0ZW1zOiByZXF1aXJlKCcuL3VuaXF1ZUl0ZW1zJyksXG4gIHZhbGlkYXRlOiByZXF1aXJlKCcuL3ZhbGlkYXRlJylcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBydWxlTW9kdWxlcyA9IHJlcXVpcmUoJy4uL2RvdGpzJylcbiAgLCB0b0hhc2ggPSByZXF1aXJlKCcuL3V0aWwnKS50b0hhc2g7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcnVsZXMoKSB7XG4gIHZhciBSVUxFUyA9IFtcbiAgICB7IHR5cGU6ICdudW1iZXInLFxuICAgICAgcnVsZXM6IFsgeyAnbWF4aW11bSc6IFsnZXhjbHVzaXZlTWF4aW11bSddIH0sXG4gICAgICAgICAgICAgICB7ICdtaW5pbXVtJzogWydleGNsdXNpdmVNaW5pbXVtJ10gfSwgJ211bHRpcGxlT2YnLCAnZm9ybWF0J10gfSxcbiAgICB7IHR5cGU6ICdzdHJpbmcnLFxuICAgICAgcnVsZXM6IFsgJ21heExlbmd0aCcsICdtaW5MZW5ndGgnLCAncGF0dGVybicsICdmb3JtYXQnIF0gfSxcbiAgICB7IHR5cGU6ICdhcnJheScsXG4gICAgICBydWxlczogWyAnbWF4SXRlbXMnLCAnbWluSXRlbXMnLCAnaXRlbXMnLCAnY29udGFpbnMnLCAndW5pcXVlSXRlbXMnIF0gfSxcbiAgICB7IHR5cGU6ICdvYmplY3QnLFxuICAgICAgcnVsZXM6IFsgJ21heFByb3BlcnRpZXMnLCAnbWluUHJvcGVydGllcycsICdyZXF1aXJlZCcsICdkZXBlbmRlbmNpZXMnLCAncHJvcGVydHlOYW1lcycsXG4gICAgICAgICAgICAgICB7ICdwcm9wZXJ0aWVzJzogWydhZGRpdGlvbmFsUHJvcGVydGllcycsICdwYXR0ZXJuUHJvcGVydGllcyddIH0gXSB9LFxuICAgIHsgcnVsZXM6IFsgJyRyZWYnLCAnY29uc3QnLCAnZW51bScsICdub3QnLCAnYW55T2YnLCAnb25lT2YnLCAnYWxsT2YnLCAnaWYnIF0gfVxuICBdO1xuXG4gIHZhciBBTEwgPSBbICd0eXBlJywgJyRjb21tZW50JyBdO1xuICB2YXIgS0VZV09SRFMgPSBbXG4gICAgJyRzY2hlbWEnLCAnJGlkJywgJ2lkJywgJyRkYXRhJywgJyRhc3luYycsICd0aXRsZScsXG4gICAgJ2Rlc2NyaXB0aW9uJywgJ2RlZmF1bHQnLCAnZGVmaW5pdGlvbnMnLFxuICAgICdleGFtcGxlcycsICdyZWFkT25seScsICd3cml0ZU9ubHknLFxuICAgICdjb250ZW50TWVkaWFUeXBlJywgJ2NvbnRlbnRFbmNvZGluZycsXG4gICAgJ2FkZGl0aW9uYWxJdGVtcycsICd0aGVuJywgJ2Vsc2UnXG4gIF07XG4gIHZhciBUWVBFUyA9IFsgJ251bWJlcicsICdpbnRlZ2VyJywgJ3N0cmluZycsICdhcnJheScsICdvYmplY3QnLCAnYm9vbGVhbicsICdudWxsJyBdO1xuICBSVUxFUy5hbGwgPSB0b0hhc2goQUxMKTtcbiAgUlVMRVMudHlwZXMgPSB0b0hhc2goVFlQRVMpO1xuXG4gIFJVTEVTLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgZ3JvdXAucnVsZXMgPSBncm91cC5ydWxlcy5tYXAoZnVuY3Rpb24gKGtleXdvcmQpIHtcbiAgICAgIHZhciBpbXBsS2V5d29yZHM7XG4gICAgICBpZiAodHlwZW9mIGtleXdvcmQgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGtleSA9IE9iamVjdC5rZXlzKGtleXdvcmQpWzBdO1xuICAgICAgICBpbXBsS2V5d29yZHMgPSBrZXl3b3JkW2tleV07XG4gICAgICAgIGtleXdvcmQgPSBrZXk7XG4gICAgICAgIGltcGxLZXl3b3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgQUxMLnB1c2goayk7XG4gICAgICAgICAgUlVMRVMuYWxsW2tdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBBTEwucHVzaChrZXl3b3JkKTtcbiAgICAgIHZhciBydWxlID0gUlVMRVMuYWxsW2tleXdvcmRdID0ge1xuICAgICAgICBrZXl3b3JkOiBrZXl3b3JkLFxuICAgICAgICBjb2RlOiBydWxlTW9kdWxlc1trZXl3b3JkXSxcbiAgICAgICAgaW1wbGVtZW50czogaW1wbEtleXdvcmRzXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfSk7XG5cbiAgICBSVUxFUy5hbGwuJGNvbW1lbnQgPSB7XG4gICAgICBrZXl3b3JkOiAnJGNvbW1lbnQnLFxuICAgICAgY29kZTogcnVsZU1vZHVsZXMuJGNvbW1lbnRcbiAgICB9O1xuXG4gICAgaWYgKGdyb3VwLnR5cGUpIFJVTEVTLnR5cGVzW2dyb3VwLnR5cGVdID0gZ3JvdXA7XG4gIH0pO1xuXG4gIFJVTEVTLmtleXdvcmRzID0gdG9IYXNoKEFMTC5jb25jYXQoS0VZV09SRFMpKTtcbiAgUlVMRVMuY3VzdG9tID0ge307XG5cbiAgcmV0dXJuIFJVTEVTO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEtFWVdPUkRTID0gW1xuICAnbXVsdGlwbGVPZicsXG4gICdtYXhpbXVtJyxcbiAgJ2V4Y2x1c2l2ZU1heGltdW0nLFxuICAnbWluaW11bScsXG4gICdleGNsdXNpdmVNaW5pbXVtJyxcbiAgJ21heExlbmd0aCcsXG4gICdtaW5MZW5ndGgnLFxuICAncGF0dGVybicsXG4gICdhZGRpdGlvbmFsSXRlbXMnLFxuICAnbWF4SXRlbXMnLFxuICAnbWluSXRlbXMnLFxuICAndW5pcXVlSXRlbXMnLFxuICAnbWF4UHJvcGVydGllcycsXG4gICdtaW5Qcm9wZXJ0aWVzJyxcbiAgJ3JlcXVpcmVkJyxcbiAgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyxcbiAgJ2VudW0nLFxuICAnZm9ybWF0JyxcbiAgJ2NvbnN0J1xuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWV0YVNjaGVtYSwga2V5d29yZHNKc29uUG9pbnRlcnMpIHtcbiAgZm9yICh2YXIgaT0wOyBpPGtleXdvcmRzSnNvblBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgbWV0YVNjaGVtYSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWV0YVNjaGVtYSkpO1xuICAgIHZhciBzZWdtZW50cyA9IGtleXdvcmRzSnNvblBvaW50ZXJzW2ldLnNwbGl0KCcvJyk7XG4gICAgdmFyIGtleXdvcmRzID0gbWV0YVNjaGVtYTtcbiAgICB2YXIgajtcbiAgICBmb3IgKGo9MTsgajxzZWdtZW50cy5sZW5ndGg7IGorKylcbiAgICAgIGtleXdvcmRzID0ga2V5d29yZHNbc2VnbWVudHNbal1dO1xuXG4gICAgZm9yIChqPTA7IGo8S0VZV09SRFMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBrZXkgPSBLRVlXT1JEU1tqXTtcbiAgICAgIHZhciBzY2hlbWEgPSBrZXl3b3Jkc1trZXldO1xuICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICBrZXl3b3Jkc1trZXldID0ge1xuICAgICAgICAgIGFueU9mOiBbXG4gICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICB7ICRyZWY6ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZXBvYmVyZXpraW4vYWp2L21hc3Rlci9saWIvcmVmcy9kYXRhLmpzb24jJyB9XG4gICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtZXRhU2NoZW1hO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIE1pc3NpbmdSZWZFcnJvciA9IHJlcXVpcmUoJy4vZXJyb3JfY2xhc3NlcycpLk1pc3NpbmdSZWY7XG5cbm1vZHVsZS5leHBvcnRzID0gY29tcGlsZUFzeW5jO1xuXG5cbi8qKlxuICogQ3JlYXRlcyB2YWxpZGF0aW5nIGZ1bmN0aW9uIGZvciBwYXNzZWQgc2NoZW1hIHdpdGggYXN5bmNocm9ub3VzIGxvYWRpbmcgb2YgbWlzc2luZyBzY2hlbWFzLlxuICogYGxvYWRTY2hlbWFgIG9wdGlvbiBzaG91bGQgYmUgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgc2NoZW1hIHVyaSBhbmQgcmV0dXJucyBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgc2NoZW1hLlxuICogQHRoaXMgIEFqdlxuICogQHBhcmFtIHtPYmplY3R9ICAgc2NoZW1hIHNjaGVtYSBvYmplY3RcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gIG1ldGEgb3B0aW9uYWwgdHJ1ZSB0byBjb21waWxlIG1ldGEtc2NoZW1hOyB0aGlzIHBhcmFtZXRlciBjYW4gYmUgc2tpcHBlZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYW4gb3B0aW9uYWwgbm9kZS1zdHlsZSBjYWxsYmFjaywgaXQgaXMgY2FsbGVkIHdpdGggMiBwYXJhbWV0ZXJzOiBlcnJvciAob3IgbnVsbCkgYW5kIHZhbGlkYXRpbmcgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCBhIHZhbGlkYXRpbmcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVBc3luYyhzY2hlbWEsIG1ldGEsIGNhbGxiYWNrKSB7XG4gIC8qIGVzbGludCBuby1zaGFkb3c6IDAgKi9cbiAgLyogZ2xvYmFsIFByb21pc2UgKi9cbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICh0eXBlb2YgdGhpcy5fb3B0cy5sb2FkU2NoZW1hICE9ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdvcHRpb25zLmxvYWRTY2hlbWEgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAodHlwZW9mIG1ldGEgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gbWV0YTtcbiAgICBtZXRhID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgdmFyIHAgPSBsb2FkTWV0YVNjaGVtYU9mKHNjaGVtYSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjaGVtYU9iaiA9IHNlbGYuX2FkZFNjaGVtYShzY2hlbWEsIHVuZGVmaW5lZCwgbWV0YSk7XG4gICAgcmV0dXJuIHNjaGVtYU9iai52YWxpZGF0ZSB8fCBfY29tcGlsZUFzeW5jKHNjaGVtYU9iaik7XG4gIH0pO1xuXG4gIGlmIChjYWxsYmFjaykge1xuICAgIHAudGhlbihcbiAgICAgIGZ1bmN0aW9uKHYpIHsgY2FsbGJhY2sobnVsbCwgdik7IH0sXG4gICAgICBjYWxsYmFja1xuICAgICk7XG4gIH1cblxuICByZXR1cm4gcDtcblxuXG4gIGZ1bmN0aW9uIGxvYWRNZXRhU2NoZW1hT2Yoc2NoKSB7XG4gICAgdmFyICRzY2hlbWEgPSBzY2guJHNjaGVtYTtcbiAgICByZXR1cm4gJHNjaGVtYSAmJiAhc2VsZi5nZXRTY2hlbWEoJHNjaGVtYSlcbiAgICAgICAgICAgID8gY29tcGlsZUFzeW5jLmNhbGwoc2VsZiwgeyAkcmVmOiAkc2NoZW1hIH0sIHRydWUpXG4gICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cblxuICBmdW5jdGlvbiBfY29tcGlsZUFzeW5jKHNjaGVtYU9iaikge1xuICAgIHRyeSB7IHJldHVybiBzZWxmLl9jb21waWxlKHNjaGVtYU9iaik7IH1cbiAgICBjYXRjaChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIE1pc3NpbmdSZWZFcnJvcikgcmV0dXJuIGxvYWRNaXNzaW5nU2NoZW1hKGUpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGxvYWRNaXNzaW5nU2NoZW1hKGUpIHtcbiAgICAgIHZhciByZWYgPSBlLm1pc3NpbmdTY2hlbWE7XG4gICAgICBpZiAoYWRkZWQocmVmKSkgdGhyb3cgbmV3IEVycm9yKCdTY2hlbWEgJyArIHJlZiArICcgaXMgbG9hZGVkIGJ1dCAnICsgZS5taXNzaW5nUmVmICsgJyBjYW5ub3QgYmUgcmVzb2x2ZWQnKTtcblxuICAgICAgdmFyIHNjaGVtYVByb21pc2UgPSBzZWxmLl9sb2FkaW5nU2NoZW1hc1tyZWZdO1xuICAgICAgaWYgKCFzY2hlbWFQcm9taXNlKSB7XG4gICAgICAgIHNjaGVtYVByb21pc2UgPSBzZWxmLl9sb2FkaW5nU2NoZW1hc1tyZWZdID0gc2VsZi5fb3B0cy5sb2FkU2NoZW1hKHJlZik7XG4gICAgICAgIHNjaGVtYVByb21pc2UudGhlbihyZW1vdmVQcm9taXNlLCByZW1vdmVQcm9taXNlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNjaGVtYVByb21pc2UudGhlbihmdW5jdGlvbiAoc2NoKSB7XG4gICAgICAgIGlmICghYWRkZWQocmVmKSkge1xuICAgICAgICAgIHJldHVybiBsb2FkTWV0YVNjaGVtYU9mKHNjaCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIWFkZGVkKHJlZikpIHNlbGYuYWRkU2NoZW1hKHNjaCwgcmVmLCB1bmRlZmluZWQsIG1ldGEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX2NvbXBpbGVBc3luYyhzY2hlbWFPYmopO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVByb21pc2UoKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmLl9sb2FkaW5nU2NoZW1hc1tyZWZdO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhZGRlZChyZWYpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuX3JlZnNbcmVmXSB8fCBzZWxmLl9zY2hlbWFzW3JlZl07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2N1c3RvbShpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGVycm9yS2V5d29yZDtcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsO1xuICB2YXIgJGVycnMgPSAnZXJyc19fJyArICRsdmw7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICB2YXIgJHJ1bGUgPSB0aGlzLFxuICAgICRkZWZpbml0aW9uID0gJ2RlZmluaXRpb24nICsgJGx2bCxcbiAgICAkckRlZiA9ICRydWxlLmRlZmluaXRpb24sXG4gICAgJGNsb3NpbmdCcmFjZXMgPSAnJztcbiAgdmFyICRjb21waWxlLCAkaW5saW5lLCAkbWFjcm8sICRydWxlVmFsaWRhdGUsICR2YWxpZGF0ZUNvZGU7XG4gIGlmICgkaXNEYXRhICYmICRyRGVmLiRkYXRhKSB7XG4gICAgJHZhbGlkYXRlQ29kZSA9ICdrZXl3b3JkVmFsaWRhdGUnICsgJGx2bDtcbiAgICB2YXIgJHZhbGlkYXRlU2NoZW1hID0gJHJEZWYudmFsaWRhdGVTY2hlbWE7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJGRlZmluaXRpb24pICsgJyA9IFJVTEVTLmN1c3RvbVtcXCcnICsgKCRrZXl3b3JkKSArICdcXCddLmRlZmluaXRpb247IHZhciAnICsgKCR2YWxpZGF0ZUNvZGUpICsgJyA9ICcgKyAoJGRlZmluaXRpb24pICsgJy52YWxpZGF0ZTsnO1xuICB9IGVsc2Uge1xuICAgICRydWxlVmFsaWRhdGUgPSBpdC51c2VDdXN0b21SdWxlKCRydWxlLCAkc2NoZW1hLCBpdC5zY2hlbWEsIGl0KTtcbiAgICBpZiAoISRydWxlVmFsaWRhdGUpIHJldHVybjtcbiAgICAkc2NoZW1hVmFsdWUgPSAndmFsaWRhdGUuc2NoZW1hJyArICRzY2hlbWFQYXRoO1xuICAgICR2YWxpZGF0ZUNvZGUgPSAkcnVsZVZhbGlkYXRlLmNvZGU7XG4gICAgJGNvbXBpbGUgPSAkckRlZi5jb21waWxlO1xuICAgICRpbmxpbmUgPSAkckRlZi5pbmxpbmU7XG4gICAgJG1hY3JvID0gJHJEZWYubWFjcm87XG4gIH1cbiAgdmFyICRydWxlRXJycyA9ICR2YWxpZGF0ZUNvZGUgKyAnLmVycm9ycycsXG4gICAgJGkgPSAnaScgKyAkbHZsLFxuICAgICRydWxlRXJyID0gJ3J1bGVFcnInICsgJGx2bCxcbiAgICAkYXN5bmNLZXl3b3JkID0gJHJEZWYuYXN5bmM7XG4gIGlmICgkYXN5bmNLZXl3b3JkICYmICFpdC5hc3luYykgdGhyb3cgbmV3IEVycm9yKCdhc3luYyBrZXl3b3JkIGluIHN5bmMgc2NoZW1hJyk7XG4gIGlmICghKCRpbmxpbmUgfHwgJG1hY3JvKSkge1xuICAgIG91dCArPSAnJyArICgkcnVsZUVycnMpICsgJyA9IG51bGw7JztcbiAgfVxuICBvdXQgKz0gJ3ZhciAnICsgKCRlcnJzKSArICcgPSBlcnJvcnM7dmFyICcgKyAoJHZhbGlkKSArICc7JztcbiAgaWYgKCRpc0RhdGEgJiYgJHJEZWYuJGRhdGEpIHtcbiAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgb3V0ICs9ICcgaWYgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgPT09IHVuZGVmaW5lZCkgeyAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgfSBlbHNlIHsgJztcbiAgICBpZiAoJHZhbGlkYXRlU2NoZW1hKSB7XG4gICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkZGVmaW5pdGlvbikgKyAnLnZhbGlkYXRlU2NoZW1hKCcgKyAoJHNjaGVtYVZhbHVlKSArICcpOyBpZiAoJyArICgkdmFsaWQpICsgJykgeyAnO1xuICAgIH1cbiAgfVxuICBpZiAoJGlubGluZSkge1xuICAgIGlmICgkckRlZi5zdGF0ZW1lbnRzKSB7XG4gICAgICBvdXQgKz0gJyAnICsgKCRydWxlVmFsaWRhdGUudmFsaWRhdGUpICsgJyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkcnVsZVZhbGlkYXRlLnZhbGlkYXRlKSArICc7ICc7XG4gICAgfVxuICB9IGVsc2UgaWYgKCRtYWNybykge1xuICAgIHZhciAkaXQgPSBpdC51dGlsLmNvcHkoaXQpO1xuICAgIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAgICRpdC5sZXZlbCsrO1xuICAgIHZhciAkbmV4dFZhbGlkID0gJ3ZhbGlkJyArICRpdC5sZXZlbDtcbiAgICAkaXQuc2NoZW1hID0gJHJ1bGVWYWxpZGF0ZS52YWxpZGF0ZTtcbiAgICAkaXQuc2NoZW1hUGF0aCA9ICcnO1xuICAgIHZhciAkd2FzQ29tcG9zaXRlID0gaXQuY29tcG9zaXRlUnVsZTtcbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSB0cnVlO1xuICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCkucmVwbGFjZSgvdmFsaWRhdGVcXC5zY2hlbWEvZywgJHZhbGlkYXRlQ29kZSk7XG4gICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gJHdhc0NvbXBvc2l0ZTtcbiAgICBvdXQgKz0gJyAnICsgKCRjb2RlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgb3V0ID0gJyc7XG4gICAgb3V0ICs9ICcgICcgKyAoJHZhbGlkYXRlQ29kZSkgKyAnLmNhbGwoICc7XG4gICAgaWYgKGl0Lm9wdHMucGFzc0NvbnRleHQpIHtcbiAgICAgIG91dCArPSAndGhpcyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnc2VsZic7XG4gICAgfVxuICAgIGlmICgkY29tcGlsZSB8fCAkckRlZi5zY2hlbWEgPT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyAsICcgKyAoJHNjaGVtYVZhbHVlKSArICcgLCAnICsgKCRkYXRhKSArICcgLCB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyAsIChkYXRhUGF0aCB8fCBcXCdcXCcpJztcbiAgICBpZiAoaXQuZXJyb3JQYXRoICE9ICdcIlwiJykge1xuICAgICAgb3V0ICs9ICcgKyAnICsgKGl0LmVycm9yUGF0aCk7XG4gICAgfVxuICAgIHZhciAkcGFyZW50RGF0YSA9ICRkYXRhTHZsID8gJ2RhdGEnICsgKCgkZGF0YUx2bCAtIDEpIHx8ICcnKSA6ICdwYXJlbnREYXRhJyxcbiAgICAgICRwYXJlbnREYXRhUHJvcGVydHkgPSAkZGF0YUx2bCA/IGl0LmRhdGFQYXRoQXJyWyRkYXRhTHZsXSA6ICdwYXJlbnREYXRhUHJvcGVydHknO1xuICAgIG91dCArPSAnICwgJyArICgkcGFyZW50RGF0YSkgKyAnICwgJyArICgkcGFyZW50RGF0YVByb3BlcnR5KSArICcgLCByb290RGF0YSApICAnO1xuICAgIHZhciBkZWZfY2FsbFJ1bGVWYWxpZGF0ZSA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICgkckRlZi5lcnJvcnMgPT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJztcbiAgICAgIGlmICgkYXN5bmNLZXl3b3JkKSB7XG4gICAgICAgIG91dCArPSAnYXdhaXQgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnJyArIChkZWZfY2FsbFJ1bGVWYWxpZGF0ZSkgKyAnOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJGFzeW5jS2V5d29yZCkge1xuICAgICAgICAkcnVsZUVycnMgPSAnY3VzdG9tRXJyb3JzJyArICRsdmw7XG4gICAgICAgIG91dCArPSAnIHZhciAnICsgKCRydWxlRXJycykgKyAnID0gbnVsbDsgdHJ5IHsgJyArICgkdmFsaWQpICsgJyA9IGF3YWl0ICcgKyAoZGVmX2NhbGxSdWxlVmFsaWRhdGUpICsgJzsgfSBjYXRjaCAoZSkgeyAnICsgKCR2YWxpZCkgKyAnID0gZmFsc2U7IGlmIChlIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSAnICsgKCRydWxlRXJycykgKyAnID0gZS5lcnJvcnM7IGVsc2UgdGhyb3cgZTsgfSAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgJyArICgkcnVsZUVycnMpICsgJyA9IG51bGw7ICcgKyAoJHZhbGlkKSArICcgPSAnICsgKGRlZl9jYWxsUnVsZVZhbGlkYXRlKSArICc7ICc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICgkckRlZi5tb2RpZnlpbmcpIHtcbiAgICBvdXQgKz0gJyBpZiAoJyArICgkcGFyZW50RGF0YSkgKyAnKSAnICsgKCRkYXRhKSArICcgPSAnICsgKCRwYXJlbnREYXRhKSArICdbJyArICgkcGFyZW50RGF0YVByb3BlcnR5KSArICddOyc7XG4gIH1cbiAgb3V0ICs9ICcnICsgKCRjbG9zaW5nQnJhY2VzKTtcbiAgaWYgKCRyRGVmLnZhbGlkKSB7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIGlmICggJztcbiAgICBpZiAoJHJEZWYudmFsaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3V0ICs9ICcgISc7XG4gICAgICBpZiAoJG1hY3JvKSB7XG4gICAgICAgIG91dCArPSAnJyArICgkbmV4dFZhbGlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArICgkdmFsaWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyAnICsgKCEkckRlZi52YWxpZCkgKyAnICc7XG4gICAgfVxuICAgIG91dCArPSAnKSB7ICc7XG4gICAgJGVycm9yS2V5d29yZCA9ICRydWxlLmtleXdvcmQ7XG4gICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgIG91dCA9ICcnO1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ2N1c3RvbScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsga2V5d29yZDogXFwnJyArICgkcnVsZS5rZXl3b3JkKSArICdcXCcgfSAnO1xuICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIHBhc3MgXCInICsgKCRydWxlLmtleXdvcmQpICsgJ1wiIGtleXdvcmQgdmFsaWRhdGlvblxcJyAnO1xuICAgICAgfVxuICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB7fSAnO1xuICAgIH1cbiAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgfVxuICAgIHZhciBkZWZfY3VzdG9tRXJyb3IgPSBvdXQ7XG4gICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICBpZiAoJGlubGluZSkge1xuICAgICAgaWYgKCRyRGVmLmVycm9ycykge1xuICAgICAgICBpZiAoJHJEZWYuZXJyb3JzICE9ICdmdWxsJykge1xuICAgICAgICAgIG91dCArPSAnICBmb3IgKHZhciAnICsgKCRpKSArICc9JyArICgkZXJycykgKyAnOyAnICsgKCRpKSArICc8ZXJyb3JzOyAnICsgKCRpKSArICcrKykgeyB2YXIgJyArICgkcnVsZUVycikgKyAnID0gdkVycm9yc1snICsgKCRpKSArICddOyBpZiAoJyArICgkcnVsZUVycikgKyAnLmRhdGFQYXRoID09PSB1bmRlZmluZWQpICcgKyAoJHJ1bGVFcnIpICsgJy5kYXRhUGF0aCA9IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJzsgaWYgKCcgKyAoJHJ1bGVFcnIpICsgJy5zY2hlbWFQYXRoID09PSB1bmRlZmluZWQpIHsgJyArICgkcnVsZUVycikgKyAnLnNjaGVtYVBhdGggPSBcIicgKyAoJGVyclNjaGVtYVBhdGgpICsgJ1wiOyB9ICc7XG4gICAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgJyArICgkcnVsZUVycikgKyAnLnNjaGVtYSA9ICcgKyAoJHNjaGVtYVZhbHVlKSArICc7ICcgKyAoJHJ1bGVFcnIpICsgJy5kYXRhID0gJyArICgkZGF0YSkgKyAnOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgkckRlZi5lcnJvcnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgJyArIChkZWZfY3VzdG9tRXJyb3IpICsgJyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRlcnJzKSArICcgPT0gZXJyb3JzKSB7ICcgKyAoZGVmX2N1c3RvbUVycm9yKSArICcgfSBlbHNlIHsgIGZvciAodmFyICcgKyAoJGkpICsgJz0nICsgKCRlcnJzKSArICc7ICcgKyAoJGkpICsgJzxlcnJvcnM7ICcgKyAoJGkpICsgJysrKSB7IHZhciAnICsgKCRydWxlRXJyKSArICcgPSB2RXJyb3JzWycgKyAoJGkpICsgJ107IGlmICgnICsgKCRydWxlRXJyKSArICcuZGF0YVBhdGggPT09IHVuZGVmaW5lZCkgJyArICgkcnVsZUVycikgKyAnLmRhdGFQYXRoID0gKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnOyBpZiAoJyArICgkcnVsZUVycikgKyAnLnNjaGVtYVBhdGggPT09IHVuZGVmaW5lZCkgeyAnICsgKCRydWxlRXJyKSArICcuc2NoZW1hUGF0aCA9IFwiJyArICgkZXJyU2NoZW1hUGF0aCkgKyAnXCI7IH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKCRydWxlRXJyKSArICcuc2NoZW1hID0gJyArICgkc2NoZW1hVmFsdWUpICsgJzsgJyArICgkcnVsZUVycikgKyAnLmRhdGEgPSAnICsgKCRkYXRhKSArICc7ICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gfSAnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgkbWFjcm8pIHtcbiAgICAgIG91dCArPSAnICAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgkZXJyb3JLZXl3b3JkIHx8ICdjdXN0b20nKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGtleXdvcmQ6IFxcJycgKyAoJHJ1bGUua2V5d29yZCkgKyAnXFwnIH0gJztcbiAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgcGFzcyBcIicgKyAoJHJ1bGUua2V5d29yZCkgKyAnXCIga2V5d29yZCB2YWxpZGF0aW9uXFwnICc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih2RXJyb3JzKTsgJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSB2RXJyb3JzOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCRyRGVmLmVycm9ycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgJyArIChkZWZfY3VzdG9tRXJyb3IpICsgJyAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgaWYgKEFycmF5LmlzQXJyYXkoJyArICgkcnVsZUVycnMpICsgJykpIHsgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSAnICsgKCRydWxlRXJycykgKyAnOyBlbHNlIHZFcnJvcnMgPSB2RXJyb3JzLmNvbmNhdCgnICsgKCRydWxlRXJycykgKyAnKTsgZXJyb3JzID0gdkVycm9ycy5sZW5ndGg7ICBmb3IgKHZhciAnICsgKCRpKSArICc9JyArICgkZXJycykgKyAnOyAnICsgKCRpKSArICc8ZXJyb3JzOyAnICsgKCRpKSArICcrKykgeyB2YXIgJyArICgkcnVsZUVycikgKyAnID0gdkVycm9yc1snICsgKCRpKSArICddOyBpZiAoJyArICgkcnVsZUVycikgKyAnLmRhdGFQYXRoID09PSB1bmRlZmluZWQpICcgKyAoJHJ1bGVFcnIpICsgJy5kYXRhUGF0aCA9IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJzsgICcgKyAoJHJ1bGVFcnIpICsgJy5zY2hlbWFQYXRoID0gXCInICsgKCRlcnJTY2hlbWFQYXRoKSArICdcIjsgICc7XG4gICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyAnICsgKCRydWxlRXJyKSArICcuc2NoZW1hID0gJyArICgkc2NoZW1hVmFsdWUpICsgJzsgJyArICgkcnVsZUVycikgKyAnLmRhdGEgPSAnICsgKCRkYXRhKSArICc7ICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSB9IGVsc2UgeyAnICsgKGRlZl9jdXN0b21FcnJvcikgKyAnIH0gJztcbiAgICAgIH1cbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIG1ldGFTY2hlbWEgPSByZXF1aXJlKCcuL3JlZnMvanNvbi1zY2hlbWEtZHJhZnQtMDcuanNvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgJGlkOiAnaHR0cHM6Ly9naXRodWIuY29tL2Vwb2JlcmV6a2luL2Fqdi9ibG9iL21hc3Rlci9saWIvZGVmaW5pdGlvbl9zY2hlbWEuanMnLFxuICBkZWZpbml0aW9uczoge1xuICAgIHNpbXBsZVR5cGVzOiBtZXRhU2NoZW1hLmRlZmluaXRpb25zLnNpbXBsZVR5cGVzXG4gIH0sXG4gIHR5cGU6ICdvYmplY3QnLFxuICBkZXBlbmRlbmNpZXM6IHtcbiAgICBzY2hlbWE6IFsndmFsaWRhdGUnXSxcbiAgICAkZGF0YTogWyd2YWxpZGF0ZSddLFxuICAgIHN0YXRlbWVudHM6IFsnaW5saW5lJ10sXG4gICAgdmFsaWQ6IHtub3Q6IHtyZXF1aXJlZDogWydtYWNybyddfX1cbiAgfSxcbiAgcHJvcGVydGllczoge1xuICAgIHR5cGU6IG1ldGFTY2hlbWEucHJvcGVydGllcy50eXBlLFxuICAgIHNjaGVtYToge3R5cGU6ICdib29sZWFuJ30sXG4gICAgc3RhdGVtZW50czoge3R5cGU6ICdib29sZWFuJ30sXG4gICAgZGVwZW5kZW5jaWVzOiB7XG4gICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgaXRlbXM6IHt0eXBlOiAnc3RyaW5nJ31cbiAgICB9LFxuICAgIG1ldGFTY2hlbWE6IHt0eXBlOiAnb2JqZWN0J30sXG4gICAgbW9kaWZ5aW5nOiB7dHlwZTogJ2Jvb2xlYW4nfSxcbiAgICB2YWxpZDoge3R5cGU6ICdib29sZWFuJ30sXG4gICAgJGRhdGE6IHt0eXBlOiAnYm9vbGVhbid9LFxuICAgIGFzeW5jOiB7dHlwZTogJ2Jvb2xlYW4nfSxcbiAgICBlcnJvcnM6IHtcbiAgICAgIGFueU9mOiBbXG4gICAgICAgIHt0eXBlOiAnYm9vbGVhbid9LFxuICAgICAgICB7Y29uc3Q6ICdmdWxsJ31cbiAgICAgIF1cbiAgICB9XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBJREVOVElGSUVSID0gL15bYS16XyRdW2EtejAtOV8kLV0qJC9pO1xudmFyIGN1c3RvbVJ1bGVDb2RlID0gcmVxdWlyZSgnLi9kb3Rqcy9jdXN0b20nKTtcbnZhciBkZWZpbml0aW9uU2NoZW1hID0gcmVxdWlyZSgnLi9kZWZpbml0aW9uX3NjaGVtYScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYWRkOiBhZGRLZXl3b3JkLFxuICBnZXQ6IGdldEtleXdvcmQsXG4gIHJlbW92ZTogcmVtb3ZlS2V5d29yZCxcbiAgdmFsaWRhdGU6IHZhbGlkYXRlS2V5d29yZFxufTtcblxuXG4vKipcbiAqIERlZmluZSBjdXN0b20ga2V5d29yZFxuICogQHRoaXMgIEFqdlxuICogQHBhcmFtIHtTdHJpbmd9IGtleXdvcmQgY3VzdG9tIGtleXdvcmQsIHNob3VsZCBiZSB1bmlxdWUgKGluY2x1ZGluZyBkaWZmZXJlbnQgZnJvbSBhbGwgc3RhbmRhcmQsIGN1c3RvbSBhbmQgbWFjcm8ga2V5d29yZHMpLlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmluaXRpb24ga2V5d29yZCBkZWZpbml0aW9uIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgYHR5cGVgICh0eXBlKHMpIHdoaWNoIHRoZSBrZXl3b3JkIGFwcGxpZXMgdG8pLCBgdmFsaWRhdGVgIG9yIGBjb21waWxlYC5cbiAqIEByZXR1cm4ge0Fqdn0gdGhpcyBmb3IgbWV0aG9kIGNoYWluaW5nXG4gKi9cbmZ1bmN0aW9uIGFkZEtleXdvcmQoa2V5d29yZCwgZGVmaW5pdGlvbikge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIC8qIGVzbGludCBuby1zaGFkb3c6IDAgKi9cbiAgdmFyIFJVTEVTID0gdGhpcy5SVUxFUztcbiAgaWYgKFJVTEVTLmtleXdvcmRzW2tleXdvcmRdKVxuICAgIHRocm93IG5ldyBFcnJvcignS2V5d29yZCAnICsga2V5d29yZCArICcgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG5cbiAgaWYgKCFJREVOVElGSUVSLnRlc3Qoa2V5d29yZCkpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdLZXl3b3JkICcgKyBrZXl3b3JkICsgJyBpcyBub3QgYSB2YWxpZCBpZGVudGlmaWVyJyk7XG5cbiAgaWYgKGRlZmluaXRpb24pIHtcbiAgICB0aGlzLnZhbGlkYXRlS2V5d29yZChkZWZpbml0aW9uLCB0cnVlKTtcblxuICAgIHZhciBkYXRhVHlwZSA9IGRlZmluaXRpb24udHlwZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhVHlwZSkpIHtcbiAgICAgIGZvciAodmFyIGk9MDsgaTxkYXRhVHlwZS5sZW5ndGg7IGkrKylcbiAgICAgICAgX2FkZFJ1bGUoa2V5d29yZCwgZGF0YVR5cGVbaV0sIGRlZmluaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBfYWRkUnVsZShrZXl3b3JkLCBkYXRhVHlwZSwgZGVmaW5pdGlvbik7XG4gICAgfVxuXG4gICAgdmFyIG1ldGFTY2hlbWEgPSBkZWZpbml0aW9uLm1ldGFTY2hlbWE7XG4gICAgaWYgKG1ldGFTY2hlbWEpIHtcbiAgICAgIGlmIChkZWZpbml0aW9uLiRkYXRhICYmIHRoaXMuX29wdHMuJGRhdGEpIHtcbiAgICAgICAgbWV0YVNjaGVtYSA9IHtcbiAgICAgICAgICBhbnlPZjogW1xuICAgICAgICAgICAgbWV0YVNjaGVtYSxcbiAgICAgICAgICAgIHsgJyRyZWYnOiAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2Vwb2JlcmV6a2luL2Fqdi9tYXN0ZXIvbGliL3JlZnMvZGF0YS5qc29uIycgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRlZmluaXRpb24udmFsaWRhdGVTY2hlbWEgPSB0aGlzLmNvbXBpbGUobWV0YVNjaGVtYSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgUlVMRVMua2V5d29yZHNba2V5d29yZF0gPSBSVUxFUy5hbGxba2V5d29yZF0gPSB0cnVlO1xuXG5cbiAgZnVuY3Rpb24gX2FkZFJ1bGUoa2V5d29yZCwgZGF0YVR5cGUsIGRlZmluaXRpb24pIHtcbiAgICB2YXIgcnVsZUdyb3VwO1xuICAgIGZvciAodmFyIGk9MDsgaTxSVUxFUy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJnID0gUlVMRVNbaV07XG4gICAgICBpZiAocmcudHlwZSA9PSBkYXRhVHlwZSkge1xuICAgICAgICBydWxlR3JvdXAgPSByZztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFydWxlR3JvdXApIHtcbiAgICAgIHJ1bGVHcm91cCA9IHsgdHlwZTogZGF0YVR5cGUsIHJ1bGVzOiBbXSB9O1xuICAgICAgUlVMRVMucHVzaChydWxlR3JvdXApO1xuICAgIH1cblxuICAgIHZhciBydWxlID0ge1xuICAgICAga2V5d29yZDoga2V5d29yZCxcbiAgICAgIGRlZmluaXRpb246IGRlZmluaXRpb24sXG4gICAgICBjdXN0b206IHRydWUsXG4gICAgICBjb2RlOiBjdXN0b21SdWxlQ29kZSxcbiAgICAgIGltcGxlbWVudHM6IGRlZmluaXRpb24uaW1wbGVtZW50c1xuICAgIH07XG4gICAgcnVsZUdyb3VwLnJ1bGVzLnB1c2gocnVsZSk7XG4gICAgUlVMRVMuY3VzdG9tW2tleXdvcmRdID0gcnVsZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5cbi8qKlxuICogR2V0IGtleXdvcmRcbiAqIEB0aGlzICBBanZcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXl3b3JkIHByZS1kZWZpbmVkIG9yIGN1c3RvbSBrZXl3b3JkLlxuICogQHJldHVybiB7T2JqZWN0fEJvb2xlYW59IGN1c3RvbSBrZXl3b3JkIGRlZmluaXRpb24sIGB0cnVlYCBpZiBpdCBpcyBhIHByZWRlZmluZWQga2V5d29yZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGdldEtleXdvcmQoa2V5d29yZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBydWxlID0gdGhpcy5SVUxFUy5jdXN0b21ba2V5d29yZF07XG4gIHJldHVybiBydWxlID8gcnVsZS5kZWZpbml0aW9uIDogdGhpcy5SVUxFUy5rZXl3b3Jkc1trZXl3b3JkXSB8fCBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZSBrZXl3b3JkXG4gKiBAdGhpcyAgQWp2XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5d29yZCBwcmUtZGVmaW5lZCBvciBjdXN0b20ga2V5d29yZC5cbiAqIEByZXR1cm4ge0Fqdn0gdGhpcyBmb3IgbWV0aG9kIGNoYWluaW5nXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUtleXdvcmQoa2V5d29yZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBSVUxFUyA9IHRoaXMuUlVMRVM7XG4gIGRlbGV0ZSBSVUxFUy5rZXl3b3Jkc1trZXl3b3JkXTtcbiAgZGVsZXRlIFJVTEVTLmFsbFtrZXl3b3JkXTtcbiAgZGVsZXRlIFJVTEVTLmN1c3RvbVtrZXl3b3JkXTtcbiAgZm9yICh2YXIgaT0wOyBpPFJVTEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJ1bGVzID0gUlVMRVNbaV0ucnVsZXM7XG4gICAgZm9yICh2YXIgaj0wOyBqPHJ1bGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAocnVsZXNbal0ua2V5d29yZCA9PSBrZXl3b3JkKSB7XG4gICAgICAgIHJ1bGVzLnNwbGljZShqLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbi8qKlxuICogVmFsaWRhdGUga2V5d29yZCBkZWZpbml0aW9uXG4gKiBAdGhpcyAgQWp2XG4gKiBAcGFyYW0ge09iamVjdH0gZGVmaW5pdGlvbiBrZXl3b3JkIGRlZmluaXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtCb29sZWFufSB0aHJvd0Vycm9yIHRydWUgdG8gdGhyb3cgZXhjZXB0aW9uIGlmIGRlZmluaXRpb24gaXMgaW52YWxpZFxuICogQHJldHVybiB7Ym9vbGVhbn0gdmFsaWRhdGlvbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVLZXl3b3JkKGRlZmluaXRpb24sIHRocm93RXJyb3IpIHtcbiAgdmFsaWRhdGVLZXl3b3JkLmVycm9ycyA9IG51bGw7XG4gIHZhciB2ID0gdGhpcy5fdmFsaWRhdGVLZXl3b3JkID0gdGhpcy5fdmFsaWRhdGVLZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5jb21waWxlKGRlZmluaXRpb25TY2hlbWEsIHRydWUpO1xuXG4gIGlmICh2KGRlZmluaXRpb24pKSByZXR1cm4gdHJ1ZTtcbiAgdmFsaWRhdGVLZXl3b3JkLmVycm9ycyA9IHYuZXJyb3JzO1xuICBpZiAodGhyb3dFcnJvcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2N1c3RvbSBrZXl3b3JkIGRlZmluaXRpb24gaXMgaW52YWxpZDogJyAgKyB0aGlzLmVycm9yc1RleHQodi5lcnJvcnMpKTtcbiAgZWxzZVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbXBpbGVTY2hlbWEgPSByZXF1aXJlKCcuL2NvbXBpbGUnKVxuICAsIHJlc29sdmUgPSByZXF1aXJlKCcuL2NvbXBpbGUvcmVzb2x2ZScpXG4gICwgQ2FjaGUgPSByZXF1aXJlKCcuL2NhY2hlJylcbiAgLCBTY2hlbWFPYmplY3QgPSByZXF1aXJlKCcuL2NvbXBpbGUvc2NoZW1hX29iaicpXG4gICwgc3RhYmxlU3RyaW5naWZ5ID0gcmVxdWlyZSgnZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnknKVxuICAsIGZvcm1hdHMgPSByZXF1aXJlKCcuL2NvbXBpbGUvZm9ybWF0cycpXG4gICwgcnVsZXMgPSByZXF1aXJlKCcuL2NvbXBpbGUvcnVsZXMnKVxuICAsICRkYXRhTWV0YVNjaGVtYSA9IHJlcXVpcmUoJy4vZGF0YScpXG4gICwgdXRpbCA9IHJlcXVpcmUoJy4vY29tcGlsZS91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQWp2O1xuXG5BanYucHJvdG90eXBlLnZhbGlkYXRlID0gdmFsaWRhdGU7XG5BanYucHJvdG90eXBlLmNvbXBpbGUgPSBjb21waWxlO1xuQWp2LnByb3RvdHlwZS5hZGRTY2hlbWEgPSBhZGRTY2hlbWE7XG5BanYucHJvdG90eXBlLmFkZE1ldGFTY2hlbWEgPSBhZGRNZXRhU2NoZW1hO1xuQWp2LnByb3RvdHlwZS52YWxpZGF0ZVNjaGVtYSA9IHZhbGlkYXRlU2NoZW1hO1xuQWp2LnByb3RvdHlwZS5nZXRTY2hlbWEgPSBnZXRTY2hlbWE7XG5BanYucHJvdG90eXBlLnJlbW92ZVNjaGVtYSA9IHJlbW92ZVNjaGVtYTtcbkFqdi5wcm90b3R5cGUuYWRkRm9ybWF0ID0gYWRkRm9ybWF0O1xuQWp2LnByb3RvdHlwZS5lcnJvcnNUZXh0ID0gZXJyb3JzVGV4dDtcblxuQWp2LnByb3RvdHlwZS5fYWRkU2NoZW1hID0gX2FkZFNjaGVtYTtcbkFqdi5wcm90b3R5cGUuX2NvbXBpbGUgPSBfY29tcGlsZTtcblxuQWp2LnByb3RvdHlwZS5jb21waWxlQXN5bmMgPSByZXF1aXJlKCcuL2NvbXBpbGUvYXN5bmMnKTtcbnZhciBjdXN0b21LZXl3b3JkID0gcmVxdWlyZSgnLi9rZXl3b3JkJyk7XG5BanYucHJvdG90eXBlLmFkZEtleXdvcmQgPSBjdXN0b21LZXl3b3JkLmFkZDtcbkFqdi5wcm90b3R5cGUuZ2V0S2V5d29yZCA9IGN1c3RvbUtleXdvcmQuZ2V0O1xuQWp2LnByb3RvdHlwZS5yZW1vdmVLZXl3b3JkID0gY3VzdG9tS2V5d29yZC5yZW1vdmU7XG5BanYucHJvdG90eXBlLnZhbGlkYXRlS2V5d29yZCA9IGN1c3RvbUtleXdvcmQudmFsaWRhdGU7XG5cbnZhciBlcnJvckNsYXNzZXMgPSByZXF1aXJlKCcuL2NvbXBpbGUvZXJyb3JfY2xhc3NlcycpO1xuQWp2LlZhbGlkYXRpb25FcnJvciA9IGVycm9yQ2xhc3Nlcy5WYWxpZGF0aW9uO1xuQWp2Lk1pc3NpbmdSZWZFcnJvciA9IGVycm9yQ2xhc3Nlcy5NaXNzaW5nUmVmO1xuQWp2LiRkYXRhTWV0YVNjaGVtYSA9ICRkYXRhTWV0YVNjaGVtYTtcblxudmFyIE1FVEFfU0NIRU1BX0lEID0gJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hJztcblxudmFyIE1FVEFfSUdOT1JFX09QVElPTlMgPSBbICdyZW1vdmVBZGRpdGlvbmFsJywgJ3VzZURlZmF1bHRzJywgJ2NvZXJjZVR5cGVzJywgJ3N0cmljdERlZmF1bHRzJyBdO1xudmFyIE1FVEFfU1VQUE9SVF9EQVRBID0gWycvcHJvcGVydGllcyddO1xuXG4vKipcbiAqIENyZWF0ZXMgdmFsaWRhdG9yIGluc3RhbmNlLlxuICogVXNhZ2U6IGBBanYob3B0cylgXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBvcHRpb25hbCBvcHRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFqdiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBanYob3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWp2KSkgcmV0dXJuIG5ldyBBanYob3B0cyk7XG4gIG9wdHMgPSB0aGlzLl9vcHRzID0gdXRpbC5jb3B5KG9wdHMpIHx8IHt9O1xuICBzZXRMb2dnZXIodGhpcyk7XG4gIHRoaXMuX3NjaGVtYXMgPSB7fTtcbiAgdGhpcy5fcmVmcyA9IHt9O1xuICB0aGlzLl9mcmFnbWVudHMgPSB7fTtcbiAgdGhpcy5fZm9ybWF0cyA9IGZvcm1hdHMob3B0cy5mb3JtYXQpO1xuXG4gIHRoaXMuX2NhY2hlID0gb3B0cy5jYWNoZSB8fCBuZXcgQ2FjaGU7XG4gIHRoaXMuX2xvYWRpbmdTY2hlbWFzID0ge307XG4gIHRoaXMuX2NvbXBpbGF0aW9ucyA9IFtdO1xuICB0aGlzLlJVTEVTID0gcnVsZXMoKTtcbiAgdGhpcy5fZ2V0SWQgPSBjaG9vc2VHZXRJZChvcHRzKTtcblxuICBvcHRzLmxvb3BSZXF1aXJlZCA9IG9wdHMubG9vcFJlcXVpcmVkIHx8IEluZmluaXR5O1xuICBpZiAob3B0cy5lcnJvckRhdGFQYXRoID09ICdwcm9wZXJ0eScpIG9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSA9IHRydWU7XG4gIGlmIChvcHRzLnNlcmlhbGl6ZSA9PT0gdW5kZWZpbmVkKSBvcHRzLnNlcmlhbGl6ZSA9IHN0YWJsZVN0cmluZ2lmeTtcbiAgdGhpcy5fbWV0YU9wdHMgPSBnZXRNZXRhU2NoZW1hT3B0aW9ucyh0aGlzKTtcblxuICBpZiAob3B0cy5mb3JtYXRzKSBhZGRJbml0aWFsRm9ybWF0cyh0aGlzKTtcbiAgaWYgKG9wdHMua2V5d29yZHMpIGFkZEluaXRpYWxLZXl3b3Jkcyh0aGlzKTtcbiAgYWRkRGVmYXVsdE1ldGFTY2hlbWEodGhpcyk7XG4gIGlmICh0eXBlb2Ygb3B0cy5tZXRhID09ICdvYmplY3QnKSB0aGlzLmFkZE1ldGFTY2hlbWEob3B0cy5tZXRhKTtcbiAgaWYgKG9wdHMubnVsbGFibGUpIHRoaXMuYWRkS2V5d29yZCgnbnVsbGFibGUnLCB7bWV0YVNjaGVtYToge3R5cGU6ICdib29sZWFuJ319KTtcbiAgYWRkSW5pdGlhbFNjaGVtYXModGhpcyk7XG59XG5cblxuXG4vKipcbiAqIFZhbGlkYXRlIGRhdGEgdXNpbmcgc2NoZW1hXG4gKiBTY2hlbWEgd2lsbCBiZSBjb21waWxlZCBhbmQgY2FjaGVkICh1c2luZyBzZXJpYWxpemVkIEpTT04gYXMga2V5LiBbZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnldKGh0dHBzOi8vZ2l0aHViLmNvbS9lcG9iZXJlemtpbi9mYXN0LWpzb24tc3RhYmxlLXN0cmluZ2lmeSkgaXMgdXNlZCB0byBzZXJpYWxpemUuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7U3RyaW5nfE9iamVjdH0gc2NoZW1hS2V5UmVmIGtleSwgcmVmIG9yIHNjaGVtYSBvYmplY3RcbiAqIEBwYXJhbSAge0FueX0gZGF0YSB0byBiZSB2YWxpZGF0ZWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHZhbGlkYXRpb24gcmVzdWx0LiBFcnJvcnMgZnJvbSB0aGUgbGFzdCB2YWxpZGF0aW9uIHdpbGwgYmUgYXZhaWxhYmxlIGluIGBhanYuZXJyb3JzYCAoYW5kIGFsc28gaW4gY29tcGlsZWQgc2NoZW1hOiBgc2NoZW1hLmVycm9yc2ApLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZShzY2hlbWFLZXlSZWYsIGRhdGEpIHtcbiAgdmFyIHY7XG4gIGlmICh0eXBlb2Ygc2NoZW1hS2V5UmVmID09ICdzdHJpbmcnKSB7XG4gICAgdiA9IHRoaXMuZ2V0U2NoZW1hKHNjaGVtYUtleVJlZik7XG4gICAgaWYgKCF2KSB0aHJvdyBuZXcgRXJyb3IoJ25vIHNjaGVtYSB3aXRoIGtleSBvciByZWYgXCInICsgc2NoZW1hS2V5UmVmICsgJ1wiJyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNjaGVtYU9iaiA9IHRoaXMuX2FkZFNjaGVtYShzY2hlbWFLZXlSZWYpO1xuICAgIHYgPSBzY2hlbWFPYmoudmFsaWRhdGUgfHwgdGhpcy5fY29tcGlsZShzY2hlbWFPYmopO1xuICB9XG5cbiAgdmFyIHZhbGlkID0gdihkYXRhKTtcbiAgaWYgKHYuJGFzeW5jICE9PSB0cnVlKSB0aGlzLmVycm9ycyA9IHYuZXJyb3JzO1xuICByZXR1cm4gdmFsaWQ7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgdmFsaWRhdGluZyBmdW5jdGlvbiBmb3IgcGFzc2VkIHNjaGVtYS5cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtPYmplY3R9IHNjaGVtYSBzY2hlbWEgb2JqZWN0XG4gKiBAcGFyYW0gIHtCb29sZWFufSBfbWV0YSB0cnVlIGlmIHNjaGVtYSBpcyBhIG1ldGEtc2NoZW1hLiBVc2VkIGludGVybmFsbHkgdG8gY29tcGlsZSBtZXRhIHNjaGVtYXMgb2YgY3VzdG9tIGtleXdvcmRzLlxuICogQHJldHVybiB7RnVuY3Rpb259IHZhbGlkYXRpbmcgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY29tcGlsZShzY2hlbWEsIF9tZXRhKSB7XG4gIHZhciBzY2hlbWFPYmogPSB0aGlzLl9hZGRTY2hlbWEoc2NoZW1hLCB1bmRlZmluZWQsIF9tZXRhKTtcbiAgcmV0dXJuIHNjaGVtYU9iai52YWxpZGF0ZSB8fCB0aGlzLl9jb21waWxlKHNjaGVtYU9iaik7XG59XG5cblxuLyoqXG4gKiBBZGRzIHNjaGVtYSB0byB0aGUgaW5zdGFuY2UuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IHNjaGVtYSBzY2hlbWEgb3IgYXJyYXkgb2Ygc2NoZW1hcy4gSWYgYXJyYXkgaXMgcGFzc2VkLCBga2V5YCBhbmQgb3RoZXIgcGFyYW1ldGVycyB3aWxsIGJlIGlnbm9yZWQuXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IE9wdGlvbmFsIHNjaGVtYSBrZXkuIENhbiBiZSBwYXNzZWQgdG8gYHZhbGlkYXRlYCBtZXRob2QgaW5zdGVhZCBvZiBzY2hlbWEgb2JqZWN0IG9yIGlkL3JlZi4gT25lIHNjaGVtYSBwZXIgaW5zdGFuY2UgY2FuIGhhdmUgZW1wdHkgYGlkYCBhbmQgYGtleWAuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IF9za2lwVmFsaWRhdGlvbiB0cnVlIHRvIHNraXAgc2NoZW1hIHZhbGlkYXRpb24uIFVzZWQgaW50ZXJuYWxseSwgb3B0aW9uIHZhbGlkYXRlU2NoZW1hIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IF9tZXRhIHRydWUgaWYgc2NoZW1hIGlzIGEgbWV0YS1zY2hlbWEuIFVzZWQgaW50ZXJuYWxseSwgYWRkTWV0YVNjaGVtYSBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuICogQHJldHVybiB7QWp2fSB0aGlzIGZvciBtZXRob2QgY2hhaW5pbmdcbiAqL1xuZnVuY3Rpb24gYWRkU2NoZW1hKHNjaGVtYSwga2V5LCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpe1xuICAgIGZvciAodmFyIGk9MDsgaTxzY2hlbWEubGVuZ3RoOyBpKyspIHRoaXMuYWRkU2NoZW1hKHNjaGVtYVtpXSwgdW5kZWZpbmVkLCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgaWQgPSB0aGlzLl9nZXRJZChzY2hlbWEpO1xuICBpZiAoaWQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgaWQgIT0gJ3N0cmluZycpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdzY2hlbWEgaWQgbXVzdCBiZSBzdHJpbmcnKTtcbiAga2V5ID0gcmVzb2x2ZS5ub3JtYWxpemVJZChrZXkgfHwgaWQpO1xuICBjaGVja1VuaXF1ZSh0aGlzLCBrZXkpO1xuICB0aGlzLl9zY2hlbWFzW2tleV0gPSB0aGlzLl9hZGRTY2hlbWEoc2NoZW1hLCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhLCB0cnVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cblxuLyoqXG4gKiBBZGQgc2NoZW1hIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHZhbGlkYXRlIG90aGVyIHNjaGVtYXNcbiAqIG9wdGlvbnMgaW4gTUVUQV9JR05PUkVfT1BUSU9OUyBhcmUgYWx3YXkgc2V0IHRvIGZhbHNlXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtIHtPYmplY3R9IHNjaGVtYSBzY2hlbWEgb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IG9wdGlvbmFsIHNjaGVtYSBrZXlcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcFZhbGlkYXRpb24gdHJ1ZSB0byBza2lwIHNjaGVtYSB2YWxpZGF0aW9uLCBjYW4gYmUgdXNlZCB0byBvdmVycmlkZSB2YWxpZGF0ZVNjaGVtYSBvcHRpb24gZm9yIG1ldGEtc2NoZW1hXG4gKiBAcmV0dXJuIHtBanZ9IHRoaXMgZm9yIG1ldGhvZCBjaGFpbmluZ1xuICovXG5mdW5jdGlvbiBhZGRNZXRhU2NoZW1hKHNjaGVtYSwga2V5LCBza2lwVmFsaWRhdGlvbikge1xuICB0aGlzLmFkZFNjaGVtYShzY2hlbWEsIGtleSwgc2tpcFZhbGlkYXRpb24sIHRydWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG4vKipcbiAqIFZhbGlkYXRlIHNjaGVtYVxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSB7T2JqZWN0fSBzY2hlbWEgc2NoZW1hIHRvIHZhbGlkYXRlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHRocm93T3JMb2dFcnJvciBwYXNzIHRydWUgdG8gdGhyb3cgKG9yIGxvZykgYW4gZXJyb3IgaWYgaW52YWxpZFxuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzY2hlbWEgaXMgdmFsaWRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVTY2hlbWEoc2NoZW1hLCB0aHJvd09yTG9nRXJyb3IpIHtcbiAgdmFyICRzY2hlbWEgPSBzY2hlbWEuJHNjaGVtYTtcbiAgaWYgKCRzY2hlbWEgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJHNjaGVtYSAhPSAnc3RyaW5nJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJyRzY2hlbWEgbXVzdCBiZSBhIHN0cmluZycpO1xuICAkc2NoZW1hID0gJHNjaGVtYSB8fCB0aGlzLl9vcHRzLmRlZmF1bHRNZXRhIHx8IGRlZmF1bHRNZXRhKHRoaXMpO1xuICBpZiAoISRzY2hlbWEpIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCdtZXRhLXNjaGVtYSBub3QgYXZhaWxhYmxlJyk7XG4gICAgdGhpcy5lcnJvcnMgPSBudWxsO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciB2YWxpZCA9IHRoaXMudmFsaWRhdGUoJHNjaGVtYSwgc2NoZW1hKTtcbiAgaWYgKCF2YWxpZCAmJiB0aHJvd09yTG9nRXJyb3IpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdzY2hlbWEgaXMgaW52YWxpZDogJyArIHRoaXMuZXJyb3JzVGV4dCgpO1xuICAgIGlmICh0aGlzLl9vcHRzLnZhbGlkYXRlU2NoZW1hID09ICdsb2cnKSB0aGlzLmxvZ2dlci5lcnJvcihtZXNzYWdlKTtcbiAgICBlbHNlIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gdmFsaWQ7XG59XG5cblxuZnVuY3Rpb24gZGVmYXVsdE1ldGEoc2VsZikge1xuICB2YXIgbWV0YSA9IHNlbGYuX29wdHMubWV0YTtcbiAgc2VsZi5fb3B0cy5kZWZhdWx0TWV0YSA9IHR5cGVvZiBtZXRhID09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxmLl9nZXRJZChtZXRhKSB8fCBtZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWxmLmdldFNjaGVtYShNRVRBX1NDSEVNQV9JRClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gTUVUQV9TQ0hFTUFfSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICByZXR1cm4gc2VsZi5fb3B0cy5kZWZhdWx0TWV0YTtcbn1cblxuXG4vKipcbiAqIEdldCBjb21waWxlZCBzY2hlbWEgZnJvbSB0aGUgaW5zdGFuY2UgYnkgYGtleWAgb3IgYHJlZmAuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7U3RyaW5nfSBrZXlSZWYgYGtleWAgdGhhdCB3YXMgcGFzc2VkIHRvIGBhZGRTY2hlbWFgIG9yIGZ1bGwgc2NoZW1hIHJlZmVyZW5jZSAoYHNjaGVtYS5pZGAgb3IgcmVzb2x2ZWQgaWQpLlxuICogQHJldHVybiB7RnVuY3Rpb259IHNjaGVtYSB2YWxpZGF0aW5nIGZ1bmN0aW9uICh3aXRoIHByb3BlcnR5IGBzY2hlbWFgKS5cbiAqL1xuZnVuY3Rpb24gZ2V0U2NoZW1hKGtleVJlZikge1xuICB2YXIgc2NoZW1hT2JqID0gX2dldFNjaGVtYU9iaih0aGlzLCBrZXlSZWYpO1xuICBzd2l0Y2ggKHR5cGVvZiBzY2hlbWFPYmopIHtcbiAgICBjYXNlICdvYmplY3QnOiByZXR1cm4gc2NoZW1hT2JqLnZhbGlkYXRlIHx8IHRoaXMuX2NvbXBpbGUoc2NoZW1hT2JqKTtcbiAgICBjYXNlICdzdHJpbmcnOiByZXR1cm4gdGhpcy5nZXRTY2hlbWEoc2NoZW1hT2JqKTtcbiAgICBjYXNlICd1bmRlZmluZWQnOiByZXR1cm4gX2dldFNjaGVtYUZyYWdtZW50KHRoaXMsIGtleVJlZik7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBfZ2V0U2NoZW1hRnJhZ21lbnQoc2VsZiwgcmVmKSB7XG4gIHZhciByZXMgPSByZXNvbHZlLnNjaGVtYS5jYWxsKHNlbGYsIHsgc2NoZW1hOiB7fSB9LCByZWYpO1xuICBpZiAocmVzKSB7XG4gICAgdmFyIHNjaGVtYSA9IHJlcy5zY2hlbWFcbiAgICAgICwgcm9vdCA9IHJlcy5yb290XG4gICAgICAsIGJhc2VJZCA9IHJlcy5iYXNlSWQ7XG4gICAgdmFyIHYgPSBjb21waWxlU2NoZW1hLmNhbGwoc2VsZiwgc2NoZW1hLCByb290LCB1bmRlZmluZWQsIGJhc2VJZCk7XG4gICAgc2VsZi5fZnJhZ21lbnRzW3JlZl0gPSBuZXcgU2NoZW1hT2JqZWN0KHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgZnJhZ21lbnQ6IHRydWUsXG4gICAgICBzY2hlbWE6IHNjaGVtYSxcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICBiYXNlSWQ6IGJhc2VJZCxcbiAgICAgIHZhbGlkYXRlOiB2XG4gICAgfSk7XG4gICAgcmV0dXJuIHY7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBfZ2V0U2NoZW1hT2JqKHNlbGYsIGtleVJlZikge1xuICBrZXlSZWYgPSByZXNvbHZlLm5vcm1hbGl6ZUlkKGtleVJlZik7XG4gIHJldHVybiBzZWxmLl9zY2hlbWFzW2tleVJlZl0gfHwgc2VsZi5fcmVmc1trZXlSZWZdIHx8IHNlbGYuX2ZyYWdtZW50c1trZXlSZWZdO1xufVxuXG5cbi8qKlxuICogUmVtb3ZlIGNhY2hlZCBzY2hlbWEocykuXG4gKiBJZiBubyBwYXJhbWV0ZXIgaXMgcGFzc2VkIGFsbCBzY2hlbWFzIGJ1dCBtZXRhLXNjaGVtYXMgYXJlIHJlbW92ZWQuXG4gKiBJZiBSZWdFeHAgaXMgcGFzc2VkIGFsbCBzY2hlbWFzIHdpdGgga2V5L2lkIG1hdGNoaW5nIHBhdHRlcm4gYnV0IG1ldGEtc2NoZW1hcyBhcmUgcmVtb3ZlZC5cbiAqIEV2ZW4gaWYgc2NoZW1hIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgc2NoZW1hcyBpdCBzdGlsbCBjYW4gYmUgcmVtb3ZlZCBhcyBvdGhlciBzY2hlbWFzIGhhdmUgbG9jYWwgcmVmZXJlbmNlcy5cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gc2NoZW1hS2V5UmVmIGtleSwgcmVmLCBwYXR0ZXJuIHRvIG1hdGNoIGtleS9yZWYgb3Igc2NoZW1hIG9iamVjdFxuICogQHJldHVybiB7QWp2fSB0aGlzIGZvciBtZXRob2QgY2hhaW5pbmdcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlU2NoZW1hKHNjaGVtYUtleVJlZikge1xuICBpZiAoc2NoZW1hS2V5UmVmIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgX3JlbW92ZUFsbFNjaGVtYXModGhpcywgdGhpcy5fc2NoZW1hcywgc2NoZW1hS2V5UmVmKTtcbiAgICBfcmVtb3ZlQWxsU2NoZW1hcyh0aGlzLCB0aGlzLl9yZWZzLCBzY2hlbWFLZXlSZWYpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIHNjaGVtYUtleVJlZikge1xuICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICBfcmVtb3ZlQWxsU2NoZW1hcyh0aGlzLCB0aGlzLl9zY2hlbWFzKTtcbiAgICAgIF9yZW1vdmVBbGxTY2hlbWFzKHRoaXMsIHRoaXMuX3JlZnMpO1xuICAgICAgdGhpcy5fY2FjaGUuY2xlYXIoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICB2YXIgc2NoZW1hT2JqID0gX2dldFNjaGVtYU9iaih0aGlzLCBzY2hlbWFLZXlSZWYpO1xuICAgICAgaWYgKHNjaGVtYU9iaikgdGhpcy5fY2FjaGUuZGVsKHNjaGVtYU9iai5jYWNoZUtleSk7XG4gICAgICBkZWxldGUgdGhpcy5fc2NoZW1hc1tzY2hlbWFLZXlSZWZdO1xuICAgICAgZGVsZXRlIHRoaXMuX3JlZnNbc2NoZW1hS2V5UmVmXTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB2YXIgc2VyaWFsaXplID0gdGhpcy5fb3B0cy5zZXJpYWxpemU7XG4gICAgICB2YXIgY2FjaGVLZXkgPSBzZXJpYWxpemUgPyBzZXJpYWxpemUoc2NoZW1hS2V5UmVmKSA6IHNjaGVtYUtleVJlZjtcbiAgICAgIHRoaXMuX2NhY2hlLmRlbChjYWNoZUtleSk7XG4gICAgICB2YXIgaWQgPSB0aGlzLl9nZXRJZChzY2hlbWFLZXlSZWYpO1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIGlkID0gcmVzb2x2ZS5ub3JtYWxpemVJZChpZCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zY2hlbWFzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3JlZnNbaWRdO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIF9yZW1vdmVBbGxTY2hlbWFzKHNlbGYsIHNjaGVtYXMsIHJlZ2V4KSB7XG4gIGZvciAodmFyIGtleVJlZiBpbiBzY2hlbWFzKSB7XG4gICAgdmFyIHNjaGVtYU9iaiA9IHNjaGVtYXNba2V5UmVmXTtcbiAgICBpZiAoIXNjaGVtYU9iai5tZXRhICYmICghcmVnZXggfHwgcmVnZXgudGVzdChrZXlSZWYpKSkge1xuICAgICAgc2VsZi5fY2FjaGUuZGVsKHNjaGVtYU9iai5jYWNoZUtleSk7XG4gICAgICBkZWxldGUgc2NoZW1hc1trZXlSZWZdO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qIEB0aGlzICAgQWp2ICovXG5mdW5jdGlvbiBfYWRkU2NoZW1hKHNjaGVtYSwgc2tpcFZhbGlkYXRpb24sIG1ldGEsIHNob3VsZEFkZFNjaGVtYSkge1xuICBpZiAodHlwZW9mIHNjaGVtYSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygc2NoZW1hICE9ICdib29sZWFuJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjaGVtYSBzaG91bGQgYmUgb2JqZWN0IG9yIGJvb2xlYW4nKTtcbiAgdmFyIHNlcmlhbGl6ZSA9IHRoaXMuX29wdHMuc2VyaWFsaXplO1xuICB2YXIgY2FjaGVLZXkgPSBzZXJpYWxpemUgPyBzZXJpYWxpemUoc2NoZW1hKSA6IHNjaGVtYTtcbiAgdmFyIGNhY2hlZCA9IHRoaXMuX2NhY2hlLmdldChjYWNoZUtleSk7XG4gIGlmIChjYWNoZWQpIHJldHVybiBjYWNoZWQ7XG5cbiAgc2hvdWxkQWRkU2NoZW1hID0gc2hvdWxkQWRkU2NoZW1hIHx8IHRoaXMuX29wdHMuYWRkVXNlZFNjaGVtYSAhPT0gZmFsc2U7XG5cbiAgdmFyIGlkID0gcmVzb2x2ZS5ub3JtYWxpemVJZCh0aGlzLl9nZXRJZChzY2hlbWEpKTtcbiAgaWYgKGlkICYmIHNob3VsZEFkZFNjaGVtYSkgY2hlY2tVbmlxdWUodGhpcywgaWQpO1xuXG4gIHZhciB3aWxsVmFsaWRhdGUgPSB0aGlzLl9vcHRzLnZhbGlkYXRlU2NoZW1hICE9PSBmYWxzZSAmJiAhc2tpcFZhbGlkYXRpb247XG4gIHZhciByZWN1cnNpdmVNZXRhO1xuICBpZiAod2lsbFZhbGlkYXRlICYmICEocmVjdXJzaXZlTWV0YSA9IGlkICYmIGlkID09IHJlc29sdmUubm9ybWFsaXplSWQoc2NoZW1hLiRzY2hlbWEpKSlcbiAgICB0aGlzLnZhbGlkYXRlU2NoZW1hKHNjaGVtYSwgdHJ1ZSk7XG5cbiAgdmFyIGxvY2FsUmVmcyA9IHJlc29sdmUuaWRzLmNhbGwodGhpcywgc2NoZW1hKTtcblxuICB2YXIgc2NoZW1hT2JqID0gbmV3IFNjaGVtYU9iamVjdCh7XG4gICAgaWQ6IGlkLFxuICAgIHNjaGVtYTogc2NoZW1hLFxuICAgIGxvY2FsUmVmczogbG9jYWxSZWZzLFxuICAgIGNhY2hlS2V5OiBjYWNoZUtleSxcbiAgICBtZXRhOiBtZXRhXG4gIH0pO1xuXG4gIGlmIChpZFswXSAhPSAnIycgJiYgc2hvdWxkQWRkU2NoZW1hKSB0aGlzLl9yZWZzW2lkXSA9IHNjaGVtYU9iajtcbiAgdGhpcy5fY2FjaGUucHV0KGNhY2hlS2V5LCBzY2hlbWFPYmopO1xuXG4gIGlmICh3aWxsVmFsaWRhdGUgJiYgcmVjdXJzaXZlTWV0YSkgdGhpcy52YWxpZGF0ZVNjaGVtYShzY2hlbWEsIHRydWUpO1xuXG4gIHJldHVybiBzY2hlbWFPYmo7XG59XG5cblxuLyogQHRoaXMgICBBanYgKi9cbmZ1bmN0aW9uIF9jb21waWxlKHNjaGVtYU9iaiwgcm9vdCkge1xuICBpZiAoc2NoZW1hT2JqLmNvbXBpbGluZykge1xuICAgIHNjaGVtYU9iai52YWxpZGF0ZSA9IGNhbGxWYWxpZGF0ZTtcbiAgICBjYWxsVmFsaWRhdGUuc2NoZW1hID0gc2NoZW1hT2JqLnNjaGVtYTtcbiAgICBjYWxsVmFsaWRhdGUuZXJyb3JzID0gbnVsbDtcbiAgICBjYWxsVmFsaWRhdGUucm9vdCA9IHJvb3QgPyByb290IDogY2FsbFZhbGlkYXRlO1xuICAgIGlmIChzY2hlbWFPYmouc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZSlcbiAgICAgIGNhbGxWYWxpZGF0ZS4kYXN5bmMgPSB0cnVlO1xuICAgIHJldHVybiBjYWxsVmFsaWRhdGU7XG4gIH1cbiAgc2NoZW1hT2JqLmNvbXBpbGluZyA9IHRydWU7XG5cbiAgdmFyIGN1cnJlbnRPcHRzO1xuICBpZiAoc2NoZW1hT2JqLm1ldGEpIHtcbiAgICBjdXJyZW50T3B0cyA9IHRoaXMuX29wdHM7XG4gICAgdGhpcy5fb3B0cyA9IHRoaXMuX21ldGFPcHRzO1xuICB9XG5cbiAgdmFyIHY7XG4gIHRyeSB7IHYgPSBjb21waWxlU2NoZW1hLmNhbGwodGhpcywgc2NoZW1hT2JqLnNjaGVtYSwgcm9vdCwgc2NoZW1hT2JqLmxvY2FsUmVmcyk7IH1cbiAgY2F0Y2goZSkge1xuICAgIGRlbGV0ZSBzY2hlbWFPYmoudmFsaWRhdGU7XG4gICAgdGhyb3cgZTtcbiAgfVxuICBmaW5hbGx5IHtcbiAgICBzY2hlbWFPYmouY29tcGlsaW5nID0gZmFsc2U7XG4gICAgaWYgKHNjaGVtYU9iai5tZXRhKSB0aGlzLl9vcHRzID0gY3VycmVudE9wdHM7XG4gIH1cblxuICBzY2hlbWFPYmoudmFsaWRhdGUgPSB2O1xuICBzY2hlbWFPYmoucmVmcyA9IHYucmVmcztcbiAgc2NoZW1hT2JqLnJlZlZhbCA9IHYucmVmVmFsO1xuICBzY2hlbWFPYmoucm9vdCA9IHYucm9vdDtcbiAgcmV0dXJuIHY7XG5cblxuICAvKiBAdGhpcyAgIHsqfSAtIGN1c3RvbSBjb250ZXh0LCBzZWUgcGFzc0NvbnRleHQgb3B0aW9uICovXG4gIGZ1bmN0aW9uIGNhbGxWYWxpZGF0ZSgpIHtcbiAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgdmFyIF92YWxpZGF0ZSA9IHNjaGVtYU9iai52YWxpZGF0ZTtcbiAgICB2YXIgcmVzdWx0ID0gX3ZhbGlkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgY2FsbFZhbGlkYXRlLmVycm9ycyA9IF92YWxpZGF0ZS5lcnJvcnM7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGNob29zZUdldElkKG9wdHMpIHtcbiAgc3dpdGNoIChvcHRzLnNjaGVtYUlkKSB7XG4gICAgY2FzZSAnYXV0byc6IHJldHVybiBfZ2V0JElkT3JJZDtcbiAgICBjYXNlICdpZCc6IHJldHVybiBfZ2V0SWQ7XG4gICAgZGVmYXVsdDogcmV0dXJuIF9nZXQkSWQ7XG4gIH1cbn1cblxuLyogQHRoaXMgICBBanYgKi9cbmZ1bmN0aW9uIF9nZXRJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS4kaWQpIHRoaXMubG9nZ2VyLndhcm4oJ3NjaGVtYSAkaWQgaWdub3JlZCcsIHNjaGVtYS4kaWQpO1xuICByZXR1cm4gc2NoZW1hLmlkO1xufVxuXG4vKiBAdGhpcyAgIEFqdiAqL1xuZnVuY3Rpb24gX2dldCRJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS5pZCkgdGhpcy5sb2dnZXIud2Fybignc2NoZW1hIGlkIGlnbm9yZWQnLCBzY2hlbWEuaWQpO1xuICByZXR1cm4gc2NoZW1hLiRpZDtcbn1cblxuXG5mdW5jdGlvbiBfZ2V0JElkT3JJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS4kaWQgJiYgc2NoZW1hLmlkICYmIHNjaGVtYS4kaWQgIT0gc2NoZW1hLmlkKVxuICAgIHRocm93IG5ldyBFcnJvcignc2NoZW1hICRpZCBpcyBkaWZmZXJlbnQgZnJvbSBpZCcpO1xuICByZXR1cm4gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIGVycm9yIG1lc3NhZ2Ugb2JqZWN0cyB0byBzdHJpbmdcbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtBcnJheTxPYmplY3Q+fSBlcnJvcnMgb3B0aW9uYWwgYXJyYXkgb2YgdmFsaWRhdGlvbiBlcnJvcnMsIGlmIG5vdCBwYXNzZWQgZXJyb3JzIGZyb20gdGhlIGluc3RhbmNlIGFyZSB1c2VkLlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIG9wdGlvbmFsIG9wdGlvbnMgd2l0aCBwcm9wZXJ0aWVzIGBzZXBhcmF0b3JgIGFuZCBgZGF0YVZhcmAuXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGh1bWFuIHJlYWRhYmxlIHN0cmluZyB3aXRoIGFsbCBlcnJvcnMgZGVzY3JpcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGVycm9yc1RleHQoZXJyb3JzLCBvcHRpb25zKSB7XG4gIGVycm9ycyA9IGVycm9ycyB8fCB0aGlzLmVycm9ycztcbiAgaWYgKCFlcnJvcnMpIHJldHVybiAnTm8gZXJyb3JzJztcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBzZXBhcmF0b3IgPSBvcHRpb25zLnNlcGFyYXRvciA9PT0gdW5kZWZpbmVkID8gJywgJyA6IG9wdGlvbnMuc2VwYXJhdG9yO1xuICB2YXIgZGF0YVZhciA9IG9wdGlvbnMuZGF0YVZhciA9PT0gdW5kZWZpbmVkID8gJ2RhdGEnIDogb3B0aW9ucy5kYXRhVmFyO1xuXG4gIHZhciB0ZXh0ID0gJyc7XG4gIGZvciAodmFyIGk9MDsgaTxlcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZSA9IGVycm9yc1tpXTtcbiAgICBpZiAoZSkgdGV4dCArPSBkYXRhVmFyICsgZS5kYXRhUGF0aCArICcgJyArIGUubWVzc2FnZSArIHNlcGFyYXRvcjtcbiAgfVxuICByZXR1cm4gdGV4dC5zbGljZSgwLCAtc2VwYXJhdG9yLmxlbmd0aCk7XG59XG5cblxuLyoqXG4gKiBBZGQgY3VzdG9tIGZvcm1hdFxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGZvcm1hdCBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB8RnVuY3Rpb259IGZvcm1hdCBzdHJpbmcgaXMgY29udmVydGVkIHRvIFJlZ0V4cDsgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBib29sZWFuICh0cnVlIHdoZW4gdmFsaWQpXG4gKiBAcmV0dXJuIHtBanZ9IHRoaXMgZm9yIG1ldGhvZCBjaGFpbmluZ1xuICovXG5mdW5jdGlvbiBhZGRGb3JtYXQobmFtZSwgZm9ybWF0KSB7XG4gIGlmICh0eXBlb2YgZm9ybWF0ID09ICdzdHJpbmcnKSBmb3JtYXQgPSBuZXcgUmVnRXhwKGZvcm1hdCk7XG4gIHRoaXMuX2Zvcm1hdHNbbmFtZV0gPSBmb3JtYXQ7XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIGFkZERlZmF1bHRNZXRhU2NoZW1hKHNlbGYpIHtcbiAgdmFyICRkYXRhU2NoZW1hO1xuICBpZiAoc2VsZi5fb3B0cy4kZGF0YSkge1xuICAgICRkYXRhU2NoZW1hID0gcmVxdWlyZSgnLi9yZWZzL2RhdGEuanNvbicpO1xuICAgIHNlbGYuYWRkTWV0YVNjaGVtYSgkZGF0YVNjaGVtYSwgJGRhdGFTY2hlbWEuJGlkLCB0cnVlKTtcbiAgfVxuICBpZiAoc2VsZi5fb3B0cy5tZXRhID09PSBmYWxzZSkgcmV0dXJuO1xuICB2YXIgbWV0YVNjaGVtYSA9IHJlcXVpcmUoJy4vcmVmcy9qc29uLXNjaGVtYS1kcmFmdC0wNy5qc29uJyk7XG4gIGlmIChzZWxmLl9vcHRzLiRkYXRhKSBtZXRhU2NoZW1hID0gJGRhdGFNZXRhU2NoZW1hKG1ldGFTY2hlbWEsIE1FVEFfU1VQUE9SVF9EQVRBKTtcbiAgc2VsZi5hZGRNZXRhU2NoZW1hKG1ldGFTY2hlbWEsIE1FVEFfU0NIRU1BX0lELCB0cnVlKTtcbiAgc2VsZi5fcmVmc1snaHR0cDovL2pzb24tc2NoZW1hLm9yZy9zY2hlbWEnXSA9IE1FVEFfU0NIRU1BX0lEO1xufVxuXG5cbmZ1bmN0aW9uIGFkZEluaXRpYWxTY2hlbWFzKHNlbGYpIHtcbiAgdmFyIG9wdHNTY2hlbWFzID0gc2VsZi5fb3B0cy5zY2hlbWFzO1xuICBpZiAoIW9wdHNTY2hlbWFzKSByZXR1cm47XG4gIGlmIChBcnJheS5pc0FycmF5KG9wdHNTY2hlbWFzKSkgc2VsZi5hZGRTY2hlbWEob3B0c1NjaGVtYXMpO1xuICBlbHNlIGZvciAodmFyIGtleSBpbiBvcHRzU2NoZW1hcykgc2VsZi5hZGRTY2hlbWEob3B0c1NjaGVtYXNba2V5XSwga2V5KTtcbn1cblxuXG5mdW5jdGlvbiBhZGRJbml0aWFsRm9ybWF0cyhzZWxmKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gc2VsZi5fb3B0cy5mb3JtYXRzKSB7XG4gICAgdmFyIGZvcm1hdCA9IHNlbGYuX29wdHMuZm9ybWF0c1tuYW1lXTtcbiAgICBzZWxmLmFkZEZvcm1hdChuYW1lLCBmb3JtYXQpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gYWRkSW5pdGlhbEtleXdvcmRzKHNlbGYpIHtcbiAgZm9yICh2YXIgbmFtZSBpbiBzZWxmLl9vcHRzLmtleXdvcmRzKSB7XG4gICAgdmFyIGtleXdvcmQgPSBzZWxmLl9vcHRzLmtleXdvcmRzW25hbWVdO1xuICAgIHNlbGYuYWRkS2V5d29yZChuYW1lLCBrZXl3b3JkKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGNoZWNrVW5pcXVlKHNlbGYsIGlkKSB7XG4gIGlmIChzZWxmLl9zY2hlbWFzW2lkXSB8fCBzZWxmLl9yZWZzW2lkXSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjaGVtYSB3aXRoIGtleSBvciBpZCBcIicgKyBpZCArICdcIiBhbHJlYWR5IGV4aXN0cycpO1xufVxuXG5cbmZ1bmN0aW9uIGdldE1ldGFTY2hlbWFPcHRpb25zKHNlbGYpIHtcbiAgdmFyIG1ldGFPcHRzID0gdXRpbC5jb3B5KHNlbGYuX29wdHMpO1xuICBmb3IgKHZhciBpPTA7IGk8TUVUQV9JR05PUkVfT1BUSU9OUy5sZW5ndGg7IGkrKylcbiAgICBkZWxldGUgbWV0YU9wdHNbTUVUQV9JR05PUkVfT1BUSU9OU1tpXV07XG4gIHJldHVybiBtZXRhT3B0cztcbn1cblxuXG5mdW5jdGlvbiBzZXRMb2dnZXIoc2VsZikge1xuICB2YXIgbG9nZ2VyID0gc2VsZi5fb3B0cy5sb2dnZXI7XG4gIGlmIChsb2dnZXIgPT09IGZhbHNlKSB7XG4gICAgc2VsZi5sb2dnZXIgPSB7bG9nOiBub29wLCB3YXJuOiBub29wLCBlcnJvcjogbm9vcH07XG4gIH0gZWxzZSB7XG4gICAgaWYgKGxvZ2dlciA9PT0gdW5kZWZpbmVkKSBsb2dnZXIgPSBjb25zb2xlO1xuICAgIGlmICghKHR5cGVvZiBsb2dnZXIgPT0gJ29iamVjdCcgJiYgbG9nZ2VyLmxvZyAmJiBsb2dnZXIud2FybiAmJiBsb2dnZXIuZXJyb3IpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdsb2dnZXIgbXVzdCBpbXBsZW1lbnQgbG9nLCB3YXJuIGFuZCBlcnJvciBtZXRob2RzJyk7XG4gICAgc2VsZi5sb2dnZXIgPSBsb2dnZXI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBub29wKCkge31cbiIsImltcG9ydCBBanYgZnJvbSBcImFqdlwiO1xuLyogZ2xvYmFsIGdsb2JhbFRoaXMgKi9cbi8qIGVzbGludCBuby1yZXN0cmljdGVkLWdsb2JhbHM6IDEgKi9cbmZ1bmN0aW9uIHNjaGVtYSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIHRpbWVsaW5lOiB7ICRyZWY6IFwiIy9kZWZzL2Jsb2NrXCIgfSxcbiAgICAgIHRvdGFsRHVyYXRpb246IHsgdHlwZTogXCJudW1iZXJcIiwgbWluaW11bTogMCB9LFxuICAgICAgc3RhZ2dlcmluZ3M6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyAkcmVmOiBcIiMvZGVmcy9zdGFnZ2VyaW5nXCIgfSB9LFxuICAgICAgZW51bWVyYXRvcnM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyAkcmVmOiBcIiMvZGVmcy9lbnVtZXJhdG9yXCIgfSB9LFxuICAgICAgbWV0YTogeyB0eXBlOiBcIm9iamVjdFwiIH1cbiAgICB9LFxuICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICBkZWZzOiB7XG4gICAgICBlYXNlOiB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGVudW06IFtcImxpbmVhclwiLCBcImN1YmljXCIsIFwicXVhZFwiLCBcImV4cFwiLCBcImJvdW5jZVwiLCBcImNpcmNsZVwiLCBcInNpblwiLFxuICAgICAgICAgIFwibGluZWFySW5cIiwgXCJjdWJpY0luXCIsIFwicXVhZEluXCIsIFwiZXhwSW5cIiwgXCJib3VuY2VJblwiLCBcImNpcmNsZUluXCIsIFwic2luSW5cIixcbiAgICAgICAgICBcImxpbmVhck91dFwiLCBcImN1YmljT3V0XCIsIFwicXVhZE91dFwiLCBcImV4cE91dFwiLCBcImJvdW5jZU91dFwiLCBcImNpcmNsZU91dFwiLCBcInNpbk91dFwiXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBlbnVtZXJhdG9yOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBuYW1lOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICBmaWx0ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIHN0ZXBTaXplOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICB2YWx1ZXM6IHsgdHlwZTogXCJhcnJheVwiIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICBvbmVPZjogW1xuICAgICAgICAgIHsgcmVxdWlyZWQ6IFtcIm5hbWVcIiwgXCJmaWx0ZXJcIiwgXCJzdGVwU2l6ZVwiXSB9LFxuICAgICAgICAgIHsgcmVxdWlyZWQ6IFtcIm5hbWVcIiwgXCJmaWx0ZXJcIiwgXCJ2YWx1ZXNcIl0gfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgc3RhZ2dlcmluZzoge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgbmFtZTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgYnk6IHtcbiAgICAgICAgICAgIG9uZU9mOiBbXG4gICAgICAgICAgICAgIHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICBpbml0aWFsOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgICAgIGZpbmFsOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG92ZXJsYXA6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgIG9yZGVyOiB7IHR5cGU6IFwic3RyaW5nXCIsIGVudW06IFtcImFzY2VuZGluZ1wiLCBcImRlc2NlbmRpbmdcIl0gfSxcbiAgICAgICAgICBlYXNlOiB7ICRyZWY6IFwiIy9kZWZzL2Vhc2VcIiB9LFxuICAgICAgICAgIHN0YWdnZXJpbmc6IHsgJHJlZjogXCIjL2RlZnMvc3ViU3RhZ2dlcmluZ1wiIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICBvbmVPZjogW3sgcmVxdWlyZWQ6IFtcIm5hbWVcIiwgXCJvdmVybGFwXCIsIFwiYnlcIl0gfV1cbiAgICAgIH0sXG4gICAgICBzdWJTdGFnZ2VyaW5nOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBuYW1lOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICBieTogeyBvbmVPZjogW3sgdHlwZTogXCJzdHJpbmdcIiB9LCB7IHR5cGU6IFwib2JqZWN0XCIgfV0gfSxcbiAgICAgICAgICBvdmVybGFwOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICBvcmRlcjogeyB0eXBlOiBcInN0cmluZ1wiLCBlbnVtOiBbXCJhc2NlbmRpbmdcIiwgXCJkZXNjZW5kaW5nXCJdIH0sXG4gICAgICAgICAgc3RhZ2dlcmluZzogeyAkcmVmOiBcIiMvZGVmcy9zdWJTdGFnZ2VyaW5nXCIgfVxuICAgICAgICB9LFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgIG9uZU9mOiBbeyByZXF1aXJlZDogW1wib3ZlcmxhcFwiLCBcImJ5XCJdIH1dXG4gICAgICB9LFxuICAgICAgYmxvY2s6IHtcbiAgICAgICAgYW55T2Y6IFtcbiAgICAgICAgICB7ICRyZWY6IFwiIy9kZWZzL3N5bmNcIiB9LFxuICAgICAgICAgIHsgJHJlZjogXCIjL2RlZnMvY29uY2F0XCIgfSxcbiAgICAgICAgICB7ICRyZWY6IFwiIy9kZWZzL21hcmtTdGVwXCIgfSxcbiAgICAgICAgICB7ICRyZWY6IFwiIy9kZWZzL2F4aXNTdGVwXCIgfSxcbiAgICAgICAgICB7ICRyZWY6IFwiIy9kZWZzL2xlZ2VuZFN0ZXBcIiB9LFxuICAgICAgICAgIHsgJHJlZjogXCIjL2RlZnMvcGF1c2VTdGVwXCIgfSxcbiAgICAgICAgICB7ICRyZWY6IFwiIy9kZWZzL3ZpZXdTdGVwXCIgfVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgY29uY2F0OiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBjb25jYXQ6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyAkcmVmOiBcIiMvZGVmcy9ibG9ja1wiIH0gfSxcbiAgICAgICAgICBhdXRvU2NhbGVPcmRlcjogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICAgIGVudW1lcmF0b3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkOiBbXCJjb25jYXRcIl0sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHN5bmM6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIHN5bmM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyAkcmVmOiBcIiMvZGVmcy9ibG9ja1wiIH0gfSxcbiAgICAgICAgICBhbmNob3I6IHsgdHlwZTogXCJzdHJpbmdcIiwgZW51bTogW1wic3RhcnRcIiwgXCJlbmRcIl0gfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogW1wic3luY1wiXSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlXG4gICAgICB9LFxuICAgICAgbWFya1N0ZXA6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIGNvbXBvbmVudDoge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgbWFyazogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJtYXJrXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGFuZ2U6IHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBvbmVPZjogW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAga2V5czogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgIGVudGVyOiB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZXhpdDogeyB0eXBlOiBcImJvb2xlYW5cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogeyB0eXBlOiBcImJvb2xlYW5cIiB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgIHsgdHlwZTogXCJib29sZWFuXCIgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICBvbmVPZjogW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBkYXRhOiB7IHR5cGU6IFwiYm9vbGVhblwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICAgICAgICAgIHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2lnbmFsOiB7XG4gICAgICAgICAgICAgICAgb25lT2Y6IFtcbiAgICAgICAgICAgICAgICAgIHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgIHsgdHlwZTogXCJib29sZWFuXCIgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbWFya3R5cGU6IHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICAgICAgZW5jb2RlOiB7ICRyZWY6IFwiIy9kZWZzL2VuY29kZVwiIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRpbWluZzogeyAkcmVmOiBcIiMvZGVmcy90aW1pbmdcIiB9LFxuICAgICAgICAgIGVudW1lcmF0b3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkOiBbXCJ0aW1pbmdcIiwgXCJjb21wb25lbnRcIl0sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGF4aXNTdGVwOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBjb21wb25lbnQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IGF4aXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0sXG4gICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgICAgICByZXF1aXJlZDogW1wiYXhpc1wiXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hhbmdlOiB7XG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgIG9uZU9mOiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBkb21haW5EaW1lbnNpb246IHsgdHlwZTogXCJzdHJpbmdcIiwgZW51bTogW1wic2FtZVwiLCBcImRpZmZcIl0gfSxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHR5cGU6IFwiYm9vbGVhblwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgeyB0eXBlOiBcImJvb2xlYW5cIiB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzaWduYWw6IHtcbiAgICAgICAgICAgICAgICBvbmVPZjogW1xuICAgICAgICAgICAgICAgICAgeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICAgICAgICAgICAgeyB0eXBlOiBcImJvb2xlYW5cIiB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtYXJrdHlwZTogeyB0eXBlOiBcImJvb2xlYW5cIiB9LFxuICAgICAgICAgICAgICBlbmNvZGU6IHtcbiAgICAgICAgICAgICAgICBvbmVPZjogW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYXhpczogeyAkcmVmOiBcIiMvZGVmcy9lbmNvZGVcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7ICRyZWY6IFwiIy9kZWZzL2VuY29kZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgdGlja3M6IHsgJHJlZjogXCIjL2RlZnMvZW5jb2RlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHsgJHJlZjogXCIjL2RlZnMvZW5jb2RlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBncmlkOiB7ICRyZWY6IFwiIy9kZWZzL2VuY29kZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZG9tYWluOiB7ICRyZWY6IFwiIy9kZWZzL2VuY29kZVwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgeyB0eXBlOiBcImJvb2xlYW5cIiB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aW1pbmc6IHsgJHJlZjogXCIjL2RlZnMvdGltaW5nXCIgfSxcbiAgICAgICAgICBlbnVtZXJhdG9yOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogW1widGltaW5nXCIsIFwiY29tcG9uZW50XCJdLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICAgIH0sXG4gICAgICBsZWdlbmRTdGVwOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBjb21wb25lbnQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7IGxlZ2VuZDogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJsZWdlbmRcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoYW5nZToge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICBvbmVPZjogW1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZG9tYWluRGltZW5zaW9uOiB7IHR5cGU6IFwic3RyaW5nXCIsIGVudW06IFtcInNhbWVcIiwgXCJkaWZmXCJdIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgZGF0YTogeyB0eXBlOiBcImJvb2xlYW5cIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgICAgICAgICAgICB7IHR5cGU6IFwiYXJyYXlcIiwgaXRlbXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNpZ25hbDoge1xuICAgICAgICAgICAgICAgIG9uZU9mOiBbXG4gICAgICAgICAgICAgICAgICB7IHR5cGU6IFwiYXJyYXlcIiwgaXRlbXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0sXG4gICAgICAgICAgICAgICAgICB7IHR5cGU6IFwiYm9vbGVhblwiIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVuY29kZToge1xuICAgICAgICAgICAgICAgIG9uZU9mOiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xzOiB7ICRyZWY6IFwiIy9kZWZzL2VuY29kZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHsgJHJlZjogXCIjL2RlZnMvZW5jb2RlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHsgJHJlZjogXCIjL2RlZnMvZW5jb2RlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBlbnRyaWVzOiB7ICRyZWY6IFwiIy9kZWZzL2VuY29kZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQ6IHsgJHJlZjogXCIjL2RlZnMvZW5jb2RlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6IHsgJHJlZjogXCIjL2RlZnMvZW5jb2RlXCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB7IHR5cGU6IFwiYm9vbGVhblwiIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRpbWluZzogeyAkcmVmOiBcIiMvZGVmcy90aW1pbmdcIiB9LFxuICAgICAgICAgIGVudW1lcmF0b3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVpcmVkOiBbXCJ0aW1pbmdcIiwgXCJjb21wb25lbnRcIl0sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHBhdXNlU3RlcDoge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgY29tcG9uZW50OiB7IGNvbnN0OiBcInBhdXNlXCIgfSxcbiAgICAgICAgICB0aW1pbmc6IHsgJHJlZjogXCIjL2RlZnMvdGltaW5nXCIgfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogW1widGltaW5nXCIsIFwiY29tcG9uZW50XCJdLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICAgIH0sXG4gICAgICB2aWV3U3RlcDoge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgY29tcG9uZW50OiB7IGNvbnN0OiBcInZpZXdcIiB9LFxuICAgICAgICAgIGNoYW5nZToge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgc2lnbmFsOiB7XG4gICAgICAgICAgICAgICAgb25lT2Y6IFtcbiAgICAgICAgICAgICAgICAgIHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgICAgICAgICAgIHsgdHlwZTogXCJib29sZWFuXCIgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aW1pbmc6IHsgJHJlZjogXCIjL2RlZnMvdGltaW5nXCIgfVxuICAgICAgICB9LFxuICAgICAgICByZXF1aXJlZDogW1widGltaW5nXCIsIFwiY29tcG9uZW50XCJdLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICAgIH0sXG4gICAgICB0aW1pbmc6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIGR1cmF0aW9uOiB7XG4gICAgICAgICAgICBvbmVPZjogW1xuICAgICAgICAgICAgICB7IHR5cGU6IFwibnVtYmVyXCIsIG1pbmltdW06IDAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogeyByYXRpbzogeyB0eXBlOiBcIm51bWJlclwiLCBtaW5pbXVtOiAwIH0gfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZWxheToge1xuICAgICAgICAgICAgb25lT2Y6IFtcbiAgICAgICAgICAgICAgeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgICAgICAgIHsgdHlwZTogXCJvYmplY3RcIiwgcHJvcGVydGllczogeyByYXRpbzogeyB0eXBlOiBcIm51bWJlclwiIH0gfSB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdGFnZ2VyaW5nOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICBlYXNlOiB7ICRyZWY6IFwiIy9kZWZzL2Vhc2VcIiB9LFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZW5jb2RlOiB7XG4gICAgICAgIG9uZU9mOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgdXBkYXRlOiB7IG9uZU9mOiBbeyB0eXBlOiBcIm9iamVjdFwiIH0sIHsgdHlwZTogXCJib29sZWFuXCIgfV0gfSxcbiAgICAgICAgICAgICAgZW50ZXI6IHsgb25lT2Y6IFt7IHR5cGU6IFwib2JqZWN0XCIgfSwgeyB0eXBlOiBcImJvb2xlYW5cIiB9XSB9LFxuICAgICAgICAgICAgICBleGl0OiB7IG9uZU9mOiBbeyB0eXBlOiBcIm9iamVjdFwiIH0sIHsgdHlwZTogXCJib29sZWFuXCIgfV0gfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgeyB0eXBlOiBcImJvb2xlYW5cIiB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNwZWNDaGVja2VyKHNwZWMpIHtcbiAgY29uc3QgYWp2ID0gbmV3IEFqdigpO1xuICBjb25zdCB2YWxpZGF0ZSA9IGFqdi5jb21waWxlKHNjaGVtYSgpKTtcblxuICBjb25zdCB2YWxpZCA9IHZhbGlkYXRlKHNwZWMpO1xuICBpZiAoIXZhbGlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBTcGVjXCIsIHZhbGlkYXRlLmVycm9ycyk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCB7XG4gIC8vIHNjaGVtYSxcbiAgc3BlY0NoZWNrZXJcbn07IiwiZXhwb3J0IHZhciBSYXdDb2RlID0gJ1Jhd0NvZGUnO1xuZXhwb3J0IHZhciBMaXRlcmFsID0gJ0xpdGVyYWwnO1xuZXhwb3J0IHZhciBQcm9wZXJ0eSA9ICdQcm9wZXJ0eSc7XG5leHBvcnQgdmFyIElkZW50aWZpZXIgPSAnSWRlbnRpZmllcic7XG5cbmV4cG9ydCB2YXIgQXJyYXlFeHByZXNzaW9uID0gJ0FycmF5RXhwcmVzc2lvbic7XG5leHBvcnQgdmFyIEJpbmFyeUV4cHJlc3Npb24gPSAnQmluYXJ5RXhwcmVzc2lvbic7XG5leHBvcnQgdmFyIENhbGxFeHByZXNzaW9uID0gJ0NhbGxFeHByZXNzaW9uJztcbmV4cG9ydCB2YXIgQ29uZGl0aW9uYWxFeHByZXNzaW9uID0gJ0NvbmRpdGlvbmFsRXhwcmVzc2lvbic7XG5leHBvcnQgdmFyIExvZ2ljYWxFeHByZXNzaW9uID0gJ0xvZ2ljYWxFeHByZXNzaW9uJztcbmV4cG9ydCB2YXIgTWVtYmVyRXhwcmVzc2lvbiA9ICdNZW1iZXJFeHByZXNzaW9uJztcbmV4cG9ydCB2YXIgT2JqZWN0RXhwcmVzc2lvbiA9ICdPYmplY3RFeHByZXNzaW9uJztcbmV4cG9ydCB2YXIgVW5hcnlFeHByZXNzaW9uID0gJ1VuYXJ5RXhwcmVzc2lvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFTVE5vZGUodHlwZSkge1xuICB0aGlzLnR5cGUgPSB0eXBlO1xufVxuXG5BU1ROb2RlLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uKHZpc2l0b3IpIHtcbiAgdmFyIG5vZGUgPSB0aGlzLCBjLCBpLCBuO1xuXG4gIGlmICh2aXNpdG9yKG5vZGUpKSByZXR1cm4gMTtcblxuICBmb3IgKGM9Y2hpbGRyZW4obm9kZSksIGk9MCwgbj1jLmxlbmd0aDsgaTxuOyArK2kpIHtcbiAgICBpZiAoY1tpXS52aXNpdCh2aXNpdG9yKSkgcmV0dXJuIDE7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNoaWxkcmVuKG5vZGUpIHtcbiAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICBjYXNlIEFycmF5RXhwcmVzc2lvbjpcbiAgICAgIHJldHVybiBub2RlLmVsZW1lbnRzO1xuICAgIGNhc2UgQmluYXJ5RXhwcmVzc2lvbjpcbiAgICBjYXNlIExvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgcmV0dXJuIFtub2RlLmxlZnQsIG5vZGUucmlnaHRdO1xuICAgIGNhc2UgQ2FsbEV4cHJlc3Npb246XG4gICAgICB2YXIgYXJncyA9IG5vZGUuYXJndW1lbnRzLnNsaWNlKCk7XG4gICAgICBhcmdzLnVuc2hpZnQobm9kZS5jYWxsZWUpO1xuICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgY2FzZSBDb25kaXRpb25hbEV4cHJlc3Npb246XG4gICAgICByZXR1cm4gW25vZGUudGVzdCwgbm9kZS5jb25zZXF1ZW50LCBub2RlLmFsdGVybmF0ZV07XG4gICAgY2FzZSBNZW1iZXJFeHByZXNzaW9uOlxuICAgICAgcmV0dXJuIFtub2RlLm9iamVjdCwgbm9kZS5wcm9wZXJ0eV07XG4gICAgY2FzZSBPYmplY3RFeHByZXNzaW9uOlxuICAgICAgcmV0dXJuIG5vZGUucHJvcGVydGllcztcbiAgICBjYXNlIFByb3BlcnR5OlxuICAgICAgcmV0dXJuIFtub2RlLmtleSwgbm9kZS52YWx1ZV07XG4gICAgY2FzZSBVbmFyeUV4cHJlc3Npb246XG4gICAgICByZXR1cm4gW25vZGUuYXJndW1lbnRdO1xuICAgIGNhc2UgSWRlbnRpZmllcjpcbiAgICBjYXNlIExpdGVyYWw6XG4gICAgY2FzZSBSYXdDb2RlOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW107XG4gIH1cbn1cbiIsIi8qXG4gIFRoZSBmb2xsb3dpbmcgZXhwcmVzc2lvbiBwYXJzZXIgaXMgYmFzZWQgb24gRXNwcmltYSAoaHR0cDovL2VzcHJpbWEub3JnLykuXG4gIE9yaWdpbmFsIGhlYWRlciBjb21tZW50IGFuZCBsaWNlbnNlIGZvciBFc3ByaW1hIGlzIGluY2x1ZGVkIGhlcmU6XG5cbiAgQ29weXJpZ2h0IChDKSAyMDEzIEFyaXlhIEhpZGF5YXQgPGFyaXlhLmhpZGF5YXRAZ21haWwuY29tPlxuICBDb3B5cmlnaHQgKEMpIDIwMTMgVGhhZGRlZSBUeWwgPHRoYWRkZWUudHlsQGdtYWlsLmNvbT5cbiAgQ29weXJpZ2h0IChDKSAyMDEzIE1hdGhpYXMgQnluZW5zIDxtYXRoaWFzQHFpd2kuYmU+XG4gIENvcHlyaWdodCAoQykgMjAxMiBBcml5YSBIaWRheWF0IDxhcml5YS5oaWRheWF0QGdtYWlsLmNvbT5cbiAgQ29weXJpZ2h0IChDKSAyMDEyIE1hdGhpYXMgQnluZW5zIDxtYXRoaWFzQHFpd2kuYmU+XG4gIENvcHlyaWdodCAoQykgMjAxMiBKb29zdC1XaW0gQm9la2VzdGVpam4gPGpvb3N0LXdpbUBib2VrZXN0ZWlqbi5ubD5cbiAgQ29weXJpZ2h0IChDKSAyMDEyIEtyaXMgS293YWwgPGtyaXMua293YWxAY2l4YXIuY29tPlxuICBDb3B5cmlnaHQgKEMpIDIwMTIgWXVzdWtlIFN1enVraSA8dXRhdGFuZS50ZWFAZ21haWwuY29tPlxuICBDb3B5cmlnaHQgKEMpIDIwMTIgQXJwYWQgQm9yc29zIDxhcnBhZC5ib3Jzb3NAZ29vZ2xlbWFpbC5jb20+XG4gIENvcHlyaWdodCAoQykgMjAxMSBBcml5YSBIaWRheWF0IDxhcml5YS5oaWRheWF0QGdtYWlsLmNvbT5cblxuICBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG5cbiAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICAgICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIlxuICBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFXG4gIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCA8Q09QWVJJR0hUIEhPTERFUj4gQkUgTElBQkxFIEZPUiBBTllcbiAgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVNcbiAgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTO1xuICBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkRcbiAgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbiAgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GXG4gIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4qL1xuaW1wb3J0IEFTVE5vZGUgZnJvbSAnLi9hc3QnO1xuXG52YXIgVG9rZW5OYW1lLFxuICAgIHNvdXJjZSxcbiAgICBpbmRleCxcbiAgICBsZW5ndGgsXG4gICAgbG9va2FoZWFkO1xuXG52YXIgVG9rZW5Cb29sZWFuTGl0ZXJhbCA9IDEsXG4gICAgVG9rZW5FT0YgPSAyLFxuICAgIFRva2VuSWRlbnRpZmllciA9IDMsXG4gICAgVG9rZW5LZXl3b3JkID0gNCxcbiAgICBUb2tlbk51bGxMaXRlcmFsID0gNSxcbiAgICBUb2tlbk51bWVyaWNMaXRlcmFsID0gNixcbiAgICBUb2tlblB1bmN0dWF0b3IgPSA3LFxuICAgIFRva2VuU3RyaW5nTGl0ZXJhbCA9IDgsXG4gICAgVG9rZW5SZWd1bGFyRXhwcmVzc2lvbiA9IDk7XG5cblRva2VuTmFtZSA9IHt9O1xuVG9rZW5OYW1lW1Rva2VuQm9vbGVhbkxpdGVyYWxdID0gJ0Jvb2xlYW4nO1xuVG9rZW5OYW1lW1Rva2VuRU9GXSA9ICc8ZW5kPic7XG5Ub2tlbk5hbWVbVG9rZW5JZGVudGlmaWVyXSA9ICdJZGVudGlmaWVyJztcblRva2VuTmFtZVtUb2tlbktleXdvcmRdID0gJ0tleXdvcmQnO1xuVG9rZW5OYW1lW1Rva2VuTnVsbExpdGVyYWxdID0gJ051bGwnO1xuVG9rZW5OYW1lW1Rva2VuTnVtZXJpY0xpdGVyYWxdID0gJ051bWVyaWMnO1xuVG9rZW5OYW1lW1Rva2VuUHVuY3R1YXRvcl0gPSAnUHVuY3R1YXRvcic7XG5Ub2tlbk5hbWVbVG9rZW5TdHJpbmdMaXRlcmFsXSA9ICdTdHJpbmcnO1xuVG9rZW5OYW1lW1Rva2VuUmVndWxhckV4cHJlc3Npb25dID0gJ1JlZ3VsYXJFeHByZXNzaW9uJztcblxudmFyIFN5bnRheEFycmF5RXhwcmVzc2lvbiA9ICdBcnJheUV4cHJlc3Npb24nLFxuICAgIFN5bnRheEJpbmFyeUV4cHJlc3Npb24gPSAnQmluYXJ5RXhwcmVzc2lvbicsXG4gICAgU3ludGF4Q2FsbEV4cHJlc3Npb24gPSAnQ2FsbEV4cHJlc3Npb24nLFxuICAgIFN5bnRheENvbmRpdGlvbmFsRXhwcmVzc2lvbiA9ICdDb25kaXRpb25hbEV4cHJlc3Npb24nLFxuICAgIFN5bnRheElkZW50aWZpZXIgPSAnSWRlbnRpZmllcicsXG4gICAgU3ludGF4TGl0ZXJhbCA9ICdMaXRlcmFsJyxcbiAgICBTeW50YXhMb2dpY2FsRXhwcmVzc2lvbiA9ICdMb2dpY2FsRXhwcmVzc2lvbicsXG4gICAgU3ludGF4TWVtYmVyRXhwcmVzc2lvbiA9ICdNZW1iZXJFeHByZXNzaW9uJyxcbiAgICBTeW50YXhPYmplY3RFeHByZXNzaW9uID0gJ09iamVjdEV4cHJlc3Npb24nLFxuICAgIFN5bnRheFByb3BlcnR5ID0gJ1Byb3BlcnR5JyxcbiAgICBTeW50YXhVbmFyeUV4cHJlc3Npb24gPSAnVW5hcnlFeHByZXNzaW9uJztcblxuLy8gRXJyb3IgbWVzc2FnZXMgc2hvdWxkIGJlIGlkZW50aWNhbCB0byBWOC5cbnZhciBNZXNzYWdlVW5leHBlY3RlZFRva2VuID0gJ1VuZXhwZWN0ZWQgdG9rZW4gJTAnLFxuICAgIE1lc3NhZ2VVbmV4cGVjdGVkTnVtYmVyID0gJ1VuZXhwZWN0ZWQgbnVtYmVyJyxcbiAgICBNZXNzYWdlVW5leHBlY3RlZFN0cmluZyA9ICdVbmV4cGVjdGVkIHN0cmluZycsXG4gICAgTWVzc2FnZVVuZXhwZWN0ZWRJZGVudGlmaWVyID0gJ1VuZXhwZWN0ZWQgaWRlbnRpZmllcicsXG4gICAgTWVzc2FnZVVuZXhwZWN0ZWRSZXNlcnZlZCA9ICdVbmV4cGVjdGVkIHJlc2VydmVkIHdvcmQnLFxuICAgIE1lc3NhZ2VVbmV4cGVjdGVkRU9TID0gJ1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0JyxcbiAgICBNZXNzYWdlSW52YWxpZFJlZ0V4cCA9ICdJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvbicsXG4gICAgTWVzc2FnZVVudGVybWluYXRlZFJlZ0V4cCA9ICdJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvbjogbWlzc2luZyAvJyxcbiAgICBNZXNzYWdlU3RyaWN0T2N0YWxMaXRlcmFsID0gJ09jdGFsIGxpdGVyYWxzIGFyZSBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZS4nLFxuICAgIE1lc3NhZ2VTdHJpY3REdXBsaWNhdGVQcm9wZXJ0eSA9ICdEdXBsaWNhdGUgZGF0YSBwcm9wZXJ0eSBpbiBvYmplY3QgbGl0ZXJhbCBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZSc7XG5cbnZhciBJTExFR0FMID0gJ0lMTEVHQUwnLFxuICAgIERJU0FCTEVEID0gJ0Rpc2FibGVkLic7XG5cbi8vIFNlZSBhbHNvIHRvb2xzL2dlbmVyYXRlLXVuaWNvZGUtcmVnZXgucHkuXG52YXIgUmVnZXhOb25Bc2NpaUlkZW50aWZpZXJTdGFydCA9IG5ldyBSZWdFeHAoXCJbXFxcXHhBQVxcXFx4QjVcXFxceEJBXFxcXHhDMC1cXFxceEQ2XFxcXHhEOC1cXFxceEY2XFxcXHhGOC1cXFxcdTAyQzFcXFxcdTAyQzYtXFxcXHUwMkQxXFxcXHUwMkUwLVxcXFx1MDJFNFxcXFx1MDJFQ1xcXFx1MDJFRVxcXFx1MDM3MC1cXFxcdTAzNzRcXFxcdTAzNzZcXFxcdTAzNzdcXFxcdTAzN0EtXFxcXHUwMzdEXFxcXHUwMzdGXFxcXHUwMzg2XFxcXHUwMzg4LVxcXFx1MDM4QVxcXFx1MDM4Q1xcXFx1MDM4RS1cXFxcdTAzQTFcXFxcdTAzQTMtXFxcXHUwM0Y1XFxcXHUwM0Y3LVxcXFx1MDQ4MVxcXFx1MDQ4QS1cXFxcdTA1MkZcXFxcdTA1MzEtXFxcXHUwNTU2XFxcXHUwNTU5XFxcXHUwNTYxLVxcXFx1MDU4N1xcXFx1MDVEMC1cXFxcdTA1RUFcXFxcdTA1RjAtXFxcXHUwNUYyXFxcXHUwNjIwLVxcXFx1MDY0QVxcXFx1MDY2RVxcXFx1MDY2RlxcXFx1MDY3MS1cXFxcdTA2RDNcXFxcdTA2RDVcXFxcdTA2RTVcXFxcdTA2RTZcXFxcdTA2RUVcXFxcdTA2RUZcXFxcdTA2RkEtXFxcXHUwNkZDXFxcXHUwNkZGXFxcXHUwNzEwXFxcXHUwNzEyLVxcXFx1MDcyRlxcXFx1MDc0RC1cXFxcdTA3QTVcXFxcdTA3QjFcXFxcdTA3Q0EtXFxcXHUwN0VBXFxcXHUwN0Y0XFxcXHUwN0Y1XFxcXHUwN0ZBXFxcXHUwODAwLVxcXFx1MDgxNVxcXFx1MDgxQVxcXFx1MDgyNFxcXFx1MDgyOFxcXFx1MDg0MC1cXFxcdTA4NThcXFxcdTA4QTAtXFxcXHUwOEIyXFxcXHUwOTA0LVxcXFx1MDkzOVxcXFx1MDkzRFxcXFx1MDk1MFxcXFx1MDk1OC1cXFxcdTA5NjFcXFxcdTA5NzEtXFxcXHUwOTgwXFxcXHUwOTg1LVxcXFx1MDk4Q1xcXFx1MDk4RlxcXFx1MDk5MFxcXFx1MDk5My1cXFxcdTA5QThcXFxcdTA5QUEtXFxcXHUwOUIwXFxcXHUwOUIyXFxcXHUwOUI2LVxcXFx1MDlCOVxcXFx1MDlCRFxcXFx1MDlDRVxcXFx1MDlEQ1xcXFx1MDlERFxcXFx1MDlERi1cXFxcdTA5RTFcXFxcdTA5RjBcXFxcdTA5RjFcXFxcdTBBMDUtXFxcXHUwQTBBXFxcXHUwQTBGXFxcXHUwQTEwXFxcXHUwQTEzLVxcXFx1MEEyOFxcXFx1MEEyQS1cXFxcdTBBMzBcXFxcdTBBMzJcXFxcdTBBMzNcXFxcdTBBMzVcXFxcdTBBMzZcXFxcdTBBMzhcXFxcdTBBMzlcXFxcdTBBNTktXFxcXHUwQTVDXFxcXHUwQTVFXFxcXHUwQTcyLVxcXFx1MEE3NFxcXFx1MEE4NS1cXFxcdTBBOERcXFxcdTBBOEYtXFxcXHUwQTkxXFxcXHUwQTkzLVxcXFx1MEFBOFxcXFx1MEFBQS1cXFxcdTBBQjBcXFxcdTBBQjJcXFxcdTBBQjNcXFxcdTBBQjUtXFxcXHUwQUI5XFxcXHUwQUJEXFxcXHUwQUQwXFxcXHUwQUUwXFxcXHUwQUUxXFxcXHUwQjA1LVxcXFx1MEIwQ1xcXFx1MEIwRlxcXFx1MEIxMFxcXFx1MEIxMy1cXFxcdTBCMjhcXFxcdTBCMkEtXFxcXHUwQjMwXFxcXHUwQjMyXFxcXHUwQjMzXFxcXHUwQjM1LVxcXFx1MEIzOVxcXFx1MEIzRFxcXFx1MEI1Q1xcXFx1MEI1RFxcXFx1MEI1Ri1cXFxcdTBCNjFcXFxcdTBCNzFcXFxcdTBCODNcXFxcdTBCODUtXFxcXHUwQjhBXFxcXHUwQjhFLVxcXFx1MEI5MFxcXFx1MEI5Mi1cXFxcdTBCOTVcXFxcdTBCOTlcXFxcdTBCOUFcXFxcdTBCOUNcXFxcdTBCOUVcXFxcdTBCOUZcXFxcdTBCQTNcXFxcdTBCQTRcXFxcdTBCQTgtXFxcXHUwQkFBXFxcXHUwQkFFLVxcXFx1MEJCOVxcXFx1MEJEMFxcXFx1MEMwNS1cXFxcdTBDMENcXFxcdTBDMEUtXFxcXHUwQzEwXFxcXHUwQzEyLVxcXFx1MEMyOFxcXFx1MEMyQS1cXFxcdTBDMzlcXFxcdTBDM0RcXFxcdTBDNThcXFxcdTBDNTlcXFxcdTBDNjBcXFxcdTBDNjFcXFxcdTBDODUtXFxcXHUwQzhDXFxcXHUwQzhFLVxcXFx1MEM5MFxcXFx1MEM5Mi1cXFxcdTBDQThcXFxcdTBDQUEtXFxcXHUwQ0IzXFxcXHUwQ0I1LVxcXFx1MENCOVxcXFx1MENCRFxcXFx1MENERVxcXFx1MENFMFxcXFx1MENFMVxcXFx1MENGMVxcXFx1MENGMlxcXFx1MEQwNS1cXFxcdTBEMENcXFxcdTBEMEUtXFxcXHUwRDEwXFxcXHUwRDEyLVxcXFx1MEQzQVxcXFx1MEQzRFxcXFx1MEQ0RVxcXFx1MEQ2MFxcXFx1MEQ2MVxcXFx1MEQ3QS1cXFxcdTBEN0ZcXFxcdTBEODUtXFxcXHUwRDk2XFxcXHUwRDlBLVxcXFx1MERCMVxcXFx1MERCMy1cXFxcdTBEQkJcXFxcdTBEQkRcXFxcdTBEQzAtXFxcXHUwREM2XFxcXHUwRTAxLVxcXFx1MEUzMFxcXFx1MEUzMlxcXFx1MEUzM1xcXFx1MEU0MC1cXFxcdTBFNDZcXFxcdTBFODFcXFxcdTBFODJcXFxcdTBFODRcXFxcdTBFODdcXFxcdTBFODhcXFxcdTBFOEFcXFxcdTBFOERcXFxcdTBFOTQtXFxcXHUwRTk3XFxcXHUwRTk5LVxcXFx1MEU5RlxcXFx1MEVBMS1cXFxcdTBFQTNcXFxcdTBFQTVcXFxcdTBFQTdcXFxcdTBFQUFcXFxcdTBFQUJcXFxcdTBFQUQtXFxcXHUwRUIwXFxcXHUwRUIyXFxcXHUwRUIzXFxcXHUwRUJEXFxcXHUwRUMwLVxcXFx1MEVDNFxcXFx1MEVDNlxcXFx1MEVEQy1cXFxcdTBFREZcXFxcdTBGMDBcXFxcdTBGNDAtXFxcXHUwRjQ3XFxcXHUwRjQ5LVxcXFx1MEY2Q1xcXFx1MEY4OC1cXFxcdTBGOENcXFxcdTEwMDAtXFxcXHUxMDJBXFxcXHUxMDNGXFxcXHUxMDUwLVxcXFx1MTA1NVxcXFx1MTA1QS1cXFxcdTEwNURcXFxcdTEwNjFcXFxcdTEwNjVcXFxcdTEwNjZcXFxcdTEwNkUtXFxcXHUxMDcwXFxcXHUxMDc1LVxcXFx1MTA4MVxcXFx1MTA4RVxcXFx1MTBBMC1cXFxcdTEwQzVcXFxcdTEwQzdcXFxcdTEwQ0RcXFxcdTEwRDAtXFxcXHUxMEZBXFxcXHUxMEZDLVxcXFx1MTI0OFxcXFx1MTI0QS1cXFxcdTEyNERcXFxcdTEyNTAtXFxcXHUxMjU2XFxcXHUxMjU4XFxcXHUxMjVBLVxcXFx1MTI1RFxcXFx1MTI2MC1cXFxcdTEyODhcXFxcdTEyOEEtXFxcXHUxMjhEXFxcXHUxMjkwLVxcXFx1MTJCMFxcXFx1MTJCMi1cXFxcdTEyQjVcXFxcdTEyQjgtXFxcXHUxMkJFXFxcXHUxMkMwXFxcXHUxMkMyLVxcXFx1MTJDNVxcXFx1MTJDOC1cXFxcdTEyRDZcXFxcdTEyRDgtXFxcXHUxMzEwXFxcXHUxMzEyLVxcXFx1MTMxNVxcXFx1MTMxOC1cXFxcdTEzNUFcXFxcdTEzODAtXFxcXHUxMzhGXFxcXHUxM0EwLVxcXFx1MTNGNFxcXFx1MTQwMS1cXFxcdTE2NkNcXFxcdTE2NkYtXFxcXHUxNjdGXFxcXHUxNjgxLVxcXFx1MTY5QVxcXFx1MTZBMC1cXFxcdTE2RUFcXFxcdTE2RUUtXFxcXHUxNkY4XFxcXHUxNzAwLVxcXFx1MTcwQ1xcXFx1MTcwRS1cXFxcdTE3MTFcXFxcdTE3MjAtXFxcXHUxNzMxXFxcXHUxNzQwLVxcXFx1MTc1MVxcXFx1MTc2MC1cXFxcdTE3NkNcXFxcdTE3NkUtXFxcXHUxNzcwXFxcXHUxNzgwLVxcXFx1MTdCM1xcXFx1MTdEN1xcXFx1MTdEQ1xcXFx1MTgyMC1cXFxcdTE4NzdcXFxcdTE4ODAtXFxcXHUxOEE4XFxcXHUxOEFBXFxcXHUxOEIwLVxcXFx1MThGNVxcXFx1MTkwMC1cXFxcdTE5MUVcXFxcdTE5NTAtXFxcXHUxOTZEXFxcXHUxOTcwLVxcXFx1MTk3NFxcXFx1MTk4MC1cXFxcdTE5QUJcXFxcdTE5QzEtXFxcXHUxOUM3XFxcXHUxQTAwLVxcXFx1MUExNlxcXFx1MUEyMC1cXFxcdTFBNTRcXFxcdTFBQTdcXFxcdTFCMDUtXFxcXHUxQjMzXFxcXHUxQjQ1LVxcXFx1MUI0QlxcXFx1MUI4My1cXFxcdTFCQTBcXFxcdTFCQUVcXFxcdTFCQUZcXFxcdTFCQkEtXFxcXHUxQkU1XFxcXHUxQzAwLVxcXFx1MUMyM1xcXFx1MUM0RC1cXFxcdTFDNEZcXFxcdTFDNUEtXFxcXHUxQzdEXFxcXHUxQ0U5LVxcXFx1MUNFQ1xcXFx1MUNFRS1cXFxcdTFDRjFcXFxcdTFDRjVcXFxcdTFDRjZcXFxcdTFEMDAtXFxcXHUxREJGXFxcXHUxRTAwLVxcXFx1MUYxNVxcXFx1MUYxOC1cXFxcdTFGMURcXFxcdTFGMjAtXFxcXHUxRjQ1XFxcXHUxRjQ4LVxcXFx1MUY0RFxcXFx1MUY1MC1cXFxcdTFGNTdcXFxcdTFGNTlcXFxcdTFGNUJcXFxcdTFGNURcXFxcdTFGNUYtXFxcXHUxRjdEXFxcXHUxRjgwLVxcXFx1MUZCNFxcXFx1MUZCNi1cXFxcdTFGQkNcXFxcdTFGQkVcXFxcdTFGQzItXFxcXHUxRkM0XFxcXHUxRkM2LVxcXFx1MUZDQ1xcXFx1MUZEMC1cXFxcdTFGRDNcXFxcdTFGRDYtXFxcXHUxRkRCXFxcXHUxRkUwLVxcXFx1MUZFQ1xcXFx1MUZGMi1cXFxcdTFGRjRcXFxcdTFGRjYtXFxcXHUxRkZDXFxcXHUyMDcxXFxcXHUyMDdGXFxcXHUyMDkwLVxcXFx1MjA5Q1xcXFx1MjEwMlxcXFx1MjEwN1xcXFx1MjEwQS1cXFxcdTIxMTNcXFxcdTIxMTVcXFxcdTIxMTktXFxcXHUyMTFEXFxcXHUyMTI0XFxcXHUyMTI2XFxcXHUyMTI4XFxcXHUyMTJBLVxcXFx1MjEyRFxcXFx1MjEyRi1cXFxcdTIxMzlcXFxcdTIxM0MtXFxcXHUyMTNGXFxcXHUyMTQ1LVxcXFx1MjE0OVxcXFx1MjE0RVxcXFx1MjE2MC1cXFxcdTIxODhcXFxcdTJDMDAtXFxcXHUyQzJFXFxcXHUyQzMwLVxcXFx1MkM1RVxcXFx1MkM2MC1cXFxcdTJDRTRcXFxcdTJDRUItXFxcXHUyQ0VFXFxcXHUyQ0YyXFxcXHUyQ0YzXFxcXHUyRDAwLVxcXFx1MkQyNVxcXFx1MkQyN1xcXFx1MkQyRFxcXFx1MkQzMC1cXFxcdTJENjdcXFxcdTJENkZcXFxcdTJEODAtXFxcXHUyRDk2XFxcXHUyREEwLVxcXFx1MkRBNlxcXFx1MkRBOC1cXFxcdTJEQUVcXFxcdTJEQjAtXFxcXHUyREI2XFxcXHUyREI4LVxcXFx1MkRCRVxcXFx1MkRDMC1cXFxcdTJEQzZcXFxcdTJEQzgtXFxcXHUyRENFXFxcXHUyREQwLVxcXFx1MkRENlxcXFx1MkREOC1cXFxcdTJEREVcXFxcdTJFMkZcXFxcdTMwMDUtXFxcXHUzMDA3XFxcXHUzMDIxLVxcXFx1MzAyOVxcXFx1MzAzMS1cXFxcdTMwMzVcXFxcdTMwMzgtXFxcXHUzMDNDXFxcXHUzMDQxLVxcXFx1MzA5NlxcXFx1MzA5RC1cXFxcdTMwOUZcXFxcdTMwQTEtXFxcXHUzMEZBXFxcXHUzMEZDLVxcXFx1MzBGRlxcXFx1MzEwNS1cXFxcdTMxMkRcXFxcdTMxMzEtXFxcXHUzMThFXFxcXHUzMUEwLVxcXFx1MzFCQVxcXFx1MzFGMC1cXFxcdTMxRkZcXFxcdTM0MDAtXFxcXHU0REI1XFxcXHU0RTAwLVxcXFx1OUZDQ1xcXFx1QTAwMC1cXFxcdUE0OENcXFxcdUE0RDAtXFxcXHVBNEZEXFxcXHVBNTAwLVxcXFx1QTYwQ1xcXFx1QTYxMC1cXFxcdUE2MUZcXFxcdUE2MkFcXFxcdUE2MkJcXFxcdUE2NDAtXFxcXHVBNjZFXFxcXHVBNjdGLVxcXFx1QTY5RFxcXFx1QTZBMC1cXFxcdUE2RUZcXFxcdUE3MTctXFxcXHVBNzFGXFxcXHVBNzIyLVxcXFx1QTc4OFxcXFx1QTc4Qi1cXFxcdUE3OEVcXFxcdUE3OTAtXFxcXHVBN0FEXFxcXHVBN0IwXFxcXHVBN0IxXFxcXHVBN0Y3LVxcXFx1QTgwMVxcXFx1QTgwMy1cXFxcdUE4MDVcXFxcdUE4MDctXFxcXHVBODBBXFxcXHVBODBDLVxcXFx1QTgyMlxcXFx1QTg0MC1cXFxcdUE4NzNcXFxcdUE4ODItXFxcXHVBOEIzXFxcXHVBOEYyLVxcXFx1QThGN1xcXFx1QThGQlxcXFx1QTkwQS1cXFxcdUE5MjVcXFxcdUE5MzAtXFxcXHVBOTQ2XFxcXHVBOTYwLVxcXFx1QTk3Q1xcXFx1QTk4NC1cXFxcdUE5QjJcXFxcdUE5Q0ZcXFxcdUE5RTAtXFxcXHVBOUU0XFxcXHVBOUU2LVxcXFx1QTlFRlxcXFx1QTlGQS1cXFxcdUE5RkVcXFxcdUFBMDAtXFxcXHVBQTI4XFxcXHVBQTQwLVxcXFx1QUE0MlxcXFx1QUE0NC1cXFxcdUFBNEJcXFxcdUFBNjAtXFxcXHVBQTc2XFxcXHVBQTdBXFxcXHVBQTdFLVxcXFx1QUFBRlxcXFx1QUFCMVxcXFx1QUFCNVxcXFx1QUFCNlxcXFx1QUFCOS1cXFxcdUFBQkRcXFxcdUFBQzBcXFxcdUFBQzJcXFxcdUFBREItXFxcXHVBQUREXFxcXHVBQUUwLVxcXFx1QUFFQVxcXFx1QUFGMi1cXFxcdUFBRjRcXFxcdUFCMDEtXFxcXHVBQjA2XFxcXHVBQjA5LVxcXFx1QUIwRVxcXFx1QUIxMS1cXFxcdUFCMTZcXFxcdUFCMjAtXFxcXHVBQjI2XFxcXHVBQjI4LVxcXFx1QUIyRVxcXFx1QUIzMC1cXFxcdUFCNUFcXFxcdUFCNUMtXFxcXHVBQjVGXFxcXHVBQjY0XFxcXHVBQjY1XFxcXHVBQkMwLVxcXFx1QUJFMlxcXFx1QUMwMC1cXFxcdUQ3QTNcXFxcdUQ3QjAtXFxcXHVEN0M2XFxcXHVEN0NCLVxcXFx1RDdGQlxcXFx1RjkwMC1cXFxcdUZBNkRcXFxcdUZBNzAtXFxcXHVGQUQ5XFxcXHVGQjAwLVxcXFx1RkIwNlxcXFx1RkIxMy1cXFxcdUZCMTdcXFxcdUZCMURcXFxcdUZCMUYtXFxcXHVGQjI4XFxcXHVGQjJBLVxcXFx1RkIzNlxcXFx1RkIzOC1cXFxcdUZCM0NcXFxcdUZCM0VcXFxcdUZCNDBcXFxcdUZCNDFcXFxcdUZCNDNcXFxcdUZCNDRcXFxcdUZCNDYtXFxcXHVGQkIxXFxcXHVGQkQzLVxcXFx1RkQzRFxcXFx1RkQ1MC1cXFxcdUZEOEZcXFxcdUZEOTItXFxcXHVGREM3XFxcXHVGREYwLVxcXFx1RkRGQlxcXFx1RkU3MC1cXFxcdUZFNzRcXFxcdUZFNzYtXFxcXHVGRUZDXFxcXHVGRjIxLVxcXFx1RkYzQVxcXFx1RkY0MS1cXFxcdUZGNUFcXFxcdUZGNjYtXFxcXHVGRkJFXFxcXHVGRkMyLVxcXFx1RkZDN1xcXFx1RkZDQS1cXFxcdUZGQ0ZcXFxcdUZGRDItXFxcXHVGRkQ3XFxcXHVGRkRBLVxcXFx1RkZEQ11cIiksXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW1pc2xlYWRpbmctY2hhcmFjdGVyLWNsYXNzXG4gICAgUmVnZXhOb25Bc2NpaUlkZW50aWZpZXJQYXJ0ID0gbmV3IFJlZ0V4cChcIltcXFxceEFBXFxcXHhCNVxcXFx4QkFcXFxceEMwLVxcXFx4RDZcXFxceEQ4LVxcXFx4RjZcXFxceEY4LVxcXFx1MDJDMVxcXFx1MDJDNi1cXFxcdTAyRDFcXFxcdTAyRTAtXFxcXHUwMkU0XFxcXHUwMkVDXFxcXHUwMkVFXFxcXHUwMzAwLVxcXFx1MDM3NFxcXFx1MDM3NlxcXFx1MDM3N1xcXFx1MDM3QS1cXFxcdTAzN0RcXFxcdTAzN0ZcXFxcdTAzODZcXFxcdTAzODgtXFxcXHUwMzhBXFxcXHUwMzhDXFxcXHUwMzhFLVxcXFx1MDNBMVxcXFx1MDNBMy1cXFxcdTAzRjVcXFxcdTAzRjctXFxcXHUwNDgxXFxcXHUwNDgzLVxcXFx1MDQ4N1xcXFx1MDQ4QS1cXFxcdTA1MkZcXFxcdTA1MzEtXFxcXHUwNTU2XFxcXHUwNTU5XFxcXHUwNTYxLVxcXFx1MDU4N1xcXFx1MDU5MS1cXFxcdTA1QkRcXFxcdTA1QkZcXFxcdTA1QzFcXFxcdTA1QzJcXFxcdTA1QzRcXFxcdTA1QzVcXFxcdTA1QzdcXFxcdTA1RDAtXFxcXHUwNUVBXFxcXHUwNUYwLVxcXFx1MDVGMlxcXFx1MDYxMC1cXFxcdTA2MUFcXFxcdTA2MjAtXFxcXHUwNjY5XFxcXHUwNjZFLVxcXFx1MDZEM1xcXFx1MDZENS1cXFxcdTA2RENcXFxcdTA2REYtXFxcXHUwNkU4XFxcXHUwNkVBLVxcXFx1MDZGQ1xcXFx1MDZGRlxcXFx1MDcxMC1cXFxcdTA3NEFcXFxcdTA3NEQtXFxcXHUwN0IxXFxcXHUwN0MwLVxcXFx1MDdGNVxcXFx1MDdGQVxcXFx1MDgwMC1cXFxcdTA4MkRcXFxcdTA4NDAtXFxcXHUwODVCXFxcXHUwOEEwLVxcXFx1MDhCMlxcXFx1MDhFNC1cXFxcdTA5NjNcXFxcdTA5NjYtXFxcXHUwOTZGXFxcXHUwOTcxLVxcXFx1MDk4M1xcXFx1MDk4NS1cXFxcdTA5OENcXFxcdTA5OEZcXFxcdTA5OTBcXFxcdTA5OTMtXFxcXHUwOUE4XFxcXHUwOUFBLVxcXFx1MDlCMFxcXFx1MDlCMlxcXFx1MDlCNi1cXFxcdTA5QjlcXFxcdTA5QkMtXFxcXHUwOUM0XFxcXHUwOUM3XFxcXHUwOUM4XFxcXHUwOUNCLVxcXFx1MDlDRVxcXFx1MDlEN1xcXFx1MDlEQ1xcXFx1MDlERFxcXFx1MDlERi1cXFxcdTA5RTNcXFxcdTA5RTYtXFxcXHUwOUYxXFxcXHUwQTAxLVxcXFx1MEEwM1xcXFx1MEEwNS1cXFxcdTBBMEFcXFxcdTBBMEZcXFxcdTBBMTBcXFxcdTBBMTMtXFxcXHUwQTI4XFxcXHUwQTJBLVxcXFx1MEEzMFxcXFx1MEEzMlxcXFx1MEEzM1xcXFx1MEEzNVxcXFx1MEEzNlxcXFx1MEEzOFxcXFx1MEEzOVxcXFx1MEEzQ1xcXFx1MEEzRS1cXFxcdTBBNDJcXFxcdTBBNDdcXFxcdTBBNDhcXFxcdTBBNEItXFxcXHUwQTREXFxcXHUwQTUxXFxcXHUwQTU5LVxcXFx1MEE1Q1xcXFx1MEE1RVxcXFx1MEE2Ni1cXFxcdTBBNzVcXFxcdTBBODEtXFxcXHUwQTgzXFxcXHUwQTg1LVxcXFx1MEE4RFxcXFx1MEE4Ri1cXFxcdTBBOTFcXFxcdTBBOTMtXFxcXHUwQUE4XFxcXHUwQUFBLVxcXFx1MEFCMFxcXFx1MEFCMlxcXFx1MEFCM1xcXFx1MEFCNS1cXFxcdTBBQjlcXFxcdTBBQkMtXFxcXHUwQUM1XFxcXHUwQUM3LVxcXFx1MEFDOVxcXFx1MEFDQi1cXFxcdTBBQ0RcXFxcdTBBRDBcXFxcdTBBRTAtXFxcXHUwQUUzXFxcXHUwQUU2LVxcXFx1MEFFRlxcXFx1MEIwMS1cXFxcdTBCMDNcXFxcdTBCMDUtXFxcXHUwQjBDXFxcXHUwQjBGXFxcXHUwQjEwXFxcXHUwQjEzLVxcXFx1MEIyOFxcXFx1MEIyQS1cXFxcdTBCMzBcXFxcdTBCMzJcXFxcdTBCMzNcXFxcdTBCMzUtXFxcXHUwQjM5XFxcXHUwQjNDLVxcXFx1MEI0NFxcXFx1MEI0N1xcXFx1MEI0OFxcXFx1MEI0Qi1cXFxcdTBCNERcXFxcdTBCNTZcXFxcdTBCNTdcXFxcdTBCNUNcXFxcdTBCNURcXFxcdTBCNUYtXFxcXHUwQjYzXFxcXHUwQjY2LVxcXFx1MEI2RlxcXFx1MEI3MVxcXFx1MEI4MlxcXFx1MEI4M1xcXFx1MEI4NS1cXFxcdTBCOEFcXFxcdTBCOEUtXFxcXHUwQjkwXFxcXHUwQjkyLVxcXFx1MEI5NVxcXFx1MEI5OVxcXFx1MEI5QVxcXFx1MEI5Q1xcXFx1MEI5RVxcXFx1MEI5RlxcXFx1MEJBM1xcXFx1MEJBNFxcXFx1MEJBOC1cXFxcdTBCQUFcXFxcdTBCQUUtXFxcXHUwQkI5XFxcXHUwQkJFLVxcXFx1MEJDMlxcXFx1MEJDNi1cXFxcdTBCQzhcXFxcdTBCQ0EtXFxcXHUwQkNEXFxcXHUwQkQwXFxcXHUwQkQ3XFxcXHUwQkU2LVxcXFx1MEJFRlxcXFx1MEMwMC1cXFxcdTBDMDNcXFxcdTBDMDUtXFxcXHUwQzBDXFxcXHUwQzBFLVxcXFx1MEMxMFxcXFx1MEMxMi1cXFxcdTBDMjhcXFxcdTBDMkEtXFxcXHUwQzM5XFxcXHUwQzNELVxcXFx1MEM0NFxcXFx1MEM0Ni1cXFxcdTBDNDhcXFxcdTBDNEEtXFxcXHUwQzREXFxcXHUwQzU1XFxcXHUwQzU2XFxcXHUwQzU4XFxcXHUwQzU5XFxcXHUwQzYwLVxcXFx1MEM2M1xcXFx1MEM2Ni1cXFxcdTBDNkZcXFxcdTBDODEtXFxcXHUwQzgzXFxcXHUwQzg1LVxcXFx1MEM4Q1xcXFx1MEM4RS1cXFxcdTBDOTBcXFxcdTBDOTItXFxcXHUwQ0E4XFxcXHUwQ0FBLVxcXFx1MENCM1xcXFx1MENCNS1cXFxcdTBDQjlcXFxcdTBDQkMtXFxcXHUwQ0M0XFxcXHUwQ0M2LVxcXFx1MENDOFxcXFx1MENDQS1cXFxcdTBDQ0RcXFxcdTBDRDVcXFxcdTBDRDZcXFxcdTBDREVcXFxcdTBDRTAtXFxcXHUwQ0UzXFxcXHUwQ0U2LVxcXFx1MENFRlxcXFx1MENGMVxcXFx1MENGMlxcXFx1MEQwMS1cXFxcdTBEMDNcXFxcdTBEMDUtXFxcXHUwRDBDXFxcXHUwRDBFLVxcXFx1MEQxMFxcXFx1MEQxMi1cXFxcdTBEM0FcXFxcdTBEM0QtXFxcXHUwRDQ0XFxcXHUwRDQ2LVxcXFx1MEQ0OFxcXFx1MEQ0QS1cXFxcdTBENEVcXFxcdTBENTdcXFxcdTBENjAtXFxcXHUwRDYzXFxcXHUwRDY2LVxcXFx1MEQ2RlxcXFx1MEQ3QS1cXFxcdTBEN0ZcXFxcdTBEODJcXFxcdTBEODNcXFxcdTBEODUtXFxcXHUwRDk2XFxcXHUwRDlBLVxcXFx1MERCMVxcXFx1MERCMy1cXFxcdTBEQkJcXFxcdTBEQkRcXFxcdTBEQzAtXFxcXHUwREM2XFxcXHUwRENBXFxcXHUwRENGLVxcXFx1MERENFxcXFx1MERENlxcXFx1MEREOC1cXFxcdTBEREZcXFxcdTBERTYtXFxcXHUwREVGXFxcXHUwREYyXFxcXHUwREYzXFxcXHUwRTAxLVxcXFx1MEUzQVxcXFx1MEU0MC1cXFxcdTBFNEVcXFxcdTBFNTAtXFxcXHUwRTU5XFxcXHUwRTgxXFxcXHUwRTgyXFxcXHUwRTg0XFxcXHUwRTg3XFxcXHUwRTg4XFxcXHUwRThBXFxcXHUwRThEXFxcXHUwRTk0LVxcXFx1MEU5N1xcXFx1MEU5OS1cXFxcdTBFOUZcXFxcdTBFQTEtXFxcXHUwRUEzXFxcXHUwRUE1XFxcXHUwRUE3XFxcXHUwRUFBXFxcXHUwRUFCXFxcXHUwRUFELVxcXFx1MEVCOVxcXFx1MEVCQi1cXFxcdTBFQkRcXFxcdTBFQzAtXFxcXHUwRUM0XFxcXHUwRUM2XFxcXHUwRUM4LVxcXFx1MEVDRFxcXFx1MEVEMC1cXFxcdTBFRDlcXFxcdTBFREMtXFxcXHUwRURGXFxcXHUwRjAwXFxcXHUwRjE4XFxcXHUwRjE5XFxcXHUwRjIwLVxcXFx1MEYyOVxcXFx1MEYzNVxcXFx1MEYzN1xcXFx1MEYzOVxcXFx1MEYzRS1cXFxcdTBGNDdcXFxcdTBGNDktXFxcXHUwRjZDXFxcXHUwRjcxLVxcXFx1MEY4NFxcXFx1MEY4Ni1cXFxcdTBGOTdcXFxcdTBGOTktXFxcXHUwRkJDXFxcXHUwRkM2XFxcXHUxMDAwLVxcXFx1MTA0OVxcXFx1MTA1MC1cXFxcdTEwOURcXFxcdTEwQTAtXFxcXHUxMEM1XFxcXHUxMEM3XFxcXHUxMENEXFxcXHUxMEQwLVxcXFx1MTBGQVxcXFx1MTBGQy1cXFxcdTEyNDhcXFxcdTEyNEEtXFxcXHUxMjREXFxcXHUxMjUwLVxcXFx1MTI1NlxcXFx1MTI1OFxcXFx1MTI1QS1cXFxcdTEyNURcXFxcdTEyNjAtXFxcXHUxMjg4XFxcXHUxMjhBLVxcXFx1MTI4RFxcXFx1MTI5MC1cXFxcdTEyQjBcXFxcdTEyQjItXFxcXHUxMkI1XFxcXHUxMkI4LVxcXFx1MTJCRVxcXFx1MTJDMFxcXFx1MTJDMi1cXFxcdTEyQzVcXFxcdTEyQzgtXFxcXHUxMkQ2XFxcXHUxMkQ4LVxcXFx1MTMxMFxcXFx1MTMxMi1cXFxcdTEzMTVcXFxcdTEzMTgtXFxcXHUxMzVBXFxcXHUxMzVELVxcXFx1MTM1RlxcXFx1MTM4MC1cXFxcdTEzOEZcXFxcdTEzQTAtXFxcXHUxM0Y0XFxcXHUxNDAxLVxcXFx1MTY2Q1xcXFx1MTY2Ri1cXFxcdTE2N0ZcXFxcdTE2ODEtXFxcXHUxNjlBXFxcXHUxNkEwLVxcXFx1MTZFQVxcXFx1MTZFRS1cXFxcdTE2RjhcXFxcdTE3MDAtXFxcXHUxNzBDXFxcXHUxNzBFLVxcXFx1MTcxNFxcXFx1MTcyMC1cXFxcdTE3MzRcXFxcdTE3NDAtXFxcXHUxNzUzXFxcXHUxNzYwLVxcXFx1MTc2Q1xcXFx1MTc2RS1cXFxcdTE3NzBcXFxcdTE3NzJcXFxcdTE3NzNcXFxcdTE3ODAtXFxcXHUxN0QzXFxcXHUxN0Q3XFxcXHUxN0RDXFxcXHUxN0REXFxcXHUxN0UwLVxcXFx1MTdFOVxcXFx1MTgwQi1cXFxcdTE4MERcXFxcdTE4MTAtXFxcXHUxODE5XFxcXHUxODIwLVxcXFx1MTg3N1xcXFx1MTg4MC1cXFxcdTE4QUFcXFxcdTE4QjAtXFxcXHUxOEY1XFxcXHUxOTAwLVxcXFx1MTkxRVxcXFx1MTkyMC1cXFxcdTE5MkJcXFxcdTE5MzAtXFxcXHUxOTNCXFxcXHUxOTQ2LVxcXFx1MTk2RFxcXFx1MTk3MC1cXFxcdTE5NzRcXFxcdTE5ODAtXFxcXHUxOUFCXFxcXHUxOUIwLVxcXFx1MTlDOVxcXFx1MTlEMC1cXFxcdTE5RDlcXFxcdTFBMDAtXFxcXHUxQTFCXFxcXHUxQTIwLVxcXFx1MUE1RVxcXFx1MUE2MC1cXFxcdTFBN0NcXFxcdTFBN0YtXFxcXHUxQTg5XFxcXHUxQTkwLVxcXFx1MUE5OVxcXFx1MUFBN1xcXFx1MUFCMC1cXFxcdTFBQkRcXFxcdTFCMDAtXFxcXHUxQjRCXFxcXHUxQjUwLVxcXFx1MUI1OVxcXFx1MUI2Qi1cXFxcdTFCNzNcXFxcdTFCODAtXFxcXHUxQkYzXFxcXHUxQzAwLVxcXFx1MUMzN1xcXFx1MUM0MC1cXFxcdTFDNDlcXFxcdTFDNEQtXFxcXHUxQzdEXFxcXHUxQ0QwLVxcXFx1MUNEMlxcXFx1MUNENC1cXFxcdTFDRjZcXFxcdTFDRjhcXFxcdTFDRjlcXFxcdTFEMDAtXFxcXHUxREY1XFxcXHUxREZDLVxcXFx1MUYxNVxcXFx1MUYxOC1cXFxcdTFGMURcXFxcdTFGMjAtXFxcXHUxRjQ1XFxcXHUxRjQ4LVxcXFx1MUY0RFxcXFx1MUY1MC1cXFxcdTFGNTdcXFxcdTFGNTlcXFxcdTFGNUJcXFxcdTFGNURcXFxcdTFGNUYtXFxcXHUxRjdEXFxcXHUxRjgwLVxcXFx1MUZCNFxcXFx1MUZCNi1cXFxcdTFGQkNcXFxcdTFGQkVcXFxcdTFGQzItXFxcXHUxRkM0XFxcXHUxRkM2LVxcXFx1MUZDQ1xcXFx1MUZEMC1cXFxcdTFGRDNcXFxcdTFGRDYtXFxcXHUxRkRCXFxcXHUxRkUwLVxcXFx1MUZFQ1xcXFx1MUZGMi1cXFxcdTFGRjRcXFxcdTFGRjYtXFxcXHUxRkZDXFxcXHUyMDBDXFxcXHUyMDBEXFxcXHUyMDNGXFxcXHUyMDQwXFxcXHUyMDU0XFxcXHUyMDcxXFxcXHUyMDdGXFxcXHUyMDkwLVxcXFx1MjA5Q1xcXFx1MjBEMC1cXFxcdTIwRENcXFxcdTIwRTFcXFxcdTIwRTUtXFxcXHUyMEYwXFxcXHUyMTAyXFxcXHUyMTA3XFxcXHUyMTBBLVxcXFx1MjExM1xcXFx1MjExNVxcXFx1MjExOS1cXFxcdTIxMURcXFxcdTIxMjRcXFxcdTIxMjZcXFxcdTIxMjhcXFxcdTIxMkEtXFxcXHUyMTJEXFxcXHUyMTJGLVxcXFx1MjEzOVxcXFx1MjEzQy1cXFxcdTIxM0ZcXFxcdTIxNDUtXFxcXHUyMTQ5XFxcXHUyMTRFXFxcXHUyMTYwLVxcXFx1MjE4OFxcXFx1MkMwMC1cXFxcdTJDMkVcXFxcdTJDMzAtXFxcXHUyQzVFXFxcXHUyQzYwLVxcXFx1MkNFNFxcXFx1MkNFQi1cXFxcdTJDRjNcXFxcdTJEMDAtXFxcXHUyRDI1XFxcXHUyRDI3XFxcXHUyRDJEXFxcXHUyRDMwLVxcXFx1MkQ2N1xcXFx1MkQ2RlxcXFx1MkQ3Ri1cXFxcdTJEOTZcXFxcdTJEQTAtXFxcXHUyREE2XFxcXHUyREE4LVxcXFx1MkRBRVxcXFx1MkRCMC1cXFxcdTJEQjZcXFxcdTJEQjgtXFxcXHUyREJFXFxcXHUyREMwLVxcXFx1MkRDNlxcXFx1MkRDOC1cXFxcdTJEQ0VcXFxcdTJERDAtXFxcXHUyREQ2XFxcXHUyREQ4LVxcXFx1MkRERVxcXFx1MkRFMC1cXFxcdTJERkZcXFxcdTJFMkZcXFxcdTMwMDUtXFxcXHUzMDA3XFxcXHUzMDIxLVxcXFx1MzAyRlxcXFx1MzAzMS1cXFxcdTMwMzVcXFxcdTMwMzgtXFxcXHUzMDNDXFxcXHUzMDQxLVxcXFx1MzA5NlxcXFx1MzA5OVxcXFx1MzA5QVxcXFx1MzA5RC1cXFxcdTMwOUZcXFxcdTMwQTEtXFxcXHUzMEZBXFxcXHUzMEZDLVxcXFx1MzBGRlxcXFx1MzEwNS1cXFxcdTMxMkRcXFxcdTMxMzEtXFxcXHUzMThFXFxcXHUzMUEwLVxcXFx1MzFCQVxcXFx1MzFGMC1cXFxcdTMxRkZcXFxcdTM0MDAtXFxcXHU0REI1XFxcXHU0RTAwLVxcXFx1OUZDQ1xcXFx1QTAwMC1cXFxcdUE0OENcXFxcdUE0RDAtXFxcXHVBNEZEXFxcXHVBNTAwLVxcXFx1QTYwQ1xcXFx1QTYxMC1cXFxcdUE2MkJcXFxcdUE2NDAtXFxcXHVBNjZGXFxcXHVBNjc0LVxcXFx1QTY3RFxcXFx1QTY3Ri1cXFxcdUE2OURcXFxcdUE2OUYtXFxcXHVBNkYxXFxcXHVBNzE3LVxcXFx1QTcxRlxcXFx1QTcyMi1cXFxcdUE3ODhcXFxcdUE3OEItXFxcXHVBNzhFXFxcXHVBNzkwLVxcXFx1QTdBRFxcXFx1QTdCMFxcXFx1QTdCMVxcXFx1QTdGNy1cXFxcdUE4MjdcXFxcdUE4NDAtXFxcXHVBODczXFxcXHVBODgwLVxcXFx1QThDNFxcXFx1QThEMC1cXFxcdUE4RDlcXFxcdUE4RTAtXFxcXHVBOEY3XFxcXHVBOEZCXFxcXHVBOTAwLVxcXFx1QTkyRFxcXFx1QTkzMC1cXFxcdUE5NTNcXFxcdUE5NjAtXFxcXHVBOTdDXFxcXHVBOTgwLVxcXFx1QTlDMFxcXFx1QTlDRi1cXFxcdUE5RDlcXFxcdUE5RTAtXFxcXHVBOUZFXFxcXHVBQTAwLVxcXFx1QUEzNlxcXFx1QUE0MC1cXFxcdUFBNERcXFxcdUFBNTAtXFxcXHVBQTU5XFxcXHVBQTYwLVxcXFx1QUE3NlxcXFx1QUE3QS1cXFxcdUFBQzJcXFxcdUFBREItXFxcXHVBQUREXFxcXHVBQUUwLVxcXFx1QUFFRlxcXFx1QUFGMi1cXFxcdUFBRjZcXFxcdUFCMDEtXFxcXHVBQjA2XFxcXHVBQjA5LVxcXFx1QUIwRVxcXFx1QUIxMS1cXFxcdUFCMTZcXFxcdUFCMjAtXFxcXHVBQjI2XFxcXHVBQjI4LVxcXFx1QUIyRVxcXFx1QUIzMC1cXFxcdUFCNUFcXFxcdUFCNUMtXFxcXHVBQjVGXFxcXHVBQjY0XFxcXHVBQjY1XFxcXHVBQkMwLVxcXFx1QUJFQVxcXFx1QUJFQ1xcXFx1QUJFRFxcXFx1QUJGMC1cXFxcdUFCRjlcXFxcdUFDMDAtXFxcXHVEN0EzXFxcXHVEN0IwLVxcXFx1RDdDNlxcXFx1RDdDQi1cXFxcdUQ3RkJcXFxcdUY5MDAtXFxcXHVGQTZEXFxcXHVGQTcwLVxcXFx1RkFEOVxcXFx1RkIwMC1cXFxcdUZCMDZcXFxcdUZCMTMtXFxcXHVGQjE3XFxcXHVGQjFELVxcXFx1RkIyOFxcXFx1RkIyQS1cXFxcdUZCMzZcXFxcdUZCMzgtXFxcXHVGQjNDXFxcXHVGQjNFXFxcXHVGQjQwXFxcXHVGQjQxXFxcXHVGQjQzXFxcXHVGQjQ0XFxcXHVGQjQ2LVxcXFx1RkJCMVxcXFx1RkJEMy1cXFxcdUZEM0RcXFxcdUZENTAtXFxcXHVGRDhGXFxcXHVGRDkyLVxcXFx1RkRDN1xcXFx1RkRGMC1cXFxcdUZERkJcXFxcdUZFMDAtXFxcXHVGRTBGXFxcXHVGRTIwLVxcXFx1RkUyRFxcXFx1RkUzM1xcXFx1RkUzNFxcXFx1RkU0RC1cXFxcdUZFNEZcXFxcdUZFNzAtXFxcXHVGRTc0XFxcXHVGRTc2LVxcXFx1RkVGQ1xcXFx1RkYxMC1cXFxcdUZGMTlcXFxcdUZGMjEtXFxcXHVGRjNBXFxcXHVGRjNGXFxcXHVGRjQxLVxcXFx1RkY1QVxcXFx1RkY2Ni1cXFxcdUZGQkVcXFxcdUZGQzItXFxcXHVGRkM3XFxcXHVGRkNBLVxcXFx1RkZDRlxcXFx1RkZEMi1cXFxcdUZGRDdcXFxcdUZGREEtXFxcXHVGRkRDXVwiKTtcblxuLy8gRW5zdXJlIHRoZSBjb25kaXRpb24gaXMgdHJ1ZSwgb3RoZXJ3aXNlIHRocm93IGFuIGVycm9yLlxuLy8gVGhpcyBpcyBvbmx5IHRvIGhhdmUgYSBiZXR0ZXIgY29udHJhY3Qgc2VtYW50aWMsIGkuZS4gYW5vdGhlciBzYWZldHkgbmV0XG4vLyB0byBjYXRjaCBhIGxvZ2ljIGVycm9yLiBUaGUgY29uZGl0aW9uIHNoYWxsIGJlIGZ1bGZpbGxlZCBpbiBub3JtYWwgY2FzZS5cbi8vIERvIE5PVCB1c2UgdGhpcyB0byBlbmZvcmNlIGEgY2VydGFpbiBjb25kaXRpb24gb24gYW55IHVzZXIgaW5wdXQuXG5cbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FTU0VSVDogJyArIG1lc3NhZ2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzRGVjaW1hbERpZ2l0KGNoKSB7XG4gIHJldHVybiAoY2ggPj0gMHgzMCAmJiBjaCA8PSAweDM5KTsgLy8gMC4uOVxufVxuXG5mdW5jdGlvbiBpc0hleERpZ2l0KGNoKSB7XG4gIHJldHVybiAnMDEyMzQ1Njc4OWFiY2RlZkFCQ0RFRicuaW5kZXhPZihjaCkgPj0gMDtcbn1cblxuZnVuY3Rpb24gaXNPY3RhbERpZ2l0KGNoKSB7XG4gIHJldHVybiAnMDEyMzQ1NjcnLmluZGV4T2YoY2gpID49IDA7XG59XG5cbi8vIDcuMiBXaGl0ZSBTcGFjZVxuXG5mdW5jdGlvbiBpc1doaXRlU3BhY2UoY2gpIHtcbiAgcmV0dXJuIChjaCA9PT0gMHgyMCkgfHwgKGNoID09PSAweDA5KSB8fCAoY2ggPT09IDB4MEIpIHx8IChjaCA9PT0gMHgwQykgfHwgKGNoID09PSAweEEwKSB8fFxuICAgIChjaCA+PSAweDE2ODAgJiYgWzB4MTY4MCwgMHgxODBFLCAweDIwMDAsIDB4MjAwMSwgMHgyMDAyLCAweDIwMDMsIDB4MjAwNCwgMHgyMDA1LCAweDIwMDYsIDB4MjAwNywgMHgyMDA4LCAweDIwMDksIDB4MjAwQSwgMHgyMDJGLCAweDIwNUYsIDB4MzAwMCwgMHhGRUZGXS5pbmRleE9mKGNoKSA+PSAwKTtcbn1cblxuLy8gNy4zIExpbmUgVGVybWluYXRvcnNcblxuZnVuY3Rpb24gaXNMaW5lVGVybWluYXRvcihjaCkge1xuICByZXR1cm4gKGNoID09PSAweDBBKSB8fCAoY2ggPT09IDB4MEQpIHx8IChjaCA9PT0gMHgyMDI4KSB8fCAoY2ggPT09IDB4MjAyOSk7XG59XG5cbi8vIDcuNiBJZGVudGlmaWVyIE5hbWVzIGFuZCBJZGVudGlmaWVyc1xuXG5mdW5jdGlvbiBpc0lkZW50aWZpZXJTdGFydChjaCkge1xuICByZXR1cm4gKGNoID09PSAweDI0KSB8fCAoY2ggPT09IDB4NUYpIHx8IC8vICQgKGRvbGxhcikgYW5kIF8gKHVuZGVyc2NvcmUpXG4gICAgKGNoID49IDB4NDEgJiYgY2ggPD0gMHg1QSkgfHwgLy8gQS4uWlxuICAgIChjaCA+PSAweDYxICYmIGNoIDw9IDB4N0EpIHx8IC8vIGEuLnpcbiAgICAoY2ggPT09IDB4NUMpIHx8IC8vIFxcIChiYWNrc2xhc2gpXG4gICAgKChjaCA+PSAweDgwKSAmJiBSZWdleE5vbkFzY2lpSWRlbnRpZmllclN0YXJ0LnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShjaCkpKTtcbn1cblxuZnVuY3Rpb24gaXNJZGVudGlmaWVyUGFydChjaCkge1xuICByZXR1cm4gKGNoID09PSAweDI0KSB8fCAoY2ggPT09IDB4NUYpIHx8IC8vICQgKGRvbGxhcikgYW5kIF8gKHVuZGVyc2NvcmUpXG4gICAgKGNoID49IDB4NDEgJiYgY2ggPD0gMHg1QSkgfHwgLy8gQS4uWlxuICAgIChjaCA+PSAweDYxICYmIGNoIDw9IDB4N0EpIHx8IC8vIGEuLnpcbiAgICAoY2ggPj0gMHgzMCAmJiBjaCA8PSAweDM5KSB8fCAvLyAwLi45XG4gICAgKGNoID09PSAweDVDKSB8fCAvLyBcXCAoYmFja3NsYXNoKVxuICAgICgoY2ggPj0gMHg4MCkgJiYgUmVnZXhOb25Bc2NpaUlkZW50aWZpZXJQYXJ0LnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShjaCkpKTtcbn1cblxuLy8gNy42LjEuMSBLZXl3b3Jkc1xuXG52YXIga2V5d29yZHMgPSB7XG4gICdpZic6MSwgJ2luJzoxLCAnZG8nOjEsXG4gICd2YXInOjEsICdmb3InOjEsICduZXcnOjEsICd0cnknOjEsICdsZXQnOjEsXG4gICd0aGlzJzoxLCAnZWxzZSc6MSwgJ2Nhc2UnOjEsICd2b2lkJzoxLCAnd2l0aCc6MSwgJ2VudW0nOjEsXG4gICd3aGlsZSc6MSwgJ2JyZWFrJzoxLCAnY2F0Y2gnOjEsICd0aHJvdyc6MSwgJ2NvbnN0JzoxLCAneWllbGQnOjEsICdjbGFzcyc6MSwgJ3N1cGVyJzoxLFxuICAncmV0dXJuJzoxLCAndHlwZW9mJzoxLCAnZGVsZXRlJzoxLCAnc3dpdGNoJzoxLCAnZXhwb3J0JzoxLCAnaW1wb3J0JzoxLCAncHVibGljJzoxLCAnc3RhdGljJzoxLFxuICAnZGVmYXVsdCc6MSwgJ2ZpbmFsbHknOjEsICdleHRlbmRzJzoxLCAncGFja2FnZSc6MSwgJ3ByaXZhdGUnOjEsXG4gICdmdW5jdGlvbic6MSwgJ2NvbnRpbnVlJzoxLCAnZGVidWdnZXInOjEsXG4gICdpbnRlcmZhY2UnOjEsICdwcm90ZWN0ZWQnOjEsXG4gICdpbnN0YW5jZW9mJzoxLCAnaW1wbGVtZW50cyc6MVxufTtcblxuZnVuY3Rpb24gc2tpcENvbW1lbnQoKSB7XG4gIHZhciBjaDtcblxuICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcblxuICAgIGlmIChpc1doaXRlU3BhY2UoY2gpIHx8IGlzTGluZVRlcm1pbmF0b3IoY2gpKSB7XG4gICAgICArK2luZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2NhbkhleEVzY2FwZShwcmVmaXgpIHtcbiAgdmFyIGksIGxlbiwgY2gsIGNvZGUgPSAwO1xuXG4gIGxlbiA9IChwcmVmaXggPT09ICd1JykgPyA0IDogMjtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGlzSGV4RGlnaXQoc291cmNlW2luZGV4XSkpIHtcbiAgICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuICAgICAgY29kZSA9IGNvZGUgKiAxNiArICcwMTIzNDU2Nzg5YWJjZGVmJy5pbmRleE9mKGNoLnRvTG93ZXJDYXNlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW5leHBlY3RlZFRva2VuLCBJTExFR0FMKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG59XG5cbmZ1bmN0aW9uIHNjYW5Vbmljb2RlQ29kZVBvaW50RXNjYXBlKCkge1xuICB2YXIgY2gsIGNvZGUsIGN1MSwgY3UyO1xuXG4gIGNoID0gc291cmNlW2luZGV4XTtcbiAgY29kZSA9IDA7XG5cbiAgLy8gQXQgbGVhc3QsIG9uZSBoZXggZGlnaXQgaXMgcmVxdWlyZWQuXG4gIGlmIChjaCA9PT0gJ30nKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gIH1cblxuICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICBjaCA9IHNvdXJjZVtpbmRleCsrXTtcbiAgICBpZiAoIWlzSGV4RGlnaXQoY2gpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29kZSA9IGNvZGUgKiAxNiArICcwMTIzNDU2Nzg5YWJjZGVmJy5pbmRleE9mKGNoLnRvTG93ZXJDYXNlKCkpO1xuICB9XG5cbiAgaWYgKGNvZGUgPiAweDEwRkZGRiB8fCBjaCAhPT0gJ30nKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gIH1cblxuICAvLyBVVEYtMTYgRW5jb2RpbmdcbiAgaWYgKGNvZGUgPD0gMHhGRkZGKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gIH1cbiAgY3UxID0gKChjb2RlIC0gMHgxMDAwMCkgPj4gMTApICsgMHhEODAwO1xuICBjdTIgPSAoKGNvZGUgLSAweDEwMDAwKSAmIDEwMjMpICsgMHhEQzAwO1xuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjdTEsIGN1Mik7XG59XG5cbmZ1bmN0aW9uIGdldEVzY2FwZWRJZGVudGlmaWVyKCkge1xuICB2YXIgY2gsIGlkO1xuXG4gIGNoID0gc291cmNlLmNoYXJDb2RlQXQoaW5kZXgrKyk7XG4gIGlkID0gU3RyaW5nLmZyb21DaGFyQ29kZShjaCk7XG5cbiAgLy8gJ1xcdScgKFUrMDA1QywgVSswMDc1KSBkZW5vdGVzIGFuIGVzY2FwZWQgY2hhcmFjdGVyLlxuICBpZiAoY2ggPT09IDB4NUMpIHtcbiAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpICE9PSAweDc1KSB7XG4gICAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW5leHBlY3RlZFRva2VuLCBJTExFR0FMKTtcbiAgICB9XG4gICAgKytpbmRleDtcbiAgICBjaCA9IHNjYW5IZXhFc2NhcGUoJ3UnKTtcbiAgICBpZiAoIWNoIHx8IGNoID09PSAnXFxcXCcgfHwgIWlzSWRlbnRpZmllclN0YXJ0KGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW5leHBlY3RlZFRva2VuLCBJTExFR0FMKTtcbiAgICB9XG4gICAgaWQgPSBjaDtcbiAgfVxuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGNoID0gc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgIGlmICghaXNJZGVudGlmaWVyUGFydChjaCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICArK2luZGV4O1xuICAgIGlkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpO1xuXG4gICAgLy8gJ1xcdScgKFUrMDA1QywgVSswMDc1KSBkZW5vdGVzIGFuIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgIGlmIChjaCA9PT0gMHg1Qykge1xuICAgICAgaWQgPSBpZC5zdWJzdHIoMCwgaWQubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpICE9PSAweDc1KSB7XG4gICAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgICAgfVxuICAgICAgKytpbmRleDtcbiAgICAgIGNoID0gc2NhbkhleEVzY2FwZSgndScpO1xuICAgICAgaWYgKCFjaCB8fCBjaCA9PT0gJ1xcXFwnIHx8ICFpc0lkZW50aWZpZXJQYXJ0KGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgICAgfVxuICAgICAgaWQgKz0gY2g7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGlkO1xufVxuXG5mdW5jdGlvbiBnZXRJZGVudGlmaWVyKCkge1xuICB2YXIgc3RhcnQsIGNoO1xuXG4gIHN0YXJ0ID0gaW5kZXgrKztcbiAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgY2ggPSBzb3VyY2UuY2hhckNvZGVBdChpbmRleCk7XG4gICAgaWYgKGNoID09PSAweDVDKSB7XG4gICAgICAvLyBCbGFja3NsYXNoIChVKzAwNUMpIG1hcmtzIFVuaWNvZGUgZXNjYXBlIHNlcXVlbmNlLlxuICAgICAgaW5kZXggPSBzdGFydDtcbiAgICAgIHJldHVybiBnZXRFc2NhcGVkSWRlbnRpZmllcigpO1xuICAgIH1cbiAgICBpZiAoaXNJZGVudGlmaWVyUGFydChjaCkpIHtcbiAgICAgICsraW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzb3VyY2Uuc2xpY2Uoc3RhcnQsIGluZGV4KTtcbn1cblxuZnVuY3Rpb24gc2NhbklkZW50aWZpZXIoKSB7XG4gIHZhciBzdGFydCwgaWQsIHR5cGU7XG5cbiAgc3RhcnQgPSBpbmRleDtcblxuICAvLyBCYWNrc2xhc2ggKFUrMDA1Qykgc3RhcnRzIGFuIGVzY2FwZWQgY2hhcmFjdGVyLlxuICBpZCA9IChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkgPT09IDB4NUMpID8gZ2V0RXNjYXBlZElkZW50aWZpZXIoKSA6IGdldElkZW50aWZpZXIoKTtcblxuICAvLyBUaGVyZSBpcyBubyBrZXl3b3JkIG9yIGxpdGVyYWwgd2l0aCBvbmx5IG9uZSBjaGFyYWN0ZXIuXG4gIC8vIFRodXMsIGl0IG11c3QgYmUgYW4gaWRlbnRpZmllci5cbiAgaWYgKGlkLmxlbmd0aCA9PT0gMSkge1xuICAgIHR5cGUgPSBUb2tlbklkZW50aWZpZXI7XG4gIH0gZWxzZSBpZiAoa2V5d29yZHMuaGFzT3duUHJvcGVydHkoaWQpKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgdHlwZSA9IFRva2VuS2V5d29yZDtcbiAgfSBlbHNlIGlmIChpZCA9PT0gJ251bGwnKSB7XG4gICAgdHlwZSA9IFRva2VuTnVsbExpdGVyYWw7XG4gIH0gZWxzZSBpZiAoaWQgPT09ICd0cnVlJyB8fCBpZCA9PT0gJ2ZhbHNlJykge1xuICAgIHR5cGUgPSBUb2tlbkJvb2xlYW5MaXRlcmFsO1xuICB9IGVsc2Uge1xuICAgIHR5cGUgPSBUb2tlbklkZW50aWZpZXI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgdmFsdWU6IGlkLFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGluZGV4XG4gIH07XG59XG5cbi8vIDcuNyBQdW5jdHVhdG9yc1xuXG5mdW5jdGlvbiBzY2FuUHVuY3R1YXRvcigpIHtcbiAgdmFyIHN0YXJ0ID0gaW5kZXgsXG4gICAgY29kZSA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSxcbiAgICBjb2RlMixcbiAgICBjaDEgPSBzb3VyY2VbaW5kZXhdLFxuICAgIGNoMixcbiAgICBjaDMsXG4gICAgY2g0O1xuXG4gIHN3aXRjaCAoY29kZSkge1xuXG4gICAgLy8gQ2hlY2sgZm9yIG1vc3QgY29tbW9uIHNpbmdsZS1jaGFyYWN0ZXIgcHVuY3R1YXRvcnMuXG4gICAgY2FzZSAweDJFOiAvLyAuIGRvdFxuICAgIGNhc2UgMHgyODogLy8gKCBvcGVuIGJyYWNrZXRcbiAgICBjYXNlIDB4Mjk6IC8vICkgY2xvc2UgYnJhY2tldFxuICAgIGNhc2UgMHgzQjogLy8gOyBzZW1pY29sb25cbiAgICBjYXNlIDB4MkM6IC8vICwgY29tbWFcbiAgICBjYXNlIDB4N0I6IC8vIHsgb3BlbiBjdXJseSBicmFjZVxuICAgIGNhc2UgMHg3RDogLy8gfSBjbG9zZSBjdXJseSBicmFjZVxuICAgIGNhc2UgMHg1QjogLy8gW1xuICAgIGNhc2UgMHg1RDogLy8gXVxuICAgIGNhc2UgMHgzQTogLy8gOlxuICAgIGNhc2UgMHgzRjogLy8gP1xuICAgIGNhc2UgMHg3RTogLy8gflxuICAgICAgKytpbmRleDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRva2VuUHVuY3R1YXRvcixcbiAgICAgICAgdmFsdWU6IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSksXG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgZW5kOiBpbmRleFxuICAgICAgfTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICBjb2RlMiA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4ICsgMSk7XG5cbiAgICAgIC8vICc9JyAoVSswMDNEKSBtYXJrcyBhbiBhc3NpZ25tZW50IG9yIGNvbXBhcmlzb24gb3BlcmF0b3IuXG4gICAgICBpZiAoY29kZTIgPT09IDB4M0QpIHtcbiAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgY2FzZSAweDJCOiAvLyArXG4gICAgICAgICAgY2FzZSAweDJEOiAvLyAtXG4gICAgICAgICAgY2FzZSAweDJGOiAvLyAvXG4gICAgICAgICAgY2FzZSAweDNDOiAvLyA8XG4gICAgICAgICAgY2FzZSAweDNFOiAvLyA+XG4gICAgICAgICAgY2FzZSAweDVFOiAvLyBeXG4gICAgICAgICAgY2FzZSAweDdDOiAvLyB8XG4gICAgICAgICAgY2FzZSAweDI1OiAvLyAlXG4gICAgICAgICAgY2FzZSAweDI2OiAvLyAmXG4gICAgICAgICAgY2FzZSAweDJBOiAvLyAqXG4gICAgICAgICAgICBpbmRleCArPSAyO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogVG9rZW5QdW5jdHVhdG9yLFxuICAgICAgICAgICAgICB2YWx1ZTogU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZTIpLFxuICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgIGVuZDogaW5kZXhcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICBjYXNlIDB4MjE6IC8vICFcbiAgICAgICAgICBjYXNlIDB4M0Q6IC8vID1cbiAgICAgICAgICAgIGluZGV4ICs9IDI7XG5cbiAgICAgICAgICAgIC8vICE9PSBhbmQgPT09XG4gICAgICAgICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpID09PSAweDNEKSB7XG4gICAgICAgICAgICAgICsraW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiBUb2tlblB1bmN0dWF0b3IsXG4gICAgICAgICAgICAgIHZhbHVlOiBzb3VyY2Uuc2xpY2Uoc3RhcnQsIGluZGV4KSxcbiAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICBlbmQ6IGluZGV4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gIH1cblxuICAvLyA0LWNoYXJhY3RlciBwdW5jdHVhdG9yOiA+Pj49XG5cbiAgY2g0ID0gc291cmNlLnN1YnN0cihpbmRleCwgNCk7XG5cbiAgaWYgKGNoNCA9PT0gJz4+Pj0nKSB7XG4gICAgaW5kZXggKz0gNDtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogVG9rZW5QdW5jdHVhdG9yLFxuICAgICAgdmFsdWU6IGNoNCxcbiAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgIGVuZDogaW5kZXhcbiAgICB9O1xuICB9XG5cbiAgLy8gMy1jaGFyYWN0ZXIgcHVuY3R1YXRvcnM6ID09PSAhPT0gPj4+IDw8PSA+Pj1cblxuICBjaDMgPSBjaDQuc3Vic3RyKDAsIDMpO1xuXG4gIGlmIChjaDMgPT09ICc+Pj4nIHx8IGNoMyA9PT0gJzw8PScgfHwgY2gzID09PSAnPj49Jykge1xuICAgIGluZGV4ICs9IDM7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFRva2VuUHVuY3R1YXRvcixcbiAgICAgIHZhbHVlOiBjaDMsXG4gICAgICBzdGFydDogc3RhcnQsXG4gICAgICBlbmQ6IGluZGV4XG4gICAgfTtcbiAgfVxuXG4gIC8vIE90aGVyIDItY2hhcmFjdGVyIHB1bmN0dWF0b3JzOiArKyAtLSA8PCA+PiAmJiB8fFxuICBjaDIgPSBjaDMuc3Vic3RyKDAsIDIpO1xuXG4gIGlmICgoY2gxID09PSBjaDJbMV0gJiYgKCcrLTw+JnwnLmluZGV4T2YoY2gxKSA+PSAwKSkgfHwgY2gyID09PSAnPT4nKSB7XG4gICAgaW5kZXggKz0gMjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogVG9rZW5QdW5jdHVhdG9yLFxuICAgICAgdmFsdWU6IGNoMixcbiAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgIGVuZDogaW5kZXhcbiAgICB9O1xuICB9XG5cbiAgLy8gMS1jaGFyYWN0ZXIgcHVuY3R1YXRvcnM6IDwgPiA9ICEgKyAtICogJSAmIHwgXiAvXG5cbiAgaWYgKCc8Pj0hKy0qJSZ8Xi8nLmluZGV4T2YoY2gxKSA+PSAwKSB7XG4gICAgKytpbmRleDtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogVG9rZW5QdW5jdHVhdG9yLFxuICAgICAgdmFsdWU6IGNoMSxcbiAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgIGVuZDogaW5kZXhcbiAgICB9O1xuICB9XG5cbiAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG59XG5cbi8vIDcuOC4zIE51bWVyaWMgTGl0ZXJhbHNcblxuZnVuY3Rpb24gc2NhbkhleExpdGVyYWwoc3RhcnQpIHtcbiAgdmFyIG51bWJlciA9ICcnO1xuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmICghaXNIZXhEaWdpdChzb3VyY2VbaW5kZXhdKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG51bWJlciArPSBzb3VyY2VbaW5kZXgrK107XG4gIH1cblxuICBpZiAobnVtYmVyLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICB9XG5cbiAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW5leHBlY3RlZFRva2VuLCBJTExFR0FMKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogVG9rZW5OdW1lcmljTGl0ZXJhbCxcbiAgICB2YWx1ZTogcGFyc2VJbnQoJzB4JyArIG51bWJlciwgMTYpLFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGluZGV4XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNjYW5PY3RhbExpdGVyYWwoc3RhcnQpIHtcbiAgdmFyIG51bWJlciA9ICcwJyArIHNvdXJjZVtpbmRleCsrXTtcbiAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKCFpc09jdGFsRGlnaXQoc291cmNlW2luZGV4XSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBudW1iZXIgKz0gc291cmNlW2luZGV4KytdO1xuICB9XG5cbiAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkgfHwgaXNEZWNpbWFsRGlnaXQoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpKSkge1xuICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBUb2tlbk51bWVyaWNMaXRlcmFsLFxuICAgIHZhbHVlOiBwYXJzZUludChudW1iZXIsIDgpLFxuICAgIG9jdGFsOiB0cnVlLFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGluZGV4XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNjYW5OdW1lcmljTGl0ZXJhbCgpIHtcbiAgdmFyIG51bWJlciwgc3RhcnQsIGNoO1xuXG4gIGNoID0gc291cmNlW2luZGV4XTtcbiAgYXNzZXJ0KGlzRGVjaW1hbERpZ2l0KGNoLmNoYXJDb2RlQXQoMCkpIHx8IChjaCA9PT0gJy4nKSxcbiAgICAnTnVtZXJpYyBsaXRlcmFsIG11c3Qgc3RhcnQgd2l0aCBhIGRlY2ltYWwgZGlnaXQgb3IgYSBkZWNpbWFsIHBvaW50Jyk7XG5cbiAgc3RhcnQgPSBpbmRleDtcbiAgbnVtYmVyID0gJyc7XG4gIGlmIChjaCAhPT0gJy4nKSB7XG4gICAgbnVtYmVyID0gc291cmNlW2luZGV4KytdO1xuICAgIGNoID0gc291cmNlW2luZGV4XTtcblxuICAgIC8vIEhleCBudW1iZXIgc3RhcnRzIHdpdGggJzB4Jy5cbiAgICAvLyBPY3RhbCBudW1iZXIgc3RhcnRzIHdpdGggJzAnLlxuICAgIGlmIChudW1iZXIgPT09ICcwJykge1xuICAgICAgaWYgKGNoID09PSAneCcgfHwgY2ggPT09ICdYJykge1xuICAgICAgICArK2luZGV4O1xuICAgICAgICByZXR1cm4gc2NhbkhleExpdGVyYWwoc3RhcnQpO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2N0YWxEaWdpdChjaCkpIHtcbiAgICAgICAgcmV0dXJuIHNjYW5PY3RhbExpdGVyYWwoc3RhcnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBkZWNpbWFsIG51bWJlciBzdGFydHMgd2l0aCAnMCcgc3VjaCBhcyAnMDknIGlzIGlsbGVnYWwuXG4gICAgICBpZiAoY2ggJiYgaXNEZWNpbWFsRGlnaXQoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2hpbGUgKGlzRGVjaW1hbERpZ2l0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgIG51bWJlciArPSBzb3VyY2VbaW5kZXgrK107XG4gICAgfVxuICAgIGNoID0gc291cmNlW2luZGV4XTtcbiAgfVxuXG4gIGlmIChjaCA9PT0gJy4nKSB7XG4gICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcbiAgICB3aGlsZSAoaXNEZWNpbWFsRGlnaXQoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpKSkge1xuICAgICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcbiAgICB9XG4gICAgY2ggPSBzb3VyY2VbaW5kZXhdO1xuICB9XG5cbiAgaWYgKGNoID09PSAnZScgfHwgY2ggPT09ICdFJykge1xuICAgIG51bWJlciArPSBzb3VyY2VbaW5kZXgrK107XG5cbiAgICBjaCA9IHNvdXJjZVtpbmRleF07XG4gICAgaWYgKGNoID09PSAnKycgfHwgY2ggPT09ICctJykge1xuICAgICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcbiAgICB9XG4gICAgaWYgKGlzRGVjaW1hbERpZ2l0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgIHdoaWxlIChpc0RlY2ltYWxEaWdpdChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgICAgIG51bWJlciArPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0lkZW50aWZpZXJTdGFydChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHR5cGU6IFRva2VuTnVtZXJpY0xpdGVyYWwsXG4gICAgdmFsdWU6IHBhcnNlRmxvYXQobnVtYmVyKSxcbiAgICBzdGFydDogc3RhcnQsXG4gICAgZW5kOiBpbmRleFxuICB9O1xufVxuXG4vLyA3LjguNCBTdHJpbmcgTGl0ZXJhbHNcblxuZnVuY3Rpb24gc2NhblN0cmluZ0xpdGVyYWwoKSB7XG4gIHZhciBzdHIgPSAnJyxcbiAgICBxdW90ZSwgc3RhcnQsIGNoLCBjb2RlLCBvY3RhbCA9IGZhbHNlO1xuXG4gIHF1b3RlID0gc291cmNlW2luZGV4XTtcbiAgYXNzZXJ0KChxdW90ZSA9PT0gJ1xcJycgfHwgcXVvdGUgPT09ICdcIicpLFxuICAgICdTdHJpbmcgbGl0ZXJhbCBtdXN0IHN0YXJ0cyB3aXRoIGEgcXVvdGUnKTtcblxuICBzdGFydCA9IGluZGV4O1xuICArK2luZGV4O1xuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuXG4gICAgaWYgKGNoID09PSBxdW90ZSkge1xuICAgICAgcXVvdGUgPSAnJztcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgY2ggPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICBpZiAoIWNoIHx8ICFpc0xpbmVUZXJtaW5hdG9yKGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgIHN3aXRjaCAoY2gpIHtcbiAgICAgICAgICBjYXNlICd1JzpcbiAgICAgICAgICBjYXNlICd4JzpcbiAgICAgICAgICAgIGlmIChzb3VyY2VbaW5kZXhdID09PSAneycpIHtcbiAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgICAgc3RyICs9IHNjYW5Vbmljb2RlQ29kZVBvaW50RXNjYXBlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdHIgKz0gc2NhbkhleEVzY2FwZShjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICduJzpcbiAgICAgICAgICAgIHN0ciArPSAnXFxuJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3InOlxuICAgICAgICAgICAgc3RyICs9ICdcXHInO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICBzdHIgKz0gJ1xcdCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICAgIHN0ciArPSAnXFxiJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgc3RyICs9ICdcXGYnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndic6XG4gICAgICAgICAgICBzdHIgKz0gJ1xceDBCJztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChpc09jdGFsRGlnaXQoY2gpKSB7XG4gICAgICAgICAgICAgIGNvZGUgPSAnMDEyMzQ1NjcnLmluZGV4T2YoY2gpO1xuXG4gICAgICAgICAgICAgIC8vIFxcMCBpcyBub3Qgb2N0YWwgZXNjYXBlIHNlcXVlbmNlXG4gICAgICAgICAgICAgIGlmIChjb2RlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgb2N0YWwgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGlzT2N0YWxEaWdpdChzb3VyY2VbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIG9jdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb2RlID0gY29kZSAqIDggKyAnMDEyMzQ1NjcnLmluZGV4T2Yoc291cmNlW2luZGV4KytdKTtcblxuICAgICAgICAgICAgICAgIC8vIDMgZGlnaXRzIGFyZSBvbmx5IGFsbG93ZWQgd2hlbiBzdHJpbmcgc3RhcnRzXG4gICAgICAgICAgICAgICAgLy8gd2l0aCAwLCAxLCAyLCAzXG4gICAgICAgICAgICAgICAgaWYgKCcwMTIzJy5pbmRleE9mKGNoKSA+PSAwICYmXG4gICAgICAgICAgICAgICAgICBpbmRleCA8IGxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgaXNPY3RhbERpZ2l0KHNvdXJjZVtpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICBjb2RlID0gY29kZSAqIDggKyAnMDEyMzQ1NjcnLmluZGV4T2Yoc291cmNlW2luZGV4KytdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdHIgKz0gY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNoID09PSAnXFxyJyAmJiBzb3VyY2VbaW5kZXhdID09PSAnXFxuJykge1xuICAgICAgICAgICsraW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzTGluZVRlcm1pbmF0b3IoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gY2g7XG4gICAgfVxuICB9XG5cbiAgaWYgKHF1b3RlICE9PSAnJykge1xuICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBUb2tlblN0cmluZ0xpdGVyYWwsXG4gICAgdmFsdWU6IHN0cixcbiAgICBvY3RhbDogb2N0YWwsXG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogaW5kZXhcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGVzdFJlZ0V4cChwYXR0ZXJuLCBmbGFncykge1xuICB2YXIgdG1wID0gcGF0dGVybjtcblxuICBpZiAoZmxhZ3MuaW5kZXhPZigndScpID49IDApIHtcbiAgICAvLyBSZXBsYWNlIGVhY2ggYXN0cmFsIHN5bWJvbCBhbmQgZXZlcnkgVW5pY29kZSBjb2RlIHBvaW50XG4gICAgLy8gZXNjYXBlIHNlcXVlbmNlIHdpdGggYSBzaW5nbGUgQVNDSUkgc3ltYm9sIHRvIGF2b2lkIHRocm93aW5nIG9uXG4gICAgLy8gcmVndWxhciBleHByZXNzaW9ucyB0aGF0IGFyZSBvbmx5IHZhbGlkIGluIGNvbWJpbmF0aW9uIHdpdGggdGhlXG4gICAgLy8gYC91YCBmbGFnLlxuICAgIC8vIE5vdGU6IHJlcGxhY2luZyB3aXRoIHRoZSBBU0NJSSBzeW1ib2wgYHhgIG1pZ2h0IGNhdXNlIGZhbHNlXG4gICAgLy8gbmVnYXRpdmVzIGluIHVubGlrZWx5IHNjZW5hcmlvcy4gRm9yIGV4YW1wbGUsIGBbXFx1ezYxfS1iXWAgaXMgYVxuICAgIC8vIHBlcmZlY3RseSB2YWxpZCBwYXR0ZXJuIHRoYXQgaXMgZXF1aXZhbGVudCB0byBgW2EtYl1gLCBidXQgaXRcbiAgICAvLyB3b3VsZCBiZSByZXBsYWNlZCBieSBgW3gtYl1gIHdoaWNoIHRocm93cyBhbiBlcnJvci5cbiAgICB0bXAgPSB0bXBcbiAgICAgIC5yZXBsYWNlKC9cXFxcdVxceyhbMC05YS1mQS1GXSspXFx9L2csIGZ1bmN0aW9uKCQwLCAkMSkge1xuICAgICAgICBpZiAocGFyc2VJbnQoJDEsIDE2KSA8PSAweDEwRkZGRikge1xuICAgICAgICAgIHJldHVybiAneCc7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZUludmFsaWRSZWdFeHApO1xuICAgICAgfSlcbiAgICAgIC5yZXBsYWNlKC9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2csICd4Jyk7XG4gIH1cblxuICAvLyBGaXJzdCwgZGV0ZWN0IGludmFsaWQgcmVndWxhciBleHByZXNzaW9ucy5cbiAgdHJ5IHtcbiAgICBuZXcgUmVnRXhwKHRtcCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlSW52YWxpZFJlZ0V4cCk7XG4gIH1cblxuICAvLyBSZXR1cm4gYSByZWd1bGFyIGV4cHJlc3Npb24gb2JqZWN0IGZvciB0aGlzIHBhdHRlcm4tZmxhZyBwYWlyLCBvclxuICAvLyBgbnVsbGAgaW4gY2FzZSB0aGUgY3VycmVudCBlbnZpcm9ubWVudCBkb2Vzbid0IHN1cHBvcnQgdGhlIGZsYWdzIGl0XG4gIC8vIHVzZXMuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybiwgZmxhZ3MpO1xuICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzY2FuUmVnRXhwQm9keSgpIHtcbiAgdmFyIGNoLCBzdHIsIGNsYXNzTWFya2VyLCB0ZXJtaW5hdGVkLCBib2R5O1xuXG4gIGNoID0gc291cmNlW2luZGV4XTtcbiAgYXNzZXJ0KGNoID09PSAnLycsICdSZWd1bGFyIGV4cHJlc3Npb24gbGl0ZXJhbCBtdXN0IHN0YXJ0IHdpdGggYSBzbGFzaCcpO1xuICBzdHIgPSBzb3VyY2VbaW5kZXgrK107XG5cbiAgY2xhc3NNYXJrZXIgPSBmYWxzZTtcbiAgdGVybWluYXRlZCA9IGZhbHNlO1xuICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICBjaCA9IHNvdXJjZVtpbmRleCsrXTtcbiAgICBzdHIgKz0gY2g7XG4gICAgaWYgKGNoID09PSAnXFxcXCcpIHtcbiAgICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuICAgICAgLy8gRUNNQS0yNjIgNy44LjVcbiAgICAgIGlmIChpc0xpbmVUZXJtaW5hdG9yKGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbnRlcm1pbmF0ZWRSZWdFeHApO1xuICAgICAgfVxuICAgICAgc3RyICs9IGNoO1xuICAgIH0gZWxzZSBpZiAoaXNMaW5lVGVybWluYXRvcihjaC5jaGFyQ29kZUF0KDApKSkge1xuICAgICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVudGVybWluYXRlZFJlZ0V4cCk7XG4gICAgfSBlbHNlIGlmIChjbGFzc01hcmtlcikge1xuICAgICAgaWYgKGNoID09PSAnXScpIHtcbiAgICAgICAgY2xhc3NNYXJrZXIgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNoID09PSAnLycpIHtcbiAgICAgICAgdGVybWluYXRlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1snKSB7XG4gICAgICAgIGNsYXNzTWFya2VyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIXRlcm1pbmF0ZWQpIHtcbiAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW50ZXJtaW5hdGVkUmVnRXhwKTtcbiAgfVxuXG4gIC8vIEV4Y2x1ZGUgbGVhZGluZyBhbmQgdHJhaWxpbmcgc2xhc2guXG4gIGJvZHkgPSBzdHIuc3Vic3RyKDEsIHN0ci5sZW5ndGggLSAyKTtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogYm9keSxcbiAgICBsaXRlcmFsOiBzdHJcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2NhblJlZ0V4cEZsYWdzKCkge1xuICB2YXIgY2gsIHN0ciwgZmxhZ3M7XG5cbiAgc3RyID0gJyc7XG4gIGZsYWdzID0gJyc7XG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGNoID0gc291cmNlW2luZGV4XTtcbiAgICBpZiAoIWlzSWRlbnRpZmllclBhcnQoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgICsraW5kZXg7XG4gICAgaWYgKGNoID09PSAnXFxcXCcgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmbGFncyArPSBjaDtcbiAgICAgIHN0ciArPSBjaDtcbiAgICB9XG4gIH1cblxuICBpZiAoZmxhZ3Muc2VhcmNoKC9bXmdpbXV5XS9nKSA+PSAwKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZUludmFsaWRSZWdFeHAsIGZsYWdzKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IGZsYWdzLFxuICAgIGxpdGVyYWw6IHN0clxuICB9O1xufVxuXG5mdW5jdGlvbiBzY2FuUmVnRXhwKCkge1xuICB2YXIgc3RhcnQsIGJvZHksIGZsYWdzLCB2YWx1ZTtcblxuICBsb29rYWhlYWQgPSBudWxsO1xuICBza2lwQ29tbWVudCgpO1xuICBzdGFydCA9IGluZGV4O1xuXG4gIGJvZHkgPSBzY2FuUmVnRXhwQm9keSgpO1xuICBmbGFncyA9IHNjYW5SZWdFeHBGbGFncygpO1xuICB2YWx1ZSA9IHRlc3RSZWdFeHAoYm9keS52YWx1ZSwgZmxhZ3MudmFsdWUpO1xuXG4gIHJldHVybiB7XG4gICAgbGl0ZXJhbDogYm9keS5saXRlcmFsICsgZmxhZ3MubGl0ZXJhbCxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgcmVnZXg6IHtcbiAgICAgIHBhdHRlcm46IGJvZHkudmFsdWUsXG4gICAgICBmbGFnczogZmxhZ3MudmFsdWVcbiAgICB9LFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGluZGV4XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzSWRlbnRpZmllck5hbWUodG9rZW4pIHtcbiAgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuSWRlbnRpZmllciB8fFxuICAgIHRva2VuLnR5cGUgPT09IFRva2VuS2V5d29yZCB8fFxuICAgIHRva2VuLnR5cGUgPT09IFRva2VuQm9vbGVhbkxpdGVyYWwgfHxcbiAgICB0b2tlbi50eXBlID09PSBUb2tlbk51bGxMaXRlcmFsO1xufVxuXG5mdW5jdGlvbiBhZHZhbmNlKCkge1xuICB2YXIgY2g7XG5cbiAgc2tpcENvbW1lbnQoKTtcblxuICBpZiAoaW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFRva2VuRU9GLFxuICAgICAgc3RhcnQ6IGluZGV4LFxuICAgICAgZW5kOiBpbmRleFxuICAgIH07XG4gIH1cblxuICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcblxuICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoY2gpKSB7XG4gICAgcmV0dXJuIHNjYW5JZGVudGlmaWVyKCk7XG4gIH1cblxuICAvLyBWZXJ5IGNvbW1vbjogKCBhbmQgKSBhbmQgO1xuICBpZiAoY2ggPT09IDB4MjggfHwgY2ggPT09IDB4MjkgfHwgY2ggPT09IDB4M0IpIHtcbiAgICByZXR1cm4gc2NhblB1bmN0dWF0b3IoKTtcbiAgfVxuXG4gIC8vIFN0cmluZyBsaXRlcmFsIHN0YXJ0cyB3aXRoIHNpbmdsZSBxdW90ZSAoVSswMDI3KSBvciBkb3VibGUgcXVvdGUgKFUrMDAyMikuXG4gIGlmIChjaCA9PT0gMHgyNyB8fCBjaCA9PT0gMHgyMikge1xuICAgIHJldHVybiBzY2FuU3RyaW5nTGl0ZXJhbCgpO1xuICB9XG5cblxuICAvLyBEb3QgKC4pIFUrMDAyRSBjYW4gYWxzbyBzdGFydCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciwgaGVuY2UgdGhlIG5lZWRcbiAgLy8gdG8gY2hlY2sgdGhlIG5leHQgY2hhcmFjdGVyLlxuICBpZiAoY2ggPT09IDB4MkUpIHtcbiAgICBpZiAoaXNEZWNpbWFsRGlnaXQoc291cmNlLmNoYXJDb2RlQXQoaW5kZXggKyAxKSkpIHtcbiAgICAgIHJldHVybiBzY2FuTnVtZXJpY0xpdGVyYWwoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjYW5QdW5jdHVhdG9yKCk7XG4gIH1cblxuICBpZiAoaXNEZWNpbWFsRGlnaXQoY2gpKSB7XG4gICAgcmV0dXJuIHNjYW5OdW1lcmljTGl0ZXJhbCgpO1xuICB9XG5cbiAgcmV0dXJuIHNjYW5QdW5jdHVhdG9yKCk7XG59XG5cbmZ1bmN0aW9uIGxleCgpIHtcbiAgdmFyIHRva2VuO1xuXG4gIHRva2VuID0gbG9va2FoZWFkO1xuICBpbmRleCA9IHRva2VuLmVuZDtcblxuICBsb29rYWhlYWQgPSBhZHZhbmNlKCk7XG5cbiAgaW5kZXggPSB0b2tlbi5lbmQ7XG5cbiAgcmV0dXJuIHRva2VuO1xufVxuXG5mdW5jdGlvbiBwZWVrKCkge1xuICB2YXIgcG9zO1xuXG4gIHBvcyA9IGluZGV4O1xuXG4gIGxvb2thaGVhZCA9IGFkdmFuY2UoKTtcbiAgaW5kZXggPSBwb3M7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaEFycmF5RXhwcmVzc2lvbihlbGVtZW50cykge1xuICB2YXIgbm9kZSA9IG5ldyBBU1ROb2RlKFN5bnRheEFycmF5RXhwcmVzc2lvbik7XG4gIG5vZGUuZWxlbWVudHMgPSBlbGVtZW50cztcbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaEJpbmFyeUV4cHJlc3Npb24ob3BlcmF0b3IsIGxlZnQsIHJpZ2h0KSB7XG4gIHZhciBub2RlID0gbmV3IEFTVE5vZGUoKG9wZXJhdG9yID09PSAnfHwnIHx8IG9wZXJhdG9yID09PSAnJiYnKSA/IFN5bnRheExvZ2ljYWxFeHByZXNzaW9uIDogU3ludGF4QmluYXJ5RXhwcmVzc2lvbik7XG4gIG5vZGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgbm9kZS5sZWZ0ID0gbGVmdDtcbiAgbm9kZS5yaWdodCA9IHJpZ2h0O1xuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZmluaXNoQ2FsbEV4cHJlc3Npb24oY2FsbGVlLCBhcmdzKSB7XG4gIHZhciBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4Q2FsbEV4cHJlc3Npb24pO1xuICBub2RlLmNhbGxlZSA9IGNhbGxlZTtcbiAgbm9kZS5hcmd1bWVudHMgPSBhcmdzO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZmluaXNoQ29uZGl0aW9uYWxFeHByZXNzaW9uKHRlc3QsIGNvbnNlcXVlbnQsIGFsdGVybmF0ZSkge1xuICB2YXIgbm9kZSA9IG5ldyBBU1ROb2RlKFN5bnRheENvbmRpdGlvbmFsRXhwcmVzc2lvbik7XG4gIG5vZGUudGVzdCA9IHRlc3Q7XG4gIG5vZGUuY29uc2VxdWVudCA9IGNvbnNlcXVlbnQ7XG4gIG5vZGUuYWx0ZXJuYXRlID0gYWx0ZXJuYXRlO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZmluaXNoSWRlbnRpZmllcihuYW1lKSB7XG4gIHZhciBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4SWRlbnRpZmllcik7XG4gIG5vZGUubmFtZSA9IG5hbWU7XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hMaXRlcmFsKHRva2VuKSB7XG4gIHZhciBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4TGl0ZXJhbCk7XG4gIG5vZGUudmFsdWUgPSB0b2tlbi52YWx1ZTtcbiAgbm9kZS5yYXcgPSBzb3VyY2Uuc2xpY2UodG9rZW4uc3RhcnQsIHRva2VuLmVuZCk7XG4gIGlmICh0b2tlbi5yZWdleCkge1xuICAgIGlmIChub2RlLnJhdyA9PT0gJy8vJykge1xuICAgICAgbm9kZS5yYXcgPSAnLyg/OikvJztcbiAgICB9XG4gICAgbm9kZS5yZWdleCA9IHRva2VuLnJlZ2V4O1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hNZW1iZXJFeHByZXNzaW9uKGFjY2Vzc29yLCBvYmplY3QsIHByb3BlcnR5KSB7XG4gIHZhciBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4TWVtYmVyRXhwcmVzc2lvbik7XG4gIG5vZGUuY29tcHV0ZWQgPSBhY2Nlc3NvciA9PT0gJ1snO1xuICBub2RlLm9iamVjdCA9IG9iamVjdDtcbiAgbm9kZS5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICBpZiAoIW5vZGUuY29tcHV0ZWQpIHByb3BlcnR5Lm1lbWJlciA9IHRydWU7XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hPYmplY3RFeHByZXNzaW9uKHByb3BlcnRpZXMpIHtcbiAgdmFyIG5vZGUgPSBuZXcgQVNUTm9kZShTeW50YXhPYmplY3RFeHByZXNzaW9uKTtcbiAgbm9kZS5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaFByb3BlcnR5KGtpbmQsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG5vZGUgPSBuZXcgQVNUTm9kZShTeW50YXhQcm9wZXJ0eSk7XG4gIG5vZGUua2V5ID0ga2V5O1xuICBub2RlLnZhbHVlID0gdmFsdWU7XG4gIG5vZGUua2luZCA9IGtpbmQ7XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hVbmFyeUV4cHJlc3Npb24ob3BlcmF0b3IsIGFyZ3VtZW50KSB7XG4gIHZhciBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4VW5hcnlFeHByZXNzaW9uKTtcbiAgbm9kZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICBub2RlLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gIG5vZGUucHJlZml4ID0gdHJ1ZTtcbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8vIFRocm93IGFuIGV4Y2VwdGlvblxuXG5mdW5jdGlvbiB0aHJvd0Vycm9yKHRva2VuLCBtZXNzYWdlRm9ybWF0KSB7XG4gIHZhciBlcnJvcixcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSxcbiAgICBtc2cgPSBtZXNzYWdlRm9ybWF0LnJlcGxhY2UoXG4gICAgICAvJShcXGQpL2csXG4gICAgICBmdW5jdGlvbih3aG9sZSwgaW5kZXgpIHtcbiAgICAgICAgYXNzZXJ0KGluZGV4IDwgYXJncy5sZW5ndGgsICdNZXNzYWdlIHJlZmVyZW5jZSBtdXN0IGJlIGluIHJhbmdlJyk7XG4gICAgICAgIHJldHVybiBhcmdzW2luZGV4XTtcbiAgICAgIH1cbiAgICApO1xuXG5cbiAgZXJyb3IgPSBuZXcgRXJyb3IobXNnKTtcbiAgZXJyb3IuaW5kZXggPSBpbmRleDtcbiAgZXJyb3IuZGVzY3JpcHRpb24gPSBtc2c7XG4gIHRocm93IGVycm9yO1xufVxuXG4vLyBUaHJvdyBhbiBleGNlcHRpb24gYmVjYXVzZSBvZiB0aGUgdG9rZW4uXG5cbmZ1bmN0aW9uIHRocm93VW5leHBlY3RlZCh0b2tlbikge1xuICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5FT0YpIHtcbiAgICB0aHJvd0Vycm9yKHRva2VuLCBNZXNzYWdlVW5leHBlY3RlZEVPUyk7XG4gIH1cblxuICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5OdW1lcmljTGl0ZXJhbCkge1xuICAgIHRocm93RXJyb3IodG9rZW4sIE1lc3NhZ2VVbmV4cGVjdGVkTnVtYmVyKTtcbiAgfVxuXG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlblN0cmluZ0xpdGVyYWwpIHtcbiAgICB0aHJvd0Vycm9yKHRva2VuLCBNZXNzYWdlVW5leHBlY3RlZFN0cmluZyk7XG4gIH1cblxuICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5JZGVudGlmaWVyKSB7XG4gICAgdGhyb3dFcnJvcih0b2tlbiwgTWVzc2FnZVVuZXhwZWN0ZWRJZGVudGlmaWVyKTtcbiAgfVxuXG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlbktleXdvcmQpIHtcbiAgICB0aHJvd0Vycm9yKHRva2VuLCBNZXNzYWdlVW5leHBlY3RlZFJlc2VydmVkKTtcbiAgfVxuXG4gIC8vIEJvb2xlYW5MaXRlcmFsLCBOdWxsTGl0ZXJhbCwgb3IgUHVuY3R1YXRvci5cbiAgdGhyb3dFcnJvcih0b2tlbiwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgdG9rZW4udmFsdWUpO1xufVxuXG4vLyBFeHBlY3QgdGhlIG5leHQgdG9rZW4gdG8gbWF0Y2ggdGhlIHNwZWNpZmllZCBwdW5jdHVhdG9yLlxuLy8gSWYgbm90LCBhbiBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24uXG5cbmZ1bmN0aW9uIGV4cGVjdCh2YWx1ZSkge1xuICB2YXIgdG9rZW4gPSBsZXgoKTtcbiAgaWYgKHRva2VuLnR5cGUgIT09IFRva2VuUHVuY3R1YXRvciB8fCB0b2tlbi52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICB0aHJvd1VuZXhwZWN0ZWQodG9rZW4pO1xuICB9XG59XG5cbi8vIFJldHVybiB0cnVlIGlmIHRoZSBuZXh0IHRva2VuIG1hdGNoZXMgdGhlIHNwZWNpZmllZCBwdW5jdHVhdG9yLlxuXG5mdW5jdGlvbiBtYXRjaCh2YWx1ZSkge1xuICByZXR1cm4gbG9va2FoZWFkLnR5cGUgPT09IFRva2VuUHVuY3R1YXRvciAmJiBsb29rYWhlYWQudmFsdWUgPT09IHZhbHVlO1xufVxuXG4vLyBSZXR1cm4gdHJ1ZSBpZiB0aGUgbmV4dCB0b2tlbiBtYXRjaGVzIHRoZSBzcGVjaWZpZWQga2V5d29yZFxuXG5mdW5jdGlvbiBtYXRjaEtleXdvcmQoa2V5d29yZCkge1xuICByZXR1cm4gbG9va2FoZWFkLnR5cGUgPT09IFRva2VuS2V5d29yZCAmJiBsb29rYWhlYWQudmFsdWUgPT09IGtleXdvcmQ7XG59XG5cbi8vIDExLjEuNCBBcnJheSBJbml0aWFsaXNlclxuXG5mdW5jdGlvbiBwYXJzZUFycmF5SW5pdGlhbGlzZXIoKSB7XG4gIHZhciBlbGVtZW50cyA9IFtdO1xuXG4gIGluZGV4ID0gbG9va2FoZWFkLnN0YXJ0O1xuICBleHBlY3QoJ1snKTtcblxuICB3aGlsZSAoIW1hdGNoKCddJykpIHtcbiAgICBpZiAobWF0Y2goJywnKSkge1xuICAgICAgbGV4KCk7XG4gICAgICBlbGVtZW50cy5wdXNoKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50cy5wdXNoKHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCkpO1xuXG4gICAgICBpZiAoIW1hdGNoKCddJykpIHtcbiAgICAgICAgZXhwZWN0KCcsJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV4KCk7XG5cbiAgcmV0dXJuIGZpbmlzaEFycmF5RXhwcmVzc2lvbihlbGVtZW50cyk7XG59XG5cbi8vIDExLjEuNSBPYmplY3QgSW5pdGlhbGlzZXJcblxuZnVuY3Rpb24gcGFyc2VPYmplY3RQcm9wZXJ0eUtleSgpIHtcbiAgdmFyIHRva2VuO1xuXG4gIGluZGV4ID0gbG9va2FoZWFkLnN0YXJ0O1xuICB0b2tlbiA9IGxleCgpO1xuXG4gIC8vIE5vdGU6IFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG9ubHkgZnJvbSBwYXJzZU9iamVjdFByb3BlcnR5KCksIHdoZXJlXG4gIC8vIEVPRiBhbmQgUHVuY3R1YXRvciB0b2tlbnMgYXJlIGFscmVhZHkgZmlsdGVyZWQgb3V0LlxuXG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlblN0cmluZ0xpdGVyYWwgfHwgdG9rZW4udHlwZSA9PT0gVG9rZW5OdW1lcmljTGl0ZXJhbCkge1xuICAgIGlmICh0b2tlbi5vY3RhbCkge1xuICAgICAgdGhyb3dFcnJvcih0b2tlbiwgTWVzc2FnZVN0cmljdE9jdGFsTGl0ZXJhbCk7XG4gICAgfVxuICAgIHJldHVybiBmaW5pc2hMaXRlcmFsKHRva2VuKTtcbiAgfVxuXG4gIHJldHVybiBmaW5pc2hJZGVudGlmaWVyKHRva2VuLnZhbHVlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VPYmplY3RQcm9wZXJ0eSgpIHtcbiAgdmFyIHRva2VuLCBrZXksIGlkLCB2YWx1ZTtcblxuICBpbmRleCA9IGxvb2thaGVhZC5zdGFydDtcbiAgdG9rZW4gPSBsb29rYWhlYWQ7XG5cbiAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuSWRlbnRpZmllcikge1xuICAgIGlkID0gcGFyc2VPYmplY3RQcm9wZXJ0eUtleSgpO1xuICAgIGV4cGVjdCgnOicpO1xuICAgIHZhbHVlID0gcGFyc2VDb25kaXRpb25hbEV4cHJlc3Npb24oKTtcbiAgICByZXR1cm4gZmluaXNoUHJvcGVydHkoJ2luaXQnLCBpZCwgdmFsdWUpO1xuICB9XG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlbkVPRiB8fCB0b2tlbi50eXBlID09PSBUb2tlblB1bmN0dWF0b3IpIHtcbiAgICB0aHJvd1VuZXhwZWN0ZWQodG9rZW4pO1xuICB9IGVsc2Uge1xuICAgIGtleSA9IHBhcnNlT2JqZWN0UHJvcGVydHlLZXkoKTtcbiAgICBleHBlY3QoJzonKTtcbiAgICB2YWx1ZSA9IHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCk7XG4gICAgcmV0dXJuIGZpbmlzaFByb3BlcnR5KCdpbml0Jywga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VPYmplY3RJbml0aWFsaXNlcigpIHtcbiAgdmFyIHByb3BlcnRpZXMgPSBbXSxcbiAgICBwcm9wZXJ0eSwgbmFtZSwga2V5LCBtYXAgPSB7fSxcbiAgICB0b1N0cmluZyA9IFN0cmluZztcblxuICBpbmRleCA9IGxvb2thaGVhZC5zdGFydDtcbiAgZXhwZWN0KCd7Jyk7XG5cbiAgd2hpbGUgKCFtYXRjaCgnfScpKSB7XG4gICAgcHJvcGVydHkgPSBwYXJzZU9iamVjdFByb3BlcnR5KCk7XG5cbiAgICBpZiAocHJvcGVydHkua2V5LnR5cGUgPT09IFN5bnRheElkZW50aWZpZXIpIHtcbiAgICAgIG5hbWUgPSBwcm9wZXJ0eS5rZXkubmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IHRvU3RyaW5nKHByb3BlcnR5LmtleS52YWx1ZSk7XG4gICAgfVxuXG4gICAga2V5ID0gJyQnICsgbmFtZTtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hcCwga2V5KSkge1xuICAgICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVN0cmljdER1cGxpY2F0ZVByb3BlcnR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFwW2tleV0gPSB0cnVlO1xuICAgIH1cblxuICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG5cbiAgICBpZiAoIW1hdGNoKCd9JykpIHtcbiAgICAgIGV4cGVjdCgnLCcpO1xuICAgIH1cbiAgfVxuXG4gIGV4cGVjdCgnfScpO1xuXG4gIHJldHVybiBmaW5pc2hPYmplY3RFeHByZXNzaW9uKHByb3BlcnRpZXMpO1xufVxuXG4vLyAxMS4xLjYgVGhlIEdyb3VwaW5nIE9wZXJhdG9yXG5cbmZ1bmN0aW9uIHBhcnNlR3JvdXBFeHByZXNzaW9uKCkge1xuICB2YXIgZXhwcjtcblxuICBleHBlY3QoJygnKTtcblxuICBleHByID0gcGFyc2VFeHByZXNzaW9uKCk7XG5cbiAgZXhwZWN0KCcpJyk7XG5cbiAgcmV0dXJuIGV4cHI7XG59XG5cblxuLy8gMTEuMSBQcmltYXJ5IEV4cHJlc3Npb25zXG5cbnZhciBsZWdhbEtleXdvcmRzID0ge1xuICBcImlmXCI6IDEsXG4gIFwidGhpc1wiOiAxXG59O1xuXG5mdW5jdGlvbiBwYXJzZVByaW1hcnlFeHByZXNzaW9uKCkge1xuICB2YXIgdHlwZSwgdG9rZW4sIGV4cHI7XG5cbiAgaWYgKG1hdGNoKCcoJykpIHtcbiAgICByZXR1cm4gcGFyc2VHcm91cEV4cHJlc3Npb24oKTtcbiAgfVxuXG4gIGlmIChtYXRjaCgnWycpKSB7XG4gICAgcmV0dXJuIHBhcnNlQXJyYXlJbml0aWFsaXNlcigpO1xuICB9XG5cbiAgaWYgKG1hdGNoKCd7JykpIHtcbiAgICByZXR1cm4gcGFyc2VPYmplY3RJbml0aWFsaXNlcigpO1xuICB9XG5cbiAgdHlwZSA9IGxvb2thaGVhZC50eXBlO1xuICBpbmRleCA9IGxvb2thaGVhZC5zdGFydDtcblxuXG4gIGlmICh0eXBlID09PSBUb2tlbklkZW50aWZpZXIgfHwgbGVnYWxLZXl3b3Jkc1tsb29rYWhlYWQudmFsdWVdKSB7XG4gICAgZXhwciA9IGZpbmlzaElkZW50aWZpZXIobGV4KCkudmFsdWUpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFRva2VuU3RyaW5nTGl0ZXJhbCB8fCB0eXBlID09PSBUb2tlbk51bWVyaWNMaXRlcmFsKSB7XG4gICAgaWYgKGxvb2thaGVhZC5vY3RhbCkge1xuICAgICAgdGhyb3dFcnJvcihsb29rYWhlYWQsIE1lc3NhZ2VTdHJpY3RPY3RhbExpdGVyYWwpO1xuICAgIH1cbiAgICBleHByID0gZmluaXNoTGl0ZXJhbChsZXgoKSk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gVG9rZW5LZXl3b3JkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKERJU0FCTEVEKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBUb2tlbkJvb2xlYW5MaXRlcmFsKSB7XG4gICAgdG9rZW4gPSBsZXgoKTtcbiAgICB0b2tlbi52YWx1ZSA9ICh0b2tlbi52YWx1ZSA9PT0gJ3RydWUnKTtcbiAgICBleHByID0gZmluaXNoTGl0ZXJhbCh0b2tlbik7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gVG9rZW5OdWxsTGl0ZXJhbCkge1xuICAgIHRva2VuID0gbGV4KCk7XG4gICAgdG9rZW4udmFsdWUgPSBudWxsO1xuICAgIGV4cHIgPSBmaW5pc2hMaXRlcmFsKHRva2VuKTtcbiAgfSBlbHNlIGlmIChtYXRjaCgnLycpIHx8IG1hdGNoKCcvPScpKSB7XG4gICAgZXhwciA9IGZpbmlzaExpdGVyYWwoc2NhblJlZ0V4cCgpKTtcbiAgICBwZWVrKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3dVbmV4cGVjdGVkKGxleCgpKTtcbiAgfVxuXG4gIHJldHVybiBleHByO1xufVxuXG4vLyAxMS4yIExlZnQtSGFuZC1TaWRlIEV4cHJlc3Npb25zXG5cbmZ1bmN0aW9uIHBhcnNlQXJndW1lbnRzKCkge1xuICB2YXIgYXJncyA9IFtdO1xuXG4gIGV4cGVjdCgnKCcpO1xuXG4gIGlmICghbWF0Y2goJyknKSkge1xuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJncy5wdXNoKHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCkpO1xuICAgICAgaWYgKG1hdGNoKCcpJykpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBleHBlY3QoJywnKTtcbiAgICB9XG4gIH1cblxuICBleHBlY3QoJyknKTtcblxuICByZXR1cm4gYXJncztcbn1cblxuZnVuY3Rpb24gcGFyc2VOb25Db21wdXRlZFByb3BlcnR5KCkge1xuICB2YXIgdG9rZW47XG4gIGluZGV4ID0gbG9va2FoZWFkLnN0YXJ0O1xuICB0b2tlbiA9IGxleCgpO1xuXG4gIGlmICghaXNJZGVudGlmaWVyTmFtZSh0b2tlbikpIHtcbiAgICB0aHJvd1VuZXhwZWN0ZWQodG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIGZpbmlzaElkZW50aWZpZXIodG9rZW4udmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU5vbkNvbXB1dGVkTWVtYmVyKCkge1xuICBleHBlY3QoJy4nKTtcblxuICByZXR1cm4gcGFyc2VOb25Db21wdXRlZFByb3BlcnR5KCk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29tcHV0ZWRNZW1iZXIoKSB7XG4gIHZhciBleHByO1xuXG4gIGV4cGVjdCgnWycpO1xuXG4gIGV4cHIgPSBwYXJzZUV4cHJlc3Npb24oKTtcblxuICBleHBlY3QoJ10nKTtcblxuICByZXR1cm4gZXhwcjtcbn1cblxuZnVuY3Rpb24gcGFyc2VMZWZ0SGFuZFNpZGVFeHByZXNzaW9uQWxsb3dDYWxsKCkge1xuICB2YXIgZXhwciwgYXJncywgcHJvcGVydHk7XG5cbiAgZXhwciA9IHBhcnNlUHJpbWFyeUV4cHJlc3Npb24oKTtcblxuICBmb3IgKDs7KSB7XG4gICAgaWYgKG1hdGNoKCcuJykpIHtcbiAgICAgIHByb3BlcnR5ID0gcGFyc2VOb25Db21wdXRlZE1lbWJlcigpO1xuICAgICAgZXhwciA9IGZpbmlzaE1lbWJlckV4cHJlc3Npb24oJy4nLCBleHByLCBwcm9wZXJ0eSk7XG4gICAgfSBlbHNlIGlmIChtYXRjaCgnKCcpKSB7XG4gICAgICBhcmdzID0gcGFyc2VBcmd1bWVudHMoKTtcbiAgICAgIGV4cHIgPSBmaW5pc2hDYWxsRXhwcmVzc2lvbihleHByLCBhcmdzKTtcbiAgICB9IGVsc2UgaWYgKG1hdGNoKCdbJykpIHtcbiAgICAgIHByb3BlcnR5ID0gcGFyc2VDb21wdXRlZE1lbWJlcigpO1xuICAgICAgZXhwciA9IGZpbmlzaE1lbWJlckV4cHJlc3Npb24oJ1snLCBleHByLCBwcm9wZXJ0eSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBleHByO1xufVxuXG4vLyAxMS4zIFBvc3RmaXggRXhwcmVzc2lvbnNcblxuZnVuY3Rpb24gcGFyc2VQb3N0Zml4RXhwcmVzc2lvbigpIHtcbiAgdmFyIGV4cHIgPSBwYXJzZUxlZnRIYW5kU2lkZUV4cHJlc3Npb25BbGxvd0NhbGwoKTtcblxuICBpZiAobG9va2FoZWFkLnR5cGUgPT09IFRva2VuUHVuY3R1YXRvcikge1xuICAgIGlmICgobWF0Y2goJysrJykgfHwgbWF0Y2goJy0tJykpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRElTQUJMRUQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBleHByO1xufVxuXG4vLyAxMS40IFVuYXJ5IE9wZXJhdG9yc1xuXG5mdW5jdGlvbiBwYXJzZVVuYXJ5RXhwcmVzc2lvbigpIHtcbiAgdmFyIHRva2VuLCBleHByO1xuXG4gIGlmIChsb29rYWhlYWQudHlwZSAhPT0gVG9rZW5QdW5jdHVhdG9yICYmIGxvb2thaGVhZC50eXBlICE9PSBUb2tlbktleXdvcmQpIHtcbiAgICBleHByID0gcGFyc2VQb3N0Zml4RXhwcmVzc2lvbigpO1xuICB9IGVsc2UgaWYgKG1hdGNoKCcrKycpIHx8IG1hdGNoKCctLScpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKERJU0FCTEVEKTtcbiAgfSBlbHNlIGlmIChtYXRjaCgnKycpIHx8IG1hdGNoKCctJykgfHwgbWF0Y2goJ34nKSB8fCBtYXRjaCgnIScpKSB7XG4gICAgdG9rZW4gPSBsZXgoKTtcbiAgICBleHByID0gcGFyc2VVbmFyeUV4cHJlc3Npb24oKTtcbiAgICBleHByID0gZmluaXNoVW5hcnlFeHByZXNzaW9uKHRva2VuLnZhbHVlLCBleHByKTtcbiAgfSBlbHNlIGlmIChtYXRjaEtleXdvcmQoJ2RlbGV0ZScpIHx8IG1hdGNoS2V5d29yZCgndm9pZCcpIHx8IG1hdGNoS2V5d29yZCgndHlwZW9mJykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoRElTQUJMRUQpO1xuICB9IGVsc2Uge1xuICAgIGV4cHIgPSBwYXJzZVBvc3RmaXhFeHByZXNzaW9uKCk7XG4gIH1cblxuICByZXR1cm4gZXhwcjtcbn1cblxuZnVuY3Rpb24gYmluYXJ5UHJlY2VkZW5jZSh0b2tlbikge1xuICB2YXIgcHJlYyA9IDA7XG5cbiAgaWYgKHRva2VuLnR5cGUgIT09IFRva2VuUHVuY3R1YXRvciAmJiB0b2tlbi50eXBlICE9PSBUb2tlbktleXdvcmQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcbiAgICBjYXNlICd8fCc6XG4gICAgICBwcmVjID0gMTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnJiYnOlxuICAgICAgcHJlYyA9IDI7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3wnOlxuICAgICAgcHJlYyA9IDM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ14nOlxuICAgICAgcHJlYyA9IDQ7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJyYnOlxuICAgICAgcHJlYyA9IDU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJz09JzpcbiAgICBjYXNlICchPSc6XG4gICAgY2FzZSAnPT09JzpcbiAgICBjYXNlICchPT0nOlxuICAgICAgcHJlYyA9IDY7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJzwnOlxuICAgIGNhc2UgJz4nOlxuICAgIGNhc2UgJzw9JzpcbiAgICBjYXNlICc+PSc6XG4gICAgY2FzZSAnaW5zdGFuY2VvZic6XG4gICAgY2FzZSAnaW4nOlxuICAgICAgcHJlYyA9IDc7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJzw8JzpcbiAgICBjYXNlICc+Pic6XG4gICAgY2FzZSAnPj4+JzpcbiAgICAgIHByZWMgPSA4O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICcrJzpcbiAgICBjYXNlICctJzpcbiAgICAgIHByZWMgPSA5O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICcqJzpcbiAgICBjYXNlICcvJzpcbiAgICBjYXNlICclJzpcbiAgICAgIHByZWMgPSAxMTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHByZWM7XG59XG5cbi8vIDExLjUgTXVsdGlwbGljYXRpdmUgT3BlcmF0b3JzXG4vLyAxMS42IEFkZGl0aXZlIE9wZXJhdG9yc1xuLy8gMTEuNyBCaXR3aXNlIFNoaWZ0IE9wZXJhdG9yc1xuLy8gMTEuOCBSZWxhdGlvbmFsIE9wZXJhdG9yc1xuLy8gMTEuOSBFcXVhbGl0eSBPcGVyYXRvcnNcbi8vIDExLjEwIEJpbmFyeSBCaXR3aXNlIE9wZXJhdG9yc1xuLy8gMTEuMTEgQmluYXJ5IExvZ2ljYWwgT3BlcmF0b3JzXG5cbmZ1bmN0aW9uIHBhcnNlQmluYXJ5RXhwcmVzc2lvbigpIHtcbiAgdmFyIG1hcmtlciwgbWFya2VycywgZXhwciwgdG9rZW4sIHByZWMsIHN0YWNrLCByaWdodCwgb3BlcmF0b3IsIGxlZnQsIGk7XG5cbiAgbWFya2VyID0gbG9va2FoZWFkO1xuICBsZWZ0ID0gcGFyc2VVbmFyeUV4cHJlc3Npb24oKTtcblxuICB0b2tlbiA9IGxvb2thaGVhZDtcbiAgcHJlYyA9IGJpbmFyeVByZWNlZGVuY2UodG9rZW4pO1xuICBpZiAocHJlYyA9PT0gMCkge1xuICAgIHJldHVybiBsZWZ0O1xuICB9XG4gIHRva2VuLnByZWMgPSBwcmVjO1xuICBsZXgoKTtcblxuICBtYXJrZXJzID0gW21hcmtlciwgbG9va2FoZWFkXTtcbiAgcmlnaHQgPSBwYXJzZVVuYXJ5RXhwcmVzc2lvbigpO1xuXG4gIHN0YWNrID0gW2xlZnQsIHRva2VuLCByaWdodF07XG5cbiAgd2hpbGUgKChwcmVjID0gYmluYXJ5UHJlY2VkZW5jZShsb29rYWhlYWQpKSA+IDApIHtcblxuICAgIC8vIFJlZHVjZTogbWFrZSBhIGJpbmFyeSBleHByZXNzaW9uIGZyb20gdGhlIHRocmVlIHRvcG1vc3QgZW50cmllcy5cbiAgICB3aGlsZSAoKHN0YWNrLmxlbmd0aCA+IDIpICYmIChwcmVjIDw9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDJdLnByZWMpKSB7XG4gICAgICByaWdodCA9IHN0YWNrLnBvcCgpO1xuICAgICAgb3BlcmF0b3IgPSBzdGFjay5wb3AoKS52YWx1ZTtcbiAgICAgIGxlZnQgPSBzdGFjay5wb3AoKTtcbiAgICAgIG1hcmtlcnMucG9wKCk7XG4gICAgICBleHByID0gZmluaXNoQmluYXJ5RXhwcmVzc2lvbihvcGVyYXRvciwgbGVmdCwgcmlnaHQpO1xuICAgICAgc3RhY2sucHVzaChleHByKTtcbiAgICB9XG5cbiAgICAvLyBTaGlmdC5cbiAgICB0b2tlbiA9IGxleCgpO1xuICAgIHRva2VuLnByZWMgPSBwcmVjO1xuICAgIHN0YWNrLnB1c2godG9rZW4pO1xuICAgIG1hcmtlcnMucHVzaChsb29rYWhlYWQpO1xuICAgIGV4cHIgPSBwYXJzZVVuYXJ5RXhwcmVzc2lvbigpO1xuICAgIHN0YWNrLnB1c2goZXhwcik7XG4gIH1cblxuICAvLyBGaW5hbCByZWR1Y2UgdG8gY2xlYW4tdXAgdGhlIHN0YWNrLlxuICBpID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgZXhwciA9IHN0YWNrW2ldO1xuICBtYXJrZXJzLnBvcCgpO1xuICB3aGlsZSAoaSA+IDEpIHtcbiAgICBtYXJrZXJzLnBvcCgpXG4gICAgZXhwciA9IGZpbmlzaEJpbmFyeUV4cHJlc3Npb24oc3RhY2tbaSAtIDFdLnZhbHVlLCBzdGFja1tpIC0gMl0sIGV4cHIpO1xuICAgIGkgLT0gMjtcbiAgfVxuXG4gIHJldHVybiBleHByO1xufVxuXG4vLyAxMS4xMiBDb25kaXRpb25hbCBPcGVyYXRvclxuXG5mdW5jdGlvbiBwYXJzZUNvbmRpdGlvbmFsRXhwcmVzc2lvbigpIHtcbiAgdmFyIGV4cHIsIGNvbnNlcXVlbnQsIGFsdGVybmF0ZTtcblxuICBleHByID0gcGFyc2VCaW5hcnlFeHByZXNzaW9uKCk7XG5cbiAgaWYgKG1hdGNoKCc/JykpIHtcbiAgICBsZXgoKTtcbiAgICBjb25zZXF1ZW50ID0gcGFyc2VDb25kaXRpb25hbEV4cHJlc3Npb24oKTtcbiAgICBleHBlY3QoJzonKTtcbiAgICBhbHRlcm5hdGUgPSBwYXJzZUNvbmRpdGlvbmFsRXhwcmVzc2lvbigpO1xuXG4gICAgZXhwciA9IGZpbmlzaENvbmRpdGlvbmFsRXhwcmVzc2lvbihleHByLCBjb25zZXF1ZW50LCBhbHRlcm5hdGUpO1xuICB9XG5cbiAgcmV0dXJuIGV4cHI7XG59XG5cbi8vIDExLjE0IENvbW1hIE9wZXJhdG9yXG5cbmZ1bmN0aW9uIHBhcnNlRXhwcmVzc2lvbigpIHtcbiAgdmFyIGV4cHIgPSBwYXJzZUNvbmRpdGlvbmFsRXhwcmVzc2lvbigpO1xuXG4gIGlmIChtYXRjaCgnLCcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKERJU0FCTEVEKTsgLy8gbm8gc2VxdWVuY2UgZXhwcmVzc2lvbnNcbiAgfVxuXG4gIHJldHVybiBleHByO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb2RlKSB7XG4gIHNvdXJjZSA9IGNvZGU7XG4gIGluZGV4ID0gMDtcbiAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgbG9va2FoZWFkID0gbnVsbDtcblxuICBwZWVrKCk7XG5cbiAgdmFyIGV4cHIgPSBwYXJzZUV4cHJlc3Npb24oKTtcblxuICBpZiAobG9va2FoZWFkLnR5cGUgIT09IFRva2VuRU9GKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3QgdG9rZW4gYWZ0ZXIgZXhwcmVzc2lvbi5cIik7XG4gIH1cbiAgcmV0dXJuIGV4cHI7XG59XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gIE5hTjogICAgICAgJ05hTicsXG4gIEU6ICAgICAgICAgJ01hdGguRScsXG4gIExOMjogICAgICAgJ01hdGguTE4yJyxcbiAgTE4xMDogICAgICAnTWF0aC5MTjEwJyxcbiAgTE9HMkU6ICAgICAnTWF0aC5MT0cyRScsXG4gIExPRzEwRTogICAgJ01hdGguTE9HMTBFJyxcbiAgUEk6ICAgICAgICAnTWF0aC5QSScsXG4gIFNRUlQxXzI6ICAgJ01hdGguU1FSVDFfMicsXG4gIFNRUlQyOiAgICAgJ01hdGguU1FSVDInLFxuICBNSU5fVkFMVUU6ICdOdW1iZXIuTUlOX1ZBTFVFJyxcbiAgTUFYX1ZBTFVFOiAnTnVtYmVyLk1BWF9WQUxVRSdcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihmbiwgZmllbGRzLCBuYW1lKSB7XG4gIGZuLmZpZWxkcyA9IGZpZWxkcyB8fCBbXTtcbiAgZm4uZm5hbWUgPSBuYW1lO1xuICByZXR1cm4gZm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3Nvck5hbWUoZm4pIHtcbiAgcmV0dXJuIGZuID09IG51bGwgPyBudWxsIDogZm4uZm5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhY2Nlc3NvckZpZWxkcyhmbikge1xuICByZXR1cm4gZm4gPT0gbnVsbCA/IG51bGwgOiBmbi5maWVsZHM7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHRocm93IEVycm9yKG1lc3NhZ2UpO1xufVxuIiwiaW1wb3J0IGVycm9yIGZyb20gJy4vZXJyb3InO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwKSB7XG4gIHZhciBwYXRoID0gW10sXG4gICAgICBxID0gbnVsbCxcbiAgICAgIGIgPSAwLFxuICAgICAgbiA9IHAubGVuZ3RoLFxuICAgICAgcyA9ICcnLFxuICAgICAgaSwgaiwgYztcblxuICBwID0gcCArICcnO1xuXG4gIGZ1bmN0aW9uIHB1c2goKSB7XG4gICAgcGF0aC5wdXNoKHMgKyBwLnN1YnN0cmluZyhpLCBqKSk7XG4gICAgcyA9ICcnO1xuICAgIGkgPSBqICsgMTtcbiAgfVxuXG4gIGZvciAoaT1qPTA7IGo8bjsgKytqKSB7XG4gICAgYyA9IHBbal07XG4gICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgcyArPSBwLnN1YnN0cmluZyhpLCBqKTtcbiAgICAgIHMgKz0gcC5zdWJzdHJpbmcoKytqLCArK2opO1xuICAgICAgaSA9IGo7XG4gICAgfSBlbHNlIGlmIChjID09PSBxKSB7XG4gICAgICBwdXNoKCk7XG4gICAgICBxID0gbnVsbDtcbiAgICAgIGIgPSAtMTtcbiAgICB9IGVsc2UgaWYgKHEpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAoaSA9PT0gYiAmJiBjID09PSAnXCInKSB7XG4gICAgICBpID0gaiArIDE7XG4gICAgICBxID0gYztcbiAgICB9IGVsc2UgaWYgKGkgPT09IGIgJiYgYyA9PT0gXCInXCIpIHtcbiAgICAgIGkgPSBqICsgMTtcbiAgICAgIHEgPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJy4nICYmICFiKSB7XG4gICAgICBpZiAoaiA+IGkpIHtcbiAgICAgICAgcHVzaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IGogKyAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICBpZiAoaiA+IGkpIHB1c2goKTtcbiAgICAgIGIgPSBpID0gaiArIDE7XG4gICAgfSBlbHNlIGlmIChjID09PSAnXScpIHtcbiAgICAgIGlmICghYikgZXJyb3IoJ0FjY2VzcyBwYXRoIG1pc3Npbmcgb3BlbiBicmFja2V0OiAnICsgcCk7XG4gICAgICBpZiAoYiA+IDApIHB1c2goKTtcbiAgICAgIGIgPSAwO1xuICAgICAgaSA9IGogKyAxO1xuICAgIH1cbiAgfVxuXG4gIGlmIChiKSBlcnJvcignQWNjZXNzIHBhdGggbWlzc2luZyBjbG9zaW5nIGJyYWNrZXQ6ICcgKyBwKTtcbiAgaWYgKHEpIGVycm9yKCdBY2Nlc3MgcGF0aCBtaXNzaW5nIGNsb3NpbmcgcXVvdGU6ICcgKyBwKTtcblxuICBpZiAoaiA+IGkpIHtcbiAgICBqKys7XG4gICAgcHVzaCgpO1xuICB9XG5cbiAgcmV0dXJuIHBhdGg7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBBcnJheS5pc0FycmF5O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oXykge1xuICByZXR1cm4gXyA9PT0gT2JqZWN0KF8pO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oXykge1xuICByZXR1cm4gdHlwZW9mIF8gPT09ICdzdHJpbmcnO1xufVxuIiwiaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pc0FycmF5JztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0JztcbmltcG9ydCBpc1N0cmluZyBmcm9tICcuL2lzU3RyaW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gJCh4KSB7XG4gIHJldHVybiBpc0FycmF5KHgpID8gJ1snICsgeC5tYXAoJCkgKyAnXSdcbiAgICA6IGlzT2JqZWN0KHgpIHx8IGlzU3RyaW5nKHgpID9cbiAgICAgIC8vIE91dHB1dCB2YWxpZCBKU09OIGFuZCBKUyBzb3VyY2Ugc3RyaW5ncy5cbiAgICAgIC8vIFNlZSBodHRwOi8vdGltZWxlc3NyZXBvLmNvbS9qc29uLWlzbnQtYS1qYXZhc2NyaXB0LXN1YnNldFxuICAgICAgSlNPTi5zdHJpbmdpZnkoeCkucmVwbGFjZSgnXFx1MjAyOCcsJ1xcXFx1MjAyOCcpLnJlcGxhY2UoJ1xcdTIwMjknLCAnXFxcXHUyMDI5JylcbiAgICA6IHg7XG59XG4iLCJpbXBvcnQgYWNjZXNzb3IgZnJvbSAnLi9hY2Nlc3Nvcic7XG5pbXBvcnQgc3BsaXRBY2Nlc3NQYXRoIGZyb20gJy4vc3BsaXRBY2Nlc3NQYXRoJztcbmltcG9ydCBzdHJpbmdWYWx1ZSBmcm9tICcuL3N0cmluZ1ZhbHVlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZmllbGQsIG5hbWUpIHtcbiAgdmFyIHBhdGggPSBzcGxpdEFjY2Vzc1BhdGgoZmllbGQpLFxuICAgICAgY29kZSA9ICdyZXR1cm4gX1snICsgcGF0aC5tYXAoc3RyaW5nVmFsdWUpLmpvaW4oJ11bJykgKyAnXTsnO1xuXG4gIHJldHVybiBhY2Nlc3NvcihcbiAgICBGdW5jdGlvbignXycsIGNvZGUpLFxuICAgIFsoZmllbGQgPSBwYXRoLmxlbmd0aD09PTEgPyBwYXRoWzBdIDogZmllbGQpXSxcbiAgICBuYW1lIHx8IGZpZWxkXG4gICk7XG59XG4iLCJpbXBvcnQgYWNjZXNzb3IgZnJvbSAnLi9hY2Nlc3Nvcic7XG5pbXBvcnQgZmllbGQgZnJvbSAnLi9maWVsZCc7XG5cbnZhciBlbXB0eSA9IFtdO1xuXG5leHBvcnQgdmFyIGlkID0gZmllbGQoJ2lkJyk7XG5cbmV4cG9ydCB2YXIgaWRlbnRpdHkgPSBhY2Nlc3NvcihmdW5jdGlvbihfKSB7IHJldHVybiBfOyB9LCBlbXB0eSwgJ2lkZW50aXR5Jyk7XG5cbmV4cG9ydCB2YXIgemVybyA9IGFjY2Vzc29yKGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfSwgZW1wdHksICd6ZXJvJyk7XG5cbmV4cG9ydCB2YXIgb25lID0gYWNjZXNzb3IoZnVuY3Rpb24oKSB7IHJldHVybiAxOyB9LCBlbXB0eSwgJ29uZScpO1xuXG5leHBvcnQgdmFyIHRydXRoeSA9IGFjY2Vzc29yKGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSwgZW1wdHksICd0cnVlJyk7XG5cbmV4cG9ydCB2YXIgZmFsc3kgPSBhY2Nlc3NvcihmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9LCBlbXB0eSwgJ2ZhbHNlJyk7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihfKSB7XG4gIHJldHVybiB0eXBlb2YgXyA9PT0gJ2Z1bmN0aW9uJztcbn1cbiIsImNvbnN0IGhvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIGhvcC5jYWxsKG9iamVjdCwgcHJvcGVydHkpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oXykge1xuICBmb3IgKHZhciBzPXt9LCBpPTAsIG49Xy5sZW5ndGg7IGk8bjsgKytpKSBzW19baV1dID0gdHJ1ZTtcbiAgcmV0dXJuIHM7XG59XG4iLCJpbXBvcnQge2Vycm9yfSBmcm9tICd2ZWdhLXV0aWwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb2RlZ2VuKSB7XG5cbiAgZnVuY3Rpb24gZm5jYWxsKG5hbWUsIGFyZ3MsIGNhc3QsIHR5cGUpIHtcbiAgICB2YXIgb2JqID0gY29kZWdlbihhcmdzWzBdKTtcbiAgICBpZiAoY2FzdCkge1xuICAgICAgb2JqID0gY2FzdCArICcoJyArIG9iaiArICcpJztcbiAgICAgIGlmIChjYXN0Lmxhc3RJbmRleE9mKCduZXcgJywgMCkgPT09IDApIG9iaiA9ICcoJyArIG9iaiArICcpJztcbiAgICB9XG4gICAgcmV0dXJuIG9iaiArICcuJyArIG5hbWUgKyAodHlwZSA8IDAgPyAnJyA6IHR5cGUgPT09IDAgP1xuICAgICAgJygpJyA6XG4gICAgICAnKCcgKyBhcmdzLnNsaWNlKDEpLm1hcChjb2RlZ2VuKS5qb2luKCcsJykgKyAnKScpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm4obmFtZSwgY2FzdCwgdHlwZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICByZXR1cm4gZm5jYWxsKG5hbWUsIGFyZ3MsIGNhc3QsIHR5cGUpO1xuICAgIH07XG4gIH1cblxuICB2YXIgREFURSA9ICduZXcgRGF0ZScsXG4gICAgICBTVFJJTkcgPSAnU3RyaW5nJyxcbiAgICAgIFJFR0VYUCA9ICdSZWdFeHAnO1xuXG4gIHJldHVybiB7XG4gICAgLy8gTUFUSCBmdW5jdGlvbnNcbiAgICBpc05hTjogICAgJ051bWJlci5pc05hTicsXG4gICAgaXNGaW5pdGU6ICdOdW1iZXIuaXNGaW5pdGUnLFxuICAgIGFiczogICAgICAnTWF0aC5hYnMnLFxuICAgIGFjb3M6ICAgICAnTWF0aC5hY29zJyxcbiAgICBhc2luOiAgICAgJ01hdGguYXNpbicsXG4gICAgYXRhbjogICAgICdNYXRoLmF0YW4nLFxuICAgIGF0YW4yOiAgICAnTWF0aC5hdGFuMicsXG4gICAgY2VpbDogICAgICdNYXRoLmNlaWwnLFxuICAgIGNvczogICAgICAnTWF0aC5jb3MnLFxuICAgIGV4cDogICAgICAnTWF0aC5leHAnLFxuICAgIGZsb29yOiAgICAnTWF0aC5mbG9vcicsXG4gICAgbG9nOiAgICAgICdNYXRoLmxvZycsXG4gICAgbWF4OiAgICAgICdNYXRoLm1heCcsXG4gICAgbWluOiAgICAgICdNYXRoLm1pbicsXG4gICAgcG93OiAgICAgICdNYXRoLnBvdycsXG4gICAgcmFuZG9tOiAgICdNYXRoLnJhbmRvbScsXG4gICAgcm91bmQ6ICAgICdNYXRoLnJvdW5kJyxcbiAgICBzaW46ICAgICAgJ01hdGguc2luJyxcbiAgICBzcXJ0OiAgICAgJ01hdGguc3FydCcsXG4gICAgdGFuOiAgICAgICdNYXRoLnRhbicsXG5cbiAgICBjbGFtcDogZnVuY3Rpb24oYXJncykge1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMykgZXJyb3IoJ01pc3NpbmcgYXJndW1lbnRzIHRvIGNsYW1wIGZ1bmN0aW9uLicpO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMykgZXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cyB0byBjbGFtcCBmdW5jdGlvbi4nKTtcbiAgICAgIHZhciBhID0gYXJncy5tYXAoY29kZWdlbik7XG4gICAgICByZXR1cm4gJ01hdGgubWF4KCcrYVsxXSsnLCBNYXRoLm1pbignK2FbMl0rJywnK2FbMF0rJykpJztcbiAgICB9LFxuXG4gICAgLy8gREFURSBmdW5jdGlvbnNcbiAgICBub3c6ICAgICAgICAgICAgICdEYXRlLm5vdycsXG4gICAgdXRjOiAgICAgICAgICAgICAnRGF0ZS5VVEMnLFxuICAgIGRhdGV0aW1lOiAgICAgICAgREFURSxcbiAgICBkYXRlOiAgICAgICAgICAgIGZuKCdnZXREYXRlJywgREFURSwgMCksXG4gICAgZGF5OiAgICAgICAgICAgICBmbignZ2V0RGF5JywgREFURSwgMCksXG4gICAgeWVhcjogICAgICAgICAgICBmbignZ2V0RnVsbFllYXInLCBEQVRFLCAwKSxcbiAgICBtb250aDogICAgICAgICAgIGZuKCdnZXRNb250aCcsIERBVEUsIDApLFxuICAgIGhvdXJzOiAgICAgICAgICAgZm4oJ2dldEhvdXJzJywgREFURSwgMCksXG4gICAgbWludXRlczogICAgICAgICBmbignZ2V0TWludXRlcycsIERBVEUsIDApLFxuICAgIHNlY29uZHM6ICAgICAgICAgZm4oJ2dldFNlY29uZHMnLCBEQVRFLCAwKSxcbiAgICBtaWxsaXNlY29uZHM6ICAgIGZuKCdnZXRNaWxsaXNlY29uZHMnLCBEQVRFLCAwKSxcbiAgICB0aW1lOiAgICAgICAgICAgIGZuKCdnZXRUaW1lJywgREFURSwgMCksXG4gICAgdGltZXpvbmVvZmZzZXQ6ICBmbignZ2V0VGltZXpvbmVPZmZzZXQnLCBEQVRFLCAwKSxcbiAgICB1dGNkYXRlOiAgICAgICAgIGZuKCdnZXRVVENEYXRlJywgREFURSwgMCksXG4gICAgdXRjZGF5OiAgICAgICAgICBmbignZ2V0VVRDRGF5JywgREFURSwgMCksXG4gICAgdXRjeWVhcjogICAgICAgICBmbignZ2V0VVRDRnVsbFllYXInLCBEQVRFLCAwKSxcbiAgICB1dGNtb250aDogICAgICAgIGZuKCdnZXRVVENNb250aCcsIERBVEUsIDApLFxuICAgIHV0Y2hvdXJzOiAgICAgICAgZm4oJ2dldFVUQ0hvdXJzJywgREFURSwgMCksXG4gICAgdXRjbWludXRlczogICAgICBmbignZ2V0VVRDTWludXRlcycsIERBVEUsIDApLFxuICAgIHV0Y3NlY29uZHM6ICAgICAgZm4oJ2dldFVUQ1NlY29uZHMnLCBEQVRFLCAwKSxcbiAgICB1dGNtaWxsaXNlY29uZHM6IGZuKCdnZXRVVENNaWxsaXNlY29uZHMnLCBEQVRFLCAwKSxcblxuICAgIC8vIHNlcXVlbmNlIGZ1bmN0aW9uc1xuICAgIGxlbmd0aDogICAgICBmbignbGVuZ3RoJywgbnVsbCwgLTEpLFxuICAgIGpvaW46ICAgICAgICBmbignam9pbicsIG51bGwpLFxuICAgIGluZGV4b2Y6ICAgICBmbignaW5kZXhPZicsIG51bGwpLFxuICAgIGxhc3RpbmRleG9mOiBmbignbGFzdEluZGV4T2YnLCBudWxsKSxcbiAgICBzbGljZTogICAgICAgZm4oJ3NsaWNlJywgbnVsbCksXG5cbiAgICByZXZlcnNlOiBmdW5jdGlvbihhcmdzKSB7XG4gICAgICByZXR1cm4gJygnK2NvZGVnZW4oYXJnc1swXSkrJykuc2xpY2UoKS5yZXZlcnNlKCknO1xuICAgIH0sXG5cbiAgICAvLyBTVFJJTkcgZnVuY3Rpb25zXG4gICAgcGFyc2VGbG9hdDogICdwYXJzZUZsb2F0JyxcbiAgICBwYXJzZUludDogICAgJ3BhcnNlSW50JyxcbiAgICB1cHBlcjogICAgICAgZm4oJ3RvVXBwZXJDYXNlJywgU1RSSU5HLCAwKSxcbiAgICBsb3dlcjogICAgICAgZm4oJ3RvTG93ZXJDYXNlJywgU1RSSU5HLCAwKSxcbiAgICBzdWJzdHJpbmc6ICAgZm4oJ3N1YnN0cmluZycsIFNUUklORyksXG4gICAgc3BsaXQ6ICAgICAgIGZuKCdzcGxpdCcsIFNUUklORyksXG4gICAgcmVwbGFjZTogICAgIGZuKCdyZXBsYWNlJywgU1RSSU5HKSxcbiAgICB0cmltOiAgICAgICAgZm4oJ3RyaW0nLCBTVFJJTkcsIDApLFxuXG4gICAgLy8gUkVHRVhQIGZ1bmN0aW9uc1xuICAgIHJlZ2V4cDogIFJFR0VYUCxcbiAgICB0ZXN0OiAgICBmbigndGVzdCcsIFJFR0VYUCksXG5cbiAgICAvLyBDb250cm9sIEZsb3cgZnVuY3Rpb25zXG4gICAgaWY6IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMykgZXJyb3IoJ01pc3NpbmcgYXJndW1lbnRzIHRvIGlmIGZ1bmN0aW9uLicpO1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAzKSBlcnJvcignVG9vIG1hbnkgYXJndW1lbnRzIHRvIGlmIGZ1bmN0aW9uLicpO1xuICAgICAgICB2YXIgYSA9IGFyZ3MubWFwKGNvZGVnZW4pO1xuICAgICAgICByZXR1cm4gJygnK2FbMF0rJz8nK2FbMV0rJzonK2FbMl0rJyknO1xuICAgICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IENvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgRnVuY3Rpb25zIGZyb20gJy4vZnVuY3Rpb25zJztcbmltcG9ydCB7ZXJyb3IsIGhhc093blByb3BlcnR5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgdG9TZXR9IGZyb20gJ3ZlZ2EtdXRpbCc7XG5cbmZ1bmN0aW9uIHN0cmlwUXVvdGVzKHMpIHtcbiAgdmFyIG4gPSBzICYmIHMubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIG4gJiYgKFxuICAgICAgKHNbMF09PT0nXCInICYmIHNbbl09PT0nXCInKSB8fFxuICAgICAgKHNbMF09PT0nXFwnJyAmJiBzW25dPT09J1xcJycpXG4gICAgKSA/IHMuc2xpY2UoMSwgLTEpIDogcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob3B0KSB7XG4gIG9wdCA9IG9wdCB8fCB7fTtcblxuICB2YXIgd2hpdGVsaXN0ID0gb3B0LndoaXRlbGlzdCA/IHRvU2V0KG9wdC53aGl0ZWxpc3QpIDoge30sXG4gICAgICBibGFja2xpc3QgPSBvcHQuYmxhY2tsaXN0ID8gdG9TZXQob3B0LmJsYWNrbGlzdCkgOiB7fSxcbiAgICAgIGNvbnN0YW50cyA9IG9wdC5jb25zdGFudHMgfHwgQ29uc3RhbnRzLFxuICAgICAgZnVuY3Rpb25zID0gKG9wdC5mdW5jdGlvbnMgfHwgRnVuY3Rpb25zKSh2aXNpdCksXG4gICAgICBnbG9iYWx2YXIgPSBvcHQuZ2xvYmFsdmFyLFxuICAgICAgZmllbGR2YXIgPSBvcHQuZmllbGR2YXIsXG4gICAgICBnbG9iYWxzID0ge30sXG4gICAgICBmaWVsZHMgPSB7fSxcbiAgICAgIG1lbWJlckRlcHRoID0gMDtcblxuICB2YXIgb3V0cHV0R2xvYmFsID0gaXNGdW5jdGlvbihnbG9iYWx2YXIpXG4gICAgPyBnbG9iYWx2YXJcbiAgICA6IGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gZ2xvYmFsdmFyICsgJ1tcIicgKyBpZCArICdcIl0nOyB9O1xuXG4gIGZ1bmN0aW9uIHZpc2l0KGFzdCkge1xuICAgIGlmIChpc1N0cmluZyhhc3QpKSByZXR1cm4gYXN0O1xuICAgIHZhciBnZW5lcmF0b3IgPSBHZW5lcmF0b3JzW2FzdC50eXBlXTtcbiAgICBpZiAoZ2VuZXJhdG9yID09IG51bGwpIGVycm9yKCdVbnN1cHBvcnRlZCB0eXBlOiAnICsgYXN0LnR5cGUpO1xuICAgIHJldHVybiBnZW5lcmF0b3IoYXN0KTtcbiAgfVxuXG4gIHZhciBHZW5lcmF0b3JzID0ge1xuICAgIExpdGVyYWw6IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIG4ucmF3O1xuICAgICAgfSxcblxuICAgIElkZW50aWZpZXI6IGZ1bmN0aW9uKG4pIHtcbiAgICAgIHZhciBpZCA9IG4ubmFtZTtcbiAgICAgIGlmIChtZW1iZXJEZXB0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eShibGFja2xpc3QsIGlkKSkge1xuICAgICAgICByZXR1cm4gZXJyb3IoJ0lsbGVnYWwgaWRlbnRpZmllcjogJyArIGlkKTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkoY29uc3RhbnRzLCBpZCkpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0YW50c1tpZF07XG4gICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KHdoaXRlbGlzdCwgaWQpKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbHNbaWRdID0gMTtcbiAgICAgICAgcmV0dXJuIG91dHB1dEdsb2JhbChpZCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIE1lbWJlckV4cHJlc3Npb246IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgdmFyIGQgPSAhbi5jb21wdXRlZDtcbiAgICAgICAgdmFyIG8gPSB2aXNpdChuLm9iamVjdCk7XG4gICAgICAgIGlmIChkKSBtZW1iZXJEZXB0aCArPSAxO1xuICAgICAgICB2YXIgcCA9IHZpc2l0KG4ucHJvcGVydHkpO1xuICAgICAgICBpZiAobyA9PT0gZmllbGR2YXIpIHtcbiAgICAgICAgICAvLyBzdHJpcCBxdW90ZXMgdG8gc2FuaXRpemUgZmllbGQgbmFtZSAoIzE2NTMpXG4gICAgICAgICAgZmllbGRzW3N0cmlwUXVvdGVzKHApXSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQpIG1lbWJlckRlcHRoIC09IDE7XG4gICAgICAgIHJldHVybiBvICsgKGQgPyAnLicrcCA6ICdbJytwKyddJyk7XG4gICAgICB9LFxuXG4gICAgQ2FsbEV4cHJlc3Npb246IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgaWYgKG4uY2FsbGVlLnR5cGUgIT09ICdJZGVudGlmaWVyJykge1xuICAgICAgICAgIGVycm9yKCdJbGxlZ2FsIGNhbGxlZSB0eXBlOiAnICsgbi5jYWxsZWUudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbGxlZSA9IG4uY2FsbGVlLm5hbWU7XG4gICAgICAgIHZhciBhcmdzID0gbi5hcmd1bWVudHM7XG4gICAgICAgIHZhciBmbiA9IGhhc093blByb3BlcnR5KGZ1bmN0aW9ucywgY2FsbGVlKSAmJiBmdW5jdGlvbnNbY2FsbGVlXTtcbiAgICAgICAgaWYgKCFmbikgZXJyb3IoJ1VucmVjb2duaXplZCBmdW5jdGlvbjogJyArIGNhbGxlZSk7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGZuKVxuICAgICAgICAgID8gZm4oYXJncylcbiAgICAgICAgICA6IGZuICsgJygnICsgYXJncy5tYXAodmlzaXQpLmpvaW4oJywnKSArICcpJztcbiAgICAgIH0sXG5cbiAgICBBcnJheUV4cHJlc3Npb246IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuICdbJyArIG4uZWxlbWVudHMubWFwKHZpc2l0KS5qb2luKCcsJykgKyAnXSc7XG4gICAgICB9LFxuXG4gICAgQmluYXJ5RXhwcmVzc2lvbjogZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gJygnICsgdmlzaXQobi5sZWZ0KSArIG4ub3BlcmF0b3IgKyB2aXNpdChuLnJpZ2h0KSArICcpJztcbiAgICAgIH0sXG5cbiAgICBVbmFyeUV4cHJlc3Npb246IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuICcoJyArIG4ub3BlcmF0b3IgKyB2aXNpdChuLmFyZ3VtZW50KSArICcpJztcbiAgICAgIH0sXG5cbiAgICBDb25kaXRpb25hbEV4cHJlc3Npb246IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuICcoJyArIHZpc2l0KG4udGVzdCkgK1xuICAgICAgICAgICc/JyArIHZpc2l0KG4uY29uc2VxdWVudCkgK1xuICAgICAgICAgICc6JyArIHZpc2l0KG4uYWx0ZXJuYXRlKSArXG4gICAgICAgICAgJyknO1xuICAgICAgfSxcblxuICAgIExvZ2ljYWxFeHByZXNzaW9uOiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiAnKCcgKyB2aXNpdChuLmxlZnQpICsgbi5vcGVyYXRvciArIHZpc2l0KG4ucmlnaHQpICsgJyknO1xuICAgICAgfSxcblxuICAgIE9iamVjdEV4cHJlc3Npb246IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuICd7JyArIG4ucHJvcGVydGllcy5tYXAodmlzaXQpLmpvaW4oJywnKSArICd9JztcbiAgICAgIH0sXG5cbiAgICBQcm9wZXJ0eTogZnVuY3Rpb24obikge1xuICAgICAgICBtZW1iZXJEZXB0aCArPSAxO1xuICAgICAgICB2YXIgayA9IHZpc2l0KG4ua2V5KTtcbiAgICAgICAgbWVtYmVyRGVwdGggLT0gMTtcbiAgICAgICAgcmV0dXJuIGsgKyAnOicgKyB2aXNpdChuLnZhbHVlKTtcbiAgICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjb2RlZ2VuKGFzdCkge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICBjb2RlOiAgICB2aXNpdChhc3QpLFxuICAgICAgZ2xvYmFsczogT2JqZWN0LmtleXMoZ2xvYmFscyksXG4gICAgICBmaWVsZHM6ICBPYmplY3Qua2V5cyhmaWVsZHMpXG4gICAgfTtcbiAgICBnbG9iYWxzID0ge307XG4gICAgZmllbGRzID0ge307XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGNvZGVnZW4uZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICBjb2RlZ2VuLmNvbnN0YW50cyA9IGNvbnN0YW50cztcblxuICByZXR1cm4gY29kZWdlbjtcbn1cbiIsImNvbnN0IHRleHREZWZhdWx0ID0ge1xuICBmaWxsOiBcIiMwMDBcIixcbiAgZm9udDogXCJzYW5zLXNlcmlmXCIsXG4gIGZvbnRTaXplOiAxMSxcbiAgb3BhY2l0eTogMSxcbiAgYmFzZWxpbmU6IFwiYWxwaGFiZXRpY1wiXG59O1xuLy8gdGhlIGJyb3dzZXJzJyBkZWZhdWx0XG5leHBvcnQgY29uc3QgQlJfUFJPUF9ERUZBVUxUID0ge1xuICBub25lOiB7fSxcbiAgcmVjdDogeyBvcGFjaXR5OiAxIH0sXG4gIGdyYWRpZW50OiB7IG9wYWNpdHk6IDEgfSxcbiAgZ3JvdXA6IHsgb3BhY2l0eTogMSB9LFxuICB0aWNrOiB7IG9wYWNpdHk6IDEgfSxcbiAgZ3JpZDogeyBvcGFjaXR5OiAxIH0sXG4gIGRvbWFpbjogeyBvcGFjaXR5OiAxIH0sXG4gIHN5bWJvbDogeyBvcGFjaXR5OiAxLCBzdHJva2U6IFwidHJhbnNwYXJlbnRcIiB9LFxuICBsaW5lOiB7IG9wYWNpdHk6IDEsIGZpbGw6IFwibm9uZVwiIH0sXG4gIC8vIGFyZWE6IHsgb3BhY2l0eTogMSwgc3Ryb2tlV2lkdGg6IFwiMXB4XCIsIHN0cm9rZTogXCJub25lXCIgfSxcbiAgYXJlYTogeyBvcGFjaXR5OiAxLCBzdHJva2VXaWR0aDogXCIwcHhcIiB9LFxuICB0cmFpbDogeyBvcGFjaXR5OiAxLCBzdHJva2VXaWR0aDogXCIwcHhcIiB9LFxuICBydWxlOiB7IG9wYWNpdHk6IDEgfSxcbiAgdGV4dDogdGV4dERlZmF1bHQsXG4gIHRpdGxlOiB0ZXh0RGVmYXVsdFxufTtcbiIsImV4cG9ydCBjb25zdCBERUZBVUxUX0VBU0UgPSB7XG4gIG1hcms6IFwiY3ViaWNcIixcbiAgbGluZTogXCJjdWJpY1wiLFxuICBheGlzOiBcImN1YmljXCIsXG4gIGxlZ2VuZDogXCJjdWJpY1wiLFxuICB2aWV3OiBcImN1YmljXCJcbn07IiwiLy8gRnJvbSBodHRwczovL2dpdGh1Yi5jb20vdmVnYS92ZWdhL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3ZlZ2EtcGFyc2VyL3NyYy9jb25maWcuanNcbi8qKlxuICogU3RhbmRhcmQgY29uZmlndXJhdGlvbiBkZWZhdWx0cyBmb3IgVmVnYSBzcGVjaWZpY2F0aW9uIHBhcnNpbmcuXG4gKiBVc2VycyBjYW4gcHJvdmlkZSB0aGVpciBvd24gKHN1Yi0pc2V0IG9mIHRoZXNlIGRlZmF1bHQgdmFsdWVzXG4gKiBieSBwYXNzaW5nIGluIGEgY29uZmlnIG9iamVjdCB0byB0aGUgdG9wLWxldmVsIHBhcnNlIG1ldGhvZC5cbiAqL1xuY29uc3QgZGVmYXVsdEZvbnQgPSBcInNhbnMtc2VyaWZcIixcbiAgZGVmYXVsdFN5bWJvbFNpemUgPSAzMCxcbiAgZGVmYXVsdFN0cm9rZVdpZHRoID0gMixcbiAgZGVmYXVsdENvbG9yID0gXCIjNGM3OGE4XCIsXG4gIGJsYWNrID0gXCIjMDAwXCIsXG4gIGdyYXkgPSBcIiM4ODhcIixcbiAgbGlnaHRHcmF5ID0gXCIjZGRkXCI7XG5leHBvcnQgY29uc3QgdmVnYUNvbmZpZyA9IHtcbiAgLy8gZGVmYXVsdCB2aXN1YWxpemF0aW9uIGRlc2NyaXB0aW9uXG4gIGRlc2NyaXB0aW9uOiBcIlZlZ2EgdmlzdWFsaXphdGlvblwiLFxuXG4gIC8vIGRlZmF1bHQgcGFkZGluZyBhcm91bmQgdmlzdWFsaXphdGlvblxuICBwYWRkaW5nOiAwLFxuXG4gIC8vIGRlZmF1bHQgZm9yIGF1dG9tYXRpYyBzaXppbmc7IG9wdGlvbnM6ICdub25lJywgJ3BhZCcsICdmaXQnXG4gIC8vIG9yIHByb3ZpZGUgYW4gb2JqZWN0IChlLmcuLCB7J3R5cGUnOiAncGFkJywgJ3Jlc2l6ZSc6IHRydWV9KVxuICBhdXRvc2l6ZTogXCJwYWRcIixcblxuICAvLyBkZWZhdWx0IHZpZXcgYmFja2dyb3VuZCBjb2xvclxuICAvLyBjb3ZlcnMgdGhlIGVudGlyZSB2aWV3IGNvbXBvbmVudFxuICBiYWNrZ3JvdW5kOiBudWxsLFxuXG4gIC8vIGRlZmF1bHQgZXZlbnQgaGFuZGxpbmcgY29uZmlndXJhdGlvblxuICAvLyBwcmV2ZW50RGVmYXVsdCBmb3Igdmlldy1zb3VyY2VkIGV2ZW50IHR5cGVzIGV4Y2VwdCAnd2hlZWwnXG4gIGV2ZW50czoge1xuICAgIGRlZmF1bHRzOiB7YWxsb3c6IFtcIndoZWVsXCJdfVxuICB9LFxuXG4gIC8vIGRlZmF1bHRzIGZvciB0b3AtbGV2ZWwgZ3JvdXAgbWFya3NcbiAgLy8gYWNjZXB0cyBtYXJrIHByb3BlcnRpZXMgKGZpbGwsIHN0cm9rZSwgZXRjKVxuICAvLyBjb3ZlcnMgdGhlIGRhdGEgcmVjdGFuZ2xlIHdpdGhpbiBncm91cCB3aWR0aC9oZWlnaHRcbiAgZ3JvdXA6IG51bGwsXG5cbiAgLy8gZGVmYXVsdHMgZm9yIGJhc2ljIG1hcmsgdHlwZXNcbiAgLy8gZWFjaCBzdWJzZXQgYWNjZXB0cyBtYXJrIHByb3BlcnRpZXMgKGZpbGwsIHN0cm9rZSwgZXRjKVxuICBtYXJrOiBudWxsLFxuICBhcmM6IHsgZmlsbDogZGVmYXVsdENvbG9yIH0sXG4gIGFyZWE6IHsgZmlsbDogZGVmYXVsdENvbG9yIH0sXG4gIGltYWdlOiBudWxsLFxuICBsaW5lOiB7XG4gICAgc3Ryb2tlOiBkZWZhdWx0Q29sb3IsXG4gICAgc3Ryb2tlV2lkdGg6IGRlZmF1bHRTdHJva2VXaWR0aFxuICB9LFxuICBwYXRoOiB7IHN0cm9rZTogZGVmYXVsdENvbG9yIH0sXG4gIHJlY3Q6IHsgZmlsbDogZGVmYXVsdENvbG9yIH0sXG4gIHJ1bGU6IHsgc3Ryb2tlOiBibGFjayB9LFxuICBzaGFwZTogeyBzdHJva2U6IGRlZmF1bHRDb2xvciB9LFxuICBzeW1ib2w6IHtcbiAgICBmaWxsOiBkZWZhdWx0Q29sb3IsXG4gICAgc2l6ZTogNjRcbiAgfSxcbiAgdGV4dDoge1xuICAgIGZpbGw6IGJsYWNrLFxuICAgIGZvbnQ6IGRlZmF1bHRGb250LFxuICAgIGZvbnRTaXplOiAxMVxuICB9LFxuICB0cmFpbDoge1xuICAgIGZpbGw6IGRlZmF1bHRDb2xvcixcbiAgICBzaXplOiBkZWZhdWx0U3Ryb2tlV2lkdGhcbiAgfSxcblxuICAvLyBzdHlsZSBkZWZpbml0aW9uc1xuICBzdHlsZToge1xuICAgIC8vIGF4aXMgJiBsZWdlbmQgbGFiZWxzXG4gICAgXCJndWlkZS1sYWJlbFwiOiB7XG4gICAgICBmaWxsOiBibGFjayxcbiAgICAgIGZvbnQ6IGRlZmF1bHRGb250LFxuICAgICAgZm9udFNpemU6IDEwXG4gICAgfSxcbiAgICAvLyBheGlzICYgbGVnZW5kIHRpdGxlc1xuICAgIFwiZ3VpZGUtdGl0bGVcIjoge1xuICAgICAgZmlsbDogYmxhY2ssXG4gICAgICBmb250OiBkZWZhdWx0Rm9udCxcbiAgICAgIGZvbnRTaXplOiAxMSxcbiAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiXG4gICAgfSxcbiAgICAvLyBoZWFkZXJzLCBpbmNsdWRpbmcgY2hhcnQgdGl0bGVcbiAgICBcImdyb3VwLXRpdGxlXCI6IHtcbiAgICAgIGZpbGw6IGJsYWNrLFxuICAgICAgZm9udDogZGVmYXVsdEZvbnQsXG4gICAgICBmb250U2l6ZTogMTMsXG4gICAgICBmb250V2VpZ2h0OiBcImJvbGRcIlxuICAgIH0sXG4gICAgLy8gY2hhcnQgc3VidGl0bGVcbiAgICBcImdyb3VwLXN1YnRpdGxlXCI6IHtcbiAgICAgIGZpbGw6IGJsYWNrLFxuICAgICAgZm9udDogZGVmYXVsdEZvbnQsXG4gICAgICBmb250U2l6ZTogMTJcbiAgICB9LFxuICAgIC8vIGRlZmF1bHRzIGZvciBzdHlsZWQgcG9pbnQgbWFya3MgaW4gVmVnYS1MaXRlXG4gICAgcG9pbnQ6IHtcbiAgICAgIHNpemU6IGRlZmF1bHRTeW1ib2xTaXplLFxuICAgICAgc3Ryb2tlV2lkdGg6IGRlZmF1bHRTdHJva2VXaWR0aCxcbiAgICAgIHNoYXBlOiBcImNpcmNsZVwiXG4gICAgfSxcbiAgICBjaXJjbGU6IHtcbiAgICAgIHNpemU6IGRlZmF1bHRTeW1ib2xTaXplLFxuICAgICAgc3Ryb2tlV2lkdGg6IGRlZmF1bHRTdHJva2VXaWR0aFxuICAgIH0sXG4gICAgc3F1YXJlOiB7XG4gICAgICBzaXplOiBkZWZhdWx0U3ltYm9sU2l6ZSxcbiAgICAgIHN0cm9rZVdpZHRoOiBkZWZhdWx0U3Ryb2tlV2lkdGgsXG4gICAgICBzaGFwZTogXCJzcXVhcmVcIlxuICAgIH0sXG4gICAgLy8gZGVmYXVsdHMgZm9yIHN0eWxlZCBncm91cCBtYXJrcyBpbiBWZWdhLUxpdGVcbiAgICBjZWxsOiB7XG4gICAgICBmaWxsOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICBzdHJva2U6IGxpZ2h0R3JheVxuICAgIH1cbiAgfSxcblxuICAvLyBkZWZhdWx0cyBmb3IgdGl0bGVcbiAgdGl0bGU6IHtcbiAgICBvcmllbnQ6IFwidG9wXCIsXG4gICAgYW5jaG9yOiBcIm1pZGRsZVwiLFxuICAgIG9mZnNldDogNCxcbiAgICBzdWJ0aXRsZVBhZGRpbmc6IDNcbiAgfSxcblxuICAvLyBkZWZhdWx0cyBmb3IgYXhlc1xuICBheGlzOiB7XG4gICAgbWluRXh0ZW50OiAwLFxuICAgIG1heEV4dGVudDogMjAwLFxuICAgIGJhbmRQb3NpdGlvbjogMC41LFxuICAgIGRvbWFpbjogdHJ1ZSxcbiAgICBkb21haW5XaWR0aDogMSxcbiAgICBkb21haW5Db2xvcjogZ3JheSxcbiAgICBncmlkOiBmYWxzZSxcbiAgICBncmlkV2lkdGg6IDEsXG4gICAgZ3JpZENvbG9yOiBsaWdodEdyYXksXG4gICAgbGFiZWxzOiB0cnVlLFxuICAgIGxhYmVsQW5nbGU6IDAsXG4gICAgbGFiZWxMaW1pdDogMTgwLFxuICAgIGxhYmVsT2Zmc2V0OiAwLFxuICAgIGxhYmVsUGFkZGluZzogMixcbiAgICB0aWNrczogdHJ1ZSxcbiAgICB0aWNrQ29sb3I6IGdyYXksXG4gICAgdGlja09mZnNldDogMCxcbiAgICB0aWNrUm91bmQ6IHRydWUsXG4gICAgdGlja1NpemU6IDUsXG4gICAgdGlja1dpZHRoOiAxLFxuICAgIHRpdGxlUGFkZGluZzogNFxuICB9LFxuXG4gIC8vIGNvcnJlY3Rpb24gZm9yIGNlbnRlcmluZyBiaWFzXG4gIGF4aXNCYW5kOiB7XG4gICAgdGlja09mZnNldDogLTAuNVxuICB9LFxuXG4gIC8vIGRlZmF1bHRzIGZvciBjYXJ0b2dyYXBoaWMgcHJvamVjdGlvblxuICBwcm9qZWN0aW9uOiB7XG4gICAgdHlwZTogXCJtZXJjYXRvclwiXG4gIH0sXG5cbiAgLy8gZGVmYXVsdHMgZm9yIGxlZ2VuZHNcbiAgbGVnZW5kOiB7XG4gICAgb3JpZW50OiBcInJpZ2h0XCIsXG4gICAgcGFkZGluZzogMCxcbiAgICBncmlkQWxpZ246IFwiZWFjaFwiLFxuICAgIGNvbHVtblBhZGRpbmc6IDEwLFxuICAgIHJvd1BhZGRpbmc6IDIsXG4gICAgc3ltYm9sRGlyZWN0aW9uOiBcInZlcnRpY2FsXCIsXG4gICAgZ3JhZGllbnREaXJlY3Rpb246IFwidmVydGljYWxcIixcbiAgICBncmFkaWVudExlbmd0aDogMjAwLFxuICAgIGdyYWRpZW50VGhpY2tuZXNzOiAxNixcbiAgICBncmFkaWVudFN0cm9rZUNvbG9yOiBsaWdodEdyYXksXG4gICAgZ3JhZGllbnRTdHJva2VXaWR0aDogMCxcbiAgICBncmFkaWVudExhYmVsT2Zmc2V0OiAyLFxuICAgIGxhYmVsQWxpZ246IFwibGVmdFwiLFxuICAgIGxhYmVsQmFzZWxpbmU6IFwibWlkZGxlXCIsXG4gICAgbGFiZWxMaW1pdDogMTYwLFxuICAgIGxhYmVsT2Zmc2V0OiA0LFxuICAgIGxhYmVsT3ZlcmxhcDogdHJ1ZSxcbiAgICBzeW1ib2xMaW1pdDogMzAsXG4gICAgc3ltYm9sVHlwZTogXCJjaXJjbGVcIixcbiAgICBzeW1ib2xTaXplOiAxMDAsXG4gICAgc3ltYm9sT2Zmc2V0OiAwLFxuICAgIHN5bWJvbFN0cm9rZVdpZHRoOiAxLjUsXG4gICAgc3ltYm9sQmFzZUZpbGxDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgIHN5bWJvbEJhc2VTdHJva2VDb2xvcjogZ3JheSxcbiAgICB0aXRsZUxpbWl0OiAxODAsXG4gICAgdGl0bGVPcmllbnQ6IFwidG9wXCIsXG4gICAgdGl0bGVQYWRkaW5nOiA1LFxuICAgIGxheW91dDoge1xuICAgICAgb2Zmc2V0OiAxOCxcbiAgICAgIGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICBsZWZ0OiAgIHsgZGlyZWN0aW9uOiBcInZlcnRpY2FsXCIgfSxcbiAgICAgIHJpZ2h0OiAgeyBkaXJlY3Rpb246IFwidmVydGljYWxcIiB9XG4gICAgfVxuICB9LFxuXG4gIC8vIGRlZmF1bHRzIGZvciBzY2FsZSByYW5nZXNcbiAgcmFuZ2U6IHtcbiAgICBjYXRlZ29yeToge1xuICAgICAgc2NoZW1lOiBcInRhYmxlYXUxMFwiXG4gICAgfSxcbiAgICBvcmRpbmFsOiB7XG4gICAgICBzY2hlbWU6IFwiYmx1ZXNcIlxuICAgIH0sXG4gICAgaGVhdG1hcDoge1xuICAgICAgc2NoZW1lOiBcInllbGxvd2dyZWVuYmx1ZVwiXG4gICAgfSxcbiAgICByYW1wOiB7XG4gICAgICBzY2hlbWU6IFwiYmx1ZXNcIlxuICAgIH0sXG4gICAgZGl2ZXJnaW5nOiB7XG4gICAgICBzY2hlbWU6IFwiYmx1ZW9yYW5nZVwiLFxuICAgICAgZXh0ZW50OiBbMSwgMF1cbiAgICB9LFxuICAgIHN5bWJvbDogW1xuICAgICAgXCJjaXJjbGVcIixcbiAgICAgIFwic3F1YXJlXCIsXG4gICAgICBcInRyaWFuZ2xlLXVwXCIsXG4gICAgICBcImNyb3NzXCIsXG4gICAgICBcImRpYW1vbmRcIixcbiAgICAgIFwidHJpYW5nbGUtcmlnaHRcIixcbiAgICAgIFwidHJpYW5nbGUtZG93blwiLFxuICAgICAgXCJ0cmlhbmdsZS1sZWZ0XCJcbiAgICBdXG4gIH1cbn07XG5cbiIsImV4cG9ydCBmdW5jdGlvbiBlbmNvZGlmeShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKChlbmNvZGUsIGtleSkgPT4ge1xuICAgIGVuY29kZVtrZXldID0geyB2YWx1ZTogb2JqW2tleV0gfTtcbiAgICByZXR1cm4gZW5jb2RlO1xuICB9LCB7fSk7XG59XG4iLCJpbXBvcnQgeyB2ZWdhQ29uZmlnIH0gZnJvbSBcIi4vdmVnYUNvbmZpZ1wiO1xuaW1wb3J0IHsgZW5jb2RpZnkgfSBmcm9tIFwiLi91dGlsXCI7XG5leHBvcnQgY29uc3QgREVGQVVMVF9TVFlMRSA9IE9iamVjdC5rZXlzKHZlZ2FDb25maWcuc3R5bGUpLnJlZHVjZShcbiAgKHN0eWxlcywga2V5KSA9PiB7XG4gICAgc3R5bGVzW2tleV0gPSBlbmNvZGlmeSh2ZWdhQ29uZmlnLnN0eWxlW2tleV0pO1xuICAgIHJldHVybiBzdHlsZXM7XG4gIH0sXG4gIHt9XG4pO1xuIiwiaW1wb3J0IHsgdmVnYUNvbmZpZywgdmVnYUNvbmZpZyBhcyB2Z0NvbmZpZyB9IGZyb20gXCIuLi92ZWdhQ29uZmlnXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuLi8uLi91dGlsL3V0aWxcIlxuY29uc3QgRU1QVFlfRU5DT0RFID0ge1xuICBlbnRlcjogeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgZXhpdDogeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgdXBkYXRlOiB7IH1cbn07XG5cblxuZnVuY3Rpb24gYXhpc0NvbXBQb3Moc3BlYykge1xuICBpZiAoIXNwZWMpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3Qgc2NOYW1lID0gc3BlYy5zY2FsZTtcbiAgaWYgKHNwZWMub3JpZW50ID09PSBcImxlZnRcIiB8fCBzcGVjLm9yaWVudCA9PT0gXCJyaWdodFwiKSB7XG4gICAgcmV0dXJuIHsgeTogeyBzY2FsZTogc2NOYW1lLCBmaWVsZDogXCJ2YWx1ZVwiLCBiYW5kOiAwLjUgfSB9O1xuICB9XG4gIHJldHVybiB7IHg6IHsgc2NhbGU6IHNjTmFtZSwgZmllbGQ6IFwidmFsdWVcIiwgYmFuZDogMC41IH0gfTtcbn1cbmZ1bmN0aW9uIGxlZ2VuZEJhbmRQb3Moc3BlYykge1xuICBsZXQgZ3JMZW5ndGggPSBzcGVjID8gc3BlYy5ncmFkaWVudExlbmd0aCA6IHVuZGVmaW5lZDtcbiAgbGV0IGdyVGhpY2tuZXNzID0gc3BlYyA/IHNwZWMuZ3JhZGllbnRUaGlja25lc3MgOiB1bmRlZmluZWQ7XG4gIGdyTGVuZ3RoID0gZ3JMZW5ndGggfHwgdmdDb25maWcubGVnZW5kLmdyYWRpZW50TGVuZ3RoO1xuICBnclRoaWNrbmVzcyA9IGdyVGhpY2tuZXNzIHx8IHZnQ29uZmlnLmxlZ2VuZC5ncmFkaWVudFRoaWNrbmVzcztcblxuICBpZiAoc3BlYyAmJiBzcGVjLmRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogeyBzaWduYWw6IFwiKDEtZGF0dW0ucGVyYylcIiwgbXVsdDogZ3JMZW5ndGggfSxcbiAgICAgIHgyOiB7IHNpZ25hbDogXCIoMS1kYXR1bS5wZXJjMilcIiwgbXVsdDogZ3JMZW5ndGggfSxcbiAgICAgIHk6IHsgdmFsdWU6IDAgfSxcbiAgICAgIGhlaWdodDogeyB2YWx1ZTogZ3JUaGlja25lc3MgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB5OiB7IHNpZ25hbDogXCIoMS1kYXR1bS5wZXJjKVwiLCBtdWx0OiBnckxlbmd0aCB9LFxuICAgIHkyOiB7IHNpZ25hbDogXCIoMS1kYXR1bS5wZXJjMilcIiwgbXVsdDogZ3JMZW5ndGggfSxcbiAgICB4OiB7IHZhbHVlOiAwIH0sXG4gICAgd2lkdGg6IHsgdmFsdWU6IGdyVGhpY2tuZXNzIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gbGVnZW5kTGFibGVQb3Moc3BlYykge1xuICBjb25zdCBjb2x1bW5zID0gIXNwZWMgPyAxIDogKHNwZWMuY29sdW1ucyB8fCAoc3BlYy5kaXJlY3Rpb24gPT09IFwidmVydGljYWxcIiA/IDEgOiAwKSlcbiAgY29uc3QgY2xpcEhlaWdodCA9IChzcGVjICYmIHNwZWMuY2xpcEhlaWdodCkgPyBzcGVjLmNsaXBIZWlnaHQgOiBudWxsO1xuXG4gIGlmIChzcGVjLnR5cGUgPT09IFwic3ltYm9sXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogeyBzaWduYWw6IGNvbHVtbnMgPyBgZGF0dW1bJ29mZnNldCddYCA6IGBkYXR1bVsnc2l6ZSddYCwgb2Zmc2V0OiB2Z0NvbmZpZy5sZWdlbmQubGFiZWxPZmZzZXQgfSxcbiAgICAgIHk6IHsgc2lnbmFsOiBjbGlwSGVpZ2h0ID8gYCR7Y2xpcEhlaWdodH1gIDogYGRhdHVtWydzaXplJ11gLCBtdWx0OiAwLjV9XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZ3JMZW5ndGggPSBzcGVjID8gc3BlYy5ncmFkaWVudExlbmd0aCA6IHVuZGVmaW5lZDtcbiAgICBnckxlbmd0aCA9IGlzTmFOKGdyTGVuZ3RoKSA/IHZnQ29uZmlnLmxlZ2VuZC5ncmFkaWVudExlbmd0aCA6IGdyTGVuZ3RoO1xuICAgIGxldCBnclRoaWNrbmVzcyA9IHNwZWMgPyBzcGVjLmdyYWRpZW50VGhpY2tuZXNzIDogdW5kZWZpbmVkO1xuICAgIGdyVGhpY2tuZXNzID0gaXNOYU4oZ3JUaGlja25lc3MpID8gdmdDb25maWcubGVnZW5kLmdyYWRpZW50VGhpY2tuZXNzIDogZ3JUaGlja25lc3M7XG4gICAgbGV0IGdyTGFiZWxPZmZzZXQgPSBzcGVjID8gc3BlYy5ncmFkaWVudExhYmVsT2Zmc2V0IDogdW5kZWZpbmVkO1xuICAgIGdyTGFiZWxPZmZzZXQgPSBpc05hTihnckxhYmVsT2Zmc2V0KSA/IHZnQ29uZmlnLmxlZ2VuZC5ncmFkaWVudExhYmVsT2Zmc2V0IDogZ3JMYWJlbE9mZnNldDtcblxuICAgIGlmIChzcGVjLmRpcmVjdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB7IHZhbHVlOiAwLCB9LFxuICAgICAgICB5OiB7IHNpZ25hbDogYCgxLWRhdHVtLnBlcmMpICogY2xhbXAoaGVpZ2h0LCA2NCwgJHtnckxlbmd0aH0pYCB9LFxuICAgICAgICBkeDogeyB2YWx1ZTogZ3JUaGlja25lc3MgKyBnckxhYmVsT2Zmc2V0IH1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB4OiB7IHNpZ25hbDogYChkYXR1bS5wZXJjKSAqIGNsYW1wKHdpZHRoLCA2NCwgJHtnckxlbmd0aH0pYCB9LFxuICAgICAgeTogeyB2YWx1ZTogMCwgfSxcbiAgICAgIGR5OiB7IHZhbHVlOiBnclRoaWNrbmVzcyArIGdyTGFiZWxPZmZzZXQgfVxuICAgIH07XG4gIH1cblxufVxuXG5cbmZ1bmN0aW9uIHRpdGxlUG9zKG9yaWVudCkge1xuICBpZiAob3JpZW50ID09PSBcInRvcFwiKSB7XG4gICAgcmV0dXJuIHt4OiB7IHNpZ25hbDogXCJ3aWR0aFwiLCBtdWx0OiAwLjV9LCB5OiB7dmFsdWU6IC0yMn19O1xuICB9IGlmIChvcmllbnQgPT09IFwiYm90dG9tXCIpIHtcbiAgICByZXR1cm4ge3g6IHsgc2lnbmFsOiBcIndpZHRoXCIsIG11bHQ6IDAuNX0sIHk6IHt2YWx1ZTogMjJ9fTtcbiAgfSBpZiAob3JpZW50ID09PSBcInJpZ2h0XCIpIHtcbiAgICByZXR1cm4ge3k6IHsgc2lnbmFsOiBcImhlaWdodFwiLCBtdWx0OiAwLjV9LCB4OiB7dmFsdWU6IDIyfX07XG4gIH1cbiAgcmV0dXJuIHt5OiB7IHNpZ25hbDogXCJoZWlnaHRcIiwgbXVsdDogMC41fSwgeDoge3ZhbHVlOiAtMjJ9fTtcblxufVxuZnVuY3Rpb24gdGl0bGVBbmdsZShvcmllbnQpIHtcbiAgaWYgKG9yaWVudCA9PT0gXCJsZWZ0XCIpIHtcbiAgICByZXR1cm4gMjcwO1xuICB9XG4gIGlmIChvcmllbnQgPT09IFwicmlnaHRcIikge1xuICAgIHJldHVybiA5MDtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIGJhc2VsaW5lKG9yaWVudCkge1xuICBpZiAob3JpZW50ID09PSBcInRvcFwiKSB7XG4gICAgcmV0dXJuIFwiYm90dG9tXCI7XG4gIH1cbiAgaWYgKG9yaWVudCA9PT0gXCJib3R0b21cIikge1xuICAgIHJldHVybiBcInRvcFwiO1xuICB9XG4gIHJldHVybiBcIm1pZGRsZVwiO1xufVxuZnVuY3Rpb24gdGlja0xlbmd0aChhdHRyLCBvcmllbnQpIHtcbiAgaWYgKGF0dHIgPT09IFwieDJcIikge1xuICAgIGlmIChvcmllbnQgPT09IFwicmlnaHRcIikge1xuICAgICAgcmV0dXJuIHZnQ29uZmlnLmF4aXMudGlja1NpemU7XG4gICAgfVxuICAgIGlmIChvcmllbnQgPT09IFwibGVmdFwiKSB7XG4gICAgICByZXR1cm4gLXZnQ29uZmlnLmF4aXMudGlja1NpemU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGF0dHIgPT09IFwieTJcIikge1xuICAgIGlmIChvcmllbnQgPT09IFwiYm90dG9tXCIpIHtcbiAgICAgIHJldHVybiB2Z0NvbmZpZy5heGlzLnRpY2tTaXplO1xuICAgIH1cbiAgICBpZiAob3JpZW50ID09PSBcInRvcFwiKSB7XG4gICAgICByZXR1cm4gLXZnQ29uZmlnLmF4aXMudGlja1NpemU7XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBheGlzTGFiZWxBbGlnbihzcGVjKSB7XG4gIGlmIChzcGVjICYmIHNwZWMubGFiZWxBbGlnbikge1xuICAgIHJldHVybiBzcGVjLmxhYmVsQWxpZ247XG4gIH1cblxuICBpZiAoc3BlYyAmJiBzcGVjLm9yaWVudCA9PT0gXCJyaWdodFwiKSB7XG4gICAgcmV0dXJuIFwibGVmdFwiO1xuICB9XG4gIGlmIChzcGVjICYmIHNwZWMub3JpZW50ID09PSBcImxlZnRcIikge1xuICAgIHJldHVybiBcInJpZ2h0XCI7XG4gIH1cbiAgcmV0dXJuIFwiY2VudGVyXCI7XG59XG5cbmZ1bmN0aW9uIGxlZ2VuZExhYmVsQWxpZ24oc3BlYykge1xuICBpZiAoc3BlYyAmJiBzcGVjLmxhYmVsQWxpZ24pIHtcbiAgICByZXR1cm4gc3BlYy5sYWJlbEFsaWduO1xuICB9XG5cbiAgaWYgKHNwZWMgJiYgc3BlYy5vcmllbnQgPT09IFwicmlnaHRcIikge1xuICAgIHJldHVybiBcImxlZnRcIjtcbiAgfVxuICBpZiAoc3BlYyAmJiBzcGVjLm9yaWVudCA9PT0gXCJsZWZ0XCIpIHtcbiAgICByZXR1cm4gXCJyaWdodFwiO1xuICB9XG4gIHJldHVybiBcImNlbnRlclwiO1xufVxuXG5mdW5jdGlvbiBsYWJsZUFuZ2xlKG9yaWVudCwgc2NhbGVUeXBlKSB7XG4gIGlmIChvcmllbnQgPT09IFwidG9wXCIgfHwgb3JpZW50ID09PSBcImJvdHRvbVwiKSB7XG4gICAgaWYgKFtcImJhbmRcIiwgXCJwb2ludFwiXS5pbmRleE9mKHNjYWxlVHlwZSkgPj0gMCkge1xuICAgICAgcmV0dXJuIDI3MDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBheGlzVGV4dERwb3MoYXR0ciwgc3BlYykge1xuICBjb25zdCBvcmllbnQgPSBzcGVjID8gc3BlYy5vcmllbnQgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHBvc09mZnNldCA9IChzcGVjLnRpY2tzICE9PSBmYWxzZSA/XG4gICAgICAoIHV0aWwuaXNOdW1iZXIoc3BlYy50aWNrU2l6ZSkgPyBzcGVjLnRpY2tTaXplIDogdmVnYUNvbmZpZy5heGlzLnRpY2tTaXplKVxuICAgICAgIDogMClcbiAgICArICh1dGlsLmlzTnVtYmVyKHNwZWMubGFiZWxQYWRkaW5nKSA/IHNwZWMubGFiZWxQYWRkaW5nIDogdmVnYUNvbmZpZy5heGlzLmxhYmVsUGFkZGluZyk7XG5cblxuICBpZiAoYXR0ciA9PT0gXCJkeFwiKSB7XG4gICAgaWYgKG9yaWVudCA9PT0gXCJyaWdodFwiKSB7XG4gICAgICByZXR1cm4gcG9zT2Zmc2V0O1xuICAgIH1cbiAgICBpZiAob3JpZW50ID09PSBcImxlZnRcIikge1xuICAgICAgcmV0dXJuIC1wb3NPZmZzZXQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGF0dHIgPT09IFwiZHlcIikge1xuICAgIGlmIChvcmllbnQgPT09IFwiYm90dG9tXCIpIHtcbiAgICAgIHJldHVybiBwb3NPZmZzZXQ7XG4gICAgfVxuICAgIGlmIChvcmllbnQgPT09IFwidG9wXCIpIHtcbiAgICAgIHJldHVybiAtIHBvc09mZnNldDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGdyaWRMZW5ndGgob3JpZW50LCBncmlkU2NhbGUpe1xuICBpZiAob3JpZW50ID09PSBcImJvdHRvbVwiIHx8IG9yaWVudCA9PT0gXCJ0b3BcIikge1xuICAgIGlmICghZ3JpZFNjYWxlKXtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHkyOiB7c2lnbmFsOiBcImhlaWdodFwiLCBtdWx0OiAtMX0sXG4gICAgICAgIHk6IHt2YWx1ZTogMH0sXG4gICAgICAgIHgyOiB7dmFsdWU6IDB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLy8geTI6IHtzaWduYWw6IFwiaGVpZ2h0XCJ9LFxuICAgICAgLy8geToge3NpZ25hbDogXCJoZWlnaHRcIiwgbXVsdDogLTF9LFxuICAgICAgeTI6IHtzaWduYWw6IFwiaGVpZ2h0XCIsIG11bHQ6IC0xfSxcbiAgICAgIHk6IHt2YWx1ZTogMH0sXG4gICAgICB4Mjoge3ZhbHVlOiAwfVxuICAgIH07XG5cbiAgfVxuXG4gIGlmIChvcmllbnQgPT09IFwicmlnaHRcIiB8fCBvcmllbnQgPT09IFwibGVmdFwiKSB7XG4gICAgaWYgKCFncmlkU2NhbGUpe1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDI6IHtzaWduYWw6IFwid2lkdGhcIn0sXG4gICAgICAgIHg6IHt2YWx1ZTogMH0sXG4gICAgICAgIHkyOiB7dmFsdWU6IDB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgeDI6IHtzaWduYWw6IFwid2lkdGhcIn0sXG4gICAgICB4OiB7dmFsdWU6IDB9LFxuICAgICAgeTI6IHt2YWx1ZTogMH1cbiAgICB9O1xuXG4gIH1cblxufVxuXG5mdW5jdGlvbiBkb21haW5MZW5ndGgob3JpZW50KSB7XG4gIGlmIChvcmllbnQgPT09IFwiYm90dG9tXCIgfHwgb3JpZW50ID09PSBcInRvcFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHkyOiB7IHZhbHVlOiAwIH0sXG4gICAgICB4MjogeyBzaWduYWw6IFwid2lkdGhcIiB9LFxuICAgICAgeTogeyB2YWx1ZTogMCB9LFxuICAgICAgeDogeyB2YWx1ZTogMCB9XG4gICAgfTtcbiAgfVxuICBpZiAob3JpZW50ID09PSBcInJpZ2h0XCIgfHwgb3JpZW50ID09PSBcImxlZnRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB5MjogeyBzaWduYWw6IFwiaGVpZ2h0XCIsIG11bHQ6IDEgfSxcbiAgICAgIHgyOiB7IHZhbHVlOiAwIH0sXG4gICAgICB5OiB7IHZhbHVlOiAwIH0sXG4gICAgICB4OiB7IHZhbHVlOiAwIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgeTI6IHsgdmFsdWU6IDAgfSxcbiAgICB4MjogeyB2YWx1ZTogMCB9XG4gIH07XG59XG5cbmV4cG9ydCB7XG5cbiAgbGVnZW5kQmFuZFBvcyxcbiAgbGVnZW5kTGFibGVQb3MsXG4gIGxlZ2VuZExhYmVsQWxpZ24sXG5cbiAgdGl0bGVQb3MsXG4gIHRpdGxlQW5nbGUsXG4gIGJhc2VsaW5lLFxuXG4gIGF4aXNDb21wUG9zLFxuICBsYWJsZUFuZ2xlLFxuICB0aWNrTGVuZ3RoLFxuICBheGlzTGFiZWxBbGlnbixcbiAgYXhpc1RleHREcG9zLFxuICBncmlkTGVuZ3RoLFxuICBkb21haW5MZW5ndGgsXG5cbiAgRU1QVFlfRU5DT0RFXG59OyIsImltcG9ydCB7IHZlZ2FDb25maWcsIHZlZ2FDb25maWcgYXMgdmdDb25maWcgfSBmcm9tIFwiLi4vdmVnYUNvbmZpZ1wiO1xuaW1wb3J0ICogYXMgdmcgZnJvbSBcIi4vdmVnYURlZmF1bHRcIjtcbmltcG9ydCB7IGNvcHkgfSBmcm9tIFwiLi4vLi4vdXRpbC91dGlsXCI7XG5jb25zdCBMRUdFTkRfU1lNQk9MX0NIQU5ORUwgPSBbXG4gIFwiZmlsbFwiLFxuICBcIm9wYWNpdHlcIixcbiAgXCJzaGFwZVwiLFxuICBcInNpemVcIixcbiAgXCJzdHJva2VcIixcbiAgXCJzdHJva2VEYXNoXCIsXG4gIFwic3Ryb2tlV2lkdGhcIlxuXTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfRU5DT0RFX0xFR0VORCA9IHtcblxuICB0aXRsZTogKCkgPT4ge1xuICAgIGNvbnN0IGRlZmF1bHRUaXRsZUVuY29kZSA9IHtcbiAgICAgIGZvbnRTaXplOiB7IHZhbHVlOiB2Z0NvbmZpZy5zdHlsZVtcImd1aWRlLXRpdGxlXCJdLmZvbnRTaXplIH0sXG4gICAgICBmb250V2VpZ2h0OiB7IHZhbHVlOiBcImJvbGRcIiB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGRlZmF1bHRUaXRsZUVuY29kZSxcbiAgICAgIGVudGVyOiB7Li4uZGVmYXVsdFRpdGxlRW5jb2RlLCBvcGFjaXR5OiB7dmFsdWU6IDB9fSxcbiAgICAgIGV4aXQ6IHsuLi5kZWZhdWx0VGl0bGVFbmNvZGUsIG9wYWNpdHk6IHt2YWx1ZTogMH19LFxuICAgIH07XG4gIH0sXG4gIGxhYmVsczogc3BlYyA9PiB7XG4gICAgaWYgKCFzcGVjKSB7XG4gICAgICByZXR1cm4gY29weSh2Zy5FTVBUWV9FTkNPREUpO1xuICAgIH1cblxuICAgIGxldCBkZWZhdWx0RW5jb2RlID0ge1xuICAgICAgLi4udmcubGVnZW5kTGFibGVQb3Moc3BlYyksXG4gICAgICB0ZXh0OiB7IGZpZWxkOiBcImxhYmVsXCIgfSxcbiAgICAgIGZvbnRTaXplOiB7IHZhbHVlOiB2Z0NvbmZpZy5zdHlsZVtcImd1aWRlLWxhYmVsXCJdLmZvbnRTaXplIH0sXG4gICAgICBhbGlnbjogeyB2YWx1ZTogdmcubGVnZW5kTGFiZWxBbGlnbihzcGVjKSB9LFxuICAgICAgYmFzZWxpbmU6IHtcbiAgICAgICAgdmFsdWU6IHNwZWMuYmFzZWxpbmUgfHwgdmcuYmFzZWxpbmUoc3BlYy5vcmllbnQpXG4gICAgICB9LFxuICAgICAgYW5nbGU6IHtcbiAgICAgICAgdmFsdWU6IHNwZWMubGFiZWxBbmdsZSB8fCB2Zy5sYWJsZUFuZ2xlKHNwZWMub3JpZW50LCBzcGVjLnNjYWxlVHlwZSlcbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgZW50ZXI6IHsuLi5kZWZhdWx0RW5jb2RlLCBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgIGV4aXQ6IHsuLi5kZWZhdWx0RW5jb2RlLCBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgIHVwZGF0ZTogZGVmYXVsdEVuY29kZVxuICAgIH07XG4gIH0sXG4gIHN5bWJvbHM6IHNwZWMgPT4ge1xuICAgIGNvbnN0IGNvbHVtbnMgPSAhc3BlYyA/IDEgOiAoc3BlYy5jb2x1bW5zIHx8IChzcGVjLmRpcmVjdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiID8gMSA6IDApKVxuICAgIGNvbnN0IGNsaXBIZWlnaHQgPSAoc3BlYyAmJiBzcGVjLmNsaXBIZWlnaHQpID8gc3BlYy5jbGlwSGVpZ2h0IDogbnVsbDtcbiAgICBjb25zdCBkZWZhdWx0RW5jb2RlID0ge1xuICAgICAgeTogeyBzaWduYWw6IGNsaXBIZWlnaHQgPyBgJHtjbGlwSGVpZ2h0fWAgOiBgZGF0dW1bJ3NpemUnXWAsIG11bHQ6IDAuNX0sXG4gICAgICB4OiB7IHNpZ25hbDogY29sdW1ucyA/IGBkYXR1bVsnb2Zmc2V0J11gIDogYGRhdHVtWydzaXplJ11gLCBtdWx0OiAwLjUsIG9mZnNldDogdmVnYUNvbmZpZy5sZWdlbmQuc3ltYm9sT2Zmc2V0IH0sXG4gICAgICBzaGFwZTogeyB2YWx1ZTogdmdDb25maWcubGVnZW5kLnN5bWJvbFR5cGUgfSxcbiAgICAgIHNpemU6IHsgdmFsdWU6IHZnQ29uZmlnLmxlZ2VuZC5zeW1ib2xTaXplIH0sXG4gICAgICBzdHJva2VXaWR0aDogeyB2YWx1ZTogdmdDb25maWcubGVnZW5kLnN5bWJvbFN0cm9rZVdpZHRoIH1cbiAgICB9O1xuXG4gICAgaWYgKHNwZWMpIHtcbiAgICAgIGlmICghc3BlYy5maWxsKSB7XG4gICAgICAgIGRlZmF1bHRFbmNvZGUuc3Ryb2tlID0ge1xuICAgICAgICAgIHZhbHVlOiB2Z0NvbmZpZy5sZWdlbmQuc3ltYm9sQmFzZVN0cm9rZUNvbG9yXG4gICAgICAgIH07XG4gICAgICAgIGRlZmF1bHRFbmNvZGUuZmlsbCA9IHtcbiAgICAgICAgICB2YWx1ZTogdmdDb25maWcubGVnZW5kLnN5bWJvbEJhc2VGaWxsQ29sb3JcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgTEVHRU5EX1NZTUJPTF9DSEFOTkVMLmZvckVhY2goY2hhbm5lbCA9PiB7XG4gICAgICAgIGlmIChjaGFubmVsID09PSBcInNoYXBlXCIpIHtcbiAgICAgICAgICBkZWZhdWx0RW5jb2RlW2NoYW5uZWxdID0geyB2YWx1ZTogc3BlYy5zeW1ib2xUeXBlIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwZWNbY2hhbm5lbF0pIHtcbiAgICAgICAgICBkZWZhdWx0RW5jb2RlW2NoYW5uZWxdID0geyBzY2FsZTogc3BlY1tjaGFubmVsXSwgZmllbGQ6IFwidmFsdWVcIiB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBkZWZhdWx0RW5jb2RlLFxuICAgICAgZW50ZXI6IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRFbmNvZGUsIHsgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0pLFxuICAgICAgZXhpdDogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEVuY29kZSwgeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSlcbiAgICB9O1xuICB9LFxuICBncmFkaWVudDogc3BlYyA9PiB7XG4gICAgaWYgKCFzcGVjKSB7XG4gICAgICByZXR1cm4gY29weSh2Zy5FTVBUWV9FTkNPREUpO1xuICAgIH1cblxuICAgIGxldCBnckxlbmd0aCA9IHNwZWMuZ3JhZGllbnRMZW5ndGggfHxcbiAgICAgIHtcbiAgICAgICAgc2lnbmFsOiBgY2xhbXAoJHtzcGVjLmRpcmVjdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIn0sIDY0LCAke3ZnQ29uZmlnLmxlZ2VuZC5ncmFkaWVudExlbmd0aH0pYFxuICAgICAgfSxcbiAgICAgIGdyVGhpY2tuZXNzID0gc3BlYy5ncmFkaWVudFRoaWNrbmVzcyB8fCB2Z0NvbmZpZy5sZWdlbmQuZ3JhZGllbnRUaGlja25lc3M7XG4gICAgaWYgKHR5cGVvZiBnckxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgZ3JMZW5ndGg9IHtcbiAgICAgICAgc2lnbmFsOiBgY2xhbXAoJHtzcGVjLmRpcmVjdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiID8gXCJoZWlnaHRcIiA6IFwid2lkdGhcIn0sIDY0LCAke2dyTGVuZ3RofSlgXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0RW5jb2RlID0ge1xuICAgICAgeDogeyB2YWx1ZTogMCB9LFxuICAgICAgeTogeyB2YWx1ZTogMCB9LFxuICAgICAgd2lkdGg6XG4gICAgICAgIHNwZWMuZGlyZWN0aW9uID09PSBcInZlcnRpY2FsXCJcbiAgICAgICAgICA/IHsgdmFsdWU6IGdyVGhpY2tuZXNzIH1cbiAgICAgICAgICA6IGdyTGVuZ3RoLFxuICAgICAgaGVpZ2h0OlxuICAgICAgICBzcGVjLmRpcmVjdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiXG4gICAgICAgICAgPyBnckxlbmd0aFxuICAgICAgICAgIDogeyB2YWx1ZTogZ3JUaGlja25lc3MgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBkZWZhdWx0RW5jb2RlLFxuICAgICAgZW50ZXI6IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRFbmNvZGUsIHsgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0pLFxuICAgICAgZXhpdDogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEVuY29kZSwgeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSlcbiAgICB9O1xuICB9LFxuICBlbnRyaWVzOiAoKSA9PiB7XG4gICAgcmV0dXJuIGNvcHkodmcuRU1QVFlfRU5DT0RFKTtcbiAgfSxcbiAgbGVnZW5kOiAoKSA9PiB7XG4gICAgcmV0dXJuIGNvcHkodmcuRU1QVFlfRU5DT0RFKTtcbiAgfSxcbiAgcGFpcnM6IHNwZWMgPT4ge1xuICAgIGxldCBkZWZhdWx0RW5jb2RlID0geyB5OiB7IHNpZ25hbDogXCJkYXR1bS5pbmRleCAqIDEzXCIgfSB9O1xuICAgIGlmIChzcGVjICYmIHNwZWMuZGlyZWN0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgZGVmYXVsdEVuY29kZSA9IHsgeDogeyBzaWduYWw6IFwiZGF0dW0uaW5kZXggKiA1MFwiIH0gfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBkZWZhdWx0RW5jb2RlLFxuICAgICAgZW50ZXI6IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRFbmNvZGUsIHsgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0pLFxuICAgICAgZXhpdDogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEVuY29kZSwgeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSlcbiAgICB9O1xuICB9LFxuICBiYW5kczogc3BlYyA9PiB7XG4gICAgbGV0IGRlZmF1bHRFbmNvZGUgPSB7XG4gICAgICAuLi52Zy5sZWdlbmRCYW5kUG9zKHNwZWMpLFxuICAgICAgZmlsbDoge1xuICAgICAgICB2YWx1ZTogdmdDb25maWcubGVnZW5kLnN5bWJvbEJhc2VGaWxsQ29sb3JcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChzcGVjICYmIChzcGVjLmZpbGwgfHwgc3BlYy5zdHJva2UpKSB7XG4gICAgICBkZWZhdWx0RW5jb2RlLmZpbGwgPSB7IHNjYWxlOiBzcGVjLmZpbGwgfHwgc3BlYy5zdHJva2UsIGZpZWxkOiBcInZhbHVlXCIgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBkZWZhdWx0RW5jb2RlLFxuICAgICAgZW50ZXI6IHtcbiAgICAgICAgLi4uZGVmYXVsdEVuY29kZSxcbiAgICAgICAgb3BhY2l0eTogeyB2YWx1ZTogMCB9XG4gICAgICB9LFxuICAgICAgZXhpdDoge1xuICAgICAgICAuLi5kZWZhdWx0RW5jb2RlLFxuICAgICAgICBvcGFjaXR5OiB7IHZhbHVlOiAwIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG59OyIsImltcG9ydCB7IGVuY29kaWZ5IH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCB7IHZlZ2FDb25maWcgYXMgdmdDb25maWcgfSBmcm9tIFwiLi4vdmVnYUNvbmZpZ1wiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRU5DT0RFX01BUksgPSB7XG4gIGVudGVyOiB7IG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9LFxuICBleGl0OiB7IG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9LFxuICBsaW5lOiB7XG4gICAgdXBkYXRlOiB7XG4gICAgICAuLi5lbmNvZGlmeSh2Z0NvbmZpZy5saW5lKSxcbiAgICAgIGZpbGw6IHsgdmFsdWU6IFwibm9uZVwiIH1cbiAgICB9XG4gIH0sXG4gIGFyZWE6IHt1cGRhdGU6IGVuY29kaWZ5KHZnQ29uZmlnLmFyZWEpfSxcbiAgdHJhaWw6IHt1cGRhdGU6IGVuY29kaWZ5KHZnQ29uZmlnLnRyYWlsKX0sXG4gIHN5bWJvbDogeyB1cGRhdGU6IGVuY29kaWZ5KHZnQ29uZmlnLnN5bWJvbCkgIH0sXG4gIHJlY3Q6IHsgICAgdXBkYXRlOiBlbmNvZGlmeSh2Z0NvbmZpZy5yZWN0KSB9LFxuICBydWxlOiB7ICAgIHVwZGF0ZTogZW5jb2RpZnkodmdDb25maWcucnVsZSkgIH0sXG4gIHRleHQ6IHsgICAgdXBkYXRlOiBlbmNvZGlmeSh2Z0NvbmZpZy50ZXh0KSAgfVxufTsiLCJpbXBvcnQgeyB2ZWdhQ29uZmlnIGFzIHZnQ29uZmlnIH0gZnJvbSBcIi4uL3ZlZ2FDb25maWdcIjtcbmltcG9ydCAqIGFzIHZnIGZyb20gXCIuL3ZlZ2FEZWZhdWx0XCI7XG5pbXBvcnQgeyBpc051bWJlciwgY29weSB9IGZyb20gXCIuLi8uLi91dGlsL3V0aWxcIjtcblxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9FTkNPREVfQVhJUyA9IHtcbiAgYXhpczogKCkgPT4ge1xuICAgIHJldHVybiBjb3B5KHZnLkVNUFRZX0VOQ09ERSk7XG4gIH0sXG4gIGxhYmVsczogc3BlYyA9PiB7XG4gICAgaWYgKCFzcGVjKSB7XG4gICAgICByZXR1cm4gY29weSh2Zy5FTVBUWV9FTkNPREUpO1xuICAgIH1cblxuICAgIGNvbnN0IG9yaWVudCA9IHNwZWMgPyBzcGVjLm9yaWVudCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzY2FsZVR5cGUgPSBzcGVjID8gc3BlYy5zY2FsZVR5cGUgOiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBkZWZhdWx0RW5jb2RlID0ge1xuICAgICAgLi4udmcuYXhpc0NvbXBQb3Moc3BlYyksXG4gICAgICB0ZXh0OiB7IGZpZWxkOiBcImxhYmVsXCIgfSxcbiAgICAgIGZvbnRTaXplOiB7XG4gICAgICAgIHZhbHVlOiBzcGVjICYmIHNwZWMubGFiZWxGb250U2l6ZSA/IHNwZWMubGFiZWxGb250U2l6ZSA6IHZnQ29uZmlnLnN0eWxlW1wiZ3VpZGUtbGFiZWxcIl0uZm9udFNpemVcbiAgICAgIH0sXG4gICAgICBkeDogeyB2YWx1ZTogdmcuYXhpc1RleHREcG9zKFwiZHhcIiwgc3BlYykgfSxcbiAgICAgIGR5OiB7IHZhbHVlOiB2Zy5heGlzVGV4dERwb3MoXCJkeVwiLCBzcGVjKSB9LFxuICAgICAgYWxpZ246IHsgdmFsdWU6IHZnLmF4aXNMYWJlbEFsaWduKHNwZWMpIH0sXG4gICAgICBiYXNlbGluZToge1xuICAgICAgICB2YWx1ZTogc3BlYyAmJiBzcGVjLmJhc2VsaW5lID8gc3BlYy5iYXNlbGluZSA6IHZnLmJhc2VsaW5lKG9yaWVudClcbiAgICAgIH0sXG4gICAgICBhbmdsZToge1xuICAgICAgICB2YWx1ZTpcbiAgICAgICAgICBzcGVjICYmIGlzTnVtYmVyKHNwZWMubGFiZWxBbmdsZSlcbiAgICAgICAgICAgID8gc3BlYy5sYWJlbEFuZ2xlXG4gICAgICAgICAgICA6IHZnLmxhYmxlQW5nbGUob3JpZW50LCBzY2FsZVR5cGUpXG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBlbnRlcjogeyAuLi5kZWZhdWx0RW5jb2RlLCBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgIGV4aXQ6IHsgLi4uZGVmYXVsdEVuY29kZSwgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0sXG4gICAgICB1cGRhdGU6IGRlZmF1bHRFbmNvZGVcbiAgICB9O1xuICB9LFxuICB0aWNrczogc3BlYyA9PiB7XG4gICAgaWYgKCFzcGVjKSB7XG4gICAgICByZXR1cm4gY29weSh2Zy5FTVBUWV9FTkNPREUpO1xuICAgIH1cblxuICAgIGNvbnN0IG9yaWVudCA9IHNwZWMgPyBzcGVjLm9yaWVudCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBkZWZhdWx0RW5jb2RlID0gT2JqZWN0LmFzc2lnbih7fSwgdmcuYXhpc0NvbXBQb3Moc3BlYyksIHtcbiAgICAgIHgyOiB7IHZhbHVlOiB2Zy50aWNrTGVuZ3RoKFwieDJcIiwgb3JpZW50KSB9LFxuICAgICAgeTI6IHsgdmFsdWU6IHZnLnRpY2tMZW5ndGgoXCJ5MlwiLCBvcmllbnQpIH0sXG4gICAgICBzdHJva2VXaWR0aDogeyB2YWx1ZTogdmdDb25maWcuYXhpcy50aWNrV2lkdGggfSxcbiAgICAgIHN0cm9rZTogeyB2YWx1ZTogdmdDb25maWcuYXhpcy50aWNrQ29sb3IgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBlbnRlcjogeyAuLi5kZWZhdWx0RW5jb2RlLCBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgIGV4aXQ6IHsgLi4uZGVmYXVsdEVuY29kZSwgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0sXG4gICAgICB1cGRhdGU6IGRlZmF1bHRFbmNvZGVcbiAgICB9O1xuICB9LFxuICBncmlkOiBzcGVjID0+IHtcblxuICAgIGNvbnN0IG9yaWVudCA9IHNwZWMgPyBzcGVjLm9yaWVudCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBncmlkU2NhbGUgPSBzcGVjID8gc3BlYy5ncmlkU2NhbGUgOiB1bmRlZmluZWQ7XG4gICAgbGV0IGRlZmF1bHRFbmNvZGUgPSBPYmplY3QuYXNzaWduKFxuICAgICAge30sXG4gICAgICB2Zy5heGlzQ29tcFBvcyhzcGVjKSxcbiAgICAgIHZnLmdyaWRMZW5ndGgob3JpZW50LCBncmlkU2NhbGUpLFxuICAgICAge1xuICAgICAgICBzdHJva2VXaWR0aDogeyB2YWx1ZTogdmdDb25maWcuYXhpcy5ncmlkV2lkdGggfSxcbiAgICAgICAgc3Ryb2tlOiB7IHZhbHVlOiB2Z0NvbmZpZy5heGlzLmdyaWRDb2xvciB9XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAoc3BlYyAmJiBzcGVjLmdyaWREYXNoKSB7XG4gICAgICBkZWZhdWx0RW5jb2RlLnN0cm9rZURhc2hhcnJheSA9IHtcInZhbHVlXCI6IHNwZWMuZ3JpZERhc2guam9pbihcIixcIil9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBlbnRlcjogeyAuLi5kZWZhdWx0RW5jb2RlLCBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgIGV4aXQ6IHsgLi4uZGVmYXVsdEVuY29kZSwgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0sXG4gICAgICB1cGRhdGU6IGRlZmF1bHRFbmNvZGVcbiAgICB9O1xuICB9LFxuICB0aXRsZTogc3BlYyA9PiB7XG5cblxuICAgIGNvbnN0IG9yaWVudCA9IHNwZWMgPyBzcGVjLm9yaWVudCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBkZWZhdWx0RW5jb2RlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgYmFzZWxpbmU6IHsgdmFsdWU6IHZnLmJhc2VsaW5lKG9yaWVudCkgfSxcbiAgICAgICAgYWxpZ246IHsgdmFsdWU6IFwiY2VudGVyXCIgfSxcbiAgICAgICAgYW5nbGU6IHsgdmFsdWU6IHZnLnRpdGxlQW5nbGUob3JpZW50KSB9LFxuICAgICAgICBmb250U2l6ZTogeyB2YWx1ZTogdmdDb25maWcuc3R5bGVbXCJndWlkZS10aXRsZVwiXS5mb250U2l6ZSB9LFxuICAgICAgICBmb250V2VpZ2h0OiB7IHZhbHVlOiBcImJvbGRcIiB9XG4gICAgICB9LFxuICAgICAgdmcudGl0bGVQb3Mob3JpZW50KVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVudGVyOiB7IC4uLmRlZmF1bHRFbmNvZGUsIG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9LFxuICAgICAgZXhpdDogeyAuLi5kZWZhdWx0RW5jb2RlLCBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgIHVwZGF0ZTogZGVmYXVsdEVuY29kZVxuICAgIH07XG4gIH0sXG4gIGRvbWFpbjogc3BlYyA9PiB7XG5cbiAgICBjb25zdCBkZWZhdWx0RW5jb2RlID0ge1xuICAgICAgLi4uKHNwZWMgPyB2Zy5kb21haW5MZW5ndGgoc3BlYy5vcmllbnQpIDoge30pLFxuICAgICAgc3Ryb2tlV2lkdGg6IHsgdmFsdWU6IHZnQ29uZmlnLmF4aXMuZG9tYWluV2lkdGggfSxcbiAgICAgIHN0cm9rZTogeyB2YWx1ZTogdmdDb25maWcuYXhpcy5kb21haW5Db2xvciB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBlbnRlcjogeyAuLi5kZWZhdWx0RW5jb2RlLCBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgIGV4aXQ6IHsgLi4uZGVmYXVsdEVuY29kZSwgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0sXG4gICAgICB1cGRhdGU6IGRlZmF1bHRFbmNvZGVcbiAgICB9O1xuICB9XG59O1xuIiwiaW1wb3J0IHsgREVGQVVMVF9FTkNPREVfTEVHRU5EIH0gZnJvbSBcIi4vbGVnZW5kXCI7XG5pbXBvcnQgeyBERUZBVUxUX0VOQ09ERV9NQVJLIH0gZnJvbSBcIi4vbWFya1wiO1xuaW1wb3J0IHsgREVGQVVMVF9FTkNPREVfQVhJUyB9IGZyb20gXCIuL2F4aXNcIjtcblxuLy8gREVGQVVMVCBlbnRlciBtZWFucyBpbml0aWFscyBvZiB0aGUgZW50ZXJcbmV4cG9ydCBjb25zdCBERUZBVUxUX0VOQ09ERSA9IHtcbiAgbWFyazogREVGQVVMVF9FTkNPREVfTUFSSyxcbiAgYXhpczogREVGQVVMVF9FTkNPREVfQVhJUyxcbiAgbGVnZW5kOiBERUZBVUxUX0VOQ09ERV9MRUdFTkRcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItZGVzdHJ1Y3R1cmluZyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG5pbXBvcnQgKiBhcyB2ZWdhIGZyb20gXCJ2ZWdhXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCB7IERFRkFVTFRfRUFTRSB9IGZyb20gXCIuLi9kZWZhdWx0XCI7XG5cbmZ1bmN0aW9uIGdldEVhc2VGbihlYXNlRm5OYW1lKSB7XG4gIGNvbnN0IG5hbWUgPSBlYXNlRm5OYW1lIHx8IERFRkFVTFRfRUFTRS5tYXJrO1xuICByZXR1cm4gZDNbYGVhc2Uke25hbWUuc2xpY2UoMCwgMSkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSl9YF07XG59XG5cblxuZnVuY3Rpb24gZmluZEFmdGVyU2libGluZyhzY2VuZSwgbmFtZSkge1xuICBsZXQgcmVzdWx0O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNjZW5lLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcyA9IHNjZW5lLml0ZW1zW2ldO1xuICAgIGlmIChzLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgIHJldHVybiBzY2VuZS5pdGVtc1tpICsgMV07XG4gICAgfVxuICAgIGlmIChzLml0ZW1zKSB7XG4gICAgICByZXN1bHQgPSBmaW5kQWZ0ZXJTaWJsaW5nKHMsIG5hbWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBnZXRKb2luSW5mbyhkLCBpLCBzdGVwLCBwcm9wKSB7XG4gIHJldHVybiBkLl9fZ2VtaW5pX19bc3RlcC5zdGVwSWRdXG4gICAgPyBkLl9fZ2VtaW5pX19bc3RlcC5zdGVwSWRdW3Byb3BdXG4gICAgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRDb21wKHNjZW5lLCBuYW1lLCByb2xlKSB7XG4gIGxldCByZXN1bHQgPSBbXTtcbiAgc2NlbmUuaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICBpZiAoaXRlbS5pdGVtcykge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChmaW5kQ29tcChpdGVtLCBuYW1lLCByb2xlKSk7XG4gICAgfVxuXG4gICAgaWYgKGl0ZW0ucm9sZSA9PT0gcm9sZSAmJiBpdGVtLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7IC8vIHJldHVybiB0aGUgZmlyc3QgaXRlbS5cbn1cbmZ1bmN0aW9uIHN2Z1JlbmRlcih2ZWdhU2NlbmUpIHtcbiAgY29uc3Qgc3ZnID0gbmV3IHZlZ2EuU1ZHUmVuZGVyZXIoKVxuICAgIC5pbml0aWFsaXplKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIDEsIDEpXG4gICAgLnJlbmRlcih2ZWdhU2NlbmUpXG4gICAgLnN2ZygpO1xuICBjb25zdCBwID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBkb20gPSBwLnBhcnNlRnJvbVN0cmluZyhzdmcsIFwiaW1hZ2Uvc3ZnK3htbFwiKTtcbiAgcmV0dXJuIGRvbS5kb2N1bWVudEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGdyYWRpZW50UmVuZGVyKGQzUm9vdFNlbGVjdGlvbiwgZCkge1xuICBjb25zdCBzID0gdmVnYS5zY2VuZUZyb21KU09OKHZlZ2Euc2NlbmVUb0pTT04oZC5tYXJrKSk7XG4gIHMuaXRlbXNbMF0uZmlsbCA9IGQuZmlsbDtcbiAgY29uc3QgZG9tID0gc3ZnUmVuZGVyKHMpO1xuICBjb25zdCBncmFkaWVudERvbSA9IGRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRlZnNcIilbMF0uZmlyc3RFbGVtZW50Q2hpbGQ7XG4gIGxldCBkM0RlZnNTZWxlY3Rpb24gPSBkM1Jvb3RTZWxlY3Rpb24uc2VsZWN0KFwiZGVmc1wiKTtcbiAgaWYgKGQzRGVmc1NlbGVjdGlvbi5lbXB0eSgpKSB7XG4gICAgZDNEZWZzU2VsZWN0aW9uID0gZDNSb290U2VsZWN0aW9uLmFwcGVuZChcImRlZnNcIik7XG4gIH1cbiAgZDNEZWZzU2VsZWN0aW9uLm5vZGUoKS5hcHBlbmRDaGlsZChncmFkaWVudERvbSk7XG4gIHJldHVybiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfSMke1xuICAgIGdyYWRpZW50RG9tLmlkXG4gIH1gO1xufVxuXG5cbmZ1bmN0aW9uIHByb3BNYXAocHJvcCkge1xuICBsZXQgcHJvcE5hbWUgPSBwcm9wO1xuICBsZXQgdHdlYWtzO1xuICBpZiAodHlwZW9mIHByb3AgPT09IFwib2JqZWN0XCIpIHtcbiAgICBwcm9wTmFtZSA9IHByb3AubmFtZTtcbiAgICB0d2Vha3MgPSBwcm9wLnR3ZWFrcztcbiAgfVxuICBsZXQgcmVzdWx0ID0gW107XG4gIHN3aXRjaCAocHJvcE5hbWUpIHtcbiAgY2FzZSBcInRleHRcIjpcbiAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KFtcbiAgICAgIHsgdHlwZTogXCJ0ZXh0XCIsIHZhbDogXCJ0ZXh0XCIgfSxcbiAgICAgIHsgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ0cmFuc2Zvcm1cIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJvcGFjaXR5XCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwiZm9udFwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcImZvbnRTaXplXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwiZm9udFdlaWdodFwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcImZpbGxcIiB9XG4gICAgXSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgXCJ0aXRsZVwiOlxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW1xuICAgICAgeyB0eXBlOiBcInRleHRcIiwgdmFsOiBcInRleHRcIiB9LFxuICAgICAgeyB0eXBlOiBcImF0dHJcIiwgdmFsOiBcInRyYW5zZm9ybVwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcIm9wYWNpdHlcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJmb250XCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwiZm9udFNpemVcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJmb250V2VpZ2h0XCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwiZmlsbFwiIH1cbiAgICBdKTtcbiAgICBicmVhaztcbiAgY2FzZSBcInRpY2tcIjpcbiAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KFtcbiAgICAgIHsgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ0cmFuc2Zvcm1cIiB9LFxuICAgICAgeyB0eXBlOiBcImF0dHJcIiwgdmFsOiBcIngyXCIgfSxcbiAgICAgIHsgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ5MlwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcInN0cm9rZVdpZHRoXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwic3Ryb2tlXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwib3BhY2l0eVwiIH1cbiAgICBdKTtcbiAgICBicmVhaztcbiAgY2FzZSBcImdyaWRcIjpcbiAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KFtcbiAgICAgIHsgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ0cmFuc2Zvcm1cIiB9LFxuICAgICAgeyB0eXBlOiBcImF0dHJcIiwgdmFsOiBcIngyXCIgfSxcbiAgICAgIHsgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ5MlwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcInN0cm9rZVdpZHRoXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwic3Ryb2tlXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwic3Ryb2tlRGFzaGFycmF5XCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwib3BhY2l0eVwiIH1cbiAgICBdKTtcbiAgICBicmVhaztcbiAgY2FzZSBcImRvbWFpblwiOlxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW1xuICAgICAgeyB0eXBlOiBcImF0dHJcIiwgdmFsOiBcInRyYW5zZm9ybVwiIH0sXG4gICAgICB7IHR5cGU6IFwiYXR0clwiLCB2YWw6IFwieDJcIiB9LFxuICAgICAgeyB0eXBlOiBcImF0dHJcIiwgdmFsOiBcInkyXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwic3Ryb2tlV2lkdGhcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJzdHJva2VcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJvcGFjaXR5XCIgfVxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlIFwicmVjdFwiOlxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW1xuICAgICAgeyB0eXBlOiBcImF0dHJUd2VlblwiLCB2YWw6IFwiZFwiIH0sXG4gICAgICB7IHR5cGU6IFwiYXR0clwiLCB2YWw6IFwidHJhbnNmb3JtXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwib3BhY2l0eVwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcImZpbGxcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJzdHJva2VXaWR0aFwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcInN0cm9rZVwiIH1cbiAgICBdKTtcbiAgICBicmVhaztcbiAgY2FzZSBcImdyYWRpZW50XCI6XG4gICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChbXG4gICAgICB7IHR5cGU6IFwiYXR0clwiLCB2YWw6IFwiZFwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcIm9wYWNpdHlcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJmaWxsXCIsIGRlZnM6IGdyYWRpZW50UmVuZGVyIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcInN0cm9rZVdpZHRoXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwic3Ryb2tlXCIgfVxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlIFwicnVsZVwiOlxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW1xuICAgICAgeyB0eXBlOiBcImF0dHJcIiwgdmFsOiBcInRyYW5zZm9ybVwiIH0sXG4gICAgICB7IHR5cGU6IFwiYXR0clwiLCB2YWw6IFwieDJcIiB9LFxuICAgICAgeyB0eXBlOiBcImF0dHJcIiwgdmFsOiBcInkyXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwic3Ryb2tlV2lkdGhcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJzdHJva2VcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJvcGFjaXR5XCIgfVxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlIFwic3ltYm9sXCI6XG4gICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChbXG4gICAgICB7IHR5cGU6IFwiYXR0clR3ZWVuXCIsIHZhbDogXCJkXCIgfSxcbiAgICAgIHsgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJzaXplXCIgfSxcbiAgICAgIHsgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ0cmFuc2Zvcm1cIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJzdHJva2VXaWR0aFwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcInN0cm9rZVwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcIm9wYWNpdHlcIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJmaWxsXCIgfVxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlIFwiZ3JvdXBcIjpcbiAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KFtcbiAgICAgIHsgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ0cmFuc2Zvcm1cIiB9LFxuICAgICAgeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJvcGFjaXR5XCIgfVxuICAgIF0pO1xuICAgIGJyZWFrO1xuICBjYXNlIFwiYmFja2dyb3VuZFwiOlxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW3sgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJkXCIgfV0pO1xuICAgIGJyZWFrO1xuICBjYXNlIFwibGluZVwiOlxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW1xuICAgICAgeyB0eXBlOiBcImF0dHJUd2VlblwiLCB2YWw6IFwiZFwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcInN0cm9rZVdpZHRoXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwic3Ryb2tlXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwib3BhY2l0eVwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcImZpbGxcIiB9XG4gICAgXSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgXCJ0cmFpbFwiOlxuICBjYXNlIFwiYXJlYVwiOlxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW1xuICAgICAgeyB0eXBlOiBcImF0dHJUd2VlblwiLCB2YWw6IFwiZFwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcInN0cm9rZVdpZHRoXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwic3Ryb2tlXCIgfSxcbiAgICAgIHsgdHlwZTogXCJzdHlsZVwiLCB2YWw6IFwib3BhY2l0eVwiIH0sXG4gICAgICB7IHR5cGU6IFwic3R5bGVcIiwgdmFsOiBcImZpbGxcIiB9XG4gICAgXSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgXCJsZWdlbmQtcGFpclwiOlxuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoW3sgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ0cmFuc2Zvcm1cIiB9XSk7XG4gICAgYnJlYWs7XG4gIGRlZmF1bHQ6XG4gICAgYnJlYWs7XG4gIH1cbiAgaWYgKHByb3AuZXhjbHVkZXMpIHtcbiAgICBwcm9wLmV4Y2x1ZGVzLmZvckVhY2goZXhjbHVkZSA9PiB7XG4gICAgICByZXN1bHQgPSByZXN1bHQuZmlsdGVyKFxuICAgICAgICByID0+ICEoci50eXBlID09PSBleGNsdWRlLnR5cGUgJiYgci52YWwgPT09IGV4Y2x1ZGUudmFsKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICByZXN1bHQuZm9yRWFjaChwID0+IHtcbiAgICAgIHAuZWxtVHlwZSA9IHByb3BOYW1lO1xuICAgICAgaWYgKHR3ZWFrcykge1xuICAgICAgICB0d2Vha3NcbiAgICAgICAgICAuZmlsdGVyKHR3ayA9PiB0d2sudHlwZSA9PT0gcC50eXBlICYmIHR3ay52YWwgPT09IHAudmFsKVxuICAgICAgICAgIC5mb3JFYWNoKHR3ayA9PiB7XG4gICAgICAgICAgICBwID0gT2JqZWN0LmFzc2lnbihwLCB0d2spO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaWYgKHByb3BOYW1lID09PSBcImFsaWduXCIpIHtcbiAgICByZXR1cm4gW3sgdHlwZTogXCJhdHRyXCIsIHZhbDogXCJ0ZXh0LWFuY2hvclwiLCBlbG1UeXBlOiBcIm5vbmVcIiB9XTtcbiAgfVxuICByZXR1cm4gW3sgdHlwZTogXCJzdHlsZVwiLCB2YWw6IHByb3BOYW1lLCBlbG1UeXBlOiBcIm5vbmVcIiB9XTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZVNjYWxlKHNjYWxlcywgc2NOYW1lcywgZ2V0U2NhbGVzKSB7XG4gIGNvbnN0IGNvbXB1dGVkID0gT2JqZWN0LmFzc2lnbih7fSwgc2NhbGVzKTtcblxuICBzY05hbWVzLmZvckVhY2goc2NOYW1lID0+IHtcbiAgICBjb21wdXRlZC5pbml0aWFsW3NjTmFtZV0gPSBnZXRTY2FsZXMuaW5pdGlhbChzY05hbWUpO1xuICAgIGNvbXB1dGVkLmZpbmFsW3NjTmFtZV0gPSBnZXRTY2FsZXMuZmluYWwoc2NOYW1lKTtcbiAgfSk7XG4gIHJldHVybiBjb21wdXRlZDtcbn1cblxuZnVuY3Rpb24gaXNMaW5lYXJNYXJrdHlwZShtdHlwZSkge1xuICByZXR1cm4gW1wiYXJlYVwiLCBcImxpbmVcIiwgXCJ0cmFpbFwiXS5pbmRleE9mKG10eXBlKSA+PSAwO1xufVxuXG5leHBvcnQge1xuICBwcm9wTWFwLFxuICBnZXRFYXNlRm4sXG4gIGZpbmRBZnRlclNpYmxpbmcsXG4gIGdldEpvaW5JbmZvLFxuICBmaW5kQ29tcCxcbiAgc3ZnUmVuZGVyLFxuICBjb21wdXRlU2NhbGUsXG4gIGlzTGluZWFyTWFya3R5cGVcbn07XG4iLCJmdW5jdGlvbiBjb21wdXRlSGFzRmFjZXQoY29tcFNwZWMpIHtcbiAgaWYgKFxuICAgIGNvbXBTcGVjICYmXG4gICAgY29tcFNwZWMucGFyZW50ICYmXG4gICAgY29tcFNwZWMucGFyZW50LmZyb20gJiZcbiAgICBjb21wU3BlYy5wYXJlbnQuZnJvbS5mYWNldCAmJlxuICAgIGNvbXBTcGVjLnBhcmVudC5mcm9tLmZhY2V0LmRhdGEgJiZcbiAgICBjb21wU3BlYy5wYXJlbnQuZnJvbS5mYWNldC5uYW1lID09PSBjb21wU3BlYy5mcm9tLmRhdGFcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRGYWNldChjb21wU3BlYykge1xuICByZXR1cm4gY29tcHV0ZUhhc0ZhY2V0KGNvbXBTcGVjKSA/IGNvbXBTcGVjLnBhcmVudC5mcm9tLmZhY2V0IDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc0dyb3VwaW5nTWFya3R5cGUobWFya3R5cGUpIHtcbiAgcmV0dXJuIG1hcmt0eXBlID09PSBcImxpbmVcIiB8fCBtYXJrdHlwZSA9PT0gXCJhcmVhXCIgfHwgbWFya3R5cGUgPT09IFwidHJhaWxcIjtcbn1cblxuZnVuY3Rpb24gZmluZE1hcmsobWFya3MsIG1hcmtOYW1lKSB7XG4gIGxldCByZXN1bHQ7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBtID0gbWFya3NbaV07XG4gICAgaWYgKG0ubmFtZSA9PT0gbWFya05hbWUpIHtcbiAgICAgIHJldHVybiBtO1xuICAgIH1cbiAgICBpZiAobS5tYXJrcykge1xuICAgICAgcmVzdWx0ID0gZmluZE1hcmsobS5tYXJrcywgbWFya05hbWUpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZmluZERhdGEoc3BlYywgZGF0YU5hbWUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGVjLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3BlYy5kYXRhW2ldLm5hbWUgPT09IGRhdGFOYW1lKSB7XG4gICAgICByZXR1cm4gc3BlYy5kYXRhW2ldO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZmluZEZpbHRlcihzcGVjLCBuYW1lKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3BlYy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZCA9IHNwZWMuZGF0YVtpXTtcbiAgICBpZiAoZC50cmFuc2Zvcm0pIHtcbiAgICAgIGNvbnN0IGZpbHRlciA9IGQudHJhbnNmb3JtLmZpbmQoZmlsdGVyID0+IGZpbHRlci5uYW1lID09PSBuYW1lKTtcbiAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGZpbHRlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgY29tcHV0ZUhhc0ZhY2V0LFxuICBnZXRGYWNldCxcbiAgaXNHcm91cGluZ01hcmt0eXBlLFxuICBmaW5kTWFyayxcbiAgZmluZERhdGEsXG4gIGZpbmRGaWx0ZXJcbn07XG4iLCJpbXBvcnQgeyBwYXJzZSwgY29kZWdlbiBhcyB2Z0NvZGVnZW4gfSBmcm9tIFwidmVnYS1leHByZXNzaW9uXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCAqIGFzIHZlZ2EgZnJvbSBcInZlZ2FcIjtcbmltcG9ydCB7Y29weSwgZmxhdHRlbn0gZnJvbSBcIi4vdXRpbC91dGlsLmpzXCI7XG5pbXBvcnQgeyBnZXRFYXNlRm4gfSBmcm9tIFwiLi9hY3R1YXRvci91dGlsXCI7XG5pbXBvcnQgeyBmaW5kRmlsdGVyIH0gZnJvbSBcIi4vY2hhbmdlRmV0Y2hlci9zdGF0ZS91dGlsXCI7XG5cblxuY2xhc3MgRW51bWVyYXRvciB7XG4gIGNvbnN0cnVjdG9yKGVudW1EZWYsIHNwZWMsIHJhd0luZm8pIHtcbiAgICB0aGlzLnZpZXdzID0gW107XG4gICAgdGhpcy5zdG9wTiA9IHRoaXMudmlld3MubGVuZ3RoO1xuICAgIHRoaXMuZW51bURlZiA9IGVudW1EZWY7XG4gICAgdGhpcy5jdXJyU3BlYyA9IHNwZWM7XG4gICAgdGhpcy5lYXNlRm4gPSBnZXRFYXNlRm4oZW51bURlZi5lYXNlKTtcbiAgICB0aGlzLmRlbGF5ID0gZW51bURlZi5kZWxheSB8fCAwO1xuICAgIHRoaXMuc3RhZ2dlcmluZyA9IGVudW1EZWYuc3RhZ2dlcmluZztcbiAgICB0aGlzLnJhd0luZm8gPSByYXdJbmZvO1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICBjb25zdCB3b3JraW5nU3BlYyA9IGNvcHkodGhpcy5jdXJyU3BlYyk7XG5cbiAgICBjb25zdCBlbnVtVmFscyA9IGNvbXB1dGVGaWx0ZXJpbmdWYWx1ZXModGhpcy5lbnVtRGVmLCB0aGlzLnJhd0luZm8pO1xuICAgIGNvbnN0IGZpbHRlciA9IGZpbmRGaWx0ZXIod29ya2luZ1NwZWMsIHRoaXMuZW51bURlZi5maWx0ZXIpO1xuXG5cbiAgICBmb3IgKGNvbnN0IHYgb2YgZW51bVZhbHMpIHtcbiAgICAgIHRoaXMudmlld3MucHVzaChhd2FpdCBuZXcgdmVnYS5WaWV3KHZlZ2EucGFyc2UoY29tcHV0ZU5ld1NwZWMod29ya2luZ1NwZWMsIGZpbHRlciwgdikpLCB7XG4gICAgICAgIHJlbmRlcmVyOiBcInN2Z1wiXG4gICAgICB9KS5ydW5Bc3luYygpKTtcbiAgICB9XG4gICAgdGhpcy5zdG9wTiA9IHRoaXMudmlld3MubGVuZ3RoO1xuICB9XG5cbiAgX2dldFNjYWxlcyhzdG9wX24pIHtcbiAgICByZXR1cm4gc2NOYW1lID0+IHtcbiAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXdzW3N0b3Bfbl07XG4gICAgICByZXR1cm4gdmlldy5fcnVudGltZS5zY2FsZXNbc2NOYW1lXVxuICAgICAgICA/IHZpZXcuX3J1bnRpbWUuc2NhbGVzW3NjTmFtZV0udmFsdWVcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgfVxuXG4gIGdldERhdGEoc3RvcF9uKSB7XG4gICAgaWYgKHRoaXMuZXh0cmFjdERhdGEgJiYgdGhpcy5nZXRJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXh0cmFjdERhdGEodGhpcy52aWV3c1tzdG9wX25dKTtcbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgcmV0dXJuIGRhdGEgd2l0aG91dCBqb2luaW5nIGRhdGEuXCIpO1xuICB9XG5cbiAgZ2V0RGF0dW0oaWQsIHN0b3Bfbikge1xuICAgIGlmICh0aGlzLmV4dHJhY3REYXRhICYmIHRoaXMuZ2V0SWQpIHtcbiAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZpZXdzW3N0b3Bfbl0pLmZpbmQoXG4gICAgICAgIChkLCBpKSA9PiB0aGlzLmdldElkKGQsIGkpID09PSBpZFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmb3VuZCAmJiBmb3VuZC5kYXR1bSA/IGZvdW5kLmRhdHVtIDogZm91bmQ7XG4gICAgfVxuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IHJldHVybiBkYXRhIHdpdGhvdXQgam9pbmluZyBkYXRhLlwiKTtcbiAgfVxuXG4gIGpvaW5EYXRhKGV4dHJhY3REYXRhLCBpZGVudGlmeURhdGEpIHtcbiAgICB0aGlzLmV4dHJhY3REYXRhID0gZXh0cmFjdERhdGE7XG4gICAgdGhpcy5nZXRJZCA9IGlkZW50aWZ5RGF0YTtcbiAgICBsZXQgY3VyckRhdGFLZXlzID0gdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZpZXdzWzBdKS5tYXAodGhpcy5nZXRJZCk7XG5cbiAgICB0aGlzLmpvaW5EYXRhSW5mbyA9IHRoaXMudmlld3Muc2xpY2UoMSkubWFwKHZpZXcgPT4ge1xuICAgICAgY29uc3Qgam9pbiA9IHtcbiAgICAgICAgdXBkYXRlOiBbXSxcbiAgICAgICAgZW50ZXI6IFtdLFxuICAgICAgICBleGl0OiBbXVxuICAgICAgfTtcbiAgICAgIGNvbnN0IG5ld0RhdGFLZXlzID0gZXh0cmFjdERhdGEodmlldykubWFwKHRoaXMuZ2V0SWQpO1xuICAgICAgY3VyckRhdGFLZXlzLmZvckVhY2goY0tleSA9PiB7XG4gICAgICAgIGNvbnN0IGZvdW5kSW5kZXggPSBuZXdEYXRhS2V5cy5pbmRleE9mKGNLZXkpO1xuICAgICAgICBpZiAoZm91bmRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgam9pbi51cGRhdGUucHVzaChjS2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBqb2luLmV4aXQucHVzaChjS2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBqb2luLmVudGVyID0gbmV3RGF0YUtleXMuZmlsdGVyKG5LZXkgPT4gY3VyckRhdGFLZXlzLmluZGV4T2YobktleSkgPCAwKTtcblxuICAgICAgY3VyckRhdGFLZXlzID0gbmV3RGF0YUtleXM7XG5cbiAgICAgIHJldHVybiBbXCJ1cGRhdGVcIiwgXCJlbnRlclwiLCBcImV4aXRcIl0ucmVkdWNlKChhY2NNYXAsIHNldCkgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICBhY2NNYXAsXG4gICAgICAgICAgam9pbltzZXRdLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGFjY1trZXldID0gc2V0O1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICB9LCB7fSlcbiAgICAgICAgKTtcbiAgICAgIH0sIHt9KTtcbiAgICB9KTtcbiAgICB0aGlzLmFsbEtleXMgPSBmbGF0dGVuKHRoaXMuam9pbkRhdGFJbmZvLm1hcChPYmplY3Qua2V5cykpLnVuaXF1ZSgpO1xuICAgIHRoaXMuc2V0ID0gKGlkLCBzdG9wX24pID0+IHRoaXMuam9pbkRhdGFJbmZvW3N0b3Bfbl1baWRdO1xuICB9XG5cbiAgZ2V0UHJvcFZhbChwcm9wLCBlbmNvZGVzLCBzdG9wX24sIGlkKSB7XG4gICAgY29uc3QgZCA9IHRoaXMuZXh0cmFjdERhdGEodGhpcy52aWV3c1tzdG9wX25dKS5maW5kKFxuICAgICAgKHgsIGkpID0+IHRoaXMuZ2V0SWQoeCwgaSkgPT09IGlkXG4gICAgKTtcbiAgICBjb25zdCBkU2V0ID0gdGhpcy5zZXQoaWQsIHN0b3Bfbik7XG4gICAgaWYgKCFkU2V0KSB7XG4gICAgICByZXR1cm4gW1wieDJcIiwgXCJ5MlwiXS5pbmRleE9mKHByb3AudmFsKSA+PSAwID8gMCA6IFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IGdldFNjYWxlcyA9IHtcbiAgICAgIGluaXRpYWw6IHRoaXMuX2dldFNjYWxlcyhzdG9wX24pLFxuICAgICAgZmluYWw6IHRoaXMuX2dldFNjYWxlcyhzdG9wX24gKyAxKVxuICAgIH07XG4gICAgcmV0dXJuIGVuY29kZXNbZFNldF0uaW5pdGlhbChwcm9wLCBnZXRTY2FsZXMsIGQpO1xuICB9XG5cbiAgaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihwcm9wLCBlbmNvZGVzLCBlbGVtKSB7XG4gICAgcmV0dXJuIGlkID0+IHtcbiAgICAgIHJldHVybiB0ID0+IHtcbiAgICAgICAgY29uc3Qgc3RvcF9uID0gTWF0aC5taW4oTWF0aC5mbG9vcih0ICogKHRoaXMuc3RvcE4gLSAxKSksIHRoaXMuc3RvcE4gLSAyKTtcbiAgICAgICAgbGV0IGRfaSA9IHRoaXMuZXh0cmFjdERhdGEodGhpcy52aWV3c1tzdG9wX25dKS5maW5kKFxuICAgICAgICAgICh4LCBpKSA9PiB0aGlzLmdldElkKHgsIGkpID09PSBpZFxuICAgICAgICApO1xuICAgICAgICBsZXQgZF9mID0gdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZpZXdzW3N0b3BfbiArIDFdKS5maW5kKFxuICAgICAgICAgICh4LCBpKSA9PiB0aGlzLmdldElkKHgsIGkpID09PSBpZFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGRTZXQgPSB0aGlzLnNldChpZCwgc3RvcF9uKTtcbiAgICAgICAgc3dpdGNoIChkU2V0KSB7XG4gICAgICAgIGNhc2UgXCJlbnRlclwiOlxuICAgICAgICAgIGRfaSA9IGRfZjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImV4aXRcIjpcbiAgICAgICAgICBkX2YgPSBkX2k7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ1cGRhdGVcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gW1wieDJcIiwgXCJ5MlwiXS5pbmRleE9mKHByb3AudmFsKSA+PSAwID8gMCA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2V0U2NhbGVzID0ge1xuICAgICAgICAgIGluaXRpYWw6IHRoaXMuX2dldFNjYWxlcyhzdG9wX24pLFxuICAgICAgICAgIGZpbmFsOiB0aGlzLl9nZXRTY2FsZXMoc3RvcF9uICsgMSlcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHByb3AudHlwZSA9PT0gXCJhdHRyVHdlZW5cIikge1xuICAgICAgICAgIHJldHVybiBlbmNvZGVzW2RTZXRdLmN1c3RvbS5iaW5kKGVsZW0pKHByb3AsIGdldFNjYWxlcywgZF9pLCBkX2YpKFxuICAgICAgICAgICAgdCAqICh0aGlzLnN0b3BOIC0gMSkgLSBzdG9wX25cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbEkgPSBlbmNvZGVzW2RTZXRdLmluaXRpYWwuYmluZChlbGVtKShwcm9wLCBnZXRTY2FsZXMsIGRfaSk7XG4gICAgICAgIGNvbnN0IHZhbEYgPSBlbmNvZGVzW2RTZXRdLmZpbmFsLmJpbmQoZWxlbSkocHJvcCwgZ2V0U2NhbGVzLCBkX2YpO1xuXG4gICAgICAgIHJldHVybiBkMy5pbnRlcnBvbGF0ZSh2YWxJLCB2YWxGKSh0ICogKHRoaXMuc3RvcE4gLSAxKSAtIHN0b3Bfbik7XG4gICAgICAgIC8vIGFwcGx5IG9uZSBvZiBjb3JyZXNwb25kaW5nIGludGVycG9sYXRpb25cbiAgICAgIH07XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlRmlsdGVyaW5nVmFsdWVzKGVudW1EZWYsIHJhd0luZm8pIHtcbiAgY29uc3QgZmlsdGVyaW5nVmFsdWVzID0gZW51bURlZi52YWx1ZXMgfHwgW107XG4gIGlmIChmaWx0ZXJpbmdWYWx1ZXMubGVuZ3RoID09PSAwICYmIGVudW1EZWYuc3RlcFNpemUpIHtcbiAgICAvLyBmaW5kIGluaXRpYWwgdmFsdWVcbiAgICBjb25zdCBpRmlsdGVyID0gZmluZEZpbHRlcihyYXdJbmZvLnNWaXMuc3BlYywgZW51bURlZi5maWx0ZXIpO1xuICAgIGNvbnN0IGlWYWwgPSBwYXJzZShpRmlsdGVyLmV4cHIpLnJpZ2h0LnZhbHVlO1xuXG4gICAgLy8gZmluZCBlbmQgdmFsdWVcbiAgICBjb25zdCBmRmlsdGVyID0gZmluZEZpbHRlcihyYXdJbmZvLmVWaXMuc3BlYywgZW51bURlZi5maWx0ZXIpO1xuICAgIGNvbnN0IGZWYWwgPSBwYXJzZShmRmlsdGVyLmV4cHIpLnJpZ2h0LnZhbHVlO1xuXG4gICAgZm9yIChsZXQgdiA9IGlWYWw7IHYgPCBmVmFsOyB2ICs9IGVudW1EZWYuc3RlcFNpemUpIHtcbiAgICAgIGZpbHRlcmluZ1ZhbHVlcy5wdXNoKHYpO1xuICAgIH1cblxuICAgIGZpbHRlcmluZ1ZhbHVlcy5wdXNoKGZWYWwpO1xuICB9XG4gIHJldHVybiBmaWx0ZXJpbmdWYWx1ZXM7XG59XG5cblxuZnVuY3Rpb24gY29tcHV0ZU5ld1NwZWMod29ya2luZ1NwZWMsIGZpbHRlciwgZlZhbCkge1xuICBjb25zdCBjb2RlZ2VuID0gdmdDb2RlZ2VuKHtcbiAgICB3aGl0ZWxpc3Q6IFtcImRhdHVtXCIsIFwiZXZlbnRcIiwgXCJzaWduYWxzXCJdLFxuICAgIGdsb2JhbHZhcjogXCJnbG9iYWxcIlxuICB9KTtcblxuICBjb25zdCBwYXJzZWRBU1ROb2RlID0gcGFyc2UoZmlsdGVyLmV4cHIpO1xuXG4gIHBhcnNlZEFTVE5vZGUucmlnaHQudmFsdWUgPSBmVmFsO1xuICBwYXJzZWRBU1ROb2RlLnJpZ2h0LnJhdyA9IGZWYWwudG9TdHJpbmcoKTtcbiAgY29uc3QgbmV3RmlsdGVyRXhwciA9IGNvZGVnZW4ocGFyc2VkQVNUTm9kZSkuY29kZTtcbiAgZmlsdGVyLmV4cHIgPSBuZXdGaWx0ZXJFeHByO1xuXG4gIHJldHVybiBjb3B5KHdvcmtpbmdTcGVjKTtcbn1cblxuXG5cbmV4cG9ydCB7IEVudW1lcmF0b3IsIGNvbXB1dGVGaWx0ZXJpbmdWYWx1ZXMsIGNvbXB1dGVOZXdTcGVjIH07XG4iLCJpbXBvcnQgeyBjb3B5IH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xuaW1wb3J0IHtjb21wdXRlRmlsdGVyaW5nVmFsdWVzfSBmcm9tIFwiLi4vZW51bWVyYXRvclwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW51bWVyYXRlU3RlcHMoYmxvY2ssIHJhd0luZm8sIGVudW1EZWZzKSB7XG4gIGlmIChibG9jay5zeW5jKSB7XG4gICAgYmxvY2suc3luYyA9IGJsb2NrLnN5bmMubWFwKGJsayA9PiBlbnVtZXJhdGVTdGVwcyhibGssIHJhd0luZm8sIGVudW1EZWZzKSk7XG4gIH0gZWxzZSBpZiAoYmxvY2suY29uY2F0KSB7XG4gICAgYmxvY2suY29uY2F0ID0gYmxvY2suY29uY2F0Lm1hcChibGsgPT5cbiAgICAgIGVudW1lcmF0ZVN0ZXBzKGJsaywgcmF3SW5mbywgZW51bURlZnMpXG4gICAgKTtcblxuICAgIGlmIChibG9jay5lbnVtZXJhdG9yKSB7XG4gICAgICBjb25zdCBmb3VuZEVudW1EZWYgPSBlbnVtRGVmcy5maW5kKFxuICAgICAgICBlbnVtRGVmID0+IGVudW1EZWYubmFtZSA9PT0gYmxvY2suZW51bWVyYXRvclxuICAgICAgKTtcblxuICAgICAgaWYgKGZvdW5kRW51bURlZikge1xuICAgICAgICBjb25zdCBmaWx0ZXJpbmdWYWx1ZXMgPSBjb21wdXRlRmlsdGVyaW5nVmFsdWVzKGZvdW5kRW51bURlZiwgcmF3SW5mbyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJpbmdWYWx1ZXMuc2xpY2UoMSkucmVkdWNlKFxuICAgICAgICAgIChhY2MsIGZWYWwsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVudW1lZENvbmNhdEJsb2NrID0gY29weShibG9jayk7XG4gICAgICAgICAgICBlbnVtZWRDb25jYXRCbG9jay5jb25jYXQuZm9yRWFjaChibGsgPT4ge1xuICAgICAgICAgICAgICBmZXRjaEVudW1WYWwoYmxrLCBmb3VuZEVudW1EZWYsIGZWYWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbnVtZWRDb25jYXRCbG9jay5lbnVtZXJhdGVkID0gY29weShmb3VuZEVudW1EZWYpO1xuICAgICAgICAgICAgZW51bWVkQ29uY2F0QmxvY2suZW51bWVyYXRlZC52YWwgPSBmVmFsO1xuICAgICAgICAgICAgZW51bWVkQ29uY2F0QmxvY2suZW51bWVyYXRlZC5OID0gZmlsdGVyaW5nVmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIGVudW1lZENvbmNhdEJsb2NrLmVudW1lcmF0ZWQubGFzdCA9XG4gICAgICAgICAgICAgIGkgPT09IGZpbHRlcmluZ1ZhbHVlcy5sZW5ndGggLSAyO1xuXG4gICAgICAgICAgICBhY2MuY29uY2F0LnB1c2goZW51bWVkQ29uY2F0QmxvY2spO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgY29uY2F0OiBbXSB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBibG9jaztcbn1cblxuZnVuY3Rpb24gZmV0Y2hFbnVtVmFsKGJsb2NrLCBlbnVtRGVmLCB2YWwpIHtcbiAgaWYgKGJsb2NrLnN5bmMgfHwgYmxvY2suY29uY2F0KSB7XG4gICAgKGJsb2NrLnN5bmMgfHwgYmxvY2suY29uY2F0KS5mb3JFYWNoKGJsayA9PiB7XG4gICAgICBmZXRjaEVudW1WYWwoYmxrLCBlbnVtRGVmLCB2YWwpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYmxvY2suZW51bVZhbHMpKSB7XG4gICAgYmxvY2suZW51bWVyYXRlZC5wdXNoKHtkZWY6IGVudW1EZWYsIHZhbDogdmFsfSk7XG4gIH0gZWxzZSB7XG4gICAgYmxvY2suZW51bWVyYXRlZCA9IFt7ZGVmOiBlbnVtRGVmLCB2YWw6IHZhbH1dO1xuICB9XG59IiwiaW1wb3J0IHsgaXNOdW1iZXIsIGNvcHksIHBlcm11dGF0ZX0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGNvbGxlY3RSZXNvbHZlc30gZnJvbSBcIi4vcmVzb2x2ZUNvbGxlY3RvclwiO1xuaW1wb3J0IHtTY2hlZHVsZX0gZnJvbSBcIi4uL3NjaGVkdWxlXCI7XG5pbXBvcnQge2RlZmF1bHQgYXMgY2hlY2tDb25mbGljdH0gZnJvbSBcIi4vY29uZmxpY3RDaGVja2VyXCI7XG5pbXBvcnQge3NwZWNDaGVja2VyfSBmcm9tIFwiLi9zcGVjQ2hlY2tlclwiO1xuaW1wb3J0IHtkZWZhdWx0IGFzIGVudW1lcmF0ZVN0ZXBzfSBmcm9tIFwiLi9zdGVwRW51bWVyYXRvclwiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHNwZWMsIHJhd0luZm8pe1xuICAvLyBjb25zdCBzcGVja0NoZWNrUmVzdWx0ID0gdHJ1ZTsgLy9zcGVjQ2hlY2tlcihzcGVjKTsgVE9ETzogd2hlbiBzcGVjQ2hlY2tlciBpcyBpbmNsdWRlZCwgaXQgYmxvY2tlZCBsb2FkaW5nIHRoZSBzb3VyY2UgbWFwLlxuICBjb25zdCBzcGVja0NoZWNrUmVzdWx0ID0gc3BlY0NoZWNrZXIoc3BlYyk7XG4gIGlmICghc3BlY2tDaGVja1Jlc3VsdCkge1xuICAgIC8vIFRvZG86IGdpdmUgbW9yZSBzcGVjaWZpYyByZWFzb25zIHRocm91Z2ggc3BlY2tDaGVja1Jlc3VsdC5cbiAgICByZXR1cm4gY29uc29sZS5lcnJvcihcIlRoZSBzcGVjIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgLy8gRW51bWVyYXRvciBhcmd1bWVudCB0aGUgY29uY2F0QmxvY2sgd2l0aCBlbnVtZXJhdG9yXG4gIGxldCBuZXdTcGVjID0gY29weShzcGVjKTtcbiAgbmV3U3BlYy50aW1lbGluZSA9IGVudW1lcmF0ZVN0ZXBzKG5ld1NwZWMudGltZWxpbmUsIHJhd0luZm8sIG5ld1NwZWMuZW51bWVyYXRvcnMpO1xuXG5cbiAgLy8gMS4gcmVmb3JtIHRoZSB0aW1saW5lIHN1Y2ggdGhhdCBhbGwgYmxvY2tzIGhhdmUgZHVyYXRpb24uXG4gIGxldCBwYXJzZWRUaW1lbGluZUJsb2NrID0gcmVhZEJsb2NrKG5ld1NwZWMudGltZWxpbmUsIG5ld1NwZWMudG90YWxEdXJhdGlvbik7XG4gIGxldCBwYXJzZWRTdGVwcyA9IGFzc2lnblRpbWluZyhwYXJzZWRUaW1lbGluZUJsb2NrLCB7IHNUaW1lOiAwIH0sIHRydWUpO1xuXG4gIC8vIDIuIGF0dGFjaCBzdGFnZ2VyaW5nIGRlZmluaXRpb25zXG4gIHBhcnNlZFN0ZXBzLmZvckVhY2goc3RlcCA9PiB7XG4gICAgaWYgKFtcImF4aXNcIiwgXCJtYXJrXCIsIFwibGVnZW5kXCJdLmluZGV4T2Yoc3RlcC5jb21wVHlwZSkgPj0gMCkge1xuICAgICAgc3RlcC50aW1pbmcgPSBhdHRhY2hTdGFnZ2VyaW5nKHN0ZXAudGltaW5nLCBuZXdTcGVjLnN0YWdnZXJpbmdzKTtcbiAgICB9XG4gIH0pO1xuICAvLyAzLiBlbnVtZXJhdG9yIGRlZmluaXRpb25zXG4gIGlmIChuZXdTcGVjLmVudW1lcmF0b3JzKSB7XG4gICAgbmV3U3BlYy5lbnVtZXJhdG9ycyA9IG5ld1NwZWMuZW51bWVyYXRvcnMubWFwKGVudW1lcmF0b3IgPT4ge1xuICAgICAgcmV0dXJuIGF0dGFjaFN0YWdnZXJpbmcoZW51bWVyYXRvciwgbmV3U3BlYy5zdGFnZ2VyaW5ncyk7XG4gICAgfSk7XG5cbiAgICBwYXJzZWRTdGVwcy5mb3JFYWNoKChzdGVwLCBpKSA9PiB7XG4gICAgICBpZiAoW1wiYXhpc1wiLCBcIm1hcmtcIiwgXCJsZWdlbmRcIl0uaW5kZXhPZihzdGVwLmNvbXBUeXBlKSA+PSAwKSB7XG4gICAgICAgIHN0ZXAgPSBhdHRhY2hFbnVtZXJhdG9ycyhzdGVwLCBuZXdTcGVjLmVudW1lcmF0b3JzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgY29uc3Qgc2NoZWR1bGUgPSBuZXcgU2NoZWR1bGUocGFyc2VkU3RlcHMpO1xuICBjb25zdCByZXNvbHZlcyA9IGNvbGxlY3RSZXNvbHZlcyhwYXJzZWRUaW1lbGluZUJsb2NrLCBwYXJzZWRTdGVwcyk7XG5cbiAgY29uc3QgeyBjb25mbGljdHNQZXJBbHRlcklkIH0gPSBjaGVja0NvbmZsaWN0KHNjaGVkdWxlLCByZXNvbHZlcyk7XG5cblxuICByZXR1cm4geyBzY2hlZHVsZSwgcmVzb2x2ZXMsIGNvbmZsaWN0c1BlckFsdGVySWQgfTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZEJsb2NrKGJsb2NrLCB0b3RhbER1cmF0aW9uLCBtdWx0aXBsaWVyID0gMSkge1xuICBpZiAoYmxvY2suc3luYykge1xuICAgIHJldHVybiByZWFkU3luY0Jsb2NrKGJsb2NrLCB0b3RhbER1cmF0aW9uLCBtdWx0aXBsaWVyKTtcbiAgfVxuICBpZiAoYmxvY2suY29uY2F0KSB7XG4gICAgcmV0dXJuIHJlYWRDb25jYXRCbG9jayhibG9jaywgdG90YWxEdXJhdGlvbiwgbXVsdGlwbGllcik7XG4gIH1cbiAgY29uc3QgZGVsYXkgPVxuICAgIChibG9jay5kZWxheVxuICAgICAgPyBpc051bWJlcihibG9jay50aW1pbmcuZGVsYXkucmF0aW8pXG4gICAgICAgID8gYmxvY2sudGltaW5nLmRlbGF5LnJhdGlvICogdG90YWxEdXJhdGlvblxuICAgICAgICA6IGJsb2NrLnRpbWluZy5kZWxheVxuICAgICAgOiAwKSAqIG11bHRpcGxpZXI7XG5cbiAgY29uc3QgZHVyYXRpb24gPVxuICAgIChpc051bWJlcihibG9jay50aW1pbmcuZHVyYXRpb24ucmF0aW8pXG4gICAgICA/IGJsb2NrLnRpbWluZy5kdXJhdGlvbi5yYXRpbyAqIHRvdGFsRHVyYXRpb25cbiAgICAgIDogYmxvY2sudGltaW5nLmR1cmF0aW9uKSAqIG11bHRpcGxpZXI7XG4gIGNvbnN0IGNvbXBUeXBlID1cbiAgICB0eXBlb2YgYmxvY2suY29tcG9uZW50ID09PSBcIm9iamVjdFwiXG4gICAgICA/IE9iamVjdC5rZXlzKGJsb2NrLmNvbXBvbmVudClbMF1cbiAgICAgIDogYmxvY2suY29tcG9uZW50O1xuICBjb25zdCBjb21wTmFtZSA9XG4gICAgdHlwZW9mIGJsb2NrLmNvbXBvbmVudCA9PT0gXCJvYmplY3RcIiA/IGJsb2NrLmNvbXBvbmVudFtjb21wVHlwZV0gOiB1bmRlZmluZWQ7XG5cbiAgcmV0dXJuIHtcbiAgICBkdXJhdGlvbixcbiAgICBkZWxheSxcbiAgICB0aW1pbmc6IE9iamVjdC5hc3NpZ24oe30sIGJsb2NrLnRpbWluZywgeyBkdXJhdGlvbiwgZGVsYXkgfSksXG4gICAgY2hhbmdlOiBibG9jay5jaGFuZ2UsXG4gICAgZW51bWVyYXRlZDogYmxvY2suZW51bWVyYXRlZCxcbiAgICBlbnVtZXJhdG9yOiBibG9jay5lbnVtZXJhdG9yLCAvLyBzdGVwIGVudW1lcmF0b3JcbiAgICBjb21wVHlwZSxcbiAgICBjb21wTmFtZVxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRDb25jYXRCbG9jayhjb25jYXRCbG9jaywgdG90YWxEdXJhdGlvbiwgbXVsdGlwbGllciA9IDEpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkID0gY29uY2F0QmxvY2suY29uY2F0O1xuICBsZXQgZHVyYXRpb24gPSAwO1xuICBsZXQgYWx0ZXJuYXRlQ29uY2F0cyA9IHt9O1xuXG4gIGNvbnN0IG5ld011bHQgPSBjb25jYXRCbG9jay5lbnVtZXJhdGVkID8gMSAvIGNvbmNhdEJsb2NrLmVudW1lcmF0ZWQuTiA6IDE7XG5cbiAgY29uc3QgcmVmb3JtZWRCbG9ja3MgPSBjb25jYXRlbmF0ZWQubWFwKGJsb2NrID0+IHtcbiAgICBjb25zdCBuZXdCbG9jayA9IHJlYWRCbG9jayhibG9jaywgdG90YWxEdXJhdGlvbiwgbXVsdGlwbGllciAqIG5ld011bHQpO1xuICAgIGR1cmF0aW9uID0gZHVyYXRpb24gKyBuZXdCbG9jay50aW1pbmcuZHVyYXRpb24gKyBuZXdCbG9jay50aW1pbmcuZGVsYXk7XG4gICAgcmV0dXJuIG5ld0Jsb2NrO1xuICB9KTtcblxuICBpZiAoY29uY2F0QmxvY2suYXV0b1NjYWxlT3JkZXIpIHtcbiAgICAvLyBwZXJtdXRhdGUgdGhlIGNvbmNhdCdzIG9yZGVyXG4gICAgY29uY2F0QmxvY2sucmVzb2x2ZSA9IHtcbiAgICAgIGF1dG9TY2FsZU9yZGVyOiBjb25jYXRCbG9jay5hdXRvU2NhbGVPcmRlcixcbiAgICAgIGFsdGVyTmFtZTpcbiAgICAgICAgY29uY2F0QmxvY2suYXV0b1NjYWxlT3JkZXIuam9pbihcIi1cIikgK1xuICAgICAgICAoY29uY2F0QmxvY2suZW51bWVyYXRlZCA/IGBfJHtjb25jYXRCbG9jay5lbnVtZXJhdGVkLnZhbH1gIDogXCJcIilcbiAgICB9O1xuICAgIGxldCBhbHRlcm5hdGVzID0gcGVybXV0YXRlT25seUNvbnRhaW5OYW1lcyhcbiAgICAgIGNvbmNhdGVuYXRlZCxcbiAgICAgIGNvbmNhdEJsb2NrLnJlc29sdmUuYXV0b1NjYWxlT3JkZXJcbiAgICApO1xuXG4gICAgYWx0ZXJuYXRlcy5zcGxpY2UoMCwgMSk7XG4gICAgYWx0ZXJuYXRlcyA9IGFsdGVybmF0ZXMubWFwKGNvbmNhdGVuYXRlZF9pID0+IHtcbiAgICAgIHJldHVybiBjb25jYXRlbmF0ZWRfaS5tYXAoYmxvY2sgPT4gcmVhZEJsb2NrKGJsb2NrLCB0b3RhbER1cmF0aW9uLCBtdWx0aXBsaWVyICogbmV3TXVsdCkpO1xuICAgIH0pO1xuICAgIGFsdGVybmF0ZUNvbmNhdHMgPSB7XG4gICAgICBhbHRlck5hbWU6IGNvbmNhdEJsb2NrLnJlc29sdmUuYWx0ZXJOYW1lLFxuICAgICAgYWx0ZXJuYXRlc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAge1xuICAgICAgZGVsYXk6IDAsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRpbWluZzogeyBkZWxheTogMCwgZHVyYXRpb24gfSxcbiAgICAgIGNvbmNhdDogcmVmb3JtZWRCbG9ja3MsXG4gICAgICByZXNvbHZlOiBjb25jYXRCbG9jay5yZXNvbHZlLFxuICAgICAgZW51bWVyYXRlZDogY29uY2F0QmxvY2suZW51bWVyYXRlZFxuICAgIH0sXG4gICAgYWx0ZXJuYXRlQ29uY2F0c1xuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGVybXV0YXRlT25seUNvbnRhaW5OYW1lcyhibG9ja3MsIG5hbWVzKSB7XG4gIGNvbnN0IGZpbHRlcmVkID0gW107XG4gIGNvbnN0IGluZGljZXMgPSBbXTtcbiAgYmxvY2tzLmZvckVhY2goKGJsaywgaSkgPT4ge1xuICAgIGlmIChjb250YWluTmFtZXMoYmxrKSkge1xuICAgICAgZmlsdGVyZWQucHVzaChibGspO1xuICAgICAgaW5kaWNlcy5wdXNoKGkpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBlcm11dGF0ZShmaWx0ZXJlZCkubWFwKHBlcm11dGF0ZWRPbmUgPT4ge1xuICAgIHJldHVybiBpbmRpY2VzLnJlZHVjZSgoYWNjLCBpbmRleCwgaSkgPT4ge1xuICAgICAgYWNjLnNwbGljZShpbmRleCwgMSwgcGVybXV0YXRlZE9uZVtpXSk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIGNvcHkoYmxvY2tzKSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNvbnRhaW5OYW1lcyhibG9jaykge1xuICAgIGlmIChibG9jay5zeW5jIHx8IGJsb2NrLmNvbmNhdCkge1xuICAgICAgcmV0dXJuIChibG9jay5zeW5jIHx8IGJsb2NrLmNvbmNhdCkucmVkdWNlKChhY2MsIGJsaykgPT4ge1xuICAgICAgICBhY2MgPSBhY2MgfHwgY29udGFpbk5hbWVzKGJsaywgbmFtZXMpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbiAgICBjb25zdCBjb21wVHlwZSA9IE9iamVjdC5rZXlzKGJsb2NrLmNvbXBvbmVudClbMF07XG4gICAgcmV0dXJuIG5hbWVzLmluZGV4T2YoYmxvY2suY29tcG9uZW50W2NvbXBUeXBlXSkgPj0gMDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZFN5bmNCbG9jayhzeW5jQmxvY2ssIHRvdGFsRHVyYXRpb24sIG11bHRpcGxpZXIgPSAxKSB7XG4gIGNvbnN0IGFuY2hvciA9IHN5bmNCbG9jay5hbmNob3IgfHwgXCJzdGFydFwiO1xuICBsZXQgZHVyYXRpb24gPSAwO1xuICBjb25zdCBuZXdCbG9ja3MgPSBzeW5jQmxvY2suc3luYy5tYXAoYmxvY2sgPT4ge1xuICAgIGNvbnN0IG5ld0Jsb2NrID0gcmVhZEJsb2NrKGJsb2NrLCB0b3RhbER1cmF0aW9uLCBtdWx0aXBsaWVyKTtcbiAgICBkdXJhdGlvbiA9XG4gICAgICBkdXJhdGlvbiA+IG5ld0Jsb2NrLnRpbWluZy5kdXJhdGlvbiArIG5ld0Jsb2NrLnRpbWluZy5kZWxheVxuICAgICAgICA/IGR1cmF0aW9uXG4gICAgICAgIDogbmV3QmxvY2sudGltaW5nLmR1cmF0aW9uICsgbmV3QmxvY2sudGltaW5nLmRlbGF5O1xuICAgIHJldHVybiBuZXdCbG9jaztcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBkZWxheTogMCxcbiAgICBkdXJhdGlvbixcbiAgICB0aW1pbmc6IHsgZGVsYXk6IDAsIGR1cmF0aW9uIH0sXG4gICAgYW5jaG9yLFxuICAgIHN5bmM6IG5ld0Jsb2Nrc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoU3RhZ2dlcmluZyhpdGVtLCBzdGFnZ2VyaW5ncykge1xuICBpZiAoIXN0YWdnZXJpbmdzIHx8IHN0YWdnZXJpbmdzLmxlbmd0aCA8PSAwIHx8ICFpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICBjb25zdCBmb3VuZCA9IHN0YWdnZXJpbmdzLmZpbmQoc3RnRGVmID0+IGl0ZW0uc3RhZ2dlcmluZyA9PT0gc3RnRGVmLm5hbWUpO1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihpdGVtLCB7IHN0YWdnZXJpbmc6IGZvdW5kIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoRW51bWVyYXRvcnMoaXRlbSwgZW51bWVyYXRvcnMpIHtcbiAgaWYgKCFlbnVtZXJhdG9ycyB8fCBlbnVtZXJhdG9ycy5sZW5ndGggPD0gMCB8fCAhaXRlbSkge1xuICAgIHJldHVybiBpdGVtO1xuICB9XG5cbiAgY29uc3QgZm91bmQgPSBlbnVtZXJhdG9ycy5maW5kKFxuICAgIGVudW1lcmF0b3JEZWYgPT4gaXRlbS5lbnVtZXJhdG9yID09PSBlbnVtZXJhdG9yRGVmLm5hbWVcbiAgKTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oaXRlbSwgeyBlbnVtZXJhdG9yOiBmb3VuZCB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnblRpbWluZyhibG9jaywgdGltZVBvaW50ZXIpIHtcbiAgbGV0IHN0ZXBzID0gW107XG4gIGNvbnN0IGFuY2hvciA9IGlzTnVtYmVyKHRpbWVQb2ludGVyLnNUaW1lKSA/IFwic1wiIDogXCJlXCI7XG4gIGxldCB0aW1lc3RhbXAgPSBhbmNob3IgPT09IFwic1wiID8gdGltZVBvaW50ZXIuc1RpbWUgOiB0aW1lUG9pbnRlci5lVGltZTtcbiAgaWYgKGJsb2NrLnN5bmMgJiYgYmxvY2suYW5jaG9yID09PSBcInN0YXJ0XCIpIHtcbiAgICBibG9jay5zeW5jLmZvckVhY2goYmxrID0+IHtcbiAgICAgIHN0ZXBzID0gc3RlcHMuY29uY2F0KFxuICAgICAgICBhc3NpZ25UaW1pbmcoYmxrLCB7XG4gICAgICAgICAgc1RpbWU6IGFuY2hvciA9PT0gXCJzXCIgPyB0aW1lc3RhbXAgOiB0aW1lc3RhbXAgLSBibG9jay5kdXJhdGlvblxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChibG9jay5zeW5jICYmIGJsb2NrLmFuY2hvciA9PT0gXCJlbmRcIikge1xuICAgIGJsb2NrLnN5bmMuZm9yRWFjaChibGsgPT4ge1xuICAgICAgc3RlcHMgPSBzdGVwcy5jb25jYXQoXG4gICAgICAgIGFzc2lnblRpbWluZyhibGssIHtcbiAgICAgICAgICBlVGltZTogYW5jaG9yID09PSBcImVcIiA/IHRpbWVzdGFtcCA6IHRpbWVzdGFtcCArIGJsb2NrLmR1cmF0aW9uXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGJsb2NrLmNvbmNhdCkge1xuICAgIGlmIChhbmNob3IgPT09IFwiZVwiKSB7XG4gICAgICB0aW1lc3RhbXAgLT0gYmxvY2suZHVyYXRpb247XG4gICAgfVxuXG4gICAgaWYgKGJsb2NrLmFsdGVybmF0ZXMpIHtcbiAgICAgIGJsb2NrLmFsdGVybmF0ZXMuZm9yRWFjaCgoYWx0ZXJuYXRlLCBpKSA9PiB7XG4gICAgICAgIGxldCBhbHRlclRpbWVTdGFtcCA9IHRpbWVzdGFtcDtcbiAgICAgICAgYWx0ZXJuYXRlLmZvckVhY2goYmxrID0+IHtcbiAgICAgICAgICBjb25zdCBhbHRlciA9IGFzc2lnblRpbWluZyhjb3B5KGJsayksIHtcbiAgICAgICAgICAgIHNUaW1lOiBhbHRlclRpbWVTdGFtcFxuICAgICAgICAgIH0pLm1hcChzdGVwID0+IHtcbiAgICAgICAgICAgIHN0ZXAuYWx0ZXJJZCA9IGAke3N0ZXAuYWx0ZXJJZCB8fCBcIlwifSR7YmxvY2suYWx0ZXJOYW1lfToke2l9YDtcbiAgICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc3RlcHMgPSBzdGVwcy5jb25jYXQoYWx0ZXIpO1xuICAgICAgICAgIGFsdGVyVGltZVN0YW1wICs9IGJsay5kdXJhdGlvbiArIGJsay5kZWxheTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBibG9jay5jb25jYXQuZm9yRWFjaChibGsgPT4ge1xuICAgICAgY29uc3QgbWFpblN0ZXBzID0gYXNzaWduVGltaW5nKGJsaywgeyBzVGltZTogdGltZXN0YW1wIH0pLm1hcChzdGVwID0+IHtcbiAgICAgICAgc3RlcC5hbHRlcklkID0gc3RlcC5hbHRlcklkIHx8IGAke2Jsb2NrLmFsdGVyTmFtZSB8fCBcIlwifTptYWluYDtcbiAgICAgICAgcmV0dXJuIGNvcHkoc3RlcCk7XG4gICAgICB9KTtcbiAgICAgIHN0ZXBzID0gc3RlcHMuY29uY2F0KG1haW5TdGVwcyk7XG4gICAgICB0aW1lc3RhbXAgKz0gYmxrLmR1cmF0aW9uICsgYmxrLmRlbGF5O1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGlmIChhbmNob3IgPT09IFwic1wiKSB7XG4gICAgICBibG9jay5zVGltZSA9IHRpbWVzdGFtcDtcbiAgICAgIGJsb2NrLmVUaW1lID0gdGltZXN0YW1wICsgYmxvY2suZHVyYXRpb24gKyBibG9jay5kZWxheTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmxvY2suZVRpbWUgPSB0aW1lc3RhbXA7XG4gICAgICBibG9jay5zVGltZSA9IHRpbWVzdGFtcCAtIGJsb2NrLmR1cmF0aW9uIC0gYmxvY2suZGVsYXk7XG4gICAgfVxuICAgIHN0ZXBzID0gc3RlcHMuY29uY2F0KFtibG9ja10pO1xuICB9XG4gIHJldHVybiBzdGVwcztcbn0iLCJpbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCB7IGNvbXB1dGVIYXNGYWNldCwgaXNHcm91cGluZ01hcmt0eXBlIH0gZnJvbSBcIi4uL2NoYW5nZUZldGNoZXIvc3RhdGUvdXRpbFwiO1xuLy8gSm9pbiBhbmQgcmV0dXJuIG5leHREYXRhXG5mdW5jdGlvbiBmYWNldERhdGEoZGF0YSwgZmFjZXREZWYpIHtcbiAgaWYgKCFmYWNldERlZikge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIGRhdHVtOiB7fSxcbiAgICAgICAgbWFyazogeyByb2xlOiBcImdyb3VwXCIsIG1hcmt0eXBlOiBcImdyb3VwXCIgfSxcbiAgICAgICAgaXRlbXM6IFt7IGl0ZW1zOiBkYXRhIH1dXG4gICAgICB9XG4gICAgXTtcbiAgfVxuXG4gIGxldCB7Z3JvdXBieX0gPSBmYWNldERlZjtcbiAgaWYgKHR5cGVvZiBncm91cGJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgZ3JvdXBieSA9IFtncm91cGJ5XTtcbiAgfVxuICByZXR1cm4gZDMuZ3JvdXBzKGRhdGEsIGQgPT4gZ3JvdXBieS5tYXAoZiA9PiBkLmRhdHVtW2ZdKS5qb2luKFwiQEBfQEBcIikpXG4gICAgLm1hcChncm91cCA9PiB7XG4gICAgICBjb25zdCB2YWx1ZXMgID0gZ3JvdXBbMV1cbiAgICAgIGxldCBkYXR1bSA9IGdyb3VwYnkucmVkdWNlKChkYXR1bSwgZikgPT4ge1xuICAgICAgICBkYXR1bVtmXSA9IHZhbHVlc1swXS5kYXR1bVtmXTtcbiAgICAgICAgcmV0dXJuIGRhdHVtO1xuICAgICAgfSwgeyBjb3VudDogdmFsdWVzLmxlbmd0aCB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdHVtOiBkYXR1bSxcbiAgICAgICAgbWFyazoge3JvbGU6IFwiZ3JvdXBcIiwgbWFya3R5cGU6IFwiZ3JvdXBcIn0sXG4gICAgICAgIGl0ZW1zOiBbe2l0ZW1zOiB2YWx1ZXMgfV1cbiAgICAgIH07XG4gICAgfSk7XG5cbn1cbmZ1bmN0aW9uIHVucGFja0RhdGEoZGF0YSkge1xuICBpZiAoZGF0YVswXS5tYXJrLm1hcmt0eXBlICE9PSBcImdyb3VwXCIpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHJldHVybiBkYXRhLnJlZHVjZSgodW5wYWNrZWQsIGdyb3VwKSA9PiB7XG4gICAgcmV0dXJuIHVucGFja2VkLmNvbmNhdChncm91cC5pdGVtc1swXS5pdGVtcyk7XG4gIH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gZ2V0TWFya0RhdGEodmlldywgY29tcFNwZWMsIGNvbXBOYW1lLCBtYXJrdHlwZSwgZmFjZXQpIHtcbiAgbGV0IGRhdGFOYW1lID0gY29tcHV0ZUhhc0ZhY2V0KGNvbXBTcGVjKSA/IGNvbXBTcGVjLnBhcmVudC5uYW1lIDogY29tcE5hbWU7XG4gIGxldCBkYXRhID0gdmlldy5fcnVudGltZS5kYXRhW2RhdGFOYW1lXSA/ICh2aWV3Ll9ydW50aW1lLmRhdGFbZGF0YU5hbWVdLnZhbHVlcy52YWx1ZSkgfHwgW10gOiBbXTtcbiAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgbGV0IGlzR3JvdXBpbmdNdHlwZSA9IGlzR3JvdXBpbmdNYXJrdHlwZShtYXJrdHlwZSB8fCBjb21wU3BlYy50eXBlKSxcbiAgICBoYXNGYWNldCA9IGNvbXB1dGVIYXNGYWNldChjb21wU3BlYyk7XG5cbiAgaWYgKCBpc0dyb3VwaW5nTXR5cGUgJiYgIWhhc0ZhY2V0ICkge1xuICAgIHJldHVybiBmYWNldERhdGEoZGF0YSwgZmFjZXQgfHwgKGNvbXBTcGVjLnBhcmVudC5mcm9tID8gY29tcFNwZWMucGFyZW50LmZyb20uZmFjZXQgOiB1bmRlZmluZWQpKTtcbiAgfSBpZiAoIWlzR3JvdXBpbmdNdHlwZSAmJiBoYXNGYWNldCkge1xuICAgIGRhdGEgPSB1bnBhY2tEYXRhKGRhdGEpO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBnZXRFbXB0eUxlZ2VuZERhdGEoY29tcFNwZWMpIHtcbiAgaWYgKGNvbXBTcGVjLnR5cGUgPT09IFwic3ltYm9sXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWxzOiBbXSxcbiAgICAgIHN5bWJvbHM6IFtdLFxuICAgICAgcGFpcnM6IFtdLFxuICAgICAgdGl0bGU6IFtdXG4gICAgfTtcbiAgfSBpZiAoY29tcFNwZWMudHlwZSA9PT0gXCJncmFkaWVudFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsczogW10sXG4gICAgICBncmFkaWVudDogW10sXG4gICAgICBiYW5kczogW10sXG4gICAgICB0aXRsZTogW11cbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBnZXRMZWdlbmREYXRhKHZpZXcsIGNvbXBOYW1lLCBjb21wU3BlYykge1xuICBjb25zdCB0aXRsZURhdHVtID0gdmlldy5fcnVudGltZS5kYXRhW2NvbXBOYW1lXS52YWx1ZXMudmFsdWVbMF0uaXRlbXMuZmluZChcbiAgICBpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJsZWdlbmQtdGl0bGVcIlxuICApLml0ZW1zWzBdO1xuICBsZXQgcmV0dXJuRGF0YSA9IHsgdGl0bGU6IFt0aXRsZURhdHVtXSB9O1xuICBpZiAoY29tcFNwZWMudHlwZSA9PT0gXCJzeW1ib2xcIikge1xuICAgIHJldHVybkRhdGEgPSBPYmplY3QuYXNzaWduKHJldHVybkRhdGEsIHtcbiAgICAgIGxhYmVsczogW10sXG4gICAgICBzeW1ib2xzOiBbXSxcbiAgICAgIHBhaXJzOiBbXVxuICAgIH0pO1xuICAgIGNvbnN0IGZQYWlycyA9IHZpZXcuX3J1bnRpbWUuZGF0YVtjb21wTmFtZV0udmFsdWVzLnZhbHVlWzBdLml0ZW1zLmZpbmQoXG4gICAgICBpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJsZWdlbmQtZW50cnlcIlxuICAgICkuaXRlbXNbMF0uaXRlbXNbMF0uaXRlbXM7XG4gICAgZlBhaXJzLmZvckVhY2gocGFpciA9PiB7XG4gICAgICByZXR1cm5EYXRhLnBhaXJzLnB1c2gocGFpcik7XG4gICAgICByZXR1cm5EYXRhLmxhYmVscy5wdXNoKFxuICAgICAgICBwYWlyLml0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLnJvbGUgPT09IFwibGVnZW5kLWxhYmVsXCIpLml0ZW1zWzBdXG4gICAgICApO1xuICAgICAgcmV0dXJuRGF0YS5zeW1ib2xzLnB1c2goXG4gICAgICAgIHBhaXIuaXRlbXMuZmluZChpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJsZWdlbmQtc3ltYm9sXCIpLml0ZW1zWzBdXG4gICAgICApO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGNvbXBTcGVjLnR5cGUgPT09IFwiZ3JhZGllbnRcIikge1xuICAgIHJldHVybkRhdGEgPSBPYmplY3QuYXNzaWduKHJldHVybkRhdGEsIHtcbiAgICAgIGxhYmVsczogW10sXG4gICAgICBncmFkaWVudDogW10sXG4gICAgICBiYW5kczogW11cbiAgICB9KTtcbiAgICBjb25zdCBlbnRyeUcgPSB2aWV3Ll9ydW50aW1lLmRhdGFbY29tcE5hbWVdLnZhbHVlcy52YWx1ZVswXS5pdGVtcy5maW5kKFxuICAgICAgaXRlbSA9PiBpdGVtLnJvbGUgPT09IFwibGVnZW5kLWVudHJ5XCJcbiAgICApLml0ZW1zWzBdO1xuICAgIGxldCBsYWJlbEc7IGxldCBiYW5kRzsgbGV0IGdyYWRpZW50RztcbiAgICBpZiAoKGxhYmVsRyA9IGVudHJ5Ry5pdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5yb2xlID09PSBcImxlZ2VuZC1sYWJlbFwiKSkpIHtcbiAgICAgIHJldHVybkRhdGEubGFiZWxzID0gcmV0dXJuRGF0YS5sYWJlbHMuY29uY2F0KGxhYmVsRy5pdGVtcyk7XG4gICAgfVxuICAgIGlmICgoYmFuZEcgPSBlbnRyeUcuaXRlbXMuZmluZChpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJsZWdlbmQtYmFuZFwiKSkpIHtcbiAgICAgIHJldHVybkRhdGEuYmFuZHMgPSByZXR1cm5EYXRhLmJhbmRzLmNvbmNhdChiYW5kRy5pdGVtcyk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIChncmFkaWVudEcgPSBlbnRyeUcuaXRlbXMuZmluZChpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJsZWdlbmQtZ3JhZGllbnRcIikpXG4gICAgKSB7XG4gICAgICByZXR1cm5EYXRhLmdyYWRpZW50LnB1c2goZ3JhZGllbnRHLml0ZW1zWzBdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHVybkRhdGE7XG59XG5cbmZ1bmN0aW9uIGdldEVtcHR5QXhpc0RhdGEoKSB7XG4gIHJldHVybiB7XG4gICAgdGljazogW10sXG4gICAgbGFiZWw6IFtdLFxuICAgIGdyaWQ6IFtdXG4gIH07XG59XG5mdW5jdGlvbiBnZXRBeGlzRGF0YSh2aWV3LCBjb21wTmFtZSkge1xuICByZXR1cm4gW1widGlja1wiLCBcImxhYmVsXCIsIFwiZ3JpZFwiXS5yZWR1Y2UoKGFjYywgc3ViQ29tcCkgPT4ge1xuICAgIGxldCBkYXRhID0gdmlldy5fcnVudGltZS5kYXRhW2NvbXBOYW1lXS52YWx1ZXMudmFsdWVbMF0uaXRlbXNcbiAgICAgIC5maW5kKGl0ZW0gPT4gaXRlbS5yb2xlID09PSBgYXhpcy0ke3N1YkNvbXB9YCk7XG5cbiAgICBkYXRhID0gZGF0YSAmJiBkYXRhLml0ZW1zID8gZGF0YS5pdGVtcyA6IFtdO1xuICAgIGFjY1tzdWJDb21wXSA9IGRhdGE7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufVxuXG5leHBvcnQge1xuICBmYWNldERhdGEsXG4gIHVucGFja0RhdGEsXG4gIGdldE1hcmtEYXRhLFxuICBnZXRFbXB0eUxlZ2VuZERhdGEsXG4gIGdldExlZ2VuZERhdGEsXG4gIGdldEVtcHR5QXhpc0RhdGEsXG4gIGdldEF4aXNEYXRhXG59O1xuIiwiaW1wb3J0IHsgY29tcHV0ZUhhc0ZhY2V0LCBpc0dyb3VwaW5nTWFya3R5cGUsIGdldEZhY2V0IH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgc3RyaW5naWZ5RGF0dW1WYWx1ZSB9IGZyb20gXCIuLi8uLi91dGlsL3V0aWxcIjtcbmltcG9ydCB7XG4gIGZhY2V0RGF0YSxcbiAgdW5wYWNrRGF0YSxcbiAgZ2V0QXhpc0RhdGEsXG4gIGdldEVtcHR5QXhpc0RhdGEsXG4gIGdldEVtcHR5TGVnZW5kRGF0YSxcbiAgZ2V0TGVnZW5kRGF0YSxcbiAgZ2V0TWFya0RhdGFcbn0gZnJvbSBcIi4uLy4uL3V0aWwvdmdEYXRhSGVscGVyXCI7XG5pbXBvcnQgeyBkZWVwRXF1YWwgfSBmcm9tIFwidmVnYS1saXRlXCI7XG5cbmZ1bmN0aW9uIGNvbXB1dGVJZE1ha2VyKGtleSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgcmV0dXJuIChkKSA9PiB7XG4gICAgICByZXR1cm4ga2V5XG4gICAgICAgIC5tYXAoZmllbGQgPT4ge1xuICAgICAgICAgIHJldHVybiBkLmRhdHVtW2ZpZWxkXTtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCItXCIpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIChkLCBpKSA9PiBzdHJpbmdpZnlEYXR1bVZhbHVlKGkpO1xufVxuXG5mdW5jdGlvbiBpbml0aWFsRGF0YShzdGVwLCByYXdJbmZvKSB7XG4gIGNvbnN0IHNWaWV3ID0gcmF3SW5mby5zVmlzLnZpZXc7XG4gIGNvbnN0IHsgY2hhbmdlIH0gPSBzdGVwO1xuICBjb25zdCBpc0FkZCA9ICFjaGFuZ2UuaW5pdGlhbCAmJiAhIWNoYW5nZS5maW5hbDtcbiAgaWYgKGNoYW5nZS5jb21wVHlwZSA9PT0gXCJheGlzXCIpIHtcbiAgICBpZiAoaXNBZGQpIHtcbiAgICAgIHJldHVybiBnZXRFbXB0eUF4aXNEYXRhKCk7XG4gICAgfVxuICAgIHJldHVybiBnZXRBeGlzRGF0YShzVmlldywgY2hhbmdlLmNvbXBOYW1lKTtcbiAgfVxuICBpZiAoY2hhbmdlLmNvbXBUeXBlID09PSBcImxlZ2VuZFwiKSB7XG4gICAgaWYgKGlzQWRkKSB7XG4gICAgICByZXR1cm4gZ2V0RW1wdHlMZWdlbmREYXRhKGNoYW5nZS5maW5hbCk7XG4gICAgfVxuICAgIHJldHVybiBnZXRMZWdlbmREYXRhKHNWaWV3LCBjaGFuZ2UuY29tcE5hbWUsIGNoYW5nZS5pbml0aWFsKTtcbiAgfVxuICBpZiAoY2hhbmdlLmNvbXBUeXBlID09PSBcIm1hcmtcIikge1xuICAgIGlmIChpc0FkZCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBtdHlwZSA9IHN0ZXAubWFya3R5cGVzID8gc3RlcC5tYXJrdHlwZXMuaW5pdGlhbCA6IGNoYW5nZS5pbml0aWFsLnR5cGU7XG4gICAgcmV0dXJuIGdldE1hcmtEYXRhKHNWaWV3LCBjaGFuZ2UuaW5pdGlhbCwgY2hhbmdlLmNvbXBOYW1lLCBtdHlwZSk7XG4gIH1cbiAgaWYgKGNoYW5nZS5jb21wVHlwZSA9PT0gXCJ2aWV3XCIpIHtcbiAgICByZXR1cm4gc1ZpZXcuX3J1bnRpbWUuZGF0YS5yb290LnZhbHVlcy52YWx1ZVswXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqb2luRGF0YShzdGVwLCByYXdJbmZvLCBpbml0aWFsRGF0YSkge1xuICBjb25zdCBpRGF0YSA9IGluaXRpYWxEYXRhO1xuICBjb25zdCBlVmlldyA9IHJhd0luZm8uZVZpcy52aWV3LCBzVmlldyA9IHJhd0luZm8uc1Zpcy52aWV3O1xuICBjb25zdCB7Y2hhbmdlfSA9IHN0ZXA7XG4gIGNvbnN0IGlzQWRkID0gIWNoYW5nZS5pbml0aWFsICYmICEhY2hhbmdlLmZpbmFsO1xuICBjb25zdCBpc1JlbW92ZSA9ICEhY2hhbmdlLmluaXRpYWwgJiYgIWNoYW5nZS5maW5hbDtcbiAgY29uc3Qge2hhc0ZhY2V0fSA9IHN0ZXA7XG4gIGxldCBwcmVGZXRjaEN1cnJEYXRhID0gZmFsc2U7XG4gIGxldCBjb21wdXRlSWQgPSB7fTtcblxuICBpZiAoY2hhbmdlLmNvbXBUeXBlID09PSBcImF4aXNcIikge1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIG5leHREYXRhOiB7fSxcbiAgICAgIGN1cnJEYXRhOiB7fSxcbiAgICAgIGNvbXB1dGVEYXR1bUlkOiB7fVxuICAgIH07XG5cbiAgICByZXN1bHQubmV4dERhdGEuYXhpcyA9IGlzUmVtb3ZlXG4gICAgICA/IGlEYXRhLmF4aXNcbiAgICAgIDogW2VWaWV3Ll9ydW50aW1lLmRhdGFbY2hhbmdlLmNvbXBOYW1lXS52YWx1ZXMudmFsdWVbMF0uZGF0dW1dO1xuICAgIHJlc3VsdC5jdXJyRGF0YS5heGlzID0gaURhdGEuYXhpcztcbiAgICByZXN1bHQuY29tcHV0ZURhdHVtSWQuYXhpcyA9IChkLCBpKSA9PiBpO1xuXG4gICAgaWYgKFxuICAgICAgY2hhbmdlLnNjYWxlID09PSBmYWxzZSB8fFxuICAgICAgKGNoYW5nZS5zY2FsZSAmJiBjaGFuZ2Uuc2NhbGUuZGF0YSA9PT0gZmFsc2UpXG4gICAgKSB7XG4gICAgICBjb25zdCBjb21wdXRlSWQgPSBkID0+IHN0cmluZ2lmeURhdHVtVmFsdWUoZC5kYXR1bS52YWx1ZSk7XG4gICAgICByZXR1cm4gW1widGlja1wiLCBcImxhYmVsXCIsIFwiZ3JpZFwiXS5yZWR1Y2UoKGFjYywgc3ViQ29tcCkgPT4ge1xuICAgICAgICBjb25zdCBuZXh0RGF0YSA9IGlEYXRhW3N1YkNvbXBdLm1hcCgoZCwgaSkgPT4ge1xuICAgICAgICAgIHNldEpvaW5JbmZvKGQsIHN0ZXAsIHsgYW5pbVNldDogXCJ1cGRhdGVcIiwgam9pbktleTogY29tcHV0ZUlkKGQsIGkpIH0pO1xuICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICB9KTtcbiAgICAgICAgYWNjLm5leHREYXRhW3N1YkNvbXBdID0gbmV4dERhdGE7XG4gICAgICAgIGFjYy5jdXJyRGF0YVtzdWJDb21wXSA9IG5leHREYXRhO1xuICAgICAgICBhY2MuY29tcHV0ZURhdHVtSWRbc3ViQ29tcF0gPSBjb21wdXRlSWQ7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIGxldCBmRGF0YSA9IGdldEVtcHR5QXhpc0RhdGEoKTtcbiAgICBpZiAoIWlzUmVtb3ZlKSB7XG4gICAgICBmRGF0YSA9IGdldEF4aXNEYXRhKGVWaWV3LCBjaGFuZ2UuY29tcE5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBbXCJ0aWNrXCIsIFwibGFiZWxcIiwgXCJncmlkXCJdLnJlZHVjZSgoYWNjLCBzdWJDb21wKSA9PiB7XG4gICAgICBsZXQgc3ViQ29tcEVuY05hbWUgPSBzdWJDb21wID09PSBcInRpY2tcIiA/IFwidGlja3NcIiA6IHN1YkNvbXA7XG4gICAgICBzdWJDb21wRW5jTmFtZSA9IHN1YkNvbXBFbmNOYW1lID09PSBcImxhYmVsXCIgPyBcImxhYmVsc1wiIDogc3ViQ29tcEVuY05hbWU7XG4gICAgICBsZXQgY29tcHV0ZUlkID0gZCA9PiBzdHJpbmdpZnlEYXR1bVZhbHVlKGQuZGF0dW0udmFsdWUpO1xuXG4gICAgICBpZiAoY2hhbmdlLmVuY29kZSAmJiBjaGFuZ2UuZW5jb2RlW3N1YkNvbXBFbmNOYW1lXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYWNjLm5leHREYXRhW3N1YkNvbXBdID0gaURhdGFbc3ViQ29tcF07XG4gICAgICAgIGFjYy5jdXJyRGF0YVtzdWJDb21wXSA9IGlEYXRhW3N1YkNvbXBdO1xuICAgICAgICBhY2MuY29tcHV0ZURhdHVtSWRbc3ViQ29tcF0gPSBjb21wdXRlSWQ7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGlEYXRhU3ViQ29tcCA9IGlEYXRhW3N1YkNvbXBdIHx8IFtdO1xuICAgICAgbGV0IGZEYXRhU3ViQ29tcCA9IGZEYXRhW3N1YkNvbXBdIHx8IFtdO1xuICAgICAgaWYgKCFzdGVwLnNhbWVEb21haW5EaW1lbnNpb24pIHtcbiAgICAgICAgY29uc3QgY2kgPSBhcHBlbmRQb3N0Zml4KGNvbXB1dGVJZCwgXCJfZXhpdFwiKTtcbiAgICAgICAgbGV0IGNmID0gYXBwZW5kUG9zdGZpeChjb21wdXRlSWQsIFwiX2VudGVyXCIpO1xuICAgICAgICBjb21wdXRlSWQgPSB7IGluaXRpYWw6IGNpLCBmaW5hbDogY2YgfTtcblxuICAgICAgICBpRGF0YVN1YkNvbXAuZm9yRWFjaCgoaURhdHVtLCBpKSA9PiB7XG4gICAgICAgICAgc2V0Sm9pbkluZm8oaURhdHVtLCBzdGVwLCB7XG4gICAgICAgICAgICBhbmltU2V0OiBcImV4aXRcIixcbiAgICAgICAgICAgIGpvaW5LZXk6IGNvbXB1dGVJZC5pbml0aWFsKGlEYXR1bSwgaSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZkRhdGFTdWJDb21wLmZvckVhY2goKGZEYXR1bSwgaSkgPT4ge1xuICAgICAgICAgIHNldEpvaW5JbmZvKGZEYXR1bSwgc3RlcCwge1xuICAgICAgICAgICAgYW5pbVNldDogXCJlbnRlclwiLFxuICAgICAgICAgICAgam9pbktleTogY29tcHV0ZUlkLmZpbmFsKGZEYXR1bSwgaSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqb2luVGhlbShpRGF0YVN1YkNvbXAsIGZEYXRhU3ViQ29tcCwgY29tcHV0ZUlkLCBzdGVwKTtcbiAgICAgIH1cblxuICAgICAgLy8gbGV0IGlzQW5pbVNldCA9IGdldElzQW5pbVNldChzdWJDb21wRW5jTmFtZSwgY2hhbmdlLmVuY29kZSk7XG4gICAgICAvLyBsZXQgaURhdGFBbmltU2V0cyA9IChpc0FuaW1TZXQuZXhpdCA/IFtdIDogW1wiZXhpdFwiXSkuY29uY2F0KGlzQW5pbVNldC51cGRhdGUgPyBbXSA6IFtcInVwZGF0ZVwiXSksXG4gICAgICAvLyAgIGZEYXRhQW5pbVNldHMgPSAoaXNBbmltU2V0LmVudGVyID8gW1wiZW50ZXJcIl0gOiBbXSkuY29uY2F0KGlzQW5pbVNldC51cGRhdGUgPyBbXCJ1cGRhdGVcIl0gOiBbXSlcbiAgICAgIGNvbnN0IGlEYXRhQW5pbVNldHMgPSBbXTsgbGV0IGZEYXRhQW5pbVNldHMgPSBbXCJlbnRlclwiLCBcInVwZGF0ZVwiXTtcbiAgICAgIGNvbnN0IG5leHREYXRhID0gaURhdGFTdWJDb21wXG4gICAgICAgIC5maWx0ZXIoZCA9PiBpRGF0YUFuaW1TZXRzLmluZGV4T2YoZ2V0Sm9pbkluZm8oZCwgc3RlcCwgXCJhbmltU2V0XCIpKSA+PSAwKVxuICAgICAgICAuY29uY2F0KGZEYXRhU3ViQ29tcC5maWx0ZXIoZCA9PiBmRGF0YUFuaW1TZXRzLmluZGV4T2YoZ2V0Sm9pbkluZm8oZCwgc3RlcCwgXCJhbmltU2V0XCIpKSA+PSAwKSk7XG5cbiAgICAgIC8vIGxldCBuZXh0RGF0YSA9IFtdO1xuXG4gICAgICAvLyBuZXh0RGF0YSA9IG5leHREYXRhLmNvbmNhdChpc0FuaW1TZXQudXBkYXRlID8gam9pbmVkRGF0YS51cGRhdGUuZmluYWwgOiBqb2luZWREYXRhLnVwZGF0ZS5pbml0aWFsKVxuICAgICAgLy8gbmV4dERhdGEgPSBpc0FuaW1TZXQuZW50ZXIgPyBuZXh0RGF0YS5jb25jYXQoam9pbmVkRGF0YS5lbnRlcikgOiBuZXh0RGF0YTtcbiAgICAgIC8vIG5leHREYXRhID0gIWlzQW5pbVNldC5leGl0ID8gbmV4dERhdGEuY29uY2F0KGpvaW5lZERhdGEuZXhpdCkgOiBuZXh0RGF0YTtcblxuICAgICAgYWNjLm5leHREYXRhW3N1YkNvbXBdID0gbmV4dERhdGE7XG4gICAgICBhY2MuY3VyckRhdGFbc3ViQ29tcF0gPSBpRGF0YVN1YkNvbXA7XG4gICAgICBhY2MuY29tcHV0ZURhdHVtSWRbc3ViQ29tcF0gPSBjb21wdXRlSWQ7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHJlc3VsdCk7XG5cbiAgfVxuICBpZiAoY2hhbmdlLmNvbXBUeXBlID09PSBcImxlZ2VuZFwiKSB7XG4gICAgY29uc3QgZ2V0Q29tcHV0ZUlkID0gc3ViQ29tcCA9PiB7XG4gICAgICBpZiAoc3ViQ29tcCA9PT0gXCJwYWlyc1wiKSB7XG4gICAgICAgIHJldHVybiBkID0+IHtcbiAgICAgICAgICBjb25zdCB7ZGF0dW19ID0gZC5pdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5yb2xlID09PSBcImxlZ2VuZC1sYWJlbFwiKS5pdGVtc1swXTtcbiAgICAgICAgICByZXR1cm4gc3RyaW5naWZ5RGF0dW1WYWx1ZShkYXR1bS52YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHN1YkNvbXAgPT09IFwidGl0bGVcIikge1xuICAgICAgICByZXR1cm4gZCA9PiBkLnRleHQ7XG4gICAgICB9IGVsc2UgaWYgKHN1YkNvbXAgPT09IFwiZ3JhZGllbnRcIikge1xuICAgICAgICByZXR1cm4gZCA9PiBKU09OLnN0cmluZ2lmeShkLmZpbGwuc3RvcHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGQgPT4gc3RyaW5naWZ5RGF0dW1WYWx1ZShkLmRhdHVtLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmtleXMoaURhdGEpLnJlZHVjZShcbiAgICAgIChhY2MsIHN1YkNvbXApID0+IHtcbiAgICAgICAgY29tcHV0ZUlkID0gZ2V0Q29tcHV0ZUlkKHN1YkNvbXApO1xuICAgICAgICBjb25zdCBuZXh0RGF0YSA9IGlEYXRhW3N1YkNvbXBdLm1hcCgoZCwgaSkgPT4ge1xuICAgICAgICAgIHNldEpvaW5JbmZvKGQsIHN0ZXAsIHsgYW5pbVNldDogXCJ1cGRhdGVcIiwgam9pbktleTogY29tcHV0ZUlkKGQsIGkpIH0pO1xuICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICB9KTtcbiAgICAgICAgYWNjLm5leHREYXRhW3N1YkNvbXBdID0gbmV4dERhdGE7XG4gICAgICAgIGFjYy5jdXJyRGF0YVtzdWJDb21wXSA9IG5leHREYXRhO1xuICAgICAgICBhY2MuY29tcHV0ZURhdHVtSWRbc3ViQ29tcF0gPSBjb21wdXRlSWQ7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuZXh0RGF0YToge30sXG4gICAgICAgIGN1cnJEYXRhOiB7fSxcbiAgICAgICAgY29tcHV0ZURhdHVtSWQ6IHt9XG4gICAgICB9XG4gICAgKTtcblxuICAgIGlmIChcbiAgICAgIGNoYW5nZS5zY2FsZSA9PT0gZmFsc2UgfHxcbiAgICAgIChjaGFuZ2Uuc2NhbGUgJiYgY2hhbmdlLnNjYWxlLmRhdGEgPT09IGZhbHNlKVxuICAgICkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpZiAoaXNSZW1vdmUpIHtcbiAgICAgIHJlc3VsdC5uZXh0RGF0YSA9IGdldEVtcHR5TGVnZW5kRGF0YShjaGFuZ2UuaW5pdGlhbCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBmRGF0YSA9IGdldExlZ2VuZERhdGEoZVZpZXcsIGNoYW5nZS5jb21wTmFtZSwgY2hhbmdlLmZpbmFsKTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZkRhdGEpXG4gICAgICAuY29uY2F0KE9iamVjdC5rZXlzKGlEYXRhKSlcbiAgICAgIC51bmlxdWUoKTtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoKGFjYywgc3ViQ29tcCkgPT4ge1xuICAgICAgY29uc3Qgc3ViQ29tcEVuY05hbWUgPSBzdWJDb21wO1xuICAgICAgaWYgKGNoYW5nZS5lbmNvZGUgJiYgY2hhbmdlLmVuY29kZVtzdWJDb21wRW5jTmFtZV0gPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9XG4gICAgICBjb21wdXRlSWQgPSBnZXRDb21wdXRlSWQoc3ViQ29tcCk7XG4gICAgICBjb25zdCBpRGF0YVN1YkNvbXAgPSBpRGF0YVtzdWJDb21wXSB8fCBbXTtcbiAgICAgIGxldCBmRGF0YVN1YkNvbXAgPSBmRGF0YVtzdWJDb21wXXx8IFtdO1xuICAgICAgaWYgKFxuICAgICAgICAoc3ViQ29tcCA9PT0gXCJsYWJlbHNcIiAmJlxuICAgICAgICAgIHN0ZXAubGVnZW5kVHlwZXMuaW5pdGlhbCAhPT0gc3RlcC5sZWdlbmRUeXBlcy5maW5hbCkgfHxcbiAgICAgICAgIXN0ZXAuc2FtZURvbWFpbkRpbWVuc2lvblxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGNpID0gYXBwZW5kUG9zdGZpeChjb21wdXRlSWQsIFwiX2V4aXRcIik7XG4gICAgICAgIGxldCBjZiA9IGFwcGVuZFBvc3RmaXgoY29tcHV0ZUlkLCBcIl9lbnRlclwiKTtcbiAgICAgICAgY29tcHV0ZUlkID0geyBpbml0aWFsOiBjaSwgZmluYWw6IGNmIH07XG5cbiAgICAgICAgaURhdGFTdWJDb21wLmZvckVhY2goKGlEYXR1bSwgaSkgPT4ge1xuICAgICAgICAgIHNldEpvaW5JbmZvKGlEYXR1bSwgc3RlcCwge1xuICAgICAgICAgICAgYW5pbVNldDogXCJleGl0XCIsXG4gICAgICAgICAgICBqb2luS2V5OiBjb21wdXRlSWQuaW5pdGlhbChpRGF0dW0sIGkpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZEYXRhU3ViQ29tcC5mb3JFYWNoKChmRGF0dW0sIGkpID0+IHtcbiAgICAgICAgICBzZXRKb2luSW5mbyhmRGF0dW0sIHN0ZXAsIHtcbiAgICAgICAgICAgIGFuaW1TZXQ6IFwiZW50ZXJcIixcbiAgICAgICAgICAgIGpvaW5LZXk6IGNvbXB1dGVJZC5maW5hbChmRGF0dW0sIGkpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgam9pblRoZW0oaURhdGFTdWJDb21wLCBmRGF0YVN1YkNvbXAsIGNvbXB1dGVJZCwgc3RlcCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGxldCBpc0FuaW1TZXQgPSBnZXRJc0FuaW1TZXQoc3ViQ29tcEVuY05hbWUsIGNoYW5nZS5lbmNvZGUpO1xuXG4gICAgICAvLyBsZXQgaURhdGFBbmltU2V0cyA9IChpc0FuaW1TZXQuZXhpdCA/IFtdIDogW1wiZXhpdFwiXSkuY29uY2F0KGlzQW5pbVNldC51cGRhdGUgPyBbXSA6IFtcInVwZGF0ZVwiXSksXG4gICAgICAvLyAgIGZEYXRhQW5pbVNldHMgPSAoaXNBbmltU2V0LmVudGVyID8gW1wiZW50ZXJcIl0gOiBbXSkuY29uY2F0KGlzQW5pbVNldC51cGRhdGUgPyBbXCJ1cGRhdGVcIl0gOiBbXSlcbiAgICAgIGNvbnN0IGlEYXRhQW5pbVNldHMgPSBbXTsgbGV0IGZEYXRhQW5pbVNldHMgPSBbXCJlbnRlclwiLCBcInVwZGF0ZVwiXTtcbiAgICAgIGNvbnN0IG5leHREYXRhID0gaURhdGFTdWJDb21wXG4gICAgICAgIC5maWx0ZXIoZCA9PiBpRGF0YUFuaW1TZXRzLmluZGV4T2YoZ2V0Sm9pbkluZm8oZCwgc3RlcCwgXCJhbmltU2V0XCIpKSA+PSAwKVxuICAgICAgICAuY29uY2F0KGZEYXRhU3ViQ29tcC5maWx0ZXIoZCA9PiBmRGF0YUFuaW1TZXRzLmluZGV4T2YoZ2V0Sm9pbkluZm8oZCwgc3RlcCwgXCJhbmltU2V0XCIpKSA+PSAwKSk7XG5cbiAgICAgIGFjYy5uZXh0RGF0YVtzdWJDb21wXSA9IG5leHREYXRhIHx8IFtdO1xuICAgICAgYWNjLmN1cnJEYXRhW3N1YkNvbXBdID0gaURhdGFTdWJDb21wO1xuICAgICAgYWNjLmNvbXB1dGVEYXR1bUlkW3N1YkNvbXBdID0gY29tcHV0ZUlkO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCByZXN1bHQpO1xuICB9XG4gIGlmIChjaGFuZ2UuY29tcFR5cGUgPT09IFwibWFya1wiKSB7XG4gICAgY29uc3Qge21hcmt0eXBlc30gPSBzdGVwO1xuXG4gICAgbGV0IGRvVXBkYXRlID0gIWlzUmVtb3ZlICYmICFpc0FkZCAmJiBjaGFuZ2UuZGF0YSAhPT0gZmFsc2UsXG4gICAgICBkb0VudGVyID0gIWlzUmVtb3ZlICYmIChpc0FkZCB8fCBjaGFuZ2UuZGF0YSAhPT0gZmFsc2UpLFxuICAgICAgZG9FeGl0ID0gIWlzQWRkICYmIChpc1JlbW92ZSB8fCBjaGFuZ2UuZGF0YSAhPT0gZmFsc2UpO1xuICAgIGxldCBqb2luRmllbGRzID0gbnVsbDtcbiAgICBpZiAoY2hhbmdlLmRhdGEpIHtcbiAgICAgIGRvVXBkYXRlID0gY2hhbmdlLmRhdGEudXBkYXRlID09PSBmYWxzZSA/IGZhbHNlIDogZG9VcGRhdGU7XG4gICAgICBkb0VudGVyID0gY2hhbmdlLmRhdGEuZW50ZXIgPT09IGZhbHNlID8gZmFsc2UgOiBkb0VudGVyO1xuICAgICAgZG9FeGl0ID0gY2hhbmdlLmRhdGEuZXhpdCA9PT0gZmFsc2UgPyBmYWxzZSA6IGRvRXhpdDtcbiAgICAgIGpvaW5GaWVsZHMgPSAoQXJyYXkuaXNBcnJheShjaGFuZ2UuZGF0YSkgPyBjaGFuZ2UuZGF0YSA6IGNoYW5nZS5kYXRhLmtleXMpIHx8IG51bGw7XG4gICAgfVxuXG5cbiAgICBjb25zdCBhZ2dyZWdhdGUgPSBzdGVwLmFnZ3JlZ2F0ZXM7XG4gICAgY29uc3QgYmluID0gc3RlcC5iaW5zO1xuICAgIGNvbnN0IGlzR3JvdXBpbmdNYXJrdHlwZXMgPSB7XG4gICAgICBpbml0aWFsOiBpc0dyb3VwaW5nTWFya3R5cGUobWFya3R5cGVzLmluaXRpYWwgfHwgbWFya3R5cGVzLmZpbmFsKSxcbiAgICAgIGZpbmFsOiBpc0dyb3VwaW5nTWFya3R5cGUobWFya3R5cGVzLmZpbmFsIHx8IG1hcmt0eXBlcy5pbml0aWFsKVxuICAgIH07XG5cbiAgICBjb25zdCBmYWNldHMgPSB7XG4gICAgICBpbml0aWFsOiBoYXNGYWNldC5pbml0aWFsXG4gICAgICAgID8gZ2V0RmFjZXQoY2hhbmdlLmluaXRpYWwpIHx8IGdldEZhY2V0KGNoYW5nZS5maW5hbClcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBmaW5hbDogaGFzRmFjZXQuZmluYWxcbiAgICAgICAgPyBnZXRGYWNldChjaGFuZ2UuZmluYWwpIHx8IGdldEZhY2V0KGNoYW5nZS5pbml0aWFsKVxuICAgICAgICA6IHVuZGVmaW5lZFxuICAgIH07XG4gICAgaWYgKGNoYW5nZS5tYXJrdHlwZSA9PT0gZmFsc2UpIHtcbiAgICAgIGlzR3JvdXBpbmdNYXJrdHlwZXMuZmluYWwgPSBpc0dyb3VwaW5nTWFya3R5cGVzLmluaXRpYWw7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZS5kYXRhIHx8IGlzQWRkIHx8IGlzUmVtb3ZlKSB7XG4gICAgICBzdGVwLmNoYW5nZS5hZ2dyZWdhdGUgPSBhZ2dyZWdhdGU7XG5cbiAgICAgIGxldCBmRGF0YSA9IFtdO1xuICAgICAgaWYgKCFpc1JlbW92ZSkge1xuICAgICAgICBjb25zdCBtdHlwZSA9IG1hcmt0eXBlcy5maW5hbCB8fCBtYXJrdHlwZXMuaW5pdGlhbDtcbiAgICAgICAgY29uc3QgZmFjZXQgPVxuICAgICAgICAgIGNoYW5nZS5tYXJrdHlwZSA9PT0gZmFsc2VcbiAgICAgICAgICAgID8gY2hhbmdlLmluaXRpYWwucGFyZW50LmZyb21cbiAgICAgICAgICAgICAgPyBjaGFuZ2UuaW5pdGlhbC5wYXJlbnQuZnJvbS5mYWNldFxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBjaGFuZ2UuZmluYWwucGFyZW50LmZyb21cbiAgICAgICAgICAgICAgPyBjaGFuZ2UuZmluYWwucGFyZW50LmZyb20uZmFjZXRcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgZkRhdGEgPSBnZXRNYXJrRGF0YShlVmlldywgY2hhbmdlLmZpbmFsLCBjaGFuZ2UuY29tcE5hbWUsIG10eXBlLCBmYWNldCk7XG4gICAgICB9XG4gICAgICAvLyAgIC8vIERhdGEgc2hvdWxkIGJlIGZyb20gY2hhbmdlLmZpbmFsIVxuICAgICAgLy8gICBsZXQgZE5hbWUgPSBjb21wdXRlSGFzRmFjZXQoY2hhbmdlLmZpbmFsKSA/IGNoYW5nZS5maW5hbC5wYXJlbnQubmFtZSA6IGRhdGFOYW1lO1xuICAgICAgLy8gICBsZXQgX2ZEYXRhID0gZVZpZXcuX3J1bnRpbWUuZGF0YVtkTmFtZV0gPyAoZVZpZXcuX3J1bnRpbWUuZGF0YVtkTmFtZV0udmFsdWVzLnZhbHVlKSA6IFtdO1xuXG4gICAgICAvLyAgIC8vIHdoZW4gdGhlIGZpbmFsIGRhdGEgc2hvdWxkIGJlIGZhY2V0dGVkIGJ1dCBhcmUgbm90IGZhY2V0dGVkIHlldDpcbiAgICAgIC8vICAgaWYgKGlzR3JvdXBpbmdNYXJrdHlwZXMuZmluYWwgJiYgIWNvbXB1dGVIYXNGYWNldChjaGFuZ2UuZmluYWwpKXtcbiAgICAgIC8vICAgICBpZiAoY2hhbmdlLm1hcmt0eXBlID09PSBmYWxzZSkge1xuICAgICAgLy8gICAgICAgZkRhdGEgPSBmYWNldERhdGEoX2ZEYXRhLCBjaGFuZ2UuaW5pdGlhbC5wYXJlbnQuZnJvbSA/IGNoYW5nZS5pbml0aWFsLnBhcmVudC5mcm9tLmZhY2V0IDogdW5kZWZpbmVkKTtcbiAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgLy8gICAgICAgZkRhdGEgPSBmYWNldERhdGEoX2ZEYXRhLCBjaGFuZ2UuZmluYWwucGFyZW50LmZyb20gPyBjaGFuZ2UuZmluYWwucGFyZW50LmZyb20uZmFjZXQgOiB1bmRlZmluZWQpO1xuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgfSBlbHNlIGlmICghaXNHcm91cGluZ01hcmt0eXBlcy5maW5hbCAmJiBjb21wdXRlSGFzRmFjZXQoY2hhbmdlLmZpbmFsKSkge1xuICAgICAgLy8gICAgIGZEYXRhID0gdW5wYWNrRGF0YShfZkRhdGEpO1xuICAgICAgLy8gICB9IGVsc2Uge1xuICAgICAgLy8gICAgIGZEYXRhID0gX2ZEYXRhO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9XG5cbiAgICAgIFtcImluaXRpYWxcIiwgXCJmaW5hbFwiXS5mb3JFYWNoKHdoaWNoID0+IHtcbiAgICAgICAgaWYgKGNoYW5nZVt3aGljaF0gJiYgZmFjZXRzW3doaWNoXSkge1xuICAgICAgICAgIGNvbXB1dGVJZFt3aGljaF0gPSBjb21wdXRlSWRNYWtlcihmYWNldHNbd2hpY2hdLmdyb3VwYnkpO1xuICAgICAgICB9IGVsc2UgaWYgKGFnZ3JlZ2F0ZVt3aGljaF0pIHtcbiAgICAgICAgICBjb21wdXRlSWRbd2hpY2hdID0gY29tcHV0ZUlkTWFrZXIoYWdncmVnYXRlW3doaWNoXS5ncm91cGJ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21wdXRlSWRbd2hpY2hdID0gY29tcHV0ZUlkTWFrZXIoam9pbkZpZWxkcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG5cbiAgICAgIGlmIChpc0dyb3VwaW5nTWFya3R5cGVzLmluaXRpYWwgJiYgaXNHcm91cGluZ01hcmt0eXBlcy5maW5hbCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2hhbmdlLmZpbmFsICYmXG4gICAgICAgICAgY2hhbmdlLmluaXRpYWwgJiZcbiAgICAgICAgICBmYWNldHMuZmluYWwgJiZcbiAgICAgICAgICBmYWNldHMuaW5pdGlhbCAmJlxuICAgICAgICAgIGZhY2V0cy5pbml0aWFsLmdyb3VwYnkuc29ydCgpLnRvU3RyaW5nKCkgPT09XG4gICAgICAgICAgICBmYWNldHMuZmluYWwuZ3JvdXBieS5zb3J0KCkudG9TdHJpbmcoKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb21wdXRlSWQgPSBjb21wdXRlSWQuaW5pdGlhbDtcbiAgICAgICAgICBqb2luVGhlbShpRGF0YSwgZkRhdGEsIGNvbXB1dGVJZCwgc3RlcCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgY2hhbmdlLmZpbmFsICYmXG4gICAgICAgICAgY2hhbmdlLmluaXRpYWwgJiZcbiAgICAgICAgICAhZmFjZXRzLmZpbmFsICYmXG4gICAgICAgICAgIWZhY2V0cy5pbml0aWFsXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbXB1dGVJZCA9IGNvbXB1dGVJZC5pbml0aWFsO1xuICAgICAgICAgIGpvaW5UaGVtKGlEYXRhLCBmRGF0YSwgY29tcHV0ZUlkLCBzdGVwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjaSA9IGFwcGVuZFBvc3RmaXgoY29tcHV0ZUlkLmluaXRpYWwsIFwiX2V4aXRcIik7XG4gICAgICAgICAgbGV0IGNmID0gYXBwZW5kUG9zdGZpeChjb21wdXRlSWQuZmluYWwsIFwiX2VudGVyXCIpO1xuXG4gICAgICAgICAgY29tcHV0ZUlkID0geyBpbml0aWFsOiBjaSwgZmluYWw6IGNmIH07XG4gICAgICAgICAgaURhdGEuZm9yRWFjaCgoaURhdHVtLCBpKSA9PiB7XG4gICAgICAgICAgICBzZXRKb2luSW5mbyhpRGF0dW0sIHN0ZXAsIHtcbiAgICAgICAgICAgICAgYW5pbVNldDogXCJleGl0XCIsXG4gICAgICAgICAgICAgIGpvaW5LZXk6IGNvbXB1dGVJZC5pbml0aWFsKGlEYXR1bSwgaSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZEYXRhLmZvckVhY2goKGZEYXR1bSwgaSkgPT4ge1xuICAgICAgICAgICAgc2V0Sm9pbkluZm8oZkRhdHVtLCBzdGVwLCB7XG4gICAgICAgICAgICAgIGFuaW1TZXQ6IFwiZW50ZXJcIixcbiAgICAgICAgICAgICAgam9pbktleTogY29tcHV0ZUlkLmZpbmFsKGZEYXR1bSwgaSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0dyb3VwaW5nTWFya3R5cGVzLmluaXRpYWwgJiYgIWlzR3JvdXBpbmdNYXJrdHlwZXMuZmluYWwpIHtcblxuICAgICAgICAvLyBpZiBpRGF0YSBvciBmRGF0YSBhcmUgYmlubmVkLCBhdHRhY2ggdGhlIHJlcHJlc2VudGF0aXZlIGZpZWxkcy5cbiAgICAgICAgLy8gRS5nLiwgYmluX0EsIGJpbl9BX2VuZCAtPiBBXG4gICAgICAgIGlmIChiaW4uaW5pdGlhbCkge1xuICAgICAgICAgIGV4dGVuZEJpbm5lZERhdGEoaURhdGEsIGJpbi5pbml0aWFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmluLmZpbmFsKSB7XG4gICAgICAgICAgZXh0ZW5kQmlubmVkRGF0YShmRGF0YSwgYmluLmZpbmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBhZ2dyZWdhdGUuaW5pdGlhbCAmJlxuICAgICAgICAgIGFnZ3JlZ2F0ZS5maW5hbCAmJlxuICAgICAgICAgIGFnZ3JlZ2F0ZS5pbml0aWFsLmdyb3VwYnkuc29ydCgpLnRvU3RyaW5nKCkgPT09XG4gICAgICAgICAgICBhZ2dyZWdhdGUuZmluYWwuZ3JvdXBieS5zb3J0KCkudG9TdHJpbmcoKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb21wdXRlSWQgPSBjb21wdXRlSWQuaW5pdGlhbDtcbiAgICAgICAgICBqb2luVGhlbShpRGF0YSwgZkRhdGEsIGNvbXB1dGVJZCwgc3RlcCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWFnZ3JlZ2F0ZS5pbml0aWFsICYmICFhZ2dyZWdhdGUuZmluYWwpIHtcbiAgICAgICAgICBjb21wdXRlSWQgPSBjb21wdXRlSWQuaW5pdGlhbDtcbiAgICAgICAgICBqb2luVGhlbShpRGF0YSwgZkRhdGEsIGNvbXB1dGVJZCwgc3RlcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGNpID0gYXBwZW5kUG9zdGZpeChjb21wdXRlSWQuaW5pdGlhbCwgXCJfZXhpdFwiKTtcbiAgICAgICAgICBsZXQgY2YgPSBhcHBlbmRQb3N0Zml4KGNvbXB1dGVJZC5maW5hbCwgXCJfZW50ZXJcIik7XG4gICAgICAgICAgY29tcHV0ZUlkID0geyBpbml0aWFsOiBjaSwgZmluYWw6IGNmIH07XG5cbiAgICAgICAgICBpRGF0YS5mb3JFYWNoKChpRGF0dW0sIGkpID0+IHtcbiAgICAgICAgICAgIHNldEpvaW5JbmZvKGlEYXR1bSwgc3RlcCwge1xuICAgICAgICAgICAgICBhbmltU2V0OiBcImV4aXRcIixcbiAgICAgICAgICAgICAgam9pbktleTogY29tcHV0ZUlkLmluaXRpYWwoaURhdHVtLCBpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBmRGF0YS5mb3JFYWNoKChmRGF0dW0sIGkpID0+IHtcbiAgICAgICAgICAgIHNldEpvaW5JbmZvKGZEYXR1bSwgc3RlcCwge1xuICAgICAgICAgICAgICBhbmltU2V0OiBcImVudGVyXCIsXG4gICAgICAgICAgICAgIGpvaW5LZXk6IGNvbXB1dGVJZC5maW5hbChmRGF0dW0sIGkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghYWdncmVnYXRlLmluaXRpYWwgJiYgYWdncmVnYXRlLmZpbmFsKSB7XG4gICAgICAgICAgICBhdHRhY2hBZ2dEYXRhKGZEYXRhLCBpRGF0YSwgY29tcHV0ZUlkLmZpbmFsLCBhZ2dyZWdhdGUuZmluYWwsIGVWaWV3LCBjaGFuZ2UuZmluYWwuZnJvbS5kYXRhLCBjb21wdXRlSWRNYWtlcihqb2luRmllbGRzKSk7XG4gICAgICAgICAgICBleHRlbmRBZ2dEYXRhKGZEYXRhLCBhZ2dyZWdhdGUuZmluYWwpXG4gICAgICAgICAgICBwcmVGZXRjaEN1cnJEYXRhID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGFnZ3JlZ2F0ZS5pbml0aWFsICYmICFhZ2dyZWdhdGUuZmluYWwpIHtcbiAgICAgICAgICAgIGF0dGFjaEFnZ0RhdGEoaURhdGEsIGZEYXRhLCBjb21wdXRlSWQuaW5pdGlhbCwgYWdncmVnYXRlLmluaXRpYWwsIHNWaWV3LCBjaGFuZ2UuaW5pdGlhbC5mcm9tLmRhdGEsIGNvbXB1dGVJZE1ha2VyKGpvaW5GaWVsZHMpKTtcbiAgICAgICAgICAgIGV4dGVuZEFnZ0RhdGEoaURhdGEsIGFnZ3JlZ2F0ZS5pbml0aWFsKVxuICAgICAgICAgICAgcHJlRmV0Y2hDdXJyRGF0YSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXaGVuIHRoZSBtYXJrdHlwZSBjaGFuZ2VzIGJldHdlZW4gYXJlYS9saW5lIHRvIHRoZSBvdGhlcnMuXG4gICAgICAgIGxldCBncm91cGVkRGF0YTsgbGV0IHVucGFja2VkRGF0YTtcbiAgICAgICAgaWYgKGlzR3JvdXBpbmdNYXJrdHlwZXMuaW5pdGlhbCkge1xuICAgICAgICAgIGNvbXB1dGVJZC5pbml0aWFsID0gY29tcHV0ZUlkTWFrZXIoXG4gICAgICAgICAgICBmYWNldHMuaW5pdGlhbCA/IGNoYW5nZS5pbml0aWFsLnBhcmVudC5mcm9tLmZhY2V0Lmdyb3VwYnkgOiBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb21wdXRlSWQuZmluYWwgPSBjb21wdXRlSWRNYWtlcihqb2luRmllbGRzIHx8IG51bGwpO1xuICAgICAgICAgIHVucGFja2VkRGF0YSA9IHVucGFja0RhdGEoaURhdGEpO1xuICAgICAgICAgIGpvaW5UaGVtKHVucGFja2VkRGF0YSwgZkRhdGEsIGNvbXB1dGVJZC5maW5hbCwgc3RlcCk7XG5cbiAgICAgICAgICBncm91cGVkRGF0YSA9IGZhY2V0RGF0YShcbiAgICAgICAgICAgIGZEYXRhLFxuICAgICAgICAgICAgY2hhbmdlLmluaXRpYWwucGFyZW50LmZyb21cbiAgICAgICAgICAgICAgPyBjaGFuZ2UuaW5pdGlhbC5wYXJlbnQuZnJvbS5mYWNldFxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICk7XG4gICAgICAgICAgam9pblRoZW0oaURhdGEsIGdyb3VwZWREYXRhLCBjb21wdXRlSWQuaW5pdGlhbCwgc3RlcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tcHV0ZUlkLmluaXRpYWwgPSBjb21wdXRlSWRNYWtlcihqb2luRmllbGRzIHx8IG51bGwpO1xuICAgICAgICAgIGNvbXB1dGVJZC5maW5hbCA9IGNvbXB1dGVJZE1ha2VyKFxuICAgICAgICAgICAgZmFjZXRzLmZpbmFsID8gY2hhbmdlLmZpbmFsLnBhcmVudC5mcm9tLmZhY2V0Lmdyb3VwYnkgOiBudWxsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHVucGFja2VkRGF0YSA9IHVucGFja0RhdGEoZkRhdGEpO1xuICAgICAgICAgIGpvaW5UaGVtKGlEYXRhLCB1bnBhY2tlZERhdGEsIGNvbXB1dGVJZC5pbml0aWFsLCBzdGVwKTtcblxuICAgICAgICAgIGdyb3VwZWREYXRhID0gZmFjZXREYXRhKFxuICAgICAgICAgICAgaURhdGEsXG4gICAgICAgICAgICBjaGFuZ2UuZmluYWwucGFyZW50LmZyb21cbiAgICAgICAgICAgICAgPyBjaGFuZ2UuZmluYWwucGFyZW50LmZyb20uZmFjZXRcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGpvaW5UaGVtKGdyb3VwZWREYXRhLCBmRGF0YSwgY29tcHV0ZUlkLmZpbmFsLCBzdGVwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmV4dERhdGE6IGZEYXRhLFxuICAgICAgICAgIGN1cnJEYXRhOiBpRGF0YSxcbiAgICAgICAgICBjb21wdXRlRGF0dW1JZDogY29tcHV0ZUlkLFxuICAgICAgICAgIGdyb3VwZWREYXRhLFxuICAgICAgICAgIHVucGFja2VkRGF0YVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBpRGF0YUFuaW1TZXRzID0gKGRvRXhpdCA/IFtdIDogW1wiZXhpdFwiXSkuY29uY2F0KFxuICAgICAgICBkb1VwZGF0ZSA/IFtdIDogW1widXBkYXRlXCJdXG4gICAgICApO1xuICAgICAgbGV0IGZEYXRhQW5pbVNldHMgPSAoZG9FbnRlciA/IFtcImVudGVyXCJdIDogW10pLmNvbmNhdChcbiAgICAgICAgZG9VcGRhdGUgPyBbXCJ1cGRhdGVcIl0gOiBbXVxuICAgICAgKTtcbiAgICAgIGxldCBuZXh0RGF0YSA9IGlEYXRhLmZpbHRlcihcbiAgICAgICAgZCA9PiBpRGF0YUFuaW1TZXRzLmluZGV4T2YoZ2V0Sm9pbkluZm8oZCwgc3RlcCwgXCJhbmltU2V0XCIpKSA+PSAwXG4gICAgICApO1xuICAgICAgaWYgKCFkb0V4aXQpIHtcbiAgICAgICAgLy8gd2UgaW5jbHVkZWQgdGhlIGV4aXQgZGF0YSBhcyB3ZSBkbyBub3QgbWFrZSB0aGVtIGV4aXQuXG4gICAgICAgIG5leHREYXRhLmZvckVhY2goKGRhdHVtKSA9PiB7XG4gICAgICAgICAgc2V0Sm9pbkluZm8oZGF0dW0sIHN0ZXAsIHsgYW5pbVNldDogXCJ1cGRhdGVcIiB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG5leHREYXRhID0gbmV4dERhdGEuY29uY2F0KFxuICAgICAgICBmRGF0YS5maWx0ZXIoXG4gICAgICAgICAgZCA9PiBmRGF0YUFuaW1TZXRzLmluZGV4T2YoZ2V0Sm9pbkluZm8oZCwgc3RlcCwgXCJhbmltU2V0XCIpKSA+PSAwXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHREYXRhLFxuICAgICAgICBjdXJyRGF0YTogaURhdGEsXG4gICAgICAgIGNvbXB1dGVEYXR1bUlkOiBjb21wdXRlSWQsXG4gICAgICAgIHByZUZldGNoQ3VyckRhdGFcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gZGF0YSBjaGFuZ2VcbiAgICBjb21wdXRlSWQgPSBjb21wdXRlSWRNYWtlcihudWxsKTtcbiAgICBjb25zdCBzYW1lRGF0YSA9IGlEYXRhLm1hcCgoZCwgaSkgPT4ge1xuICAgICAgc2V0Sm9pbkluZm8oZCwgc3RlcCwgeyBhbmltU2V0OiBcInVwZGF0ZVwiLCBqb2luS2V5OiBjb21wdXRlSWQoZCxpKSB9KTtcbiAgICAgIHJldHVybiBkO1xuICAgIH0pO1xuXG4gICAgaWYgKGlzR3JvdXBpbmdNYXJrdHlwZXMuaW5pdGlhbCAhPT0gaXNHcm91cGluZ01hcmt0eXBlcy5maW5hbCkge1xuICAgICAgLy8gV2hlbiB0aGUgbWFya3R5cGUgY2hhbmdlcyBiZXR3ZWVuIGFyZWEvbGluZSB0byB0aGUgb3RoZXJzLlxuICAgICAgbGV0IGdyb3VwZWREYXRhOyBsZXQgdW5wYWNrZWREYXRhO1xuICAgICAgaWYgKGlzR3JvdXBpbmdNYXJrdHlwZXMuaW5pdGlhbCkge1xuICAgICAgICB1bnBhY2tlZERhdGEgPSB1bnBhY2tEYXRhKGlEYXRhKTtcbiAgICAgICAgdW5wYWNrZWREYXRhLm1hcCgoZCwgaSkgPT4ge1xuICAgICAgICAgIHNldEpvaW5JbmZvKGQsIHN0ZXAsIHsgYW5pbVNldDogXCJ1cGRhdGVcIiwgam9pbktleTogY29tcHV0ZUlkKGQsaSkgfSk7XG4gICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5leHREYXRhOiB1bnBhY2tlZERhdGEsIGN1cnJEYXRhOiBpRGF0YSxcbiAgICAgICAgICBjb21wdXRlRGF0dW1JZDogY29tcHV0ZUlkLFxuICAgICAgICAgIGdyb3VwZWREYXRhOiBpRGF0YSxcbiAgICAgICAgICB1bnBhY2tlZERhdGE6IHVucGFja2VkRGF0YVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZ3JvdXBlZERhdGEgPSBmYWNldERhdGEoaURhdGEsIGNoYW5nZS5maW5hbC5wYXJlbnQuZnJvbSA/IGNoYW5nZS5maW5hbC5wYXJlbnQuZnJvbS5mYWNldCA6IHVuZGVmaW5lZCk7XG4gICAgICBncm91cGVkRGF0YS5tYXAoKGQsIGkpID0+IHtcbiAgICAgICAgc2V0Sm9pbkluZm8oZCwgc3RlcCwgeyBhbmltU2V0OiBcInVwZGF0ZVwiLCBqb2luS2V5OiBjb21wdXRlSWQoZCxpKSB9KTtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHREYXRhOiBncm91cGVkRGF0YSwgY3VyckRhdGE6IGlEYXRhLFxuICAgICAgICBjb21wdXRlRGF0dW1JZDogY29tcHV0ZUlkLFxuICAgICAgICBncm91cGVkRGF0YSxcbiAgICAgICAgdW5wYWNrZWREYXRhOiBpRGF0YVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmV4dERhdGE6IHNhbWVEYXRhLFxuICAgICAgY3VyckRhdGE6IHNhbWVEYXRhLFxuICAgICAgY29tcHV0ZURhdHVtSWQ6IGNvbXB1dGVJZFxuICAgIH07XG4gIH1cbiAgaWYgKGNoYW5nZS5jb21wVHlwZSA9PT0gXCJ2aWV3XCIpIHtcbiAgICByZXR1cm4geyBuZXh0RGF0YTogZVZpZXcuX3J1bnRpbWUuZGF0YS5yb290LnZhbHVlcy52YWx1ZVswXSB9O1xuICB9XG4gIHJldHVybiBpRGF0YTtcbn1cbmZ1bmN0aW9uIGpvaW5UaGVtKGlEYXRhLCBmRGF0YSwgY29tcHV0ZUlkLCBzdGVwKSB7XG4gIGNvbnN0IHVwZGF0ZURhdGEgPSB7IGluaXRpYWw6IFtdLCBmaW5hbDogW10gfTtcbiAgY29uc3QgZW50ZXJEYXRhID0gW107XG4gIGNvbnN0IGV4aXREYXRhID0gW107XG5cbiAgY29uc3QgdGFrZW5DaGVja2VyID0gbmV3IEFycmF5KGZEYXRhLmxlbmd0aCk7XG4gIHRha2VuQ2hlY2tlci5maWxsKGZhbHNlKTtcbiAgaURhdGEuZm9yRWFjaCgoaURhdHVtLCBpKSA9PiB7XG4gICAgY29uc3QgaWQgPSBjb21wdXRlSWQoaURhdHVtLCBpKTtcbiAgICBjb25zdCBmb3VuZEluZGV4ID0gZkRhdGEuZmluZEluZGV4KFxuICAgICAgKGZEYXR1bSwgaikgPT4gY29tcHV0ZUlkKGZEYXR1bSwgaikgPT09IGlkXG4gICAgKTtcbiAgICBjb25zdCBmb3VuZCA9IGZvdW5kSW5kZXggPj0gMCA/IGZEYXRhW2ZvdW5kSW5kZXhdIDogbnVsbDtcblxuICAgIGlmIChmb3VuZCkge1xuICAgICAgY29uc3QgaW5mbyA9IHsgYW5pbVNldDogXCJ1cGRhdGVcIiwgam9pbktleTogaWQgfTtcbiAgICAgIHNldEpvaW5JbmZvKGZvdW5kLCBzdGVwLCBpbmZvKTtcbiAgICAgIHNldEpvaW5JbmZvKGlEYXR1bSwgc3RlcCwgaW5mbyk7XG4gICAgICBjb25zdCBleHRlbmRlZElEYXR1bSA9IHsgLi4uZm91bmQuZGF0dW0sIC4uLmlEYXR1bS5kYXR1bSB9O1xuICAgICAgY29uc3QgZXh0ZW5kZWRGRGF0dW0gPSB7IC4uLmlEYXR1bS5kYXR1bSwgLi4uZm91bmQuZGF0dW0gfTtcbiAgICAgIGlEYXR1bS5kYXR1bSA9IGV4dGVuZGVkSURhdHVtO1xuICAgICAgZm91bmQuZGF0dW0gPSBleHRlbmRlZEZEYXR1bTtcbiAgICAgIHVwZGF0ZURhdGEuZmluYWwucHVzaChmb3VuZCk7XG4gICAgICB1cGRhdGVEYXRhLmluaXRpYWwucHVzaChpRGF0dW0pO1xuXG4gICAgICB0YWtlbkNoZWNrZXJbZm91bmRJbmRleF0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRKb2luSW5mbyhpRGF0dW0sIHN0ZXAsIHsgYW5pbVNldDogXCJleGl0XCIsIGpvaW5LZXk6IGlkIH0pO1xuICAgICAgZXhpdERhdGEucHVzaChpRGF0dW0pO1xuICAgIH1cbiAgfSk7XG4gIHRha2VuQ2hlY2tlci5mb3JFYWNoKCh0YWtlbiwgaSkgPT4ge1xuICAgIGlmICghdGFrZW4pIHtcbiAgICAgIHNldEpvaW5JbmZvKGZEYXRhW2ldLCBzdGVwLCB7XG4gICAgICAgIGFuaW1TZXQ6IFwiZW50ZXJcIixcbiAgICAgICAgam9pbktleTogY29tcHV0ZUlkKGZEYXRhW2ldLCBpKVxuICAgICAgfSk7XG4gICAgICBlbnRlckRhdGEucHVzaChmRGF0YVtpXSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGVudGVyOiBlbnRlckRhdGEsXG4gICAgdXBkYXRlOiB1cGRhdGVEYXRhLFxuICAgIGV4aXQ6IGV4aXREYXRhXG4gIH07XG59XG5cbmZ1bmN0aW9uIGV4dGVuZEJpbm5lZERhdGEoYmluRGF0YSwgYmluKSB7XG4gIGJpbi5mb3JFYWNoKGIgPT4ge1xuICAgIGJpbkRhdGEuZm9yRWFjaChkID0+IHtcbiAgICAgIGQuZGF0dW1bYi5maWVsZF0gPSBkLmRhdHVtW2IuZmllbGRdID09PSB1bmRlZmluZWQgPyAoZC5kYXR1bVtiLmFzWzBdXSArIGQuZGF0dW1bYi5hc1sxXV0pLzIgOiBkLmRhdHVtW2IuZmllbGRdO1xuICAgIH0pO1xuICB9KVxufVxuZnVuY3Rpb24gZXh0ZW5kQWdnRGF0YShhZ2dEYXRhLCBhZ2cpIHtcbiAgYWdnRGF0YS5mb3JFYWNoKGFnZ0RhdHVtID0+IHtcbiAgICBhZ2cuYXMuZm9yRWFjaCgoYWdnRmllbGQsIGkpID0+IHtcbiAgICAgIGFnZ0RhdHVtLmRhdHVtW2FnZy5maWVsZHNbaV1dID0gYWdnRGF0dW0uZGF0dW1bYWdnLmFzW2ldXVxuICAgIH0pXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGF0dGFjaEFnZ0RhdGEoYWdnRGF0YSwgdGFyZ2V0RGF0YSwgYWdnSWQsIGFnZywgYWdnVmlldywgZGF0YU5hbWUsIGNvbXB1dGVSYXdJZCkge1xuXG4gIGxldCBwdCA9IGFnZ1ZpZXcuX3J1bnRpbWUuZGF0YVtkYXRhTmFtZV0udmFsdWVzO1xuICB3aGlsZSAoIWlzQWdncmVnYXRlU291cmNlKHB0LCBhZ2cpKSB7XG4gICAgcHQgPSBwdC5zb3VyY2U7XG4gIH1cbiAgbGV0IHJhd0RhdGEgPSBwdC5zb3VyY2UucHVsc2UuYWRkO1xuXG5cbiAgdGFyZ2V0RGF0YS5mb3JFYWNoKCh0YXJnZXREYXR1bSwgaSkgPT4ge1xuICAgIGxldCBfaSA9IHJhd0RhdGEuZmluZEluZGV4KChkLCBfaSk9PiBjb21wdXRlUmF3SWQoe2RhdHVtOiBkfSwgX2kpID09PSBjb21wdXRlUmF3SWQodGFyZ2V0RGF0dW0sIGkpKVxuICAgIGxldCByYXdEYXR1bSA9IHJhd0RhdGFbX2ldO1xuICAgIGlmIChyYXdEYXR1bSkge1xuICAgICAgYWdnRGF0YS5mb3JFYWNoKChhZ2dEYXR1bSwgaikgPT4ge1xuICAgICAgICBpZiAoYWdnSWQoe2RhdHVtOiByYXdEYXR1bX0sIF9pKSA9PT0gYWdnSWQoYWdnRGF0dW0sIGopKSB7XG4gICAgICAgICAgYWdnLmZpZWxkcy5mb3JFYWNoKChmLCBmX2kpID0+IHtcbiAgICAgICAgICAgIHRhcmdldERhdHVtLmRhdHVtW2FnZy5hc1tmX2ldXSA9IGFnZ0RhdHVtLmRhdHVtW2FnZy5hc1tmX2ldXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhZ2cuZ3JvdXBieS5mb3JFYWNoKChmKSA9PiB7XG4gICAgICAgICAgICB0YXJnZXREYXR1bS5kYXR1bVtmXSA9IHRhcmdldERhdHVtLmRhdHVtW2ZdIHx8IHJhd0RhdHVtW2ZdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9JZiB0YXJnZXREYXR1bSBjYW5ub3QgZmluZCB0aGUgY29ycmVzcG9uZGluZyBhZ2dyZWdhdGVkIGRhdHVtLCBqdXN0IGF0dGFjaCBpdHMgdmFsdWUgYXMgYWdndmFsdWVcbiAgICAgIGFnZy5maWVsZHMuZm9yRWFjaCgoZiwgZl9pKSA9PiB7XG4gICAgICAgIHRhcmdldERhdHVtLmRhdHVtW2FnZy5hc1tmX2ldXSA9IHRhcmdldERhdHVtLmRhdHVtW2ZdO1xuICAgICAgfSk7XG4gICAgICBhZ2cuZ3JvdXBieS5mb3JFYWNoKChmKSA9PiB7XG4gICAgICAgIHRhcmdldERhdHVtLmRhdHVtW2ZdID0gdGFyZ2V0RGF0dW0uZGF0dW1bZl0gfHwgcmF3RGF0dW1bZl07XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBpc0FnZ3JlZ2F0ZVNvdXJjZShwdCwgYWdnKSB7XG4gIGxldCBhcmd2YWwgPSBwdC5fYXJnVmFsIHx8IHB0Ll9hcmd2YWw7XG4gIGlmIChhcmd2YWwgJiYgYXJndmFsLmFzICYmIGRlZXBFcXVhbChhcmd2YWwuYXMsIGFnZy5hcykgKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gZ2V0Sm9pbkluZm8oZCwgc3RlcCwgcHJvcCkge1xuICByZXR1cm4gZC5fX2dlbWluaV9fW3N0ZXAuc3RlcElkXVxuICAgID8gZC5fX2dlbWluaV9fW3N0ZXAuc3RlcElkXVtwcm9wXVxuICAgIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRQb3N0Zml4KGNvbXB1dGVJZCwgcG9zdEZpeCkge1xuICByZXR1cm4gKGQsIGkpID0+IHtcbiAgICByZXR1cm4gY29tcHV0ZUlkKGQsIGkpICsgcG9zdEZpeDtcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEJpbihjaGFuZ2UsIHJhd0luZm8pIHtcbiAgY29uc3QgYmluID0ge307XG4gIGlmICghY2hhbmdlLmluaXRpYWwgfHwgIWNoYW5nZS5maW5hbCkge1xuICAgIHJldHVybiBiaW47XG4gIH1cbiAgY29uc3Qgc1NwZWMgPSByYXdJbmZvLnNWaXMuc3BlYztcbiAgY29uc3QgZVNwZWMgPSByYXdJbmZvLmVWaXMuc3BlYztcblxuICBjb25zdCBkYXRhTmFtZSA9IGNvbXBTcGVjID0+IHtcbiAgICByZXR1cm4gY29tcHV0ZUhhc0ZhY2V0KGNvbXBTcGVjKVxuICAgICAgPyBjb21wU3BlYy5wYXJlbnQuZnJvbS5mYWNldC5kYXRhXG4gICAgICA6IGNvbXBTcGVjLmZyb20uZGF0YTtcbiAgfTtcblxuICBjb25zdCBkYXRhU291cmNlX2YgPSBlU3BlYy5kYXRhLmZpbmQoXG4gICAgZHNldCA9PiBkc2V0Lm5hbWUgPT09IGRhdGFOYW1lKGNoYW5nZS5maW5hbClcbiAgKTtcbiAgaWYgKGRhdGFTb3VyY2VfZi50cmFuc2Zvcm0pIHtcbiAgICBiaW4uZmluYWwgPSBkYXRhU291cmNlX2YudHJhbnNmb3JtLmZpbHRlcihcbiAgICAgIHRyc2ZtID0+IHRyc2ZtLnR5cGUgPT09IFwiYmluXCJcbiAgICApO1xuICB9XG4gIGNvbnN0IGRhdGFTb3VyY2VfaSA9IHNTcGVjLmRhdGEuZmluZChcbiAgICBkc2V0ID0+IGRzZXQubmFtZSA9PT0gZGF0YU5hbWUoY2hhbmdlLmluaXRpYWwpXG4gICk7XG4gIGlmIChkYXRhU291cmNlX2kudHJhbnNmb3JtKSB7XG4gICAgYmluLmluaXRpYWwgPSBkYXRhU291cmNlX2kudHJhbnNmb3JtLmZpbHRlcihcbiAgICAgIHRyc2ZtID0+IHRyc2ZtLnR5cGUgPT09IFwiYmluXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBiaW47XG59XG5mdW5jdGlvbiBnZXRBZ2dyZWdhdGUoY2hhbmdlLCByYXdJbmZvKSB7XG4gIGNvbnN0IGFnZ3JlZ2F0ZSA9IHt9O1xuICBpZiAoIWNoYW5nZS5pbml0aWFsIHx8ICFjaGFuZ2UuZmluYWwpIHtcbiAgICByZXR1cm4gYWdncmVnYXRlO1xuICB9XG4gIGNvbnN0IHNTcGVjID0gcmF3SW5mby5zVmlzLnNwZWM7XG4gIGNvbnN0IGVTcGVjID0gcmF3SW5mby5lVmlzLnNwZWM7XG5cbiAgY29uc3QgZGF0YU5hbWUgPSBjb21wU3BlYyA9PiB7XG4gICAgcmV0dXJuIGNvbXB1dGVIYXNGYWNldChjb21wU3BlYylcbiAgICAgID8gY29tcFNwZWMucGFyZW50LmZyb20uZmFjZXQuZGF0YVxuICAgICAgOiBjb21wU3BlYy5mcm9tLmRhdGE7XG4gIH07XG5cbiAgY29uc3QgZGF0YVNvdXJjZV9mID0gZVNwZWMuZGF0YS5maW5kKFxuICAgIGRzZXQgPT4gZHNldC5uYW1lID09PSBkYXRhTmFtZShjaGFuZ2UuZmluYWwpXG4gICk7XG4gIGlmIChkYXRhU291cmNlX2YudHJhbnNmb3JtKSB7XG4gICAgYWdncmVnYXRlLmZpbmFsID0gZGF0YVNvdXJjZV9mLnRyYW5zZm9ybS5maW5kKFxuICAgICAgdHJzZm0gPT4gdHJzZm0udHlwZSA9PT0gXCJhZ2dyZWdhdGVcIlxuICAgICk7XG4gIH1cbiAgY29uc3QgZGF0YVNvdXJjZV9pID0gc1NwZWMuZGF0YS5maW5kKFxuICAgIGRzZXQgPT4gZHNldC5uYW1lID09PSBkYXRhTmFtZShjaGFuZ2UuaW5pdGlhbClcbiAgKTtcbiAgaWYgKGRhdGFTb3VyY2VfaS50cmFuc2Zvcm0pIHtcbiAgICBhZ2dyZWdhdGUuaW5pdGlhbCA9IGRhdGFTb3VyY2VfaS50cmFuc2Zvcm0uZmluZChcbiAgICAgIHRyc2ZtID0+IHRyc2ZtLnR5cGUgPT09IFwiYWdncmVnYXRlXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBhZ2dyZWdhdGU7XG59XG5cbmZ1bmN0aW9uIHNldEpvaW5JbmZvKGRhdHVtLCBzdGVwLCBpbmZvKSB7XG4gIGRhdHVtLl9fZ2VtaW5pX18gPSBkYXR1bS5fX2dlbWluaV9fIHx8IHt9O1xuICBkYXR1bS5fX2dlbWluaV9fW3N0ZXAuc3RlcElkXSA9IGRhdHVtLl9fZ2VtaW5pX19bc3RlcC5zdGVwSWRdIHx8IHt9O1xuICBPYmplY3QuYXNzaWduKGRhdHVtLl9fZ2VtaW5pX19bc3RlcC5zdGVwSWRdLCBpbmZvKTtcbn1cblxuZXhwb3J0IHsgam9pbkRhdGEsIGluaXRpYWxEYXRhLCBnZXRBZ2dyZWdhdGUsIGdldEJpbiB9O1xuIiwiaW1wb3J0IHsgY29weSB9IGZyb20gXCIuLi8uLi8uLi91dGlsL3V0aWxcIjtcbmltcG9ydCAqIGFzIHZlZ2EgZnJvbSBcInZlZ2FcIjtcbmZ1bmN0aW9uIGRhdGFQcmVzZXJ2ZWRTY2FsZShzU3BlYywgZVNwZWMsIHNjTmFtZSkge1xuICBjb25zdCB0ZW1wU3BlYyA9IGNvcHkoZVNwZWMpO1xuICBjb25zdCBzY2FsZVNwZWMgPSB0ZW1wU3BlYy5zY2FsZXMuZmluZChzYyA9PiBzYy5uYW1lID09PSBzY05hbWUpO1xuICBpZiAoc2NhbGVTcGVjLmRvbWFpbi5kYXRhKSB7XG4gICAgY29uc3QgaW5kZXggPSB0ZW1wU3BlYy5kYXRhLmZpbmRJbmRleChcbiAgICAgIGQgPT4gZC5uYW1lID09PSBzY2FsZVNwZWMuZG9tYWluLmRhdGFcbiAgICApO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICB0ZW1wU3BlYy5kYXRhLnNwbGljZShcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIDEsXG4gICAgICAgIHNTcGVjLmRhdGEuZmluZChkID0+IGQubmFtZSA9PT0gc2NhbGVTcGVjLmRvbWFpbi5kYXRhKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgdGVtcFZpZXcgPSBuZXcgdmVnYS5WaWV3KHZlZ2EucGFyc2UodGVtcFNwZWMpLCB7XG4gICAgcmVuZGVyZXI6IFwibm9uZVwiXG4gIH0pLnJ1bigpO1xuICByZXR1cm4gdGVtcFZpZXcuX3J1bnRpbWUuc2NhbGVzW3NjTmFtZV0udmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVLZXB0RW5jb2RlKG1hbnVhbEVuY29kZSwgcmVmZXJlbmNlRW5jb2RlLCBzZXQgPSBudWxsKSB7XG5cbiAgbGV0IG1hbnVhbCA9IG1hbnVhbEVuY29kZTtcbiAgaWYgKHNldCAhPT0gbnVsbCkge1xuICAgIG1hbnVhbCA9IG1hbnVhbEVuY29kZSAmJiBtYW51YWxFbmNvZGVbc2V0XSA/IG1hbnVhbEVuY29kZVtzZXRdIDoge307XG4gIH1cbiAgY29uc3QgcmVmID0gc2V0ICE9PSBudWxsID8gcmVmZXJlbmNlRW5jb2RlW3NldF0gOiByZWZlcmVuY2VFbmNvZGU7XG5cblxuICByZXR1cm4gT2JqZWN0LmtleXMobWFudWFsKVxuICAgIC5maWx0ZXIoYXR0ciA9PiBtYW51YWxbYXR0cl0gPT09IGZhbHNlKVxuICAgIC5yZWR1Y2UoKGtlcHRFbmNvZGUsIGF0dHIpID0+IHtcbiAgICAgIGtlcHRFbmNvZGVbYXR0cl0gPSByZWZbYXR0cl07XG4gICAgICByZXR1cm4ga2VwdEVuY29kZTtcbiAgICB9LCB7fSk7XG59XG5cblxuZnVuY3Rpb24gcmVwbGFjZVBvc2l0aW9uQXR0cnModGFyZ2V0TWFya3R5cGUsIHRhcmdldEVuY29kZSwgcmVmZXJlbmNlRW5jb2RlKSB7XG4gIGNvbnN0IGVuY29kZSA9IE9iamVjdC5hc3NpZ24oe30sIHRhcmdldEVuY29kZSk7XG4gIGNvbnN0IFBPU0lUSU9OX0FUVFJTID0gW1wieFwiLCBcIngyXCIsIFwieGNcIiwgXCJ3aWR0aFwiLCBcInlcIiwgXCJ5MlwiLCBcInljXCIsIFwiaGVpZ2h0XCJdO1xuICBjb25zdCByZXBsYWNlUnVsZXMgPSB7XG4gICAgcmVjdDogW1xuICAgICAge3JlcGxhY2VCeTogW1wieFwiLCBcIngyXCJdLCB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieFwiLCBcIndpZHRoXCJdLCB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieGNcIiwgXCJ3aWR0aFwiXSwgcmVtb3ZlOiBbXCJ4XCJdIH0sXG4gICAgICB7cmVwbGFjZUJ5OiBbXCJ5XCIsIFwieTJcIl0sIH0sXG4gICAgICB7cmVwbGFjZUJ5OiBbXCJ5XCIsIFwiaGVpZ2h0XCJdLCB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieWNcIiwgXCJoZWlnaHRcIl0sIHJlbW92ZTogW1wieVwiXSB9XG4gICAgXSxcbiAgICBhcmVhOiBbXG4gICAgICB7cmVwbGFjZUJ5OiBbXCJ4XCIsIFwieDJcIiwgXCJ5XCJdLCByZW1vdmU6IFwiKlwiIH0sXG4gICAgICB7cmVwbGFjZUJ5OiBbXCJ4XCIsIFwid2lkdGhcIiwgXCJ5XCJdLCByZW1vdmU6IFwiKlwiIH0sXG4gICAgICB7cmVwbGFjZUJ5OiBbXCJ4Y1wiLCBcIndpZHRoXCIsIFwieVwiXSwgcmVtb3ZlOiBcIipcIiB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieVwiLCBcInkyXCIsIFwieFwiXSwgcmVtb3ZlOiBcIipcIiB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieVwiLCBcImhlaWdodFwiLCBcInhcIl0sIHJlbW92ZTogXCIqXCIgfSxcbiAgICAgIHtyZXBsYWNlQnk6IFtcInljXCIsIFwiaGVpZ2h0XCIsIFwieFwiXSwgcmVtb3ZlOiBcIipcIiB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieFwiLCBcIngyXCIsIFwieWNcIl0sIHJlbW92ZTogXCIqXCIgfSxcbiAgICAgIHtyZXBsYWNlQnk6IFtcInhcIiwgXCJ3aWR0aFwiLCBcInljXCJdLCByZW1vdmU6IFwiKlwiIH0sXG4gICAgICB7cmVwbGFjZUJ5OiBbXCJ4Y1wiLCBcIndpZHRoXCIsIFwieWNcIl0sIHJlbW92ZTogXCIqXCIgfSxcbiAgICAgIHtyZXBsYWNlQnk6IFtcInlcIiwgXCJ5MlwiLCBcInhjXCJdLCByZW1vdmU6IFwiKlwiIH0sXG4gICAgICB7cmVwbGFjZUJ5OiBbXCJ5XCIsIFwiaGVpZ2h0XCIsIFwieGNcIl0sIHJlbW92ZTogXCIqXCIgfSxcbiAgICAgIHtyZXBsYWNlQnk6IFtcInljXCIsIFwiaGVpZ2h0XCIsIFwieGNcIl0sIHJlbW92ZTogXCIqXCIgfVxuICAgIF0sXG4gICAgZGVmYXVsdDogW1xuICAgICAge3JlcGxhY2VCeTogW1wieFwiXSB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieGNcIl0sIHJlbW92ZTogW1wieFwiXSB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieVwiXSB9LFxuICAgICAge3JlcGxhY2VCeTogW1wieWNcIl0sIHJlbW92ZTogW1wieVwiXSB9XG4gICAgXVxuICB9O1xuICBsZXQgcnVsZXMgPSByZXBsYWNlUnVsZXNbdGFyZ2V0TWFya3R5cGVdIHx8IHJlcGxhY2VSdWxlcy5kZWZhdWx0O1xuXG4gIHJ1bGVzLmZvckVhY2gocnVsZSA9PiB7XG4gICAgY29uc3QgaGFzQWxsID0gcnVsZS5yZXBsYWNlQnkucmVkdWNlKChoYXNBbGwsIGF0dHIpID0+IHtcbiAgICAgIHJldHVybiBoYXNBbGwgJiYgcmVmZXJlbmNlRW5jb2RlW2F0dHJdO1xuICAgIH0sIHRydWUpO1xuICAgIGlmIChoYXNBbGwpIHtcbiAgICAgIHJ1bGUucmVwbGFjZUJ5LmZvckVhY2goYXR0ciA9PiB7XG4gICAgICAgIGVuY29kZVthdHRyXSA9IHJlZmVyZW5jZUVuY29kZVthdHRyXTtcbiAgICAgIH0pO1xuICAgICAgbGV0IHJlbW92ZWRBdHRycyA9IHJ1bGUucmVtb3ZlIHx8IFtdO1xuICAgICAgaWYgKHJ1bGUucmVtb3ZlID09PSBcIipcIikge1xuICAgICAgICByZW1vdmVkQXR0cnMgPSBQT1NJVElPTl9BVFRSUy5maWx0ZXIoYXR0ciA9PiBydWxlLnJlcGxhY2VCeS5pbmRleE9mKGF0dHIpIDwgMCk7XG4gICAgICB9XG4gICAgICByZW1vdmVkQXR0cnMuZm9yRWFjaChhdHRyID0+IHtcbiAgICAgICAgZGVsZXRlIGVuY29kZVthdHRyXTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cblxuICByZXR1cm4gZW5jb2RlO1xufVxuXG5leHBvcnQgeyBkYXRhUHJlc2VydmVkU2NhbGUsIGNvbXB1dGVLZXB0RW5jb2RlLCByZXBsYWNlUG9zaXRpb25BdHRycyB9OyIsImltcG9ydCB7IGRhdGFQcmVzZXJ2ZWRTY2FsZSwgY29tcHV0ZUtlcHRFbmNvZGUsIHJlcGxhY2VQb3NpdGlvbkF0dHJzIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgY29weTIsIGNvcHksIGdldCB9IGZyb20gXCIuLi8uLi8uLi91dGlsL3V0aWxcIjtcbmltcG9ydCB7IERFRkFVTFRfRU5DT0RFLCBERUZBVUxUX1NUWUxFIH0gZnJvbSBcIi4uLy4uLy4uL2RlZmF1bHRcIjtcbmltcG9ydCB7IGNvbXB1dGVIYXNGYWNldCB9IGZyb20gXCIuLi91dGlsXCI7XG5pbXBvcnQgeyBnZXRBZ2dyZWdhdGUsIGdldEJpbiB9IGZyb20gXCIuLi9kYXRhSm9pblwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlKHJhd0luZm8sIHN0ZXAsIGxhc3RTdGF0ZSkge1xuICBjb25zdCBlVmlldyA9IHJhd0luZm8uZVZpcy52aWV3O1xuICBjb25zdCB7IGNoYW5nZSB9ID0gc3RlcDtcbiAgY29uc3QgaXNBZGQgPSAhY2hhbmdlLmluaXRpYWwgJiYgISFjaGFuZ2UuZmluYWw7XG4gIGNvbnN0IGlzUmVtb3ZlID0gISFjaGFuZ2UuaW5pdGlhbCAmJiAhY2hhbmdlLmZpbmFsO1xuXG4gIGNvbnN0IG1hbnVhbEVuY29kZSA9IGNoYW5nZS5lbmNvZGU7XG4gIGxldCBkb0VudGVyID0gIWlzUmVtb3ZlICYmIChpc0FkZCB8fCBjaGFuZ2UuZGF0YSAhPT0gZmFsc2UpO1xuICBsZXQgZG9FeGl0ID0gIWlzQWRkICYmIChpc1JlbW92ZSB8fCBjaGFuZ2UuZGF0YSAhPT0gZmFsc2UpO1xuXG4gIGlmIChjaGFuZ2UuZGF0YSkge1xuICAgIGRvRW50ZXIgPSBjaGFuZ2UuZGF0YS5lbnRlciA9PT0gZmFsc2UgPyBmYWxzZSA6IGRvRW50ZXI7XG4gICAgZG9FeGl0ID0gY2hhbmdlLmRhdGEuZXhpdCA9PT0gZmFsc2UgPyBmYWxzZSA6IGRvRXhpdDtcbiAgfVxuXG4gIGlmIChcbiAgICAhaXNBZGQgJiZcbiAgICAhaXNSZW1vdmUgJiZcbiAgICBjaGFuZ2UuaW5pdGlhbC5mcm9tLmRhdGEgIT09IGNoYW5nZS5maW5hbC5mcm9tLmRhdGFcbiAgKSB7XG4gICAgaWYgKCFjb21wdXRlSGFzRmFjZXQoY2hhbmdlLmZpbmFsKSAmJiAhY29tcHV0ZUhhc0ZhY2V0KGNoYW5nZS5pbml0aWFsKSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYERhdGEgc291cmNlIG9mIHRoaXMgbWFyayAoJHtjaGFuZ2UuY29tcE5hbWV9KSBoYXMgY2hhbmdlZCB1bmV4cGVjdGVkbHkhYFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBhZ2dyZWdhdGVzID0ge1xuICAgIGluaXRpYWw6IGxhc3RTdGF0ZS5hZ2dyZWdhdGUsXG4gICAgZmluYWw6IGxhc3RTdGF0ZS5hZ2dyZWdhdGVcbiAgfTtcbiAgY29uc3QgYmlucyA9IHtcbiAgICBpbml0aWFsOiBsYXN0U3RhdGUuYmluLFxuICAgIGZpbmFsOiBsYXN0U3RhdGUuYmluXG4gIH07XG5cbiAgaWYgKGNoYW5nZS5kYXRhKSB7XG4gICAgLy8gYWdncmVnYXRlcy5kb25lID0gdHJ1ZTtcbiAgICBhZ2dyZWdhdGVzLmZpbmFsID0gZ2V0QWdncmVnYXRlKGNoYW5nZSwgcmF3SW5mbykuZmluYWw7XG4gICAgYmlucy5maW5hbCA9IGdldEJpbihjaGFuZ2UsIHJhd0luZm8pLmZpbmFsXG4gIH1cblxuICBjb25zdCBiZWluZ0FnZ3JlZ2F0ZWQgPSBjaGFuZ2UuZGF0YSAmJiAhYWdncmVnYXRlcy5pbml0aWFsICYmIGFnZ3JlZ2F0ZXMuZmluYWw7XG4gIGNvbnN0IGJlaW5nRGlzYWdncmVnYXRlZCA9IGNoYW5nZS5kYXRhICYmIGFnZ3JlZ2F0ZXMuaW5pdGlhbCAmJiAhYWdncmVnYXRlcy5maW5hbDtcbiAgY29uc3QgYmVpbmdCaW5uZWQgPSBjaGFuZ2UuZGF0YSAmJiAhYmlucy5pbml0aWFsICYmIGJpbnMuZmluYWw7XG4gIGNvbnN0IGJlaW5nRGlzYmlubmVkID0gY2hhbmdlLmRhdGEgJiYgYmlucy5pbml0aWFsICYmICFiaW5zLmZpbmFsO1xuXG5cbiAgY29uc3QgbWFya3R5cGVzID0ge1xuICAgIGluaXRpYWw6IGxhc3RTdGF0ZS5tYXJrdHlwZSwgLy8gY2hhbmdlLmluaXRpYWwgPyBjaGFuZ2UuaW5pdGlhbC50eXBlIDogdW5kZWZpbmVkLFxuICAgIGZpbmFsOiBjaGFuZ2UuZmluYWwgPyBjaGFuZ2UuZmluYWwudHlwZSA6IHVuZGVmaW5lZFxuICB9O1xuXG4gIGlmIChcbiAgICBtYXJrdHlwZXMuaW5pdGlhbCAmJlxuICAgIG1hcmt0eXBlcy5maW5hbCAmJlxuICAgIG1hcmt0eXBlcy5pbml0aWFsICE9PSBtYXJrdHlwZXMuZmluYWxcbiAgKSB7XG4gICAgY29uc29sZS5sb2coXCJtYXJrIHRyYW5zZm9ybSBjaGFuZ2UhXCIpO1xuICAgIGlmIChjaGFuZ2UubWFya3R5cGUgPT09IGZhbHNlKSB7XG4gICAgICBtYXJrdHlwZXMuZmluYWwgPSBtYXJrdHlwZXMuaW5pdGlhbDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYXNGYWNldCA9IHtcbiAgICBpbml0aWFsOiBsYXN0U3RhdGUuaGFzRmFjZXQsXG4gICAgZmluYWw6IGxhc3RTdGF0ZS5oYXNGYWNldFxuICB9O1xuICBpZiAoKGNoYW5nZS5kYXRhIHx8IGlzQWRkIHx8IGlzUmVtb3ZlKSAmJiBjaGFuZ2UubWFya3R5cGUgIT09IGZhbHNlKSB7XG4gICAgaGFzRmFjZXQuZmluYWwgPSBjb21wdXRlSGFzRmFjZXQoY2hhbmdlLmZpbmFsKTtcbiAgfVxuXG4gIGNvbnN0IHNjYWxlcyA9IHtcbiAgICBpbml0aWFsOiBsYXN0U3RhdGUuc2NhbGUsXG4gICAgZmluYWw6IGNvcHkyKGxhc3RTdGF0ZS5zY2FsZSlcbiAgfTtcbiAgY29uc3QgZW5jb2RlcyA9IHtcbiAgICBpbml0aWFsOiBPYmplY3QuYXNzaWduKHsgdXBkYXRlOiB7fSB9LCBjb3B5KGxhc3RTdGF0ZS5lbmNvZGUpKSxcbiAgICBmaW5hbDogT2JqZWN0LmFzc2lnbih7IHVwZGF0ZToge30gfSwgY29weShsYXN0U3RhdGUuZW5jb2RlKSlcbiAgfTtcbiAgY29uc3Qgc2lnbmFscyA9IHtcbiAgICBpbml0aWFsOiBsYXN0U3RhdGUuc2lnbmFsXG4gIH07XG4gIGNvbnN0IHNpZ25hbHNGaW5hbCA9IFtcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwicGFkZGluZ1wiXS5yZWR1Y2UoKGFjYywgc2dOYW1lKSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hhbmdlLnNpZ25hbCkpIHtcbiAgICAgIGlmIChjaGFuZ2Uuc2lnbmFsLmluZGV4T2Yoc2dOYW1lKSA+PSAwKSB7XG4gICAgICAgIGFjY1tzZ05hbWVdID0gZVZpZXcuc2lnbmFsKHNnTmFtZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlLnNpZ25hbCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfVxuICAgIGFjY1tzZ05hbWVdID0gZVZpZXcuc2lnbmFsKHNnTmFtZSk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICBzaWduYWxzLmZpbmFsID0gT2JqZWN0LmFzc2lnbih7fSwgc2lnbmFscy5pbml0aWFsLCBzaWduYWxzRmluYWwpO1xuXG4gIGlmIChjaGFuZ2Uuc2NhbGUgIT09IGZhbHNlKSB7XG4gICAgbGV0IGZpbmFsU2NhbGVOYW1lcyA9IFtdO1xuICAgIGlmIChjaGFuZ2Uuc2NhbGUgPT09IHRydWUgfHwgaXNBZGQpIHtcbiAgICAgIGZpbmFsU2NhbGVOYW1lcyA9IE9iamVjdC5rZXlzKGVWaWV3Ll9ydW50aW1lLnNjYWxlcyk7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoYW5nZS5zY2FsZSkpIHtcbiAgICAgIGZpbmFsU2NhbGVOYW1lcyA9IGNoYW5nZS5zY2FsZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjaGFuZ2Uuc2NhbGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGZpbmFsU2NhbGVOYW1lcyA9IE9iamVjdC5rZXlzKGNoYW5nZS5zY2FsZSk7XG4gICAgfVxuICAgIGZpbmFsU2NhbGVOYW1lcy5mb3JFYWNoKHNjTmFtZSA9PiB7XG4gICAgICBpZiAoY2hhbmdlLnNjYWxlW3NjTmFtZV0gJiYgY2hhbmdlLnNjYWxlW3NjTmFtZV0uZGF0YSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc2NhbGVzLmZpbmFsW3NjTmFtZV0gPSBkYXRhUHJlc2VydmVkU2NhbGUoXG4gICAgICAgICAgcmF3SW5mby5zVmlzLnNwZWMsXG4gICAgICAgICAgcmF3SW5mby5lVmlzLnNwZWMsXG4gICAgICAgICAgc2NOYW1lXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY2FsZXMuZmluYWxbc2NOYW1lXSA9IGVWaWV3Ll9ydW50aW1lLnNjYWxlc1tzY05hbWVdXG4gICAgICAgICAgPyBlVmlldy5fcnVudGltZS5zY2FsZXNbc2NOYW1lXS52YWx1ZVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjaGFubmVsID0gT2JqZWN0LmtleXMoZW5jb2Rlcy5maW5hbC51cGRhdGUpLmZpbmQoXG4gICAgICAgIGtleSA9PiBrZXkuc2NhbGUgPT09IHNjTmFtZVxuICAgICAgKTtcbiAgICAgIGVuY29kZXMuZmluYWwudXBkYXRlW2NoYW5uZWxdID0gY2hhbmdlLmZpbmFsXG4gICAgICAgID8gY29weShjaGFuZ2UuZmluYWwuZW5jb2RlLnVwZGF0ZVtjaGFubmVsXSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoYmVpbmdBZ2dyZWdhdGVkICYmIGFnZ3JlZ2F0ZXMuZmluYWwub3BzLmluZGV4T2YoXCJjb3VudFwiKSA+PSAwKSB7XG4gICAgc3RlcC5zcGVjaWZpY1NjYWxlRm9yID0geyAuLi5zdGVwLnNwZWNpZmljU2NhbGVGb3IsIGVudGVyOiB7aW5pdGlhbDogXCJmaW5hbFwifSB9O1xuICB9XG4gIGlmIChiZWluZ0Rpc2FnZ3JlZ2F0ZWQgJiYgYWdncmVnYXRlcy5pbml0aWFsLm9wcy5pbmRleE9mKFwiY291bnRcIikgPj0gMCkge1xuICAgIHN0ZXAuc3BlY2lmaWNTY2FsZUZvciA9IHsgLi4uc3RlcC5zcGVjaWZpY1NjYWxlRm9yLCBleGl0OiB7ZmluYWw6IFwiaW5pdGlhbFwifSB9O1xuICB9XG5cbiAgaWYgKG1hbnVhbEVuY29kZSA9PT0gZmFsc2UpIHtcbiAgICB0aHJvdyBFcnJvcihcIkludGVycG9sYXRpbmcgZGF0YSByZXF1aXJlcyB0byBpbnRlcnBvbGF0ZSBlbmNvZGUuXCIpO1xuICB9XG5cbiAgY29uc3Qgc3R5bGVFbmNvZGVzID0ge1xuICAgIGluaXRpYWw6IGNvcHkobGFzdFN0YXRlLnN0eWxlRW5jb2RlKSxcbiAgICBmaW5hbDogY29weShsYXN0U3RhdGUuc3R5bGVFbmNvZGUpXG4gIH07XG4gIGlmIChjaGFuZ2UubWFya3R5cGUpIHtcbiAgICBzdHlsZUVuY29kZXMuZmluYWwgPSBjaGFuZ2UuZmluYWwgJiYgY2hhbmdlLmZpbmFsLnN0eWxlXG4gICAgICA/IERFRkFVTFRfU1RZTEVbY2hhbmdlLmZpbmFsLnN0eWxlXSB8fCB7fVxuICAgICAgOiB7fTtcbiAgfVxuXG4gIGNvbnN0IG1hbnVhbEVuY29kZUVudGVyV2l0aG91dEluaXRpYWwgPSBtYW51YWxFbmNvZGVcbiAgICA/IGNvcHkobWFudWFsRW5jb2RlLmVudGVyIHx8IHt9KVxuICAgIDoge307XG4gIGRlbGV0ZSBtYW51YWxFbmNvZGVFbnRlcldpdGhvdXRJbml0aWFsLmluaXRpYWw7XG5cblxuICBlbmNvZGVzLmluaXRpYWwuZW50ZXIgPSBPYmplY3QuYXNzaWduKFxuICAgIHt9LFxuICAgIGxhc3RTdGF0ZS5lbmNvZGUudXBkYXRlLFxuICAgIERFRkFVTFRfRU5DT0RFLm1hcmsuZW50ZXIsXG4gICAgYmVpbmdBZ2dyZWdhdGVkID8gY29tcHV0ZUtlcHRFbmNvZGUoXG4gICAgICBtYW51YWxFbmNvZGUsXG4gICAgICBnZXQoY2hhbmdlLCBcImZpbmFsXCIsIFwiZW5jb2RlXCIsIFwidXBkYXRlXCIpIHx8IHt9XG4gICAgKSA6IHt9LFxuICAgIG1hbnVhbEVuY29kZSAmJiBtYW51YWxFbmNvZGUuZW50ZXIgPyBtYW51YWxFbmNvZGUuZW50ZXIuaW5pdGlhbCA6IHt9XG4gICk7XG5cblxuXG4gIGlmIChnZXQoY2hhbmdlLCBcImVuY29kZVwiLCBcImVudGVyXCIpID09PSBmYWxzZSkge1xuICAgIGVuY29kZXMuZmluYWwuZW50ZXIgPSBlbmNvZGVzLmluaXRpYWwuZW50ZXI7XG4gIH0gZWxzZSB7XG4gICAgZW5jb2Rlcy5maW5hbC5lbnRlciA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIERFRkFVTFRfRU5DT0RFLm1hcmtbbWFya3R5cGVzLmZpbmFsIHx8IG1hcmt0eXBlcy5pbml0aWFsXS51cGRhdGUsXG4gICAgICBzdHlsZUVuY29kZXMuZmluYWwsXG4gICAgICBjb3B5KGdldChjaGFuZ2UsIFwiZmluYWxcIiwgXCJlbmNvZGVcIiwgXCJ1cGRhdGVcIikgfHwge30pLFxuICAgICAgbWFudWFsRW5jb2RlID8gbWFudWFsRW5jb2RlRW50ZXJXaXRob3V0SW5pdGlhbCA6IHt9LFxuICAgICAgY29tcHV0ZUtlcHRFbmNvZGUobWFudWFsRW5jb2RlLCBlbmNvZGVzLmluaXRpYWwsIFwiZW50ZXJcIilcbiAgICApO1xuICB9XG5cbiAgZW5jb2Rlcy5pbml0aWFsLmV4aXQgPSBPYmplY3QuYXNzaWduKHt9LCBsYXN0U3RhdGUuZW5jb2RlLnVwZGF0ZSk7XG4gIGlmIChjaGFuZ2UuZW5jb2RlICYmIGNoYW5nZS5lbmNvZGUuZXhpdCA9PT0gZmFsc2UpIHtcbiAgICBlbmNvZGVzLmZpbmFsLmV4aXQgPSBlbmNvZGVzLmluaXRpYWwuZXhpdDtcbiAgfSBlbHNlIHtcbiAgICBlbmNvZGVzLmZpbmFsLmV4aXQgPSBPYmplY3QuYXNzaWduKFxuICAgICAge30sXG4gICAgICBERUZBVUxUX0VOQ09ERS5tYXJrW21hcmt0eXBlcy5pbml0aWFsIHx8IG1hcmt0eXBlcy5maW5hbF0udXBkYXRlLFxuICAgICAgc3R5bGVFbmNvZGVzLmZpbmFsLFxuICAgICAgZG9FeGl0XG4gICAgICAgID8gY29weShcbiAgICAgICAgICBnZXQoY2hhbmdlLCBcImZpbmFsXCIsIFwiZW5jb2RlXCIsIFwidXBkYXRlXCIpIHx8XG4gICAgICAgICAgICAgIGdldChjaGFuZ2UsIFwiaW5pdGlhbFwiLCBcImVuY29kZVwiLCBcInVwZGF0ZVwiKVxuICAgICAgICApXG4gICAgICAgIDogY29weShcbiAgICAgICAgICBnZXQoY2hhbmdlLCBcImluaXRpYWxcIiwgXCJlbmNvZGVcIiwgXCJ1cGRhdGVcIikgfHxcbiAgICAgICAgICAgICAgZ2V0KGNoYW5nZSwgXCJmaW5hbFwiLCBcImVuY29kZVwiLCBcInVwZGF0ZVwiKVxuICAgICAgICApLFxuICAgICAgREVGQVVMVF9FTkNPREUubWFyay5leGl0LFxuICAgICAgbWFudWFsRW5jb2RlID8gbWFudWFsRW5jb2RlLmV4aXQgOiB7fSxcbiAgICAgIGNvbXB1dGVLZXB0RW5jb2RlKG1hbnVhbEVuY29kZSwgZW5jb2Rlcy5pbml0aWFsLCBcImV4aXRcIilcbiAgICApO1xuICB9XG5cbiAgaWYgKGNoYW5nZS5lbmNvZGUgJiYgY2hhbmdlLmVuY29kZS51cGRhdGUgPT09IGZhbHNlKSB7XG4gICAgZW5jb2Rlcy5maW5hbC51cGRhdGUgPSBlbmNvZGVzLmluaXRpYWwudXBkYXRlO1xuICB9IGVsc2Uge1xuICAgIGVuY29kZXMuZmluYWwudXBkYXRlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAgREVGQVVMVF9FTkNPREUubWFya1ttYXJrdHlwZXMuZmluYWwgfHwgbWFya3R5cGVzLmluaXRpYWxdLnVwZGF0ZSxcbiAgICAgIHN0eWxlRW5jb2Rlcy5maW5hbCxcbiAgICAgIGNvcHkoZ2V0KGNoYW5nZSwgXCJmaW5hbFwiLCBcImVuY29kZVwiLCBcInVwZGF0ZVwiKSB8fCB7fSksXG4gICAgICBtYW51YWxFbmNvZGUgPyBtYW51YWxFbmNvZGUudXBkYXRlIDoge30sXG4gICAgICBjb21wdXRlS2VwdEVuY29kZShtYW51YWxFbmNvZGUsIGVuY29kZXMuaW5pdGlhbCwgXCJ1cGRhdGVcIilcbiAgICApO1xuICB9XG5cbiAgLy8gV2hlbiBtYXJrdHlwZSBjaGFuZ2VzXG4gIC8vIHxTX2V4aXQgIHwgLT4gfCAgICAgICAgICB8IGV4aXQhICAgICAgICAgICAgICAgICAoaW5pdGlhbC5leGl0ICAtPiBmaW5hbC5leGl0KVxuICAvLyB8U191cGRhdGV8IC0+IHwgICAgICAgICAgfCB1cGRhdGUgdmlhIGZhZGluZyBvdXQgKGluaXRpYWwudXBkYXRlIC0+IGluaXRpYWwuaW50ZXJtZWRpYXRlKVxuICAvLyB8ICAgICAgICB8IC0+IHwgRV91cGRhdGUgfCAmIGZhZGluZyBpbiAgICAgICAgICAgKGZpbmFsLmludGVybWVkaWF0ZSAtPiBmaW5hbC51cGRhdGUpXG4gIC8vIHwgICAgICAgIHwgLT4gfCBFX2VudGVyICB8IGVudGVyISAgICAgICAgICAgICAgICAoaW5pdGlhbC5lbnRlciAgLT4gZmluYWwuZW50ZXIpXG4gIGlmIChtYXJrdHlwZXMuZmluYWwgIT09IG1hcmt0eXBlcy5pbml0aWFsKSB7XG4gICAgZW5jb2Rlcy5pbml0aWFsLmludGVybWVkaWF0ZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIHJlcGxhY2VQb3NpdGlvbkF0dHJzKG1hcmt0eXBlcy5pbml0aWFsLCBlbmNvZGVzLmluaXRpYWwudXBkYXRlLCBlbmNvZGVzLmZpbmFsLnVwZGF0ZSksXG4gICAgICB7IG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9XG4gICAgKTtcblxuICAgIGVuY29kZXMuZmluYWwuaW50ZXJtZWRpYXRlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAgcmVwbGFjZVBvc2l0aW9uQXR0cnMobWFya3R5cGVzLmZpbmFsLCBlbmNvZGVzLmZpbmFsLnVwZGF0ZSwgZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZSksXG4gICAgICB7IG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9XG4gICAgKTtcblxuICAgIGlmIChkb0VudGVyKSB7XG4gICAgICBlbmNvZGVzLmluaXRpYWwuZW50ZXIgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgcmVwbGFjZVBvc2l0aW9uQXR0cnMobWFya3R5cGVzLmZpbmFsLCBlbmNvZGVzLmZpbmFsLmVudGVyLCBlbmNvZGVzLmluaXRpYWwuZW50ZXIpLFxuICAgICAgICB7IG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9LFxuICAgICAgICBtYW51YWxFbmNvZGUgJiYgbWFudWFsRW5jb2RlLmVudGVyID8gbWFudWFsRW5jb2RlLmVudGVyLmluaXRpYWwgOiB7fVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRvRXhpdCkge1xuICAgICAgZW5jb2Rlcy5maW5hbC5leGl0ID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIHJlcGxhY2VQb3NpdGlvbkF0dHJzKG1hcmt0eXBlcy5pbml0aWFsLCBlbmNvZGVzLmluaXRpYWwuZXhpdCwgZW5jb2Rlcy5maW5hbC5leGl0KSxcbiAgICAgICAgeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgICAgbWFudWFsRW5jb2RlID8gbWFudWFsRW5jb2RlLmV4aXQgOiB7fSxcbiAgICAgICAgY29tcHV0ZUtlcHRFbmNvZGUobWFudWFsRW5jb2RlLCBlbmNvZGVzLmluaXRpYWwsIFwiZXhpdFwiKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cblxuICBpZiAoYmVpbmdBZ2dyZWdhdGVkKSB7XG4gICAgLy8gd2hlbiBhZ2dyZWdhdGVcbiAgICBlbmNvZGVzLmZpbmFsLmV4aXQgPSBPYmplY3QuYXNzaWduKFxuICAgICAgY2hhbmdlLm1hcmt0eXBlICYmIChtYXJrdHlwZXMuaW5pdGlhbCAhPT0gbWFya3R5cGVzLmZpbmFsKSA/IHJlcGxhY2VQb3NpdGlvbkF0dHJzKG1hcmt0eXBlcy5pbml0aWFsLCBlbmNvZGVzLmZpbmFsLmV4aXQsIGVuY29kZXMuZmluYWwudXBkYXRlKSA6IGVuY29kZXMuZmluYWwudXBkYXRlLFxuICAgICAgeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSxcbiAgICAgIG1hbnVhbEVuY29kZSA/IG1hbnVhbEVuY29kZS5leGl0IDoge30sXG4gICAgICBjb21wdXRlS2VwdEVuY29kZShtYW51YWxFbmNvZGUsIGVuY29kZXMuaW5pdGlhbCwgXCJleGl0XCIpLFxuICAgICk7XG5cblxuICAgIGVuY29kZXMuZmluYWwudXBkYXRlID0gY29weShlbmNvZGVzLmZpbmFsLmVudGVyKTtcbiAgfSBlbHNlIGlmIChiZWluZ0Rpc2FnZ3JlZ2F0ZWQpIHtcbiAgICAvLyB3aGVuIGRpc2FnZ3JlZ2F0ZVxuXG4gICAgZW5jb2Rlcy5pbml0aWFsLmVudGVyID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAgY2hhbmdlLm1hcmt0eXBlICYmIChtYXJrdHlwZXMuaW5pdGlhbCAhPT0gbWFya3R5cGVzLmZpbmFsKSA/IHJlcGxhY2VQb3NpdGlvbkF0dHJzKG1hcmt0eXBlcy5maW5hbCwgZW5jb2Rlcy5pbml0aWFsLmVudGVyLCBlbmNvZGVzLmluaXRpYWwudXBkYXRlKSA6IGVuY29kZXMuaW5pdGlhbC51cGRhdGUsXG4gICAgICB7IG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9LFxuICAgICAgbWFudWFsRW5jb2RlICYmIG1hbnVhbEVuY29kZS5lbnRlciA/IG1hbnVhbEVuY29kZS5lbnRlci5pbml0aWFsIDoge31cbiAgICApO1xuXG4gICAgZW5jb2Rlcy5maW5hbC51cGRhdGUgPSBjb3B5KGVuY29kZXMuZmluYWwuZW50ZXIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBlbmNvZGVzLFxuICAgIHNjYWxlcyxcbiAgICBzaWduYWxzLFxuICAgIG1hcmt0eXBlcyxcbiAgICBoYXNGYWNldCxcbiAgICBhZ2dyZWdhdGVzLFxuICAgIGJpbnMsXG4gICAgc3R5bGVFbmNvZGVzXG4gIH07XG59IiwiaW1wb3J0IHsgZGF0YVByZXNlcnZlZFNjYWxlLCBjb21wdXRlS2VwdEVuY29kZSB9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IGNvcHkyLCBjb3B5LCBnZXQsIGRlZXBFcXVhbCB9IGZyb20gXCIuLi8uLi8uLi91dGlsL3V0aWxcIjtcbmltcG9ydCB7IERFRkFVTFRfRU5DT0RFIH0gZnJvbSBcIi4uLy4uLy4uL2RlZmF1bHRcIjtcbmltcG9ydCB7IGZpbmRDb21wIH0gZnJvbSBcIi4uLy4uLy4uL2FjdHVhdG9yL3V0aWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGUocmF3SW5mbywgc3RlcCwgbGFzdFN0YXRlKSB7XG4gIGNvbnN0IHsgY2hhbmdlIH0gPSBzdGVwO1xuICBjb25zdCBjb21wU3RhdGUgPSBsYXN0U3RhdGU7XG4gIGNvbnN0IGVWaWV3ID0gcmF3SW5mby5lVmlzLnZpZXc7XG4gIGNvbnN0IGlzUmVtb3ZlID0gIWNoYW5nZS5maW5hbDtcbiAgY29uc3QgaXNBZGQgPSAhY2hhbmdlLmluaXRpYWw7XG4gIGxldCBkb1RpY2tzO1xuICBsZXQgZG9MYWJlbHM7XG4gIGxldCBkb0F4aXNHO1xuICBsZXQgZG9UaXRsZTtcbiAgbGV0IGRvRG9tYWluO1xuICBsZXQgZG9HcmlkO1xuICBkb1RpY2tzID0gZG9MYWJlbHMgPSBkb0F4aXNHID0gZG9UaXRsZSA9IGRvRG9tYWluID0gZG9HcmlkID0gdHJ1ZTtcblxuICBpZiAoY2hhbmdlLmVuY29kZSA9PT0gZmFsc2UpIHtcbiAgICBkb1RpY2tzID0gZG9MYWJlbHMgPSBkb0F4aXNHID0gZG9UaXRsZSA9IGRvRG9tYWluID0gZG9HcmlkID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAoY2hhbmdlLmVuY29kZSkge1xuICAgIGRvVGlja3MgPSAhKGNoYW5nZS5lbmNvZGUudGlja3MgPT09IGZhbHNlKTtcbiAgICBkb0xhYmVscyA9ICEoY2hhbmdlLmVuY29kZS5sYWJlbHMgPT09IGZhbHNlKTtcbiAgICBkb0F4aXNHID0gIShjaGFuZ2UuZW5jb2RlLmF4aXMgPT09IGZhbHNlKTtcbiAgICBkb1RpdGxlID0gIShjaGFuZ2UuZW5jb2RlLnRpdGxlID09PSBmYWxzZSk7XG4gICAgZG9HcmlkID0gIShjaGFuZ2UuZW5jb2RlLmdyaWQgPT09IGZhbHNlKTtcbiAgICBkb0RvbWFpbiA9ICEoY2hhbmdlLmVuY29kZS5kb21haW4gPT09IGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IHNjTmFtZXMgPSB7XG4gICAgaW5pdGlhbDogY2hhbmdlLmluaXRpYWwgPyBjaGFuZ2UuaW5pdGlhbC5zY2FsZSA6IHVuZGVmaW5lZCxcbiAgICBmaW5hbDogY2hhbmdlLmZpbmFsID8gY2hhbmdlLmZpbmFsLnNjYWxlIDogdW5kZWZpbmVkXG4gIH07XG5cbiAgLy8gY29sbGVjdCB0aGUgc2NhbGUgb2JqZWN0cyB0byBzY2FsZSB0aGUgaW5pdGlhbC9maW5hbCB2YWx1ZXNcbiAgY29uc3Qgc2NhbGVzID0ge1xuICAgIGluaXRpYWw6IGNvbXBTdGF0ZS5zY2FsZSxcbiAgICBmaW5hbDogY29weTIoY29tcFN0YXRlLnNjYWxlKVxuICB9O1xuXG4gIGlmICghKGNoYW5nZS5zY2FsZSA9PT0gZmFsc2UpKSB7XG4gICAgaWYgKCFzY05hbWVzLmZpbmFsKSB7XG4gICAgICBzY2FsZXMuZmluYWwgPSB7fTtcbiAgICB9IGVsc2UgaWYgKGNoYW5nZS5zY2FsZSAmJiBjaGFuZ2Uuc2NhbGUuZGF0YSA9PT0gZmFsc2UpIHtcbiAgICAgIHNjYWxlcy5maW5hbFtzY05hbWVzLmZpbmFsXSA9IGRhdGFQcmVzZXJ2ZWRTY2FsZShcbiAgICAgICAgcmF3SW5mby5zVmlzLnNwZWMsXG4gICAgICAgIHJhd0luZm8uZVZpcy5zcGVjLFxuICAgICAgICBzY05hbWVzLmZpbmFsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2FsZXMuZmluYWxbc2NOYW1lcy5maW5hbF0gPSBlVmlldy5fcnVudGltZS5zY2FsZXNbc2NOYW1lcy5maW5hbF1cbiAgICAgICAgPyBlVmlldy5fcnVudGltZS5zY2FsZXNbc2NOYW1lcy5maW5hbF0udmFsdWVcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgbGV0IHNhbWVEb21haW5EaW1lbnNpb24gPSBnZXQoY2hhbmdlLCBcInNjYWxlXCIsIFwiZG9tYWluRGltZW5zaW9uXCIpO1xuICBpZiAodHlwZW9mIHNhbWVEb21haW5EaW1lbnNpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICBzYW1lRG9tYWluRGltZW5zaW9uID1cbiAgICAgIHNhbWVEb21haW5EaW1lbnNpb24gPT09IFwic2FtZVwiXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6IHNhbWVEb21haW5EaW1lbnNpb24gPT09IFwiZGlmZlwiXG4gICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICB9XG4gIGlmIChpc1JlbW92ZSB8fCBpc0FkZCkge1xuICAgIHNhbWVEb21haW5EaW1lbnNpb24gPSBmYWxzZTtcbiAgfSBlbHNlIGlmIChzYW1lRG9tYWluRGltZW5zaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoY2hhbmdlLnNjYWxlID09PSBmYWxzZSkge1xuICAgICAgc2FtZURvbWFpbkRpbWVuc2lvbiA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNjYWxlRGVmcyA9IHtcbiAgICAgICAgaW5pdGlhbDogcmF3SW5mby5zVmlzLnNwZWMuc2NhbGVzLmZpbmQoXG4gICAgICAgICAgc2NhbGVEZWYgPT4gc2NhbGVEZWYubmFtZSA9PT0gc2NOYW1lcy5pbml0aWFsXG4gICAgICAgICksXG4gICAgICAgIGZpbmFsOiByYXdJbmZvLmVWaXMuc3BlYy5zY2FsZXMuZmluZChcbiAgICAgICAgICBzY2FsZURlZiA9PiBzY2FsZURlZi5uYW1lID09PSBzY05hbWVzLmZpbmFsXG4gICAgICAgIClcbiAgICAgIH07XG4gICAgICBzYW1lRG9tYWluRGltZW5zaW9uID0gZGVlcEVxdWFsKFxuICAgICAgICBzY2FsZURlZnMuaW5pdGlhbC5kb21haW4sXG4gICAgICAgIHNjYWxlRGVmcy5maW5hbC5kb21haW5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2lnbmFscyA9IHtcbiAgICBpbml0aWFsOiBjb21wU3RhdGUuc2lnbmFsXG4gIH07XG4gIGNvbnN0IHNpZ25hbHNGaW5hbCA9IFtcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwicGFkZGluZ1wiXS5yZWR1Y2UoKGFjYywgc2dOYW1lKSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hhbmdlLnNpZ25hbCkpIHtcbiAgICAgIGlmIChjaGFuZ2Uuc2lnbmFsLmluZGV4T2Yoc2dOYW1lKSA+PSAwKSB7XG4gICAgICAgIGFjY1tzZ05hbWVdID0gZVZpZXcuc2lnbmFsKHNnTmFtZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlLnNpZ25hbCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfVxuICAgIGFjY1tzZ05hbWVdID0gZVZpZXcuc2lnbmFsKHNnTmFtZSk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICBzaWduYWxzLmZpbmFsID0gT2JqZWN0LmFzc2lnbih7fSwgc2lnbmFscy5pbml0aWFsLCBzaWduYWxzRmluYWwpO1xuXG4gIGNvbnN0IGFsbEVuY29kZXMgPSB7fTtcblxuICBjb25zdCBzdWJDb21wcyA9IHtcbiAgICB0aWNrczogZG9UaWNrcyxcbiAgICBsYWJlbHM6IGRvTGFiZWxzLFxuICAgIHRpdGxlOiBkb1RpdGxlLFxuICAgIGF4aXM6IGRvQXhpc0csXG4gICAgZ3JpZDogZG9HcmlkLFxuICAgIGRvbWFpbjogZG9Eb21haW5cbiAgfTtcbiAgY29uc3QgYXhpc0dEYXR1bUZpbmFsID0gY2hhbmdlLmZpbmFsXG4gICAgPyBmaW5kQ29tcChlVmlldy5zY2VuZWdyYXBoKCkucm9vdCwgY2hhbmdlLmNvbXBOYW1lLCBcImF4aXNcIilbMF0uaXRlbXNbMF1cbiAgICA6IHVuZGVmaW5lZDtcbiAgY29uc3QgYXhpc0dFbmNvZGVCYXNlRmluYWwgPSBheGlzR0RhdHVtRmluYWxcbiAgICA/IHtcbiAgICAgIHg6IHsgdmFsdWU6IGF4aXNHRGF0dW1GaW5hbC54IH0sXG4gICAgICB5OiB7IHZhbHVlOiBheGlzR0RhdHVtRmluYWwueSB9XG4gICAgfVxuICAgIDoge307XG5cbiAgT2JqZWN0LmtleXMoc3ViQ29tcHMpLmZvckVhY2goc3ViQ29tcCA9PiB7XG4gICAgY29uc3QgbWFudWFsRW5jb2RlID1cbiAgICAgIGNoYW5nZS5lbmNvZGUgJiYgY2hhbmdlLmVuY29kZVtzdWJDb21wXSA/IGNoYW5nZS5lbmNvZGVbc3ViQ29tcF0gOiB7fTtcbiAgICBhbGxFbmNvZGVzW3N1YkNvbXBdID0gZ2V0QXhpc1N1YkNvbXBFbmNvZGVzKHN1YkNvbXAsIG1hbnVhbEVuY29kZSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldEF4aXNTdWJDb21wRW5jb2RlcyhzdWJDb21wb25lbnQsIG1hbnVhbEVuY29kZSkge1xuICAgIGNvbnN0IGVuY29kZXMgPSB7XG4gICAgICBpbml0aWFsOiBjb3B5KGNvbXBTdGF0ZS5lbmNvZGVbc3ViQ29tcG9uZW50XSB8fCB7fSksXG4gICAgICBmaW5hbDogY29weShjb21wU3RhdGUuZW5jb2RlW3N1YkNvbXBvbmVudF0gfHwge30pXG4gICAgfTtcblxuICAgIGlmIChzdWJDb21wc1tzdWJDb21wb25lbnRdICE9PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZW5jb2RlcztcbiAgICB9XG5cbiAgICBjb25zdCBzdWJDb21wRW5jb2RlID0ge1xuICAgICAgaW5pdGlhbDpcbiAgICAgICAgY2hhbmdlLmluaXRpYWwgJiZcbiAgICAgICAgY2hhbmdlLmluaXRpYWwuZW5jb2RlICYmXG4gICAgICAgIGNoYW5nZS5pbml0aWFsLmVuY29kZVtzdWJDb21wb25lbnRdXG4gICAgICAgICAgPyBjaGFuZ2UuaW5pdGlhbC5lbmNvZGVbc3ViQ29tcG9uZW50XS51cGRhdGVcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGZpbmFsOlxuICAgICAgICBjaGFuZ2UuZmluYWwgJiYgY2hhbmdlLmZpbmFsLmVuY29kZSAmJiBjaGFuZ2UuZmluYWwuZW5jb2RlW3N1YkNvbXBvbmVudF1cbiAgICAgICAgICA/IGNoYW5nZS5maW5hbC5lbmNvZGVbc3ViQ29tcG9uZW50XS51cGRhdGVcbiAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICBlbmNvZGVzLmluaXRpYWwuZW50ZXIgPSBPYmplY3QuYXNzaWduKFxuICAgICAge30sXG4gICAgICAvLyBkZWZhdWx0QXhpc0VuY29kZS5pbml0aWFsLFxuICAgICAgREVGQVVMVF9FTkNPREUuYXhpc1tzdWJDb21wb25lbnRdKHNhbWVEb21haW5EaW1lbnNpb24gPyBjaGFuZ2UuaW5pdGlhbCA6IGNoYW5nZS5maW5hbClcbiAgICAgICAgLnVwZGF0ZSxcbiAgICAgIHNhbWVEb21haW5EaW1lbnNpb24gPyBzdWJDb21wRW5jb2RlLmluaXRpYWwgOiBzdWJDb21wRW5jb2RlLmZpbmFsIHx8IHt9LFxuICAgICAgREVGQVVMVF9FTkNPREUubWFyay5lbnRlcixcbiAgICAgIGNvbXBTdGF0ZS5lbmNvZGUuZW50ZXIsXG4gICAgICBtYW51YWxFbmNvZGUgJiYgbWFudWFsRW5jb2RlLmVudGVyID8gbWFudWFsRW5jb2RlLmVudGVyLmluaXRpYWwgOiB7fVxuICAgICk7XG4gICAgaWYgKG1hbnVhbEVuY29kZSAmJiBtYW51YWxFbmNvZGUuZW50ZXIgPT09IGZhbHNlKSB7XG4gICAgICBlbmNvZGVzLmZpbmFsLmVudGVyID0gZW5jb2Rlcy5pbml0aWFsLmVudGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGVzLmZpbmFsLmVudGVyID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIC8vIGRlZmF1bHRBeGlzRW5jb2RlLmZpbmFsLFxuICAgICAgICBERUZBVUxUX0VOQ09ERS5heGlzW3N1YkNvbXBvbmVudF0oY2hhbmdlLmZpbmFsKS51cGRhdGUsXG4gICAgICAgIHN1YkNvbXBFbmNvZGUuZmluYWwgPyBzdWJDb21wRW5jb2RlLmZpbmFsIDoge30sXG4gICAgICAgIG1hbnVhbEVuY29kZSA/IG1hbnVhbEVuY29kZS5lbnRlciA6IHt9LFxuICAgICAgICBjb21wdXRlS2VwdEVuY29kZShtYW51YWxFbmNvZGUsIGVuY29kZXMuaW5pdGlhbCwgXCJlbnRlclwiKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBlbmNvZGVzLmluaXRpYWwuZXhpdCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIC8vIGRlZmF1bHRBeGlzRW5jb2RlLmluaXRpYWwsXG4gICAgICBERUZBVUxUX0VOQ09ERS5heGlzW3N1YkNvbXBvbmVudF0oY2hhbmdlLmluaXRpYWwpLnVwZGF0ZSxcbiAgICAgIHN1YkNvbXBFbmNvZGUuaW5pdGlhbCA/IHN1YkNvbXBFbmNvZGUuaW5pdGlhbCA6IHt9LFxuICAgICAgY29tcFN0YXRlLmVuY29kZS5leGl0IHx8IGNvbXBTdGF0ZS5lbmNvZGUudXBkYXRlXG4gICAgKTtcbiAgICBpZiAobWFudWFsRW5jb2RlICYmIG1hbnVhbEVuY29kZS5leGl0ID09PSBmYWxzZSkge1xuICAgICAgZW5jb2Rlcy5maW5hbC5leGl0ID0gZW5jb2Rlcy5pbml0aWFsLmV4aXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kZXMuZmluYWwuZXhpdCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICAvLyBkZWZhdWx0QXhpc0VuY29kZS5maW5hbCxcbiAgICAgICAgREVGQVVMVF9FTkNPREUuYXhpc1tzdWJDb21wb25lbnRdKFxuICAgICAgICAgIHNhbWVEb21haW5EaW1lbnNpb24gPyBjaGFuZ2UuZmluYWwgOiBjaGFuZ2UuaW5pdGlhbFxuICAgICAgICApLnVwZGF0ZSxcbiAgICAgICAgc2FtZURvbWFpbkRpbWVuc2lvbiA/IHN1YkNvbXBFbmNvZGUuZmluYWwgOiBzdWJDb21wRW5jb2RlLmluaXRpYWwgfHwge30sXG4gICAgICAgIERFRkFVTFRfRU5DT0RFLm1hcmsuZXhpdCxcbiAgICAgICAgbWFudWFsRW5jb2RlID8gbWFudWFsRW5jb2RlLmV4aXQgOiB7fSxcbiAgICAgICAgY29tcHV0ZUtlcHRFbmNvZGUobWFudWFsRW5jb2RlLCBlbmNvZGVzLmluaXRpYWwsIFwiZXhpdFwiKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBlbmNvZGVzLmluaXRpYWwudXBkYXRlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAgLy8gZGVmYXVsdEF4aXNFbmNvZGUuaW5pdGlhbCxcbiAgICAgIERFRkFVTFRfRU5DT0RFLmF4aXNbc3ViQ29tcG9uZW50XShjaGFuZ2UuaW5pdGlhbCkudXBkYXRlLFxuICAgICAgc3ViQ29tcEVuY29kZS5pbml0aWFsIHx8IHt9LFxuICAgICAgZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZVxuICAgICk7XG5cbiAgICBpZiAobWFudWFsRW5jb2RlICYmIG1hbnVhbEVuY29kZS51cGRhdGUgPT09IGZhbHNlKSB7XG4gICAgICBlbmNvZGVzLmZpbmFsLnVwZGF0ZSA9IGVuY29kZXMuaW5pdGlhbC51cGRhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kZXMuZmluYWwudXBkYXRlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIC8vIGRlZmF1bHRBeGlzRW5jb2RlLmZpbmFsLFxuICAgICAgICBzdWJDb21wb25lbnQgPT09IFwiYXhpc1wiID8gYXhpc0dFbmNvZGVCYXNlRmluYWwgOiB7fSxcbiAgICAgICAgREVGQVVMVF9FTkNPREUuYXhpc1tzdWJDb21wb25lbnRdKGNoYW5nZS5maW5hbCkudXBkYXRlLFxuICAgICAgICBzdWJDb21wRW5jb2RlLmZpbmFsIHx8IHt9LFxuICAgICAgICBtYW51YWxFbmNvZGUgPyBtYW51YWxFbmNvZGUudXBkYXRlIDoge30sXG4gICAgICAgIGNvbXB1dGVLZXB0RW5jb2RlKG1hbnVhbEVuY29kZSwgZW5jb2Rlcy5pbml0aWFsLCBcInVwZGF0ZVwiKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZXM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVuY29kZXM6IGFsbEVuY29kZXMsXG4gICAgc2NhbGVzLFxuICAgIHNpZ25hbHMsXG4gICAgc2FtZURvbWFpbkRpbWVuc2lvblxuICB9O1xufSIsImltcG9ydCB7IGRhdGFQcmVzZXJ2ZWRTY2FsZSwgY29tcHV0ZUtlcHRFbmNvZGUgfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBjb3B5MiwgZ2V0LCBkZWVwRXF1YWwgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC91dGlsXCI7XG5pbXBvcnQgeyBERUZBVUxUX0VOQ09ERSB9IGZyb20gXCIuLi8uLi8uLi9kZWZhdWx0XCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGUocmF3SW5mbywgc3RlcCwgbGFzdFN0YXRlKSB7XG4gIGNvbnN0IExFR0VORF9DSEFOTkVMUyA9IFtcbiAgICBcImZpbGxcIixcbiAgICBcIm9wYWNpdHlcIixcbiAgICBcInNoYXBlXCIsXG4gICAgXCJzaXplXCIsXG4gICAgXCJzdHJva2VcIixcbiAgICBcInN0cm9rZURhc2hcIixcbiAgICBcInN0cm9rZVdpZHRoXCJcbiAgXTtcbiAgY29uc3QgeyBjaGFuZ2UgfSA9IHN0ZXA7XG4gIGNvbnN0IGVWaWV3ID0gcmF3SW5mby5lVmlzLnZpZXc7XG5cbiAgbGV0IGRvVGl0bGU7XG4gIGxldCBkb1N5bWJvbHM7XG4gIGxldCBkb0xhYmVscztcbiAgbGV0IGRvRW50cmllcztcbiAgbGV0IGRvR3JhZGllbnQ7XG4gIGxldCBkb0xlZ2VuZEc7XG4gIGRvVGl0bGUgPSBkb1N5bWJvbHMgPSBkb0xhYmVscyA9IGRvRW50cmllcyA9IGRvR3JhZGllbnQgPSBkb0xlZ2VuZEcgPSB0cnVlO1xuICBjb25zdCBpc1JlbW92ZSA9ICFsYXN0U3RhdGUuaXNSZW1vdmUgJiYgIWNoYW5nZS5maW5hbDtcbiAgY29uc3QgaXNBZGQgPSAhbGFzdFN0YXRlLmlzQWRkICYmICFjaGFuZ2UuaW5pdGlhbDtcbiAgaWYgKGNoYW5nZS5lbmNvZGUgPT09IGZhbHNlKSB7XG4gICAgZG9UaXRsZSA9IGRvU3ltYm9scyA9IGRvTGFiZWxzID0gZG9FbnRyaWVzID0gZG9HcmFkaWVudCA9IGRvTGVnZW5kRyA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGNoYW5nZS5lbmNvZGUpIHtcbiAgICBkb1RpdGxlID0gIShjaGFuZ2UuZW5jb2RlLnRpdGxlID09PSBmYWxzZSk7XG4gICAgZG9TeW1ib2xzID0gIShjaGFuZ2UuZW5jb2RlLnN5bWJvbHMgPT09IGZhbHNlKTtcbiAgICBkb0xhYmVscyA9ICEoY2hhbmdlLmVuY29kZS5sYWJlbHMgPT09IGZhbHNlKTtcbiAgICBkb0VudHJpZXMgPSAhKGNoYW5nZS5lbmNvZGUuZW50cmllcyA9PT0gZmFsc2UpO1xuICAgIGRvR3JhZGllbnQgPSAhKGNoYW5nZS5lbmNvZGUuZ3JhZGllbnQgPT09IGZhbHNlKTtcbiAgICBkb0xlZ2VuZEcgPSAhKGNoYW5nZS5lbmNvZGUubGVnZW5kID09PSBmYWxzZSk7XG4gIH1cblxuICBjb25zdCBsZWdlbmRUeXBlcyA9IHtcbiAgICBpbml0aWFsOiBsYXN0U3RhdGUubGVnZW5kVHlwZSxcbiAgICBmaW5hbDpcbiAgICAgIGNoYW5nZS5zY2FsZSA9PT0gZmFsc2VcbiAgICAgICAgPyBsYXN0U3RhdGUubGVnZW5kVHlwZVxuICAgICAgICA6IGNoYW5nZS5maW5hbFxuICAgICAgICAgID8gY2hhbmdlLmZpbmFsLnR5cGVcbiAgICAgICAgICA6IHVuZGVmaW5lZFxuICB9O1xuXG4gIGNvbnN0IHNjTmFtZXMgPSB7XG4gICAgaW5pdGlhbDogW10sXG4gICAgZmluYWw6IFtdXG4gIH07XG4gIExFR0VORF9DSEFOTkVMUy5mb3JFYWNoKGNoYW5uZWwgPT4ge1xuICAgIGlmIChjaGFuZ2UuaW5pdGlhbCAmJiBjaGFuZ2UuaW5pdGlhbFtjaGFubmVsXSkge1xuICAgICAgc2NOYW1lcy5pbml0aWFsLnB1c2goY2hhbmdlLmluaXRpYWxbY2hhbm5lbF0pO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlLmZpbmFsICYmIGNoYW5nZS5maW5hbFtjaGFubmVsXSkge1xuICAgICAgc2NOYW1lcy5maW5hbC5wdXNoKGNoYW5nZS5maW5hbFtjaGFubmVsXSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBjb2xsZWN0IHRoZSBzY2FsZSBvYmplY3RzIHRvIHNjYWxlIHRoZSBpbml0aWFsL2ZpbmFsIHZhbHVlc1xuICBjb25zdCBzY2FsZXMgPSB7XG4gICAgaW5pdGlhbDogbGFzdFN0YXRlLnNjYWxlLFxuICAgIGZpbmFsOiBjb3B5MihsYXN0U3RhdGUuc2NhbGUpXG4gIH07XG5cbiAgaWYgKGNoYW5nZS5zY2FsZSAhPT0gZmFsc2UpIHtcbiAgICBsZXQgZmluYWxTY2FsZU5hbWVzID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hhbmdlLnNjYWxlKSkge1xuICAgICAgZmluYWxTY2FsZU5hbWVzID0gY2hhbmdlLnNjYWxlO1xuICAgIH0gZWxzZSBpZiAoY2hhbmdlLnNjYWxlID09PSB0cnVlIHx8IGlzQWRkKSB7XG4gICAgICBmaW5hbFNjYWxlTmFtZXMgPSBzY05hbWVzLmZpbmFsO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNoYW5nZS5zY2FsZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgZmluYWxTY2FsZU5hbWVzID0gc2NOYW1lcy5maW5hbC5maWx0ZXIoXG4gICAgICAgIHNjTmFtZSA9PiBjaGFuZ2Uuc2NhbGVbc2NOYW1lXSAhPT0gZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGZpbmFsU2NhbGVOYW1lcy5mb3JFYWNoKHNjTmFtZSA9PiB7XG4gICAgICBpZiAoY2hhbmdlLnNjYWxlW3NjTmFtZV0gJiYgY2hhbmdlLnNjYWxlW3NjTmFtZV0uZGF0YSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc2NhbGVzLmZpbmFsW3NjTmFtZV0gPSBkYXRhUHJlc2VydmVkU2NhbGUoXG4gICAgICAgICAgcmF3SW5mby5zVmlzLnNwZWMsXG4gICAgICAgICAgcmF3SW5mby5lVmlzLnNwZWMsXG4gICAgICAgICAgc2NOYW1lXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY2FsZXMuZmluYWxbc2NOYW1lXSA9IGVWaWV3Ll9ydW50aW1lLnNjYWxlc1tzY05hbWVdXG4gICAgICAgICAgPyBlVmlldy5fcnVudGltZS5zY2FsZXNbc2NOYW1lXS52YWx1ZVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbGV0IHNhbWVEb21haW5EaW1lbnNpb24gPSBnZXQoY2hhbmdlLCBcInNjYWxlXCIsIFwiZG9tYWluRGltZW5zaW9uXCIpO1xuICBpZiAodHlwZW9mIHNhbWVEb21haW5EaW1lbnNpb24gPT09IFwic3RyaW5nXCIpIHtcbiAgICBzYW1lRG9tYWluRGltZW5zaW9uID1cbiAgICAgIHNhbWVEb21haW5EaW1lbnNpb24gPT09IFwic2FtZVwiXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6IHNhbWVEb21haW5EaW1lbnNpb24gPT09IFwiZGlmZlwiXG4gICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICB9XG4gIGlmIChzYW1lRG9tYWluRGltZW5zaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoY2hhbmdlLnNjYWxlID09PSBmYWxzZSkge1xuICAgICAgc2FtZURvbWFpbkRpbWVuc2lvbiA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChpc1JlbW92ZSB8fCBpc0FkZCkge1xuICAgICAgc2FtZURvbWFpbkRpbWVuc2lvbiA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWN0OiBFYWNoIGxlZ2VuZCBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIG11bHRpcGxlIHNjYWxlcyBidXQgdGhlaXIgZG9tYWlucyBhcmUgZXF1YWwuXG4gICAgICBjb25zdCBzY2FsZURlZnMgPSB7XG4gICAgICAgIGluaXRpYWw6IHJhd0luZm8uc1Zpcy5zcGVjLnNjYWxlcy5maW5kKFxuICAgICAgICAgIHNjYWxlRGVmID0+IHNjYWxlRGVmLm5hbWUgPT09IHNjTmFtZXMuaW5pdGlhbFswXVxuICAgICAgICApLFxuICAgICAgICBmaW5hbDogcmF3SW5mby5lVmlzLnNwZWMuc2NhbGVzLmZpbmQoXG4gICAgICAgICAgc2NhbGVEZWYgPT4gc2NhbGVEZWYubmFtZSA9PT0gc2NOYW1lcy5maW5hbFswXVxuICAgICAgICApXG4gICAgICB9O1xuICAgICAgc2FtZURvbWFpbkRpbWVuc2lvbiA9IGRlZXBFcXVhbChcbiAgICAgICAgc2NhbGVEZWZzLmluaXRpYWwuZG9tYWluLFxuICAgICAgICBzY2FsZURlZnMuZmluYWwuZG9tYWluXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNpZ25hbHMgPSB7XG4gICAgaW5pdGlhbDogbGFzdFN0YXRlLnNpZ25hbFxuICB9O1xuICBjb25zdCBzaWduYWxzRmluYWwgPSBbXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcInBhZGRpbmdcIl0ucmVkdWNlKChhY2MsIHNnTmFtZSkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoYW5nZS5zaWduYWwpKSB7XG4gICAgICBpZiAoY2hhbmdlLnNpZ25hbC5pbmRleE9mKHNnTmFtZSkgPj0gMCkge1xuICAgICAgICBhY2Nbc2dOYW1lXSA9IGVWaWV3LnNpZ25hbChzZ05hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9XG4gICAgaWYgKGNoYW5nZS5zaWduYWwgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH1cbiAgICBhY2Nbc2dOYW1lXSA9IGVWaWV3LnNpZ25hbChzZ05hbWUpO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgc2lnbmFscy5maW5hbCA9IE9iamVjdC5hc3NpZ24oe30sIHNpZ25hbHMuaW5pdGlhbCwgc2lnbmFsc0ZpbmFsKTtcblxuICBjb25zdCBhbGxFbmNvZGVzID0ge307XG5cbiAgY29uc3Qgc3ViQ29tcHMgPSB7XG4gICAgZ3JhZGllbnQ6IGRvR3JhZGllbnQsXG4gICAgYmFuZHM6IGRvR3JhZGllbnQsXG4gICAgcGFpcnM6IGRvU3ltYm9scyB8fCBkb0xhYmVscyxcbiAgICBsYWJlbHM6IGRvTGFiZWxzLFxuICAgIHRpdGxlOiBkb1RpdGxlLFxuICAgIGxlZ2VuZDogZG9MZWdlbmRHLFxuICAgIGVudHJpZXM6IGRvRW50cmllcyxcbiAgICBzeW1ib2xzOiBkb1N5bWJvbHNcbiAgfTtcbiAgT2JqZWN0LmtleXMoc3ViQ29tcHMpLmZvckVhY2goc3ViQ29tcCA9PiB7XG4gICAgaWYgKHN1YkNvbXBzW3N1YkNvbXBdKSB7XG4gICAgICBjb25zdCBtYW51YWxFbmNvZGUgPVxuICAgICAgICBjaGFuZ2UuZW5jb2RlICYmIGNoYW5nZS5lbmNvZGVbc3ViQ29tcF0gPyBjaGFuZ2UuZW5jb2RlW3N1YkNvbXBdIDoge307XG4gICAgICBhbGxFbmNvZGVzW3N1YkNvbXBdID0gZ2V0TGVnZW5kU3ViQ29tcEVuY29kZXMoXG4gICAgICAgIHN1YkNvbXAsXG4gICAgICAgIG1hbnVhbEVuY29kZVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldExlZ2VuZFN1YkNvbXBFbmNvZGVzKHN1YkNvbXBvbmVudCwgbWFudWFsRW5jb2RlKSB7XG4gICAgY29uc3QgZGVmYXVsdFN1YmNvbXBFbmNvZGUgPSB7XG4gICAgICBpbml0aWFsOiBERUZBVUxUX0VOQ09ERS5sZWdlbmRbc3ViQ29tcG9uZW50XShjaGFuZ2UuaW5pdGlhbCkudXBkYXRlLFxuICAgICAgZmluYWw6IERFRkFVTFRfRU5DT0RFLmxlZ2VuZFtzdWJDb21wb25lbnRdKGNoYW5nZS5maW5hbCkudXBkYXRlXG4gICAgfTtcbiAgICBjb25zdCBjb21wcyA9IGNoYW5nZTtcbiAgICBjb25zdCBjb21wRW5jb2RlID0ge307XG4gICAgW1wiaW5pdGlhbFwiLCBcImZpbmFsXCJdLmZvckVhY2god2hpY2ggPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBjb21wc1t3aGljaF0gJiZcbiAgICAgICAgY29tcHNbd2hpY2hdLmVuY29kZSAmJlxuICAgICAgICBjb21wc1t3aGljaF0uZW5jb2RlW3N1YkNvbXBvbmVudF1cbiAgICAgICkge1xuICAgICAgICBjb21wRW5jb2RlW3doaWNoXSA9IGNvbXBzW3doaWNoXS5lbmNvZGVbc3ViQ29tcG9uZW50XS51cGRhdGU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBlbmNvZGVzID0ge1xuICAgICAgaW5pdGlhbDogY29weTIoXG4gICAgICAgIGxhc3RTdGF0ZS5lbmNvZGUgJiYgbGFzdFN0YXRlLmVuY29kZVtzdWJDb21wb25lbnRdXG4gICAgICAgICAgPyBsYXN0U3RhdGUuZW5jb2RlW3N1YkNvbXBvbmVudF1cbiAgICAgICAgICA6IHsgdXBkYXRlOiBkZWZhdWx0U3ViY29tcEVuY29kZS5pbml0aWFsIH1cbiAgICAgICksXG4gICAgICBmaW5hbDogY29weTIoXG4gICAgICAgIGxhc3RTdGF0ZS5lbmNvZGUgJiYgbGFzdFN0YXRlLmVuY29kZVtzdWJDb21wb25lbnRdXG4gICAgICAgICAgPyBsYXN0U3RhdGUuZW5jb2RlW3N1YkNvbXBvbmVudF1cbiAgICAgICAgICA6IHsgdXBkYXRlOiBkZWZhdWx0U3ViY29tcEVuY29kZS5maW5hbCB9XG4gICAgICApXG4gICAgfTtcblxuICAgIGVuY29kZXMuaW5pdGlhbC5lbnRlciA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7fSxcbiAgICAgIHNhbWVEb21haW5EaW1lbnNpb25cbiAgICAgICAgPyBkZWZhdWx0U3ViY29tcEVuY29kZS5pbml0aWFsXG4gICAgICAgIDogZGVmYXVsdFN1YmNvbXBFbmNvZGUuZmluYWwsXG4gICAgICBzYW1lRG9tYWluRGltZW5zaW9uID8gY29tcEVuY29kZS5pbml0aWFsIDogY29tcEVuY29kZS5maW5hbCxcbiAgICAgIERFRkFVTFRfRU5DT0RFLm1hcmsuZW50ZXIsXG4gICAgICBsYXN0U3RhdGUuZW5jb2RlLmVudGVyLFxuICAgICAgbWFudWFsRW5jb2RlICYmIG1hbnVhbEVuY29kZS5lbnRlciA/IG1hbnVhbEVuY29kZS5lbnRlci5pbml0aWFsIDoge31cbiAgICApO1xuICAgIGlmIChtYW51YWxFbmNvZGUgJiYgbWFudWFsRW5jb2RlLmVudGVyID09PSBmYWxzZSkge1xuICAgICAgZW5jb2Rlcy5maW5hbC5lbnRlciA9IGVuY29kZXMuaW5pdGlhbC5lbnRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2Rlcy5maW5hbC5lbnRlciA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICBkZWZhdWx0U3ViY29tcEVuY29kZS5maW5hbCxcbiAgICAgICAgY29tcEVuY29kZS5maW5hbCxcbiAgICAgICAgbWFudWFsRW5jb2RlID8gbWFudWFsRW5jb2RlLmVudGVyIDoge30sXG4gICAgICAgIGNvbXB1dGVLZXB0RW5jb2RlKG1hbnVhbEVuY29kZSwgZW5jb2Rlcy5pbml0aWFsLCBcImVudGVyXCIpXG4gICAgICApO1xuICAgIH1cblxuICAgIGVuY29kZXMuaW5pdGlhbC5leGl0ID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAgZGVmYXVsdFN1YmNvbXBFbmNvZGUuaW5pdGlhbCxcbiAgICAgIGNvbXBFbmNvZGUuaW5pdGlhbCxcbiAgICAgIGxhc3RTdGF0ZS5lbmNvZGUuZXhpdCB8fCBsYXN0U3RhdGUuZW5jb2RlLnVwZGF0ZVxuICAgICk7XG5cbiAgICBpZiAobWFudWFsRW5jb2RlICYmIG1hbnVhbEVuY29kZS5leGl0ID09PSBmYWxzZSkge1xuICAgICAgZW5jb2Rlcy5maW5hbC5leGl0ID0gZW5jb2Rlcy5pbml0aWFsLmV4aXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kZXMuZmluYWwuZXhpdCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICBzYW1lRG9tYWluRGltZW5zaW9uXG4gICAgICAgICAgPyBkZWZhdWx0U3ViY29tcEVuY29kZS5maW5hbFxuICAgICAgICAgIDogZGVmYXVsdFN1YmNvbXBFbmNvZGUuaW5pdGlhbCxcbiAgICAgICAgc2FtZURvbWFpbkRpbWVuc2lvbiA/IGNvbXBFbmNvZGUuZmluYWwgOiBjb21wRW5jb2RlLmluaXRpYWwsXG4gICAgICAgIERFRkFVTFRfRU5DT0RFLm1hcmsuZXhpdCxcbiAgICAgICAgbWFudWFsRW5jb2RlID8gbWFudWFsRW5jb2RlLmV4aXQgOiB7fSxcbiAgICAgICAgY29tcHV0ZUtlcHRFbmNvZGUobWFudWFsRW5jb2RlLCBlbmNvZGVzLmluaXRpYWwsIFwiZXhpdFwiKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBlbmNvZGVzLmluaXRpYWwudXBkYXRlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAgZGVmYXVsdFN1YmNvbXBFbmNvZGUuaW5pdGlhbCxcbiAgICAgIGNvbXBFbmNvZGUuaW5pdGlhbCxcbiAgICAgIGVuY29kZXMuaW5pdGlhbC51cGRhdGVcbiAgICApO1xuXG4gICAgaWYgKG1hbnVhbEVuY29kZSAmJiBtYW51YWxFbmNvZGUudXBkYXRlID09PSBmYWxzZSkge1xuICAgICAgZW5jb2Rlcy5maW5hbC51cGRhdGUgPSBlbmNvZGVzLmluaXRpYWwudXBkYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGVzLmZpbmFsLnVwZGF0ZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICBkZWZhdWx0U3ViY29tcEVuY29kZS5maW5hbCxcbiAgICAgICAgY29tcEVuY29kZS5maW5hbCxcbiAgICAgICAgbWFudWFsRW5jb2RlID8gbWFudWFsRW5jb2RlLnVwZGF0ZSA6IHt9LFxuICAgICAgICBjb21wdXRlS2VwdEVuY29kZShtYW51YWxFbmNvZGUsIGVuY29kZXMuaW5pdGlhbCwgXCJ1cGRhdGVcIilcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuY29kZXM7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVuY29kZXM6IGFsbEVuY29kZXMsXG4gICAgc2NhbGVzLFxuICAgIHNpZ25hbHMsXG4gICAgbGVnZW5kVHlwZXMsXG4gICAgc2FtZURvbWFpbkRpbWVuc2lvbixcbiAgICBpc0FkZCxcbiAgICBpc1JlbW92ZVxuICB9O1xufSIsImltcG9ydCB7IGNvcHkgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC91dGlsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlKHJhd0luZm8sIHN0ZXAsIGxhc3RTdGF0ZSkge1xuICBjb25zdCB7IGNoYW5nZSB9ID0gc3RlcDtcbiAgY29uc3Qgc2lnbmFscyA9IHtcbiAgICBpbml0aWFsOiBsYXN0U3RhdGUuc2lnbmFsXG4gIH07XG4gIGNvbnN0IGVuY29kZXMgPSB7XG4gICAgaW5pdGlhbDogY29weShsYXN0U3RhdGUuZW5jb2RlKSxcbiAgICBmaW5hbDogY29weShsYXN0U3RhdGUuZW5jb2RlKVxuICB9O1xuXG4gIGNvbnN0IHNpZ25hbHNGaW5hbCA9IHt9O1xuICBjb25zdCBmaW5hbFNpZ25hbE5hbWVzID0gQXJyYXkuaXNBcnJheShjaGFuZ2Uuc2lnbmFsKVxuICAgID8gY2hhbmdlLnNpZ25hbFxuICAgIDogW1wid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJwYWRkaW5nXCJdO1xuXG4gIGZpbmFsU2lnbmFsTmFtZXMuZm9yRWFjaChzZ05hbWUgPT4ge1xuICAgIHNpZ25hbHNGaW5hbFtzZ05hbWVdID0gcmF3SW5mby5lVmlzLnZpZXcuc2lnbmFsKHNnTmFtZSk7XG4gIH0pO1xuXG4gIHNpZ25hbHMuZmluYWwgPSB7IC4uLnNpZ25hbHMuaW5pdGlhbCwgLi4uc2lnbmFsc0ZpbmFsIH07XG5cbiAgaWYgKHN0ZXAuY2hhbmdlLnNpZ25hbCAhPT0gZmFsc2UpIHtcbiAgICBpZiAoZmluYWxTaWduYWxOYW1lcy5pbmRleE9mKFwiaGVpZ2h0XCIpID49IDApIHtcbiAgICAgIGVuY29kZXMuZmluYWwuc3ZnLnkgPSB7IHZhbHVlOiBjaGFuZ2UuZmluYWwueSArIGNoYW5nZS5maW5hbC5wYWRkaW5nIH07XG4gICAgICBlbmNvZGVzLmZpbmFsLnN2Zy5oZWlnaHQgPSB7XG4gICAgICAgIHZhbHVlOiBjaGFuZ2UuZmluYWwudmlld0hlaWdodCArIGNoYW5nZS5maW5hbC5wYWRkaW5nICogMlxuICAgICAgfTtcbiAgICAgIGVuY29kZXMuZmluYWwucm9vdC5oZWlnaHQgPSB7IHZhbHVlOiBzaWduYWxzLmZpbmFsLmhlaWdodCB9O1xuICAgIH1cbiAgICBpZiAoZmluYWxTaWduYWxOYW1lcy5pbmRleE9mKFwid2lkdGhcIikgPj0gMCkge1xuICAgICAgZW5jb2Rlcy5maW5hbC5zdmcueCA9IHsgdmFsdWU6IGNoYW5nZS5maW5hbC54ICsgY2hhbmdlLmZpbmFsLnBhZGRpbmcgfTtcbiAgICAgIGVuY29kZXMuZmluYWwuc3ZnLndpZHRoID0ge1xuICAgICAgICB2YWx1ZTogY2hhbmdlLmZpbmFsLnZpZXdXaWR0aCArIGNoYW5nZS5maW5hbC5wYWRkaW5nICogMlxuICAgICAgfTtcbiAgICAgIGVuY29kZXMuZmluYWwucm9vdC53aWR0aCA9IHsgdmFsdWU6IHNpZ25hbHMuZmluYWwud2lkdGggfTtcbiAgICB9XG4gIH1cblxuICAvLyBUb2RvIEVuY29kZXMgZm9yIHZpZXcgY29tcFxuICBjb25zdCBmUm9vdERhdHVtID0gcmF3SW5mby5lVmlzLnZpZXcuX3J1bnRpbWUuZGF0YS5yb290LnZhbHVlcy52YWx1ZVswXTtcbiAgZW5jb2Rlcy5maW5hbC5yb290LmZpbGwgPSB7IHZhbHVlOiBmUm9vdERhdHVtLmZpbGwgfTtcbiAgZW5jb2Rlcy5maW5hbC5yb290LnN0cm9rZSA9IHsgdmFsdWU6IGZSb290RGF0dW0uc3Ryb2tlIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzaWduYWxzLFxuICAgIGVuY29kZXNcbiAgfTtcblxufSIsImZ1bmN0aW9uIGdldExlZ2VuZFR5cGUobGVnZW5kQ29tcFNwZWMsIHZpZXcpIHtcbiAgaWYgKGxlZ2VuZENvbXBTcGVjLmZpbGwpIHtcbiAgICBjb25zdCBzY2FsZSA9IHZpZXcuX3J1bnRpbWUuc2NhbGVzW2xlZ2VuZENvbXBTcGVjLmZpbGxdLnZhbHVlO1xuICAgIGlmIChcbiAgICAgIFtcbiAgICAgICAgXCJzZXF1ZW50aWFsLWxpbmVhclwiLFxuICAgICAgICBcImxpbmVhclwiLFxuICAgICAgICBcImxvZ1wiLFxuICAgICAgICBcInBvd1wiLFxuICAgICAgICBcInNxcnRcIixcbiAgICAgICAgXCJzeW1sb2dcIixcbiAgICAgICAgXCJiaW4tb3JkaW5hbFwiXG4gICAgICBdLmluZGV4T2Yoc2NhbGUudHlwZSkgPj0gMFxuICAgICkge1xuICAgICAgaWYgKHNjYWxlLnR5cGUgPT09IFwiYmluLW9yZGluYWxcIikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImdyYWRpZW50XCIsIGlzQmFuZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgdHlwZTogXCJncmFkaWVudFwiIH07XG4gICAgfVxuICB9XG5cbiAgaWYgKGxlZ2VuZENvbXBTcGVjLnN0cm9rZSkge1xuICAgIGNvbnN0IHNjYWxlID0gdmlldy5fcnVudGltZS5zY2FsZXNbbGVnZW5kQ29tcFNwZWMuc3Ryb2tlXS52YWx1ZTtcbiAgICBpZiAoXG4gICAgICBbXG4gICAgICAgIFwic2VxdWVudGlhbC1saW5lYXJcIixcbiAgICAgICAgXCJsaW5lYXJcIixcbiAgICAgICAgXCJsb2dcIixcbiAgICAgICAgXCJwb3dcIixcbiAgICAgICAgXCJzcXJ0XCIsXG4gICAgICAgIFwic3ltbG9nXCIsXG4gICAgICAgIFwiYmluLW9yZGluYWxcIlxuICAgICAgXS5pbmRleE9mKHNjYWxlLnR5cGUpID49IDBcbiAgICApIHtcbiAgICAgIGlmIChzY2FsZS50eXBlID09PSBcImJpbi1vcmRpbmFsXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJncmFkaWVudFwiLCBpc0JhbmQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHR5cGU6IFwiZ3JhZGllbnRcIiB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4geyB0eXBlOiBcInN5bWJvbFwiIH07XG59XG5cbmV4cG9ydCB7IGdldExlZ2VuZFR5cGUgfTtcbiIsImltcG9ydCB7IGNvcHkgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XG5pbXBvcnQgeyBnZXRMZWdlbmRUeXBlIH0gZnJvbSBcIi4uL3V0aWwvdmdTcGVjSGVscGVyXCI7XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudHModmdTcGVjKSB7XG4gIC8vIEJ5IHRyYXZlbGluZyB2Z1NwZWMsIGNvbGxlY3QgdGhlIG1hcmtzLCBheGVzLCBsZWdlbmRzLCBhbmQgc2NhbGVzIHdpdGggdGhlaXIgYm91bmQgZGF0YSBhbmQgZW5jb2RpbmcuXG4gIGNvbnN0IGNvbXBvbmVudHMgPSBbXTtcbiAgZnVuY3Rpb24gY29sbGVjdENvbXAobWFyaywgY3VyckNvbXAsIGlzUm9vdCA9IGZhbHNlKSB7XG4gICAgaWYgKGlzUm9vdCkge1xuICAgICAgbWFyay5uYW1lID0gbWFyay5uYW1lIHx8IFwicm9vdFwiO1xuICAgIH1cbiAgICBsZXQgbmV3Q29tcCA9IGN1cnJDb21wO1xuICAgIGlmIChtYXJrLmF4ZXMpIHtcbiAgICAgIG5ld0NvbXAgPSBuZXdDb21wLmNvbmNhdChcbiAgICAgICAgbWFyay5heGVzLm1hcChkID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY29weShkKSxcbiAgICAgICAgICAgIGNvbXBUeXBlOiBcImF4aXNcIlxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChtYXJrLmxlZ2VuZHMpIHtcbiAgICAgIG5ld0NvbXAgPSBuZXdDb21wLmNvbmNhdChcbiAgICAgICAgbWFyay5sZWdlbmRzLm1hcChkID0+IHsgcmV0dXJuIHsgLi4uY29weShkKSwgIGNvbXBUeXBlOiBcImxlZ2VuZFwiIH07IH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChtYXJrLnNjYWxlcykge1xuICAgICAgbmV3Q29tcCA9IG5ld0NvbXAuY29uY2F0KFxuICAgICAgICBtYXJrLnNjYWxlcy5tYXAoZCA9PiB7IHJldHVybiB7IC4uLmNvcHkoZCksICBjb21wVHlwZTogXCJzY2FsZVwiIH07IH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghaXNSb290KSB7XG4gICAgICBjb25zdCBuZXdNYXJrID0geyAuLi5jb3B5KG1hcmspLCAgY29tcFR5cGU6IFwibWFya1wiIH07XG4gICAgICBkZWxldGUgbmV3TWFyay5tYXJrcztcbiAgICAgIG5ld0NvbXAucHVzaChuZXdNYXJrKTtcbiAgICB9XG5cbiAgICBpZiAobWFyay5tYXJrcykge1xuICAgICAgbmV3Q29tcCA9IG1hcmsubWFya3MucmVkdWNlKChhY2MsIGN1cnIpID0+IHtcbiAgICAgICAgY29uc3Qgc3ViQ29tcHMgPSBjb2xsZWN0Q29tcChcbiAgICAgICAgICB7IC4uLmN1cnIsIHBhcmVudDogKG1hcmsgfHwgXCJyb290XCIpIH0sXG4gICAgICAgICAgW11cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQoc3ViQ29tcHMpO1xuICAgICAgfSwgbmV3Q29tcCk7XG4gICAgfVxuICAgIHJldHVybiBuZXdDb21wO1xuICB9XG5cbiAgcmV0dXJuIGNvbGxlY3RDb21wKGNvcHkodmdTcGVjKSwgY29tcG9uZW50cywgdHJ1ZSk7XG59XG5mdW5jdGlvbiBnZXRDaGFuZ2VzKHNDb21wb25lbnRzLCBlQ29tcG9uZW50cykge1xuICBjb25zdCBJREVOVElGSUVSUyA9IHtcbiAgICBheGlzOiBjb21wID0+XG4gICAgICBjb21wLmVuY29kZSAmJiBjb21wLmVuY29kZS5heGlzID8gY29tcC5lbmNvZGUuYXhpcy5uYW1lIDogY29tcC5zY2FsZSxcbiAgICBsZWdlbmQ6IGNvbXAgPT5cbiAgICAgIGNvbXAuZW5jb2RlICYmIGNvbXAuZW5jb2RlLmxlZ2VuZCA/IGNvbXAuZW5jb2RlLmxlZ2VuZC5uYW1lIDogY29tcC5zY2FsZSxcbiAgICBtYXJrOiBjb21wID0+IGNvbXAubmFtZSxcbiAgICBzY2FsZTogY29tcCA9PiBjb21wLm5hbWVcbiAgfTtcbiAgY29uc3QgbWVyZ2VkID0gW107XG4gIHNDb21wb25lbnRzLmZvckVhY2goc0NvbXAgPT4ge1xuICAgIGNvbnN0IGlkID0gSURFTlRJRklFUlNbc0NvbXAuY29tcFR5cGVdO1xuICAgIGNvbnN0IG1hdGNoZWRJZCA9IGVDb21wb25lbnRzLmZpbmRJbmRleChcbiAgICAgIGVDb21wID0+IHNDb21wLmNvbXBUeXBlID09PSBlQ29tcC5jb21wVHlwZSAmJiBpZChzQ29tcCkgPT09IGlkKGVDb21wKVxuICAgICk7XG4gICAgaWYgKG1hdGNoZWRJZCA+PSAwKSB7XG4gICAgICBtZXJnZWQucHVzaCh7XG4gICAgICAgIGNvbXBUeXBlOiBzQ29tcC5jb21wVHlwZSxcbiAgICAgICAgY29tcE5hbWU6IGlkKHNDb21wKSxcbiAgICAgICAgcGFyZW50OiBzQ29tcC5wYXJlbnQsXG4gICAgICAgIGluaXRpYWw6IHNDb21wLFxuICAgICAgICBmaW5hbDogZUNvbXBvbmVudHMuc3BsaWNlKG1hdGNoZWRJZCwgMSlbMF1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXJnZWQucHVzaCh7XG4gICAgICAgIGNvbXBUeXBlOiBzQ29tcC5jb21wVHlwZSxcbiAgICAgICAgY29tcE5hbWU6IGlkKHNDb21wKSxcbiAgICAgICAgcGFyZW50OiBzQ29tcC5wYXJlbnQsXG4gICAgICAgIGluaXRpYWw6IHNDb21wLFxuICAgICAgICBmaW5hbDogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbWVyZ2VkLmNvbmNhdChcbiAgICBlQ29tcG9uZW50cy5tYXAoZUNvbXAgPT4ge1xuICAgICAgY29uc3QgaWQgPSBJREVOVElGSUVSU1tlQ29tcC5jb21wVHlwZV07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21wVHlwZTogZUNvbXAuY29tcFR5cGUsXG4gICAgICAgIGNvbXBOYW1lOiBpZChlQ29tcCksXG4gICAgICAgIHBhcmVudDogZUNvbXAucGFyZW50LFxuICAgICAgICBpbml0aWFsOiBudWxsLFxuICAgICAgICBmaW5hbDogZUNvbXBcbiAgICAgIH07XG4gICAgfSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0Vmlld0NoYW5nZShyYXdJbmZvKSB7XG4gIHJldHVybiB7XG4gICAgY29tcFR5cGU6IFwidmlld1wiLFxuICAgIGNvbXBOYW1lOiBcImdsb2JhbFwiLFxuXG4gICAgaW5pdGlhbDoge1xuICAgICAgdmlld1dpZHRoOiByYXdJbmZvLnNWaXMudmlldy5fdmlld1dpZHRoLFxuICAgICAgdmlld0hlaWdodDogcmF3SW5mby5zVmlzLnZpZXcuX3ZpZXdIZWlnaHQsXG4gICAgICB3aWR0aDogcmF3SW5mby5zVmlzLnZpZXcud2lkdGgoKSxcbiAgICAgIGhlaWdodDogcmF3SW5mby5zVmlzLnZpZXcuaGVpZ2h0KCksXG4gICAgICB4OiByYXdJbmZvLnNWaXMudmlldy5fb3JpZ2luWzBdLFxuICAgICAgeTogcmF3SW5mby5zVmlzLnZpZXcuX29yaWdpblsxXSxcbiAgICAgIHBhZGRpbmc6IHJhd0luZm8uc1Zpcy5zcGVjLnBhZGRpbmdcbiAgICB9LFxuICAgIGZpbmFsOiB7XG4gICAgICB2aWV3V2lkdGg6IHJhd0luZm8uZVZpcy52aWV3Ll92aWV3V2lkdGgsXG4gICAgICB2aWV3SGVpZ2h0OiByYXdJbmZvLmVWaXMudmlldy5fdmlld0hlaWdodCxcbiAgICAgIHdpZHRoOiByYXdJbmZvLmVWaXMudmlldy53aWR0aCgpLFxuICAgICAgaGVpZ2h0OiByYXdJbmZvLmVWaXMudmlldy5oZWlnaHQoKSxcbiAgICAgIHg6IHJhd0luZm8uZVZpcy52aWV3Ll9vcmlnaW5bMF0sXG4gICAgICB5OiByYXdJbmZvLmVWaXMudmlldy5fb3JpZ2luWzFdLFxuICAgICAgcGFkZGluZzogcmF3SW5mby5lVmlzLnNwZWMucGFkZGluZ1xuICAgIH1cbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBnZXREZWZhdWx0Q2hhbmdlKHN0ZXAsIHJhd0luZm8pIHtcbiAgY29uc3QgY2hhbmdlID0gY29weShzdGVwLmNoYW5nZSB8fCB7fSk7XG4gIGlmIChzdGVwLmNvbXBUeXBlID09PSBcIm1hcmtcIikge1xuICAgIGNoYW5nZS5kYXRhID0gY2hhbmdlLmRhdGEgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBjaGFuZ2UuZGF0YTtcbiAgICBpZiAoXG4gICAgICBjaGFuZ2UuZGF0YS51cGRhdGUgPT09IGZhbHNlICYmXG4gICAgICBjaGFuZ2UuZGF0YS5lbnRlciA9PT0gZmFsc2UgJiZcbiAgICAgIGNoYW5nZS5kYXRhLmV4aXQgPT09IGZhbHNlXG4gICAgKSB7XG4gICAgICBjaGFuZ2UuZGF0YSA9IGZhbHNlO1xuICAgIH1cbiAgICBjaGFuZ2UubWFya3R5cGUgPSBjaGFuZ2UubWFya3R5cGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBjaGFuZ2UubWFya3R5cGU7XG4gICAgY2hhbmdlLnNjYWxlID0gY2hhbmdlLnNjYWxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogY2hhbmdlLnNjYWxlO1xuICAgIGNoYW5nZS5zaWduYWwgPSBjaGFuZ2Uuc2lnbmFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogY2hhbmdlLnNpZ25hbDtcbiAgICBjaGFuZ2UuZW5jb2RlID0gY2hhbmdlLmVuY29kZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGNoYW5nZS5lbmNvZGU7XG4gIH0gZWxzZSBpZiAoc3RlcC5jb21wVHlwZSA9PT0gXCJheGlzXCIgfHwgc3RlcC5jb21wVHlwZSA9PT0gXCJsZWdlbmRcIikge1xuICAgIGNoYW5nZS5zaWduYWwgPSBjaGFuZ2Uuc2lnbmFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogY2hhbmdlLnNpZ25hbDtcbiAgICBjaGFuZ2Uuc2NhbGUgPSBjaGFuZ2Uuc2NhbGUgPT09IHVuZGVmaW5lZCA/IHt9IDogY2hhbmdlLnNjYWxlO1xuXG4gICAgaWYgKHN0ZXAuY29tcFR5cGUgPT09IFwibGVnZW5kXCIpIHtcbiAgICAgIGNoYW5nZS5zY2FsZSA9IGNoYW5nZS5zY2FsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGNoYW5nZS5zY2FsZTtcbiAgICAgIGNoYW5nZS5zaWduYWwgPSBjaGFuZ2Uuc2lnbmFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogY2hhbmdlLnNpZ25hbDtcbiAgICAgIC8vIHNwZWNpZnkgdGhlIHR5cGUgb2YgdGhlIGxlZ2VuZFxuICAgICAgaWYgKGNoYW5nZS5pbml0aWFsKSB7XG4gICAgICAgIGNoYW5nZS5pbml0aWFsID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICBjaGFuZ2UuaW5pdGlhbCxcbiAgICAgICAgICBnZXRMZWdlbmRUeXBlKGNoYW5nZS5pbml0aWFsLCByYXdJbmZvLnNWaXMudmlldylcbiAgICAgICAgKTtcblxuICAgICAgICBjaGFuZ2UuaW5pdGlhbC5kaXJlY3Rpb24gPSBjaGFuZ2UuaW5pdGlhbC5kaXJlY3Rpb24gfHwgXCJ2ZXJ0aWNhbFwiO1xuICAgICAgICBjaGFuZ2UuaW5pdGlhbC5vcmllbnQgPSBjaGFuZ2UuaW5pdGlhbC5vcmllbnQgfHwgXCJyaWdodFwiO1xuICAgICAgfVxuICAgICAgaWYgKGNoYW5nZS5maW5hbCkge1xuICAgICAgICBjaGFuZ2UuZmluYWwgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIGNoYW5nZS5maW5hbCxcbiAgICAgICAgICBnZXRMZWdlbmRUeXBlKGNoYW5nZS5maW5hbCwgcmF3SW5mby5lVmlzLnZpZXcpXG4gICAgICAgICk7XG4gICAgICAgIGNoYW5nZS5maW5hbC5kaXJlY3Rpb24gPSBjaGFuZ2UuZmluYWwuZGlyZWN0aW9uIHx8IFwidmVydGljYWxcIjtcbiAgICAgICAgY2hhbmdlLmZpbmFsLm9yaWVudCA9IGNoYW5nZS5maW5hbC5vcmllbnQgfHwgXCJyaWdodFwiO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChzdGVwLmNvbXBUeXBlID09PSBcInZpZXdcIikge1xuICAgIGNoYW5nZS5zaWduYWwgPSBjaGFuZ2Uuc2lnbmFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogY2hhbmdlLnNpZ25hbDtcbiAgfVxuICByZXR1cm4gY2hhbmdlO1xufVxuXG5cbmZ1bmN0aW9uIGF0dGFjaENoYW5nZXMocmF3SW5mbywgc2NoZWR1bGUpIHtcbiAgY29uc3QgY2hhbmdlcyA9IGdldENoYW5nZXMoXG4gICAgZ2V0Q29tcG9uZW50cyhyYXdJbmZvLnNWaXMuc3BlYyksXG4gICAgZ2V0Q29tcG9uZW50cyhyYXdJbmZvLmVWaXMuc3BlYylcbiAgKTtcblxuICAvLyBhdHRhY2ggdGhlIHZpZXcgY2hhbmdlXG4gIGNoYW5nZXMucHVzaChnZXRWaWV3Q2hhbmdlKHJhd0luZm8pKTtcblxuICBzY2hlZHVsZS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICB0cmFjay5zdGVwcyA9IHRyYWNrLnN0ZXBzLm1hcChzdGVwID0+IHtcbiAgICAgIGlmIChzdGVwLmNvbXBUeXBlID09PSBcInBhdXNlXCIpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZvdW5kID0gY2hhbmdlcy5maW5kKGNoYW5nZSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY2hhbmdlLmNvbXBUeXBlID09PSBzdGVwLmNvbXBUeXBlICYmXG4gICAgICAgICAgKGNoYW5nZS5jb21wTmFtZSA9PT0gc3RlcC5jb21wTmFtZSB8fCBzdGVwLmNvbXBUeXBlID09PSBcInZpZXdcIilcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBjYW5ub3QgZm91bmQgdGhlIGNoYW5nZXMgb2YgJHtzdGVwLmNvbXBOYW1lfS5gKTtcbiAgICAgIH1cblxuICAgICAgc3RlcC5jaGFuZ2UgPSB7XG4gICAgICAgIC4uLnN0ZXAuY2hhbmdlLFxuICAgICAgICAuLi5mb3VuZFxuICAgICAgfTtcbiAgICAgIHN0ZXAuY2hhbmdlID0ge1xuICAgICAgICAuLi5zdGVwLmNoYW5nZSxcbiAgICAgICAgLi4uZ2V0RGVmYXVsdENoYW5nZShzdGVwLCByYXdJbmZvKVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZXhwb3J0IHsgZ2V0Q29tcG9uZW50cywgZ2V0Q2hhbmdlcywgZ2V0Vmlld0NoYW5nZSwgZ2V0RGVmYXVsdENoYW5nZSwgYXR0YWNoQ2hhbmdlcyB9O1xuIiwiaW1wb3J0ICogYXMgdmVnYSBmcm9tIFwidmVnYVwiO1xuaW1wb3J0IHsgam9pbkRhdGEsIGluaXRpYWxEYXRhLCBnZXRBZ2dyZWdhdGUsIGdldEJpbiB9IGZyb20gXCIuL2RhdGFKb2luXCI7XG5pbXBvcnQgeyBmaW5kQ29tcCB9IGZyb20gXCIuLi8uLi9hY3R1YXRvci91dGlsXCI7XG5pbXBvcnQgeyBERUZBVUxUX0VOQ09ERSwgREVGQVVMVF9TVFlMRSB9IGZyb20gXCIuLi8uLi9kZWZhdWx0XCI7XG5pbXBvcnQgKiBhcyBjb21wdXRlU3RhdGVzIGZyb20gXCIuL2NvbXB1dGVcIjtcbmltcG9ydCB7IGNvbXB1dGVOZXdTcGVjLCBFbnVtZXJhdG9yIH0gZnJvbSBcIi4uLy4uL2VudW1lcmF0b3JcIjtcbmltcG9ydCB7IGNvcHksIGdldCB9IGZyb20gXCIuLi8uLi91dGlsL3V0aWxcIjtcbmltcG9ydCB7XG4gIGdldENvbXBvbmVudHMsXG4gIGdldFZpZXdDaGFuZ2UsXG59IGZyb20gXCIuLi9jaGFuZ2VcIjtcbmltcG9ydCB7XG4gIGNvbXB1dGVIYXNGYWNldCxcbiAgaXNHcm91cGluZ01hcmt0eXBlLFxuICBmaW5kTWFyayxcbiAgZmluZEZpbHRlcixcbiAgZmluZERhdGFcbn0gZnJvbSBcIi4vdXRpbFwiO1xuXG5cbi8vVG9kbyBtYWtlIHNjaGVkdWxlIGNsYXNzIGFuZCBwdXQgdGhpcyBhcyBpdHMgbWV0aG9kXG5mdW5jdGlvbiBnZXRNb21lbnRzKHNjaGVkdWxlKSB7XG4gIGNvbnN0IG1vbWVudHMgPSBbXTtcbiAgc2NoZWR1bGUuZm9yRWFjaCh0cmFjayA9PiB7XG4gICAgdHJhY2suc3RlcHMuZm9yRWFjaChzdGVwID0+IHtcbiAgICAgIGxldCBtID0gbW9tZW50cy5maW5kKG0gPT4gbS50aW1lID09PSBzdGVwLnNUaW1lKTtcbiAgICAgIGlmICghbSkge1xuICAgICAgICBtb21lbnRzLnB1c2goe1xuICAgICAgICAgIHRpbWU6IHN0ZXAuc1RpbWUsXG4gICAgICAgICAgc3RhcnRpbmc6IFtzdGVwXSxcbiAgICAgICAgICBlbmRpbmc6IFtdXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbS5zdGFydGluZy5wdXNoKHN0ZXApO1xuICAgICAgfVxuICAgICAgbSA9IG1vbWVudHMuZmluZChtID0+IG0udGltZSA9PT0gc3RlcC5lVGltZSk7XG4gICAgICBpZiAoIW0pIHtcbiAgICAgICAgbW9tZW50cy5wdXNoKHtcbiAgICAgICAgICB0aW1lOiBzdGVwLmVUaW1lLFxuICAgICAgICAgIHN0YXJ0aW5nOiBbXSxcbiAgICAgICAgICBlbmRpbmc6IFtzdGVwXVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG0uZW5kaW5nLnB1c2goc3RlcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gbW9tZW50cy5zb3J0KChhLCBiKSA9PiBhLnRpbWUgLSBiLnRpbWUpO1xufVxuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdHRhY2hTdGF0ZXMoc2NoZWR1bGUsIHJhd0luZm8pIHtcbiAgY29uc3Qgc3RhdGUgPSBpbml0aWFsaXplU3RhdGUoc2NoZWR1bGUsIHJhd0luZm8pO1xuICBjb25zdCBtb21lbnRzID0gZ2V0TW9tZW50cyhzY2hlZHVsZSk7XG4gIHNjaGVkdWxlLm1vbWVudHMgPSBtb21lbnRzO1xuXG4gIGZvciAoY29uc3QgbW9tZW50IG9mIG1vbWVudHMpIHtcbiAgICBmb3IgKGNvbnN0IHN0ZXAgb2YgbW9tZW50LmVuZGluZykge1xuICAgICAgY29uc3QgbGFzdFN0YXRlID0gc3RhdGVbc3RlcC50cmFja05hbWVdO1xuICAgICAgaWYgKHN0ZXAuY29tcFR5cGUgPT09IFwicGF1c2VcIikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgbGFzdFN0YXRlLmRhdGEgPSBsYXN0U3RhdGUuZGF0YSB8fCBpbml0aWFsRGF0YShzdGVwLCByYXdJbmZvKTtcblxuICAgICAgLy8gV2hlbiB0aGUgc3RlcHMgYXJlIGVudW1lcmF0ZWQgYnkgXCJlbnVtZXJhdG9yXCJcbiAgICAgIGxldCBlVmlldztcbiAgICAgIGlmIChzdGVwLmVudW1lcmF0ZWQpIHtcbiAgICAgICAgc3RlcC5lbnVtZXJhdGVkLmZvckVhY2goZW51bWVkID0+IHtcbiAgICAgICAgICBjb25zdCBmaWx0ZXIgPSBmaW5kRmlsdGVyKHN0YXRlLnNwZWMsIGVudW1lZC5kZWYuZmlsdGVyKTtcbiAgICAgICAgICBzdGF0ZS5zcGVjID0gY29tcHV0ZU5ld1NwZWMoc3RhdGUuc3BlYywgZmlsdGVyLCBlbnVtZWQudmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVWaWV3ID0gYXdhaXQgbmV3IHZlZ2EuVmlldyh2ZWdhLnBhcnNlKHN0YXRlLnNwZWMpLCB7XG4gICAgICAgICAgcmVuZGVyZXI6IFwibm9uZVwiXG4gICAgICAgIH0pLnJ1bkFzeW5jKCk7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdSYXdJbmZvID0ge1xuICAgICAgICBzVmlzOiByYXdJbmZvLnNWaXMsXG4gICAgICAgIGVWaXM6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sXG4gICAgICAgICAgcmF3SW5mby5lVmlzLFxuICAgICAgICAgIGVWaWV3ID8geyB2aWV3OiBlVmlldyB9IDogdW5kZWZpbmVkXG4gICAgICAgIClcbiAgICAgIH07XG4gICAgICBpZiAoc3RlcC5jb21wVHlwZSA9PT0gXCJ2aWV3XCIpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdGVwLmNoYW5nZSwgZ2V0Vmlld0NoYW5nZShuZXdSYXdJbmZvKSk7XG4gICAgICB9XG5cbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHN0ZXAsXG4gICAgICAgIGNvbXB1dGVTdGF0ZXNbc3RlcC5jb21wVHlwZV0obmV3UmF3SW5mbywgc3RlcCwgbGFzdFN0YXRlKVxuICAgICAgKTtcbiAgICAgIE9iamVjdC5hc3NpZ24oc3RlcCwgam9pbkRhdGEoc3RlcCwgbmV3UmF3SW5mbywgbGFzdFN0YXRlLmRhdGEpKTtcbiAgICAgIGxhc3RTdGF0ZS5kYXRhID0gc3RlcC5uZXh0RGF0YTtcblxuICAgICAgaWYgKHN0ZXAuZW5jb2Rlcykge1xuICAgICAgICBsYXN0U3RhdGUuZW5jb2RlID1cbiAgICAgICAgICBjb3B5KHN0ZXAuZW5jb2Rlcy5maW5hbCkgfHxcbiAgICAgICAgICBPYmplY3Qua2V5cyhzdGVwLmVuY29kZXMpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGFjY1trZXldID0gc3RlcC5lbmNvZGVzW2tleV0uZmluYWw7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgIH0sIHt9KTtcbiAgICAgIH1cbiAgICAgIGxhc3RTdGF0ZS5zdHlsZUVuY29kZSA9IHN0ZXAuc3R5bGVFbmNvZGVzID8gc3RlcC5zdHlsZUVuY29kZXMuZmluYWwgOiB1bmRlZmluZWQ7XG4gICAgICBsYXN0U3RhdGUuc2lnbmFsID0gc3RlcC5zaWduYWxzID8gc3RlcC5zaWduYWxzLmZpbmFsIDogdW5kZWZpbmVkO1xuICAgICAgbGFzdFN0YXRlLnNjYWxlID0gc3RlcC5zY2FsZXMgPyBzdGVwLnNjYWxlcy5maW5hbCA6IHVuZGVmaW5lZDtcbiAgICAgIGxhc3RTdGF0ZS5tYXJrdHlwZSA9IHN0ZXAubWFya3R5cGVzID8gc3RlcC5tYXJrdHlwZXMuZmluYWwgOiB1bmRlZmluZWQ7XG4gICAgICBsYXN0U3RhdGUuaGFzRmFjZXQgPSBzdGVwLmhhc0ZhY2V0ID8gc3RlcC5oYXNGYWNldC5maW5hbCA6IHVuZGVmaW5lZDtcbiAgICAgIGxhc3RTdGF0ZS5hZ2dyZWdhdGUgPSBzdGVwLmFnZ3JlZ2F0ZXMgPyBzdGVwLmFnZ3JlZ2F0ZXMuZmluYWwgOiB1bmRlZmluZWQ7XG4gICAgICBsYXN0U3RhdGUuYmluID0gc3RlcC5iaW5zID8gc3RlcC5iaW5zLmZpbmFsIDogdW5kZWZpbmVkO1xuICAgICAgbGFzdFN0YXRlLmlzQWRkID0gc3RlcC5pc0FkZDtcbiAgICAgIGxhc3RTdGF0ZS5pc1JlbW92ZSA9IHN0ZXAuaXNSZW1vdmU7XG4gICAgICBsYXN0U3RhdGUuc2FtZURvbWFpbkRpbWVuc2lvbiA9IHN0ZXAuc2FtZURvbWFpbkRpbWVuc2lvbjtcblxuICAgICAgc3RhdGUuc3BlYyA9IHVwZGF0ZVNwZWMoc3RhdGUsIHN0ZXAsIG5ld1Jhd0luZm8uZVZpcy5zcGVjKTtcblxuICAgICAgLy8gQ2F0Y2ggaWYgc2NhbGUgPCBkYXRhIGZvciBlbmNvZGVzIHVzaW5nIHNjYWxlc1xuXG4gICAgICBpZiAoc3RlcC5jb21wVHlwZSA9PT0gXCJtYXJrXCIpIHtcbiAgICAgICAgbGV0IHZhbGlkID0gc2NoZWR1bGUuZmluZCh0cmFjayA9PiB0cmFjay5uYW1lID09PSBzdGVwLnRyYWNrTmFtZSlcbiAgICAgICAgICAuc2NhbGVPcmRlclZhbGlkO1xuICAgICAgICB2YWxpZCA9IHZhbGlkID09PSB1bmRlZmluZWQgPyB0cnVlIDogdmFsaWQ7XG5cbiAgICAgICAgT2JqZWN0LmtleXMobGFzdFN0YXRlLmVuY29kZS51cGRhdGUpLm1hcChwcm9wID0+IHtcbiAgICAgICAgICBjb25zdCBmb3VuZFNjYWxlID1cbiAgICAgICAgICAgIGxhc3RTdGF0ZS5zY2FsZVtsYXN0U3RhdGUuZW5jb2RlLnVwZGF0ZVtwcm9wXS5zY2FsZV07XG5cbiAgICAgICAgICBpZiAoZm91bmRTY2FsZSAmJiBsYXN0U3RhdGUuZW5jb2RlLnVwZGF0ZVtwcm9wXS5maWVsZCAmJiAobGFzdFN0YXRlLmRhdGEubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZmllbGQgfSA9IGxhc3RTdGF0ZS5lbmNvZGUudXBkYXRlW3Byb3BdO1xuICAgICAgICAgICAgbGV0IHZhbHMgPSBsYXN0U3RhdGUuZGF0YS5tYXAoZCA9PiBkLmRhdHVtW2ZpZWxkXSk7XG5cbiAgICAgICAgICAgIGlmIChsYXN0U3RhdGUuZGF0YVswXS5tYXJrLm1hcmt0eXBlID09PSBcImdyb3VwXCIpIHtcbiAgICAgICAgICAgICAgdmFscyA9IGxhc3RTdGF0ZS5kYXRhLnJlZHVjZSgodmFscywgZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWxzLmNvbmNhdChkLml0ZW1zWzBdLml0ZW1zLm1hcChkMiA9PiBkMi5kYXR1bVtmaWVsZF0pKTtcbiAgICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzY2FsZURvbWFpbiA9IGZvdW5kU2NhbGUuZG9tYWluKCk7XG4gICAgICAgICAgICBpZiAoZm91bmRTY2FsZS50eXBlID09PSBcImJhbmRcIiB8fCBmb3VuZFNjYWxlLnR5cGUgPT09IFwicG9pbnRcIikge1xuICAgICAgICAgICAgICB2YWxpZCA9XG4gICAgICAgICAgICAgICAgdmFsaWQgJiZcbiAgICAgICAgICAgICAgICB2YWxzLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgIChhY2MsIHYpID0+IChhY2MgPSBhY2MgJiYgc2NhbGVEb21haW4uaW5kZXhPZih2KSA+PSAwKSxcbiAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmb3VuZFNjYWxlLnR5cGUgPT09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoLi4udmFscyk7XG4gICAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKC4uLnZhbHMpO1xuICAgICAgICAgICAgICB2YWxpZCA9IHZhbGlkICYmIHNjYWxlRG9tYWluWzBdIDw9IG1pbiAmJiBzY2FsZURvbWFpblsxXSA+PSBtYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2NoZWR1bGUuZmluZChcbiAgICAgICAgICB0cmFjayA9PiB0cmFjay5uYW1lID09PSBzdGVwLnRyYWNrTmFtZVxuICAgICAgICApLnNjYWxlT3JkZXJWYWxpZCA9IHZhbGlkO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBzdGVwIG9mIG1vbWVudC5zdGFydGluZykge1xuICAgICAgY29uc3QgbGFzdFN0YXRlID0gc3RhdGVbc3RlcC50cmFja05hbWVdO1xuICAgICAgaWYgKGdldChzdGVwLCBcImVudW1lcmF0b3JcIikpIHtcbiAgICAgICAgaWYgKHN0ZXAuY29tcFR5cGUgPT09IFwibWFya1wiKSB7XG4gICAgICAgICAgLy8gZmV0Y2ggZW51bWVyYXRvclxuICAgICAgICAgIHN0ZXAuZW51bWVyYXRvckRlZiA9IHN0ZXAuZW51bWVyYXRvcjtcbiAgICAgICAgICBjb25zdCBlbnVtZXJhdG9yID0gKHN0ZXAuZW51bWVyYXRvciA9IG5ldyBFbnVtZXJhdG9yKFxuICAgICAgICAgICAgc3RlcC5lbnVtZXJhdG9yRGVmLFxuICAgICAgICAgICAgc3RhdGUuc3BlYyxcbiAgICAgICAgICAgIHJhd0luZm9cbiAgICAgICAgICApKTtcbiAgICAgICAgICBhd2FpdCBlbnVtZXJhdG9yLmluaXQoKTtcbiAgICAgICAgICAvLyBsZXQgZGF0YU5hbWUgPSAoc3RlcC5jaGFuZ2UuZmluYWwgfHwgc3RlcC5jaGFuZ2UuZmluYWwpLmZyb20uZGF0YTtcbiAgICAgICAgICBsZXQgZGF0YU5hbWUgPSBzdGVwLmNvbXBOYW1lO1xuXG4gICAgICAgICAgbGV0IGtleSA9XG4gICAgICAgICAgICAoQXJyYXkuaXNBcnJheShzdGVwLmNoYW5nZS5kYXRhKVxuICAgICAgICAgICAgICA/IHN0ZXAuY2hhbmdlLmRhdGFcbiAgICAgICAgICAgICAgOiBzdGVwLmNoYW5nZS5kYXRhLmtleXMpIHx8IG51bGw7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY29tcHV0ZUhhc0ZhY2V0KHN0ZXAuY2hhbmdlLmluaXRpYWwpICYmXG4gICAgICAgICAgICBjb21wdXRlSGFzRmFjZXQoc3RlcC5jaGFuZ2UuZmluYWwpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBrZXkgPSAoc3RlcC5jaGFuZ2UuZmluYWwgfHwgc3RlcC5jaGFuZ2UuZmluYWwpLnBhcmVudC5mcm9tLmZhY2V0XG4gICAgICAgICAgICAgIC5ncm91cGJ5O1xuICAgICAgICAgICAgZGF0YU5hbWUgPSAoc3RlcC5jaGFuZ2UuZmluYWwgfHwgc3RlcC5jaGFuZ2UuZmluYWwpLnBhcmVudC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgZXh0cmFjdERhdGEgPSB2aWV3ID0+IHZpZXcuZGF0YShkYXRhTmFtZSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWNvbXB1dGVIYXNGYWNldChzdGVwLmNoYW5nZS5pbml0aWFsKSAmJlxuICAgICAgICAgICAgIWNvbXB1dGVIYXNGYWNldChzdGVwLmNoYW5nZS5maW5hbCkgJiZcbiAgICAgICAgICAgIGlzR3JvdXBpbmdNYXJrdHlwZShzdGVwLmNoYW5nZS5pbml0aWFsKSAmJlxuICAgICAgICAgICAgaXNHcm91cGluZ01hcmt0eXBlKHN0ZXAuY2hhbmdlLmZpbmFsKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXh0cmFjdERhdGEgPSB2aWV3ID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHZpZXcuX3J1bnRpbWUuZGF0YVtkYXRhTmFtZV0udmFsdWVzLnZhbHVlO1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGRhdHVtOiB7fSxcbiAgICAgICAgICAgICAgICAgIG1hcms6IHsgcm9sZTogXCJncm91cFwiLCBtYXJrdHlwZTogXCJncm91cFwiIH0sXG4gICAgICAgICAgICAgICAgICBpdGVtczogW3sgaXRlbXM6IGRhdGEgfV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbnVtZXJhdG9yLmpvaW5EYXRhKGV4dHJhY3REYXRhLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICAgICAgICByZXR1cm4ga2V5XG4gICAgICAgICAgICAgICAgLm1hcChmaWVsZCA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXR1bVtmaWVsZF07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuam9pbihcIi1cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaS50b1N0cmluZygpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgc2NhbGUgPCBkYXRhXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBlbnVtZXJhdG9yLnN0b3BOIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc2NhbGUgPSBzY05hbWUgPT4gbGFzdFN0YXRlLnNjYWxlW3NjTmFtZV07XG4gICAgICAgICAgICBpZiAoc3RlcC5jaGFuZ2Uuc2NhbGUpIHtcbiAgICAgICAgICAgICAgc2NhbGUgPSBlbnVtZXJhdG9yLl9nZXRTY2FsZXMoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZW51bWVyYXRvci5nZXREYXRhKGkpO1xuICAgICAgICAgICAgbGV0IHZhbGlkID0gc2NoZWR1bGUuZmluZCh0cmFjayA9PiB0cmFjay5uYW1lID09PSBzdGVwLnRyYWNrTmFtZSlcbiAgICAgICAgICAgICAgLnNjYWxlT3JkZXJWYWxpZDtcbiAgICAgICAgICAgIHZhbGlkID0gdmFsaWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiB2YWxpZDtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGxhc3RTdGF0ZS5lbmNvZGUudXBkYXRlKS5tYXAocHJvcCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGZvdW5kU2NhbGUgPSBzY2FsZShsYXN0U3RhdGUuZW5jb2RlLnVwZGF0ZVtwcm9wXS5zY2FsZSk7XG5cbiAgICAgICAgICAgICAgaWYgKGZvdW5kU2NhbGUgJiYgbGFzdFN0YXRlLmVuY29kZS51cGRhdGVbcHJvcF0uZmllbGQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGZpZWxkIH0gPSBsYXN0U3RhdGUuZW5jb2RlLnVwZGF0ZVtwcm9wXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZURvbWFpbiA9IGZvdW5kU2NhbGUuZG9tYWluKCk7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHMgPSBkYXRhLm1hcChkID0+IGRbZmllbGRdKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhWzBdLm1hcmsubWFya3R5cGUgPT09IFwiZ3JvdXBcIikge1xuICAgICAgICAgICAgICAgICAgdmFscyA9IGRhdGEucmVkdWNlKCh2YWxzLCBkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWxzLmNvbmNhdChcbiAgICAgICAgICAgICAgICAgICAgICBkLml0ZW1zWzBdLml0ZW1zLm1hcChkMiA9PiBkMi5kYXR1bVtmaWVsZF0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kU2NhbGUudHlwZSA9PT0gXCJiYW5kXCIgfHwgZm91bmRTY2FsZS50eXBlID09PSBcInBvaW50XCIpIHtcbiAgICAgICAgICAgICAgICAgIHZhbGlkID1cbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgJiZcbiAgICAgICAgICAgICAgICAgICAgdmFscy5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgICAgKGFjYywgdikgPT4gKGFjYyA9IGFjYyAmJiBzY2FsZURvbWFpbi5pbmRleE9mKHYpID49IDApLFxuICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvdW5kU2NhbGUudHlwZSA9PT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoLi4udmFscyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbiguLi52YWxzKTtcbiAgICAgICAgICAgICAgICAgIHZhbGlkID1cbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgJiYgc2NhbGVEb21haW5bMF0gPD0gbWluICYmIHNjYWxlRG9tYWluWzFdID49IG1heDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2NoZWR1bGUuZmluZChcbiAgICAgICAgICAgICAgdHJhY2sgPT4gdHJhY2submFtZSA9PT0gc3RlcC50cmFja05hbWVcbiAgICAgICAgICAgICkuc2NhbGVPcmRlclZhbGlkID0gdmFsaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0ZXAuY29tcFR5cGUgPT09IFwiYXhpc1wiKSB7XG4gICAgICAgICAgc3RlcC5lbnVtZXJhdG9yRGVmID0gc3RlcC5lbnVtZXJhdG9yO1xuICAgICAgICAgIHN0ZXAuZW51bWVyYXRvciA9IHt9O1xuICAgICAgICAgIGZvciAoY29uc3Qgc3ViQ29tcCBvZiBbXCJ0aWNrXCIsIFwibGFiZWxcIiwgXCJncmlkXCJdKSB7XG4gICAgICAgICAgICBjb25zdCBlbnVtZXJhdG9yID0gbmV3IEVudW1lcmF0b3IoXG4gICAgICAgICAgICAgIHN0ZXAuZW51bWVyYXRvckRlZixcbiAgICAgICAgICAgICAgc3RhdGUuc3BlYyxcbiAgICAgICAgICAgICAgcmF3SW5mb1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGF3YWl0IGVudW1lcmF0b3IuaW5pdCgpXG4gICAgICAgICAgICBjb25zdCBzY05hbWUgPSBzdGVwLmNvbXBOYW1lO1xuICAgICAgICAgICAgZW51bWVyYXRvci5qb2luRGF0YShcbiAgICAgICAgICAgICAgdmlldyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdcbiAgICAgICAgICAgICAgICAgIC5kYXRhKHNjTmFtZSlbMF1cbiAgICAgICAgICAgICAgICAgIC5pdGVtcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnJvbGUgPT09IGBheGlzLSR7c3ViQ29tcH1gKVswXVxuICAgICAgICAgICAgICAgICAgLml0ZW1zO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkID0+IGQuZGF0dW0udmFsdWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHN0ZXAuZW51bWVyYXRvcltzdWJDb21wXSA9IGVudW1lcmF0b3I7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoc3RlcC5jb21wVHlwZSA9PT0gXCJsZWdlbmRcIikge1xuICAgICAgICAgIHN0ZXAuZW51bWVyYXRvckRlZiA9IHN0ZXAuZW51bWVyYXRvcjtcbiAgICAgICAgICBsZXQgbGVnZW5kRW51bURlZnMgPSBbXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdGVwLmNoYW5nZS5pbml0aWFsLnR5cGUgPT09IFwiZ3JhZGllbnRcIiAmJlxuICAgICAgICAgICAgc3RlcC5jaGFuZ2UuaW5pdGlhbC50eXBlID09PSBcImdyYWRpZW50XCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YkNvbXBzID0gc3RlcC5jaGFuZ2UuaW5pdGlhbC5pc0JhbmRcbiAgICAgICAgICAgICAgPyBbXCJiYW5kc1wiLCBcImxhYmVsc1wiXVxuICAgICAgICAgICAgICA6IFtcImxhYmVsc1wiXTtcbiAgICAgICAgICAgIGxlZ2VuZEVudW1EZWZzID0gc3ViQ29tcHMubWFwKHN1YkNvbXAgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1YkNvbXAsXG4gICAgICAgICAgICAgICAgZXh0cmFjdERhdGE6IHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZW50cnlHID0gdmlldy5fcnVudGltZS5kYXRhW1xuICAgICAgICAgICAgICAgICAgICBzdGVwLmNvbXBOYW1lXG4gICAgICAgICAgICAgICAgICBdLnZhbHVlcy52YWx1ZVswXS5pdGVtcy5maW5kKFxuICAgICAgICAgICAgICAgICAgICBpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJsZWdlbmQtZW50cnlcIlxuICAgICAgICAgICAgICAgICAgKS5pdGVtc1swXTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeUcuaXRlbXMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgaXRlbSA9PiBpdGVtLnJvbGUgPT09IGBsZWdlbmQtJHtzdWJDb21wLnJlcGxhY2UoL3MkL2csIFwiXCIpfWBcbiAgICAgICAgICAgICAgICAgICkuaXRlbXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpZGVudGlmeURhdHVtOiBkID0+IGQuZGF0dW0udmFsdWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHN0ZXAuY2hhbmdlLmluaXRpYWwudHlwZSA9PT0gXCJzeW1ib2xcIiAmJlxuICAgICAgICAgICAgc3RlcC5jaGFuZ2UuaW5pdGlhbC50eXBlID09PSBcInN5bWJvbFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsZWdlbmRFbnVtRGVmcy5wdXNoKHtcbiAgICAgICAgICAgICAgc3ViQ29tcDogXCJwYWlyc1wiLFxuICAgICAgICAgICAgICBleHRyYWN0RGF0YTogdmlldyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZXcuX3J1bnRpbWUuZGF0YVtcbiAgICAgICAgICAgICAgICAgIHN0ZXAuY29tcE5hbWVcbiAgICAgICAgICAgICAgICBdLnZhbHVlcy52YWx1ZVswXS5pdGVtcy5maW5kKFxuICAgICAgICAgICAgICAgICAgaXRlbSA9PiBpdGVtLnJvbGUgPT09IFwibGVnZW5kLWVudHJ5XCJcbiAgICAgICAgICAgICAgICApLml0ZW1zWzBdLml0ZW1zWzBdLml0ZW1zO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBpZGVudGlmeURhdHVtOiBkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdHVtIH0gPSBkLml0ZW1zLmZpbmQoXG4gICAgICAgICAgICAgICAgICBpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJsZWdlbmQtbGFiZWxcIlxuICAgICAgICAgICAgICAgICkuaXRlbXNbMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdHVtLnZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZWdlbmRFbnVtRGVmcy5wdXNoKHtcbiAgICAgICAgICAgICAgc3ViQ29tcDogXCJsYWJlbHNcIixcbiAgICAgICAgICAgICAgZXh0cmFjdERhdGE6IHZpZXcgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhaXJzID0gdmlldy5fcnVudGltZS5kYXRhW1xuICAgICAgICAgICAgICAgICAgc3RlcC5jb21wTmFtZVxuICAgICAgICAgICAgICAgIF0udmFsdWVzLnZhbHVlWzBdLml0ZW1zLmZpbmQoXG4gICAgICAgICAgICAgICAgICBpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJsZWdlbmQtZW50cnlcIlxuICAgICAgICAgICAgICAgICkuaXRlbXNbMF0uaXRlbXNbMF0uaXRlbXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhaXJzLm1hcChwYWlyID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwYWlyLml0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLnJvbGUgPT09IFwibGVnZW5kLWxhYmVsXCIpXG4gICAgICAgICAgICAgICAgICAgIC5pdGVtc1swXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaWRlbnRpZnlEYXR1bTogZCA9PiBkLmRhdHVtLnZhbHVlLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZWdlbmRFbnVtRGVmcy5wdXNoKHtcbiAgICAgICAgICAgICAgc3ViQ29tcDogXCJzeW1ib2xzXCIsXG4gICAgICAgICAgICAgIGV4dHJhY3REYXRhOiB2aWV3ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWlycyA9IHZpZXcuX3J1bnRpbWUuZGF0YVtcbiAgICAgICAgICAgICAgICAgIHN0ZXAuY29tcE5hbWVcbiAgICAgICAgICAgICAgICBdLnZhbHVlcy52YWx1ZVswXS5pdGVtcy5maW5kKFxuICAgICAgICAgICAgICAgICAgaXRlbSA9PiBpdGVtLnJvbGUgPT09IFwibGVnZW5kLWVudHJ5XCJcbiAgICAgICAgICAgICAgICApLml0ZW1zWzBdLml0ZW1zWzBdLml0ZW1zO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWlycy5tYXAocGFpciA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcGFpci5pdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5yb2xlID09PSBcImxlZ2VuZC1zeW1ib2xcIilcbiAgICAgICAgICAgICAgICAgICAgLml0ZW1zWzBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBpZGVudGlmeURhdHVtOiBkID0+IGQuZGF0dW0udmFsdWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQ2Fubm90IGVudW1lcmF0ZSB0aGUgY2hhbmdlcyB3aGVuIHRoZSBsZWdlbmQgdHlwZSBjaGFuZ2VzLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGVwLmVudW1lcmF0b3IgPSB7fTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGVudW1EZWYgb2YgbGVnZW5kRW51bURlZnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudW1lcmF0b3IgPSBuZXcgRW51bWVyYXRvcihcbiAgICAgICAgICAgICAgc3RlcC5lbnVtZXJhdG9yLFxuICAgICAgICAgICAgICBzdGF0ZS5zcGVjLFxuICAgICAgICAgICAgICByYXdJbmZvXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYXdhaXQgZW51bWVyYXRvci5pbml0KClcbiAgICAgICAgICAgIGVudW1lcmF0b3Iuam9pbkRhdGEoZW51bURlZi5leHRyYWN0RGF0YSwgZW51bURlZi5pZGVudGlmeURhdHVtKTtcbiAgICAgICAgICAgIGFjY1tlbnVtRGVmLnN1YkNvbXBdID0gZW51bWVyYXRvcjtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcblxuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVTdGF0ZShzY2hlZHVsZSwgcmF3SW5mbykge1xuICBjb25zdCBzVmlldyA9IHJhd0luZm8uc1Zpcy52aWV3O1xuICBjb25zdCBzU3BlYyA9IHJhd0luZm8uc1Zpcy5zcGVjO1xuICBjb25zdCBzQ29tcHMgPSBnZXRDb21wb25lbnRzKHNTcGVjKTtcbiAgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICAgIHNwZWM6IGNvcHkoc1NwZWMpXG4gIH07XG4gIHJldHVybiBzY2hlZHVsZS5yZWR1Y2UoKGluaXRpYWxTdGF0ZSwgdHJhY2spID0+IHtcbiAgICAvLyBUb2RvOiBzb21lIHNjYWxlcyBjYW4gYmUgaGlkZGVuIGluIF9ydW50aW1lLl9zdWJjb250ZXh0XG4gICAgY29uc3QgY29tcFN0YXRlID0ge1xuICAgICAgc2NhbGU6IHt9LFxuICAgICAgc2lnbmFsOiB7XG4gICAgICAgIHdpZHRoOiBzVmlldy5zaWduYWwoXCJ3aWR0aFwiKSxcbiAgICAgICAgaGVpZ2h0OiBzVmlldy5zaWduYWwoXCJoZWlnaHRcIiksXG4gICAgICAgIHBhZGRpbmc6IHNWaWV3LnNpZ25hbChcInBhZGRpbmdcIilcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRyYWNrLmNvbXBUeXBlID09PSBcIm1hcmtcIikge1xuICAgICAgY29uc3Qgc0NvbXAgPSBzQ29tcHMuZmluZChjID0+IGMubmFtZSA9PT0gdHJhY2suY29tcE5hbWUpO1xuXG4gICAgICBpZiAoc0NvbXApIHtcbiAgICAgICAgY29tcFN0YXRlLm1hcmt0eXBlID0gc0NvbXAudHlwZTtcbiAgICAgICAgY29tcFN0YXRlLmhhc0ZhY2V0ID0gY29tcHV0ZUhhc0ZhY2V0KHNDb21wKTtcbiAgICAgICAgY29tcFN0YXRlLnN0eWxlRW5jb2RlID0gc0NvbXAuc3R5bGUgPyBERUZBVUxUX1NUWUxFW3NDb21wLnN0eWxlXSA6IHt9O1xuXG4gICAgICAgIGNvbXBTdGF0ZS5lbmNvZGUgPSBjb3B5KHNDb21wLmVuY29kZSB8fCB7fSk7XG4gICAgICAgIGNvbnN0IGJhc2VFbmNvZGUgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIERFRkFVTFRfRU5DT0RFLm1hcmtbY29tcFN0YXRlLm1hcmt0eXBlXS51cGRhdGUsXG4gICAgICAgICAgc0NvbXAuc3R5bGUgPyBERUZBVUxUX1NUWUxFW3NDb21wLnN0eWxlXSA6IHt9XG4gICAgICAgICk7XG4gICAgICAgIGNvbXBTdGF0ZS5lbmNvZGUudXBkYXRlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICBiYXNlRW5jb2RlLFxuICAgICAgICAgIGNvbXBTdGF0ZS5lbmNvZGUudXBkYXRlXG4gICAgICAgICk7XG4gICAgICAgIGNvbXBTdGF0ZS5lbmNvZGUuZXhpdCA9IGNvcHkoY29tcFN0YXRlLmVuY29kZS51cGRhdGUpO1xuICAgICAgICBjb21wU3RhdGUuZW5jb2RlLmVudGVyID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBjb21wU3RhdGUuZW5jb2RlLnVwZGF0ZSxcbiAgICAgICAgICBERUZBVUxUX0VOQ09ERS5tYXJrLmVudGVyXG4gICAgICAgICk7XG5cbiAgICAgICAgc0NvbXBzXG4gICAgICAgICAgLmZpbHRlcihjb21wID0+IGNvbXAuY29tcFR5cGUgPT09IFwic2NhbGVcIilcbiAgICAgICAgICAuZm9yRWFjaChzY2FsZSA9PiB7XG4gICAgICAgICAgICBjb21wU3RhdGUuc2NhbGVbc2NhbGUubmFtZV0gPSBzVmlldy5zY2FsZShzY2FsZS5uYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBTdGF0ZS5lbmNvZGUgPSB7fTtcbiAgICAgICAgY29tcFN0YXRlLnN0eWxlRW5jb2RlID0ge307XG4gICAgICB9XG4gICAgICBjb21wU3RhdGUuYWdncmVnYXRlID0gZ2V0QWdncmVnYXRlKFxuICAgICAgICB0cmFjay5zdGVwc1swXS5jaGFuZ2UsXG4gICAgICAgIHJhd0luZm9cbiAgICAgICkuaW5pdGlhbDtcbiAgICAgIGNvbXBTdGF0ZS5iaW4gPSBnZXRCaW4oXG4gICAgICAgIHRyYWNrLnN0ZXBzWzBdLmNoYW5nZSxcbiAgICAgICAgcmF3SW5mb1xuICAgICAgKS5pbml0aWFsO1xuXG4gICAgICAvLyBjb21wU3RhdGUuYWdncmVnYXRlLmRvbmUgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHRyYWNrLmNvbXBUeXBlID09PSBcImF4aXNcIikge1xuICAgICAgLy8gZm9yIGF4aXMgY29tcFxuICAgICAgY29uc3Qgc0NvbXAgPSBzQ29tcHMuZmluZChcbiAgICAgICAgYyA9PiBjLmNvbXBUeXBlID09PSBcImF4aXNcIiAmJiBjLmVuY29kZS5heGlzLm5hbWUgPT09IHRyYWNrLmNvbXBOYW1lXG4gICAgICApO1xuXG4gICAgICBpZiAodHJhY2suc3RlcHNbMF0uY2hhbmdlLmluaXRpYWwpIHtcbiAgICAgICAgY29tcFN0YXRlLnNjYWxlW3NDb21wLnNjYWxlXSA9IHNWaWV3LnNjYWxlKHNDb21wLnNjYWxlKTtcbiAgICAgIH1cblxuICAgICAgY29tcFN0YXRlLmVuY29kZSA9IHNDb21wID8gY29weShzQ29tcC5lbmNvZGUgfHwge30pIDoge307XG4gICAgICBjb25zdCBheGlzR0RhdHVtSW5pdGlhbCA9IHNDb21wXG4gICAgICAgID8gZmluZENvbXAoc1ZpZXcuc2NlbmVncmFwaCgpLnJvb3QsIHRyYWNrLmNvbXBOYW1lLCBcImF4aXNcIilbMF0uaXRlbXNbMF1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBjb21wU3RhdGUuZW5jb2RlLmF4aXMgPSBheGlzR0RhdHVtSW5pdGlhbFxuICAgICAgICA/IHtcbiAgICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICAgIHg6IHsgdmFsdWU6IGF4aXNHRGF0dW1Jbml0aWFsLnggfSxcbiAgICAgICAgICAgIHk6IHsgdmFsdWU6IGF4aXNHRGF0dW1Jbml0aWFsLnkgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICA6IHt9O1xuICAgIH0gZWxzZSBpZiAodHJhY2suY29tcFR5cGUgPT09IFwibGVnZW5kXCIpIHtcbiAgICAgIC8vIGZvciBheGlzIGNvbXBcblxuICAgICAgY29uc3Qgc0NvbXAgPSBzQ29tcHMuZmluZChcbiAgICAgICAgYyA9PiBjLmNvbXBUeXBlID09PSBcImxlZ2VuZFwiICYmIGMuZW5jb2RlLmxlZ2VuZC5uYW1lID09PSB0cmFjay5jb21wTmFtZVxuICAgICAgKTtcbiAgICAgIGNvbXBTdGF0ZS5sZWdlbmRUeXBlID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKHRyYWNrLnN0ZXBzWzBdLmNoYW5nZS5pbml0aWFsKSB7XG4gICAgICAgIGNvbXBTdGF0ZS5sZWdlbmRUeXBlID0gdHJhY2suc3RlcHNbMF0uY2hhbmdlLmluaXRpYWwudHlwZTtcbiAgICAgICAgW1xuICAgICAgICAgIFwiZmlsbFwiLFxuICAgICAgICAgIFwib3BhY2l0eVwiLFxuICAgICAgICAgIFwic2hhcGVcIixcbiAgICAgICAgICBcInNpemVcIixcbiAgICAgICAgICBcInN0cm9rZVwiLFxuICAgICAgICAgIFwic3Ryb2tlRGFzaFwiLFxuICAgICAgICAgIFwic3Ryb2tlV2lkdGhcIlxuICAgICAgICBdLmZvckVhY2goY2hhbm5lbCA9PiB7XG4gICAgICAgICAgY29uc3Qgc2NOYW1lID0gdHJhY2suc3RlcHNbMF0uY2hhbmdlLmluaXRpYWxbY2hhbm5lbF07XG4gICAgICAgICAgaWYgKHNjTmFtZSkge1xuICAgICAgICAgICAgY29tcFN0YXRlLnNjYWxlW3NjTmFtZV0gPSBzVmlldy5zY2FsZShzY05hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbXBTdGF0ZS5lbmNvZGUgPSBzQ29tcCA/IGNvcHkoc0NvbXAuZW5jb2RlIHx8IHt9KSA6IHt9O1xuICAgIH0gZWxzZSBpZiAodHJhY2suY29tcFR5cGUgPT09IFwidmlld1wiKSB7XG4gICAgICBjb25zdCBpUm9vdERhdHVtID0gc1ZpZXcuX3J1bnRpbWUuZGF0YS5yb290LnZhbHVlcy52YWx1ZVswXTtcbiAgICAgIGNvbnN0IHsgaW5pdGlhbCB9ID0gdHJhY2suc3RlcHNbMF0uY2hhbmdlO1xuICAgICAgY29tcFN0YXRlLmVuY29kZSA9IHtcbiAgICAgICAgc3ZnOiB7XG4gICAgICAgICAgeDogeyB2YWx1ZTogaW5pdGlhbC54ICsgaW5pdGlhbC5wYWRkaW5nIH0sXG4gICAgICAgICAgeTogeyB2YWx1ZTogaW5pdGlhbC55ICsgaW5pdGlhbC5wYWRkaW5nIH0sXG4gICAgICAgICAgd2lkdGg6IHsgdmFsdWU6IGluaXRpYWwudmlld1dpZHRoICsgaW5pdGlhbC5wYWRkaW5nICogMiB9LFxuICAgICAgICAgIGhlaWdodDogeyB2YWx1ZTogaW5pdGlhbC52aWV3SGVpZ2h0ICsgaW5pdGlhbC5wYWRkaW5nICogMiB9XG4gICAgICAgIH0sXG4gICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICB3aWR0aDogeyB2YWx1ZTogaW5pdGlhbC53aWR0aCB9LFxuICAgICAgICAgIGhlaWdodDogeyB2YWx1ZTogaW5pdGlhbC5oZWlnaHQgfSxcbiAgICAgICAgICBmaWxsOiB7IHZhbHVlOiBpUm9vdERhdHVtLmZpbGwgfSxcbiAgICAgICAgICBzdHJva2U6IHsgdmFsdWU6IGlSb290RGF0dW0uc3Ryb2tlIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgaW5pdGlhbFN0YXRlW3RyYWNrLm5hbWVdID0gY29tcFN0YXRlO1xuICAgIHJldHVybiBpbml0aWFsU3RhdGU7XG4gIH0sIGluaXRpYWxTdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNwZWMobGFzdFN0YXRlLCBsYXN0U3RlcCwgZVNwZWMpIHtcbiAgY29uc3QgdXBkYXRlZFNwZWMgPSBjb3B5KGxhc3RTdGF0ZS5zcGVjKTtcbiAgaWYgKGxhc3RTdGVwLmNvbXBUeXBlID09PSBcIm1hcmtcIikge1xuICAgIGNvbnN0IGxhc3RNYXJrQ29tcCA9IGxhc3RTdGVwLmNoYW5nZS5maW5hbDtcbiAgICAvLyBJZiB0aGUgbWFya0NvbXAgaXMgZmFjZXR0ZWQsIGl0cyBwYXJlbnQgbWFyayBzaG91bGQgYmUgdXBkYXRlZC5cbiAgICBjb25zdCBjb21wTmFtZSA9IGNvbXB1dGVIYXNGYWNldChsYXN0TWFya0NvbXApXG4gICAgICA/IGxhc3RNYXJrQ29tcC5wYXJlbnQubmFtZVxuICAgICAgOiBsYXN0U3RlcC5jb21wTmFtZTtcbiAgICBpZiAoIWxhc3RNYXJrQ29tcCAmJiBjb21wTmFtZSAmJiBsYXN0U3RlcC5jaGFuZ2UuZGF0YSkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBtYXJrXG4gICAgICBjb25zdCBvbGQgPSB1cGRhdGVkU3BlYy5tYXJrcy5maW5kSW5kZXgobWFyayA9PiBtYXJrLm5hbWUgPT09IGNvbXBOYW1lKTtcbiAgICAgIHVwZGF0ZWRTcGVjLm1hcmtzLnNwbGljZShvbGQsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvbGQgPSBmaW5kTWFyayh1cGRhdGVkU3BlYy5tYXJrcywgY29tcE5hbWUpO1xuICAgICAgaWYgKCFvbGQpIHtcbiAgICAgICAgdXBkYXRlZFNwZWMubWFya3MucHVzaChmaW5kTWFyayhlU3BlYy5tYXJrcywgY29tcE5hbWUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRhdGFOYW1lID0gY29tcHV0ZUhhc0ZhY2V0KGxhc3RNYXJrQ29tcClcbiAgICAgICAgICA/IGxhc3RNYXJrQ29tcC5wYXJlbnQuZnJvbS5mYWNldC5kYXRhXG4gICAgICAgICAgOiBsYXN0TWFya0NvbXAuZnJvbS5kYXRhO1xuICAgICAgICBpZiAobGFzdFN0ZXAuY2hhbmdlLmRhdGEpIHtcbiAgICAgICAgICAvLyB1cGRhdGUgZGF0YSBzb3VyY2VcbiAgICAgICAgICBjb25zdCBvbGQgPSB1cGRhdGVkU3BlYy5kYXRhLmZpbmRJbmRleChcbiAgICAgICAgICAgIGRhdGEgPT4gZGF0YS5uYW1lID09PSBkYXRhTmFtZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG9sZCA+PSAwKSB7XG4gICAgICAgICAgICB1cGRhdGVkU3BlYy5kYXRhLnNwbGljZShvbGQsIDEsIGNvcHkoZmluZERhdGEoZVNwZWMsIGRhdGFOYW1lKSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuZXdJID0gZVNwZWMuZGF0YS5maW5kSW5kZXgoZGF0YSA9PiBkYXRhLm5hbWUgPT09IGRhdGFOYW1lKTtcbiAgICAgICAgICAgIHVwZGF0ZWRTcGVjLmRhdGEuc3BsaWNlKG5ld0ksIDAsIGNvcHkoZmluZERhdGEoZVNwZWMsIGRhdGFOYW1lKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvbGQuZW5jb2RlLnVwZGF0ZSA9IGxhc3RTdGF0ZVtsYXN0U3RlcC50cmFja05hbWVdLmVuY29kZS51cGRhdGU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGxhc3RTdGVwLmNvbXBUeXBlID09PSBcImF4aXNcIikge1xuICAgIC8vIGNvbnNvbGUubG9nKGxhc3RTdGVwLmNvbXBOYW1lKTtcbiAgICBjb25zdCBvbGQgPSB1cGRhdGVkU3BlYy5heGVzLmZpbmRJbmRleChcbiAgICAgIGF4aXMgPT5cbiAgICAgICAgYXhpcy5lbmNvZGUgJiZcbiAgICAgICAgYXhpcy5lbmNvZGUuYXhpcyAmJlxuICAgICAgICBheGlzLmVuY29kZS5heGlzLm5hbWUgPT09IGxhc3RTdGVwLmNvbXBOYW1lXG4gICAgKTtcbiAgICBpZiAob2xkID49IDApIHtcbiAgICAgIHVwZGF0ZWRTcGVjLmF4ZXMuc3BsaWNlKG9sZCwgMSk7XG4gICAgfVxuICAgIGxldCBuZXdBeGlzO1xuICAgIGlmIChcbiAgICAgIChuZXdBeGlzID0gZVNwZWMuYXhlcy5maW5kKFxuICAgICAgICBheGlzID0+XG4gICAgICAgICAgYXhpcy5lbmNvZGUgJiZcbiAgICAgICAgICBheGlzLmVuY29kZS5heGlzICYmXG4gICAgICAgICAgYXhpcy5lbmNvZGUuYXhpcy5uYW1lID09PSBsYXN0U3RlcC5jb21wTmFtZVxuICAgICAgKSlcbiAgICApIHtcbiAgICAgIHVwZGF0ZWRTcGVjLmF4ZXMucHVzaChuZXdBeGlzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobGFzdFN0ZXAuY29tcFR5cGUgPT09IFwibGVnZW5kXCIpIHtcbiAgICBjb25zdCBvbGQgPSB1cGRhdGVkU3BlYy5sZWdlbmRzXG4gICAgICA/IHVwZGF0ZWRTcGVjLmxlZ2VuZHMuZmluZEluZGV4KFxuICAgICAgICBsZWdlbmQgPT5cbiAgICAgICAgICBsZWdlbmQuZW5jb2RlICYmXG4gICAgICAgICAgICBsZWdlbmQuZW5jb2RlLmxlZ2VuZCAmJlxuICAgICAgICAgICAgbGVnZW5kLmVuY29kZS5sZWdlbmQubmFtZSA9PT0gbGFzdFN0ZXAuY29tcE5hbWVcbiAgICAgIClcbiAgICAgIDogLTE7XG4gICAgaWYgKG9sZCA+PSAwKSB7XG4gICAgICB1cGRhdGVkU3BlYy5sZWdlbmRzLnNwbGljZShvbGQsIDEpO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0xlZ2VuZCA9IGVTcGVjLmxlZ2VuZHNcbiAgICAgID8gZVNwZWMubGVnZW5kcy5maW5kKFxuICAgICAgICBsZWdlbmQgPT5cbiAgICAgICAgICBsZWdlbmQuZW5jb2RlICYmXG4gICAgICAgICAgICBsZWdlbmQuZW5jb2RlLmxlZ2VuZCAmJlxuICAgICAgICAgICAgbGVnZW5kLmVuY29kZS5sZWdlbmQubmFtZSA9PT0gbGFzdFN0ZXAuY29tcE5hbWVcbiAgICAgIClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmIChuZXdMZWdlbmQpIHtcbiAgICAgIGlmICh1cGRhdGVkU3BlYy5sZWdlbmRzKSB7XG4gICAgICAgIHVwZGF0ZWRTcGVjLmxlZ2VuZHMucHVzaChuZXdMZWdlbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlZFNwZWMubGVnZW5kcyA9IFtuZXdMZWdlbmRdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdXBkYXRlZFNwZWM7XG59IiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZlZ2EvdmVnYS9ibG9iL21hc3Rlci9wYWNrYWdlcy92ZWdhLXNjZW5lZ3JhcGgvc3JjL3V0aWwvdGV4dC5qc1xuZnVuY3Rpb24gdGV4dE9mZnNldChpdGVtKSB7XG4gIC8vIHBlcmZvcm0gb3VyIG93biBmb250IGJhc2VsaW5lIGNhbGN1bGF0aW9uXG4gIC8vIHdoeT8gbm90IGFsbCBicm93c2VycyBzdXBwb3J0IFNWRyAxLjEgJ2FsaWdubWVudC1iYXNlbGluZScgOihcbiAgY29uc3QgeyBiYXNlbGluZSB9ID0gaXRlbTtcbiAgY29uc3QgaCA9IGZvbnRTaXplKGl0ZW0pO1xuICBzd2l0Y2ggKGJhc2VsaW5lKSB7XG4gIGNhc2UgXCJ0b3BcIjpcbiAgICByZXR1cm4gMC43OSAqIGg7XG4gIGNhc2UgXCJtaWRkbGVcIjpcbiAgICByZXR1cm4gMC4zICogaDtcbiAgY2FzZSBcImJvdHRvbVwiOlxuICAgIHJldHVybiAtMC4yMSAqIGg7XG4gIGNhc2UgXCJsaW5lLXRvcFwiOlxuICAgIHJldHVybiAwLjI5ICogaCArIDAuNSAqIGxpbmVIZWlnaHQoaXRlbSk7XG4gIGNhc2UgXCJsaW5lLWJvdHRvbVwiOlxuICAgIHJldHVybiAwLjI5ICogaCAtIDAuNSAqIGxpbmVIZWlnaHQoaXRlbSk7XG4gIGRlZmF1bHQ6XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9udFNpemUoaXRlbSkge1xuICByZXR1cm4gaXRlbS5mb250U2l6ZSAhPSBudWxsID8gK2l0ZW0uZm9udFNpemUgfHwgMCA6IDExO1xufVxuXG5mdW5jdGlvbiBsaW5lSGVpZ2h0KGl0ZW0pIHtcbiAgcmV0dXJuIGl0ZW0ubGluZUhlaWdodCAhPSBudWxsID8gaXRlbS5saW5lSGVpZ2h0IDogZm9udFNpemUoaXRlbSkgKyAyO1xufVxuXG5mdW5jdGlvbiBnZXRTdHlsZShhdHRyKSB7XG4gIHN3aXRjaCAoYXR0cikge1xuICBjYXNlIFwiZm9udFwiOlxuICAgIHJldHVybiBcImZvbnQtZmFtaWx5XCI7XG4gIGNhc2UgXCJmb250U2l6ZVwiOlxuICAgIHJldHVybiBcImZvbnQtc2l6ZVwiO1xuICBjYXNlIFwiZm9udFN0eWxlXCI6XG4gICAgcmV0dXJuIFwiZm9udC1zdHlsZVwiO1xuICBjYXNlIFwiZm9udFZhcmlhbnRcIjpcbiAgICByZXR1cm4gXCJmb250LXZhcmlhbnRcIjtcbiAgY2FzZSBcImZvbnRXZWlnaHRcIjpcbiAgICByZXR1cm4gXCJmb250LXdlaWdodFwiO1xuICBjYXNlIFwic3Ryb2tlV2lkdGhcIjpcbiAgICByZXR1cm4gXCJzdHJva2Utd2lkdGhcIjtcbiAgY2FzZSBcInN0cm9rZURhc2hhcnJheVwiOlxuICAgIHJldHVybiBcInN0cm9rZS1kYXNoYXJyYXlcIjtcbiAgfVxuICByZXR1cm4gYXR0cjtcbn1cblxuZnVuY3Rpb24gc2V0VGV4dEFuY2hvcihkM1NlbGVjdGlvbiwgZm4pIHtcbiAgY29uc3QgdGV4dEFuY2hvciA9IHtcbiAgICBsZWZ0OiBcInN0YXJ0XCIsXG4gICAgY2VudGVyOiBcIm1pZGRsZVwiLFxuICAgIHJpZ2h0OiBcImVuZFwiXG4gIH07XG4gIGQzU2VsZWN0aW9uLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBkID0+IHRleHRBbmNob3JbZm4oZCldKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtSXRlbShpdGVtKSB7XG4gIHJldHVybiBgdHJhbnNsYXRlKCR7aXRlbS54IHx8IDB9LCAke2l0ZW0ueSB8fCAwfSkke1xuICAgIGl0ZW0uYW5nbGUgPyBgIHJvdGF0ZSgke2l0ZW0uYW5nbGV9KWAgOiBcIlwiXG4gIH1gO1xufVxuXG5leHBvcnQgeyB0ZXh0T2Zmc2V0LCBnZXRTdHlsZSwgc2V0VGV4dEFuY2hvciwgdHJhbnNmb3JtSXRlbSB9O1xuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG4vLyBNb2RpZnkgZDMtaW50ZXJwb2xhdGUtcGF0aCAoaHR0cHM6Ly9naXRodWIuY29tL3BiZXNoYWkvZDMtaW50ZXJwb2xhdGUtcGF0aCkgcGFja2FnZSBieSAqKi5cblxuLyoqXG4gKiBMaXN0IG9mIHBhcmFtcyBmb3IgZWFjaCBjb21tYW5kIHR5cGUgaW4gYSBwYXRoIGBkYCBhdHRyaWJ1dGVcbiAqL1xuY29uc3QgdHlwZU1hcCA9IHtcbiAgTTogW1wieFwiLCBcInlcIl0sXG4gIEw6IFtcInhcIiwgXCJ5XCJdLFxuICBIOiBbXCJ4XCJdLFxuICBWOiBbXCJ5XCJdLFxuICBDOiBbXCJ4MVwiLCBcInkxXCIsIFwieDJcIiwgXCJ5MlwiLCBcInhcIiwgXCJ5XCJdLFxuICBTOiBbXCJ4MlwiLCBcInkyXCIsIFwieFwiLCBcInlcIl0sXG4gIFE6IFtcIngxXCIsIFwieTFcIiwgXCJ4XCIsIFwieVwiXSxcbiAgVDogW1wieFwiLCBcInlcIl0sXG4gIEE6IFtcInJ4XCIsIFwicnlcIiwgXCJ4QXhpc1JvdGF0aW9uXCIsIFwibGFyZ2VBcmNGbGFnXCIsIFwic3dlZXBGbGFnXCIsIFwieFwiLCBcInlcIl1cbn07XG5cbi8qKlxuICogQ29udmVydCB0byBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbW1hbmQgZnJvbSBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjb21tYW5kU3RyaW5nIFRva2VuIHN0cmluZyBmcm9tIHRoZSBgZGAgYXR0cmlidXRlIChlLmcuLCBMMCwwKVxuICogQHJldHVybiB7T2JqZWN0fSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoaXMgY29tbWFuZC5cbiAqL1xuZnVuY3Rpb24gY29tbWFuZE9iamVjdChjb21tYW5kU3RyaW5nKSB7XG4gIC8vIGNvbnZlcnQgYWxsIHNwYWNlcyB0byBjb21tYXNcbiAgY29tbWFuZFN0cmluZyA9IGNvbW1hbmRTdHJpbmcudHJpbSgpLnJlcGxhY2UoLyAvZywgXCIsXCIpO1xuXG4gIGNvbnN0IHR5cGUgPSBjb21tYW5kU3RyaW5nWzBdO1xuICBjb25zdCBhcmdzID0gY29tbWFuZFN0cmluZy5zdWJzdHJpbmcoMSkuc3BsaXQoXCIsXCIpO1xuICByZXR1cm4gdHlwZU1hcFt0eXBlLnRvVXBwZXJDYXNlKCldLnJlZHVjZShcbiAgICAob2JqLCBwYXJhbSwgaSkgPT4ge1xuICAgICAgLy8gcGFyc2UgWCBhcyBmbG9hdCBzaW5jZSB3ZSBuZWVkIGl0IHRvIGRvIGRpc3RhbmNlIGNoZWNrcyBmb3IgZXh0ZW5kaW5nIHBvaW50c1xuICAgICAgb2JqW3BhcmFtXSA9IFtcInhcIiwgXCJ5XCJdLmluZGV4T2YocGFyYW0pID49IDAgPyBwYXJzZUZsb2F0KGFyZ3NbaV0pIDogYXJnc1tpXTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICB7IHR5cGUgfVxuICApO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgY29tbWFuZCBvYmplY3QgdG8gYSBzdHJpbmcgdG8gYmUgdXNlZCBpbiBhIGBkYCBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb21tYW5kIEEgY29tbWFuZCBvYmplY3RcbiAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHN0cmluZyBmb3IgdGhlIGBkYCBhdHRyaWJ1dGVcbiAqL1xuZnVuY3Rpb24gY29tbWFuZFRvU3RyaW5nKGNvbW1hbmQpIHtcbiAgY29uc3QgeyB0eXBlIH0gPSBjb21tYW5kO1xuICBjb25zdCBwYXJhbXMgPSB0eXBlTWFwW3R5cGUudG9VcHBlckNhc2UoKV07XG4gIHJldHVybiBgJHt0eXBlfSR7cGFyYW1zLm1hcChwID0+IGNvbW1hbmRbcF0pLmpvaW4oXCIsXCIpfWA7XG59XG5cbi8qKlxuICogQ29udmVydHMgY29tbWFuZCBBIHRvIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjb21tYW5kIEIuXG4gKlxuICogZS5nLiwgTDAsNSAtPiBDMCw1LDAsNSwwLDVcbiAqXG4gKiBVc2VzIHRoZXNlIHJ1bGVzOlxuICogeDEgPC0geFxuICogeDIgPC0geFxuICogeTEgPC0geVxuICogeTIgPC0geVxuICogcnggPC0gMFxuICogcnkgPC0gMFxuICogeEF4aXNSb3RhdGlvbiA8LSByZWFkIGZyb20gQlxuICogbGFyZ2VBcmNGbGFnIDwtIHJlYWQgZnJvbSBCXG4gKiBzd2VlcGZsYWcgPC0gcmVhZCBmcm9tIEJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYUNvbW1hbmQgQ29tbWFuZCBvYmplY3QgZnJvbSBwYXRoIGBkYCBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBiQ29tbWFuZCBDb21tYW5kIG9iamVjdCBmcm9tIHBhdGggYGRgIGF0dHJpYnV0ZSB0byBtYXRjaCBhZ2FpbnN0XG4gKiBAcmV0dXJuIHtPYmplY3R9IGFDb21tYW5kIGNvbnZlcnRlZCB0byB0eXBlIG9mIGJDb21tYW5kXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnRUb1NhbWVUeXBlKGFDb21tYW5kLCBiQ29tbWFuZCkge1xuICBjb25zdCBjb252ZXJzaW9uTWFwID0ge1xuICAgIHgxOiBcInhcIixcbiAgICB5MTogXCJ5XCIsXG4gICAgeDI6IFwieFwiLFxuICAgIHkyOiBcInlcIlxuICB9O1xuXG4gIGNvbnN0IHJlYWRGcm9tQktleXMgPSBbXCJ4QXhpc1JvdGF0aW9uXCIsIFwibGFyZ2VBcmNGbGFnXCIsIFwic3dlZXBGbGFnXCJdO1xuXG4gIC8vIGNvbnZlcnQgKGJ1dCBpZ25vcmUgTSB0eXBlcylcbiAgaWYgKGFDb21tYW5kLnR5cGUgIT09IGJDb21tYW5kLnR5cGUgJiYgYkNvbW1hbmQudHlwZS50b1VwcGVyQ2FzZSgpICE9PSBcIk1cIikge1xuICAgIGNvbnN0IGFDb252ZXJ0ZWQgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhiQ29tbWFuZCkuZm9yRWFjaChiS2V5ID0+IHtcbiAgICAgIGNvbnN0IGJWYWx1ZSA9IGJDb21tYW5kW2JLZXldO1xuICAgICAgLy8gZmlyc3QgcmVhZCBmcm9tIHRoZSBBIGNvbW1hbmRcbiAgICAgIGxldCBhVmFsdWUgPSBhQ29tbWFuZFtiS2V5XTtcblxuICAgICAgLy8gaWYgaXQgaXMgb25lIG9mIHRoZXNlIHZhbHVlcywgcmVhZCBmcm9tIEIgbm8gbWF0dGVyIHdoYXRcbiAgICAgIGlmIChhVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAocmVhZEZyb21CS2V5cy5pbmNsdWRlcyhiS2V5KSkge1xuICAgICAgICAgIGFWYWx1ZSA9IGJWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiBpdCB3YXNuJ3QgaW4gdGhlIEEgY29tbWFuZCwgc2VlIGlmIGFuIGVxdWl2YWxlbnQgd2FzXG4gICAgICAgICAgaWYgKGFWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIGNvbnZlcnNpb25NYXBbYktleV0pIHtcbiAgICAgICAgICAgIGFWYWx1ZSA9IGFDb21tYW5kW2NvbnZlcnNpb25NYXBbYktleV1dO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlmIGl0IGRvZXNuJ3QgaGF2ZSBhIGNvbnZlcnRlZCB2YWx1ZSwgdXNlIDBcbiAgICAgICAgICBpZiAoYVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFWYWx1ZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFDb252ZXJ0ZWRbYktleV0gPSBhVmFsdWU7XG4gICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgdGhlIHR5cGUgdG8gbWF0Y2ggQlxuICAgIGFDb252ZXJ0ZWQudHlwZSA9IGJDb21tYW5kLnR5cGU7XG4gICAgYUNvbW1hbmQgPSBhQ29udmVydGVkO1xuICB9XG5cbiAgcmV0dXJuIGFDb21tYW5kO1xufVxuXG4vKipcbiAqIEV4dGVuZHMgYW4gYXJyYXkgb2YgY29tbWFuZHMgdG8gdGhlIGxlbmd0aCBvZiB0aGUgc2Vjb25kIGFycmF5XG4gKiBpbnNlcnRpbmcgcG9pbnRzIGF0IHRoZSBzcG90IHRoYXQgaXMgY2xvc2VzdCBieSBYIHZhbHVlLiBFbnN1cmVzXG4gKiBhbGwgdGhlIHBvaW50cyBvZiBjb21tYW5kc1RvRXh0ZW5kIGFyZSBpbiB0aGUgZXh0ZW5kZWQgYXJyYXkgYW5kIHRoYXRcbiAqIG9ubHkgbnVtUG9pbnRzVG9FeHRlbmQgcG9pbnRzIGFyZSBhZGRlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdFtdfSBjb21tYW5kc1RvRXh0ZW5kIFRoZSBjb21tYW5kcyBhcnJheSB0byBleHRlbmRcbiAqIEBwYXJhbSB7T2JqZWN0W119IHJlZmVyZW5jZUNvbW1hbmRzIFRoZSBjb21tYW5kcyBhcnJheSB0byBtYXRjaFxuICogQHJldHVybiB7T2JqZWN0W119IFRoZSBleHRlbmRlZCBjb21tYW5kczEgYXJyYXlcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGNvbW1hbmRzVG9FeHRlbmQsIHJlZmVyZW5jZUNvbW1hbmRzLCBudW1Qb2ludHNUb0V4dGVuZCkge1xuICAvLyBtYXAgZWFjaCBjb21tYW5kIGluIEIgdG8gYSBjb21tYW5kIGluIEEgYnkgY291bnRpbmcgaG93IG1hbnkgdGltZXMgaWRlYWxseVxuICAvLyBhIGNvbW1hbmQgaW4gQSB3YXMgaW4gdGhlIGluaXRpYWwgcGF0aCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wYmVzaGFpL2QzLWludGVycG9sYXRlLXBhdGgvaXNzdWVzLzgpXG4gIGxldCBpbml0aWFsQ29tbWFuZEluZGV4O1xuICBpZiAoY29tbWFuZHNUb0V4dGVuZC5sZW5ndGggPiAxICYmIGNvbW1hbmRzVG9FeHRlbmRbMF0udHlwZSA9PT0gXCJNXCIpIHtcbiAgICBpbml0aWFsQ29tbWFuZEluZGV4ID0gMTtcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsQ29tbWFuZEluZGV4ID0gMDtcbiAgfVxuXG4gIGNvbnN0IGNvdW50cyA9IHJlZmVyZW5jZUNvbW1hbmRzLnJlZHVjZSgoY291bnRzLCByZWZDb21tYW5kLCBpKSA9PiB7XG4gICAgLy8gc2tpcCBmaXJzdCBNXG4gICAgaWYgKGkgPT09IDAgJiYgcmVmQ29tbWFuZC50eXBlID09PSBcIk1cIikge1xuICAgICAgY291bnRzWzBdID0gMTtcbiAgICAgIHJldHVybiBjb3VudHM7XG4gICAgfVxuXG4gICAgbGV0IG1pbkRpc3RhbmNlID0gTWF0aC5hYnMoXG4gICAgICBjb21tYW5kc1RvRXh0ZW5kW2luaXRpYWxDb21tYW5kSW5kZXhdLnggLSByZWZDb21tYW5kLnhcbiAgICApO1xuICAgIGxldCBtaW5Db21tYW5kID0gaW5pdGlhbENvbW1hbmRJbmRleDtcblxuICAgIC8vIGZpbmQgdGhlIGNsb3Nlc3QgcG9pbnQgYnkgWCBwb3NpdGlvbiBpbiBBXG4gICAgZm9yIChsZXQgaiA9IGluaXRpYWxDb21tYW5kSW5kZXggKyAxOyBqIDwgY29tbWFuZHNUb0V4dGVuZC5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLmFicyhjb21tYW5kc1RvRXh0ZW5kW2pdLnggLSByZWZDb21tYW5kLngpO1xuICAgICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgbWluQ29tbWFuZCA9IGo7XG4gICAgICAgIC8vIHNpbmNlIHdlIGFzc3VtZSBzb3J0ZWQgYnkgWCwgb25jZSB3ZSBmaW5kIGEgdmFsdWUgZmFydGhlciwgd2UgY2FuIHJldHVybiB0aGUgbWluLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY291bnRzW21pbkNvbW1hbmRdID0gKGNvdW50c1ttaW5Db21tYW5kXSB8fCAwKSArIDE7XG4gICAgcmV0dXJuIGNvdW50cztcbiAgfSwge30pO1xuXG4gIC8vIG5vdyBleHRlbmQgdGhlIGFycmF5IGFkZGluZyBpbiBhdCB0aGUgYXBwcm9wcmlhdGUgcGxhY2UgYXMgbmVlZGVkXG4gIGNvbnN0IGV4dGVuZGVkID0gW107XG4gIGxldCBudW1FeHRlbmRlZCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY29tbWFuZHNUb0V4dGVuZC5sZW5ndGg7IGkrKykge1xuICAgIC8vIGFkZCBpbiB0aGUgaW5pdGlhbCBwb2ludCBmb3IgdGhpcyBBIGNvbW1hbmRcbiAgICBleHRlbmRlZC5wdXNoKGNvbW1hbmRzVG9FeHRlbmRbaV0pO1xuXG4gICAgZm9yIChsZXQgaiA9IDE7IGogPCBjb3VudHNbaV0gJiYgbnVtRXh0ZW5kZWQgPCBudW1Qb2ludHNUb0V4dGVuZDsgaisrKSB7XG4gICAgICBjb25zdCBjb21tYW5kVG9BZGQgPSBPYmplY3QuYXNzaWduKHt9LCBjb21tYW5kc1RvRXh0ZW5kW2ldKTtcbiAgICAgIC8vIGRvbid0IGFsbG93IG11bHRpcGxlIE1zXG4gICAgICBpZiAoY29tbWFuZFRvQWRkLnR5cGUgPT09IFwiTVwiKSB7XG4gICAgICAgIGNvbW1hbmRUb0FkZC50eXBlID0gXCJMXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0cnkgdG8gc2V0IGNvbnRyb2wgcG9pbnRzIHRvIHggYW5kIHlcbiAgICAgICAgaWYgKGNvbW1hbmRUb0FkZC54MSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29tbWFuZFRvQWRkLngxID0gY29tbWFuZFRvQWRkLng7XG4gICAgICAgICAgY29tbWFuZFRvQWRkLnkxID0gY29tbWFuZFRvQWRkLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tbWFuZFRvQWRkLngyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb21tYW5kVG9BZGQueDIgPSBjb21tYW5kVG9BZGQueDtcbiAgICAgICAgICBjb21tYW5kVG9BZGQueTIgPSBjb21tYW5kVG9BZGQueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZXh0ZW5kZWQucHVzaChjb21tYW5kVG9BZGQpO1xuICAgICAgbnVtRXh0ZW5kZWQgKz0gMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXh0ZW5kZWQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBhbiBhcnJheSBvZiBjb21tYW5kcyB0byB0aGUgbGVuZ3RoIG9mIHRoZSBzZWNvbmQgYXJyYXlcbiAqIGluc2VydGluZyBwb2ludHMgYXQgdGhlIHNwb3QgdGhhdCBpcyBjbG9zZXN0IGJ5IFggdmFsdWUuIEVuc3VyZXNcbiAqIGFsbCB0aGUgcG9pbnRzIG9mIGNvbW1hbmRzVG9FeHRlbmQgYXJlIGluIHRoZSBleHRlbmRlZCBhcnJheSBhbmQgdGhhdFxuICogb25seSBudW1Qb2ludHNUb0V4dGVuZCBwb2ludHMgYXJlIGFkZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0W119IGNvbW1hbmRzVG9FeHRlbmQgVGhlIGNvbW1hbmRzIGFycmF5IHRvIGV4dGVuZFxuICogQHBhcmFtIHtPYmplY3RbXX0gcmVmZXJlbmNlQ29tbWFuZHMgVGhlIGNvbW1hbmRzIGFycmF5IHRvIG1hdGNoXG4gKiBAcmV0dXJuIHtPYmplY3RbXX0gVGhlIGV4dGVuZGVkIGNvbW1hbmRzMSBhcnJheVxuICovXG5mdW5jdGlvbiBleHRlbmQyKGNvbW1hbmRzVG9FeHRlbmQsIHJlZmVyZW5jZUNvbW1hbmRzLCBudW1Qb2ludHNUb0V4dGVuZCwgYWxvbmdUbz1cInhcIikge1xuICAvLyBtYXAgZWFjaCBjb21tYW5kIGluIEIgdG8gYSBjb21tYW5kIGluIEEgYnkgY291bnRpbmcgaG93IG1hbnkgdGltZXMgaWRlYWxseVxuICAvLyBhIGNvbW1hbmQgaW4gQSB3YXMgaW4gdGhlIGluaXRpYWwgcGF0aCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wYmVzaGFpL2QzLWludGVycG9sYXRlLXBhdGgvaXNzdWVzLzgpXG4gIGxldCBpbml0aWFsQ29tbWFuZEluZGV4O1xuICBpZiAoY29tbWFuZHNUb0V4dGVuZC5sZW5ndGggPiAxICYmIGNvbW1hbmRzVG9FeHRlbmRbMF0udHlwZSA9PT0gXCJNXCIpIHtcbiAgICBpbml0aWFsQ29tbWFuZEluZGV4ID0gMTtcbiAgfSBlbHNlIHtcbiAgICBpbml0aWFsQ29tbWFuZEluZGV4ID0gMDtcbiAgfVxuICBsZXQgW20sIHN1Yk1dID0gYWxvbmdUbyA9PT0gXCJ4XCIgPyBbXCJ4XCIsIFwieVwiXSA6IFtcInlcIiwgXCJ4XCJdO1xuXG5cbiAgY29uc3QgY291bnRzID0gcmVmZXJlbmNlQ29tbWFuZHMucmVkdWNlKChjb3VudHMsIHJlZkNvbW1hbmQsIGkpID0+IHtcbiAgICAvLyBza2lwIGZpcnN0IE1cbiAgICBpZiAoaSA9PT0gMCAmJiByZWZDb21tYW5kLnR5cGUgPT09IFwiTVwiKSB7XG4gICAgICBjb3VudHNbMF0gPSAxO1xuICAgICAgcmV0dXJuIGNvdW50cztcbiAgICB9XG5cbiAgICBsZXQgbWluRGlzdGFuY2UgPSBNYXRoLmFicyhcbiAgICAgIGNvbW1hbmRzVG9FeHRlbmRbaW5pdGlhbENvbW1hbmRJbmRleF1bbV0gLSByZWZDb21tYW5kW21dXG4gICAgKTtcbiAgICBsZXQgc3ViTWluRGlzdGFuY2UgPSBNYXRoLmFicyhcbiAgICAgIGNvbW1hbmRzVG9FeHRlbmRbaW5pdGlhbENvbW1hbmRJbmRleF1bc3ViTV0gLSByZWZDb21tYW5kW3N1Yk1dXG4gICAgKTtcbiAgICBsZXQgbWluQ29tbWFuZCA9IGluaXRpYWxDb21tYW5kSW5kZXg7XG5cbiAgICAvLyBmaW5kIHRoZSBjbG9zZXN0IHBvaW50IGJ5IFggcG9zaXRpb24gaW4gQVxuICAgIGZvciAobGV0IGogPSBpbml0aWFsQ29tbWFuZEluZGV4ICsgMTsgaiA8IGNvbW1hbmRzVG9FeHRlbmQubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5hYnMoY29tbWFuZHNUb0V4dGVuZFtqXVttXSAtIHJlZkNvbW1hbmRbbV0pO1xuICAgICAgY29uc3Qgc3ViRGlzdGFuY2UgPSBNYXRoLmFicyhjb21tYW5kc1RvRXh0ZW5kW2pdW3N1Yk1dIC0gcmVmQ29tbWFuZFtzdWJNXSk7XG4gICAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgICBtaW5Db21tYW5kID0gajtcbiAgICAgICAgc3ViTWluRGlzdGFuY2UgPSBzdWJEaXN0YW5jZTtcbiAgICAgICAgLy8gc2luY2Ugd2UgYXNzdW1lIHNvcnRlZCBieSBYLCBvbmNlIHdlIGZpbmQgYSB2YWx1ZSBmYXJ0aGVyLCB3ZSBjYW4gcmV0dXJuIHRoZSBtaW4uXG4gICAgICB9IGVsc2UgaWYgKGRpc3RhbmNlID09PSBtaW5EaXN0YW5jZSkge1xuICAgICAgICBpZiAoc3ViRGlzdGFuY2UgPCBzdWJNaW5EaXN0YW5jZSkge1xuICAgICAgICAgIG1pbkNvbW1hbmQgPSBqO1xuICAgICAgICAgIHN1Yk1pbkRpc3RhbmNlID0gc3ViRGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvdW50c1ttaW5Db21tYW5kXSA9IChjb3VudHNbbWluQ29tbWFuZF0gfHwgMCkgKyAxO1xuICAgIHJldHVybiBjb3VudHM7XG4gIH0sIHt9KTtcblxuICAvLyBub3cgZXh0ZW5kIHRoZSBhcnJheSBhZGRpbmcgaW4gYXQgdGhlIGFwcHJvcHJpYXRlIHBsYWNlIGFzIG5lZWRlZFxuICBjb25zdCBleHRlbmRlZCA9IFtdO1xuICBsZXQgbnVtRXh0ZW5kZWQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbW1hbmRzVG9FeHRlbmQubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBhZGQgaW4gdGhlIGluaXRpYWwgcG9pbnQgZm9yIHRoaXMgQSBjb21tYW5kXG4gICAgZXh0ZW5kZWQucHVzaChjb21tYW5kc1RvRXh0ZW5kW2ldKTtcblxuICAgIGZvciAobGV0IGogPSAxOyBqIDwgY291bnRzW2ldICYmIG51bUV4dGVuZGVkIDwgbnVtUG9pbnRzVG9FeHRlbmQ7IGorKykge1xuICAgICAgY29uc3QgY29tbWFuZFRvQWRkID0gT2JqZWN0LmFzc2lnbih7fSwgY29tbWFuZHNUb0V4dGVuZFtpXSk7XG4gICAgICAvLyBkb24ndCBhbGxvdyBtdWx0aXBsZSBNc1xuICAgICAgaWYgKGNvbW1hbmRUb0FkZC50eXBlID09PSBcIk1cIikge1xuICAgICAgICBjb21tYW5kVG9BZGQudHlwZSA9IFwiTFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdHJ5IHRvIHNldCBjb250cm9sIHBvaW50cyB0byB4IGFuZCB5XG4gICAgICAgIGlmIChjb21tYW5kVG9BZGQueDEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbW1hbmRUb0FkZC54MSA9IGNvbW1hbmRUb0FkZC54O1xuICAgICAgICAgIGNvbW1hbmRUb0FkZC55MSA9IGNvbW1hbmRUb0FkZC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbW1hbmRUb0FkZC54MiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29tbWFuZFRvQWRkLngyID0gY29tbWFuZFRvQWRkLng7XG4gICAgICAgICAgY29tbWFuZFRvQWRkLnkyID0gY29tbWFuZFRvQWRkLnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGV4dGVuZGVkLnB1c2goY29tbWFuZFRvQWRkKTtcbiAgICAgIG51bUV4dGVuZGVkICs9IDE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4dGVuZGVkO1xufVxuXG4vKipcbiAqIEludGVycG9sYXRlIGZyb20gQSB0byBCIGJ5IGV4dGVuZGluZyBBIGFuZCBCIGR1cmluZyBpbnRlcnBvbGF0aW9uIHRvIGhhdmVcbiAqIHRoZSBzYW1lIG51bWJlciBvZiBwb2ludHMuIFRoaXMgYWxsb3dzIGZvciBhIHNtb290aCB0cmFuc2l0aW9uIHdoZW4gdGhleVxuICogaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgcG9pbnRzLlxuICpcbiAqIElnbm9yZXMgdGhlIGBaYCBjaGFyYWN0ZXIgaW4gcGF0aHMgdW5sZXNzIGJvdGggQSBhbmQgQiBlbmQgd2l0aCBpdC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYSBUaGUgYGRgIGF0dHJpYnV0ZSBmb3IgYSBwYXRoXG4gKiBAcGFyYW0ge1N0cmluZ30gYiBUaGUgYGRgIGF0dHJpYnV0ZSBmb3IgYSBwYXRoXG4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRlUGF0aChhLCBiLCBhbG9uZ1RvID0gXCJ4XCIpIHtcbiAgLy8gcmVtb3ZlIFosIHJlbW92ZSBzcGFjZXMgYWZ0ZXIgbGV0dGVycyBhcyBzZWVuIGluIElFXG4gIGNvbnN0IGFOb3JtYWxpemVkID1cbiAgICBhID09IG51bGwgPyBcIlwiIDogYS5yZXBsYWNlKC9bWl0vZ2ksIFwiXCIpLnJlcGxhY2UoLyhbTUxDU1RRQUhWXSlcXHMqL2dpLCBcIiQxXCIpO1xuICBjb25zdCBiTm9ybWFsaXplZCA9XG4gICAgYiA9PSBudWxsID8gXCJcIiA6IGIucmVwbGFjZSgvW1pdL2dpLCBcIlwiKS5yZXBsYWNlKC8oW01MQ1NUUUFIVl0pXFxzKi9naSwgXCIkMVwiKTtcbiAgY29uc3QgYVBvaW50cyA9XG4gICAgYU5vcm1hbGl6ZWQgPT09IFwiXCIgPyBbXSA6IGFOb3JtYWxpemVkLnNwbGl0KC8oPz1bTUxDU1RRQUhWXSkvZ2kpO1xuICBjb25zdCBiUG9pbnRzID1cbiAgICBiTm9ybWFsaXplZCA9PT0gXCJcIiA/IFtdIDogYk5vcm1hbGl6ZWQuc3BsaXQoLyg/PVtNTENTVFFBSFZdKS9naSk7XG5cbiAgLy8gaWYgYm90aCBhcmUgZW1wdHksIGludGVycG9sYXRpb24gaXMgYWx3YXlzIHRoZSBlbXB0eSBzdHJpbmcuXG4gIGlmICghYVBvaW50cy5sZW5ndGggJiYgIWJQb2ludHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG51bGxJbnRlcnBvbGF0b3IoKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgLy8gaWYgQSBpcyBlbXB0eSwgdHJlYXQgaXQgYXMgaWYgaXQgdXNlZCB0byBjb250YWluIGp1c3QgdGhlIGZpcnN0IHBvaW50XG4gIC8vIG9mIEIuIFRoaXMgbWFrZXMgaXQgc28gdGhlIGxpbmUgZXh0ZW5kcyBvdXQgb2YgZnJvbSB0aGF0IGZpcnN0IHBvaW50LlxuICBpZiAoIWFQb2ludHMubGVuZ3RoKSB7XG4gICAgYVBvaW50cy5wdXNoKGJQb2ludHNbMF0pO1xuXG4gICAgLy8gb3RoZXJ3aXNlIGlmIEIgaXMgZW1wdHksIHRyZWF0IGl0IGFzIGlmIGl0IGNvbnRhaW5zIHRoZSBmaXJzdCBwb2ludFxuICAgIC8vIG9mIEEuIFRoaXMgbWFrZXMgaXQgc28gdGhlIGxpbmUgcmV0cmFjdHMgaW50byB0aGUgZmlyc3QgcG9pbnQuXG4gIH0gZWxzZSBpZiAoIWJQb2ludHMubGVuZ3RoKSB7XG4gICAgYlBvaW50cy5wdXNoKGFQb2ludHNbMF0pO1xuICB9XG5cbiAgLy8gY29udmVydCB0byBjb21tYW5kIG9iamVjdHMgc28gd2UgY2FuIG1hdGNoIHR5cGVzXG4gIGxldCBhQ29tbWFuZHMgPSBhUG9pbnRzLm1hcChjb21tYW5kT2JqZWN0KTtcbiAgbGV0IGJDb21tYW5kcyA9IGJQb2ludHMubWFwKGNvbW1hbmRPYmplY3QpO1xuXG4gIC8vIGV4dGVuZCB0byBtYXRjaCBlcXVhbCBzaXplXG4gIGNvbnN0IG51bVBvaW50c1RvRXh0ZW5kID0gTWF0aC5hYnMoYlBvaW50cy5sZW5ndGggLSBhUG9pbnRzLmxlbmd0aCk7XG5cbiAgaWYgKG51bVBvaW50c1RvRXh0ZW5kICE9PSAwKSB7XG4gICAgLy8gQiBoYXMgbW9yZSBwb2ludHMgdGhhbiBBLCBzbyBhZGQgcG9pbnRzIHRvIEEgYmVmb3JlIGludGVycG9sYXRpbmdcbiAgICBpZiAoYkNvbW1hbmRzLmxlbmd0aCA+IGFDb21tYW5kcy5sZW5ndGgpIHtcbiAgICAgIGFDb21tYW5kcyA9IGV4dGVuZDIoYUNvbW1hbmRzLCBiQ29tbWFuZHMsIG51bVBvaW50c1RvRXh0ZW5kLCBhbG9uZ1RvKTtcblxuICAgICAgLy8gZWxzZSBpZiBBIGhhcyBtb3JlIHBvaW50cyB0aGFuIEIsIGFkZCBtb3JlIHBvaW50cyB0byBCXG4gICAgfSBlbHNlIGlmIChiQ29tbWFuZHMubGVuZ3RoIDwgYUNvbW1hbmRzLmxlbmd0aCkge1xuICAgICAgYkNvbW1hbmRzID0gZXh0ZW5kMihiQ29tbWFuZHMsIGFDb21tYW5kcywgbnVtUG9pbnRzVG9FeHRlbmQsIGFsb25nVG8pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNvbW1hbmRzIGhhdmUgc2FtZSBsZW5ndGggbm93LlxuICAvLyBjb252ZXJ0IEEgdG8gdGhlIHNhbWUgdHlwZSBvZiBCXG4gIGFDb21tYW5kcyA9IGFDb21tYW5kcy5tYXAoKGFDb21tYW5kLCBpKSA9PlxuICAgIGNvbnZlcnRUb1NhbWVUeXBlKGFDb21tYW5kLCBiQ29tbWFuZHNbaV0pXG4gICk7XG5cbiAgbGV0IGFQcm9jZXNzZWQgPSBhQ29tbWFuZHMubWFwKGNvbW1hbmRUb1N0cmluZykuam9pbihcIlwiKTtcbiAgbGV0IGJQcm9jZXNzZWQgPSBiQ29tbWFuZHMubWFwKGNvbW1hbmRUb1N0cmluZykuam9pbihcIlwiKTtcblxuICAvLyBpZiBib3RoIEEgYW5kIEIgZW5kIHdpdGggWiBhZGQgaXQgYmFjayBpblxuICBpZiAoXG4gICAgKGEgPT0gbnVsbCB8fCBhW2EubGVuZ3RoIC0gMV0gPT09IFwiWlwiKSAmJlxuICAgIChiID09IG51bGwgfHwgYltiLmxlbmd0aCAtIDFdID09PSBcIlpcIilcbiAgKSB7XG4gICAgYVByb2Nlc3NlZCArPSBcIlpcIjtcbiAgICBiUHJvY2Vzc2VkICs9IFwiWlwiO1xuICB9XG5cbiAgY29uc3Qgc3RyaW5nSW50ZXJwb2xhdG9yID0gZDMuaW50ZXJwb2xhdGVTdHJpbmcoYVByb2Nlc3NlZCwgYlByb2Nlc3NlZCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHBhdGhJbnRlcnBvbGF0b3IodCkge1xuICAgIC8vIGF0IDEgcmV0dXJuIHRoZSBmaW5hbCB2YWx1ZSB3aXRob3V0IHRoZSBleHRlbnNpb25zIHVzZWQgZHVyaW5nIGludGVycG9sYXRpb25cbiAgICBpZiAodCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGIgPT0gbnVsbCA/IFwiXCIgOiBiO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmdJbnRlcnBvbGF0b3IodCk7XG4gIH07XG59XG5cbi8vIGEgLT4gYSArIHJldmVyc2UoYSkgc28gdGhhdCB0aGUgbGluZSBpcyBjbG9zZWQuXG5mdW5jdGlvbiBsaW5lVG9BcmVhKGEpIHtcbiAgY29uc3QgYU5vcm1hbGl6ZWQgPVxuICAgIGEgPT0gbnVsbCA/IFwiXCIgOiBhLnJlcGxhY2UoL1taXS9naSwgXCJcIikucmVwbGFjZSgvKFtNTENTVFFBSFZdKVxccyovZ2ksIFwiJDFcIik7XG4gIGNvbnN0IGFQb2ludHMgPVxuICAgIGFOb3JtYWxpemVkID09PSBcIlwiID8gW10gOiBhTm9ybWFsaXplZC5zcGxpdCgvKD89W01MQ1NUUUFIVl0pL2dpKTtcblxuICBpZiAoYVBvaW50cy5sZW5ndGggPD0gMCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgLy8gY29udmVydCB0byBjb21tYW5kIG9iamVjdHMgc28gd2UgY2FuIG1hdGNoIHR5cGVzXG4gIGNvbnN0IGFDb21tYW5kcyA9IGFQb2ludHMubWFwKGNvbW1hbmRPYmplY3QpO1xuICBjb25zdCByZXZlcnNlZCA9IGFQb2ludHMubWFwKGNvbW1hbmRPYmplY3QpLnJldmVyc2UoKTtcbiAgaWYgKHJldmVyc2VkW3JldmVyc2VkLmxlbmd0aCAtIDFdLnR5cGUgPT0gXCJNXCIpIHtcbiAgICByZXZlcnNlZFtyZXZlcnNlZC5sZW5ndGggLSAxXS50eXBlID0gcmV2ZXJzZWRbcmV2ZXJzZWQubGVuZ3RoIC0gMl0udHlwZTtcbiAgfVxuICByZXR1cm4gYCR7YUNvbW1hbmRzXG4gICAgLmNvbmNhdChyZXZlcnNlZClcbiAgICAubWFwKGNvbW1hbmRUb1N0cmluZylcbiAgICAuam9pbihcIlwiKX1aYDtcbn1cbi8qKlxuICogSW50ZXJwb2xhdGUgZnJvbSBBIHRvIEIgYnkgZXh0ZW5kaW5nIEEgYW5kIEIgZHVyaW5nIGludGVycG9sYXRpb24gdG8gaGF2ZVxuICogdGhlIHNhbWUgbnVtYmVyIG9mIHBvaW50cy4gVGhpcyBhbGxvd3MgZm9yIGEgc21vb3RoIHRyYW5zaXRpb24gd2hlbiB0aGV5XG4gKiBoYXZlIGEgZGlmZmVyZW50IG51bWJlciBvZiBwb2ludHMuXG4gKlxuICogSWdub3JlcyB0aGUgYFpgIGNoYXJhY3RlciBpbiBwYXRocyB1bmxlc3MgYm90aCBBIGFuZCBCIGVuZCB3aXRoIGl0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhIFRoZSBgZGAgYXR0cmlidXRlIGZvciBhIHBhdGhcbiAqIEBwYXJhbSB7U3RyaW5nfSBiIFRoZSBgZGAgYXR0cmlidXRlIGZvciBhIHBhdGhcbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGVQYXRoMihhLCBiLCBhbG9uZ1RvID0gXCJ4XCIpIHtcbiAgLy8gcmVtb3ZlIFosIHJlbW92ZSBzcGFjZXMgYWZ0ZXIgbGV0dGVycyBhcyBzZWVuIGluIElFXG4gIGNvbnN0IGFOb3JtYWxpemVkID1cbiAgICBhID09IG51bGwgPyBcIlwiIDogYS5yZXBsYWNlKC9bWl0vZ2ksIFwiXCIpLnJlcGxhY2UoLyhbTUxDU1RRQUhWXSlcXHMqL2dpLCBcIiQxXCIpO1xuICBjb25zdCBiTm9ybWFsaXplZCA9XG4gICAgYiA9PSBudWxsID8gXCJcIiA6IGIucmVwbGFjZSgvW1pdL2dpLCBcIlwiKS5yZXBsYWNlKC8oW01MQ1NUUUFIVl0pXFxzKi9naSwgXCIkMVwiKTtcbiAgY29uc3QgYVBvaW50cyA9XG4gICAgYU5vcm1hbGl6ZWQgPT09IFwiXCIgPyBbXSA6IGFOb3JtYWxpemVkLnNwbGl0KC8oPz1bTUxDU1RRQUhWXSkvZ2kpO1xuICBjb25zdCBiUG9pbnRzID1cbiAgICBiTm9ybWFsaXplZCA9PT0gXCJcIiA/IFtdIDogYk5vcm1hbGl6ZWQuc3BsaXQoLyg/PVtNTENTVFFBSFZdKS9naSk7XG5cbiAgLy8gaWYgYm90aCBhcmUgZW1wdHksIGludGVycG9sYXRpb24gaXMgYWx3YXlzIHRoZSBlbXB0eSBzdHJpbmcuXG4gIGlmICghYVBvaW50cy5sZW5ndGggJiYgIWJQb2ludHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG51bGxJbnRlcnBvbGF0b3IoKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgLy8gaWYgQSBpcyBlbXB0eSwgdHJlYXQgaXQgYXMgaWYgaXQgdXNlZCB0byBjb250YWluIGp1c3QgdGhlIGZpcnN0IHBvaW50XG4gIC8vIG9mIEIuIFRoaXMgbWFrZXMgaXQgc28gdGhlIGxpbmUgZXh0ZW5kcyBvdXQgb2YgZnJvbSB0aGF0IGZpcnN0IHBvaW50LlxuICBpZiAoIWFQb2ludHMubGVuZ3RoKSB7XG4gICAgYVBvaW50cy5wdXNoKGJQb2ludHNbMF0pO1xuXG4gICAgLy8gb3RoZXJ3aXNlIGlmIEIgaXMgZW1wdHksIHRyZWF0IGl0IGFzIGlmIGl0IGNvbnRhaW5zIHRoZSBmaXJzdCBwb2ludFxuICAgIC8vIG9mIEEuIFRoaXMgbWFrZXMgaXQgc28gdGhlIGxpbmUgcmV0cmFjdHMgaW50byB0aGUgZmlyc3QgcG9pbnQuXG4gIH0gZWxzZSBpZiAoIWJQb2ludHMubGVuZ3RoKSB7XG4gICAgYlBvaW50cy5wdXNoKGFQb2ludHNbMF0pO1xuICB9XG5cbiAgLy8gY29udmVydCB0byBjb21tYW5kIG9iamVjdHMgc28gd2UgY2FuIG1hdGNoIHR5cGVzXG4gIGNvbnN0IGFDb21tYW5kcyA9IGFQb2ludHMubWFwKGNvbW1hbmRPYmplY3QpO1xuICBjb25zdCBiQ29tbWFuZHMgPSBiUG9pbnRzLm1hcChjb21tYW5kT2JqZWN0KTtcbiAgbGV0IGhhc1ogPSBmYWxzZTtcbiAgaWYgKFxuICAgIChhID09IG51bGwgfHwgYVthLmxlbmd0aCAtIDFdID09PSBcIlpcIikgJiZcbiAgICAoYiA9PSBudWxsIHx8IGJbYi5sZW5ndGggLSAxXSA9PT0gXCJaXCIpXG4gICkge1xuICAgIGhhc1ogPSB0cnVlO1xuICB9XG5cbiAgLy8gZ2V0IHRhaWxcbiAgLy8gZ2V0IGhlYWRcbiAgLy8gY29uY2F0IHRhaWwgKyBib2R5ICsgaGVhZFxuICBjb25zdCBhRXh0ZW50ID0gZDMuZXh0ZW50KGFDb21tYW5kcywgYyA9PiBjW2Fsb25nVG9dKTtcbiAgY29uc3QgYkV4dGVudCA9IGQzLmV4dGVudChiQ29tbWFuZHMsIGMgPT4gY1thbG9uZ1RvXSk7XG4gIGlmIChhbG9uZ1RvID09PSBcInhcIikge1xuICAgIGNvbnN0IGFIZWFkSSA9IGFDb21tYW5kcy5maW5kSW5kZXgoYyA9PiBjW2Fsb25nVG9dID09PSBhRXh0ZW50WzFdKTtcbiAgICBjb25zdCBiSGVhZEkgPSBiQ29tbWFuZHMuZmluZEluZGV4KGMgPT4gY1thbG9uZ1RvXSA9PT0gYkV4dGVudFsxXSk7XG5cbiAgICBjb25zdCBhVG9wID0gYUNvbW1hbmRzLnNsaWNlKDAsIGFIZWFkSSArIDEpO1xuICAgIGNvbnN0IGJUb3AgPSBiQ29tbWFuZHMuc2xpY2UoMCwgYkhlYWRJICsgMSk7XG4gICAgY29uc3QgYUJvdHRvbSA9IGFDb21tYW5kcy5zbGljZShhSGVhZEkgKyAxKS5yZXZlcnNlKCk7XG4gICAgY29uc3QgYkJvdHRvbSA9IGJDb21tYW5kcy5zbGljZShiSGVhZEkgKyAxKS5yZXZlcnNlKCk7XG4gICAgY29uc3QgaGFzQm90dG9tID0gYUJvdHRvbS5sZW5ndGggPiAwICYmIGJCb3R0b20ubGVuZ3RoID4gMDtcblxuICAgIHJldHVybiB0ID0+IHtcbiAgICAgIGlmICh0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBiID09PSBudWxsID8gXCJcIiA6IGI7XG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICBpbnRlcnBvbGF0ZU91dGxpbmUoYVRvcCwgYlRvcCwgYUV4dGVudCwgYkV4dGVudCkodCkgK1xuICAgICAgICAoaGFzQm90dG9tXG4gICAgICAgICAgPyBpbnRlcnBvbGF0ZU91dGxpbmUoYUJvdHRvbSwgYkJvdHRvbSwgYUV4dGVudCwgYkV4dGVudCwgdHJ1ZSwgdHJ1ZSkodClcbiAgICAgICAgICA6IFwiXCIpICtcbiAgICAgICAgKGhhc1ogPyBcIlpcIiA6IFwiXCIpXG4gICAgICApO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYUhlYWRJID0gYUNvbW1hbmRzLmZpbmRJbmRleChjID0+IGNbYWxvbmdUb10gPT09IGFFeHRlbnRbMF0pO1xuICAgIGNvbnN0IGJIZWFkSSA9IGJDb21tYW5kcy5maW5kSW5kZXgoYyA9PiBjW2Fsb25nVG9dID09PSBiRXh0ZW50WzBdKTtcblxuICAgIGNvbnN0IGFUb3AgPSBhQ29tbWFuZHMuc2xpY2UoMCwgYUhlYWRJICsgMSkucmV2ZXJzZSgpO1xuICAgIGNvbnN0IGJUb3AgPSBiQ29tbWFuZHMuc2xpY2UoMCwgYkhlYWRJICsgMSkucmV2ZXJzZSgpO1xuICAgIGNvbnN0IGFCb3R0b20gPSBhQ29tbWFuZHMuc2xpY2UoYUhlYWRJICsgMSk7XG4gICAgY29uc3QgYkJvdHRvbSA9IGJDb21tYW5kcy5zbGljZShiSGVhZEkgKyAxKTtcbiAgICBjb25zdCBoYXNCb3R0b20gPSBhQm90dG9tLmxlbmd0aCA+IDAgJiYgYkJvdHRvbS5sZW5ndGggPiAwO1xuXG4gICAgcmV0dXJuIHQgPT4ge1xuICAgICAgaWYgKHQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGIgPT09IG51bGwgPyBcIlwiIDogYjtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGludGVycG9sYXRlT3V0bGluZShhVG9wLCBiVG9wLCBhRXh0ZW50LCBiRXh0ZW50LCB0cnVlKSh0KSArXG4gICAgICAgIChoYXNCb3R0b21cbiAgICAgICAgICA/IGludGVycG9sYXRlT3V0bGluZShhQm90dG9tLCBiQm90dG9tLCBhRXh0ZW50LCBiRXh0ZW50LCBmYWxzZSwgdHJ1ZSkodClcbiAgICAgICAgICA6IFwiXCIpICtcbiAgICAgICAgKGhhc1ogPyBcIlpcIiA6IFwiXCIpXG4gICAgICApO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpbnRlcnBvbGF0ZU91dGxpbmUoXG4gICAgYUNvbW1hbmRzLFxuICAgIGJDb21tYW5kcyxcbiAgICBhRXh0ZW50LFxuICAgIGJFeHRlbnQsXG4gICAgcmV2ZXJzZSxcbiAgICBpc0JvdHRvbSA9IGZhbHNlXG4gICkge1xuICAgIGxldCBoZWFkO1xuICAgIGxldCB0YWlsO1xuICAgIGxldCBib2R5O1xuICAgIGlmIChhRXh0ZW50WzFdIDwgYkV4dGVudFswXSB8fCBhRXh0ZW50WzBdID4gYkV4dGVudFsxXSkge1xuICAgICAgLy8ganVzdCBpbnRlcnBvbGF0ZVxuICAgICAgYm9keSA9IGdldEJvZHkoYUNvbW1hbmRzLCBiQ29tbWFuZHMsIHJldmVyc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYUV4dGVudFsxXSA+IGJFeHRlbnRbMV0pIHtcbiAgICAgICAgLy8gc2hyaW5rIGhlYWRcbiAgICAgICAgY29uc3QgaSA9IGFDb21tYW5kcy5maW5kSW5kZXgoYyA9PiBjW2Fsb25nVG9dID4gYkV4dGVudFsxXSk7XG4gICAgICAgIGhlYWQgPSBnZXRIZWFkKGFDb21tYW5kcy5zbGljZShpIC0gMSksIHJldmVyc2UsIHRydWUsIGlzQm90dG9tKTtcbiAgICAgIH0gZWxzZSBpZiAoYUV4dGVudFsxXSA8IGJFeHRlbnRbMV0pIHtcbiAgICAgICAgLy8gZXh0ZW5kIGhlYWRcbiAgICAgICAgY29uc3QgaSA9IGJDb21tYW5kcy5maW5kSW5kZXgoYyA9PiBjW2Fsb25nVG9dID4gYUV4dGVudFsxXSk7XG4gICAgICAgIGhlYWQgPSBnZXRIZWFkKGJDb21tYW5kcy5zbGljZShpIC0gMSksIHJldmVyc2UsIGZhbHNlLCBpc0JvdHRvbSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhRXh0ZW50WzBdIDwgYkV4dGVudFswXSkge1xuICAgICAgICAvLyBzaHJpbmsgdGFpbFxuICAgICAgICBjb25zdCBpID0gYUNvbW1hbmRzLmZpbmRJbmRleChjID0+IGNbYWxvbmdUb10gPj0gYkV4dGVudFswXSk7XG4gICAgICAgIHRhaWwgPSBnZXRUYWlsKGFDb21tYW5kcy5zbGljZSgwLCBpICsgMSksIHJldmVyc2UsIHRydWUsIGlzQm90dG9tKTtcbiAgICAgIH0gZWxzZSBpZiAoYUV4dGVudFswXSA+IGJFeHRlbnRbMF0pIHtcbiAgICAgICAgLy8gZXh0ZW5kIHRhaWxcbiAgICAgICAgY29uc3QgaSA9IGJDb21tYW5kcy5maW5kSW5kZXgoYyA9PiBjW2Fsb25nVG9dID49IGFFeHRlbnRbMF0pO1xuICAgICAgICB0YWlsID0gZ2V0VGFpbChiQ29tbWFuZHMuc2xpY2UoMCwgaSArIDEpLCByZXZlcnNlLCBmYWxzZSwgaXNCb3R0b20pO1xuICAgICAgICAvLyB0YWlsID0gZ2V0VGFpbChiQ29tbWFuZHMuZmlsdGVyKGMgPT4gY1thbG9uZ1RvXSA8IGFFeHRlbnRbMF0pLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJvZHlNaW4gPSBNYXRoLm1heChhRXh0ZW50WzBdLCBiRXh0ZW50WzBdKTtcbiAgICAgIGNvbnN0IGJvZHlNYXggPSBNYXRoLm1pbihhRXh0ZW50WzFdLCBiRXh0ZW50WzFdKTtcbiAgICAgIC8vIGdldCBib2R5XG4gICAgICBib2R5ID0gZ2V0Qm9keShcbiAgICAgICAgYUNvbW1hbmRzLmZpbHRlcihjID0+IGNbYWxvbmdUb10gPj0gYm9keU1pbiAmJiBjW2Fsb25nVG9dIDw9IGJvZHlNYXggICksXG4gICAgICAgIGJDb21tYW5kcy5maWx0ZXIoYyA9PiBjW2Fsb25nVG9dID49IGJvZHlNaW4gJiYgY1thbG9uZ1RvXSA8PSBib2R5TWF4ICApLFxuICAgICAgICByZXZlcnNlLFxuICAgICAgICAhaXNCb3R0b20gJiYgKChyZXZlcnNlICYmICFoZWFkKSB8fCAoIXJldmVyc2UgJiYgIXRhaWwpKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0ID0+IHtcbiAgICAgICAgcmV0dXJuIChoZWFkID8gaGVhZCh0KSA6IFwiXCIpICsgYm9keSh0KSArICh0YWlsID8gdGFpbCh0KSA6IFwiXCIpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHQgPT4ge1xuICAgICAgICByZXR1cm4gKHRhaWwgPyB0YWlsKHQpIDogXCJcIikgKyBib2R5KHQpICsgKGhlYWQgPyBoZWFkKHQpIDogXCJcIik7XG4gICAgICB9O1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Qm9keShhQ29tbWFuZHMsIGJDb21tYW5kcywgcmV2ZXJzZSA9IGZhbHNlLCBpc1RhaWwgPSBmYWxzZSkge1xuICAgIC8vIGV4dGVuZCB0byBtYXRjaCBlcXVhbCBzaXplXG4gICAgY29uc3QgbnVtUG9pbnRzVG9FeHRlbmQgPSBNYXRoLmFicyhiQ29tbWFuZHMubGVuZ3RoIC0gYUNvbW1hbmRzLmxlbmd0aCk7XG4gICAgaWYgKGFDb21tYW5kcy5sZW5ndGggPD0gMSAmJiBiQ29tbWFuZHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHJldHVybiB0ID0+IFwiXCI7XG4gICAgfVxuICAgIGlmIChudW1Qb2ludHNUb0V4dGVuZCAhPT0gMCkge1xuICAgICAgLy8gQiBoYXMgbW9yZSBwb2ludHMgdGhhbiBBLCBzbyBhZGQgcG9pbnRzIHRvIEEgYmVmb3JlIGludGVycG9sYXRpbmdcbiAgICAgIGlmIChiQ29tbWFuZHMubGVuZ3RoID4gYUNvbW1hbmRzLmxlbmd0aCkge1xuICAgICAgICBhQ29tbWFuZHMgPSBleHRlbmQoYUNvbW1hbmRzLCBiQ29tbWFuZHMsIG51bVBvaW50c1RvRXh0ZW5kKTtcblxuICAgICAgICAvLyBlbHNlIGlmIEEgaGFzIG1vcmUgcG9pbnRzIHRoYW4gQiwgYWRkIG1vcmUgcG9pbnRzIHRvIEJcbiAgICAgIH0gZWxzZSBpZiAoYkNvbW1hbmRzLmxlbmd0aCA8IGFDb21tYW5kcy5sZW5ndGgpIHtcbiAgICAgICAgYkNvbW1hbmRzID0gZXh0ZW5kKGJDb21tYW5kcywgYUNvbW1hbmRzLCBudW1Qb2ludHNUb0V4dGVuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29tbWFuZHMgaGF2ZSBzYW1lIGxlbmd0aCBub3cuXG4gICAgLy8gY29udmVydCBBIHRvIHRoZSBzYW1lIHR5cGUgb2YgQlxuICAgIGFDb21tYW5kcyA9IGFDb21tYW5kcy5tYXAoKGFDb21tYW5kLCBpKSA9PlxuICAgICAgY29udmVydFRvU2FtZVR5cGUoYUNvbW1hbmQsIGJDb21tYW5kc1tpXSlcbiAgICApO1xuICAgIGFDb21tYW5kcyA9IChyZXZlcnNlID8gYUNvbW1hbmRzLnJldmVyc2UoKSA6IGFDb21tYW5kcyk7XG4gICAgYkNvbW1hbmRzID0gKHJldmVyc2UgPyBiQ29tbWFuZHMucmV2ZXJzZSgpIDogYkNvbW1hbmRzKTtcbiAgICBpZiAoaXNUYWlsKSB7XG4gICAgICBhQ29tbWFuZHNbMF0gPSBPYmplY3QuYXNzaWduKHt9LCBhQ29tbWFuZHNbMF0sIHsgdHlwZTogXCJNXCIgfSk7XG4gICAgICBiQ29tbWFuZHNbMF0gPSBPYmplY3QuYXNzaWduKHt9LCBiQ29tbWFuZHNbMF0sIHsgdHlwZTogXCJNXCIgfSk7XG4gICAgfVxuICAgIGNvbnN0IGFQcm9jZXNzZWQgPSBhQ29tbWFuZHNcbiAgICAgIC5tYXAoY29tbWFuZFRvU3RyaW5nKVxuICAgICAgLmpvaW4oXCJcIik7XG4gICAgY29uc3QgYlByb2Nlc3NlZCA9IGJDb21tYW5kc1xuICAgICAgLm1hcChjb21tYW5kVG9TdHJpbmcpXG4gICAgICAuam9pbihcIlwiKTtcblxuICAgIGNvbnN0IHN0cmluZ0ludGVycG9sYXRvciA9IGQzLmludGVycG9sYXRlU3RyaW5nKGFQcm9jZXNzZWQsIGJQcm9jZXNzZWQpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBhdGhJbnRlcnBvbGF0b3IodCkge1xuICAgICAgLy8gYXQgMSByZXR1cm4gdGhlIGZpbmFsIHZhbHVlIHdpdGhvdXQgdGhlIGV4dGVuc2lvbnMgdXNlZCBkdXJpbmcgaW50ZXJwb2xhdGlvblxuICAgICAgaWYgKHQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGJQcm9jZXNzZWQgPT0gbnVsbCA/IFwiXCIgOiBiUHJvY2Vzc2VkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyaW5nSW50ZXJwb2xhdG9yKHQpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIZWFkKGNvbW1hbmRzLCByZXZlcnNlID0gZmFsc2UsIGlzU2hyaW5rID0gZmFsc2UsIGlzQm90dG9tPWZhbHNlKSB7XG4gICAgY29uc3QgZCA9IGNvbW1hbmRzLm1hcChjb21tYW5kVG9TdHJpbmcpLmpvaW4oXCJcIik7XG4gICAgY29uc3QgTCA9IGNvbW1hbmRzLmxlbmd0aDtcbiAgICBjb25zdCBwaGFzZXMgPSBbXTtcbiAgICBjb25zdCBkZWJ1ZyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IEwgLSAxOyBpKyspIHtcbiAgICAgIGxldCBhQ29tbWFuZHMgPSBjb21tYW5kcy5zbGljZSgwLCBpKS5jb25jYXQoW2NvbW1hbmRzW2kgLSAxXV0pO1xuICAgICAgbGV0IGJDb21tYW5kcyA9IGNvbW1hbmRzLnNsaWNlKDAsIGkgKyAxKTtcbiAgICAgIGFDb21tYW5kcyA9IChyZXZlcnNlID8gYUNvbW1hbmRzLnJldmVyc2UoKSA6IGFDb21tYW5kcyk7XG4gICAgICBiQ29tbWFuZHMgPSAocmV2ZXJzZSA/IGJDb21tYW5kcy5yZXZlcnNlKCkgOiBiQ29tbWFuZHMpO1xuICAgICAgY29uc3QgYVByb2Nlc3NlZCA9IGFDb21tYW5kc1xuICAgICAgICAubWFwKGNvbW1hbmRUb1N0cmluZylcbiAgICAgICAgLmpvaW4oXCJcIik7XG4gICAgICBjb25zdCBiUHJvY2Vzc2VkID0gYkNvbW1hbmRzXG4gICAgICAgIC5tYXAoY29tbWFuZFRvU3RyaW5nKVxuICAgICAgICAuam9pbihcIlwiKTtcbiAgICAgIGlmIChyZXZlcnNlICYmICFpc0JvdHRvbSkge1xuICAgICAgICBhQ29tbWFuZHNbMF0gPSBPYmplY3QuYXNzaWduKHt9LCBhQ29tbWFuZHNbMF0sIHsgdHlwZTogXCJNXCIgfSk7XG4gICAgICAgIGJDb21tYW5kc1swXSA9IE9iamVjdC5hc3NpZ24oe30sIGJDb21tYW5kc1swXSwgeyB0eXBlOiBcIk1cIiB9KTtcbiAgICAgIH1cbiAgICAgIGRlYnVnLnB1c2goeyBhUHJvY2Vzc2VkLCBiUHJvY2Vzc2VkIH0pO1xuICAgICAgcGhhc2VzLnB1c2goZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gZDMuaW50ZXJwb2xhdGVTdHJpbmcoYVByb2Nlc3NlZCwgYlByb2Nlc3NlZCkodCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgaWYgKGlzU2hyaW5rKSB7XG4gICAgICAgIHQgPSAxIC0gdDtcbiAgICAgIH1cbiAgICAgIGlmICh0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBkID09IG51bGwgPyBcIlwiIDogZDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBoYXNlID0gTWF0aC5mbG9vcih0ICogKEwgLSAxKSk7XG5cbiAgICAgIHJldHVybiBwaGFzZXNbcGhhc2VdKHQgKiAoTCAtIDEpIC0gcGhhc2UpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYWlsKGNvbW1hbmRzLCByZXZlcnNlID0gZmFsc2UsIGlzU2hyaW5rID0gZmFsc2UsIGlzQm90dG9tPWZhbHNlKSB7XG4gICAgY29uc3QgZCA9IGNvbW1hbmRzLm1hcChjb21tYW5kVG9TdHJpbmcpLmpvaW4oXCJcIik7XG4gICAgY29uc3QgTCA9IGNvbW1hbmRzLmxlbmd0aDtcbiAgICBjb25zdCBwaGFzZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IEw7IGkrKykge1xuICAgICAgbGV0IGFDb21tYW5kcyA9IFtjb21tYW5kc1tMIC0gaV1dLmNvbmNhdChjb21tYW5kcy5zbGljZShMIC0gaSwgTCkpO1xuICAgICAgbGV0IGJDb21tYW5kcyA9IGNvbW1hbmRzLnNsaWNlKEwgLSBpIC0gMSwgTCk7XG5cbiAgICAgIGFDb21tYW5kcyA9IChyZXZlcnNlID8gYUNvbW1hbmRzLnJldmVyc2UoKSA6IGFDb21tYW5kcyk7XG4gICAgICBiQ29tbWFuZHMgPSAocmV2ZXJzZSA/IGJDb21tYW5kcy5yZXZlcnNlKCkgOiBiQ29tbWFuZHMpO1xuXG4gICAgICBpZiAoIXJldmVyc2UgJiYgIWlzQm90dG9tKSB7XG4gICAgICAgIGFDb21tYW5kc1swXSA9IE9iamVjdC5hc3NpZ24oe30sIGFDb21tYW5kc1swXSwgeyB0eXBlOiBcIk1cIiB9KTtcbiAgICAgICAgYkNvbW1hbmRzWzBdID0gT2JqZWN0LmFzc2lnbih7fSwgYkNvbW1hbmRzWzBdLCB7IHR5cGU6IFwiTVwiIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhUHJvY2Vzc2VkID0gYUNvbW1hbmRzXG4gICAgICAgIC5tYXAoY29tbWFuZFRvU3RyaW5nKVxuICAgICAgICAuam9pbihcIlwiKTtcbiAgICAgIGNvbnN0IGJQcm9jZXNzZWQgPSBiQ29tbWFuZHNcbiAgICAgICAgLm1hcChjb21tYW5kVG9TdHJpbmcpXG4gICAgICAgIC5qb2luKFwiXCIpO1xuXG4gICAgICBwaGFzZXMucHVzaChmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBkMy5pbnRlcnBvbGF0ZVN0cmluZyhhUHJvY2Vzc2VkLCBiUHJvY2Vzc2VkKSh0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgaWYgKGlzU2hyaW5rKSB7XG4gICAgICAgIHQgPSAxIC0gdDtcbiAgICAgIH1cbiAgICAgIGlmICh0ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBkID09IG51bGwgPyBcIlwiIDogZDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBoYXNlID0gTWF0aC5mbG9vcih0ICogKEwgLSAxKSk7XG4gICAgICByZXR1cm4gcGhhc2VzW3BoYXNlXSh0ICogKEwgLSAxKSAtIHBoYXNlKTtcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCB7IGludGVycG9sYXRlUGF0aCwgaW50ZXJwb2xhdGVQYXRoMiwgbGluZVRvQXJlYSB9O1xuIiwiLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCB7IGludGVycG9sYXRlUGF0aCwgaW50ZXJwb2xhdGVQYXRoMiB9IGZyb20gXCIuL2ludGVycG9sYXRlUGF0aFlIXCI7XG5pbXBvcnQge2dldH0gZnJvbSBcIi4uLy4uL3V0aWwvdXRpbFwiO1xuXG5cblxuXG5mdW5jdGlvbiByZWN0SW50ZXJwb2xhdG9yKHNjYWxlcywgZW5jb2Rlcywgc2lnbmFscywgZCwgb2xkRCwgZ2V0UmVjdCkge1xuICBsZXQgcGF0aF9pO1xuICBsZXQgcGF0aF9mO1xuICBjb25zdCBkX2kgPSBkLmluaXRpYWwgfHwgb2xkRCB8fCBkMy5zZWxlY3QodGhpcykuZGF0dW0oKTtcbiAgY29uc3QgZF9mID0gZC5maW5hbCB8fCBkO1xuICBjb25zdCBlbmNvZGVfaSA9IGVuY29kZXMuaW5pdGlhbCB8fCBlbmNvZGVzO1xuICBjb25zdCBlbmNvZGVfZiA9IGVuY29kZXMuZmluYWwgfHwgZW5jb2RlcztcbiAgY29uc3Qgc2NhbGVfaSA9IHtcbiAgICBwcmltYXJ5OiBzY2FsZXMuaW5pdGlhbCB8fCBzY2FsZXMsXG4gICAgc2Vjb25kYXJ5OiBzY2FsZXMuZmluYWwgfHwgc2NhbGVzXG4gIH07XG4gIGNvbnN0IHNjYWxlX2YgPSB7XG4gICAgcHJpbWFyeTogc2NhbGVzLmZpbmFsIHx8IHNjYWxlcyxcbiAgICBzZWNvbmRhcnk6IHNjYWxlcy5pbml0aWFsIHx8IHNjYWxlc1xuICB9O1xuICBjb25zdCBzaWduYWxfaSA9IHNpZ25hbHMuaW5pdGlhbCB8fCBzaWduYWxzO1xuICBjb25zdCBzaWduYWxfZiA9IHNpZ25hbHMuZmluYWwgfHwgc2lnbmFscztcblxuICBwYXRoX2kgPSBnZXRSZWN0KGRfaSwgc2NhbGVfaSwgZW5jb2RlX2ksIHNpZ25hbF9pKS5wYXRoO1xuICBwYXRoX2YgPSBnZXRSZWN0KGRfZiwgc2NhbGVfZiwgZW5jb2RlX2YsIHNpZ25hbF9mKS5wYXRoO1xuXG4gIHJldHVybiBpbnRlcnBvbGF0ZVBhdGgocGF0aF9pLCBwYXRoX2YpO1xufVxuZnVuY3Rpb24gc3ltYm9sSW50ZXJwb2xhdG9yKHNjYWxlcywgZW5jb2Rlcywgc2lnbmFscywgZCwgb2xkRCwgZ2V0U2hhcGUpIHtcbiAgbGV0IHNoYXBlX2k7XG4gIGxldCBzaGFwZV9mO1xuICBsZXQgc2hhcGVfaV9kaW1pbmlzaGVkO1xuICBsZXQgc2hhcGVfZl9kaW1pbmlzaGVkO1xuICBjb25zdCBkX2kgPSBkLmluaXRpYWwgfHwgb2xkRCB8fCBkMy5zZWxlY3QodGhpcykuZGF0dW0oKTtcbiAgY29uc3QgZF9mID0gZC5maW5hbCB8fCBkO1xuICBjb25zdCBlbmNvZGVfaSA9IGVuY29kZXMuaW5pdGlhbCB8fCBlbmNvZGVzO1xuICBjb25zdCBlbmNvZGVfZiA9IGVuY29kZXMuZmluYWwgfHwgZW5jb2RlcztcbiAgY29uc3Qgc2NhbGVfaSA9IHNjYWxlcy5pbml0aWFsIHx8IHNjYWxlcztcbiAgY29uc3Qgc2NhbGVfZiA9IHNjYWxlcy5maW5hbCB8fCBzY2FsZXM7XG4gIGNvbnN0IHNpZ25hbF9pID0gc2lnbmFscy5pbml0aWFsIHx8IHNpZ25hbHM7XG4gIGNvbnN0IHNpZ25hbF9mID0gc2lnbmFscy5maW5hbCB8fCBzaWduYWxzO1xuICBsZXQgaXNNb3JwaCA9IGZhbHNlO1xuXG4gIHNoYXBlX2kgPSBnZXRTaGFwZShkX2ksIHNjYWxlX2ksIGVuY29kZV9pLCBzaWduYWxfaSk7XG4gIHNoYXBlX2YgPSBnZXRTaGFwZShkX2YsIHNjYWxlX2YsIGVuY29kZV9mLCBzaWduYWxfZik7XG4gIGlmIChzaGFwZV9pLm1ldGEuc2hhcGUgIT09IHNoYXBlX2YubWV0YS5zaGFwZSkge1xuICAgIGlzTW9ycGggPSB0cnVlO1xuICAgIHNoYXBlX2lfZGltaW5pc2hlZCA9IGdldFNoYXBlKGRfaSwgc2NhbGVfaSwgZW5jb2RlX2ksIHNpZ25hbF9pLCB0cnVlKTtcbiAgICBzaGFwZV9mX2RpbWluaXNoZWQgPSBnZXRTaGFwZShkX2YsIHNjYWxlX2YsIGVuY29kZV9mLCBzaWduYWxfZiwgdHJ1ZSk7XG4gIH1cblxuICBpZiAoaXNNb3JwaCkge1xuICAgIHJldHVybiB0ID0+IHtcbiAgICAgIGlmICh0IDwgMC41KSB7XG4gICAgICAgIHJldHVybiBpbnRlcnBvbGF0ZVBhdGgoc2hhcGVfaS5wYXRoLCBzaGFwZV9pX2RpbWluaXNoZWQucGF0aCkodCAqIDIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludGVycG9sYXRlUGF0aChcbiAgICAgICAgc2hhcGVfZl9kaW1pbmlzaGVkLnBhdGgsXG4gICAgICAgIHNoYXBlX2YucGF0aFxuICAgICAgKSgodCAtIDAuNSkgKiAyKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBpbnRlcnBvbGF0ZVBhdGgoc2hhcGVfaS5wYXRoLCBzaGFwZV9mLnBhdGgpO1xufVxuXG5mdW5jdGlvbiBhcmVhTGluZUludGVycG9sYXRvcldpdGhTY2FsZXMoXG4gIHNjYWxlcyxcbiAgZW5jb2RlcyxcbiAgbWFya3R5cGVzLFxuICBkLFxuICBvbGRELFxuICBzaWduYWxzLFxuICBnZXRQYXRoLFxuICBpbnRlcnBvbGF0ZVN0eWxlLFxuICBhbG9uZ1Rvc1xuKSB7XG4gIGNvbnN0IGVuY29kZV9pID0gZW5jb2Rlcy5pbml0aWFsIHx8IGVuY29kZXM7XG4gIGNvbnN0IGVuY29kZV9mID0gZW5jb2Rlcy5maW5hbCB8fCBlbmNvZGVzO1xuICBjb25zdCBtYXJrdHlwZV9pID0gbWFya3R5cGVzLmluaXRpYWwgfHwgbWFya3R5cGVzO1xuICAvLyBjb25zdCBtYXJrdHlwZV9pID0gXCJhcmVhXCI7XG4gIGNvbnN0IG1hcmt0eXBlX2YgPSBtYXJrdHlwZXMuZmluYWwgfHwgbWFya3R5cGVzO1xuICBjb25zdCBzY2FsZV9pID0gc2NhbGVzLmluaXRpYWwgfHwgc2NhbGVzO1xuICBjb25zdCBzY2FsZV9mID0gc2NhbGVzLmZpbmFsIHx8IHNjYWxlcztcbiAgY29uc3Qgc2lnbmFsX2kgPSBzaWduYWxzLmluaXRpYWwgfHwgc2lnbmFscztcbiAgY29uc3Qgc2lnbmFsX2YgPSBzaWduYWxzLmZpbmFsIHx8IHNpZ25hbHM7XG4gIGNvbnN0IGRfaSA9IGQuaW5pdGlhbCB8fCBvbGREO1xuICBjb25zdCBkX2YgPSBkLmZpbmFsIHx8IGQ7XG4gIGNvbnN0IGFsb25nVG9faSA9IGFsb25nVG9zLmluaXRpYWwgfHwgYWxvbmdUb3M7XG4gIGNvbnN0IGFsb25nVG9fZiA9IGFsb25nVG9zLmZpbmFsIHx8IGFsb25nVG9zO1xuICBjb25zdCBwYXRoc18xMSA9IGdldFBhdGgoYXJlYUxpbmVEVG9EYXRhKGRfaSksIHNjYWxlX2ksIGVuY29kZV9pLCBzaWduYWxfaSwgbWFya3R5cGVfaSwgYWxvbmdUb19pKTtcbiAgY29uc3QgcGF0aHNfMTIgPSBnZXRQYXRoKGFyZWFMaW5lRFRvRGF0YShkX2kpLCBzY2FsZV9mLCBlbmNvZGVfaSwgc2lnbmFsX2ksIG1hcmt0eXBlX2ksIGFsb25nVG9faSk7XG4gIGNvbnN0IHBhdGhzXzIxID0gZ2V0UGF0aChhcmVhTGluZURUb0RhdGEoZF9mKSwgc2NhbGVfaSwgZW5jb2RlX2YsIHNpZ25hbF9mLCBtYXJrdHlwZV9mLCBhbG9uZ1RvX2YpO1xuICBjb25zdCBwYXRoc18yMiA9IGdldFBhdGgoYXJlYUxpbmVEVG9EYXRhKGRfZiksIHNjYWxlX2YsIGVuY29kZV9mLCBzaWduYWxfZiwgbWFya3R5cGVfZiwgYWxvbmdUb19mKTtcblxuICBpZiAoXG4gICAgaXNWYWxpZFBhdGgocGF0aHNfMTEpICYmXG4gICAgaXNWYWxpZFBhdGgocGF0aHNfMTIpICYmXG4gICAgaXNWYWxpZFBhdGgocGF0aHNfMjEpICYmXG4gICAgaXNWYWxpZFBhdGgocGF0aHNfMjIpXG4gICkge1xuICAgIGNvbnN0IGludGVycG9sYXRvcl9zY2FsZTEgPSBpbnRlcnBvbGF0ZVBhdGgocGF0aHNfMTEsIHBhdGhzXzEyLCBhbG9uZ1RvX2kpO1xuICAgIGNvbnN0IGludGVycG9sYXRvcl9zY2FsZTIgPSBpbnRlcnBvbGF0ZVBhdGgocGF0aHNfMjEsIHBhdGhzXzIyLCBhbG9uZ1RvX2YpO1xuICAgIGNvbnN0IGludGVycG9sYXRvcl9kYXRhID1cbiAgICAgIGludGVycG9sYXRlU3R5bGUgPT09IFwidXBkYXRlXCIgPyBpbnRlcnBvbGF0ZVBhdGgyIDogaW50ZXJwb2xhdGVQYXRoO1xuICAgICAgLy8gaW50ZXJwb2xhdGVTdHlsZSA9PT0gXCJ1cGRhdGVcIiA/IGludGVycG9sYXRlUGF0aDMgOiBpbnRlcnBvbGF0ZVBhdGg7XG4gICAgcmV0dXJuIHQgPT4ge1xuICAgICAgcmV0dXJuIGludGVycG9sYXRvcl9kYXRhKFxuICAgICAgICBpbnRlcnBvbGF0b3Jfc2NhbGUxKHQpLFxuICAgICAgICBpbnRlcnBvbGF0b3Jfc2NhbGUyKHQpLFxuICAgICAgICBhbG9uZ1RvX2lcbiAgICAgICkodCk7XG4gICAgfTtcbiAgfVxuICBjb25zdCBpbnRlcnBvbGF0b3JfZGF0YSA9XG4gICAgaW50ZXJwb2xhdGVTdHlsZSA9PT0gXCJ1cGRhdGVcIiA/IGludGVycG9sYXRlUGF0aDIgOiBpbnRlcnBvbGF0ZVBhdGg7XG4gICAgLy8gaW50ZXJwb2xhdGVTdHlsZSA9PT0gXCJ1cGRhdGVcIiA/IGludGVycG9sYXRlUGF0aDMgOiBpbnRlcnBvbGF0ZVBhdGg7XG5cbiAgcmV0dXJuIGludGVycG9sYXRvcl9kYXRhKHBhdGhzXzExLCBwYXRoc18yMiwgYWxvbmdUb19pKTtcbn1cblxuZnVuY3Rpb24gYXJlYUxpbmVJbnRlcnBvbGF0b3IoXG4gIHNjYWxlcyxcbiAgZW5jb2RlcyxcbiAgbWFya3R5cGVzLFxuICBkLFxuICBvbGRELFxuICBzaWduYWxzLFxuICBnZXRQYXRoLFxuICBpbnRlcnBvbGF0ZVN0eWxlXG4pIHtcbiAgY29uc3QgbWFya3R5cGUgPSB0eXBlb2YgbWFya3R5cGVzID09PSBcInN0cmluZ1wiID8gbWFya3R5cGVzIDogdW5kZWZpbmVkO1xuXG4gIGlmIChtYXJrdHlwZSA9PT0gXCJsaW5lXCIpIHtcbiAgICBjb25zdCBkYXRhVG9QYXRoID0gKGRhdGEsIHNjYWxlLCBlbmNvZGUsIHNpZ25hbCkgPT4ge1xuICAgICAgcmV0dXJuIGdldFBhdGgoZGF0YSwgc2NhbGUsIGVuY29kZSwgc2lnbmFsLCBcImxpbmVcIik7XG4gICAgfTtcbiAgICBjb25zdCBjb21wdXRJZCA9IChlbmNvZGUsIGQpID0+IHtcbiAgICAgIHJldHVybiAhZFxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IFtkLmRhdHVtW2VuY29kZS54LmZpZWxkXSwgZC5kYXR1bVtlbmNvZGUueS5maWVsZF1dLmpvaW4oXCIsXCIpO1xuICAgIH07XG4gICAgcmV0dXJuIGNvbXB1dGVMaW5lSW50ZXJwb2xhdG9yKFxuICAgICAgYXJlYUxpbmVEVG9EYXRhKGQuaW5pdGlhbCB8fCBvbGREKSxcbiAgICAgIGFyZWFMaW5lRFRvRGF0YShkLmZpbmFsIHx8IGQpLFxuICAgICAgc2NhbGVzLFxuICAgICAgZW5jb2RlcyxcbiAgICAgIHNpZ25hbHMsXG4gICAgICBjb21wdXRJZCxcbiAgICAgIGRhdGFUb1BhdGhcbiAgICApO1xuICAgIC8vIGlmIChpbnRlcnBvbGF0ZVN0eWxlID09PSBcInVwZGF0ZVwiKSB7XG4gICAgLy8gICBjb25zdCBkYXRhVG9QYXRoID0gKGRhdGEsIHNjYWxlLCBlbmNvZGUsIHNpZ25hbCkgPT4ge1xuICAgIC8vICAgICByZXR1cm4gZ2V0UGF0aChkYXRhLCBzY2FsZSwgZW5jb2RlLCBzaWduYWwsIFwibGluZVwiKTtcbiAgICAvLyAgIH07XG4gICAgLy8gICBjb25zdCBjb21wdXRJZCA9IChlbmNvZGUsIGQpID0+IHtcbiAgICAvLyAgICAgcmV0dXJuICFkXG4gICAgLy8gICAgICAgPyB1bmRlZmluZWRcbiAgICAvLyAgICAgICA6IFtkLmRhdHVtW2VuY29kZS54LmZpZWxkXSwgZC5kYXR1bVtlbmNvZGUueS5maWVsZF1dLmpvaW4oXCIsXCIpO1xuICAgIC8vICAgfTtcbiAgICAvLyAgIHJldHVybiBjb21wdXRlTGluZUludGVycG9sYXRvcihcbiAgICAvLyAgICAgYXJlYUxpbmVEVG9EYXRhKG9sZEQpLFxuICAgIC8vICAgICBhcmVhTGluZURUb0RhdGEoZCksXG4gICAgLy8gICAgIHNjYWxlcyxcbiAgICAvLyAgICAgZW5jb2RlcyxcbiAgICAvLyAgICAgc2lnbmFscyxcbiAgICAvLyAgICAgY29tcHV0SWQsXG4gICAgLy8gICAgIGRhdGFUb1BhdGhcbiAgICAvLyAgICk7XG4gICAgLy8gfVxuXG4gICAgLy8gcmV0dXJuIGFyZWFMaW5lSW50ZXJwb2xhdG9yV2l0aFNjYWxlcy5iaW5kKHRoaXMpKFxuICAgIC8vICAgc2NhbGVzLFxuICAgIC8vICAgZW5jb2RlcyxcbiAgICAvLyAgIFwibGluZVwiLFxuICAgIC8vICAgZCxcbiAgICAvLyAgIG9sZEQsXG4gICAgLy8gICBzaWduYWxzLFxuICAgIC8vICAgZ2V0UGF0aCxcbiAgICAvLyAgIGludGVycG9sYXRlU3R5bGVcbiAgICAvLyApO1xuICB9XG4gIGlmIChtYXJrdHlwZSA9PT0gXCJhcmVhXCIgfHwgbWFya3R5cGUgPT09IFwidHJhaWxcIikge1xuICAgIGNvbnN0IGFsb25nVG9zID0ge1xuICAgICAgaW5pdGlhbDogZ2V0KGVuY29kZXMsIFwiaW5pdGlhbFwiLCBcIm9yaWVudFwiLCBcInZhbHVlXCIpID09PSBcImhvcml6b250YWxcIiA/IFwieVwiOiBcInhcIixcbiAgICAgIGZpbmFsOiBnZXQoZW5jb2RlcywgXCJmaW5hbFwiLCBcIm9yaWVudFwiLCBcInZhbHVlXCIpID09PSBcImhvcml6b250YWxcIiA/IFwieVwiOiBcInhcIlxuICAgIH07XG4gICAgcmV0dXJuIGFyZWFMaW5lSW50ZXJwb2xhdG9yV2l0aFNjYWxlcy5iaW5kKHRoaXMpKFxuICAgICAgc2NhbGVzLFxuICAgICAgZW5jb2RlcyxcbiAgICAgIG1hcmt0eXBlLFxuICAgICAgZCxcbiAgICAgIG9sZEQsXG4gICAgICBzaWduYWxzLFxuICAgICAgZ2V0UGF0aCxcbiAgICAgIGludGVycG9sYXRlU3R5bGUsXG4gICAgICBhbG9uZ1Rvc1xuICAgICk7XG4gIH1cblxuICAvLyB3aGVuIHRoZSBtYXJrdHlwZSBjaGFuZ2VzIGJldHdlZW4gXCJhcmVhXCIgYW5kIFwibGluZVwiLCBhc3N1bWUgdGhlIGxpbmUgYXMgYXJlYS5cblxuICBpZiAobWFya3R5cGVzLmluaXRpYWwgPT09IFwibGluZVwiICYmIG1hcmt0eXBlcy5maW5hbCA9PT0gXCJhcmVhXCIpIHtcbiAgICBsZXQgYWxvbmdUbyA9IGdldChlbmNvZGVzLCBcImZpbmFsXCIsIFwib3JpZW50XCIsIFwidmFsdWVcIikgPT09IFwiaG9yaXpvbnRhbFwiID8gXCJ5XCI6IFwieFwiO1xuICAgIHJldHVybiBhcmVhTGluZUludGVycG9sYXRvcldpdGhTY2FsZXMuYmluZCh0aGlzKShzY2FsZXMsIGVuY29kZXMsIFwiYXJlYVwiLCBkLCBvbGRELCBzaWduYWxzLCBnZXRQYXRoLCBpbnRlcnBvbGF0ZVN0eWxlLCBhbG9uZ1RvKTtcbiAgfSBlbHNlIHsgLy8gYXJlYSAtPiBsaW5lXG4gICAgbGV0IGFsb25nVG8gPSBnZXQoZW5jb2RlcywgXCJpbml0aWFsXCIsIFwib3JpZW50XCIsIFwidmFsdWVcIikgPT09IFwiaG9yaXpvbnRhbFwiID8gXCJ5XCI6IFwieFwiO1xuICAgIGxldCBsaW5lUGF0aHMgPSBnZXRQYXRoKFxuICAgICAgYXJlYUxpbmVEVG9EYXRhKGQuZmluYWwgfHwgZCksXG4gICAgICBzY2FsZXMuZmluYWwgfHwgc2NhbGVzLFxuICAgICAgZW5jb2Rlcy5maW5hbCB8fCBlbmNvZGVzLFxuICAgICAgc2lnbmFscy5maW5hbCB8fCBzaWduYWxzLFxuICAgICAgXCJsaW5lXCIpO1xuICAgIGxldCBpbnRwID0gYXJlYUxpbmVJbnRlcnBvbGF0b3JXaXRoU2NhbGVzLmJpbmQodGhpcykoc2NhbGVzLCBlbmNvZGVzLCBcImFyZWFcIiwgZCwgb2xkRCwgc2lnbmFscywgZ2V0UGF0aCwgaW50ZXJwb2xhdGVTdHlsZSwgYWxvbmdUbyk7XG4gICAgcmV0dXJuICh0KSA9PiB7XG4gICAgICByZXR1cm4gdCA+PSAxID8gbGluZVBhdGhzIDogaW50cCh0KTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGFyZWFMaW5lRFRvRGF0YShkKSB7XG4gIGlmICghZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGQubWFyay5tYXJrdHlwZSAhPT0gXCJncm91cFwiID8gZC5tYXJrLml0ZW1zIDogZC5pdGVtc1swXS5pdGVtcztcbn1cblxuLy8gSW50ZXJwb2xhdGUgcGF0aChkYXRhQSwgc2NhbGVBKSAtPiBwYXRoKGRhdGFCLCBzY2FsZUIpXG5mdW5jdGlvbiBjb21wdXRlTGluZUludGVycG9sYXRvcihcbiAgZGF0YUEsXG4gIGRhdGFCLFxuICBzY2FsZXMsXG4gIGVuY29kZXMsXG4gIHNpZ25hbHMsXG4gIGNvbXB1dGVJZCxcbiAgZ2V0UGF0aFxuKSB7XG4gIGNvbnN0IHQgPSBEYXRlLm5vdygpO1xuICAvLyAxKSBjYWxjdWxhdGUgdHdvIGFuY2hvcnMgYmV0d2VlbiBkYXRhQSBhbmQgZGF0YUJcbiAgY29uc3QgX2VuY29kZXMgPSBlbmNvZGVzLmluaXRpYWwgJiYgZW5jb2Rlcy5maW5hbCA/IGVuY29kZXMgOiB7XG4gICAgaW5pdGlhbDogZW5jb2RlcyxcbiAgICBmaW5hbDogZW5jb2Rlc1xuICB9O1xuICBjb25zdCBjb21wdXRlSWRBID0gZCA9PiBjb21wdXRlSWQoX2VuY29kZXMuaW5pdGlhbCwgZCk7XG4gIGNvbnN0IGNvbXB1dGVJZEIgPSBkID0+IGNvbXB1dGVJZChfZW5jb2Rlcy5maW5hbCwgZCk7XG4gIGNvbnN0IExhID0gZGF0YUEubGVuZ3RoO1xuICBjb25zdCBMYiA9IGRhdGFCLmxlbmd0aDtcbiAgbGV0IGkgPSBkYXRhQi5maW5kSW5kZXgoZCA9PiBjb21wdXRlSWRCKGQpID09PSBjb21wdXRlSWRBKGRhdGFBWzBdKSk7XG4gIGxldCBqID0gZGF0YUIuZmluZEluZGV4KGQgPT4gY29tcHV0ZUlkQihkKSA9PT0gY29tcHV0ZUlkQShkYXRhQVtMYSAtIDFdKSk7XG4gIGxldCBoZWFkO1xuICBsZXQgdGFpbDtcbiAgbGV0IGJvZHk7XG5cbiAgaWYgKGkgPj0gMCkge1xuICAgIGlmIChqID49IDApIHtcbiAgICAgIGlmIChqIDwgaSkge1xuICAgICAgICBib2R5ID0gZ2V0Qm9keShkYXRhQSwgZGF0YUIsIHNjYWxlcywgX2VuY29kZXMsIHNpZ25hbHMsIGdldFBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFpbCA9IGdldFRhaWwoXG4gICAgICAgICAgZGF0YUIuc2xpY2UoMCwgaSArIDEpLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIHNjYWxlcyxcbiAgICAgICAgICBfZW5jb2RlcyxcbiAgICAgICAgICBzaWduYWxzLFxuICAgICAgICAgIGdldFBhdGhcbiAgICAgICAgKTtcbiAgICAgICAgYm9keSA9IGdldEJvZHkoXG4gICAgICAgICAgZGF0YUEsXG4gICAgICAgICAgZGF0YUIuc2xpY2UoaSwgaiArIDEpLFxuICAgICAgICAgIHNjYWxlcyxcbiAgICAgICAgICBfZW5jb2RlcyxcbiAgICAgICAgICBzaWduYWxzLFxuICAgICAgICAgIGdldFBhdGgsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgICAgaGVhZCA9IGdldEhlYWQoXG4gICAgICAgICAgZGF0YUIuc2xpY2UoaiksXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgIF9lbmNvZGVzLFxuICAgICAgICAgIHNpZ25hbHMsXG4gICAgICAgICAgZ2V0UGF0aFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICAoaiA9IGRhdGFBLmZpbmRJbmRleChkID0+IGNvbXB1dGVJZEEoZCkgPT09IGNvbXB1dGVJZEIoZGF0YUJbTGIgLSAxXSkpKSA+PSAwXG4gICAgKSB7XG4gICAgICB0YWlsID0gZ2V0VGFpbChcbiAgICAgICAgZGF0YUIuc2xpY2UoMCwgaSArIDEpLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgc2NhbGVzLFxuICAgICAgICBfZW5jb2RlcyxcbiAgICAgICAgc2lnbmFscyxcbiAgICAgICAgZ2V0UGF0aFxuICAgICAgKTtcbiAgICAgIGJvZHkgPSBnZXRCb2R5KFxuICAgICAgICBkYXRhQS5zbGljZSgwLCBqICsgMSksXG4gICAgICAgIGRhdGFCLnNsaWNlKGkpLFxuICAgICAgICBzY2FsZXMsXG4gICAgICAgIF9lbmNvZGVzLFxuICAgICAgICBzaWduYWxzLFxuICAgICAgICBnZXRQYXRoLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGhlYWQgPSBnZXRIZWFkKGRhdGFBLnNsaWNlKGopLCB0cnVlLCBzY2FsZXMsIF9lbmNvZGVzLCBzaWduYWxzLCBnZXRQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm9keSA9IGdldEJvZHkoZGF0YUEsIGRhdGFCLCBzY2FsZXMsIF9lbmNvZGVzLCBzaWduYWxzLCBnZXRQYXRoKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaiA+PSAwKSB7XG4gICAgaWYgKFxuICAgICAgKGkgPSBkYXRhQS5maW5kSW5kZXgoZCA9PiBjb21wdXRlSWRBKGQpID09PSBjb21wdXRlSWRCKGRhdGFCWzBdKSkpID49IDBcbiAgICApIHtcbiAgICAgIHRhaWwgPSBnZXRUYWlsKFxuICAgICAgICBkYXRhQS5zbGljZSgwLCBpICsgMSksXG4gICAgICAgIHRydWUsXG4gICAgICAgIHNjYWxlcyxcbiAgICAgICAgX2VuY29kZXMsXG4gICAgICAgIHNpZ25hbHMsXG4gICAgICAgIGdldFBhdGhcbiAgICAgICk7XG4gICAgICBib2R5ID0gZ2V0Qm9keShcbiAgICAgICAgZGF0YUEuc2xpY2UoaSksXG4gICAgICAgIGRhdGFCLnNsaWNlKDAsIGogKyAxKSxcbiAgICAgICAgc2NhbGVzLFxuICAgICAgICBfZW5jb2RlcyxcbiAgICAgICAgc2lnbmFscyxcbiAgICAgICAgZ2V0UGF0aCxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICBoZWFkID0gZ2V0SGVhZChkYXRhQi5zbGljZShqKSwgZmFsc2UsIHNjYWxlcywgX2VuY29kZXMsIHNpZ25hbHMsIGdldFBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBib2R5ID0gZ2V0Qm9keShkYXRhQSwgZGF0YUIsIHNjYWxlcywgX2VuY29kZXMsIHNpZ25hbHMsIGdldFBhdGgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpID0gZGF0YUEuZmluZEluZGV4KGQgPT4gY29tcHV0ZUlkQShkKSA9PT0gY29tcHV0ZUlkQihkYXRhQlswXSkpO1xuICAgIGogPSBkYXRhQS5maW5kSW5kZXgoZCA9PiBjb21wdXRlSWRBKGQpID09PSBjb21wdXRlSWRCKGRhdGFCW0xiIC0gMV0pKTtcbiAgICBpZiAoaSA+PSAwICYmIGogPj0gMCkge1xuICAgICAgdGFpbCA9IGdldFRhaWwoXG4gICAgICAgIGRhdGFBLnNsaWNlKDAsIGkgKyAxKSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgc2NhbGVzLFxuICAgICAgICBfZW5jb2RlcyxcbiAgICAgICAgc2lnbmFscyxcbiAgICAgICAgZ2V0UGF0aFxuICAgICAgKTtcbiAgICAgIGJvZHkgPSBnZXRCb2R5KFxuICAgICAgICBkYXRhQS5zbGljZShpLCBqICsgMSksXG4gICAgICAgIGRhdGFCLFxuICAgICAgICBzY2FsZXMsXG4gICAgICAgIF9lbmNvZGVzLFxuICAgICAgICBzaWduYWxzLFxuICAgICAgICBnZXRQYXRoLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGhlYWQgPSBnZXRIZWFkKGRhdGFBLnNsaWNlKGopLCB0cnVlLCBzY2FsZXMsIF9lbmNvZGVzLCBzaWduYWxzLCBnZXRQYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYm9keSA9IGdldEJvZHkoZGF0YUEsIGRhdGFCLCBzY2FsZXMsIF9lbmNvZGVzLCBzaWduYWxzLCBnZXRQYXRoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoaGVhZCAmJiB0YWlsICYmIGJvZHkpIHtcbiAgICByZXR1cm4gdCA9PiB7XG4gICAgICBpZiAodCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZ2V0UGF0aChkYXRhQiwgc2NhbGVzLmZpbmFsLCBfZW5jb2Rlcy5maW5hbCwgc2lnbmFscy5maW5hbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFpbCh0KSArIGJvZHkodCkgKyBoZWFkKHQpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHQgPT4ge1xuICAgIGlmICh0ID09PSAxKSB7XG4gICAgICByZXR1cm4gZ2V0UGF0aChkYXRhQiwgc2NhbGVzLmZpbmFsLCBfZW5jb2Rlcy5maW5hbCwgc2lnbmFscy5maW5hbCk7XG4gICAgfVxuICAgIHJldHVybiBib2R5KHQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRIZWFkKGRhdGEsIGlzU2hyaW5rLCBzY2FsZXMsIGVuY29kZXMsIHNpZ25hbHMsIGdldFBhdGgpIHtcbiAgY29uc3QgTCA9IGRhdGEubGVuZ3RoO1xuICBpZiAoTCA8PSAxKSB7XG4gICAgcmV0dXJuIHQgPT4gXCJcIjtcbiAgfVxuXG4gIGNvbnN0IGludGVycG9sYXRvcnMgPSBbXCJpbml0aWFsXCIsIFwiZmluYWxcIl0ubWFwKHdoaWNoID0+IHtcbiAgICBjb25zdCBwaGFzZXMgPSBbXTtcbiAgICBjb25zdCBzY2FsZSA9IHNjYWxlc1t3aGljaF07XG4gICAgY29uc3QgZW5jb2RlID0gZW5jb2Rlc1t3aGljaF07XG4gICAgY29uc3Qgc2lnbmFsID0gc2lnbmFsc1t3aGljaF0gfHwgc2lnbmFscztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBMIC0gMjsgaSsrKSB7XG4gICAgICBjb25zdCBmcm9tUGF0aCA9IGdldFBhdGgoXG4gICAgICAgIGRhdGEuc2xpY2UoMCwgaSArIDEpLmNvbmNhdChkYXRhLnNsaWNlKGksIGkgKyAxKSksXG4gICAgICAgIHNjYWxlLFxuICAgICAgICBlbmNvZGUsXG4gICAgICAgIHNpZ25hbFxuICAgICAgKS5yZXBsYWNlKC9eTS9nLCBcIkxcIik7XG4gICAgICBjb25zdCB0b1BhdGggPSBnZXRQYXRoKFxuICAgICAgICBkYXRhLnNsaWNlKDAsIGkgKyAyKSxcbiAgICAgICAgc2NhbGUsXG4gICAgICAgIGVuY29kZSxcbiAgICAgICAgc2lnbmFsXG4gICAgICApLnJlcGxhY2UoL15NL2csIFwiTFwiKTtcbiAgICAgIHBoYXNlcy5wdXNoKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIGQzLmludGVycG9sYXRlU3RyaW5nKGZyb21QYXRoLCB0b1BhdGgpKHQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAoaXNTaHJpbmspIHtcbiAgICAgICAgdCA9IDEgLSB0O1xuICAgICAgfVxuICAgICAgaWYgKHQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhdGgoZGF0YSwgc2NhbGUsIGVuY29kZSwgc2lnbmFsKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBoYXNlID0gTWF0aC5mbG9vcih0ICogKEwgLSAxKSk7XG5cbiAgICAgIHJldHVybiBwaGFzZXNbcGhhc2VdKHQgKiAoTCAtIDEpIC0gcGhhc2UpO1xuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiB0ID0+IHtcbiAgICByZXR1cm4gZDMuaW50ZXJwb2xhdGVTdHJpbmcoaW50ZXJwb2xhdG9yc1swXSh0KSwgaW50ZXJwb2xhdG9yc1sxXSh0KSkodCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFRhaWwoZGF0YSwgaXNTaHJpbmssIHNjYWxlcywgZW5jb2Rlcywgc2lnbmFscywgZ2V0UGF0aCkge1xuICBjb25zdCBMID0gZGF0YS5sZW5ndGg7XG4gIGlmIChMIDw9IDEpIHtcbiAgICByZXR1cm4gdCA9PiBcIlwiO1xuICB9XG4gIGNvbnN0IGludGVycG9sYXRvcnMgPSBbXCJpbml0aWFsXCIsIFwiZmluYWxcIl0ubWFwKHdoaWNoID0+IHtcbiAgICBjb25zdCBwaGFzZXMgPSBbXTtcbiAgICBjb25zdCBzY2FsZSA9IHNjYWxlc1t3aGljaF07XG4gICAgY29uc3QgZW5jb2RlID0gZW5jb2Rlc1t3aGljaF07XG4gICAgY29uc3Qgc2lnbmFsID0gc2lnbmFsc1t3aGljaF0gfHwgc2lnbmFscztcbiAgICBmb3IgKGxldCBpID0gTCAtIDI7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBmcm9tUGF0aCA9IGdldFBhdGgoXG4gICAgICAgIGRhdGEuc2xpY2UoaSArIDEsIGkgKyAyKS5jb25jYXQoZGF0YS5zbGljZShpICsgMSkpLFxuICAgICAgICBzY2FsZSxcbiAgICAgICAgZW5jb2RlLFxuICAgICAgICBzaWduYWxcbiAgICAgICkucmVwbGFjZSgvWiQvZywgXCJcIik7XG4gICAgICBjb25zdCB0b1BhdGggPSBnZXRQYXRoKGRhdGEuc2xpY2UoaSksIHNjYWxlLCBlbmNvZGUsIHNpZ25hbCkucmVwbGFjZShcbiAgICAgICAgL1okL2csXG4gICAgICAgIFwiXCJcbiAgICAgICk7XG5cbiAgICAgIHBoYXNlcy5wdXNoKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIGQzLmludGVycG9sYXRlU3RyaW5nKGZyb21QYXRoLCB0b1BhdGgpKHQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGlmIChpc1Nocmluaykge1xuICAgICAgICB0ID0gMSAtIHQ7XG4gICAgICB9XG4gICAgICBpZiAodCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZ2V0UGF0aChkYXRhLCBzY2FsZSwgZW5jb2RlLCBzaWduYWwpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGhhc2UgPSBNYXRoLmZsb29yKHQgKiAoTCAtIDEpKTtcblxuICAgICAgcmV0dXJuIHBoYXNlc1twaGFzZV0odCAqIChMIC0gMSkgLSBwaGFzZSk7XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB0ID0+IHtcbiAgICByZXR1cm4gZDMuaW50ZXJwb2xhdGVTdHJpbmcoaW50ZXJwb2xhdG9yc1swXSh0KSwgaW50ZXJwb2xhdG9yc1sxXSh0KSkodCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEJvZHkoXG4gIGZyb21EYXRhLFxuICB0b0RhdGEsXG4gIHNjYWxlcyxcbiAgZW5jb2RlcyxcbiAgc2lnbmFscyxcbiAgZ2V0UGF0aCxcbiAgdG9CZUFzc2VtYmxlZFxuKSB7XG4gIGNvbnN0IHBhdGhQYWlycyA9IFtcImluaXRpYWxcIiwgXCJmaW5hbFwiXS5tYXAod2hpY2ggPT4ge1xuICAgIGNvbnN0IHNjYWxlID0gc2NhbGVzW3doaWNoXTtcbiAgICBjb25zdCBlbmNvZGUgPSBlbmNvZGVzW3doaWNoXTtcbiAgICBjb25zdCBzaWduYWwgPSBzaWduYWxzW3doaWNoXSB8fCBzaWduYWxzO1xuICAgIGxldCBmcm9tUGF0aCA9IGdldFBhdGgoZnJvbURhdGEsIHNjYWxlLCBlbmNvZGUsIHNpZ25hbCk7XG4gICAgbGV0IHRvUGF0aCA9IGdldFBhdGgodG9EYXRhLCBzY2FsZSwgZW5jb2RlLCBzaWduYWwpO1xuXG4gICAgaWYgKHRvQmVBc3NlbWJsZWQpIHtcbiAgICAgIGZyb21QYXRoID0gZnJvbVBhdGgucmVwbGFjZSgvXk0vZywgXCJMXCIpLnJlcGxhY2UoL1okL2csIFwiXCIpO1xuICAgICAgdG9QYXRoID0gdG9QYXRoLnJlcGxhY2UoL15NL2csIFwiTFwiKS5yZXBsYWNlKC9aJC9nLCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFtmcm9tUGF0aCwgdG9QYXRoXTtcbiAgfSk7XG5cbiAgaWYgKFxuICAgIGlzVmFsaWRQYXRoKHBhdGhQYWlyc1swXVswXSkgJiZcbiAgICBpc1ZhbGlkUGF0aChwYXRoUGFpcnNbMF1bMV0pICYmXG4gICAgaXNWYWxpZFBhdGgocGF0aFBhaXJzWzFdWzBdKSAmJlxuICAgIGlzVmFsaWRQYXRoKHBhdGhQYWlyc1sxXVswXSlcbiAgKSB7XG4gICAgY29uc3QgaW50ZXJwb2xhdG9yMSA9IGludGVycG9sYXRlUGF0aChwYXRoUGFpcnNbMF1bMF0sIHBhdGhQYWlyc1swXVsxXSk7XG4gICAgY29uc3QgaW50ZXJwb2xhdG9yMiA9IGludGVycG9sYXRlUGF0aChwYXRoUGFpcnNbMV1bMF0sIHBhdGhQYWlyc1sxXVsxXSk7XG4gICAgcmV0dXJuIHQgPT4ge1xuICAgICAgcmV0dXJuIGQzLmludGVycG9sYXRlU3RyaW5nKGludGVycG9sYXRvcjEodCksIGludGVycG9sYXRvcjIodCkpKHQpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGQzLmludGVycG9sYXRlU3RyaW5nKHBhdGhQYWlyc1swXVswXSwgcGF0aFBhaXJzWzFdWzFdKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRQYXRoKHApIHtcbiAgcmV0dXJuIHAuaW5kZXhPZihcIk5hTlwiKSA8IDA7XG59XG5cbmV4cG9ydCB7XG4gIGFyZWFMaW5lSW50ZXJwb2xhdG9yV2l0aFNjYWxlcyxcbiAgYXJlYUxpbmVJbnRlcnBvbGF0b3IsXG4gIHN5bWJvbEludGVycG9sYXRvcixcbiAgYXJlYUxpbmVEVG9EYXRhLFxuICByZWN0SW50ZXJwb2xhdG9yXG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWRlc3RydWN0dXJpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuaW1wb3J0ICogYXMgdmVnYSBmcm9tIFwidmVnYVwiO1xuaW1wb3J0ICogYXMgdmVnYUV4cHJlc3Npb24gZnJvbSBcInZlZ2EtZXhwcmVzc2lvblwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgeyBwcm9wTWFwLCBpc0xpbmVhck1hcmt0eXBlIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgdGV4dE9mZnNldCwgZ2V0U3R5bGUsIHRyYW5zZm9ybUl0ZW0gfSBmcm9tIFwiLi92ZWdhLXJlbmRlci11dGlsXCI7XG5pbXBvcnQgeyBjb3B5LCBjb3B5MiwgaXNOdW1iZXIsIGdldCwgaXNWYWx1ZSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcbmltcG9ydCB7XG4gIGFyZWFMaW5lSW50ZXJwb2xhdG9yLFxuICBzeW1ib2xJbnRlcnBvbGF0b3IsXG4gIGFyZWFMaW5lRFRvRGF0YSxcbiAgcmVjdEludGVycG9sYXRvclxufSBmcm9tIFwiLi9tYXJrL2ludGVycG9sYXRlSGVscGVyXCI7XG5pbXBvcnQgeyBCUl9QUk9QX0RFRkFVTFQgfSBmcm9tIFwiLi4vZGVmYXVsdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hBdHRyaWJ1dGVzKGQzU2VsZWN0aW9uLCBwcm9wcywgc2NhbGVzLCBzaWduYWwsIGVuY29kZSwgcHJldkRhdGEpIHtcbiAgcHJvcHMuZm9yRWFjaChwcm9wID0+IHtcbiAgICBwcm9wTWFwKHByb3ApLmZvckVhY2gocCA9PiB7XG4gICAgICBpZiAocC50eXBlID09PSBcImF0dHJUd2VlblwiKSB7XG4gICAgICAgIGlmIChkM1NlbGVjdGlvbi5hdHRyVHdlZW4pIHtcbiAgICAgICAgICBkM1NlbGVjdGlvbi5hdHRyVHdlZW4oZ2V0U3R5bGUocC52YWwpLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBjb25zdCBvbGREID0gcHJldkRhdGEgPyBwcmV2RGF0YS5nZXQodGhpcykgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbC5iaW5kKHRoaXMpKHAsIGVuY29kZSwgc2NhbGVzLCBzaWduYWwsIGQsIG9sZEQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRlbXBQID0gT2JqZWN0LmFzc2lnbih7fSwgcCwgeyB0eXBlOiBcImF0dHJcIiB9KTtcbiAgICAgICAgICBkM1NlbGVjdGlvbi5hdHRyKHRlbXBQLnZhbCwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkRCA9IHByZXZEYXRhID8gcHJldkRhdGEuZ2V0KHRoaXMpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwuYmluZCh0aGlzKShcbiAgICAgICAgICAgICAgdGVtcFAsXG4gICAgICAgICAgICAgIGVuY29kZSxcbiAgICAgICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICAgIG9sZERcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcImF0dHJcIikge1xuICAgICAgICBkM1NlbGVjdGlvbi5hdHRyKGdldFN0eWxlKHAudmFsKSwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgIGNvbnN0IG9sZEQgPSBwcmV2RGF0YSA/IHByZXZEYXRhLmdldCh0aGlzKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbC5iaW5kKHRoaXMpKHAsIGVuY29kZSwgc2NhbGVzLCBzaWduYWwsIGQsIG9sZEQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcInRleHRcIikge1xuICAgICAgICBkM1NlbGVjdGlvbi50ZXh0KGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBjb25zdCBvbGREID0gcHJldkRhdGEgPyBwcmV2RGF0YS5nZXQodGhpcykgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwuYmluZCh0aGlzKShwLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkLCBvbGREKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICAgIGlmIChwLmFzVHdlZW4pIHtcbiAgICAgICAgICBkM1NlbGVjdGlvbi5zdHlsZVR3ZWVuKGdldFN0eWxlKHAudmFsKSwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkRCA9IHByZXZEYXRhID8gcHJldkRhdGEuZ2V0KHRoaXMpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwuYmluZCh0aGlzKShwLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkLCBvbGREKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkM1NlbGVjdGlvbi5zdHlsZShnZXRTdHlsZShwLnZhbCksIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZEQgPSBwcmV2RGF0YSA/IHByZXZEYXRhLmdldCh0aGlzKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsLmJpbmQodGhpcykocCwgZW5jb2RlLCBzY2FsZXMsIHNpZ25hbCwgZCwgb2xkRCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wVmFsKHByb3BJbmZvLCBlbmNvZGVzLCBzY2FsZXMsIHNpZ25hbHMsIGQsIG9sZEQpIHtcbiAgY29uc3Qgc2lnbmFsID0gc2lnbmFscy5maW5hbCB8fCBzaWduYWxzO1xuICBjb25zdCBlbmNvZGUgPSBlbmNvZGVzLmZpbmFsIHx8IGVuY29kZXM7XG5cbiAgaWYgKHByb3BJbmZvLmVsbVR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgaWYgKHByb3BJbmZvLnZhbCA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgLy8gZ2V0IHRyYW5zZm9ybVxuICAgICAgY29uc3QgdHJmRCA9IHRyYW5zZm9ybUQuYmluZCh0aGlzKShlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkLCBmYWxzZSk7XG4gICAgICBjb25zdCBkeCA9IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKFwiZHhcIiwgZW5jb2RlLCBzY2FsZXMsIHNpZ25hbCwgZCk7XG4gICAgICBjb25zdCBkeSA9IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKFwiZHlcIiwgZW5jb2RlLCBzY2FsZXMsIHNpZ25hbCwgZCk7XG4gICAgICB0cmZELnggPSAodHJmRC54IHx8IDApICsgKGR4IHx8IDApO1xuICAgICAgdHJmRC55ID0gKHRyZkQueSB8fCAwKSArIChkeSB8fCAwKTtcbiAgICAgIGNvbnN0IGJhc2VsaW5lID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXG4gICAgICAgIFwiYmFzZWxpbmVcIixcbiAgICAgICAgZW5jb2RlLFxuICAgICAgICBzY2FsZXMsXG4gICAgICAgIHNpZ25hbCxcbiAgICAgICAgZFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXG4gICAgICAgIFwiZm9udFNpemVcIixcbiAgICAgICAgZW5jb2RlLFxuICAgICAgICBzY2FsZXMsXG4gICAgICAgIHNpZ25hbCxcbiAgICAgICAgZFxuICAgICAgKTtcbiAgICAgIGlmIChvbGREICYmIG9sZEQuYWxpZ24gIT09IGQuYWxpZ24pIHtcbiAgICAgICAgY29uc3QgYWxpZ25GYWN0b3IgPSB7IHJpZ2h0OiAtMC41LCBjZW50ZXI6IDAsIGxlZnQ6IDAuNSB9O1xuICAgICAgICB0cmZELnggKz1cbiAgICAgICAgICB2ZWdhLnRleHRNZXRyaWNzLndpZHRoKGQsZC50ZXh0KSAqXG4gICAgICAgICAgKGFsaWduRmFjdG9yW2QuYWxpZ25dIC0gYWxpZ25GYWN0b3Jbb2xkRC5hbGlnbl0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYCR7dHJhbnNmb3JtSXRlbSh0cmZEKX0gJHt0cmFuc2Zvcm1JdGVtKHtcbiAgICAgICAgeTogdGV4dE9mZnNldChPYmplY3QuYXNzaWduKHsgYmFzZWxpbmUsIGZvbnRTaXplIH0sIGQpKVxuICAgICAgfSl9YDtcbiAgICB9XG4gICAgaWYgKHByb3BJbmZvLnZhbCA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgIHJldHVybiBlbmNvZGUudGV4dFxuICAgICAgICA/IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKFwidGV4dFwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKVxuICAgICAgICA6IGQudGV4dDtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvcEluZm8uZWxtVHlwZSA9PT0gXCJ0aXRsZVwiKSB7XG4gICAgaWYgKHByb3BJbmZvLnZhbCA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgLy8gZ2V0IHRyYW5zZm9ybVxuICAgICAgY29uc3QgdHJmRCA9IHRyYW5zZm9ybUQuYmluZCh0aGlzKShlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIC8vIGxldCB0cmZEID0gdHJhbnNmb3JtRC5iaW5kKHRoaXMpKGVuY29kZSwgc2NhbGVzLCBzaWduYWwsIGQsIGZhbHNlKTtcbiAgICAgIGNvbnN0IGR4ID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXCJkeFwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIGNvbnN0IGR5ID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXCJkeVwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIHRyZkQueCA9ICh0cmZELnggfHwgMCkgKyAoZHggfHwgMCk7XG4gICAgICB0cmZELnkgPSAodHJmRC55IHx8IDApICsgKGR5IHx8IDApO1xuICAgICAgY29uc3QgYmFzZWxpbmUgPSBkZWNvZGVFbmNvZGUuYmluZCh0aGlzKShcbiAgICAgICAgXCJiYXNlbGluZVwiLFxuICAgICAgICBlbmNvZGUsXG4gICAgICAgIHNjYWxlcyxcbiAgICAgICAgc2lnbmFsLFxuICAgICAgICBkXG4gICAgICApO1xuICAgICAgY29uc3QgZm9udFNpemUgPSBkZWNvZGVFbmNvZGUuYmluZCh0aGlzKShcbiAgICAgICAgXCJmb250U2l6ZVwiLFxuICAgICAgICBlbmNvZGUsXG4gICAgICAgIHNjYWxlcyxcbiAgICAgICAgc2lnbmFsLFxuICAgICAgICBkXG4gICAgICApO1xuICAgICAgcmV0dXJuIGAke3RyYW5zZm9ybUl0ZW0odHJmRCl9ICR7dHJhbnNmb3JtSXRlbSh7XG4gICAgICAgIHk6IHRleHRPZmZzZXQoT2JqZWN0LmFzc2lnbih7IGJhc2VsaW5lLCBmb250U2l6ZSB9LCBkKSlcbiAgICAgIH0pfWA7XG4gICAgfVxuICAgIGlmIChwcm9wSW5mby52YWwgPT09IFwidGV4dFwiKSB7XG4gICAgICByZXR1cm4gZW5jb2RlLnRleHRcbiAgICAgICAgPyBkZWNvZGVFbmNvZGUuYmluZCh0aGlzKShcInRleHRcIiwgZW5jb2RlLCBzY2FsZXMsIHNpZ25hbCwgZClcbiAgICAgICAgOiBkLnRleHQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgIHByb3BJbmZvLmVsbVR5cGUgPT09IFwidGlja1wiIHx8XG4gICAgcHJvcEluZm8uZWxtVHlwZSA9PT0gXCJncmlkXCIgfHxcbiAgICBwcm9wSW5mby5lbG1UeXBlID09PSBcImRvbWFpblwiXG4gICkge1xuICAgIC8vIGhvdGZpeFxuICAgIGlmIChwcm9wSW5mby52YWwgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgIC8vIGdldCB0cmFuc2Zvcm1cbiAgICAgIGxldCB0cmZEID0gdHJhbnNmb3JtRC5iaW5kKHRoaXMpKGVuY29kZSwgc2NhbGVzLCBzaWduYWwsIGQsIGZhbHNlKTtcbiAgICAgIHRyZkQgPSBPYmplY3Qua2V5cyh0cmZEKS5sZW5ndGggPT09IDAgPyBkIDogdHJmRDtcbiAgICAgIGNvbnN0IHgyID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXCJ4MlwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIGNvbnN0IHkyID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXCJ5MlwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIGlmIChvbGREKSB7XG4gICAgICAgIGlmICh4MiA9PT0gMCAmJiAob2xkRC55MiAtIG9sZEQueSkgKiB5MiA8IDApIHtcbiAgICAgICAgICB0cmZELnkgKz0geTI7XG4gICAgICAgIH0gZWxzZSBpZiAoeTIgPT09IDAgJiYgKG9sZEQueDIgLSBvbGRELngpICogeDIgPCAwKSB7XG4gICAgICAgICAgdHJmRC54ICs9IHgyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhbnNmb3JtSXRlbShPYmplY3Qua2V5cyh0cmZEKS5sZW5ndGggPT09IDAgPyBkIDogdHJmRCk7XG4gICAgfVxuICAgIGlmIChwcm9wSW5mby52YWwgPT09IFwieDJcIikge1xuICAgICAgbGV0IHgyID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXCJ4MlwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIGlmIChpc05hTih4MikpIHtcbiAgICAgICAgcmV0dXJuIGQueDIgLSBkLng7XG4gICAgICB9XG4gICAgICBpZiAob2xkRCkge1xuICAgICAgICBpZiAoKG9sZEQueDIgLSBvbGRELngpICogeDIgPCAwKSB7XG4gICAgICAgICAgeDIgPSAteDI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpc05hTih4MikgPyBkLngyIC0gZC54IDogeDI7XG4gICAgfVxuICAgIGlmIChwcm9wSW5mby52YWwgPT09IFwieTJcIikge1xuICAgICAgbGV0IHkyID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXCJ5MlwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIGlmIChpc05hTih5MikpIHtcbiAgICAgICAgcmV0dXJuIGQueTIgLSBkLnk7XG4gICAgICB9XG4gICAgICBpZiAob2xkRCkge1xuICAgICAgICBpZiAoKG9sZEQueTIgLSBvbGRELnkpICogeTIgPCAwKSB7XG4gICAgICAgICAgeTIgPSAteTI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB5MjtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvcEluZm8uZWxtVHlwZSA9PT0gXCJyZWN0XCIpIHtcbiAgICBpZiAocHJvcEluZm8udmFsID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgaWYgKHByb3BJbmZvLnZhbCA9PT0gXCJkXCIpIHtcbiAgICAgIGlmIChwcm9wSW5mby50eXBlID09PSBcImF0dHJUd2VlblwiKSB7XG4gICAgICAgIHJldHVybiByZWN0SW50ZXJwb2xhdG9yLmJpbmQodGhpcykoXG4gICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgIGVuY29kZXMsXG4gICAgICAgICAgc2lnbmFscyxcbiAgICAgICAgICBkLFxuICAgICAgICAgIG9sZEQsXG4gICAgICAgICAgZ2V0UmVjdFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldFJlY3QoZCwgc2NhbGVzLCBlbmNvZGVzLCBzaWduYWwpLnBhdGg7XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb3BJbmZvLmVsbVR5cGUgPT09IFwic3ltYm9sXCIpIHtcbiAgICBpZiAocHJvcEluZm8udmFsID09PSBcImRcIikge1xuICAgICAgaWYgKHByb3BJbmZvLnR5cGUgPT09IFwiYXR0clR3ZWVuXCIpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbEludGVycG9sYXRvci5iaW5kKHRoaXMpKFxuICAgICAgICAgIHNjYWxlcyxcbiAgICAgICAgICBlbmNvZGVzLFxuICAgICAgICAgIHNpZ25hbHMsXG4gICAgICAgICAgZCxcbiAgICAgICAgICBvbGRELFxuICAgICAgICAgIGdldFNoYXBlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0U2hhcGUoZCwgc2NhbGVzLCBlbmNvZGUsIHNpZ25hbCkucGF0aDtcbiAgICB9XG4gICAgaWYgKHByb3BJbmZvLnZhbCA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgY29uc3QgdHJmRCA9IHRyYW5zZm9ybUQuYmluZCh0aGlzKShlbmNvZGVzLCBzY2FsZXMsIHNpZ25hbCwgZCwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybUl0ZW0oT2JqZWN0LmtleXModHJmRCkubGVuZ3RoID09PSAwID8gZCA6IHRyZkQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwcm9wSW5mby5lbG1UeXBlID09PSBcImdyYWRpZW50XCIpIHtcbiAgICBpZiAocHJvcEluZm8udmFsID09PSBcImRcIikge1xuICAgICAgY29uc3QgbmV3RCA9IE9iamVjdC5rZXlzKGVuY29kZS5wcmltYXJ5IHx8IGVuY29kZSlcbiAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICBrZXkgPT5cbiAgICAgICAgICAgIFtcInhcIiwgXCJ4MlwiLCBcInhjXCIsIFwid2lkdGhcIiwgXCJ5XCIsIFwieTJcIiwgXCJ5Y1wiLCBcImhlaWdodFwiXS5pbmRleE9mKFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICkgPj0gMFxuICAgICAgICApXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuICAgICAgICAgIGFjY1tjdXJyXSA9IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKGN1cnIsIGVuY29kZSwgc2NhbGVzLCBzaWduYWwsIGQpO1xuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIGxldCB4OyBsZXQgeTsgbGV0IHdpZHRoOyBsZXQgaGVpZ2h0O1xuICAgICAgaWYgKGlzTmFOKG5ld0QueCkpIHtcbiAgICAgICAgeCA9IGlzTmFOKG5ld0QueGMgLSBuZXdELndpZHRoIC8gMilcbiAgICAgICAgICA/IG5ld0QueDJcbiAgICAgICAgICA6IG5ld0QueGMgLSBuZXdELndpZHRoIC8gMjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggPSBuZXdELng7XG4gICAgICB9XG4gICAgICBpZiAoaXNOYU4obmV3RC53aWR0aCkpIHtcbiAgICAgICAgd2lkdGggPSBpc05hTihuZXdELngyIC0gbmV3RC54KSA/IHVuZGVmaW5lZCA6IG5ld0QueDIgLSBuZXdELng7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aCA9IG5ld0Qud2lkdGg7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4obmV3RC55MikgJiYgIWlzTmFOKG5ld0QueSkpIHtcbiAgICAgICAgeSA9IE1hdGgubWluKG5ld0QueTIsIG5ld0QueSk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguYWJzKG5ld0QueTIgLSBuZXdELnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeSA9IGlzTmFOKG5ld0QueSkgPyBuZXdELnkyIDogbmV3RC55O1xuICAgICAgICBoZWlnaHQgPSBuZXdELmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgLy8gIGhlaWdodCA9IGlzTmFOKG5ld0QuaGVpZ2h0KSA/ICggaXNOYU4obmV3RC55MiAtIG5ld0QueSkgPyB1bmRlZmluZWQgOiAobmV3RC55MiAtIG5ld0QueSkpIDogbmV3RC5oZWlnaHQ7XG4gICAgICAvLyByZXR1cm4gdmVnYS5wYXRoUmVjdGFuZ2xlKCkueCh4KS55KHkpLndpZHRoKHdpZHRoKS5oZWlnaHQoaGVpZ2h0KSgpO1xuXG4gICAgICByZXR1cm4gdmVnYVxuICAgICAgICAucGF0aFJlY3RhbmdsZSgpXG4gICAgICAgIC54KHgpXG4gICAgICAgIC55KHkpXG4gICAgICAgIC53aWR0aCh3aWR0aClcbiAgICAgICAgLmhlaWdodChoZWlnaHQpKCk7XG4gICAgfVxuICAgIGlmIChwcm9wSW5mby52YWwgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgIGNvbnN0IHRyZkQgPSB0cmFuc2Zvcm1ELmJpbmQodGhpcykoZW5jb2RlLCBzY2FsZXMsIHNpZ25hbCwgZCwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybUl0ZW0oT2JqZWN0LmtleXModHJmRCkubGVuZ3RoID09PSAwID8gZCA6IHRyZkQpO1xuICAgIH1cbiAgICBpZiAocHJvcEluZm8udmFsID09PSBcImZpbGxcIikge1xuICAgICAgaWYgKHByb3BJbmZvLmRlZnMgJiYgIXByb3BJbmZvLmlzVXBkYXRlKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHByb3BJbmZvLmRlZnMoZDMuc2VsZWN0KHRoaXMuY2xvc2VzdChcInN2Z1wiKSksIGQpO1xuICAgICAgICByZXR1cm4gYHVybChcIiR7dXJsfVwiKWA7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb3BJbmZvLmVsbVR5cGUgPT09IFwicnVsZVwiKSB7XG4gICAgaWYgKHByb3BJbmZvLnZhbCA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgLy8gZ2V0IHRyYW5zZm9ybVxuICAgICAgY29uc3QgdHJmRCA9IHRyYW5zZm9ybUQuYmluZCh0aGlzKShlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkLCBmYWxzZSk7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtSXRlbShPYmplY3Qua2V5cyh0cmZEKS5sZW5ndGggPT09IDAgPyBkIDogdHJmRCk7XG4gICAgfVxuICAgIGlmIChwcm9wSW5mby52YWwgPT09IFwieDJcIikge1xuICAgICAgY29uc3QgeDIgPSBkZWNvZGVFbmNvZGUuYmluZCh0aGlzKShcIngyXCIsIGVuY29kZSwgc2NhbGVzLCBzaWduYWwsIGQpO1xuICAgICAgY29uc3QgeCA9IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKFwieFwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIHJldHVybiBpc051bWJlcih4MiAtIHgpID8geDIgLSB4IDogZC54MiB8fCAwO1xuICAgIH1cbiAgICBpZiAocHJvcEluZm8udmFsID09PSBcInkyXCIpIHtcbiAgICAgIGNvbnN0IHkyID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXCJ5MlwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIGNvbnN0IHkgPSBkZWNvZGVFbmNvZGUuYmluZCh0aGlzKShcInlcIiwgZW5jb2RlLCBzY2FsZXMsIHNpZ25hbCwgZCk7XG4gICAgICByZXR1cm4gaXNOdW1iZXIoeTIgLSB5KSA/IHkyIC0geSA6IGQueTIgfHwgMDtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvcEluZm8uZWxtVHlwZSA9PT0gXCJncm91cFwiKSB7XG4gICAgaWYgKHByb3BJbmZvLnZhbCA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgY29uc3QgdHJmRCA9IHRyYW5zZm9ybUQuYmluZCh0aGlzKShlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1JdGVtKE9iamVjdC5rZXlzKHRyZkQpLmxlbmd0aCA9PT0gMCA/IGQgOiB0cmZEKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvcEluZm8uZWxtVHlwZSA9PT0gXCJiYWNrZ3JvdW5kXCIpIHtcbiAgICBpZiAocHJvcEluZm8udmFsID09PSBcImRcIikge1xuICAgICAgY29uc3QgcmVjdEQgPSB7XG4gICAgICAgIHg6IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKFwieFwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKSB8fCAwLFxuICAgICAgICB5OiBkZWNvZGVFbmNvZGUuYmluZCh0aGlzKShcInlcIiwgZW5jb2RlLCBzY2FsZXMsIHNpZ25hbCwgZCkgfHwgMCxcbiAgICAgICAgaGVpZ2h0OiBkZWNvZGVFbmNvZGUuYmluZCh0aGlzKShcImhlaWdodFwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKSxcbiAgICAgICAgd2lkdGg6IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKFwid2lkdGhcIiwgZW5jb2RlLCBzY2FsZXMsIHNpZ25hbCwgZClcbiAgICAgIH07XG4gICAgICByZXR1cm4gdmVnYVxuICAgICAgICAucGF0aFJlY3RhbmdsZSgpXG4gICAgICAgIC54KHJlY3RELngpXG4gICAgICAgIC55KHJlY3RELnkpXG4gICAgICAgIC53aWR0aChyZWN0RC53aWR0aClcbiAgICAgICAgLmhlaWdodChyZWN0RC5oZWlnaHQpKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzTGluZWFyTWFya3R5cGUocHJvcEluZm8uZWxtVHlwZSkpIHtcbiAgICBpZiAocHJvcEluZm8udmFsID09PSBcImRcIikge1xuICAgICAgaWYgKHByb3BJbmZvLnR5cGUgPT09IFwiYXR0clR3ZWVuXCIpIHtcbiAgICAgICAgY29uc3QgbWFya3R5cGVzID0gcHJvcEluZm8uaW5pdGlhbE1hcmt0eXBlXG4gICAgICAgICAgPyB7IGluaXRpYWw6IHByb3BJbmZvLmluaXRpYWxNYXJrdHlwZSwgZmluYWw6IHByb3BJbmZvLmVsbVR5cGUgfVxuICAgICAgICAgIDogcHJvcEluZm8uZWxtVHlwZTtcbiAgICAgICAgcmV0dXJuIGFyZWFMaW5lSW50ZXJwb2xhdG9yLmJpbmQodGhpcykoXG4gICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgIGVuY29kZXMsXG4gICAgICAgICAgbWFya3R5cGVzLFxuICAgICAgICAgIGQsXG4gICAgICAgICAgb2xkRCxcbiAgICAgICAgICBzaWduYWxzLFxuICAgICAgICAgIGdldFBhdGguYmluZCh0aGlzKSxcbiAgICAgICAgICBwcm9wSW5mby5pbnRlcnBvbGF0ZVN0eWxlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0UGF0aC5iaW5kKHRoaXMpKFxuICAgICAgICBhcmVhTGluZURUb0RhdGEoZCksXG4gICAgICAgIHNjYWxlcyxcbiAgICAgICAgZW5jb2RlLFxuICAgICAgICBzaWduYWwsXG4gICAgICAgIHByb3BJbmZvLmVsbVR5cGVcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChwcm9wSW5mby52YWwgPT09IFwiZmlsbFwiICYmIHByb3BJbmZvLmFzVHdlZW4pIHtcbiAgICAgIGNvbnN0IGdldEZpbGwgPSBlbmNvZGUgPT5cbiAgICAgICAgZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXG4gICAgICAgICAgXCJmaWxsXCIsXG4gICAgICAgICAgZW5jb2RlLFxuICAgICAgICAgIHNjYWxlcyxcbiAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgZC5tYXJrLm1hcmt0eXBlICE9PSBcImdyb3VwXCIgPyB7IGRhdHVtOiB7fSB9IDogZFxuICAgICAgICApO1xuICAgICAgaWYgKHByb3BJbmZvLmluaXRpYWxNYXJrdHlwZSA9PT0gXCJhcmVhXCIgJiYgcHJvcEluZm8uZWxtVHlwZSA9PT0gXCJsaW5lXCIpIHtcbiAgICAgICAgLy8gd2hpbGUgYXJlYSAtPiBsaW5lLCBrZWVwIHRoZSBmaWxsIG9mIHRoZSBwYXRoIGFuZCByZW1vdmUgYXQgdGhlIGVuZC5cbiAgICAgICAgY29uc3QgZGVjb2RlZFZhbHVlID0gZ2V0RmlsbCh7XG4gICAgICAgICAgZmlsbDogKGVuY29kZXMuaW5pdGlhbCB8fCBlbmNvZGUpLmZpbGxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0ID0+ICh0ID49IDEgPyBcIm5vbmVcIiA6IGRlY29kZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBkZWNvZGVkVmFsdWUgPSBnZXRGaWxsKGVuY29kZSk7XG4gICAgICByZXR1cm4gKHQpID0+IGRlY29kZWRWYWx1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcHJvcEluZm8udmFsID09PSBcInN0cm9rZVwiICYmXG4gICAgICBwcm9wSW5mby5pbml0aWFsTWFya3R5cGUgPT09IFwibGluZVwiICYmXG4gICAgICBwcm9wSW5mby5lbG1UeXBlID09PSBcImFyZWFcIlxuICAgICkge1xuICAgICAgY29uc3QgX2VuY29kZSA9IHsgc3Ryb2tlOiBlbmNvZGUuc3Ryb2tlIHx8IGVuY29kZS5maWxsIH07XG4gICAgICByZXR1cm4gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXG4gICAgICAgIFwic3Ryb2tlXCIsXG4gICAgICAgIF9lbmNvZGUsXG4gICAgICAgIHNjYWxlcyxcbiAgICAgICAgc2lnbmFsLFxuICAgICAgICBkLm1hcmsubWFya3R5cGUgIT09IFwiZ3JvdXBcIiA/IHsgZGF0dW06IHt9IH0gOiBkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaGFzUHJvcChlbmNvZGUsIHByb3BJbmZvKSkge1xuICAgICAgLy8gc2luY2UgZGF0YSBiaW5kIHRvIHRoZSBncm91cCBvZiB0aGUgbGluZVxuICAgICAgcmV0dXJuIGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKFxuICAgICAgICBwcm9wSW5mby52YWwsXG4gICAgICAgIGVuY29kZSxcbiAgICAgICAgc2NhbGVzLFxuICAgICAgICBzaWduYWwsXG4gICAgICAgIGQubWFyay5tYXJrdHlwZSAhPT0gXCJncm91cFwiID8geyBkYXR1bToge30gfSA6IGRcbiAgICAgICkgKyAocHJvcEluZm8udmFsID09PSBcInN0cm9rZVdpZHRoXCIgPyBcInB4XCIgOiBcIlwiKTtcbiAgICB9XG4gIH1cblxuICBpZiAocHJvcEluZm8udmFsID09PSBcInRleHQtYW5jaG9yXCIpIHtcbiAgICBjb25zdCB0ZXh0QW5jaG9yID0ge1xuICAgICAgbGVmdDogXCJzdGFydFwiLFxuICAgICAgY2VudGVyOiBcIm1pZGRsZVwiLFxuICAgICAgcmlnaHQ6IFwiZW5kXCJcbiAgICB9O1xuICAgIHJldHVybiB0ZXh0QW5jaG9yW1xuICAgICAgKG9sZEQgPyBvbGRELmFsaWduIDogZC5hbGlnbikgfHxcbiAgICAgICAgZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXCJhbGlnblwiLCBlbmNvZGUsIHNjYWxlcywgc2lnbmFsLCBkKVxuICAgIF07XG4gIH1cbiAgaWYgKGhhc1Byb3AoZW5jb2RlLCBwcm9wSW5mbykpIHtcbiAgICByZXR1cm4gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykocHJvcEluZm8udmFsLCBlbmNvZGVzLCBzY2FsZXMsIHNpZ25hbCwgZCk7XG4gIH1cbiAgLy8gVmVnYSBtYWtlIHNvbWUgbGFibGVzIHRyYW5zcGFyZW50IHRvIGF2b2lkIHRoZSBvdmVybGFwcy5cbiAgLy8gR2VtaW5pIHRha2VzIHRoZSB2ZWdhJ3MgZGVjaXNpb25zLlxuICBpZiAocHJvcEluZm8uZWxtVHlwZSA9PT0gXCJ0ZXh0XCIgJiYgcHJvcEluZm8udmFsID09PSBcIm9wYWNpdHlcIikge1xuICAgIHJldHVybiBkW3Byb3BJbmZvLnZhbF07XG4gIH1cbiAgcmV0dXJuIEJSX1BST1BfREVGQVVMVFtwcm9wSW5mby5lbG1UeXBlXVtwcm9wSW5mby52YWxdO1xuXG4gIGZ1bmN0aW9uIGhhc1Byb3AoZW5jb2RlLCBwcm9wSW5mbykge1xuICAgIHJldHVybiAoXG4gICAgICBnZXQoZW5jb2RlLCBcInByaW1hcnlcIiwgcHJvcEluZm8udmFsKSB8fFxuICAgICAgZ2V0KGVuY29kZSwgXCJzZWNvbmRhcnlcIiwgcHJvcEluZm8udmFsKSB8fFxuICAgICAgZ2V0KGVuY29kZSwgcHJvcEluZm8udmFsKVxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0UmVjdChkLCBzY2FsZXMsIGVuY29kZXMsIHNpZ25hbCwgaXNEaW1pbmlzaGVkKSB7XG4gICAgY29uc3QgZW5jb2RlID0gZW5jb2Rlcy5wcmltYXJ5IHx8IGVuY29kZXM7XG4gICAgY29uc3Qgc3ViRW5jb2RlID0gZW5jb2Rlcy5zZWNvbmRhcnkgfHwgZW5jb2RlcztcbiAgICBjb25zdCBQT1NJVElPTl9BVFRSUyA9IFtcbiAgICAgIFwieFwiLFxuICAgICAgXCJ4MlwiLFxuICAgICAgXCJ4Y1wiLFxuICAgICAgXCJ3aWR0aFwiLFxuICAgICAgXCJ5XCIsXG4gICAgICBcInkyXCIsXG4gICAgICBcInljXCIsXG4gICAgICBcImhlaWdodFwiLFxuICAgICAgXCJjb3JuZXJSYWRpdXNcIlxuICAgIF07XG4gICAgY29uc3QgbmV3RCA9IFBPU0lUSU9OX0FUVFJTLnJlZHVjZSgoYWNjLCBhdHRyKSA9PiB7XG4gICAgICBpZiAoZW5jb2RlW2F0dHJdIHx8IHN1YkVuY29kZVthdHRyXSkge1xuICAgICAgICBhY2NbYXR0cl0gPSBkZWNvZGVFbmNvZGUuYmluZCh0aGlzKShcbiAgICAgICAgICBhdHRyLFxuICAgICAgICAgIGVuY29kZXMsXG4gICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICBkLFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcblxuICAgIGxldCB4OyBsZXQgeTsgbGV0IHdpZHRoOyBsZXQgaGVpZ2h0OyBsZXQgY29ybmVyUmFkaXVzO1xuICAgIGlmIChpc051bWJlcihuZXdELnhjKSAmJiBpc051bWJlcihuZXdELndpZHRoKSkge1xuICAgICAgeCA9IG5ld0QueGMgLSBuZXdELndpZHRoIC8gMjtcbiAgICAgIHdpZHRoID0gbmV3RC53aWR0aDtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKG5ld0QueCkgJiYgaXNOdW1iZXIobmV3RC54MikpIHtcbiAgICAgIHggPSBNYXRoLm1pbihuZXdELngsIG5ld0QueDIpO1xuICAgICAgd2lkdGggPSBNYXRoLmFicyhuZXdELnggLSBuZXdELngyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeCA9IGlzTnVtYmVyKG5ld0QueCkgPyBuZXdELnggOiBuZXdELngyO1xuICAgICAgd2lkdGggPSBuZXdELndpZHRoO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihuZXdELnljKSAmJiBpc051bWJlcihuZXdELmhlaWdodCkpIHtcbiAgICAgIHkgPSBuZXdELnljIC0gbmV3RC5oZWlnaHQgLyAyO1xuICAgICAgaGVpZ2h0ID0gbmV3RC5oZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChpc051bWJlcihuZXdELnkyKSAmJiBpc051bWJlcihuZXdELnkpKSB7XG4gICAgICB5ID0gTWF0aC5taW4obmV3RC55MiwgbmV3RC55KTtcbiAgICAgIGhlaWdodCA9IE1hdGguYWJzKG5ld0QueTIgLSBuZXdELnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB5ID0gaXNOdW1iZXIobmV3RC55KSA/IG5ld0QueSA6IG5ld0QueTI7XG4gICAgICBoZWlnaHQgPSBuZXdELmhlaWdodDtcbiAgICB9XG5cbiAgICBjb3JuZXJSYWRpdXMgPSAhaXNOdW1iZXIobmV3RC5jb3JuZXJSYWRpdXMpID8gMCA6IG5ld0QuY29ybmVyUmFkaXVzO1xuICAgIGlmIChpc0RpbWluaXNoZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGg6IHZlZ2FcbiAgICAgICAgICAucGF0aFJlY3RhbmdsZSgpXG4gICAgICAgICAgLngoMClcbiAgICAgICAgICAueSgwKVxuICAgICAgICAgIC53aWR0aCgxKVxuICAgICAgICAgIC5oZWlnaHQoMSkoKSxcbiAgICAgICAgbWV0YTogbmV3RFxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gIGhlaWdodCA9IGlzTmFOKG5ld0QuaGVpZ2h0KSA/ICggaXNOYU4obmV3RC55MiAtIG5ld0QueSkgPyB1bmRlZmluZWQgOiAobmV3RC55MiAtIG5ld0QueSkpIDogbmV3RC5oZWlnaHQ7XG4gICAgLy8gcmV0dXJuIHZlZ2EucGF0aFJlY3RhbmdsZSgpLngoeCkueSh5KS53aWR0aCh3aWR0aCkuaGVpZ2h0KGhlaWdodCkoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBwYXRoOiB2ZWdhXG4gICAgICAgIC5wYXRoUmVjdGFuZ2xlKClcbiAgICAgICAgLngoeClcbiAgICAgICAgLnkoeSlcbiAgICAgICAgLndpZHRoKHdpZHRoKVxuICAgICAgICAuaGVpZ2h0KGhlaWdodClcbiAgICAgICAgLmNvcm5lclJhZGl1cyhjb3JuZXJSYWRpdXMpKCksXG4gICAgICBtZXRhOiBuZXdEXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoYXBlKGQsIHNjYWxlcywgZW5jb2Rlcywgc2lnbmFsLCBpc0RpbWluaXNoZWQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGVuY29kZSA9IGVuY29kZXMucHJpbWFyeSB8fCBlbmNvZGVzO1xuICAgIGxldCBuZXdEID0gT2JqZWN0LmtleXMoZW5jb2RlKVxuICAgICAgLmZpbHRlcihrZXkgPT4gW1wic2l6ZVwiLCBcInNoYXBlXCJdLmluZGV4T2Yoa2V5KSA+PSAwKVxuICAgICAgLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgICAgIGFjY1tjdXJyXSA9IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKGN1cnIsIGVuY29kZXMsIHNjYWxlcywgc2lnbmFsLCBkKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgICBjb25zdCBjb250ZXh0ID0gZDMucGF0aCgpO1xuICAgIG5ld0QgPSB7XG4gICAgICBzaGFwZTogbmV3RC5zaGFwZSB8fCBcImNpcmNsZVwiLFxuICAgICAgc2l6ZTogaXNOdW1iZXIobmV3RC5zaXplKSA/IG5ld0Quc2l6ZSA6IGlzTnVtYmVyKGQuc2l6ZSkgPyBkLnNpemUgOiAzMFxuICAgIH07XG5cbiAgICB2ZWdhLnBhdGhTeW1ib2xzKG5ld0Quc2hhcGUpLmRyYXcoY29udGV4dCwgaXNEaW1pbmlzaGVkID8gMSA6IG5ld0Quc2l6ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGg6IGNvbnRleHQudG9TdHJpbmcoKSxcbiAgICAgIG1ldGE6IG5ld0RcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGF0aChkYXRhLCBzY2FsZXMsIGVuY29kZXMsIHNpZ25hbCwgdHlwZSwgYWxvbmdUbz1cInhcIikge1xuICAgIC8vIGxldCBkYXRhID0gKGQubWFyay5tYXJrdHlwZSAhPT0gXCJncm91cFwiID8gZCA6IGQuaXRlbXNbMF0uaXRlbXNbMF0pLm1hcmsuaXRlbXM7XG4gICAgY29uc3QgZW5jb2RlID0gZW5jb2Rlcy5wcmltYXJ5IHx8IGVuY29kZXM7XG4gICAgY29uc3QgbmV3RGF0YSA9IGRhdGEubWFwKG9sZEQgPT4ge1xuICAgICAgY29uc3QgZGVmYXVsdEQgPSBPYmplY3Qua2V5cyhlbmNvZGUpXG4gICAgICAgIC5maWx0ZXIoa2V5ID0+IFtcInhcIiwgXCJ4MlwiLCBcInhjXCIsIFwid2lkdGhcIiwgXCJ5XCIsIFwieTJcIiwgXCJ5Y1wiLCBcImhlaWdodFwiLCBcInNpemVcIl0uaW5kZXhPZihrZXkpID49IDApIC8vIFwiZGVmaW5lZFwiIGNoYW5uZWwgaXMgaWdub3JlZCBkdWUgdG8gcGVyZm9ybWFuY2UgaXNzdWUuXG4gICAgICAgIC5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld1ZhbCA9IGRlY29kZUVuY29kZS5iaW5kKHRoaXMpKFxuICAgICAgICAgICAgY3VycixcbiAgICAgICAgICAgIGVuY29kZXMsXG4gICAgICAgICAgICBzY2FsZXMsXG4gICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICBvbGREXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIWlzTnVtYmVyKG5ld1ZhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFjY1tjdXJyXSA9IG5ld1ZhbDtcbiAgICAgICAgICBpZiAoc2NhbGVzW2N1cnJdICYmIHNjYWxlc1tjdXJyXS50eXBlID09PSBcImJhbmRcIikge1xuICAgICAgICAgICAgYWNjW2N1cnJdICs9IE1hdGgucm91bmQoXG4gICAgICAgICAgICAgIHNjYWxlc1tjdXJyXS5iYW5kd2lkdGgoKSAqIChlbmNvZGUuYmFuZFBvc2l0aW9uIHx8IDAuNSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIGRlZmF1bHRELmhlaWdodCA9IGlzTnVtYmVyKGRlZmF1bHRELmhlaWdodClcbiAgICAgICAgPyBkZWZhdWx0RC5oZWlnaHRcbiAgICAgICAgOiBNYXRoLmFicyhkZWZhdWx0RC55MiAtIGRlZmF1bHRELnkpO1xuICAgICAgZGVmYXVsdEQud2lkdGggPSBpc051bWJlcihkZWZhdWx0RC53aWR0aClcbiAgICAgICAgPyBkZWZhdWx0RC53aWR0aFxuICAgICAgICA6IE1hdGguYWJzKGRlZmF1bHRELngyIC0gZGVmYXVsdEQueCk7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgIHg6IG9sZEQueCxcbiAgICAgICAgLy8gICB5OiBvbGRELnksXG4gICAgICAgIC8vICAgd2lkdGg6IG9sZEQud2lkdGgsXG4gICAgICAgIC8vICAgaGVpZ2h0OiBvbGRELmhlaWdodFxuICAgICAgICAvLyB9LFxuICAgICAgICBkZWZhdWx0RFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGlmICh0eXBlID09PSBcImxpbmVcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZDNcbiAgICAgICAgICAubGluZSgpXG4gICAgICAgICAgLngoZCA9PiBNYXRoLmZsb29yKGQueCAqIDEwMCkgLyAxMDApXG4gICAgICAgICAgLnkoZCA9PiBNYXRoLmZsb29yKGQueSAqIDEwMCkgLyAxMDApKG5ld0RhdGEpIHx8IFwiXCJcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImFyZWFcIikge1xuICAgICAgLy8gYXJlYWhTaGFwZSAgPSBkM19hcmVhKCkueSh5KS54MSh4KS54MCh4dykuZGVmaW5lZChkZWYpLFxuICAgICAgaWYgKGFsb25nVG8gPT09IFwieFwiKSB7XG4gICAgICAgIG5ld0RhdGEuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICBkLnkyID0gaXNOdW1iZXIoZC55MikgPyBkLnkyIDogZC55O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBkM1xuICAgICAgICAgICAgLmFyZWEoKVxuICAgICAgICAgICAgLngoZCA9PiBNYXRoLmZsb29yKGQueCAqIDEwMCkgLyAxMDApXG4gICAgICAgICAgICAueTEoZCA9PiBNYXRoLmZsb29yKE1hdGgubWluKGQueSwgZC55MikgKiAxMDApIC8gMTAwKVxuICAgICAgICAgICAgLnkwKFxuICAgICAgICAgICAgICBkID0+IE1hdGguZmxvb3IoKE1hdGgubWluKGQueSwgZC55MikgKyAoZC5oZWlnaHQgfHwgMCkpICogMTAwKSAvIDEwMFxuICAgICAgICAgICAgKShuZXdEYXRhKSB8fCBcIlwiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdEYXRhLmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgZC54MiA9IGlzTnVtYmVyKGQueDIpID8gZC54MiA6IGQueDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgZDNcbiAgICAgICAgICAgIC5hcmVhKClcbiAgICAgICAgICAgIC55KGQgPT4gTWF0aC5mbG9vcihkLnkgKiAxMDApIC8gMTAwKVxuICAgICAgICAgICAgLngxKGQgPT4gTWF0aC5mbG9vcihNYXRoLm1pbihkLngsIGQueDIpICogMTAwKSAvIDEwMClcbiAgICAgICAgICAgIC54MChcbiAgICAgICAgICAgICAgZCA9PiBNYXRoLmZsb29yKChNYXRoLm1pbihkLngsIGQueDIpICsgKGQud2lkdGggfHwgMCkpICogMTAwKSAvIDEwMFxuICAgICAgICAgICAgKShuZXdEYXRhKSB8fCBcIlwiXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidHJhaWxcIikge1xuXG4gICAgICByZXR1cm4gdmVnYS5wYXRoVHJhaWwoKVxuICAgICAgICAueChkID0+IGQueClcbiAgICAgICAgLnkoZD0+IGQueSlcbiAgICAgICAgLnNpemUoZD0+IChpc051bWJlcihkLnNpemUpID8gZC5zaXplIDogMikpIC8vIDIgaXMgZGVmYXVsdCBzaXplIGluIFZlZ2FcbiAgICAgICAgLmRlZmluZWQoZD0+KGQuZGVmaW5lZCB8fCB0cnVlKSkobmV3RGF0YSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1EKGVuY29kZXMsIHNjYWxlcywgc2lnbmFsLCBkLCBpbmhlcml0ID0gdHJ1ZSkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICB7fSxcbiAgICBPYmplY3Qua2V5cyhlbmNvZGVzLnByaW1hcnkgfHwgZW5jb2Rlcy5maW5hbCB8fCBlbmNvZGVzKVxuICAgICAgLmZpbHRlcihrZXkgPT4gW1wieFwiLCBcInlcIiwgXCJhbmdsZVwiLCBcInljXCIsIFwieGNcIl0uaW5kZXhPZihrZXkpID49IDApXG4gICAgICAucmVkdWNlKChhY2MsIGN1cnIpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VmFsID0gZGVjb2RlRW5jb2RlLmJpbmQodGhpcykoXG4gICAgICAgICAgY3VycixcbiAgICAgICAgICBlbmNvZGVzLFxuICAgICAgICAgIHNjYWxlcyxcbiAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgZFxuICAgICAgICApO1xuICAgICAgICBsZXQgcHJvcCA9IGN1cnI7XG4gICAgICAgIGlmIChpc05hTihuZXdWYWwpKSB7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VyciA9PT0gXCJ4Y1wiKSB7XG4gICAgICAgICAgcHJvcCA9IFwieFwiO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnIgPT09IFwieWNcIikge1xuICAgICAgICAgIHByb3AgPSBcInlcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFjY1twcm9wXSA9IGlzTmFOKGFjY1twcm9wXSkgPyBuZXdWYWwgOiBhY2NbcHJvcF07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCB7fSksXG4gICAgaW5oZXJpdCA/IGQgOiB7fVxuICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUdldFZhbGV1cyhlbmNvZGVzLCBzY2FsZXMsIHNpZ25hbHMsIGNvbXB1dGVTY2FsZSwgc2NOYW1lcykge1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZToge1xuICAgICAgaW5pdGlhbDogKGF0dHIsIGdldFNjYWxlcywgZCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIHNjTmFtZXMsIGdldFNjYWxlcyk7XG4gICAgICAgIHJldHVybiBnZXRQcm9wVmFsKFxuICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZSxcbiAgICAgICAgICBjb21wdXRlZFNjYWxlcy5pbml0aWFsLFxuICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICBkXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgZmluYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBzY05hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbChcbiAgICAgICAgICBhdHRyLFxuICAgICAgICAgIGVuY29kZXMuZmluYWwudXBkYXRlLFxuICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLmZpbmFsLFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgZFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGN1c3RvbShhdHRyLCBnZXRTY2FsZXMsIGRfaSwgZF9mKSB7XG4gICAgICAgIGNvbnN0IGRhdHVtID0ge1xuICAgICAgICAgIGluaXRpYWw6IGRfaSxcbiAgICAgICAgICBmaW5hbDogZF9mXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBzY05hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbC5iaW5kKHRoaXMpKFxuICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgZW5jb2Rlcy5maW5hbC51cGRhdGUsXG4gICAgICAgICAgY29tcHV0ZWRTY2FsZXMsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICBkYXR1bVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgZW50ZXI6IHtcbiAgICAgIGluaXRpYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBzY05hbWVzLCBnZXRTY2FsZXMpO1xuXG4gICAgICAgIHJldHVybiBnZXRQcm9wVmFsKFxuICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgZW5jb2Rlcy5pbml0aWFsLmVudGVyLFxuICAgICAgICAgIHsgcHJpbWFyeTogY29tcHV0ZWRTY2FsZXMuaW5pdGlhbCwgc2Vjb25kYXJ5OiBjb21wdXRlZFNjYWxlcy5maW5hbCB9LFxuICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICBkXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgZmluYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBzY05hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbChcbiAgICAgICAgICBhdHRyLFxuICAgICAgICAgIGVuY29kZXMuZmluYWwuZW50ZXIsXG4gICAgICAgICAgY29tcHV0ZWRTY2FsZXMuZmluYWwsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICBkXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgY3VzdG9tKGF0dHIsIGdldFNjYWxlcywgZF9pLCBkX2YpIHtcbiAgICAgICAgY29uc3QgZGF0dW0gPSB7XG4gICAgICAgICAgaW5pdGlhbDogZF9pLFxuICAgICAgICAgIGZpbmFsOiBkX2ZcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIHNjTmFtZXMsIGdldFNjYWxlcyk7XG4gICAgICAgIHJldHVybiBnZXRQcm9wVmFsLmJpbmQodGhpcykoXG4gICAgICAgICAgYXR0cixcbiAgICAgICAgICBlbmNvZGVzLmZpbmFsLmVudGVyLFxuICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgZGF0dW1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGV4aXQ6IHtcbiAgICAgIGluaXRpYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBzY05hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbChcbiAgICAgICAgICBhdHRyLFxuICAgICAgICAgIGVuY29kZXMuaW5pdGlhbC5leGl0LFxuICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLmluaXRpYWwsXG4gICAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICAgIGRcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBmaW5hbDogKGF0dHIsIGdldFNjYWxlcywgZCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIHNjTmFtZXMsIGdldFNjYWxlcyk7XG4gICAgICAgIHJldHVybiBnZXRQcm9wVmFsKFxuICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgZW5jb2Rlcy5maW5hbC5leGl0LFxuICAgICAgICAgIHsgcHJpbWFyeTogY29tcHV0ZWRTY2FsZXMuZmluYWwsIHNlY29uZGFyeTogY29tcHV0ZWRTY2FsZXMuaW5pdGlhbCB9LFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgZFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGN1c3RvbShhdHRyLCBnZXRTY2FsZXMsIGRfaSwgZF9mKSB7XG4gICAgICAgIGNvbnN0IGRhdHVtID0ge1xuICAgICAgICAgIGluaXRpYWw6IGRfaSxcbiAgICAgICAgICBmaW5hbDogZF9mXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBzY05hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbC5iaW5kKHRoaXMpKFxuICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgZW5jb2Rlcy5maW5hbC5leGl0LFxuICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgZGF0dW1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlY29kZUVuY29kZShwcm9wLCBlbmNvZGVzLCBzY2FsZXMsIHNpZ25hbCwgZCkge1xuICBsZXQgc3ViU2NhbGVzID0gY29weTIoc2NhbGVzKTtcbiAgaWYgKHNjYWxlcy5wcmltYXJ5ICYmIHNjYWxlcy5zZWNvbmRhcnkpIHtcbiAgICBzdWJTY2FsZXMgPSBzY2FsZXMuc2Vjb25kYXJ5O1xuICAgIHNjYWxlcyA9IHNjYWxlcy5wcmltYXJ5O1xuICB9IGVsc2UgaWYgKHNjYWxlcy5pbml0aWFsICYmIHNjYWxlcy5maW5hbCkge1xuICAgIHNjYWxlcyA9IHNjYWxlcy5maW5hbDtcbiAgfVxuXG4gIGxldCBlbmNvZGUgPSBjb3B5KGVuY29kZXMpO1xuICBsZXQgc3ViRW5jb2RlID0gY29weShlbmNvZGVzKTtcbiAgaWYgKGVuY29kZXMucHJpbWFyeSAmJiBlbmNvZGVzLnNlY29uZGFyeSkge1xuICAgIGVuY29kZSA9IGVuY29kZXMucHJpbWFyeTtcbiAgICBzdWJFbmNvZGUgPSBlbmNvZGVzLnNlY29uZGFyeTtcbiAgfSBlbHNlIGlmIChlbmNvZGVzLmluaXRpYWwgJiYgZW5jb2Rlcy5maW5hbCkge1xuICAgIHN1YkVuY29kZSA9IGVuY29kZSA9IGVuY29kZXMuZmluYWw7XG4gIH1cblxuICBjb25zdCBlbkF0dHIgPSBlbmNvZGVbcHJvcF07XG4gIGNvbnN0IHN1YkVuQXR0ciA9IHN1YkVuY29kZVtwcm9wXTtcblxuICBmdW5jdGlvbiBnZXRWYWwoZW5BdHRyLCBzY2FsZXMpIHtcbiAgICBpZiAoIWVuQXR0cikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbkF0dHIpKSB7XG4gICAgICBsZXQgaXNTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbkF0dHIubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIC8vIFRoZW4gdGhlIGl0ZW1zIHNob3VsZCBjb250YWluICd0ZXN0JyBwcm9wIHRvIHRlc3QgKGV4Y2VwdCB0aGUgbGFzdClcbiAgICAgICAgaWYgKGV2YWxTaWduYWxWYWwoZW5BdHRyW2ldLnRlc3QsIHNpZ25hbCwgc2NhbGVzLCBkLmRhdHVtKSkge1xuICAgICAgICAgIGVuQXR0ciA9IGNvcHkoZW5BdHRyW2ldKTtcbiAgICAgICAgICBpc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NlbGVjdGVkKSB7XG4gICAgICAgIGVuQXR0ciA9IGNvcHkoZW5BdHRyW2VuQXR0ci5sZW5ndGggLSAxXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCB2YWwsIGlzU2V0ID0gdHJ1ZTtcbiAgICBpZiAoaXNWYWx1ZShlbkF0dHIudmFsdWUpKSB7XG4gICAgICB2YWwgPSBlbkF0dHIudmFsdWVcbiAgICB9IGVsc2UgaWYgKGVuQXR0ci5maWVsZCkge1xuICAgICAgaWYgKGVuQXR0ci5maWVsZC5ncm91cCkge1xuICAgICAgICByZXR1cm4gZC5tYXJrLmdyb3VwW2VuQXR0ci5maWVsZC5ncm91cF07XG4gICAgICB9XG4gICAgICB2YWwgPSBkLmRhdHVtW2VuQXR0ci5maWVsZF07XG4gICAgfSBlbHNlIGlmIChlbkF0dHIuc2lnbmFsKSB7XG4gICAgICB2YWwgPSBldmFsU2lnbmFsVmFsKGVuQXR0ci5zaWduYWwsIHNpZ25hbCwgc2NhbGVzLCBkLmRhdHVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXNTZXQgPSBmYWxzZTtcbiAgICB9XG5cblxuICAgIGlmIChlbkF0dHIuc2NhbGUpIHtcbiAgICAgIGNvbnN0IHNjTmFtZSA9IGVuQXR0ci5zY2FsZTtcbiAgICAgIGNvbnN0IHNjID0gc2NhbGVzW3NjTmFtZV07XG4gICAgICBpZiAoaXNTZXQpIHtcbiAgICAgICAgaWYgKCghc2MpIHx8ICFpc1ZhbHVlKHNjKHZhbCkpKXtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgICAgdmFsID0gc2ModmFsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVuQXR0ci5iYW5kKSB7XG4gICAgICAgIGxldCBidyA9IChzYyAmJiBzYy50eXBlID09PSBcImJhbmRcIikgPyBzYy5iYW5kd2lkdGgoKSA6IDA7XG4gICAgICAgIGJ3ID0gTWF0aC5yb3VuZChcbiAgICAgICAgICBidyAqXG4gICAgICAgICAgICAoKGVuQXR0ci5iYW5kID09PSB0cnVlIHx8IGlzTnVtYmVyKGVuQXR0ci5iYW5kKSkgPyBlbkF0dHIuYmFuZCA6IDAuNSlcbiAgICAgICAgKTtcbiAgICAgICAgdmFsID0gaXNTZXQgPyB2YWwgKyBidyA6IGJ3O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbkF0dHIuZXhwKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVG9kbyBkZWNvZGVFbmNkb2Ugd2l0aCBleHAuXCIpO1xuICAgIH1cbiAgICBpZiAoZW5BdHRyLm11bHQpIHtcbiAgICAgIGlmIChpc051bWJlcihlbkF0dHIubXVsdCkpIHtcbiAgICAgICAgdmFsICo9IGVuQXR0ci5tdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsICo9IGRlY29kZUVuY29kZShcbiAgICAgICAgICBcIm11bHRcIixcbiAgICAgICAgICB7IG11bHQ6IGVuQXR0ci5tdWx0IH0sXG4gICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICBkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbkF0dHIub2Zmc2V0KSB7XG4gICAgICBpZiAoaXNOdW1iZXIoZW5BdHRyLm9mZnNldCkpIHtcbiAgICAgICAgdmFsICs9IGVuQXR0ci5vZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgKz0gZGVjb2RlRW5jb2RlKFxuICAgICAgICAgIFwib2Zmc2V0XCIsXG4gICAgICAgICAgeyBvZmZzZXQ6IGVuQXR0ci5vZmZzZXQgfSxcbiAgICAgICAgICBzY2FsZXMsXG4gICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgIGRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuICBjb25zdCBmVmFsUHJpbWFyeSA9IGdldFZhbChlbkF0dHIsIHNjYWxlcyk7XG4gIGNvbnN0IGZWYWxTZWNvbmRhcnkgPSBnZXRWYWwoc3ViRW5BdHRyLCBzdWJTY2FsZXMpO1xuICByZXR1cm4gaXNWYWx1ZShmVmFsUHJpbWFyeSkgPyBmVmFsUHJpbWFyeSA6IGZWYWxTZWNvbmRhcnk7XG59XG5cblxuZnVuY3Rpb24gZXZhbFNpZ25hbFZhbChzaWduYWxWYWwsIHNpZ25hbCwgc2NhbGVzLCBkYXR1bSkge1xuICBjb25zdCBWRUdBX0ZVTkNUSU9OUyA9IFtcbiAgICB7XG4gICAgICBuYW1lOiBcInNjYWxlXCIsXG4gICAgICBmbjogKHNjTmFtZSwgdmFsKSA9PiAoc2NhbGVzW3NjTmFtZV0gPyBzY2FsZXNbc2NOYW1lXSh2YWwpIDogdW5kZWZpbmVkKVxuICAgIH0sXG4gICAgeyBuYW1lOiBcImlzVmFsaWRcIiwgZm46IG8gPT4gbyAhPT0gbnVsbCAmJiBvID09PSBvIH0sXG4gICAgeyBuYW1lOiBcInRpbWVGb3JtYXRcIiwgZm46IChhLCBiKSA9PiB2ZWdhLmRlZmF1bHRMb2NhbGUoKS50aW1lRm9ybWF0KGIpKGEpIH0sXG4gICAgeyBuYW1lOiBcInRpbWVVbml0U3BlY2lmaWVyXCIsIGZuOiAoYSwgYikgPT4gdmVnYS50aW1lVW5pdFNwZWNpZmllcihhLCBiKSB9XG4gIF07XG5cbiAgY29uc3QgY29kZWdlbiA9IHZlZ2FFeHByZXNzaW9uLmNvZGVnZW4oe1xuICAgIHdoaXRlbGlzdDogW1wiZGF0dW1cIl0uY29uY2F0KE9iamVjdC5rZXlzKHNpZ25hbCB8fCB7fSkpLFxuICAgIGdsb2JhbHZhcjogXCJnbG9iYWxcIlxuICB9KTtcblxuXG4gIFZFR0FfRlVOQ1RJT05TLmZvckVhY2goZm5EZWYgPT4ge1xuICAgIGNvZGVnZW4uZnVuY3Rpb25zW2ZuRGVmLm5hbWVdID0gZm5EZWYubmFtZTtcbiAgfSk7XG4gIGNvbnN0IGV4dHJhRnVuY3Rpb25zID0gVkVHQV9GVU5DVElPTlMubWFwKGZuRGVmID0+IGZuRGVmLmZuKTtcbiAgY29uc3QgZXh0cmFGdW5jdGlvbk5hbWVzID0gVkVHQV9GVU5DVElPTlMubWFwKGZuRGVmID0+IGZuRGVmLm5hbWUpO1xuXG4gIGNvbnN0IGNvZGVnZW5WYWwgPSBjb2RlZ2VuKHZlZ2FFeHByZXNzaW9uLnBhcnNlKHNpZ25hbFZhbCkpO1xuXG4gIGNvbnN0IGZuID0gRnVuY3Rpb24oXG4gICAgXCJkYXR1bVwiLFxuICAgIC4uLk9iamVjdC5rZXlzKHNpZ25hbCB8fCB7fSksXG4gICAgLi4uZXh0cmFGdW5jdGlvbk5hbWVzLFxuICAgIGByZXR1cm4gKCR7Y29kZWdlblZhbC5jb2RlfSlgXG4gICk7XG4gIHJldHVybiBmbihcbiAgICBkYXR1bSxcbiAgICAuLi5PYmplY3Qua2V5cyhzaWduYWwgfHwge30pLm1hcChrZXkgPT4gc2lnbmFsW2tleV0pLFxuICAgIC4uLmV4dHJhRnVuY3Rpb25zXG4gICk7XG5cbn1cbiIsImltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gXCIuLi91dGlsL3V0aWwuanNcIjtcbmltcG9ydCB7IGdldEVhc2VGbiB9IGZyb20gXCIuL3V0aWxcIjtcblxuY29uc3QgT1JERVIgPSB7XG4gIGFzY2VuZGluZzogZDMuYXNjZW5kaW5nLFxuICBkZXNjZW5kaW5nOiBkMy5kZXNjZW5kaW5nXG59O1xuXG5mdW5jdGlvbiBnZXRPcmRlckZuKGlzTnVtYmVyLCBvcmRlcikge1xuICBpZiAoaXNOdW1iZXIgJiYgb3JkZXIpIHtcbiAgICByZXR1cm4gKGEsIGIpID0+IE9SREVSW29yZGVyXShOdW1iZXIoYSksIE51bWJlcihiKSk7XG4gIH1cbiAgcmV0dXJuIE9SREVSW29yZGVyXTtcbn1cblxuZnVuY3Rpb24gc3RhZ2dlcmVkVGltaW5nKHN0YWdnZXJpbmcsIGRhdGEsIGR1cmF0aW9uKSB7XG4gIGxldCBOO1xuICBsZXQgZ3JvdXBlZDtcbiAgY29uc3QgZGF0YVdpdGhUaW1pbmcgPSBkYXRhLm1hcCgoZCwgaSkgPT4ge1xuICAgIHJldHVybiB7IC4uLmQsIF9fc3RhZ2dlcmluZ19pZF9fOiBpIH07XG4gIH0pO1xuICBjb25zdCBzdWJTdGFnZ2VyaW5nID0gc3RhZ2dlcmluZy5zdGFnZ2VyaW5nO1xuXG4gIGNvbnN0IGlzTnVtYmVyID1cbiAgICBzdGFnZ2VyaW5nLmJ5ICYmXG4gICAgZGF0YVdpdGhUaW1pbmcucmVkdWNlKChhY2MsIGQpID0+IHtcbiAgICAgIGxldCB2YWw7XG4gICAgICBpZiAodHlwZW9mIHN0YWdnZXJpbmcuYnkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFsID0gKGQuaW5pdGlhbCB8fCBkLmZpbmFsKVtzdGFnZ2VyaW5nLmJ5XTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhZ2dlcmluZy5ieS5pbml0aWFsIHx8IHN0YWdnZXJpbmcuYnkuZmluYWwpIHtcbiAgICAgICAgY29uc3Qgd2hpY2ggPSBzdGFnZ2VyaW5nLmJ5LmluaXRpYWwgPyBcImluaXRpYWxcIiA6IFwiZmluYWxcIjtcbiAgICAgICAgdmFsID0gKHdoaWNoID09PSBcImluaXRpYWxcIlxuICAgICAgICAgID8gZC5pbml0aWFsIHx8IGQuZmluYWxcbiAgICAgICAgICA6IGQuZmluYWwgfHwgZC5pbml0aWFsKVtzdGFnZ2VyaW5nLmJ5W3doaWNoXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGFjYyA9IGFjYyAmJiAodmFsICE9PSB1bmRlZmluZWQgPyAhaXNOYU4oTnVtYmVyKHZhbCkpIDogdHJ1ZSkpO1xuICAgIH0sIHRydWUpO1xuICBpZiAoIXN0YWdnZXJpbmcuYnkpIHtcblxuXG4gICAgY29uc3Qgb3JkZXJGbiA9IGdldE9yZGVyRm4odHJ1ZSwgc3RhZ2dlcmluZy5vcmRlcik7XG4gICAgZ3JvdXBlZCA9IGQzLmdyb3VwcyhkYXRhV2l0aFRpbWluZywgZCA9PiB7XG4gICAgICBjb25zdCB2YWwgPSBkLl9fc3RhZ2dlcmluZ19pZF9fO1xuICAgICAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkID8gXCJfX2VtcHR5X19cIiA6IHZhbDtcbiAgICB9KVxuICAgIGlmICh0eXBlb2Yob3JkZXJGbikgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZ3JvdXBlZC5zb3J0KChhLGIpID0+IG9yZGVyRm4oYVswXSwgYlswXSkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3RhZ2dlcmluZy5ieSA9PT0gXCJzdHJpbmdcIikge1xuXG5cbiAgICBncm91cGVkID0gZDMuZ3JvdXBzKGRhdGFXaXRoVGltaW5nLCBkID0+IHtcbiAgICAgIGNvbnN0IHZhbCA9IChkLmluaXRpYWwgfHwgZC5maW5hbClbc3RhZ2dlcmluZy5ieV07XG4gICAgICByZXR1cm4gdmFsID09PSB1bmRlZmluZWQgPyBcIl9fZW1wdHlfX1wiIDogdmFsO1xuICAgIH0pXG5cbiAgICBjb25zdCBvcmRlckZuID0gZ2V0T3JkZXJGbihpc051bWJlciwgc3RhZ2dlcmluZy5vcmRlcik7XG4gICAgaWYgKHR5cGVvZihvcmRlckZuKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBncm91cGVkLnNvcnQoKGEsYikgPT4gb3JkZXJGbihhWzBdLCBiWzBdKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHN0YWdnZXJpbmcuYnkuaW5pdGlhbCB8fCBzdGFnZ2VyaW5nLmJ5LmZpbmFsKSB7XG4gICAgY29uc3Qgd2hpY2ggPSBzdGFnZ2VyaW5nLmJ5LmluaXRpYWwgPyBcImluaXRpYWxcIiA6IFwiZmluYWxcIjtcblxuXG4gICAgZ3JvdXBlZCA9IGQzLmdyb3VwcyhkYXRhV2l0aFRpbWluZywgZCA9PiB7XG4gICAgICBjb25zdCB2YWwgPSAod2hpY2ggPT09IFwiaW5pdGlhbFwiXG4gICAgICAgID8gZC5pbml0aWFsIHx8IGQuZmluYWxcbiAgICAgICAgOiBkLmZpbmFsIHx8IGQuaW5pdGlhbClbc3RhZ2dlcmluZy5ieVt3aGljaF1dO1xuICAgICAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkID8gXCJfX2VtcHR5X19cIiA6IHZhbDtcbiAgICB9KVxuXG4gICAgY29uc3Qgb3JkZXJGbiA9IGdldE9yZGVyRm4oaXNOdW1iZXIsIHN0YWdnZXJpbmcub3JkZXIpO1xuICAgIGlmICh0eXBlb2Yob3JkZXJGbikgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZ3JvdXBlZC5zb3J0KChhLGIpID0+IG9yZGVyRm4oYVswXSwgYlswXSkpO1xuICAgIH1cbiAgfVxuXG4gIE4gPSBncm91cGVkLmxlbmd0aDtcblxuICBjb25zdCBlYXNlID0gZ2V0RWFzZUZuKHN0YWdnZXJpbmcuZWFzZSB8fCBcImxpbmVhclwiKSB8fCBkMy5lYXNlTGluZWFyO1xuICBjb25zdCByID0gc3RhZ2dlcmluZy5vdmVybGFwID09PSB1bmRlZmluZWQgPyAxIDogc3RhZ2dlcmluZy5vdmVybGFwO1xuICBjb25zdCBkZWx0YV9lID0gaSA9PiBlYXNlKChpICsgMSkgLyBOKSAtIGVhc2UoaSAvIE4pO1xuICBjb25zdCBhbHBoYSA9IDEgLyAoZGVsdGFfZSgwKSAqIHIgKyAxIC0gcik7XG5cbiAgbGV0IGR1cmF0aW9ucyA9IG5ldyBBcnJheShOKS5maWxsKDApO1xuICBkdXJhdGlvbnMgPSBkdXJhdGlvbnMubWFwKChkLCBpKSA9PiBkZWx0YV9lKGkpICogYWxwaGEgKiBkdXJhdGlvbik7XG4gIGxldCBkZWxheUFjYyA9IDA7XG4gIGNvbnN0IGRlbGF5cyA9IGR1cmF0aW9ucy5tYXAoKGR1ciwgaSwgZHVyYXRpb25zKSA9PiB7XG4gICAgY29uc3QgY3VyckRlbGF5ID0gZGVsYXlBY2M7XG4gICAgaWYgKGkgPCBOIC0gMSkge1xuICAgICAgZGVsYXlBY2MgPSBkZWxheUFjYyArIGR1ciAtIGR1cmF0aW9uc1tpICsgMV0gKiByO1xuICAgIH1cbiAgICByZXR1cm4gY3VyckRlbGF5O1xuICB9KTtcblxuICBpZiAoc3ViU3RhZ2dlcmluZykge1xuICAgIGNvbnN0IHRpbWluZ3MgPSBkZWxheXMubWFwKChkLCBpKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZWxheTogZCxcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uc1tpXVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHRpbWluZ3MuZ3JvdXBzID0gZ3JvdXBlZC5tYXAoKGcsIGkpID0+IHtcbiAgICAgIHJldHVybiBzdGFnZ2VyZWRUaW1pbmcoc3ViU3RhZ2dlcmluZywgZ1sxXSwgZHVyYXRpb25zW2ldKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBnZXRGbGF0dGVuVGltaW5ncyh0aW1pbmdzKTtcbiAgfVxuICBncm91cGVkLmZvckVhY2goKGdyb3VwLCBpKSA9PiB7XG4gICAgZ3JvdXBbMV0uZm9yRWFjaChkYXR1bSA9PiB7XG4gICAgICBkYXR1bS5kZWxheSA9IGRlbGF5c1tpXTtcbiAgICAgIGRhdHVtLmR1cmF0aW9uID0gZHVyYXRpb25zW2ldO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gZGF0YVdpdGhUaW1pbmc7XG59XG5cbmZ1bmN0aW9uIGdldEZsYXR0ZW5UaW1pbmdzKHRpbWluZ3MpIHtcbiAgaWYgKCF0aW1pbmdzLmdyb3Vwcykge1xuICAgIHJldHVybiB0aW1pbmdzO1xuICB9XG4gIHJldHVybiBmbGF0dGVuKFxuICAgIHRpbWluZ3MubWFwKChnX3QsIGkpID0+IHtcbiAgICAgIHJldHVybiBnZXRGbGF0dGVuVGltaW5ncyh0aW1pbmdzLmdyb3Vwc1tpXSkubWFwKHQgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdCwgeyBkZWxheTogdC5kZWxheSArIGdfdC5kZWxheSB9KTtcbiAgICAgIH0pO1xuICAgIH0pXG4gICk7XG59XG5cbmV4cG9ydCB7IHN0YWdnZXJlZFRpbWluZyB9O1xuIiwiaW1wb3J0IHsgc3RhZ2dlcmVkVGltaW5nIH0gZnJvbSBcIi4vc3RhZ2dlcmluZ1wiO1xuXG5mdW5jdGlvbiBjb21wdXRlVGltaW5nKGluaXRpYWxEYXRhLCBmaW5hbERhdGEsIHN0ZXBUaW1pbmcsIGpvaW5LZXksIGpvaW5TZXQpIHtcbiAgbGV0IHRpbWluZ3MgPSBpbml0aWFsRGF0YS5tYXAoKGRfaSwgaSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IGpvaW5LZXkoZF9pLCBpLCBcImluaXRpYWxcIik7XG4gICAgY29uc3QgZm91bmQgPSBmaW5hbERhdGEuZmluZCgoZF9mLCBqKSA9PiBrZXkgPT09IGpvaW5LZXkoZF9mLCBqLCBcImZpbmFsXCIpKTtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdGlhbDogZF9pLmRhdHVtLFxuICAgICAgZmluYWw6IGZvdW5kID8gZm91bmQuZGF0dW0gOiBudWxsLFxuICAgICAgc2V0OiBmb3VuZCA/IFwidXBkYXRlXCIgOiBcImV4aXRcIixcbiAgICAgIGlkOiBrZXksXG4gICAgICBkdXJhdGlvbjogc3RlcFRpbWluZy5kdXJhdGlvbixcbiAgICAgIGRlbGF5OiBzdGVwVGltaW5nLmRlbGF5XG4gICAgfTtcbiAgfSk7XG4gIHRpbWluZ3MgPSB0aW1pbmdzLmNvbmNhdChcbiAgICBmaW5hbERhdGFcbiAgICAgIC5maWx0ZXIoZCA9PiBqb2luU2V0KGQpID09PSBcImVudGVyXCIpXG4gICAgICAubWFwKChkLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGpvaW5LZXkoZCwgaSwgXCJmaW5hbFwiKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpbml0aWFsOiBudWxsLFxuICAgICAgICAgIGZpbmFsOiBkLmRhdHVtLFxuICAgICAgICAgIHNldDogXCJlbnRlclwiLFxuICAgICAgICAgIGlkOiBrZXksXG4gICAgICAgICAgZHVyYXRpb246IHN0ZXBUaW1pbmcuZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IHN0ZXBUaW1pbmcuZGVsYXlcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICk7XG5cbiAgaWYgKHN0ZXBUaW1pbmcuc3RhZ2dlcmluZykge1xuICAgIHRpbWluZ3MgPSBzdGFnZ2VyZWRUaW1pbmcoXG4gICAgICBzdGVwVGltaW5nLnN0YWdnZXJpbmcsXG4gICAgICB0aW1pbmdzLFxuICAgICAgc3RlcFRpbWluZy5kdXJhdGlvblxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHRpbWluZ3M7XG59XG5cbmZ1bmN0aW9uIGVudW1TdGVwQ29tcHV0ZVRpbWluZyhlbnVtZXJhdG9yLCBzdGVwVGltaW5nKSB7XG4gIC8vIHN0YWdnZXJpbmdcbiAgbGV0IHRpbWluZ3MgPSBlbnVtZXJhdG9yLmFsbEtleXMubWFwKChkLCBpKSA9PiB7XG4gICAgbGV0IGRhdHVtX2kgPSBlbnVtZXJhdG9yLmdldERhdHVtKGQsIDApO1xuICAgIGxldCBkYXR1bV9mID0gZW51bWVyYXRvci5nZXREYXR1bShkLCAwKTtcbiAgICBmb3IgKGxldCBrID0gMTsgayA8IGVudW1lcmF0b3Iuc3RvcE47IGsrKykge1xuICAgICAgZGF0dW1faSA9IGRhdHVtX2kgfHwgZW51bWVyYXRvci5nZXREYXR1bShkLCAwKTtcbiAgICAgIGRhdHVtX2YgPSBlbnVtZXJhdG9yLmdldERhdHVtKGQsIGspIHx8IGRhdHVtX2Y7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGluaXRpYWw6IGRhdHVtX2ksXG4gICAgICBmaW5hbDogZGF0dW1fZixcbiAgICAgIHNldDogXCJ1cGRhdGVcIiwgLy8gVG9kb1xuICAgICAgaWQ6IGksXG4gICAgICBrZXk6IGQsXG4gICAgICBkdXJhdGlvbjogc3RlcFRpbWluZy5kdXJhdGlvbixcbiAgICAgIGRlbGF5OiBzdGVwVGltaW5nLmRlbGF5XG4gICAgfTtcbiAgfSk7XG5cbiAgaWYgKHN0ZXBUaW1pbmcuc3RhZ2dlcmluZykge1xuICAgIHRpbWluZ3MgPSBzdGFnZ2VyZWRUaW1pbmcoXG4gICAgICBzdGVwVGltaW5nLnN0YWdnZXJpbmcsXG4gICAgICB0aW1pbmdzLFxuICAgICAgc3RlcFRpbWluZy5kdXJhdGlvblxuICAgICk7XG4gIH1cbiAgdGltaW5ncyA9IHRpbWluZ3Muc29ydCgoYSwgYikgPT4gYS5pZCAtIGIuaWQpO1xuICByZXR1cm4gdGltaW5ncztcbn1cblxuZXhwb3J0IHsgY29tcHV0ZVRpbWluZywgZW51bVN0ZXBDb21wdXRlVGltaW5nIH07XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCB7IGZpbmRBZnRlclNpYmxpbmcsIHByb3BNYXAsIGdldEVhc2VGbiwgZ2V0Sm9pbkluZm8sIGNvbXB1dGVTY2FsZX0gZnJvbSBcIi4uL3V0aWwuanNcIjtcbmltcG9ydCB7IGdldFByb3BWYWwsIGZldGNoQXR0cmlidXRlc30gZnJvbSBcIi4uL2F0dHJpYnV0ZUZldGNoZXJcIjtcbmltcG9ydCB7IGdldFN0eWxlIH0gZnJvbSBcIi4uL3ZlZ2EtcmVuZGVyLXV0aWwuanNcIjtcbmltcG9ydCB7IGNvbXB1dGVUaW1pbmcsIGVudW1TdGVwQ29tcHV0ZVRpbWluZyB9IGZyb20gXCIuLi90aW1pbmdzXCI7XG5cbmZ1bmN0aW9uIG1hcmtJbnRlcnBvbGF0ZShyYXdJbmZvLCBzdGVwLCB0YXJnZXRFbG0pIHtcbiAgY29uc3Qgam9pbktleSA9IChkLCBpLCBpbml0aWFsT3JGaW5hbCkgPT4ge1xuICAgIHJldHVybiBkLl9fZ2VtaW5pX18gP1xuICAgICAgZ2V0Sm9pbkluZm8oZCwgaSwgc3RlcCwgXCJqb2luS2V5XCIpIDpcbiAgICAgIChcbiAgICAgICAgdHlwZW9mKHN0ZXAuY29tcHV0ZURhdHVtSWQpID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IHN0ZXAuY29tcHV0ZURhdHVtSWQoZCwgaSlcbiAgICAgICAgICA6IHN0ZXAuY29tcHV0ZURhdHVtSWRbaW5pdGlhbE9yRmluYWwgfHwgXCJpbml0aWFsXCJdKGQsIGkpXG4gICAgICApO1xuICB9OyBjb25zdCBqb2luU2V0ID0gKGQsIGkpID0+IHtcbiAgICByZXR1cm4gZC5fX2dlbWluaV9fID8gZ2V0Sm9pbkluZm8oZCwgaSwgc3RlcCwgXCJhbmltU2V0XCIpIDogdW5kZWZpbmVkO1xuICB9O1xuXG4gIGNvbnN0IGFuaW1WaXMgPSB0YXJnZXRFbG07XG4gIGNvbnN0IGVWaWV3ID0gcmF3SW5mby5lVmlzLnZpZXc7XG5cbiAgY29uc3QgTUFSS19BVFRSUyA9IHtcbiAgICByZWN0OiBbXCJyZWN0XCJdLFxuICAgIHN5bWJvbDogW1wic3ltYm9sXCJdLFxuICAgIHJ1bGU6IFtcInJ1bGVcIl0sXG4gICAgdGV4dDogW1widGV4dFwiLCBcImFsaWduXCJdXG4gIH07XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgZG9uZSA9IGRvbmVNYWtlcigpO1xuICAgIGNvbnN0IHRpbWluZ3MgPSBjb21wdXRlVGltaW5nKFxuICAgICAgc3RlcC5jdXJyRGF0YSxcbiAgICAgIHN0ZXAubmV4dERhdGEsXG4gICAgICBzdGVwLnRpbWluZyxcbiAgICAgIGpvaW5LZXksXG4gICAgICBqb2luU2V0XG4gICAgKTtcbiAgICBjb25zdCB7XG4gICAgICBjaGFuZ2UsXG4gICAgICBtYXJrdHlwZXMsXG4gICAgICBzY2FsZXMsXG4gICAgICBlbmNvZGVzLFxuICAgICAgc2lnbmFscyxcbiAgICAgIHNwZWNpZmljU2NhbGVGb3JcbiAgICB9ID0gc3RlcDtcblxuXG4gICAgY29uc3QgaXNBZGQgPSAhY2hhbmdlLmluaXRpYWwgJiYgISFjaGFuZ2UuZmluYWwsXG4gICAgICBpc1JlbW92ZSA9ICEhY2hhbmdlLmluaXRpYWwgJiYgIWNoYW5nZS5maW5hbDtcbiAgICAvLyBpZiAoaXNWYWxpZE1hcmt0eXBlKG1hcmt0eXBlcy5pbml0aWFsKSAmJiBpc1ZhbGlkTWFya3R5cGUobWFya3R5cGVzLmZpbmFsKSAmJiBtYXJrdHlwZXMuaW5pdGlhbCAhPT0gbWFya3R5cGVzLmZpbmFsKSB7XG4gICAgLy8gICBpc0FkZCA9IGlzUmVtb3ZlID0gdHJ1ZTtcbiAgICAvLyB9XG4gICAgY29uc3QgZWFzZUZuID0gZ2V0RWFzZUZuKHN0ZXAudGltaW5nLmVhc2UpO1xuXG4gICAgLy8gbGV0IGRvVXBkYXRlID0gICFpc1JlbW92ZSAmJiAhaXNBZGQgJiYgKGNoYW5nZS5lbmNvZGUgIT09IGZhbHNlKSxcbiAgICAvLyAgIGRvRW50ZXIgPSAhaXNSZW1vdmUgJiYgKGlzQWRkIHx8IGNoYW5nZS5lbmNvZGUgIT09IGZhbHNlKSxcbiAgICAvLyAgIGRvRXhpdCA9ICFpc0FkZCAmJiAoaXNSZW1vdmUgfHwgY2hhbmdlLmVuY29kZSAhPT0gZmFsc2UpO1xuXG4gICAgLy8gaWYgKGNoYW5nZS5lbmNvZGUpIHtcbiAgICAvLyAgIGRvVXBkYXRlID0gY2hhbmdlLmVuY29kZS51cGRhdGUgPT09IGZhbHNlID8gZmFsc2UgOiBkb1VwZGF0ZTtcbiAgICAvLyAgIGRvRW50ZXIgPSBjaGFuZ2UuZW5jb2RlLmVudGVyID09PSBmYWxzZSA/IGZhbHNlIDogZG9FbnRlcjtcbiAgICAvLyAgIGRvRXhpdCA9IGNoYW5nZS5lbmNvZGUuZXhpdCA9PT0gZmFsc2UgPyBmYWxzZSA6IGRvRXhpdDtcbiAgICAvLyB9XG4gICAgLy8gZG9FeGl0ID0gdHJ1ZTtcbiAgICAvLyBkb0VudGVyID0gdHJ1ZTtcbiAgICBsZXQgbWFya3R5cGU7XG5cbiAgICBpZiAoaXNSZW1vdmUpIHtcbiAgICAgIG1hcmt0eXBlID0gbWFya3R5cGVzLmluaXRpYWw7XG4gICAgfSBlbHNlIGlmIChpc0FkZCkge1xuICAgICAgbWFya3R5cGUgPSBtYXJrdHlwZXMuZmluYWw7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIG1hcmt0eXBlcy5pbml0aWFsICYmXG4gICAgICBtYXJrdHlwZXMuZmluYWwgJiZcbiAgICAgIG1hcmt0eXBlcy5pbml0aWFsICE9PSBtYXJrdHlwZXMuZmluYWxcbiAgICApIHtcbiAgICAgIGlmIChjaGFuZ2UubWFya3R5cGUgPT09IGZhbHNlKSB7XG4gICAgICAgIG1hcmt0eXBlID0gbWFya3R5cGVzLmluaXRpYWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXJrdHlwZSA9IG1hcmt0eXBlcy5maW5hbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbWFya3R5cGUgPSBtYXJrdHlwZXMuaW5pdGlhbCB8fCBtYXJrdHlwZXMuZmluYWw7XG4gICAgfVxuXG4gICAgY29uc3Qgc3ZnRWxtVHlwZSA9IGdldFN2Z0VsbVR5cGUobWFya3R5cGUpO1xuICAgIGNvbnN0IHN2Z0VsbVR5cGVzID0ge1xuICAgICAgaW5pdGlhbDogZ2V0U3ZnRWxtVHlwZShtYXJrdHlwZXMuaW5pdGlhbCksXG4gICAgICBmaW5hbDogZ2V0U3ZnRWxtVHlwZShtYXJrdHlwZXMuZmluYWwpXG4gICAgfTtcblxuICAgIGxldCBtYXJrcyA9IGQzLnNlbGVjdChgJHthbmltVmlzfSAubWFyay0ke21hcmt0eXBlfS5yb2xlLW1hcmsuJHtjaGFuZ2UuY29tcE5hbWV9YCk7XG5cblxuICAgIGlmIChcbiAgICAgIGlzQWRkIHx8XG4gICAgICAobWFya3R5cGVzLmluaXRpYWwgIT09IG1hcmt0eXBlcy5maW5hbCAmJlxuICAgICAgICBpc1ZhbGlkTWFya3R5cGUobWFya3R5cGVzLmZpbmFsKSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHNpYiA9IGZpbmRBZnRlclNpYmxpbmcoZVZpZXcuc2NlbmVncmFwaCgpLnJvb3QsIGNoYW5nZS5jb21wTmFtZSk7XG5cbiAgICAgIG1hcmtzID0gYWRkTWFyayhcbiAgICAgICAgZDMuc2VsZWN0KGAke2FuaW1WaXMgIH0gLiR7Y2hhbmdlLmZpbmFsLnBhcmVudC5uYW1lfSA+IGcgPiBnYCksXG4gICAgICAgIGNoYW5nZS5maW5hbCxcbiAgICAgICAgc2liID8gYC4ke3NpYi5uYW1lfWAgOiB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHN0ZXAuZW51bWVyYXRvcikge1xuICAgICAgaWYgKCFjaGFuZ2UuZGF0YSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2Fubm90IGFwcGx5IGVudW1lcmF0b3IgZm9yIGEgbWFyayBpbnRlcnBvbGF0aW9uIHdpdGhvdXQgZGF0YSBjaGFuZ2UhXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHtlbnVtZXJhdG9yfSA9IHN0ZXA7XG4gICAgICBsZXQgZmluYWxTY2FsZU5hbWVzID0gW107XG4gICAgICBpZiAoY2hhbmdlLnNjYWxlID09PSB0cnVlKSB7XG4gICAgICAgIGZpbmFsU2NhbGVOYW1lcyA9IE9iamVjdC5rZXlzKGVWaWV3Ll9ydW50aW1lLnNjYWxlcyk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hhbmdlLnNjYWxlKSkge1xuICAgICAgICBmaW5hbFNjYWxlTmFtZXMgPSBjaGFuZ2Uuc2NhbGU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdldFZhbHVlcyA9IHtcbiAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgaW5pdGlhbChhdHRyLCBnZXRTY2FsZXMsIGQpe1xuXG4gICAgICAgICAgICBsZXQgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBmaW5hbFNjYWxlTmFtZXMsIGdldFNjYWxlcyk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbC5iaW5kKHRoaXMpKFxuICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmluaXRpYWwudXBkYXRlLFxuICAgICAgICAgICAgICBjb21wdXRlZFNjYWxlcy5pbml0aWFsLFxuICAgICAgICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgICAgICAgIGQpO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBmaW5hbDogZnVuY3Rpb24oYXR0ciwgZ2V0U2NhbGVzLCBkKXtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU2NhbGVzID0gY29tcHV0ZVNjYWxlKHNjYWxlcywgZmluYWxTY2FsZU5hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwuYmluZCh0aGlzKShcbiAgICAgICAgICAgICAgYXR0cixcbiAgICAgICAgICAgICAgZW5jb2Rlcy5maW5hbC51cGRhdGUsXG4gICAgICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLmZpbmFsLFxuICAgICAgICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgICAgICAgIGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjdXN0b20oYXR0ciwgZ2V0U2NhbGVzLCBkX2ksIGRfZikge1xuICAgICAgICAgICAgbGV0IGRhdHVtID0ge1xuICAgICAgICAgICAgICBpbml0aWFsOiBkX2ksXG4gICAgICAgICAgICAgIGZpbmFsOiBkX2ZcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxldCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIGZpbmFsU2NhbGVOYW1lcywgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsLmJpbmQodGhpcykoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuZmluYWwudXBkYXRlLFxuICAgICAgICAgICAgICBjb21wdXRlZFNjYWxlcyxcbiAgICAgICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICAgICAgZGF0dW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW50ZXI6IHtcbiAgICAgICAgICBpbml0aWFsKGF0dHIsIGdldFNjYWxlcywgZCl7XG5cbiAgICAgICAgICAgIGxldCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIGZpbmFsU2NhbGVOYW1lcywgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsLmJpbmQodGhpcykoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuaW5pdGlhbC5lbnRlcixcbiAgICAgICAgICAgICAge3ByaW1hcnk6IGNvbXB1dGVkU2NhbGVzLmluaXRpYWwsIHNlY29uZGFyeTogY29tcHV0ZWRTY2FsZXMuZmluYWx9LFxuICAgICAgICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgICAgICAgIGQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmluYWwoYXR0ciwgZ2V0U2NhbGVzLCBkKXtcbiAgICAgICAgICAgIGxldCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIGZpbmFsU2NhbGVOYW1lcywgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsLmJpbmQodGhpcykoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuZmluYWwuZW50ZXIsXG4gICAgICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLmZpbmFsLFxuICAgICAgICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgICAgICAgIGQpO1xuXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjdXN0b20oYXR0ciwgZ2V0U2NhbGVzLCBkX2ksIGRfZil7XG4gICAgICAgICAgICBsZXQgZGF0dW0gPSB7XG4gICAgICAgICAgICAgIGluaXRpYWw6IGRfaSxcbiAgICAgICAgICAgICAgZmluYWw6IGRfZlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbGV0IGNvbXB1dGVkU2NhbGVzID0gY29tcHV0ZVNjYWxlKHNjYWxlcywgZmluYWxTY2FsZU5hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwuYmluZCh0aGlzKShcbiAgICAgICAgICAgICAgYXR0cixcbiAgICAgICAgICAgICAgZW5jb2Rlcy5maW5hbC5lbnRlcixcbiAgICAgICAgICAgICAgY29tcHV0ZWRTY2FsZXMsXG4gICAgICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgICAgIGRhdHVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGV4aXQ6IHtcbiAgICAgICAgICBpbml0aWFsKGF0dHIsIGdldFNjYWxlcywgZCl7XG5cbiAgICAgICAgICAgIGxldCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIGZpbmFsU2NhbGVOYW1lcywgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsLmJpbmQodGhpcykoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuaW5pdGlhbC5leGl0LFxuICAgICAgICAgICAgICBjb21wdXRlZFNjYWxlcy5pbml0aWFsLFxuICAgICAgICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgICAgICAgIGQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmluYWwoYXR0ciwgZ2V0U2NhbGVzLCBkKXtcbiAgICAgICAgICAgIGxldCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIGZpbmFsU2NhbGVOYW1lcywgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsLmJpbmQodGhpcykoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuZmluYWwuZXhpdCxcbiAgICAgICAgICAgICAge3ByaW1hcnk6IGNvbXB1dGVkU2NhbGVzLmZpbmFsLCBzZWNvbmRhcnk6IGNvbXB1dGVkU2NhbGVzLmluaXRpYWx9LFxuICAgICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAgICBkKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGN1c3RvbShhdHRyLCBnZXRTY2FsZXMsIGRfaSwgZF9mKXtcbiAgICAgICAgICAgIGxldCBkYXR1bSA9IHtcbiAgICAgICAgICAgICAgaW5pdGlhbDogZF9pLFxuICAgICAgICAgICAgICBmaW5hbDogZF9mXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBmaW5hbFNjYWxlTmFtZXMsIGdldFNjYWxlcyk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbC5iaW5kKHRoaXMpKFxuICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmZpbmFsLmV4aXQsXG4gICAgICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLFxuICAgICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAgICBkYXR1bSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgLy8gYmluZCBhbGxLZXlzXG4gICAgICBjb25zdCBuZXdCb3VuZE1hcmtzID0gbWFya3NcbiAgICAgICAgLnNlbGVjdEFsbChzdmdFbG1UeXBlKVxuICAgICAgICAuZGF0YShlbnVtZXJhdG9yLmFsbEtleXMsIGQgPT4gZCk7XG4gICAgICBuZXdCb3VuZE1hcmtzLmV4aXQoKS5yZW1vdmUoKTtcbiAgICAgIG5ld0JvdW5kTWFya3MuZW50ZXIoKS5hcHBlbmQoc3ZnRWxtVHlwZSk7XG5cbiAgICAgIGNvbnN0IGluaXRpYWxNYXJrcyA9IG1hcmtzXG4gICAgICAgIC5zZWxlY3RBbGwoc3ZnRWxtVHlwZSlcbiAgICAgICAgLmZpbHRlcihpZCA9PiBbXCJ1cGRhdGVcIiwgXCJleGl0XCJdLmluZGV4T2YoZW51bWVyYXRvci5zZXQoaWQsIDApKSA+PSAwKTtcbiAgICAgIGNvbnN0IGFsbFByb3BzID0gTUFSS19BVFRSU1ttYXJrdHlwZV0ucmVkdWNlKChhY2MsIHByb3ApID0+IHtcbiAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQocHJvcE1hcChwcm9wKSk7XG4gICAgICB9LCBbXSk7XG4gICAgICBhbGxQcm9wcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICBpZiAocC50eXBlID09PSBcImF0dHJUd2VlblwiKSB7XG4gICAgICAgICAgY29uc3QgdGVtcFAgPSBPYmplY3QuYXNzaWduKHt9LCBwLCB7IHR5cGU6IFwiYXR0clwiIH0pO1xuICAgICAgICAgIGluaXRpYWxNYXJrc1t0ZW1wUC50eXBlXShnZXRTdHlsZSh0ZW1wUC52YWwpLCBpZCA9PlxuICAgICAgICAgICAgZW51bWVyYXRvci5nZXRQcm9wVmFsKHRlbXBQLCBnZXRWYWx1ZXMsIDAsIGlkKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcInRleHRcIikge1xuICAgICAgICAgIGluaXRpYWxNYXJrc1twLnR5cGVdKGlkID0+XG4gICAgICAgICAgICBlbnVtZXJhdG9yLmdldFByb3BWYWwocCwgZ2V0VmFsdWVzLCAwLCBpZClcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGluaXRpYWxNYXJrc1twLnR5cGVdKGdldFN0eWxlKHAudmFsKSwgaWQgPT5cbiAgICAgICAgICAgIGVudW1lcmF0b3IuZ2V0UHJvcFZhbChwLCBnZXRWYWx1ZXMsIDAsIGlkKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG5cblxuICAgICAgLy8gc3RhZ2dlcmluZ1xuICAgICAgY29uc3QgdGltaW5ncyA9IGVudW1TdGVwQ29tcHV0ZVRpbWluZyhlbnVtZXJhdG9yLCBzdGVwLnRpbWluZyk7XG5cbiAgICAgIGNvbnN0IGFuaW1NYXJrcyA9IG1hcmtzLnNlbGVjdEFsbChzdmdFbG1UeXBlKS50cmFuc2l0aW9uKCk7XG5cbiAgICAgIGFsbFByb3BzLmZvckVhY2gocCA9PiB7XG4gICAgICAgIGlmIChwLnR5cGUgPT09IFwiYXR0clwiKSB7XG4gICAgICAgICAgYW5pbU1hcmtzLmF0dHJUd2VlbihwLnZhbCwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgcmV0dXJuIGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihwLCBnZXRWYWx1ZXMsIHRoaXMpKGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gXCJhdHRyVHdlZW5cIikge1xuICAgICAgICAgIGFuaW1NYXJrcy5hdHRyVHdlZW4ocC52YWwsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIocCwgZ2V0VmFsdWVzLCB0aGlzKShkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChwLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgYW5pbU1hcmtzLnR3ZWVuKFwidGV4dFwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0SW50ZXJwb2xhdG9yID0gZW51bWVyYXRvci5pbnRlcnBvbGF0ZUFsb25nRW51bU1ha2VyKFxuICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICBnZXRWYWx1ZXMsXG4gICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICkoZCk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInRleHRcIiwgdGV4dEludGVycG9sYXRvcih0KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICAgICAgYW5pbU1hcmtzLnN0eWxlVHdlZW4oZ2V0U3R5bGUocC52YWwpLCBkID0+IHtcbiAgICAgICAgICAgIHJldHVybiBlbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIocCwgZ2V0VmFsdWVzLCB0aGlzKShkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGludGVycG9sYXRlIHRoZW1cbiAgICAgIGFuaW1NYXJrc1xuICAgICAgICAuZHVyYXRpb24oKGQsIGkpID0+IHRpbWluZ3NbaV0uZHVyYXRpb24pXG4gICAgICAgIC5kZWxheSgoZCwgaSkgPT4gdGltaW5nc1tpXS5kZWxheSlcbiAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAuZW5kKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIG1hcmtzLnNlbGVjdEFsbChzdmdFbG1UeXBlKS5kYXRhKHN0ZXAubmV4dERhdGEpO1xuICAgICAgICAgIGRvbmUoXCJhbGxcIiwgKCkgPT4ge3Jlc29sdmUoKTt9KTtcbiAgICAgICAgfSk7XG5cblxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWFya3R5cGUgY2hhbmdlIGJldHdlZW4gZGlmZmVyZW50IHN2Z0VsbVR5cGVzXG4gICAgICBpZiAobWFya3R5cGVzLmluaXRpYWwgIT09IG1hcmt0eXBlcy5maW5hbCkge1xuICAgICAgICBsZXQgYW5pbU1hcmtzSTsgbGV0IGFuaW1NYXJrc0Y7XG4gICAgICAgIGlmIChpc1ZhbGlkTWFya3R5cGUobWFya3R5cGVzLmluaXRpYWwpKSB7XG4gICAgICAgICAgY29uc3QgbWFya3MgPSBkMy5zZWxlY3QoXG4gICAgICAgICAgICBhbmltVmlzICsgYCAubWFyay0ke21hcmt0eXBlcy5pbml0aWFsfS5yb2xlLW1hcmsuJHtjaGFuZ2UuY29tcE5hbWV9YFxuICAgICAgICAgICk7XG4gICAgICAgICAgYW5pbU1hcmtzSSA9IG1hcmtzLnNlbGVjdEFsbChzdmdFbG1UeXBlcy5pbml0aWFsKTtcbiAgICAgICAgICBjb25zdCBuZXdUaW1pbmdzID1cbiAgICAgICAgICAgIG1hcmt0eXBlcy5maW5hbCAmJiAhaXNWYWxpZE1hcmt0eXBlKG1hcmt0eXBlcy5maW5hbClcbiAgICAgICAgICAgICAgPyBjb21wdXRlVGltaW5nKFxuICAgICAgICAgICAgICAgIHN0ZXAuY3VyckRhdGEsXG4gICAgICAgICAgICAgICAgc3RlcC51bnBhY2tlZERhdGEsXG4gICAgICAgICAgICAgICAgc3RlcC50aW1pbmcsXG4gICAgICAgICAgICAgICAgam9pbktleSxcbiAgICAgICAgICAgICAgICBqb2luU2V0XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiB0aW1pbmdzO1xuICAgICAgICAgIGNvbnN0IHByZXZEYXRhID0gZDMubG9jYWwoKTtcbiAgICAgICAgICBsZXQgbmV4dERhdGEgPVxuICAgICAgICAgICAgICBtYXJrdHlwZXMuZmluYWwgJiYgIWlzVmFsaWRNYXJrdHlwZShtYXJrdHlwZXMuZmluYWwpXG4gICAgICAgICAgICAgICAgPyBzdGVwLnVucGFja2VkRGF0YVxuICAgICAgICAgICAgICAgIDogc3RlcC5uZXh0RGF0YTtcblxuICAgICAgICAgIGlmIChjaGFuZ2UuZGF0YSB8fCBpc0FkZCB8fCBpc1JlbW92ZSkge1xuICAgICAgICAgICAgYW5pbU1hcmtzSSA9IGFuaW1NYXJrc0kuZGF0YShzdGVwLmN1cnJEYXRhKTtcbiAgICAgICAgICAgIGFuaW1NYXJrc0kuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYW5pbU1hcmtzSSA9IGFuaW1NYXJrc0kuZGF0YShuZXh0RGF0YSwgKGQsIGkpID0+XG4gICAgICAgICAgICAgIGpvaW5LZXkoZCwgaSwgXCJpbml0aWFsXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmltTWFya3NJLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICBwcmV2RGF0YS5zZXQodGhpcywgZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBleGl0KFxuICAgICAgICAgICAgbmV3VGltaW5ncyxcbiAgICAgICAgICAgIGFuaW1NYXJrc0ksXG4gICAgICAgICAgICBtYXJrdHlwZXMuaW5pdGlhbCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaW5pdGlhbDogZW5jb2Rlcy5pbml0aWFsLmV4aXQsXG4gICAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVzLmZpbmFsLmV4aXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaWduYWxzLFxuICAgICAgICAgICAgcHJldkRhdGFcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdXBkYXRlKFxuICAgICAgICAgICAgbmV3VGltaW5ncyxcbiAgICAgICAgICAgIGFuaW1NYXJrc0ksXG4gICAgICAgICAgICBtYXJrdHlwZXMuaW5pdGlhbCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaW5pdGlhbDogZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZSxcbiAgICAgICAgICAgICAgZmluYWw6IGVuY29kZXMuaW5pdGlhbC5pbnRlcm1lZGlhdGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlbmNvZGUsXG4gICAgICAgICAgICBzaWduYWxzLFxuICAgICAgICAgICAgcHJldkRhdGEsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb25lKFwiZXhpdFwiLCAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNWYWxpZE1hcmt0eXBlKG1hcmt0eXBlcy5maW5hbCkpIHtcbiAgICAgICAgICBjb25zdCBwcmV2RGF0YSA9IGQzLmxvY2FsKCk7XG4gICAgICAgICAgbGV0IG5ld1RpbWluZ3MgPSBtYXJrdHlwZXMuaW5pdGlhbCAmJiAhaXNWYWxpZE1hcmt0eXBlKG1hcmt0eXBlcy5pbml0aWFsKSA/IGNvbXB1dGVUaW1pbmcoc3RlcC51bnBhY2tlZERhdGEsIHN0ZXAubmV4dERhdGEsIHN0ZXAudGltaW5nLCBqb2luS2V5LCBqb2luU2V0KSA6IHRpbWluZ3M7XG4gICAgICAgICAgbGV0IGN1cnJEYXRhID0gIW1hcmt0eXBlcy5pbml0aWFsXG4gICAgICAgICAgICA/IFtdXG4gICAgICAgICAgICA6ICFpc1ZhbGlkTWFya3R5cGUobWFya3R5cGVzLmluaXRpYWwpXG4gICAgICAgICAgICAgID8gc3RlcC51bnBhY2tlZERhdGFcbiAgICAgICAgICAgICAgOiBhbmltTWFya3NJLmRhdGEoKTtcbiAgICAgICAgICBjb25zdCBtYXJrcyA9IGQzLnNlbGVjdChcbiAgICAgICAgICAgIGFuaW1WaXMgKyBgIC5tYXJrLSR7bWFya3R5cGVzLmZpbmFsfS5yb2xlLW1hcmsuJHtjaGFuZ2UuY29tcE5hbWV9YFxuICAgICAgICAgICk7XG4gICAgICAgICAgYW5pbU1hcmtzRiA9IG1hcmtzXG4gICAgICAgICAgICAuc2VsZWN0QWxsKHN2Z0VsbVR5cGVzLmZpbmFsKVxuICAgICAgICAgICAgLmZpbHRlcihkID0+ICFkKVxuICAgICAgICAgICAgLmRhdGEoY3VyckRhdGEpO1xuXG4gICAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgYW5pbU1hcmtzRi5lbnRlcigpLmFwcGVuZChzdmdFbG1UeXBlcy5maW5hbCksXG4gICAgICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlcy5maW5hbF0sXG4gICAgICAgICAgICB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9LFxuICAgICAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICAgICAgZW5jb2Rlcy5maW5hbC5pbnRlcm1lZGlhdGVcbiAgICAgICAgICApO1xuICAgICAgICAgIGFuaW1NYXJrc0YgPSBtYXJrcy5zZWxlY3RBbGwoc3ZnRWxtVHlwZXMuZmluYWwpO1xuICAgICAgICAgIGFuaW1NYXJrc0YuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBwcmV2RGF0YS5zZXQodGhpcywgZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGNoYW5nZS5kYXRhIHx8IGlzQWRkIHx8IGlzUmVtb3ZlKSB7XG4gICAgICAgICAgICBhbmltTWFya3NGID0gYW5pbU1hcmtzRi5kYXRhKHN0ZXAubmV4dERhdGEsIChkLCBpKSA9PlxuICAgICAgICAgICAgICBqb2luS2V5KGQsIGksIFwiZmluYWxcIilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZW50ZXIobmV3VGltaW5ncywgYW5pbU1hcmtzRiwgbWFya3R5cGVzLmZpbmFsKTtcbiAgICAgICAgICAvLyBmYWRlLWluIHRoZSBuZXcgbWFydHlwZVxuICAgICAgICAgIHVwZGF0ZShcbiAgICAgICAgICAgIG5ld1RpbWluZ3MsXG4gICAgICAgICAgICBhbmltTWFya3NGLFxuICAgICAgICAgICAgbWFya3R5cGVzLmZpbmFsLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpbml0aWFsOiBlbmNvZGVzLmZpbmFsLmludGVybWVkaWF0ZSxcbiAgICAgICAgICAgICAgZmluYWw6IGVuY29kZXMuZmluYWwudXBkYXRlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2lnbmFscyxcbiAgICAgICAgICAgIHByZXZEYXRhLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoXCJ1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRvbmUoXCJlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBhbmltTWFya3MgPSBtYXJrcy5zZWxlY3RBbGwoc3ZnRWxtVHlwZSk7XG4gICAgICAgIGNvbnN0IHByZXZEYXRhID0gZDMubG9jYWwoKTtcbiAgICAgICAgYW5pbU1hcmtzLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjaGFuZ2UuZGF0YSB8fCBpc0FkZCB8fCBpc1JlbW92ZSkge1xuICAgICAgICAgIC8vIGxldCBuZXh0RGF0YSA9IGNoYW5nZS5tYXJrdHlwZSA9PT0gZmFsc2UgPyBzdGVwLnVucGFja2VkRGF0YSA6IHN0ZXAubmV4dERhdGE7XG5cbiAgICAgICAgICBpZiAoc3RlcC5wcmVGZXRjaEN1cnJEYXRhKSB7XG4gICAgICAgICAgICBhbmltTWFya3MgPSBhbmltTWFya3MuZGF0YShzdGVwLmN1cnJEYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhbmltTWFya3MgPSBhbmltTWFya3MuZGF0YShzdGVwLm5leHREYXRhLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coam9pbktleShkLCBpKSk7XG4gICAgICAgICAgICByZXR1cm4gam9pbktleShkLCBpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVudGVyXG4gICAgICAgIGVudGVyKHRpbWluZ3MsIGFuaW1NYXJrcywgbWFya3R5cGUpO1xuXG4gICAgICAgIC8vIGV4aXRcbiAgICAgICAgZXhpdChcbiAgICAgICAgICB0aW1pbmdzLFxuICAgICAgICAgIGFuaW1NYXJrcyxcbiAgICAgICAgICBtYXJrdHlwZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbml0aWFsOiBlbmNvZGVzLmluaXRpYWwuZXhpdCwgLy8gZW5jb2Rlcy5maW5hbC5leGl0LFxuICAgICAgICAgICAgZmluYWw6IGVuY29kZXMuZmluYWwuZXhpdFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2lnbmFscyxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuXG4gICAgICAgIHVwZGF0ZShcbiAgICAgICAgICB0aW1pbmdzLFxuICAgICAgICAgIGFuaW1NYXJrcyxcbiAgICAgICAgICBtYXJrdHlwZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbml0aWFsOiBlbmNvZGVzLmluaXRpYWwudXBkYXRlLCAvLyBlbmNvZGVzLmZpbmFsLnVwZGF0ZSxcbiAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVzLmZpbmFsLnVwZGF0ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2lnbmFscyxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRlcihcbiAgICAgIHRpbWluZ3MsXG4gICAgICBhbmltTWFya3MsXG4gICAgICBtYXJrdHlwZSxcbiAgICAgIGVuY29kZUluaXRpYWwgPSBlbmNvZGVzLmluaXRpYWwuZW50ZXIsXG4gICAgICBlbmNvZGUgPSBlbmNvZGVzLmZpbmFsLmVudGVyXG4gICAgKSB7XG4gICAgICAvLyBlbnRlclxuICAgICAgbGV0IGVudGVySSA9IGFuaW1NYXJrcy5lbnRlcigpLmFwcGVuZChnZXRTdmdFbG1UeXBlKG1hcmt0eXBlKSk7XG4gICAgICBsZXQgc2NhbGVzRm9ySW5pdGlhbCA9IHsgcHJpbWFyeTogc2NhbGVzLmluaXRpYWwsIHNlY29uZGFyeTogc2NhbGVzLmZpbmFsIH07XG4gICAgICBpZiAoc3BlY2lmaWNTY2FsZUZvciAmJiBzcGVjaWZpY1NjYWxlRm9yLmVudGVyICYmIHNwZWNpZmljU2NhbGVGb3IuZW50ZXIuaW5pdGlhbCA9PT0gXCJmaW5hbFwiKSB7XG4gICAgICAgIHNjYWxlc0ZvckluaXRpYWwucHJpbWFyeSA9IHNjYWxlcy5maW5hbDtcbiAgICAgIH1cbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZW50ZXJJLFxuICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlXSxcbiAgICAgICAgc2NhbGVzRm9ySW5pdGlhbCxcbiAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICB7XG4gICAgICAgICAgcHJpbWFyeTogZW5jb2RlSW5pdGlhbCxcbiAgICAgICAgICBzZWNvbmRhcnk6IE9iamVjdC5hc3NpZ24oe30sIGVuY29kZSwgeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSlcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgLy8gSWYgdGhleSBhcmUgYWxyZWFkeSBlbnRlcmVkLFxuICAgICAgaWYgKGVudGVySS5kYXRhKCkubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgZW50ZXJJID0gYW5pbU1hcmtzLmZpbHRlcigoZCwgaSkgPT4gam9pblNldChkLCBpKSA9PT0gXCJlbnRlclwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbnRlckkuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gaWYgKGRvRW50ZXIgJiYgZW50ZXJJLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHNldFR5cGUgPSBcImZpbmFsXCI7XG4gICAgICAgIGNvbnN0IGVudGVyRiA9IGVudGVySS50cmFuc2l0aW9uKCk7XG5cbiAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgIGVudGVyRixcbiAgICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlXSxcbiAgICAgICAgICBzY2FsZXMuZmluYWwsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbml0aWFsOiB7XG4gICAgICAgICAgICAgIHByaW1hcnk6IGVuY29kZUluaXRpYWwsXG4gICAgICAgICAgICAgIHNlY29uZGFyeTogT2JqZWN0LmFzc2lnbih7fSwgZW5jb2RlLCB7IG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVcbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgZW50ZXJGXG4gICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgIHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgc2V0VHlwZSkpLmR1cmF0aW9uXG4gICAgICAgICAgKVxuICAgICAgICAgIC5kZWxheShcbiAgICAgICAgICAgIChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIHNldFR5cGUpKS5kZWxheVxuICAgICAgICAgIClcbiAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZG9uZShcImVudGVyXCIsICgpID0+IHtyZXNvbHZlKCk7fSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKFwiZW50ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4aXQodGltaW5ncywgYW5pbU1hcmtzLCBtYXJrdHlwZSwgZW5jb2RlLCBzaWduYWxzLCBwcmV2RGF0YSkge1xuICAgICAgLy8gZXhpdFxuICAgICAgLy8gaW5pdGlhdGUgZXhpdFxuICAgICAgbGV0IGV4aXRJID0gYW5pbU1hcmtzLmV4aXQoKTtcbiAgICAgIC8vIElmIHRoZXkgYXJlIGFscmVhZHkgZW50ZXJlZCxcbiAgICAgIGlmIChleGl0SS5kYXRhKCkubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgZXhpdEkgPSBhbmltTWFya3MuZmlsdGVyKChkLCBpKSA9PiBqb2luU2V0KGQsIGkpID09PSBcImV4aXRcIik7XG4gICAgICB9XG4gICAgICBpZiAoZXhpdEkuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gaWYgKGRvRXhpdCAmJiBleGl0SS5kYXRhKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzZXRUeXBlID0gXCJpbml0aWFsXCI7XG4gICAgICAgIGNvbnN0IGV4aXRGID0gZXhpdEkudHJhbnNpdGlvbigpO1xuICAgICAgICBsZXQgc2NhbGVzRm9yRXhpdCA9ICBPYmplY3QuYXNzaWduKHt9LCBzY2FsZXMsIHtcbiAgICAgICAgICBwcmltYXJ5OiBzY2FsZXMuZmluYWwsXG4gICAgICAgICAgc2Vjb25kYXJ5OiBzY2FsZXMuaW5pdGlhbFxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGVuY29kZXMgPSB7XG4gICAgICAgICAgLi4uZW5jb2RlLFxuICAgICAgICAgIHByaW1hcnk6IGVuY29kZS5maW5hbCB8fCBlbmNvZGVzLmZpbmFsLmV4aXQsXG4gICAgICAgICAgc2Vjb25kYXJ5OiBlbmNvZGUuaW5pdGlhbCB8fCBlbmNvZGVzLmZpbmFsLmV4aXRcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BlY2lmaWNTY2FsZUZvciAmJiBzcGVjaWZpY1NjYWxlRm9yLmV4aXQgJiYgc3BlY2lmaWNTY2FsZUZvci5leGl0LmZpbmFsID09PSBcImluaXRpYWxcIikge1xuICAgICAgICAgIHNjYWxlc0ZvckV4aXQucHJpbWFyeSA9IHNjYWxlcy5pbml0aWFsO1xuICAgICAgICB9XG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBleGl0RixcbiAgICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlXSxcbiAgICAgICAgICBzY2FsZXNGb3JFeGl0LFxuICAgICAgICAgIHNpZ25hbHMsXG4gICAgICAgICAgZW5jb2RlcywgLy8gZW5jb2RlIHx8IGVuY29kZXMuZmluYWwuZXhpdCxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuXG4gICAgICAgIGV4aXRGXG4gICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgIHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgc2V0VHlwZSkpLmR1cmF0aW9uXG4gICAgICAgICAgKVxuICAgICAgICAgIC5kZWxheShcbiAgICAgICAgICAgIChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIHNldFR5cGUpKS5kZWxheVxuICAgICAgICAgIClcbiAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgLnJlbW92ZSgpXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb25lKFwiZXhpdFwiLCAoKSA9PiB7cmVzb2x2ZSgpO30pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAvLyBUb2RvOiB3aGVuIHNob3VsZCB3ZSByZW1vdmUgZXhpdC1tYXJrcz9cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoXCJleGl0XCIsICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGUoXG4gICAgICB0aW1pbmdzLFxuICAgICAgYW5pbU1hcmtzLFxuICAgICAgbWFya3R5cGUsXG4gICAgICBlbmNvZGVzLFxuICAgICAgc2lnbmFscyxcbiAgICAgIHByZXZEYXRhLFxuICAgICAgZG9TdGF0dXNVcGRhdGUgPSB0cnVlLFxuICAgICAgZmlsdGVyVXBkYXRlID0gdHJ1ZVxuICAgICkge1xuICAgICAgbGV0IHVwZGF0ZUYgPSBmaWx0ZXJVcGRhdGVcbiAgICAgICAgPyBhbmltTWFya3MuZmlsdGVyKChkLCBpKSA9PiBqb2luU2V0KGQsIGkpID09PSBcInVwZGF0ZVwiKVxuICAgICAgICA6IGFuaW1NYXJrcztcbiAgICAgIGlmIChjaGFuZ2UuZGF0YSA9PT0gZmFsc2UgJiYgdXBkYXRlRi5kYXRhKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHVwZGF0ZUYgPSBhbmltTWFya3M7XG4gICAgICB9XG5cbiAgICAgIGlmICh1cGRhdGVGLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHNldFR5cGUgPSBcImluaXRpYWxcIjsgLy8gQWN0dWFsbHksIGl0IGFsc28gY2FuIGJlICdmaW5hbCcuXG4gICAgICAgIHVwZGF0ZUYgPSB1cGRhdGVGLnRyYW5zaXRpb24oKTtcblxuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgdXBkYXRlRixcbiAgICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlXSxcbiAgICAgICAgICBzY2FsZXMsXG4gICAgICAgICAgc2lnbmFscyxcbiAgICAgICAgICBlbmNvZGVzLFxuICAgICAgICAgIHByZXZEYXRhXG4gICAgICAgICk7XG4gICAgICAgIHVwZGF0ZUZcbiAgICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgICAgdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBzZXRUeXBlKSkuZHVyYXRpb25cbiAgICAgICAgICApXG4gICAgICAgICAgLmRlbGF5KFxuICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgc2V0VHlwZSkpLmRlbGF5XG4gICAgICAgICAgKVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9TdGF0dXNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgZG9uZShcInVwZGF0ZVwiLCAoKSA9PiB7cmVzb2x2ZSgpO30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChkb1N0YXR1c1VwZGF0ZSkge1xuICAgICAgICBkb25lKFwidXBkYXRlXCIsICgpID0+IHtyZXNvbHZlKCk7fSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gaXNWYWxpZE1hcmt0eXBlKG1hcmt0eXBlKSB7XG4gICAgcmV0dXJuICEhTUFSS19BVFRSU1ttYXJrdHlwZV07XG4gIH1cbn1cbmZ1bmN0aW9uIGRvbmVNYWtlcigpIHtcbiAgY29uc3QgdHJhbnNpdGlvblN0YXR1cyA9IHtcbiAgICB1cGRhdGU6IGZhbHNlLFxuICAgIGVudGVyOiBmYWxzZSxcbiAgICBleGl0OiBmYWxzZVxuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbih3aGljaCwgY2IsIGFyZ3MpIHtcbiAgICBpZiAod2hpY2ggPT09IFwiYWxsXCIpIHtcbiAgICAgIHRyYW5zaXRpb25TdGF0dXMudXBkYXRlID0gdHJhbnNpdGlvblN0YXR1cy5lbnRlciA9IHRyYW5zaXRpb25TdGF0dXMuZXhpdCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zaXRpb25TdGF0dXNbd2hpY2hdID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHJhbnNpdGlvblN0YXR1cy51cGRhdGUgJiZcbiAgICAgIHRyYW5zaXRpb25TdGF0dXMuZW50ZXIgJiZcbiAgICAgIHRyYW5zaXRpb25TdGF0dXMuZXhpdFxuICAgICkge1xuICAgICAgY2IoYXJncyk7XG4gICAgfVxuICB9O1xufVxuXG5cbmZ1bmN0aW9uIGFkZE1hcmsoZDNTZWxlY3Rpb24sIGNvbXBTcGVjLCBiZWZvcmUpIHtcbiAgcmV0dXJuIGQzU2VsZWN0aW9uXG4gICAgLmluc2VydChcImdcIiwgYmVmb3JlKVxuICAgIC5hdHRyKFwiY2xhc3NcIiwgYG1hcmstJHtjb21wU3BlYy50eXBlfSByb2xlLW1hcmsgJHtjb21wU3BlYy5uYW1lfWApO1xufVxuZnVuY3Rpb24gZ2V0U3ZnRWxtVHlwZShtYXJrVHlwZSl7XG4gIHN3aXRjaCAobWFya1R5cGUpIHtcbiAgY2FzZSBcInJlY3RcIjpcbiAgY2FzZSBcInN5bWJvbFwiOlxuICAgIHJldHVybiBcInBhdGhcIjtcbiAgY2FzZSBcInJ1bGVcIjpcbiAgICByZXR1cm4gXCJsaW5lXCI7XG4gIGNhc2UgXCJ0ZXh0XCI6XG4gICAgcmV0dXJuIFwidGV4dFwiO1xuICBkZWZhdWx0OlxuXG4gIH1cbn1cbmV4cG9ydCB7IG1hcmtJbnRlcnBvbGF0ZSB9O1xuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgeyBwcm9wTWFwLCBnZXRFYXNlRm4sIGZpbmRBZnRlclNpYmxpbmcsIGdldEpvaW5JbmZvLCBjb21wdXRlU2NhbGUsIGlzTGluZWFyTWFya3R5cGUgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgZ2V0UHJvcFZhbCwgZmV0Y2hBdHRyaWJ1dGVzfSBmcm9tIFwiLi4vYXR0cmlidXRlRmV0Y2hlclwiO1xuaW1wb3J0IHsgZ2V0U3R5bGUgfSBmcm9tIFwiLi4vdmVnYS1yZW5kZXItdXRpbC5qc1wiO1xuaW1wb3J0IHsgY29tcHV0ZVRpbWluZywgZW51bVN0ZXBDb21wdXRlVGltaW5nIH0gZnJvbSBcIi4uL3RpbWluZ3NcIjtcblxuZnVuY3Rpb24gYXJlYUxpbmVJbnRlcnBvbGF0ZShyYXdJbmZvLCBzdGVwLCB0YXJnZXRFbG0pIHtcbiAgY29uc3Qgam9pbktleSA9IChkLCBpLCBpbml0aWFsT3JGaW5hbCkgPT4ge1xuICAgIHJldHVybiBkLl9fZ2VtaW5pX18gP1xuICAgICAgZ2V0Sm9pbkluZm8oZCwgaSwgc3RlcCwgXCJqb2luS2V5XCIpIDpcbiAgICAgICggdHlwZW9mKHN0ZXAuY29tcHV0ZURhdHVtSWQpID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBzdGVwLmNvbXB1dGVEYXR1bUlkKGQsIGkpXG4gICAgICAgIDogc3RlcC5jb21wdXRlRGF0dW1JZFtpbml0aWFsT3JGaW5hbCB8fCBcImZpbmFsXCJdKGQsIGkpKTtcbiAgfTsgY29uc3Qgam9pblNldCA9IChkLCBpKSA9PiB7XG4gICAgcmV0dXJuIGQuX19nZW1pbmlfXyA/IGdldEpvaW5JbmZvKGQsIGksIHN0ZXAsIFwiYW5pbVNldFwiKSA6IHVuZGVmaW5lZDtcbiAgfTtcbiAgY29uc3QgTUFSS19BVFRSUyA9IHtcbiAgICBhcmVhOiBbeyBuYW1lOiBcImFyZWFcIiwgdHdlYWtzOiBbXSB9XSxcbiAgICBsaW5lOiBbeyBuYW1lOiBcImxpbmVcIiwgdHdlYWtzOiBbXSB9XSxcbiAgICB0cmFpbDogW3sgbmFtZTogXCJ0cmFpbFwiLCB0d2Vha3M6IFtdIH1dXG4gIH07XG4gIGNvbnN0IHR3ZWFrcyA9IFt7IHR5cGU6IFwiYXR0clR3ZWVuXCIsIHZhbDogXCJkXCIsIGludGVycG9sYXRlU3R5bGU6IFwidXBkYXRlXCIgfV07XG4gIGNvbnN0IE1BUktfQVRUUlNfREFUQV9JTlRFUlBPTEFURSA9IHtcbiAgICBhcmVhOiBbeyBuYW1lOiBcImFyZWFcIiwgdHdlYWtzfV0sXG4gICAgbGluZTogW3sgbmFtZTogXCJsaW5lXCIsIHR3ZWFrc31dLFxuICAgIHRyYWlsOiBbeyBuYW1lOiBcInRyYWlsXCIsIHR3ZWFrc31dXG4gIH07XG5cblxuICAvLyBHZXQgVGltaW5nXG5cbiAgY29uc3QgYW5pbVZpcyA9IHRhcmdldEVsbTtcbiAgY29uc3QgZVZpZXcgPSByYXdJbmZvLmVWaXMudmlldztcbiAgY29uc3QgdHJhbnNpdGlvblN0YXR1cyA9IHtcbiAgICB1cGRhdGU6IGZhbHNlLFxuICAgIGVudGVyOiBmYWxzZSxcbiAgICBleGl0OiBmYWxzZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGRvbmUod2hpY2gsIGNiLCBhcmdzKSB7XG4gICAgaWYgKHdoaWNoID09PSBcImFsbFwiKSB7XG4gICAgICB0cmFuc2l0aW9uU3RhdHVzLnVwZGF0ZSA9IHRyYW5zaXRpb25TdGF0dXMuZW50ZXIgPSB0cmFuc2l0aW9uU3RhdHVzLmV4aXQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2l0aW9uU3RhdHVzW3doaWNoXSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRyYW5zaXRpb25TdGF0dXMudXBkYXRlICYmXG4gICAgICB0cmFuc2l0aW9uU3RhdHVzLmVudGVyICYmXG4gICAgICB0cmFuc2l0aW9uU3RhdHVzLmV4aXRcbiAgICApIHtcbiAgICAgIGNiKGFyZ3MpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc0FyZWFMaW5lTWFya3R5cGUobWFya3R5cGUpIHtcbiAgICByZXR1cm4gISFNQVJLX0FUVFJTW21hcmt0eXBlXTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IHRpbWluZ3MgPSBjb21wdXRlVGltaW5nKFxuICAgICAgc3RlcC5jdXJyRGF0YSxcbiAgICAgIHN0ZXAubmV4dERhdGEsXG4gICAgICBzdGVwLnRpbWluZyxcbiAgICAgIGpvaW5LZXksXG4gICAgICBqb2luU2V0XG4gICAgKTtcbiAgICBjb25zdCB7Y2hhbmdlfSA9IHN0ZXA7XG4gICAgY29uc3QgZWFzZUZuID0gZ2V0RWFzZUZuKHN0ZXAudGltaW5nLmVhc2UpO1xuICAgIGNvbnN0IHttYXJrdHlwZXN9ID0gc3RlcDtcblxuICAgIGNvbnN0IGlzQWRkID0gIWNoYW5nZS5pbml0aWFsICYmICEhY2hhbmdlLmZpbmFsLFxuICAgICAgaXNSZW1vdmUgPSAhIWNoYW5nZS5pbml0aWFsICYmICFjaGFuZ2UuZmluYWw7XG5cbiAgICBsZXQgbWFya3R5cGU7XG4gICAgaWYgKFxuICAgICAgbWFya3R5cGVzLmluaXRpYWwgJiZcbiAgICAgIG1hcmt0eXBlcy5maW5hbCAmJlxuICAgICAgbWFya3R5cGVzLmluaXRpYWwgIT09IG1hcmt0eXBlcy5maW5hbFxuICAgICkge1xuICAgICAgaWYgKGNoYW5nZS5tYXJrdHlwZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgbWFya3R5cGUgPSBtYXJrdHlwZXMuaW5pdGlhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcmt0eXBlID0gbWFya3R5cGVzLmZpbmFsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSZW1vdmUpIHtcbiAgICAgIG1hcmt0eXBlID0gbWFya3R5cGVzLmluaXRpYWw7XG4gICAgfSBlbHNlIGlmIChpc0FkZCkge1xuICAgICAgbWFya3R5cGUgPSBtYXJrdHlwZXMuZmluYWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcmt0eXBlID0gbWFya3R5cGVzLmluaXRpYWwgfHwgbWFya3R5cGVzLmZpbmFsO1xuICAgIH1cbiAgICBjb25zdCB7aGFzRmFjZXR9ID0gc3RlcDtcbiAgICAvLyBjb2xsZWN0IHRoZSBzY2FsZSBvYmplY3RzIHRvIHNjYWxlIHRoZSBpbml0aWFsL2ZpbmFsIHZhbHVlc1xuICAgIGNvbnN0IHtzY2FsZXN9ID0gc3RlcDtcbiAgICBjb25zdCB7ZW5jb2Rlc30gPSBzdGVwO1xuICAgIGNvbnN0IHtzaWduYWxzfSA9IHN0ZXA7XG5cbiAgICBpZiAoaXNBZGQgfHwgIWlzQXJlYUxpbmVNYXJrdHlwZShtYXJrdHlwZXMuaW5pdGlhbCkpIHtcbiAgICAgIGlmIChoYXNGYWNldC5maW5hbCkge1xuICAgICAgICBjb25zdCBzaWIgPSBmaW5kQWZ0ZXJTaWJsaW5nKFxuICAgICAgICAgIGVWaWV3LnNjZW5lZ3JhcGgoKS5yb290LFxuICAgICAgICAgIGNoYW5nZS5maW5hbC5wYXJlbnQubmFtZVxuICAgICAgICApO1xuXG4gICAgICAgIGFkZE1hcmsoXG4gICAgICAgICAgZDMuc2VsZWN0KGAke2FuaW1WaXMgIH0gLiR7Y2hhbmdlLmZpbmFsLnBhcmVudC5wYXJlbnQubmFtZX0gPiBnID4gZ2ApLFxuICAgICAgICAgIGNoYW5nZS5maW5hbCxcbiAgICAgICAgICBzaWIgPyBgLiR7c2liLm5hbWV9YCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB7IGhhc0dyb3VwOiB0cnVlIH1cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNpYiA9IGZpbmRBZnRlclNpYmxpbmcoZVZpZXcuc2NlbmVncmFwaCgpLnJvb3QsIGNoYW5nZS5jb21wTmFtZSk7XG5cbiAgICAgICAgYWRkTWFyayhcbiAgICAgICAgICBkMy5zZWxlY3QoYCR7YW5pbVZpcyAgfSAuJHtjaGFuZ2UuZmluYWwucGFyZW50Lm5hbWV9ID4gZyA+IGdgKSxcbiAgICAgICAgICBjaGFuZ2UuZmluYWwsXG4gICAgICAgICAgc2liID8gYC4ke3NpYi5uYW1lfWAgOiB1bmRlZmluZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RlcC5lbnVtZXJhdG9yKSB7XG4gICAgICBsZXQgZmluYWxTY2FsZU5hbWVzID0gW107XG4gICAgICBpZiAoY2hhbmdlLnNjYWxlID09PSB0cnVlKSB7XG4gICAgICAgIGZpbmFsU2NhbGVOYW1lcyA9IE9iamVjdC5rZXlzKGVWaWV3Ll9ydW50aW1lLnNjYWxlcyk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hhbmdlLnNjYWxlKSkge1xuICAgICAgICBmaW5hbFNjYWxlTmFtZXMgPSBjaGFuZ2Uuc2NhbGU7XG4gICAgICB9XG5cblxuICAgICAgY29uc3Qge2VudW1lcmF0b3J9ID0gc3RlcDtcbiAgICAgIGNvbnN0IGdldFZhbHVlcyA9IHtcbiAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgaW5pdGlhbDogKGF0dHIsIGdldFNjYWxlcywgZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBmaW5hbFNjYWxlTmFtZXMsIGdldFNjYWxlcyk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbChcbiAgICAgICAgICAgICAgYXR0cixcbiAgICAgICAgICAgICAgZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWRTY2FsZXMuaW5pdGlhbCxcbiAgICAgICAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICAgICAgICBkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmluYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU2NhbGVzID0gY29tcHV0ZVNjYWxlKHNjYWxlcywgZmluYWxTY2FsZU5hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuZmluYWwudXBkYXRlLFxuICAgICAgICAgICAgICBjb21wdXRlZFNjYWxlcy5maW5hbCxcbiAgICAgICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICAgICAgZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGN1c3RvbTogKGF0dHIsIGdldFNjYWxlcywgZF9pLCBkX2YpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhaHREYXRhID0ge1xuICAgICAgICAgICAgICBpbml0aWFsOiBkX2kuaXRlbXNbMF0uaXRlbXNbMF0sXG4gICAgICAgICAgICAgIGZpbmFsOiBkX2YuaXRlbXNbMF0uaXRlbXNbMF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBudWFuY2VkQXR0ciA9IE9iamVjdC5hc3NpZ24oe30sIGF0dHIsIHtcbiAgICAgICAgICAgICAgaW50ZXJwb2xhdGVTdHlsZTogXCJ1cGRhdGVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIGZpbmFsU2NhbGVOYW1lcywgZ2V0U2NhbGVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwuYmluZCh0aGlzKShcbiAgICAgICAgICAgICAgY2hhbmdlLnNjYWxlID8gYXR0ciA6IG51YW5jZWRBdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmZpbmFsLnVwZGF0ZSxcbiAgICAgICAgICAgICAgY2hhbmdlLnNjYWxlID8gY29tcHV0ZWRTY2FsZXMgOiBjb21wdXRlZFNjYWxlcy5maW5hbCxcbiAgICAgICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICAgICAgcGFodERhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnRlcjoge1xuICAgICAgICAgIGluaXRpYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU2NhbGVzID0gY29tcHV0ZVNjYWxlKHNjYWxlcywgZmluYWxTY2FsZU5hbWVzLCBnZXRTY2FsZXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbChcbiAgICAgICAgICAgICAgYXR0cixcbiAgICAgICAgICAgICAgZW5jb2Rlcy5pbml0aWFsLmVudGVyLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJpbWFyeTogY29tcHV0ZWRTY2FsZXMuaW5pdGlhbCxcbiAgICAgICAgICAgICAgICBzZWNvbmRhcnk6IGNvbXB1dGVkU2NhbGVzLmZpbmFsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICAgICAgZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmFsOiAoYXR0ciwgZ2V0U2NhbGVzLCBkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIGZpbmFsU2NhbGVOYW1lcywgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsKFxuICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmZpbmFsLmVudGVyLFxuICAgICAgICAgICAgICBjb21wdXRlZFNjYWxlcy5maW5hbCxcbiAgICAgICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICAgICAgZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGN1c3RvbShhdHRyLCBnZXRTY2FsZXMsIGRfaSwgZF9mKXtcbiAgICAgICAgICAgIGxldCBwYWh0RGF0YSA9IHtcbiAgICAgICAgICAgICAgaW5pdGlhbDogY2hhbmdlLnNjYWxlID8gZF9mLml0ZW1zWzBdLml0ZW1zWzBdIDogeyBtYXJrOiB7IGl0ZW1zOltdIH0gfSxcbiAgICAgICAgICAgICAgZmluYWw6IGRfZi5pdGVtc1swXS5pdGVtc1swXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBudWFuY2VkQXR0ciA9IE9iamVjdC5hc3NpZ24oe30sIGF0dHIsIHtpbnRlcnBvbGF0ZVN0eWxlOiBcInVwZGF0ZVwifSk7XG4gICAgICAgICAgICBsZXQgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBmaW5hbFNjYWxlTmFtZXMsIGdldFNjYWxlcyk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsLmJpbmQodGhpcykoXG4gICAgICAgICAgICAgIGNoYW5nZS5zY2FsZSA/IGF0dHIgOiBudWFuY2VkQXR0cixcbiAgICAgICAgICAgICAgZW5jb2Rlcy5maW5hbC51cGRhdGUsXG4gICAgICAgICAgICAgIGNoYW5nZS5zY2FsZSA/IGNvbXB1dGVkU2NhbGVzIDogY29tcHV0ZWRTY2FsZXMuZmluYWwsXG4gICAgICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgICAgIHBhaHREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGV4aXQ6IHtcbiAgICAgICAgICBpbml0aWFsOiAoYXR0ciwgZ2V0U2NhbGVzLCBkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIGZpbmFsU2NhbGVOYW1lcywgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsKFxuICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmluaXRpYWwuZXhpdCxcbiAgICAgICAgICAgICAgY29tcHV0ZWRTY2FsZXMuaW5pdGlhbCxcbiAgICAgICAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICAgICAgICBkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmluYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU2NhbGVzID0gY29tcHV0ZVNjYWxlKHNjYWxlcywgZmluYWxTY2FsZU5hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuZmluYWwuZXhpdCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByaW1hcnk6IGNvbXB1dGVkU2NhbGVzLmZpbmFsLFxuICAgICAgICAgICAgICAgIHNlY29uZGFyeTogY29tcHV0ZWRTY2FsZXMuaW5pdGlhbFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAgICBkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY3VzdG9tOiAoYXR0ciwgZ2V0U2NhbGVzLCBkX2kpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhaHREYXRhID0ge1xuICAgICAgICAgICAgICBpbml0aWFsOiBkX2kuaXRlbXNbMF0uaXRlbXNbMF0sXG4gICAgICAgICAgICAgIGZpbmFsOiBjaGFuZ2Uuc2NhbGVcbiAgICAgICAgICAgICAgICA/IGRfaS5pdGVtc1swXS5pdGVtc1swXVxuICAgICAgICAgICAgICAgIDogeyBtYXJrOiB7IGl0ZW1zOiBbXSB9IH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU2NhbGVzID0gY29tcHV0ZVNjYWxlKHNjYWxlcywgZmluYWxTY2FsZU5hbWVzLCBnZXRTY2FsZXMpO1xuICAgICAgICAgICAgY29uc3QgbnVhbmNlZEF0dHIgPSBPYmplY3QuYXNzaWduKHt9LCBhdHRyLCB7XG4gICAgICAgICAgICAgIGludGVycG9sYXRlU3R5bGU6IFwidXBkYXRlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwuYmluZCh0aGlzKShcbiAgICAgICAgICAgICAgY2hhbmdlLnNjYWxlID8gYXR0ciA6IG51YW5jZWRBdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmZpbmFsLmV4aXQsXG4gICAgICAgICAgICAgIGNoYW5nZS5zY2FsZSA/IGNvbXB1dGVkU2NhbGVzIDogY29tcHV0ZWRTY2FsZXMuaW5pdGlhbCxcbiAgICAgICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICAgICAgcGFodERhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKGhhc0ZhY2V0LmluaXRpYWwgJiYgaGFzRmFjZXQuZmluYWwpIHtcbiAgICAgICAgLy8gYmluZCBhbGxLZXlzXG4gICAgICAgIGxldCBtYXJrR3MgPSBkM1xuICAgICAgICAgIC5zZWxlY3RBbGwoYW5pbVZpcyArIGAgLnJvbGUtc2NvcGUuJHtjaGFuZ2UuZmluYWwucGFyZW50Lm5hbWV9ID4gZ2ApXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIl9fc3ViXCIpO1xuICAgICAgICBtYXJrR3MgPSBkM1xuICAgICAgICAgIC5zZWxlY3QoYW5pbVZpcyArIGAgLnJvbGUtc2NvcGUuJHtjaGFuZ2UuZmluYWwucGFyZW50Lm5hbWV9YClcbiAgICAgICAgICAuc2VsZWN0QWxsKFwiLl9fc3ViXCIpO1xuICAgICAgICBtYXJrR3MgPSBtYXJrR3MuZGF0YShlbnVtZXJhdG9yLmFsbEtleXMsIGQgPT4gZCk7XG4gICAgICAgIG1hcmtHcy5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgIG1hcmtHcyA9IG1hcmtHcy5lbnRlcigpLmFwcGVuZChcImdcIik7XG4gICAgICAgIG1hcmtHcy5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJjbGFzc1wiLCBcImJhY2tncm91bmRcIik7XG5cbiAgICAgICAgLy8gYXBwZW5kIG1hcmsgbWFya1xuICAgICAgICBsZXQgbWFya3MgPSBtYXJrR3NcbiAgICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBgJHttYXJrdHlwZX0tbWFyayByb2xlLW1hcmsgJHtjaGFuZ2UuY29tcE5hbWV9YClcbiAgICAgICAgICAuYXBwZW5kKFwicGF0aFwiKTtcblxuICAgICAgICBjb25zdCBpbml0aWFsTWFya3MgPSBtYXJrcy5maWx0ZXIoXG4gICAgICAgICAgaWQgPT4gW1widXBkYXRlXCIsIFwiZXhpdFwiXS5pbmRleE9mKGVudW1lcmF0b3Iuc2V0KGlkLCAwKSkgPj0gMFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBhbGxQcm9wcyA9IE1BUktfQVRUUlNbbWFya3R5cGVdLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQocHJvcE1hcChwcm9wKSk7XG4gICAgICAgIH0sIFtdKTtcblxuICAgICAgICAvLyBpbml0XG4gICAgICAgIGFsbFByb3BzLmZvckVhY2gocCA9PiB7XG4gICAgICAgICAgaWYgKHAudHlwZSA9PT0gXCJhdHRyVHdlZW5cIikge1xuICAgICAgICAgICAgY29uc3QgdGVtcFAgPSBPYmplY3QuYXNzaWduKHt9LCBwLCB7IHR5cGU6IFwiYXR0clwiIH0pO1xuICAgICAgICAgICAgaW5pdGlhbE1hcmtzW3RlbXBQLnR5cGVdKGdldFN0eWxlKHRlbXBQLnZhbCksIGlkID0+XG4gICAgICAgICAgICAgIGVudW1lcmF0b3IuZ2V0UHJvcFZhbCh0ZW1wUCwgZ2V0VmFsdWVzLCAwLCBpZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluaXRpYWxNYXJrc1twLnR5cGVdKGdldFN0eWxlKHAudmFsKSwgaWQgPT5cbiAgICAgICAgICAgICAgZW51bWVyYXRvci5nZXRQcm9wVmFsKHAsIGdldFZhbHVlcywgMCwgaWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGltaW5ncyA9IGVudW1TdGVwQ29tcHV0ZVRpbWluZyhlbnVtZXJhdG9yLCBzdGVwLnRpbWluZyk7XG5cbiAgICAgICAgbWFya3MgPSBtYXJrcy50cmFuc2l0aW9uKCk7XG5cbiAgICAgICAgYWxsUHJvcHMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBpZiAocC50eXBlID09PSBcImF0dHJcIikge1xuICAgICAgICAgICAgbWFya3MuYXR0clR3ZWVuKHAudmFsLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIoXG4gICAgICAgICAgICAgICAgcCxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZXMsXG4gICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgICApKGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwLnR5cGUgPT09IFwiYXR0clR3ZWVuXCIpIHtcbiAgICAgICAgICAgIG1hcmtzLmF0dHJUd2VlbihwLnZhbCwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZW51bWVyYXRvci5pbnRlcnBvbGF0ZUFsb25nRW51bU1ha2VyKFxuICAgICAgICAgICAgICAgIHAsXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWVzLFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgKShkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcInRleHRcIikge1xuICAgICAgICAgICAgbWFya3MudHdlZW4oXCJ0ZXh0XCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dEludGVycG9sYXRvciA9IGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlcyxcbiAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICkoZCk7XG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSB0ZXh0SW50ZXJwb2xhdG9yKHQpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwLnR5cGUgPT09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgbWFya3Muc3R5bGVUd2VlbihnZXRTdHlsZShwLnZhbCksIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlcyxcbiAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICkoZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGludGVycG9sYXRlIHRoZW1cbiAgICAgICAgbWFya3NcbiAgICAgICAgICAuZHVyYXRpb24oKGQsIGkpID0+IHRpbWluZ3NbaV0uZHVyYXRpb24pXG4gICAgICAgICAgLmRlbGF5KChkLCBpKSA9PiB0aW1pbmdzW2ldLmRlbGF5KVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBkb25lKFwiYWxsXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKCFoYXNGYWNldC5pbml0aWFsICYmICFoYXNGYWNldC5maW5hbCkge1xuICAgICAgICBsZXQgbWFyayA9IGQzXG4gICAgICAgICAgLnNlbGVjdChhbmltVmlzICsgYCAubWFyay0ke21hcmt0eXBlfS5yb2xlLW1hcmsuJHtjaGFuZ2UuY29tcE5hbWV9YClcbiAgICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKTtcblxuICAgICAgICBtYXJrID0gbWFyay5kYXRhKGVudW1lcmF0b3IuYWxsS2V5cywgZCA9PiBkKTtcbiAgICAgICAgbWFyay5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgIG1hcmsgPSBtYXJrLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKTtcblxuICAgICAgICBjb25zdCBhbGxQcm9wcyA9IE1BUktfQVRUUlNbbWFya3R5cGVdLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQocHJvcE1hcChwcm9wKSk7XG4gICAgICAgIH0sIFtdKTtcblxuICAgICAgICAvLyBpbml0XG4gICAgICAgIGFsbFByb3BzLmZvckVhY2gocCA9PiB7XG4gICAgICAgICAgaWYgKHAudHlwZSA9PT0gXCJhdHRyVHdlZW5cIikge1xuICAgICAgICAgICAgY29uc3QgdGVtcFAgPSBPYmplY3QuYXNzaWduKHt9LCBwLCB7IHR5cGU6IFwiYXR0clwiIH0pO1xuICAgICAgICAgICAgbWFya1t0ZW1wUC50eXBlXShnZXRTdHlsZSh0ZW1wUC52YWwpLCBpZCA9PlxuICAgICAgICAgICAgICBlbnVtZXJhdG9yLmdldFByb3BWYWwodGVtcFAsIGdldFZhbHVlcywgMCwgaWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXJrW3AudHlwZV0oZ2V0U3R5bGUocC52YWwpLCBpZCA9PlxuICAgICAgICAgICAgICBlbnVtZXJhdG9yLmdldFByb3BWYWwocCwgZ2V0VmFsdWVzLCAwLCBpZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0aW1pbmdzID0gZW51bVN0ZXBDb21wdXRlVGltaW5nKGVudW1lcmF0b3IsIHN0ZXAudGltaW5nKTtcblxuICAgICAgICBtYXJrID0gbWFyay50cmFuc2l0aW9uKCk7XG5cbiAgICAgICAgYWxsUHJvcHMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBpZiAocC50eXBlID09PSBcImF0dHJcIikge1xuICAgICAgICAgICAgbWFyay5hdHRyVHdlZW4ocC52YWwsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlcyxcbiAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICkoZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gXCJhdHRyVHdlZW5cIikge1xuICAgICAgICAgICAgbWFyay5hdHRyVHdlZW4ocC52YWwsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlcyxcbiAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICkoZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIG1hcmsudHdlZW4oXCJ0ZXh0XCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dEludGVycG9sYXRvciA9IGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlcyxcbiAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICkoZCk7XG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSB0ZXh0SW50ZXJwb2xhdG9yKHQpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwLnR5cGUgPT09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgbWFyay5zdHlsZVR3ZWVuKGdldFN0eWxlKHAudmFsKSwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZW51bWVyYXRvci5pbnRlcnBvbGF0ZUFsb25nRW51bU1ha2VyKFxuICAgICAgICAgICAgICAgIHAsXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWVzLFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgKShkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaW50ZXJwb2xhdGUgdGhlbVxuICAgICAgICBtYXJrXG4gICAgICAgICAgLmR1cmF0aW9uKChkLCBpKSA9PiB0aW1pbmdzW2ldLmR1cmF0aW9uKVxuICAgICAgICAgIC5kZWxheSgoZCwgaSkgPT4gdGltaW5nc1tpXS5kZWxheSlcbiAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZG9uZShcImFsbFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWFya3R5cGVzLmluaXRpYWwgJiYgIWlzQXJlYUxpbmVNYXJrdHlwZShtYXJrdHlwZXMuaW5pdGlhbCkpIHtcbiAgICAgIC8vIHdoZW4gbWFya3R5cGUgY2hhbmdlcyBmcm9tIG90aGVyIG1hcmtzIHRvIGFyZWEvbGluZSBtYXJrXG5cbiAgICAgIGNvbnN0IHNldFR5cGUgPSBcImZpbmFsXCI7IGNvbnN0IG1hcmt0eXBlID0gbWFya3R5cGVzLmZpbmFsO1xuICAgICAgY29uc3QgcHJldkRhdGEgPSBkMy5sb2NhbCgpO1xuXG4gICAgICBpZiAoaGFzRmFjZXQuZmluYWwpIHtcbiAgICAgICAgY29uc3QgdGltaW5ncyA9IGNvbXB1dGVUaW1pbmcoXG4gICAgICAgICAgc3RlcC5ncm91cGVkRGF0YSxcbiAgICAgICAgICBzdGVwLm5leHREYXRhLFxuICAgICAgICAgIHN0ZXAudGltaW5nLFxuICAgICAgICAgIGpvaW5LZXksXG4gICAgICAgICAgam9pblNldFxuICAgICAgICApO1xuICAgICAgICBsZXQgbWFya0dzID0gZDMuc2VsZWN0QWxsKFxuICAgICAgICAgIGFuaW1WaXMgKyBgIC5yb2xlLXNjb3BlLiR7Y2hhbmdlLmZpbmFsLnBhcmVudC5uYW1lfSA+IGdgXG4gICAgICAgICk7XG4gICAgICAgIG1hcmtHcyA9IGQzXG4gICAgICAgICAgLnNlbGVjdChgJHthbmltVmlzICB9IC5yb2xlLXNjb3BlLiR7Y2hhbmdlLmZpbmFsLnBhcmVudC5uYW1lfWApXG4gICAgICAgICAgLnNlbGVjdEFsbChgLnJvbGUtc2NvcGUuJHtjaGFuZ2UuZmluYWwucGFyZW50Lm5hbWV9ID4gZ2ApXG4gICAgICAgICAgLmRhdGEoc3RlcC5ncm91cGVkRGF0YSwgKGQsIGkpID0+IGpvaW5LZXkoZCwgaSwgc2V0VHlwZSkpO1xuXG4gICAgICAgIC8vIGFwcGVuZCBncm91cCBtYXJrXG4gICAgICAgIGNvbnN0IGVudGVySUcgPSBtYXJrR3MuZW50ZXIoKS5hcHBlbmQoXCJnXCIpO1xuICAgICAgICBlbnRlcklHLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsIFwiYmFja2dyb3VuZFwiKTtcblxuICAgICAgICAvLyBhcHBlbmQgbWFyayBtYXJrXG4gICAgICAgIGNvbnN0IGVudGVySU1hcmsgPSBlbnRlcklHXG4gICAgICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgYG1hcmstJHttYXJrdHlwZX0gcm9sZS1tYXJrICR7Y2hhbmdlLmNvbXBOYW1lfWApXG4gICAgICAgICAgLmFwcGVuZChcInBhdGhcIik7XG5cbiAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgIGVudGVySU1hcmssXG4gICAgICAgICAgTUFSS19BVFRSU1ttYXJrdHlwZV0sXG4gICAgICAgICAgeyBwcmltYXJ5OiBzY2FsZXMuaW5pdGlhbCwgc2Vjb25kYXJ5OiBzY2FsZXMuZmluYWwgfSxcbiAgICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgICAgZW5jb2Rlcy5maW5hbC5pbnRlcm1lZGlhdGVcbiAgICAgICAgKTtcblxuICAgICAgICBtYXJrR3MgPSBkM1xuICAgICAgICAgIC5zZWxlY3QoYCR7YW5pbVZpcyAgfSAucm9sZS1zY29wZS4ke2NoYW5nZS5maW5hbC5wYXJlbnQubmFtZX1gKVxuICAgICAgICAgIC5zZWxlY3RBbGwoYC5yb2xlLXNjb3BlLiR7Y2hhbmdlLmZpbmFsLnBhcmVudC5uYW1lfSA+IGdgKTtcblxuICAgICAgICBtYXJrR3MuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgcHJldkRhdGEuc2V0KHRoaXMsIGQpO1xuICAgICAgICB9KTtcbiAgICAgICAgbWFya0dzID0gbWFya0dzLmRhdGEoc3RlcC5uZXh0RGF0YSwgKGQsIGkpID0+IGpvaW5LZXkoZCwgaSwgc2V0VHlwZSkpO1xuXG4gICAgICAgIHVwZGF0ZShcbiAgICAgICAgICB0aW1pbmdzLFxuICAgICAgICAgIG1hcmtHcyxcbiAgICAgICAgICBtYXJrdHlwZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbml0aWFsOiBlbmNvZGVzLmZpbmFsLmludGVybWVkaWF0ZSxcbiAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVzLmZpbmFsLnVwZGF0ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldkRhdGFcbiAgICAgICAgKTtcblxuICAgICAgICBlbnRlcih0aW1pbmdzLCBtYXJrR3MsIG1hcmt0eXBlKTtcblxuICAgICAgICBkb25lKFwiZXhpdFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG1hcmsgPSBkM1xuICAgICAgICAgIC5zZWxlY3QoYW5pbVZpcyArIGAgLm1hcmstJHttYXJrdHlwZX0ucm9sZS1tYXJrLiR7Y2hhbmdlLmNvbXBOYW1lfWApXG4gICAgICAgICAgLnNlbGVjdEFsbChcInBhdGhcIik7XG4gICAgICAgIG1hcmsgPSBtYXJrLmRhdGEoc3RlcC5ncm91cGVkRGF0YSk7XG5cbiAgICAgICAgY29uc3QgZW50ZXJJID0gbWFyay5lbnRlcigpLmFwcGVuZChcInBhdGhcIik7XG5cbiAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgIGVudGVySSxcbiAgICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlXSxcbiAgICAgICAgICB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9LFxuICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICBlbmNvZGVzLmZpbmFsLmludGVybWVkaWF0ZVxuICAgICAgICApO1xuXG4gICAgICAgIGxldCBlbnRlckYgPSBkM1xuICAgICAgICAgIC5zZWxlY3QoXG4gICAgICAgICAgICBhbmltVmlzICsgYCAubWFyay0ke21hcmt0eXBlcy5maW5hbH0ucm9sZS1tYXJrLiR7Y2hhbmdlLmNvbXBOYW1lfWBcbiAgICAgICAgICApXG4gICAgICAgICAgLnNlbGVjdEFsbChcInBhdGhcIik7XG4gICAgICAgIGVudGVyRi5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBwcmV2RGF0YS5zZXQodGhpcywgZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVudGVyRiA9IGVudGVyRi5kYXRhKHN0ZXAubmV4dERhdGEpLnRyYW5zaXRpb24oKTtcblxuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgZW50ZXJGLFxuICAgICAgICAgIE1BUktfQVRUUlNbbWFya3R5cGVzLmZpbmFsXSwgLy8gTUFSS19BVFRSU19EQVRBX0lOVEVSUE9MQVRFW21hcmt0eXBlXSxcbiAgICAgICAgICBzY2FsZXMsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICBlbmNvZGVzLmZpbmFsLnVwZGF0ZSxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuXG4gICAgICAgIGVudGVyRlxuICAgICAgICAgIC5kdXJhdGlvbihzdGVwLnRpbWluZy5kdXJhdGlvbilcbiAgICAgICAgICAuZGVsYXkoc3RlcC50aW1pbmcuZGVsYXkpXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGRvbmUoXCJhbGxcIiwgKCkgPT4ge3Jlc29sdmUoKTt9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWFya3R5cGVzLmZpbmFsICYmICFpc0FyZWFMaW5lTWFya3R5cGUobWFya3R5cGVzLmZpbmFsKSkge1xuICAgICAgLy8gd2hlbiBtYXJrdHlwZSBjaGFuZ2VzIGZyb20gYXJlYS9saW5lIHRvIHRoZSBvdGhlciBtYXJrdHlwZXNcbiAgICAgIC8vIGV4aXRcbiAgICAgIGNvbnN0IHRpbWluZ3MgPSBjb21wdXRlVGltaW5nKFxuICAgICAgICBzdGVwLmN1cnJEYXRhLFxuICAgICAgICBzdGVwLmdyb3VwZWREYXRhLFxuICAgICAgICBzdGVwLnRpbWluZyxcbiAgICAgICAgam9pbktleSxcbiAgICAgICAgam9pblNldFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHByZXZEYXRhID0gZDMubG9jYWwoKTtcbiAgICAgIGNvbnN0IHNldFR5cGUgPSBcImluaXRpYWxcIjsgY29uc3QgbWFya3R5cGUgPSBtYXJrdHlwZXMuaW5pdGlhbDtcbiAgICAgIGlmIChoYXNGYWNldC5pbml0aWFsKSB7XG4gICAgICAgIGxldCBtYXJrR3MgPSBkMy5zZWxlY3RBbGwoXG4gICAgICAgICAgYW5pbVZpcyArIGAgLnJvbGUtc2NvcGUuJHtjaGFuZ2UuaW5pdGlhbC5wYXJlbnQubmFtZX0gPiBnYFxuICAgICAgICApO1xuICAgICAgICBtYXJrR3MgPSBkM1xuICAgICAgICAgIC5zZWxlY3QoYCR7YW5pbVZpcyAgfSAucm9sZS1zY29wZS4ke2NoYW5nZS5pbml0aWFsLnBhcmVudC5uYW1lfWApXG4gICAgICAgICAgLnNlbGVjdEFsbChgLnJvbGUtc2NvcGUuJHtjaGFuZ2UuaW5pdGlhbC5wYXJlbnQubmFtZX0gPiBnYCk7XG5cbiAgICAgICAgbWFya0dzLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1hcmtHcyA9IG1hcmtHcy5kYXRhKHN0ZXAuZ3JvdXBlZERhdGEsIChkLCBpKSA9PlxuICAgICAgICAgIGpvaW5LZXkoZCwgaSwgc2V0VHlwZSlcbiAgICAgICAgKTtcblxuICAgICAgICBleGl0KFxuICAgICAgICAgIHRpbWluZ3MsXG4gICAgICAgICAgbWFya0dzLFxuICAgICAgICAgIG1hcmt0eXBlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGluaXRpYWw6IGVuY29kZXMuaW5pdGlhbC5leGl0LFxuICAgICAgICAgICAgZmluYWw6IGVuY29kZXMuZmluYWwuZXhpdFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldkRhdGEsXG4gICAgICAgICAgXCJpbml0aWFsXCJcbiAgICAgICAgKTtcblxuICAgICAgICB1cGRhdGUoXG4gICAgICAgICAgdGltaW5ncyxcbiAgICAgICAgICBtYXJrR3MsXG4gICAgICAgICAgbWFya3R5cGUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5pdGlhbDogZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZSxcbiAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVzLmluaXRpYWwuaW50ZXJtZWRpYXRlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuICAgICAgICBkb25lKFwiZW50ZXJcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBtYXJrID0gZDNcbiAgICAgICAgICAuc2VsZWN0KGFuaW1WaXMgKyBgIC5tYXJrLSR7bWFya3R5cGV9LnJvbGUtbWFyay4ke2NoYW5nZS5jb21wTmFtZX1gKVxuICAgICAgICAgIC5zZWxlY3RBbGwoXCJwYXRoXCIpO1xuICAgICAgICBtYXJrLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1hcmsgPSBtYXJrLmRhdGEoc3RlcC5ncm91cGVkRGF0YSkudHJhbnNpdGlvbigpO1xuICAgICAgICAvLyBmYWRlLW91dCBieSB0aGUgZXhpdCBlbmNvZGluZ1xuXG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBtYXJrLFxuICAgICAgICAgIE1BUktfQVRUUlNbbWFya3R5cGVdLFxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNjYWxlcywge1xuICAgICAgICAgICAgcHJpbWFyeTogc2NhbGVzLmZpbmFsLFxuICAgICAgICAgICAgc2Vjb25kYXJ5OiBzY2FsZXMuaW5pdGlhbFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5pdGlhbDogZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZSxcbiAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVzLmluaXRpYWwuaW50ZXJtZWRpYXRlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuXG4gICAgICAgIG1hcmtcbiAgICAgICAgICAuZHVyYXRpb24oc3RlcC5kdXJhdGlvbilcbiAgICAgICAgICAuZGVsYXkoc3RlcC5kZWxheSlcbiAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgLy8gLnJlbW92ZSgpXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb25lKFwiYWxsXCIsICgpID0+IHtyZXNvbHZlKCk7fSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoaXNSZW1vdmUgfHwgaGFzRmFjZXQuZmluYWwpICYmIChpc0FkZCB8fCBoYXNGYWNldC5pbml0aWFsKSkge1xuICAgICAgLy8gV2hlbiBhZGRpbmcgb3IgcmVtb3Zpbmcgb3IgY2hhbmdpbmcgbWFya3Mgd2l0aCBwYXRoR3JvdXBcbiAgICAgIGNvbnN0IHBhcmVudE5hbWUgPSBpc0FkZFxuICAgICAgICA/IGNoYW5nZS5maW5hbC5wYXJlbnQubmFtZVxuICAgICAgICA6IGlzUmVtb3ZlXG4gICAgICAgICAgPyBjaGFuZ2UuaW5pdGlhbC5wYXJlbnQubmFtZVxuICAgICAgICAgIDogY2hhbmdlLmluaXRpYWwudHlwZSA9PT0gbWFya3R5cGVzLmluaXRpYWxcbiAgICAgICAgICAgID8gY2hhbmdlLmluaXRpYWwucGFyZW50Lm5hbWVcbiAgICAgICAgICAgIDogY2hhbmdlLmZpbmFsLnBhcmVudC5uYW1lO1xuICAgICAgbGV0IG1hcmtHcyA9IGQzXG4gICAgICAgIC5zZWxlY3RBbGwoYW5pbVZpcyArIGAgLnJvbGUtc2NvcGUuJHtwYXJlbnROYW1lfSA+IGdgKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiX19zdWJcIik7XG5cbiAgICAgIG1hcmtHcyA9IGQzXG4gICAgICAgIC5zZWxlY3QoYW5pbVZpcyArIGAgLnJvbGUtc2NvcGUuJHtwYXJlbnROYW1lfWApXG4gICAgICAgIC5zZWxlY3RBbGwoXCIuX19zdWJcIik7XG4gICAgICBjb25zdCBwcmV2RGF0YSA9IGQzLmxvY2FsKCk7XG4gICAgICBtYXJrR3MuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNoYW5nZS5kYXRhIHx8IGlzQWRkIHx8IGlzUmVtb3ZlKSB7XG4gICAgICAgIG1hcmtHcyA9IG1hcmtHcy5kYXRhKHN0ZXAubmV4dERhdGEsIChkLCBpKSA9PiBqb2luS2V5KGQsIGkpKTtcbiAgICAgIH1cblxuICAgICAgLy8gZW50ZXJcbiAgICAgIC8vIGlmIChkb0VudGVyKSB7XG4gICAgICBlbnRlcih0aW1pbmdzLCBtYXJrR3MsIG1hcmt0eXBlcy5maW5hbCk7IC8vICwgZW5jb2Rlcy5pbml0aWFsLmVudGVyLCBlbmNvZGVzLmZpbmFsLmVudGVyLCBcImZpbmFsXCIpXG5cbiAgICAgIC8vIGV4aXRcbiAgICAgIC8vIGlmIChkb0V4aXQpIHtcbiAgICAgIGV4aXQoXG4gICAgICAgIHRpbWluZ3MsXG4gICAgICAgIG1hcmtHcyxcbiAgICAgICAgbWFya3R5cGVzLmluaXRpYWwsXG4gICAgICAgIHtcbiAgICAgICAgICBpbml0aWFsOiBlbmNvZGVzLmluaXRpYWwuZXhpdCxcbiAgICAgICAgICBmaW5hbDogZW5jb2Rlcy5maW5hbC5leGl0XG4gICAgICAgIH0sXG4gICAgICAgIHByZXZEYXRhLFxuICAgICAgICBcImluaXRpYWxcIlxuICAgICAgKTtcblxuICAgICAgLy8gZmluYWxpemUgdXBkYXRlXG4gICAgICAvLyBpZiAoZG9VcGRhdGUpIHtcblxuICAgICAgdXBkYXRlKFxuICAgICAgICB0aW1pbmdzLFxuICAgICAgICBtYXJrR3MsXG4gICAgICAgIG1hcmt0eXBlcyxcbiAgICAgICAge1xuICAgICAgICAgIGluaXRpYWw6IGVuY29kZXMuaW5pdGlhbC51cGRhdGUsXG4gICAgICAgICAgZmluYWw6IGVuY29kZXMuZmluYWwudXBkYXRlXG4gICAgICAgIH0sXG4gICAgICAgIHByZXZEYXRhXG4gICAgICApO1xuXG4gICAgfSBlbHNlIGlmICgoaXNSZW1vdmUgfHwgIWhhc0ZhY2V0LmZpbmFsKSAmJiAoaXNBZGQgfHwgIWhhc0ZhY2V0LmluaXRpYWwpKSB7XG4gICAgICAvLyBXaGVuIGFkZGluZyBvciByZW1vdmluZyBvciB1cGRhdGluZyBhIHNpbmdsZSBtYXJrIHdpdGhvdXQgcGF0aGdyb3VwXG5cbiAgICAgIGNvbnN0IG1hcmtHID0gZDMuc2VsZWN0KFxuICAgICAgICBhbmltVmlzICsgYCAubWFyay0ke21hcmt0eXBlcy5pbml0aWFsfS5yb2xlLW1hcmsuJHtjaGFuZ2UuY29tcE5hbWV9YFxuICAgICAgKTtcbiAgICAgIGxldCBtYXJrID0gbWFya0cuc2VsZWN0QWxsKFwicGF0aFwiKTtcbiAgICAgIGNvbnN0IHByZXZEYXRhID0gZDMubG9jYWwoKTtcbiAgICAgIG1hcmsuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNoYW5nZS5kYXRhIHx8IGlzQWRkIHx8IGlzUmVtb3ZlKSB7XG4gICAgICAgIG1hcmsgPSBtYXJrLmRhdGEoc3RlcC5uZXh0RGF0YSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGVudGVyXG5cbiAgICAgIGNvbnN0IGVudGVySSA9IG1hcmsuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpO1xuXG4gICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgIGVudGVySSxcbiAgICAgICAgTUFSS19BVFRSU1ttYXJrdHlwZV0sXG4gICAgICAgIHsgcHJpbWFyeTogc2NhbGVzLmluaXRpYWwsIHNlY29uZGFyeTogc2NhbGVzLmZpbmFsIH0sXG4gICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgZW5jb2Rlcy5pbml0aWFsLmVudGVyXG4gICAgICApO1xuICAgICAgaWYgKGVudGVySS5kYXRhKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgZW50ZXJGID0gZW50ZXJJLnRyYW5zaXRpb24oKTtcblxuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgZW50ZXJGLFxuICAgICAgICAgIE1BUktfQVRUUlNbbWFya3R5cGVdLCAvLyBNQVJLX0FUVFJTX0RBVEFfSU5URVJQT0xBVEVbbWFya3R5cGVdLFxuICAgICAgICAgIHNjYWxlcy5maW5hbCxcbiAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgIGVuY29kZXMuZmluYWwuZW50ZXJcbiAgICAgICAgKTtcblxuICAgICAgICBlbnRlckZcbiAgICAgICAgICAuZHVyYXRpb24oc3RlcC50aW1pbmcuZHVyYXRpb24pXG4gICAgICAgICAgLmRlbGF5KHN0ZXAudGltaW5nLmRlbGF5KVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBkb25lKFwiZW50ZXJcIiwgKCkgPT4ge3Jlc29sdmUoKTt9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoXCJlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuXG4gICAgICAvLyBleGl0XG5cbiAgICAgIC8vIGluaXRpYXRlIGV4aXRcbiAgICAgIGNvbnN0IGV4aXRJID0gbWFyay5leGl0KCk7XG5cbiAgICAgIGlmIChleGl0SS5kYXRhKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBmaW5hbGl6ZSBleGl0XG4gICAgICAgIGNvbnN0IGV4aXRGID0gZXhpdEkudHJhbnNpdGlvbigpO1xuXG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBleGl0RixcbiAgICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlXSwgLy8gTUFSS19BVFRSU19EQVRBX0lOVEVSUE9MQVRFW21hcmt0eXBlXSxcbiAgICAgICAgICB7IHByaW1hcnk6IHNjYWxlcy5maW5hbCwgc2Vjb25kYXJ5OiBzY2FsZXMuaW5pdGlhbCB9LFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgZW5jb2Rlcy5maW5hbC5leGl0XG4gICAgICAgICk7XG5cbiAgICAgICAgZXhpdEZcbiAgICAgICAgICAuZHVyYXRpb24oKGQsIGkpID0+IHN0ZXAudGltaW5nLmR1cmF0aW9uKVxuICAgICAgICAgIC5kZWxheSgoZCwgaSkgPT4gc3RlcC50aW1pbmcuZGVsYXkpXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZG9uZShcImV4aXRcIiwgKCkgPT4ge3Jlc29sdmUoKTt9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoXCJleGl0XCIsICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG5cbiAgICAgIC8vIGZpbmFsaXplIHVwZGF0ZVxuXG4gICAgICBpZiAobWFyay5kYXRhKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAobWFya3R5cGVzLmluaXRpYWwgIT09IG1hcmt0eXBlcy5maW5hbCkge1xuICAgICAgICAgIG1hcmtHLmNsYXNzZWQoYG1hcmstJHttYXJrdHlwZXMuaW5pdGlhbH1gLCBmYWxzZSk7XG4gICAgICAgICAgbWFya0cuY2xhc3NlZChgbWFyay0ke21hcmt0eXBlcy5maW5hbH1gLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVwZGF0ZUYgPSBtYXJrLnRyYW5zaXRpb24oKTtcblxuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgdXBkYXRlRixcbiAgICAgICAgICBnZXRQcm9wKG1hcmt0eXBlcyksXG4gICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5pdGlhbDogZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZSxcbiAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVzLmZpbmFsLnVwZGF0ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJldkRhdGFcbiAgICAgICAgKTtcbiAgICAgICAgdXBkYXRlRlxuICAgICAgICAgIC5kdXJhdGlvbihzdGVwLnRpbWluZy5kdXJhdGlvbilcbiAgICAgICAgICAuZGVsYXkoc3RlcC50aW1pbmcuZGVsYXkpXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGRvbmUoXCJ1cGRhdGVcIiwgKCkgPT4ge3Jlc29sdmUoKTt9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoXCJ1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cblxuICAgIH0gZWxzZSBpZiAoIWhhc0ZhY2V0LmluaXRpYWwgJiYgaGFzRmFjZXQuZmluYWwpIHtcbiAgICAgIC8vIHNpbmdsZSBtYXJrIHdpdGhvdXQgcGF0aGdyb3VwIC0+IG1hcmtzIHdpdGggcGF0aGdyb3VwXG4gICAgICBjb25zdCBwcmV2RGF0YSA9IGQzLmxvY2FsKCk7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgc2luZ2xlIGFyZWFcbiAgICAgIGxldCBleGl0TWFyayA9IGQzXG4gICAgICAgIC5zZWxlY3QoXG4gICAgICAgICAgYW5pbVZpcyArIGAgLm1hcmstJHttYXJrdHlwZXMuaW5pdGlhbH0ucm9sZS1tYXJrLiR7Y2hhbmdlLmNvbXBOYW1lfWBcbiAgICAgICAgKVxuICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKTtcbiAgICAgIGV4aXRNYXJrID0gZXhpdE1hcmtcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRyYW5zaXRpb24oKTtcblxuICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICBleGl0TWFyayxcbiAgICAgICAgTUFSS19BVFRSU1ttYXJrdHlwZXMuaW5pdGlhbF0sIC8vIE1BUktfQVRUUlNfREFUQV9JTlRFUlBPTEFURVttYXJrdHlwZXMuaW5pdGlhbF0sXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNjYWxlcywge1xuICAgICAgICAgIHByaW1hcnk6IHNjYWxlcy5maW5hbCxcbiAgICAgICAgICBzZWNvbmRhcnk6IHNjYWxlcy5pbml0aWFsXG4gICAgICAgIH0pLFxuICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBlbmNvZGVzLmluaXRpYWwuZXhpdCwgeyBvcGFjaXR5OiB7IHZhbHVlOiAwIH0gfSksXG4gICAgICAgIHByZXZEYXRhXG4gICAgICApO1xuXG4gICAgICBleGl0TWFya1xuICAgICAgICAuZHVyYXRpb24oKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuc2V0ID09PSBcImV4aXRcIikuZHVyYXRpb24pXG4gICAgICAgIC5kZWxheSgoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5zZXQgPT09IFwiZXhpdFwiKS5kZWxheSlcbiAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAucmVtb3ZlKClcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGQzLnNlbGVjdChgJHthbmltVmlzICB9IC5tYXJrLSR7bWFya3R5cGVzLmluaXRpYWx9LnJvbGUtbWFyay4ke2NoYW5nZS5jb21wTmFtZX1gKS5yZW1vdmUoKTtcbiAgICAgICAgICBkb25lKFwiZXhpdFwiLCAoKSA9PiB7cmVzb2x2ZSgpO30pO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gQWRkIHBhdGhncm91cCB3aXRoIG1hcmtzXG4gICAgICBjb25zdCB7cGFyZW50fSA9IGNoYW5nZS5maW5hbDtcbiAgICAgIGNvbnN0IHNpYiA9IGZpbmRBZnRlclNpYmxpbmcoZVZpZXcuc2NlbmVncmFwaCgpLnJvb3QsIHBhcmVudC5uYW1lKTtcblxuICAgICAgYWRkTWFyayhcbiAgICAgICAgZDMuc2VsZWN0KGAke2FuaW1WaXMgIH0gLiR7cGFyZW50LnBhcmVudC5uYW1lfSA+IGcgPiBnYCksXG4gICAgICAgIGNoYW5nZS5maW5hbCxcbiAgICAgICAgc2liID8gYC4ke3NpYi5uYW1lfWAgOiB1bmRlZmluZWQsXG4gICAgICAgIHsgaGFzR3JvdXA6IHRydWUgfVxuICAgICAgKTtcblxuICAgICAgY29uc3QgbWFya0dzID0gZDNcbiAgICAgICAgLnNlbGVjdChhbmltVmlzICsgYCAucm9sZS1zY29wZS4ke3BhcmVudC5uYW1lfWApXG4gICAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgICAgIC5kYXRhKHN0ZXAubmV4dERhdGEpO1xuXG4gICAgICAvLyBhcHBlbmQgZ3JvdXAgbWFya1xuICAgICAgY29uc3QgZW50ZXJJRyA9IG1hcmtHcy5lbnRlcigpLmFwcGVuZChcImdcIik7XG4gICAgICBlbnRlcklHLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsIFwiYmFja2dyb3VuZFwiKTtcbiAgICAgIC8vIGQgKHJlY3QpXG4gICAgICAvLyBmaWxsIChub25lKVxuXG4gICAgICAvLyBhcHBlbmQgbWFyayBtYXJrXG4gICAgICBjb25zdCBlbnRlcklNYXJrID0gZW50ZXJJR1xuICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIGAke21hcmt0eXBlcy5maW5hbH0tbWFyayByb2xlLW1hcmsgJHtjaGFuZ2UuY29tcE5hbWV9YClcbiAgICAgICAgLmFwcGVuZChcInBhdGhcIik7XG5cbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZW50ZXJJTWFyayxcbiAgICAgICAgTUFSS19BVFRSU1ttYXJrdHlwZXMuZmluYWxdLFxuICAgICAgICB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9LFxuICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGVuY29kZXMuZmluYWwuZW50ZXIsIHsgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0pXG4gICAgICAgIC8vIGVuY29kZXMuaW5pdGlhbC5lbnRlclxuICAgICAgKTtcblxuICAgICAgY29uc3QgZW50ZXJGTWFyayA9IGVudGVySU1hcmtcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRyYW5zaXRpb24oKTtcblxuICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICBlbnRlckZNYXJrLFxuICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlcy5maW5hbF0sXG4gICAgICAgIHNjYWxlcyxcbiAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgZW5jb2Rlcy5maW5hbC5lbnRlcixcbiAgICAgICAgcHJldkRhdGFcbiAgICAgICk7XG5cbiAgICAgIGVudGVyRk1hcmtcbiAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgIChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIFwiZmluYWxcIikpLmR1cmF0aW9uXG4gICAgICAgIClcbiAgICAgICAgLmRlbGF5KFxuICAgICAgICAgIChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIFwiZmluYWxcIikpLmRlbGF5XG4gICAgICAgIClcbiAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAuZW5kKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGRvbmUoXCJlbnRlclwiLCAoKSA9PiB7cmVzb2x2ZSgpO30pO1xuICAgICAgICB9KTtcbiAgICAgIGRvbmUoXCJ1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGhhc0ZhY2V0LmluaXRpYWwgJiYgIWhhc0ZhY2V0LmZpbmFsKSB7XG4gICAgICAvLyBtYXJrcyB3aXRoIHBhdGhncm91cCAtPiBzaW5nbGUgbWFyayB3aXRob3V0IHBhdGhncm91cFxuXG4gICAgICBjb25zdCB7cGFyZW50fSA9IGNoYW5nZS5pbml0aWFsLFxuICAgICAgICBwcmV2RGF0YSA9IGQzLmxvY2FsKCk7XG4gICAgICAvLyBSZW1vdmUgdGhlIHBhdGhncm91cCBhbmQgdGhlIG1hcmtzXG5cbiAgICAgIGxldCBleGl0TWFya3MgPSBkM1xuICAgICAgICAuc2VsZWN0KGFuaW1WaXMgKyBgIC5yb2xlLXNjb3BlLiR7cGFyZW50Lm5hbWV9YClcbiAgICAgICAgLnNlbGVjdEFsbChgIC5yb2xlLXNjb3BlLiR7cGFyZW50Lm5hbWV9ID4gZ2ApXG4gICAgICAgIC5kYXRhKHN0ZXAuY3VyckRhdGEpXG4gICAgICAgIC5zZWxlY3QoYC4ke2NoYW5nZS5jb21wTmFtZX0gPiBwYXRoYClcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGV4aXRNYXJrcyA9IGV4aXRNYXJrcy50cmFuc2l0aW9uKCk7XG5cbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZXhpdE1hcmtzLFxuICAgICAgICAvLyBNQVJLX0FUVFJTX0RBVEFfSU5URVJQT0xBVEVbbWFya3R5cGVdLFxuICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlcy5pbml0aWFsXSxcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2NhbGVzLCB7XG4gICAgICAgICAgcHJpbWFyeTogc2NhbGVzLmZpbmFsLFxuICAgICAgICAgIHNlY29uZGFyeTogc2NhbGVzLmluaXRpYWxcbiAgICAgICAgfSksXG4gICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGVuY29kZXMuaW5pdGlhbC5leGl0LCB7IG9wYWNpdHk6IHsgdmFsdWU6IDAgfSB9KSxcbiAgICAgICAgcHJldkRhdGFcbiAgICAgICk7XG5cbiAgICAgIGV4aXRNYXJrc1xuICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIFwiaW5pdGlhbFwiKSkuZHVyYXRpb25cbiAgICAgICAgKVxuICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJpbml0aWFsXCIpKS5kZWxheVxuICAgICAgICApXG4gICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgLnJlbW92ZSgpXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBkb25lKFwiZXhpdFwiLCAoKSA9PiB7cmVzb2x2ZSgpO30pO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gQWRkIHRoZSBzaW5nbGUgYXJlYVxuICAgICAgY29uc3Qgc2liID0gZmluZEFmdGVyU2libGluZyhlVmlldy5zY2VuZWdyYXBoKCkucm9vdCwgY2hhbmdlLmNvbXBOYW1lKTtcblxuICAgICAgbGV0IGVudGVySU1hcmsgPSBhZGRNYXJrKFxuICAgICAgICBkMy5zZWxlY3QoYCR7YW5pbVZpcyAgfSAuJHtjaGFuZ2UuZmluYWwucGFyZW50Lm5hbWV9ID4gZyA+IGdgKSxcbiAgICAgICAgY2hhbmdlLmZpbmFsLFxuICAgICAgICBzaWIgPyBgLiR7c2liLm5hbWV9YCA6IHVuZGVmaW5lZFxuICAgICAgKTtcblxuICAgICAgZW50ZXJJTWFyayA9IGVudGVySU1hcmtcbiAgICAgICAgLnNlbGVjdEFsbChcInBhdGhcIilcbiAgICAgICAgLmRhdGEoc3RlcC5uZXh0RGF0YSlcbiAgICAgICAgLmVudGVyKClcbiAgICAgICAgLmFwcGVuZChcInBhdGhcIik7XG5cbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZW50ZXJJTWFyayxcbiAgICAgICAgTUFSS19BVFRSU1ttYXJrdHlwZXMuZmluYWxdLFxuICAgICAgICB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9LFxuICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGVuY29kZXMuZmluYWwuZW50ZXIsIHsgb3BhY2l0eTogeyB2YWx1ZTogMCB9IH0pXG4gICAgICApO1xuXG4gICAgICBlbnRlcklNYXJrLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICBwcmV2RGF0YS5zZXQodGhpcywgZCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGVudGVyRiA9IGVudGVySU1hcmsudHJhbnNpdGlvbigpO1xuXG4gICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgIGVudGVyRixcbiAgICAgICAgTUFSS19BVFRSU1ttYXJrdHlwZXMuZmluYWxdLFxuICAgICAgICBzY2FsZXMsXG4gICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgIGVuY29kZXMuZmluYWwuZW50ZXIsXG4gICAgICAgIHByZXZEYXRhXG4gICAgICApO1xuXG4gICAgICBlbnRlckZcbiAgICAgICAgLmR1cmF0aW9uKChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LnNldCA9PT0gXCJlbnRlclwiKS5kdXJhdGlvbilcbiAgICAgICAgLmRlbGF5KChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LnNldCA9PT0gXCJlbnRlclwiKS5kZWxheSlcbiAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAuZW5kKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGRvbmUoXCJlbnRlclwiLCAoKSA9PiB7cmVzb2x2ZSgpO30pO1xuICAgICAgICB9KTtcbiAgICAgIGRvbmUoXCJ1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQcm9wKG1hcmt0eXBlcykge1xuICAgICAgY29uc3QgbWFya3R5cGUgPVxuICAgICAgICB0eXBlb2YgbWFya3R5cGVzID09PSBcInN0cmluZ1wiID8gbWFya3R5cGVzIDogbWFya3R5cGVzLmZpbmFsO1xuICAgICAgY29uc3QgcHJvcHMgPSBjaGFuZ2UuZGF0YSAmJiAoaXNMaW5lYXJNYXJrdHlwZShtYXJrdHlwZSkpID9cbiAgICAgICAgTUFSS19BVFRSU19EQVRBX0lOVEVSUE9MQVRFW21hcmt0eXBlXSA6XG4gICAgICAgIE1BUktfQVRUUlNbbWFya3R5cGVdO1xuICAgICAgaWYgKFxuICAgICAgICBpc0FyZWFMaW5lTWFya3R5cGUobWFya3R5cGVzLmluaXRpYWwpICYmXG4gICAgICAgIGlzQXJlYUxpbmVNYXJrdHlwZShtYXJrdHlwZXMuZmluYWwpICYmXG4gICAgICAgIG1hcmt0eXBlcy5maW5hbCAhPT0gbWFya3R5cGVzLmluaXRpYWxcbiAgICAgICkge1xuICAgICAgICBwcm9wc1swXS50d2Vha3MucHVzaCh7XG4gICAgICAgICAgdHlwZTogXCJhdHRyVHdlZW5cIixcbiAgICAgICAgICB2YWw6IFwiZFwiLFxuICAgICAgICAgIGluaXRpYWxNYXJrdHlwZTogbWFya3R5cGVzLmluaXRpYWwsXG4gICAgICAgICAgaW50ZXJwb2xhdGVTdHlsZTogXCJ1cGRhdGVcIlxuICAgICAgICB9KTtcbiAgICAgICAgcHJvcHNbMF0udHdlYWtzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwic3R5bGVcIixcbiAgICAgICAgICB2YWw6IFwiZmlsbFwiLFxuICAgICAgICAgIGluaXRpYWxNYXJrdHlwZTogbWFya3R5cGVzLmluaXRpYWwsXG4gICAgICAgICAgYXNUd2VlbjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcHJvcHNbMF0udHdlYWtzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFwic3R5bGVcIixcbiAgICAgICAgICB2YWw6IFwic3Ryb2tlXCIsXG4gICAgICAgICAgaW5pdGlhbE1hcmt0eXBlOiBtYXJrdHlwZXMuaW5pdGlhbFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZXhpdChcbiAgICAgIHRpbWluZ3MsXG4gICAgICBtYXJrR3MsXG4gICAgICBtYXJrdHlwZSxcbiAgICAgIGVuY29kZXMsXG4gICAgICBwcmV2RGF0YSxcbiAgICAgIHNldFR5cGUsXG4gICAgICBpc0FsbERvbmUgPSBmYWxzZVxuICAgICkge1xuICAgICAgLy8gaW5pdGlhdGUgZXhpdFxuICAgICAgbGV0IGV4aXRJID0gbWFya0dzLmV4aXQoKTtcblxuICAgICAgLy8gSWYgdGhleSBhcmUgYWxyZWFkeSBlbnRlcmVkLFxuICAgICAgaWYgKGV4aXRJLmRhdGEoKS5sZW5ndGggPT09IDAgfHwgIShjaGFuZ2UuZGF0YSB8fCBpc0FkZCB8fCBpc1JlbW92ZSkpIHtcbiAgICAgICAgZXhpdEkgPSBtYXJrR3MuZmlsdGVyKGQgPT4gam9pblNldChkKSA9PT0gXCJleGl0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGV4aXRJLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGV4aXRJTWFyayA9IGV4aXRJLnNlbGVjdChgLiR7Y2hhbmdlLmNvbXBOYW1lfSA+IHBhdGhgKTtcblxuICAgICAgICAvLyBmaW5hbGl6ZSBleGl0XG4gICAgICAgIGNvbnN0IGV4aXRGTWFyayA9IGV4aXRJTWFyay50cmFuc2l0aW9uKCk7XG5cbiAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgIGV4aXRGTWFyayxcbiAgICAgICAgICBNQVJLX0FUVFJTW21hcmt0eXBlXSxcbiAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzY2FsZXMsIHtcbiAgICAgICAgICAgIHByaW1hcnk6IHNjYWxlcy5maW5hbCxcbiAgICAgICAgICAgIHNlY29uZGFyeTogc2NhbGVzLmluaXRpYWxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgIGVuY29kZXMsXG4gICAgICAgICAgcHJldkRhdGFcbiAgICAgICAgKTtcblxuICAgICAgICBleGl0Rk1hcmtcbiAgICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgICAgdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBzZXRUeXBlKSkuZHVyYXRpb25cbiAgICAgICAgICApXG4gICAgICAgICAgLmRlbGF5KFxuICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgc2V0VHlwZSkpLmRlbGF5XG4gICAgICAgICAgKVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAucmVtb3ZlKClcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4aXRJLnJlbW92ZSgpO1xuICAgICAgICAgICAgZG9uZShpc0FsbERvbmUgPyBcImFsbFwiIDogXCJleGl0XCIsICgpID0+IHtyZXNvbHZlKCk7fSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKGlzQWxsRG9uZSA/IFwiYWxsXCIgOiBcImV4aXRcIiwgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZSh0aW1pbmdzLCBtYXJrR3MsIG1hcmt0eXBlcywgZW5jb2RlcywgcHJldkRhdGEpIHtcbiAgICAgIGxldCB1cGRhdGVGID0gbWFya0dzLmZpbHRlcihkID0+IGpvaW5TZXQoZCkgPT09IFwidXBkYXRlXCIpO1xuXG4gICAgICBpZiAoY2hhbmdlLmRhdGEgPT09IGZhbHNlICYmIHVwZGF0ZUYuZGF0YSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB1cGRhdGVGID0gbWFya0dzO1xuICAgICAgfVxuICAgICAgbGV0IHVwZGF0ZUZNYXJrID0gdXBkYXRlRi5zZWxlY3QoYC4ke2NoYW5nZS5jb21wTmFtZX1gKTtcbiAgICAgIGlmIChtYXJrdHlwZXMuaW5pdGlhbCAhPT0gbWFya3R5cGVzLmZpbmFsKSB7XG4gICAgICAgIHVwZGF0ZUZNYXJrLmNsYXNzZWQoYG1hcmstJHttYXJrdHlwZXMuaW5pdGlhbH1gLCBmYWxzZSk7XG4gICAgICAgIHVwZGF0ZUZNYXJrLmNsYXNzZWQoYG1hcmstJHttYXJrdHlwZXMuZmluYWx9YCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICB1cGRhdGVGTWFyayA9IHVwZGF0ZUZNYXJrLnNlbGVjdChcInBhdGhcIik7XG4gICAgICBpZiAodXBkYXRlRk1hcmsuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlRk1hcmsgPSB1cGRhdGVGTWFyay50cmFuc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHByb3BzID0gZ2V0UHJvcChtYXJrdHlwZXMpO1xuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgdXBkYXRlRk1hcmssXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgLy8gY2hhbmdlLmRhdGEgPyBNQVJLX0FUVFJTX0RBVEFfSU5URVJQT0xBVEVbbWFya3R5cGVdIDogTUFSS19BVFRSU1ttYXJrdHlwZV0sXG4gICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgZW5jb2RlcyxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuICAgICAgICB1cGRhdGVGTWFya1xuICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgIChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGkpKS5kdXJhdGlvblxuICAgICAgICAgIClcbiAgICAgICAgICAuZGVsYXkoKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSkpLmRlbGF5KVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBkb25lKFwidXBkYXRlXCIsICgpID0+IHtyZXNvbHZlKCk7fSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKFwidXBkYXRlXCIsICgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRlcihcbiAgICAgIHRpbWluZ3MsXG4gICAgICBtYXJrR3MsXG4gICAgICBtYXJrdHlwZSxcbiAgICAgIGVuY29kZUluaXRpYWwgPSBlbmNvZGVzLmluaXRpYWwuZW50ZXIsXG4gICAgICBlbmNvZGUgPSBlbmNvZGVzLmZpbmFsLmVudGVyXG4gICAgKSB7XG4gICAgICAvLyBhcHBlbmQgZ3JvdXAgbWFya1xuICAgICAgY29uc3QgZW50ZXJJRyA9IG1hcmtHcy5lbnRlcigpLmFwcGVuZChcImdcIik7XG4gICAgICBlbnRlcklHLmFwcGVuZChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsIFwiYmFja2dyb3VuZFwiKTtcblxuICAgICAgLy8gYXBwZW5kIG1hcmsgbWFya1xuICAgICAgbGV0IGVudGVySU1hcmsgPSBlbnRlcklHXG4gICAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgYG1hcmstJHttYXJrdHlwZX0gcm9sZS1tYXJrICR7Y2hhbmdlLmNvbXBOYW1lfWApXG4gICAgICAgIC5hcHBlbmQoXCJwYXRoXCIpO1xuXG4gICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgIGVudGVySU1hcmssXG4gICAgICAgIE1BUktfQVRUUlNbbWFya3R5cGVdLFxuICAgICAgICB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9LFxuICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgIGVuY29kZUluaXRpYWxcbiAgICAgICk7XG5cbiAgICAgIC8vIElmIHRoZXkgYXJlIGFscmVhZHkgZW50ZXJlZCxcbiAgICAgIGlmIChlbnRlcklHLmRhdGEoKS5sZW5ndGggPT09IDAgfHwgIShjaGFuZ2UuZGF0YSB8fCBpc0FkZCB8fCBpc1JlbW92ZSkpIHtcbiAgICAgICAgZW50ZXJJTWFyayA9IG1hcmtHc1xuICAgICAgICAgIC5maWx0ZXIoZCA9PiBqb2luU2V0KGQpID09PSBcImVudGVyXCIpXG4gICAgICAgICAgLnNlbGVjdEFsbChgLiR7Y2hhbmdlLmNvbXBOYW1lfSA+IHBhdGhgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudGVySU1hcmsuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcHJldkRhdGEgPSBkMy5sb2NhbCgpO1xuICAgICAgICBlbnRlcklNYXJrLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHByZXZEYXRhLnNldCh0aGlzLCBkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGVudGVyRk1hcmsgPSBlbnRlcklNYXJrLnRyYW5zaXRpb24oKTtcblxuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgZW50ZXJGTWFyayxcbiAgICAgICAgICAvLyBNQVJLX0FUVFJTX0RBVEFfSU5URVJQT0xBVEVbbWFya3R5cGVdLFxuICAgICAgICAgIE1BUktfQVRUUlNbbWFya3R5cGVdLFxuICAgICAgICAgIHNjYWxlcyxcbiAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgIGVuY29kZSxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuXG4gICAgICAgIGVudGVyRk1hcmtcbiAgICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgICAgdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBcImZpbmFsXCIpKS5kdXJhdGlvblxuICAgICAgICAgIClcbiAgICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgICAoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBcImZpbmFsXCIpKS5kZWxheVxuICAgICAgICAgIClcbiAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZG9uZShcImVudGVyXCIsICgpID0+IHtyZXNvbHZlKCk7fSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKFwiZW50ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxufVxuZnVuY3Rpb24gYWRkTWFyayAoZDNTZWxlY3Rpb24sIGNvbXBTcGVjLCBiZWZvcmUsIG9wdCA9IHt9KSB7XG4gIGlmIChvcHQuaGFzR3JvdXApIHtcbiAgICByZXR1cm4gZDNTZWxlY3Rpb24uaW5zZXJ0KFwiZ1wiLCBiZWZvcmUpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIGBtYXJrLWdyb3VwIHJvbGUtc2NvcGUgJHtjb21wU3BlYy5wYXJlbnQubmFtZX1gKTtcbiAgfVxuICByZXR1cm4gZDNTZWxlY3Rpb24uaW5zZXJ0KFwiZ1wiLCBiZWZvcmUpXG4gICAgLmF0dHIoXCJjbGFzc1wiLCBgbWFyay0ke2NvbXBTcGVjLnR5cGV9IHJvbGUtbWFyayAke2NvbXBTcGVjLm5hbWV9YCk7XG5cbn1cblxuZXhwb3J0IHsgYXJlYUxpbmVJbnRlcnBvbGF0ZSB9O1xuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQge1xuICBwcm9wTWFwLFxuICBnZXRFYXNlRm4sXG4gIGZpbmRBZnRlclNpYmxpbmcsXG4gIGdldEpvaW5JbmZvLFxuICBmaW5kQ29tcCxcbiAgY29tcHV0ZVNjYWxlXG59IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7IGZldGNoQXR0cmlidXRlcywgZ2V0UHJvcFZhbCB9IGZyb20gXCIuL2F0dHJpYnV0ZUZldGNoZXJcIjtcbmltcG9ydCB7IGdldFN0eWxlLCB0cmFuc2Zvcm1JdGVtIH0gZnJvbSBcIi4vdmVnYS1yZW5kZXItdXRpbFwiO1xuaW1wb3J0IHsgY29weSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcbmltcG9ydCB7IGNvbXB1dGVUaW1pbmcsIGVudW1TdGVwQ29tcHV0ZVRpbWluZyB9IGZyb20gXCIuL3RpbWluZ3NcIjtcbmltcG9ydCB7IERFRkFVTFRfRU5DT0RFIH0gZnJvbSBcIi4uL2RlZmF1bHRcIjtcblxuY29uc3QgSU5JVElBTF9TVEFUVVMgPSB7XG4gIHVwZGF0ZTogZmFsc2UsXG4gIGVudGVyOiBmYWxzZSxcbiAgZXhpdDogZmFsc2Vcbn07XG5cbmZ1bmN0aW9uIGFkZEF4aXMoZDNTZWxlY3Rpb24sIG5ld0F4aXNTY2VuZSwgcHJpb3IpIHtcbiAgY29uc3Qgc2NOYW1lID0gbmV3QXhpc1NjZW5lLm5hbWU7XG4gIGNvbnN0IGF4aXNTdWJHID0gZDNTZWxlY3Rpb25cbiAgICAuaW5zZXJ0KFwiZ1wiLCBwcmlvcilcbiAgICAuYXR0cihcImNsYXNzXCIsIGBtYXJrLWdyb3VwIHJvbGUtYXhpcyAke3NjTmFtZX1gKVxuICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtSXRlbShuZXdBeGlzU2NlbmUuaXRlbXNbMF0pKTtcblxuICBjb25zdCB7IGRhdHVtIH0gPSBuZXdBeGlzU2NlbmUuaXRlbXNbMF07XG4gIGlmIChkYXR1bS50aWNrcykge1xuICAgIGF4aXNTdWJHLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwibWFyay1ydWxlIHJvbGUtYXhpcy10aWNrXCIpO1xuICB9XG4gIGlmIChkYXR1bS5sYWJlbHMpIHtcbiAgICBheGlzU3ViRy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm1hcmstdGV4dCByb2xlLWF4aXMtbGFiZWxcIik7XG4gIH1cbiAgaWYgKGRhdHVtLmdyaWQpIHtcbiAgICBheGlzU3ViRy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm1hcmstcnVsZSByb2xlLWF4aXMtZ3JpZFwiKTtcbiAgfVxuICBpZiAoZGF0dW0uZG9tYWluKSB7XG4gICAgYXhpc1N1YkcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJtYXJrLXJ1bGUgcm9sZS1heGlzLWRvbWFpblwiKTtcbiAgfVxuICBpZiAoZGF0dW0udGl0bGUpIHtcbiAgICBheGlzU3ViRy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm1hcmstdGV4dCByb2xlLWF4aXMtdGl0bGVcIik7XG4gIH1cblxuICByZXR1cm4gZDNTZWxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIGRvbmVNYWtlcihzdWJDb21wb25lbnRzKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25TdGF0dXMgPSBzdWJDb21wb25lbnRzLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgYWNjW2N1cnJdID0gY29weShJTklUSUFMX1NUQVRVUyk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuXG4gIHJldHVybiBmdW5jdGlvbih3aGljaCwgY2IpIHtcbiAgICBpZiAod2hpY2gubGVuZ3RoID09PSAyKSB7XG4gICAgICBpZiAod2hpY2hbMV0gPT09IFwiYWxsXCIpIHtcbiAgICAgICAgdHJhbnNpdGlvblN0YXR1c1t3aGljaFswXV0uZXhpdCA9IHRydWU7XG4gICAgICAgIHRyYW5zaXRpb25TdGF0dXNbd2hpY2hbMF1dLmVudGVyID0gdHJ1ZTtcbiAgICAgICAgdHJhbnNpdGlvblN0YXR1c1t3aGljaFswXV0udXBkYXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb25TdGF0dXNbd2hpY2hbMF1dW3doaWNoWzFdXSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh3aGljaCA9PT0gXCJhbGxcIikge1xuICAgICAgdHJhbnNpdGlvblN0YXR1cy51cGRhdGUgPSB0cnVlO1xuICAgICAgdHJhbnNpdGlvblN0YXR1cy5lbnRlciA9IHRydWU7XG4gICAgICB0cmFuc2l0aW9uU3RhdHVzLmV4aXQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2l0aW9uU3RhdHVzW3doaWNoXSA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgYWxsRG9uZSA9IE9iamVjdC5rZXlzKHRyYW5zaXRpb25TdGF0dXMpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGFjYyAmJlxuICAgICAgICB0cmFuc2l0aW9uU3RhdHVzW2tleV0udXBkYXRlICYmXG4gICAgICAgIHRyYW5zaXRpb25TdGF0dXNba2V5XS5lbnRlciAmJlxuICAgICAgICB0cmFuc2l0aW9uU3RhdHVzW2tleV0uZXhpdFxuICAgICAgKTtcbiAgICB9LCB0cnVlKTtcbiAgICBpZiAoYWxsRG9uZSkge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBheGlzSW50ZXJwb2xhdGUocmF3SW5mbywgc3RlcCwgdGFyZ2V0RWxtKSB7XG4gIGZ1bmN0aW9uIGpvaW5LZXlHZW4oc3ViY29tcCkge1xuICAgIHJldHVybiAoZCwgaSwgaW5pdGlhbE9yRmluYWwgPSBcImluaXRpYWxcIikgPT4ge1xuICAgICAgaWYgKCFkKSB7XG4gICAgICAgIHJldHVybiBpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAoIWQuX19nZW1pbmlfXykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN0ZXAuY29tcHV0ZURhdHVtSWRbc3ViY29tcF0gPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gc3RlcC5jb21wdXRlRGF0dW1JZFtzdWJjb21wXShkLCBpKVxuICAgICAgICAgIDogc3RlcC5jb21wdXRlRGF0dW1JZFtzdWJjb21wXVtpbml0aWFsT3JGaW5hbF0oZCwgaSk7XG4gICAgICAgIC8vIHJldHVybiBzdGVwLmNvbXB1dGVEYXR1bUlkW3N1YmNvbXBdKGQsIGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEpvaW5JbmZvKGQsIGksIHN0ZXAsIFwiam9pbktleVwiKTtcbiAgICB9O1xuICB9XG4gIGNvbnN0IGpvaW5TZXQgPSAoZCwgaSkgPT4gZ2V0Sm9pbkluZm8oZCwgaSwgc3RlcCwgXCJhbmltU2V0XCIpO1xuICBjb25zdCBhbmltVmlzID0gdGFyZ2V0RWxtO1xuICBjb25zdCBlVmlldyA9IHJhd0luZm8uZVZpcy52aWV3O1xuXG4gIGNvbnN0IGRvbmUgPSBkb25lTWFrZXIoW1widGlja1wiLCBcImxhYmVsXCIsIFwiZ3JpZFwiLCBcInRpdGxlXCIsIFwiZG9tYWluXCJdKTtcblxuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgLy8gTWFyayBJbnRlcnBvbGF0ZSBEYXRhXG5cbiAgICBjb25zdCB7IGNoYW5nZSB9ID0gc3RlcDtcbiAgICBjb25zdCBlYXNlRm4gPSBnZXRFYXNlRm4oc3RlcC50aW1pbmcuZWFzZSk7XG5cbiAgICBsZXQgZGVmYXVsdERvID0gdHJ1ZTtcbiAgICBpZiAoY2hhbmdlLmVuY29kZSA9PT0gZmFsc2UpIHtcbiAgICAgIGRlZmF1bHREbyA9IGZhbHNlO1xuICAgIH1cbiAgICBsZXQgZG9UaWNrcyA9IGRlZmF1bHREbztcbiAgICBsZXQgZG9MYWJlbHMgPSBkZWZhdWx0RG87XG4gICAgbGV0IGRvQXhpc0cgPSBkZWZhdWx0RG87XG4gICAgbGV0IGRvVGl0bGUgPSBkZWZhdWx0RG87XG4gICAgbGV0IGRvRG9tYWluID0gZGVmYXVsdERvO1xuICAgIGxldCBkb0dyaWQgPSBkZWZhdWx0RG87XG5cbiAgICBpZiAoY2hhbmdlLmVuY29kZSkge1xuICAgICAgZG9UaWNrcyA9ICEoY2hhbmdlLmVuY29kZS50aWNrcyA9PT0gZmFsc2UpO1xuICAgICAgZG9MYWJlbHMgPSAhKGNoYW5nZS5lbmNvZGUubGFiZWxzID09PSBmYWxzZSk7XG4gICAgICBkb0F4aXNHID0gIShjaGFuZ2UuZW5jb2RlLmF4aXMgPT09IGZhbHNlKTtcbiAgICAgIGRvVGl0bGUgPSAhKGNoYW5nZS5lbmNvZGUudGl0bGUgPT09IGZhbHNlKTtcbiAgICAgIGRvR3JpZCA9ICEoY2hhbmdlLmVuY29kZS5ncmlkID09PSBmYWxzZSk7XG4gICAgICBkb0RvbWFpbiA9ICEoY2hhbmdlLmVuY29kZS5kb21haW4gPT09IGZhbHNlKTtcbiAgICB9XG5cbiAgICBsZXQgaXNSZW1vdmUgPSBmYWxzZTtcbiAgICBsZXQgYXhpcyA9IGQzLnNlbGVjdEFsbChgJHthbmltVmlzfSAucm9sZS1heGlzLiR7Y2hhbmdlLmNvbXBOYW1lfWApO1xuXG4gICAgY29uc3Qgc2NOYW1lID0gY2hhbmdlLmNvbXBOYW1lO1xuICAgIC8vIGNvbGxlY3QgdGhlIHNjYWxlIG9iamVjdHMgdG8gc2NhbGUgdGhlIGluaXRpYWwvZmluYWwgdmFsdWVzXG4gICAgY29uc3QgeyBzY2FsZXMgfSA9IHN0ZXA7XG4gICAgY29uc3QgeyBzaWduYWxzIH0gPSBzdGVwO1xuXG4gICAgLy8gQWRkIEF4aXNcbiAgICBpZiAoY2hhbmdlLmluaXRpYWwgPT09IG51bGwpIHtcbiAgICAgIC8vIHRvZG86IGZpbmQgd2hlcmUtdG8tYWRkIGQzU2VsZWN0aW9uIGJ5IHNlYXJjaGluZyBlVmlldy5zY2VuZWdyYXBoXG4gICAgICBjb25zdCByb290TWFyayA9IGQzLnNlbGVjdChgJHthbmltVmlzfSAubWFyay1ncm91cC5yb290IGcgZyBgKTtcbiAgICAgIGNvbnN0IHJvb3RTY2VuZSA9IGVWaWV3LnNjZW5lZ3JhcGgoKS5yb290O1xuICAgICAgY29uc3Qgc2liID0gZmluZEFmdGVyU2libGluZyhyb290U2NlbmUsIGNoYW5nZS5jb21wTmFtZSk7XG4gICAgICBhZGRBeGlzKFxuICAgICAgICByb290TWFyayxcbiAgICAgICAgZmluZENvbXAocm9vdFNjZW5lLCBzY05hbWUsIFwiYXhpc1wiKVswXSxcbiAgICAgICAgc2liID8gYC4ke3NpYi5uYW1lfWAgOiB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgICBheGlzID0gZDMuc2VsZWN0QWxsKGAke2FuaW1WaXN9IC5yb2xlLWF4aXMuJHtjaGFuZ2UuY29tcE5hbWV9YCk7XG4gICAgfSBlbHNlIGlmIChjaGFuZ2UuZmluYWwgPT09IG51bGwpIHtcbiAgICAgIC8vIFJlbW92ZSBBeGlzXG4gICAgICBpc1JlbW92ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGF4aXMgZ3JvdXBcbiAgICBpZiAoaXNSZW1vdmUpIHtcbiAgICAgIGNvbnN0IG1hbnVhbEVuY29kZSA9XG4gICAgICAgIGNoYW5nZS5lbmNvZGUgJiYgY2hhbmdlLmVuY29kZS5heGlzID8gY2hhbmdlLmVuY29kZS5heGlzLmV4aXQgOiB7fTtcbiAgICAgIGNvbnN0IGF4aXNHID0gYXhpcy5zZWxlY3QoXCJnXCIpO1xuICAgICAgY29uc3QgZkF4aXNHID0gYXhpc0cudHJhbnNpdGlvbigpO1xuICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICBmQXhpc0csXG4gICAgICAgIFtcImdyb3VwXCJdLFxuICAgICAgICBzY2FsZXMuZmluYWwsXG4gICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfRU5DT0RFLmF4aXMuYXhpcy5leGl0LCBtYW51YWxFbmNvZGUpXG4gICAgICApO1xuICAgICAgZkF4aXNHLmR1cmF0aW9uKHN0ZXAuZHVyYXRpb24pO1xuICAgIH0gZWxzZSBpZiAoZG9BeGlzRykge1xuICAgICAgY29uc3QgYXhpc0cgPSBheGlzLnNlbGVjdChcImdcIik7XG4gICAgICBheGlzRy5kYXRhKHN0ZXAubmV4dERhdGEuYXhpcyk7XG4gICAgICBjb25zdCBmQXhpc0cgPSBheGlzRy50cmFuc2l0aW9uKCk7XG4gICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgIGZBeGlzRyxcbiAgICAgICAgW1wiZ3JvdXBcIl0sXG4gICAgICAgIHNjYWxlcy5maW5hbCxcbiAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgc3RlcC5lbmNvZGVzLmF4aXMuZmluYWwudXBkYXRlXG4gICAgICApO1xuICAgICAgZkF4aXNHXG4gICAgICAgIC5kZWxheShzdGVwLmRlbGF5KVxuICAgICAgICAuZHVyYXRpb24oc3RlcC5kdXJhdGlvbilcbiAgICAgICAgLmVhc2UoZWFzZUZuKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVHZXRWYWx1ZXMoZW5jb2Rlcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgaW5pdGlhbDogKGF0dHIsIGdldFNjYWxlcywgZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBbc2NOYW1lXSwgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsKFxuICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmluaXRpYWwudXBkYXRlLFxuICAgICAgICAgICAgICBjb21wdXRlZFNjYWxlcy5pbml0aWFsLFxuICAgICAgICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgICAgICAgIGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaW5hbDogKGF0dHIsIGdldFNjYWxlcywgZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tcHV0ZWRTY2FsZXMgPSBjb21wdXRlU2NhbGUoc2NhbGVzLCBbc2NOYW1lXSwgZ2V0U2NhbGVzKTtcbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsKFxuICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmZpbmFsLnVwZGF0ZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWRTY2FsZXMuZmluYWwsXG4gICAgICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgICAgIGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnRlcjoge1xuICAgICAgICAgIGluaXRpYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU2NhbGVzID0gY29tcHV0ZVNjYWxlKHNjYWxlcywgW3NjTmFtZV0sIGdldFNjYWxlcyk7XG5cbiAgICAgICAgICAgIHJldHVybiBnZXRQcm9wVmFsKFxuICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICBlbmNvZGVzLmluaXRpYWwuZW50ZXIsXG4gICAgICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLmluaXRpYWxbc2NOYW1lXVxuICAgICAgICAgICAgICAgID8gY29tcHV0ZWRTY2FsZXMuaW5pdGlhbFxuICAgICAgICAgICAgICAgIDogY29tcHV0ZWRTY2FsZXMuZmluYWwsXG4gICAgICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICAgICAgZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmFsOiAoYXR0ciwgZ2V0U2NhbGVzLCBkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIFtzY05hbWVdLCBnZXRTY2FsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuZmluYWwuZW50ZXIsXG4gICAgICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLmZpbmFsLFxuICAgICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAgICBkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXhpdDoge1xuICAgICAgICAgIGluaXRpYWw6IChhdHRyLCBnZXRTY2FsZXMsIGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU2NhbGVzID0gY29tcHV0ZVNjYWxlKHNjYWxlcywgW3NjTmFtZV0sIGdldFNjYWxlcyk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0UHJvcFZhbChcbiAgICAgICAgICAgICAgYXR0cixcbiAgICAgICAgICAgICAgZW5jb2Rlcy5pbml0aWFsLmV4aXQsXG4gICAgICAgICAgICAgIGNvbXB1dGVkU2NhbGVzLmluaXRpYWwsXG4gICAgICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICAgICAgZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmFsOiAoYXR0ciwgZ2V0U2NhbGVzLCBkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZFNjYWxlcyA9IGNvbXB1dGVTY2FsZShzY2FsZXMsIFtzY05hbWVdLCBnZXRTY2FsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGdldFByb3BWYWwoXG4gICAgICAgICAgICAgIGF0dHIsXG4gICAgICAgICAgICAgIGVuY29kZXMuZmluYWwuZXhpdCxcbiAgICAgICAgICAgICAgY29tcHV0ZWRTY2FsZXMuZmluYWwsXG4gICAgICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgICAgIGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICAvLyB1cGRhdGUgdGlja1xuICAgIGlmIChkb1RpY2tzKSB7XG4gICAgICBjb25zdCB0aWNrRyA9IGF4aXMuc2VsZWN0QWxsKFwiLnJvbGUtYXhpcy10aWNrXCIpO1xuICAgICAgY29uc3QgZW5jb2RlcyA9IHN0ZXAuZW5jb2Rlcy50aWNrcztcblxuICAgICAgY29uc3QgVElDS19BVFRSUyA9IFtcInRpY2tcIl07XG5cbiAgICAgIGlmIChzdGVwLmVudW1lcmF0b3IpIHtcbiAgICAgICAgY29uc3QgZW51bWVyYXRvciA9IHN0ZXAuZW51bWVyYXRvci50aWNrO1xuICAgICAgICBjb25zdCBnZXRWYWx1ZXMgPSBjYWxjdWxhdGVHZXRWYWx1ZXMoZW5jb2Rlcyk7XG4gICAgICAgIC8vIGJpbmQgYWxsS2V5c1xuICAgICAgICBjb25zdCBuZXdCb3VuZFRpY2tzID0gdGlja0dcbiAgICAgICAgICAuc2VsZWN0QWxsKFwibGluZVwiKVxuICAgICAgICAgIC5kYXRhKGVudW1lcmF0b3IuYWxsS2V5cywgZCA9PiBkKTtcbiAgICAgICAgbmV3Qm91bmRUaWNrcy5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgIG5ld0JvdW5kVGlja3MuZW50ZXIoKS5hcHBlbmQoXCJsaW5lXCIpO1xuICAgICAgICBjb25zdCBhbGxQcm9wcyA9IFRJQ0tfQVRUUlMucmVkdWNlKChhY2MsIHByb3ApID0+IHtcbiAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChwcm9wTWFwKHByb3ApKTtcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBjb25zdCBpbml0aWFsVGlja3MgPSB0aWNrR1xuICAgICAgICAgIC5zZWxlY3RBbGwoXCJsaW5lXCIpXG4gICAgICAgICAgLmZpbHRlcihpZCA9PiBbXCJ1cGRhdGVcIiwgXCJleGl0XCJdLmluZGV4T2YoZW51bWVyYXRvci5zZXQoaWQsIDApKSA+PSAwKTtcbiAgICAgICAgYWxsUHJvcHMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBpZiAocC50eXBlID09PSBcImF0dHJUd2VlblwiKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wUCA9IE9iamVjdC5hc3NpZ24oe30sIHAsIHsgdHlwZTogXCJhdHRyXCIgfSk7XG4gICAgICAgICAgICBpbml0aWFsVGlja3NbdGVtcFAudHlwZV0oZ2V0U3R5bGUodGVtcFAudmFsKSwgaWQgPT5cbiAgICAgICAgICAgICAgZW51bWVyYXRvci5nZXRQcm9wVmFsKHRlbXBQLCBnZXRWYWx1ZXMsIDAsIGlkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIGluaXRpYWxUaWNrc1twLnR5cGVdKGlkID0+XG4gICAgICAgICAgICAgIGVudW1lcmF0b3IuZ2V0UHJvcFZhbChwLCBnZXRWYWx1ZXMsIDAsIGlkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5pdGlhbFRpY2tzW3AudHlwZV0oZ2V0U3R5bGUocC52YWwpLCBpZCA9PlxuICAgICAgICAgICAgICBlbnVtZXJhdG9yLmdldFByb3BWYWwocCwgZ2V0VmFsdWVzLCAwLCBpZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0aW1pbmdzID0gZW51bVN0ZXBDb21wdXRlVGltaW5nKGVudW1lcmF0b3IsIHN0ZXAudGltaW5nKTtcbiAgICAgICAgY29uc3QgdGlja3MgPSB0aWNrRy5zZWxlY3RBbGwoXCJsaW5lXCIpLnRyYW5zaXRpb24oKTtcblxuICAgICAgICBhbGxQcm9wcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICAgIGlmIChwLnR5cGUgPT09IFwiYXR0clwiKSB7XG4gICAgICAgICAgICB0aWNrcy5hdHRyVHdlZW4ocC52YWwsIGQgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gZW51bWVyYXRvci5pbnRlcnBvbGF0ZUFsb25nRW51bU1ha2VyKHAsIGdldFZhbHVlcykoZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIHRpY2tzLnR3ZWVuKFwidGV4dFwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRleHRJbnRlcnBvbGF0b3IgPSBlbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIoXG4gICAgICAgICAgICAgICAgcCxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZXNcbiAgICAgICAgICAgICAgKShkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IHRleHRJbnRlcnBvbGF0b3IodCk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICAgICAgICB0aWNrcy5zdHlsZVR3ZWVuKGdldFN0eWxlKHAudmFsKSwgZCA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBlbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIocCwgZ2V0VmFsdWVzKShkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaW50ZXJwb2xhdGUgdGhlbVxuICAgICAgICB0aWNrc1xuICAgICAgICAgIC5kdXJhdGlvbigoZCwgaSkgPT4gdGltaW5nc1tpXS5kdXJhdGlvbilcbiAgICAgICAgICAuZGVsYXkoKGQsIGkpID0+IHRpbWluZ3NbaV0uZGVsYXkpXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGRvbmUoW1widGlja1wiLCBcImFsbFwiXSwgKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB0aWNrcyA9IHRpY2tHLnNlbGVjdEFsbChcImxpbmVcIik7XG4gICAgICAgIGNvbnN0IGN1cnJEYXRhID0gc3RlcC5jdXJyRGF0YS50aWNrO1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gc3RlcC5uZXh0RGF0YS50aWNrO1xuICAgICAgICBjb25zdCBqb2luS2V5ID0gam9pbktleUdlbihcInRpY2tcIik7XG4gICAgICAgIGNvbnN0IHRpbWluZ3MgPSBjb21wdXRlVGltaW5nKFxuICAgICAgICAgIGN1cnJEYXRhLFxuICAgICAgICAgIG5ld0RhdGEsXG4gICAgICAgICAgc3RlcC50aW1pbmcsXG4gICAgICAgICAgam9pbktleSxcbiAgICAgICAgICBqb2luU2V0XG4gICAgICAgICk7XG5cbiAgICAgICAgdGlja3MgPSB0aWNrcy5kYXRhKG5ld0RhdGEsIGQgPT4gam9pbktleShkKSk7XG4gICAgICAgIGxldCBlbnRlclRpY2tzSSA9IHRpY2tzLmVudGVyKCkuYXBwZW5kKFwibGluZVwiKTtcbiAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgIGVudGVyVGlja3NJLFxuICAgICAgICAgIFRJQ0tfQVRUUlMsXG4gICAgICAgICAgc3RlcC5zYW1lRG9tYWluRGltZW5zaW9uXG4gICAgICAgICAgICA/IHsgcHJpbWFyeTogc2NhbGVzLmluaXRpYWwsIHNlY29uZGFyeTogc2NhbGVzLmZpbmFsIH1cbiAgICAgICAgICAgIDogeyBwcmltYXJ5OiBzY2FsZXMuZmluYWwsIHNlY29uZGFyeTogc2NhbGVzLmluaXRpYWwgfSxcbiAgICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgICAgZW5jb2Rlcy5pbml0aWFsLmVudGVyXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGVudGVyVGlja3NJLmRhdGEoKS5sZW5ndGggPD0gMCkge1xuICAgICAgICAgIGVudGVyVGlja3NJID0gdGlja3MuZmlsdGVyKGQgPT4gam9pblNldChkKSA9PT0gXCJlbnRlclwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVudGVyVGlja3NGID0gZW50ZXJUaWNrc0kudHJhbnNpdGlvbigpO1xuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgZW50ZXJUaWNrc0YsXG4gICAgICAgICAgVElDS19BVFRSUyxcbiAgICAgICAgICBzY2FsZXMuZmluYWwsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICBlbmNvZGVzLmZpbmFsLmVudGVyXG4gICAgICAgICk7XG4gICAgICAgIGVudGVyVGlja3NGXG4gICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgIHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJmaW5hbFwiKSkuZHVyYXRpb25cbiAgICAgICAgICApXG4gICAgICAgICAgLmRlbGF5KFxuICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJmaW5hbFwiKSkuZGVsYXlcbiAgICAgICAgICApXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKGRvbmUoW1widGlja1wiLCBcImVudGVyXCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcblxuICAgICAgICBsZXQgZXhpdFRpY2tzSSA9IHRpY2tzLmV4aXQoKTtcbiAgICAgICAgaWYgKGV4aXRUaWNrc0kuZGF0YSgpLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgZXhpdFRpY2tzSSA9IHRpY2tzLmZpbHRlcihkID0+IGpvaW5TZXQoZCkgPT09IFwiZXhpdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4aXRUaWNrc0YgPSBleGl0VGlja3NJLnRyYW5zaXRpb24oKTtcbiAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgIGV4aXRUaWNrc0YsXG4gICAgICAgICAgVElDS19BVFRSUyxcbiAgICAgICAgICAvLyBzY2FsZXMuZmluYWxbc2NOYW1lXSA/IHNjYWxlcy5maW5hbCA6IHNjYWxlcy5pbml0aWFsLFxuICAgICAgICAgIHN0ZXAuc2FtZURvbWFpbkRpbWVuc2lvblxuICAgICAgICAgICAgPyB7IHByaW1hcnk6IHNjYWxlcy5maW5hbCwgc2Vjb25kYXJ5OiBzY2FsZXMuaW5pdGlhbCB9XG4gICAgICAgICAgICA6IHsgcHJpbWFyeTogc2NhbGVzLmluaXRpYWwsIHNlY29uZGFyeTogc2NhbGVzLmZpbmFsIH0sIC8vIHsgcHJpbWFyeTogc2NhbGVzLmZpbmFsLCBzZWNvbmRhcnk6IHNjYWxlcy5pbml0aWFsIH0sXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICBlbmNvZGVzLmZpbmFsLmV4aXRcbiAgICAgICAgKTtcbiAgICAgICAgZXhpdFRpY2tzRlxuICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIFwiaW5pdGlhbFwiKSkuZHVyYXRpb25cbiAgICAgICAgICApXG4gICAgICAgICAgLmRlbGF5KFxuICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJpbml0aWFsXCIpKS5kZWxheVxuICAgICAgICAgIClcbiAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgLnJlbW92ZSgpXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLnRoZW4oZG9uZShbXCJ0aWNrXCIsIFwiZXhpdFwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cbiAgICAgICAgaWYgKHRydWUgJiYgdGlja3MuZGF0YSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aWNrcyA9IHRpY2tzLmZpbHRlcihkID0+IGpvaW5TZXQoZCkgPT09IFwidXBkYXRlXCIpLnRyYW5zaXRpb24oKTtcbiAgICAgICAgICAvLyBmaW5hbGl6ZSB0aGUgdXBkYXRlIHNldCBvZiB0aGUgdGlja3NcbiAgICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICB0aWNrcyxcbiAgICAgICAgICAgIFRJQ0tfQVRUUlMsXG4gICAgICAgICAgICBzY2FsZXMuZmluYWwsXG4gICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAgZW5jb2Rlcy5maW5hbC51cGRhdGVcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdGlja3NcbiAgICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSkpLmR1cmF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZGVsYXkoKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSkpLmRlbGF5KVxuICAgICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAudGhlbihkb25lKFtcInRpY2tcIiwgXCJ1cGRhdGVcIl0sICgpID0+IHJlc29sdmUoKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoW1widGlja1wiLCBcInVwZGF0ZVwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkb25lKFtcInRpY2tcIiwgXCJlbnRlclwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgIGRvbmUoW1widGlja1wiLCBcImV4aXRcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICBkb25lKFtcInRpY2tcIiwgXCJ1cGRhdGVcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGxhYmVsXG4gICAgY29uc3QgbGFiZWxHID0gYXhpcy5zZWxlY3RBbGwoXCIucm9sZS1heGlzLWxhYmVsXCIpO1xuXG4gICAgY29uc3QgTEFCRUxfQVRUUlMgPSBbXCJ0ZXh0XCIsIFwiYWxpZ25cIl07XG4gICAgLy8gY29uc3QgTEFCRUxfQVRUUlMgPSBbIFwidGV4dFwiIF07XG5cbiAgICBpZiAoIWxhYmVsRy5lbXB0eSgpICYmIGRvTGFiZWxzKSB7XG4gICAgICBjb25zdCBlbmNvZGVzID0gc3RlcC5lbmNvZGVzLmxhYmVscztcblxuICAgICAgaWYgKHN0ZXAuZW51bWVyYXRvcikge1xuICAgICAgICBjb25zdCBlbnVtZXJhdG9yID0gc3RlcC5lbnVtZXJhdG9yLmxhYmVsO1xuXG4gICAgICAgIGNvbnN0IGdldFZhbHVlcyA9IGNhbGN1bGF0ZUdldFZhbHVlcyhlbmNvZGVzKTtcbiAgICAgICAgLy8gYmluZCBhbGxLZXlzXG4gICAgICAgIGNvbnN0IG5ld0JvdW5kTGFiZWxzID0gbGFiZWxHXG4gICAgICAgICAgLnNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuZGF0YShlbnVtZXJhdG9yLmFsbEtleXMsIGQgPT4gZCk7XG4gICAgICAgIG5ld0JvdW5kTGFiZWxzLmV4aXQoKS5yZW1vdmUoKTtcbiAgICAgICAgbmV3Qm91bmRMYWJlbHMuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpO1xuICAgICAgICBjb25zdCBhbGxQcm9wcyA9IExBQkVMX0FUVFJTLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQocHJvcE1hcChwcm9wKSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbExhYmVscyA9IGxhYmVsR1xuICAgICAgICAgIC5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmZpbHRlcihpZCA9PiBbXCJ1cGRhdGVcIiwgXCJleGl0XCJdLmluZGV4T2YoZW51bWVyYXRvci5zZXQoaWQsIDApKSA+PSAwKTtcbiAgICAgICAgYWxsUHJvcHMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBpZiAocC50eXBlID09PSBcImF0dHJUd2VlblwiKSB7XG4gICAgICAgICAgICBjb25zdCB0ZW1wUCA9IE9iamVjdC5hc3NpZ24oe30sIHAsIHsgdHlwZTogXCJhdHRyXCIgfSk7XG4gICAgICAgICAgICBpbml0aWFsTGFiZWxzW3RlbXBQLnR5cGVdKGdldFN0eWxlKHRlbXBQLnZhbCksIGlkID0+XG4gICAgICAgICAgICAgIGVudW1lcmF0b3IuZ2V0UHJvcFZhbCh0ZW1wUCwgZ2V0VmFsdWVzLCAwLCBpZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgICBpbml0aWFsTGFiZWxzW3AudHlwZV0oaWQgPT5cbiAgICAgICAgICAgICAgZW51bWVyYXRvci5nZXRQcm9wVmFsKHAsIGdldFZhbHVlcywgMCwgaWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbml0aWFsTGFiZWxzW3AudHlwZV0oZ2V0U3R5bGUocC52YWwpLCBpZCA9PlxuICAgICAgICAgICAgICBlbnVtZXJhdG9yLmdldFByb3BWYWwocCwgZ2V0VmFsdWVzLCAwLCBpZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBsYWJlbHMgPSBsYWJlbEcuc2VsZWN0QWxsKFwidGV4dFwiKS50cmFuc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRpbWluZ3MgPSBlbnVtU3RlcENvbXB1dGVUaW1pbmcoZW51bWVyYXRvciwgc3RlcC50aW1pbmcpO1xuICAgICAgICBhbGxQcm9wcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICAgIGlmIChwLnR5cGUgPT09IFwiYXR0clwiKSB7XG4gICAgICAgICAgICBsYWJlbHMuYXR0clR3ZWVuKHAudmFsLCBkID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihwLCBnZXRWYWx1ZXMpKGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgICBsYWJlbHMudHdlZW4oXCJ0ZXh0XCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dEludGVycG9sYXRvciA9IGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlc1xuICAgICAgICAgICAgICApKGQpO1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJIVE1MID0gdGV4dEludGVycG9sYXRvcih0KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgICAgIGxhYmVscy5zdHlsZVR3ZWVuKGdldFN0eWxlKHAudmFsKSwgZCA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBlbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIocCwgZ2V0VmFsdWVzKShkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaW50ZXJwb2xhdGUgdGhlbVxuICAgICAgICBsYWJlbHNcbiAgICAgICAgICAuZHVyYXRpb24oKGQsIGkpID0+IHRpbWluZ3NbaV0uZHVyYXRpb24pXG4gICAgICAgICAgLmRlbGF5KChkLCBpKSA9PiB0aW1pbmdzW2ldLmRlbGF5KVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBkb25lKFtcImxhYmVsXCIsIFwiYWxsXCJdLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGxhYmVscyA9IGxhYmVsRy5zZWxlY3RBbGwoXCJ0ZXh0XCIpO1xuICAgICAgICBjb25zdCBjdXJyRGF0YSA9IHN0ZXAuY3VyckRhdGEubGFiZWw7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSBzdGVwLm5leHREYXRhLmxhYmVsO1xuICAgICAgICBjb25zdCBqb2luS2V5ID0gam9pbktleUdlbihcImxhYmVsXCIpO1xuICAgICAgICBjb25zdCB0aW1pbmdzID0gY29tcHV0ZVRpbWluZyhcbiAgICAgICAgICBjdXJyRGF0YSxcbiAgICAgICAgICBuZXdEYXRhLFxuICAgICAgICAgIHN0ZXAudGltaW5nLFxuICAgICAgICAgIGpvaW5LZXksXG4gICAgICAgICAgam9pblNldFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwcmV2RGF0YSA9IGQzLmxvY2FsKCk7XG4gICAgICAgIGxhYmVscy5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBwcmV2RGF0YS5zZXQodGhpcywgZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBsYWJlbHMgPSBsYWJlbHMuZGF0YShuZXdEYXRhLCBkID0+IGpvaW5LZXkoZCkpO1xuXG4gICAgICAgIGxldCBlbnRlckxhYmVsSSA9IGxhYmVscy5lbnRlcigpLmFwcGVuZChcInRleHRcIik7XG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBlbnRlckxhYmVsSSxcbiAgICAgICAgICBMQUJFTF9BVFRSUyxcbiAgICAgICAgICBzdGVwLnNhbWVEb21haW5EaW1lbnNpb25cbiAgICAgICAgICAgID8geyBwcmltYXJ5OiBzY2FsZXMuaW5pdGlhbCwgc2Vjb25kYXJ5OiBzY2FsZXMuZmluYWwgfVxuICAgICAgICAgICAgOiB7IHByaW1hcnk6IHNjYWxlcy5maW5hbCwgc2Vjb25kYXJ5OiBzY2FsZXMuaW5pdGlhbCB9LCAvLyB7IHByaW1hcnk6IHNjYWxlcy5maW5hbCwgc2Vjb25kYXJ5OiBzY2FsZXMuaW5pdGlhbCB9LFxuICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICBlbmNvZGVzLmluaXRpYWwuZW50ZXJcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBlbnRlcmVkIGxhYmVsc1xuXG4gICAgICAgIGlmIChlbnRlckxhYmVsSS5kYXRhKCkubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICBlbnRlckxhYmVsSSA9IGxhYmVscy5maWx0ZXIoZCA9PiBqb2luU2V0KGQpID09PSBcImVudGVyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZW50ZXJMYWJlbEYgPSBlbnRlckxhYmVsSS50cmFuc2l0aW9uKCk7XG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBlbnRlckxhYmVsRixcbiAgICAgICAgICBMQUJFTF9BVFRSUyxcbiAgICAgICAgICBzY2FsZXMuZmluYWwsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICBlbmNvZGVzLmZpbmFsLmVudGVyXG4gICAgICAgICk7XG4gICAgICAgIGVudGVyTGFiZWxGXG4gICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgIHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJmaW5hbFwiKSkuZHVyYXRpb25cbiAgICAgICAgICApXG4gICAgICAgICAgLmRlbGF5KFxuICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJmaW5hbFwiKSkuZGVsYXlcbiAgICAgICAgICApXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKGRvbmUoW1wibGFiZWxcIiwgXCJlbnRlclwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cbiAgICAgICAgLy8gZXhpdCBsYWJlbHNcbiAgICAgICAgbGV0IGV4aXRMYWJlbEkgPSBsYWJlbHMuZXhpdCgpO1xuICAgICAgICBpZiAoZXhpdExhYmVsSS5kYXRhKCkubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICBleGl0TGFiZWxJID0gbGFiZWxzLmZpbHRlcihkID0+IGpvaW5TZXQoZCkgPT09IFwiZXhpdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4aXRMYWJlbEYgPSBleGl0TGFiZWxJLnRyYW5zaXRpb24oKTtcbiAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgIGV4aXRMYWJlbEYsXG4gICAgICAgICAgTEFCRUxfQVRUUlMsXG4gICAgICAgICAgc3RlcC5zYW1lRG9tYWluRGltZW5zaW9uXG4gICAgICAgICAgICA/IHsgcHJpbWFyeTogc2NhbGVzLmZpbmFsLCBzZWNvbmRhcnk6IHNjYWxlcy5pbml0aWFsIH1cbiAgICAgICAgICAgIDogeyBwcmltYXJ5OiBzY2FsZXMuaW5pdGlhbCwgc2Vjb25kYXJ5OiBzY2FsZXMuZmluYWwgfSwgLy8geyBwcmltYXJ5OiBzY2FsZXMuZmluYWwsIHNlY29uZGFyeTogc2NhbGVzLmluaXRpYWwgfSxcbiAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgIGVuY29kZXMuZmluYWwuZXhpdCxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuICAgICAgICBleGl0TGFiZWxGXG4gICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgIHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJpbml0aWFsXCIpKS5kdXJhdGlvblxuICAgICAgICAgIClcbiAgICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgICAoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBcImluaXRpYWxcIikpLmRlbGF5XG4gICAgICAgICAgKVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAucmVtb3ZlKClcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbihkb25lKFtcImxhYmVsXCIsIFwiZXhpdFwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cbiAgICAgICAgLy8gVG9kbyB1cGRhdGUgbGFiZWxzISFcbiAgICAgICAgaWYgKHRydWUgJiYgbGFiZWxzLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGFiZWxzID0gbGFiZWxzLmZpbHRlcihkID0+IGpvaW5TZXQoZCkgPT09IFwidXBkYXRlXCIpLnRyYW5zaXRpb24oKTtcbiAgICAgICAgICAvLyBmaW5hbGl6ZSB0aGUgdXBkYXRlIHNldCBvZiB0aGUgbGFiZWxzXG4gICAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgbGFiZWxzLFxuICAgICAgICAgICAgTEFCRUxfQVRUUlMsXG4gICAgICAgICAgICBzY2FsZXMuZmluYWwsXG4gICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAgZW5jb2Rlcy5maW5hbC51cGRhdGUsXG4gICAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBsYWJlbHNcbiAgICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSkpLmR1cmF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZGVsYXkoKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSkpLmRlbGF5KVxuICAgICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAudGhlbihkb25lKFtcImxhYmVsXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb25lKFtcImxhYmVsXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbmUoW1wibGFiZWxcIiwgXCJlbnRlclwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgIGRvbmUoW1wibGFiZWxcIiwgXCJleGl0XCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgZG9uZShbXCJsYWJlbFwiLCBcInVwZGF0ZVwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgZ3JpZFxuICAgIGxldCBncmlkRyA9IGF4aXMuc2VsZWN0QWxsKFwiLnJvbGUtYXhpcy1ncmlkXCIpO1xuICAgIGNvbnN0IEdSSURfQVRUUlMgPSBbXCJncmlkXCJdO1xuXG4gICAgaWYgKFxuICAgICAgKCFzdGVwLmNoYW5nZS5pbml0aWFsIHx8IHN0ZXAuY2hhbmdlLmluaXRpYWwuZ3JpZCA9PT0gZmFsc2UpICYmXG4gICAgICBzdGVwLmNoYW5nZS5maW5hbCAmJlxuICAgICAgc3RlcC5jaGFuZ2UuZmluYWwuZ3JpZCA9PT0gdHJ1ZVxuICAgICkge1xuICAgICAgLy8gYWRkIGdyaWRcbiAgICAgIGdyaWRHID0gYXhpc1xuICAgICAgICAuc2VsZWN0KFwiZ1wiKVxuICAgICAgICAuc2VsZWN0KFwiZ1wiKVxuICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibWFyay1ydWxlIHJvbGUtYXhpcy1ncmlkXCIpO1xuICAgIH1cbiAgICBpZiAoIWdyaWRHLmVtcHR5KCkgJiYgZG9HcmlkKSB7XG4gICAgICBjb25zdCBlbmNvZGVzID0gc3RlcC5lbmNvZGVzLmdyaWQ7XG5cbiAgICAgIGlmIChzdGVwLmVudW1lcmF0b3IpIHtcbiAgICAgICAgY29uc3QgZW51bWVyYXRvciA9IHN0ZXAuZW51bWVyYXRvci5ncmlkO1xuXG4gICAgICAgIGNvbnN0IGdldFZhbHVlcyA9IGNhbGN1bGF0ZUdldFZhbHVlcyhlbmNvZGVzKTtcblxuICAgICAgICAvLyBiaW5kIGFsbEtleXNcbiAgICAgICAgY29uc3QgbmV3Qm91bmRHcmlkcyA9IGdyaWRHXG4gICAgICAgICAgLnNlbGVjdEFsbChcImxpbmVcIilcbiAgICAgICAgICAuZGF0YShlbnVtZXJhdG9yLmFsbEtleXMsIGQgPT4gZCk7XG4gICAgICAgIG5ld0JvdW5kR3JpZHMuZXhpdCgpLnJlbW92ZSgpO1xuICAgICAgICBuZXdCb3VuZEdyaWRzLmVudGVyKCkuYXBwZW5kKFwibGluZVwiKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbEdyaWRzID0gZ3JpZEdcbiAgICAgICAgICAuc2VsZWN0QWxsKFwibGluZVwiKVxuICAgICAgICAgIC5maWx0ZXIoaWQgPT4gW1widXBkYXRlXCIsIFwiZXhpdFwiXS5pbmRleE9mKGVudW1lcmF0b3Iuc2V0KGlkLCAwKSkgPj0gMCk7XG4gICAgICAgIC8vIGluaXRcbiAgICAgICAgY29uc3QgYWxsUHJvcHMgPSBHUklEX0FUVFJTLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQocHJvcE1hcChwcm9wKSk7XG4gICAgICAgIH0sIFtdKTtcblxuICAgICAgICBhbGxQcm9wcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICAgIGlmIChwLnR5cGUgPT09IFwiYXR0clR3ZWVuXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBQID0gT2JqZWN0LmFzc2lnbih7fSwgcCwgeyB0eXBlOiBcImF0dHJcIiB9KTtcbiAgICAgICAgICAgIGluaXRpYWxHcmlkc1t0ZW1wUC50eXBlXShnZXRTdHlsZSh0ZW1wUC52YWwpLCBpZCA9PlxuICAgICAgICAgICAgICBlbnVtZXJhdG9yLmdldFByb3BWYWwodGVtcFAsIGdldFZhbHVlcywgMCwgaWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcInRleHRcIikge1xuICAgICAgICAgICAgaW5pdGlhbEdyaWRzW3AudHlwZV0oaWQgPT5cbiAgICAgICAgICAgICAgZW51bWVyYXRvci5nZXRQcm9wVmFsKHAsIGdldFZhbHVlcywgMCwgaWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbml0aWFsR3JpZHNbcC50eXBlXShnZXRTdHlsZShwLnZhbCksIGlkID0+XG4gICAgICAgICAgICAgIGVudW1lcmF0b3IuZ2V0UHJvcFZhbChwLCBnZXRWYWx1ZXMsIDAsIGlkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGdyaWRzID0gZ3JpZEcuc2VsZWN0QWxsKFwibGluZVwiKS50cmFuc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRpbWluZ3MgPSBlbnVtU3RlcENvbXB1dGVUaW1pbmcoZW51bWVyYXRvciwgc3RlcC50aW1pbmcpO1xuXG4gICAgICAgIGFsbFByb3BzLmZvckVhY2gocCA9PiB7XG4gICAgICAgICAgaWYgKHAudHlwZSA9PT0gXCJhdHRyXCIpIHtcbiAgICAgICAgICAgIGdyaWRzLmF0dHJUd2VlbihwLnZhbCwgZCA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBlbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIocCwgZ2V0VmFsdWVzKShkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcInRleHRcIikge1xuICAgICAgICAgICAgZ3JpZHMudHdlZW4oXCJ0ZXh0XCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgY29uc3QgdGV4dEludGVycG9sYXRvciA9IGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlc1xuICAgICAgICAgICAgICApKGQpO1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJIVE1MID0gdGV4dEludGVycG9sYXRvcih0KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgICAgIGdyaWRzLnN0eWxlVHdlZW4oZ2V0U3R5bGUocC52YWwpLCBkID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihwLCBnZXRWYWx1ZXMpKGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpbnRlcnBvbGF0ZSB0aGVtXG4gICAgICAgIGdyaWRzXG4gICAgICAgICAgLmR1cmF0aW9uKChkLCBpKSA9PiB0aW1pbmdzW2ldLmR1cmF0aW9uKVxuICAgICAgICAgIC5kZWxheSgoZCwgaSkgPT4gdGltaW5nc1tpXS5kZWxheSlcbiAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZG9uZShbXCJncmlkXCIsIFwiYWxsXCJdLCAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGdyaWRzID0gZ3JpZEcuc2VsZWN0QWxsKFwibGluZVwiKTtcbiAgICAgICAgY29uc3QgY3VyckRhdGEgPSBzdGVwLmN1cnJEYXRhLmdyaWQ7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSBzdGVwLm5leHREYXRhLmdyaWQ7XG4gICAgICAgIGNvbnN0IGpvaW5LZXkgPSBqb2luS2V5R2VuKFwiZ3JpZFwiKTtcbiAgICAgICAgY29uc3QgdGltaW5ncyA9IGNvbXB1dGVUaW1pbmcoXG4gICAgICAgICAgY3VyckRhdGEsXG4gICAgICAgICAgbmV3RGF0YSxcbiAgICAgICAgICBzdGVwLnRpbWluZyxcbiAgICAgICAgICBqb2luS2V5LFxuICAgICAgICAgIGpvaW5TZXRcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcHJldkRhdGEgPSBkMy5sb2NhbCgpO1xuICAgICAgICBncmlkcy5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBwcmV2RGF0YS5zZXQodGhpcywgZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBncmlkcyA9IGdyaWRzLmRhdGEobmV3RGF0YSwgZCA9PiBqb2luS2V5KGQpKTtcbiAgICAgICAgbGV0IGVudGVyR3JpZEkgPSBncmlkcy5lbnRlcigpLmFwcGVuZChcImxpbmVcIik7XG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBlbnRlckdyaWRJLFxuICAgICAgICAgIEdSSURfQVRUUlMsXG4gICAgICAgICAgLy8gc2NhbGVzLmluaXRpYWxbc2NOYW1lXSA/IHNjYWxlcy5pbml0aWFsIDogc2NhbGVzLmZpbmFsLFxuICAgICAgICAgIHN0ZXAuc2FtZURvbWFpbkRpbWVuc2lvblxuICAgICAgICAgICAgPyB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9XG4gICAgICAgICAgICA6IHsgcHJpbWFyeTogc2NhbGVzLmZpbmFsLCBzZWNvbmRhcnk6IHNjYWxlcy5pbml0aWFsIH0sXG4gICAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICAgIGVuY29kZXMuaW5pdGlhbC5lbnRlclxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChlbnRlckdyaWRJLmRhdGEoKS5sZW5ndGggPD0gMCkge1xuICAgICAgICAgIGVudGVyR3JpZEkgPSBncmlkcy5maWx0ZXIoZCA9PiBqb2luU2V0KGQpID09PSBcImVudGVyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZW50ZXJHcmlkRiA9IGVudGVyR3JpZEkudHJhbnNpdGlvbigpO1xuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgZW50ZXJHcmlkRixcbiAgICAgICAgICBHUklEX0FUVFJTLFxuICAgICAgICAgIHNjYWxlcy5maW5hbCxcbiAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgIGVuY29kZXMuZmluYWwuZW50ZXJcbiAgICAgICAgKTtcbiAgICAgICAgZW50ZXJHcmlkRlxuICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIFwiZmluYWxcIikpLmR1cmF0aW9uXG4gICAgICAgICAgKVxuICAgICAgICAgIC5kZWxheShcbiAgICAgICAgICAgIChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIFwiZmluYWxcIikpLmRlbGF5XG4gICAgICAgICAgKVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbihkb25lKFtcImdyaWRcIiwgXCJlbnRlclwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cbiAgICAgICAgbGV0IGV4aXRHcmlkSSA9IGdyaWRzLmV4aXQoKTtcbiAgICAgICAgaWYgKGV4aXRHcmlkSS5kYXRhKCkubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICBleGl0R3JpZEkgPSBncmlkcy5maWx0ZXIoZCA9PiBqb2luU2V0KGQpID09PSBcImV4aXRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleGl0R3JpZEYgPSBleGl0R3JpZEkudHJhbnNpdGlvbigpO1xuXG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBleGl0R3JpZEYsXG4gICAgICAgICAgR1JJRF9BVFRSUyxcbiAgICAgICAgICBzdGVwLnNhbWVEb21haW5EaW1lbnNpb25cbiAgICAgICAgICAgID8geyBwcmltYXJ5OiBzY2FsZXMuZmluYWwsIHNlY29uZGFyeTogc2NhbGVzLmluaXRpYWwgfVxuICAgICAgICAgICAgOiB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9LFxuICAgICAgICAgIC8vIHNjYWxlcy5maW5hbFtzY05hbWVdID8gc2NhbGVzLmZpbmFsIDogc2NhbGVzLmluaXRpYWwsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICBlbmNvZGVzLmZpbmFsLmV4aXQsXG4gICAgICAgICAgcHJldkRhdGFcbiAgICAgICAgKTtcbiAgICAgICAgZXhpdEdyaWRGXG4gICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgIHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJpbml0aWFsXCIpKS5kdXJhdGlvblxuICAgICAgICAgIClcbiAgICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgICAoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBcImluaXRpYWxcIikpLmRlbGF5XG4gICAgICAgICAgKVxuICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAucmVtb3ZlKClcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAudGhlbihkb25lKFtcImdyaWRcIiwgXCJleGl0XCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcblxuICAgICAgICBncmlkcyA9IGdyaWRzLmZpbHRlcihkID0+IGpvaW5TZXQoZCkgPT09IFwidXBkYXRlXCIpLnRyYW5zaXRpb24oKTtcbiAgICAgICAgLy8gZmluYWxpemUgdGhlIHVwZGF0ZSBzZXQgb2YgdGhlIGdyaWRzXG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBncmlkcyxcbiAgICAgICAgICBHUklEX0FUVFJTLFxuICAgICAgICAgIHNjYWxlcy5maW5hbCxcbiAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgIGVuY29kZXMuZmluYWwudXBkYXRlLFxuICAgICAgICAgIHByZXZEYXRhXG4gICAgICAgICk7XG5cbiAgICAgICAgZ3JpZHNcbiAgICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgICAoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpKSkuZHVyYXRpb25cbiAgICAgICAgICApXG4gICAgICAgICAgLmRlbGF5KChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGkpKS5kZWxheSlcbiAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgLnRoZW4oZG9uZShbXCJncmlkXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZG9uZShbXCJncmlkXCIsIFwiZW50ZXJcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICBkb25lKFtcImdyaWRcIiwgXCJleGl0XCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgZG9uZShbXCJncmlkXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgdGl0bGVcbiAgICBjb25zdCBUSVRMRV9BVFRSUyA9IFtcInRpdGxlXCIsIFwiYWxpZ25cIl07XG4gICAgY29uc3QgdGl0bGVHID0gYXhpcy5zZWxlY3RBbGwoXCIucm9sZS1heGlzLXRpdGxlXCIpO1xuICAgIGlmICghdGl0bGVHLmVtcHR5KCkgJiYgZG9UaXRsZSkge1xuICAgICAgLy8gQXNzdW1lIHRoYXQgdGhlcmUgaXMgbm8gZGF0YSBiaW5kaW5nIChubyBlbnRlciBhbmQgZXhpdClcblxuICAgICAgY29uc3QgZW5jb2RlcyA9IHN0ZXAuZW5jb2Rlcy50aXRsZTtcbiAgICAgIGxldCB0aXRsZSA9IHRpdGxlRy5zZWxlY3RBbGwoXCJ0ZXh0XCIpO1xuXG4gICAgICBjb25zdCBpRGF0YSA9IHRpdGxlLmRhdGEoKTtcbiAgICAgIGxldCBmRGF0YSA9IFtdO1xuICAgICAgaWYgKCFpc1JlbW92ZSkge1xuXG4gICAgICAgIGlmIChzdGVwLmNoYW5nZS5zY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBmRGF0YSA9IGlEYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZEYXRhID0gZVZpZXcuX3J1bnRpbWUuZGF0YVtzY05hbWVdLnZhbHVlcy52YWx1ZVswXS5pdGVtcy5maWx0ZXIoXG4gICAgICAgICAgICBpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJheGlzLXRpdGxlXCJcbiAgICAgICAgICApWzBdLml0ZW1zO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRpdGxlLmRhdGEoaURhdGEsIGQgPT4gZC50ZXh0KTtcbiAgICAgIHRpdGxlID0gdGl0bGUuZGF0YShmRGF0YSwgZCA9PiBkLnRleHQpO1xuICAgICAgY29uc3QgZW50ZXJUaXRsZUkgPSB0aXRsZS5lbnRlcigpLmFwcGVuZChcInRleHRcIik7XG5cbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZW50ZXJUaXRsZUksXG4gICAgICAgIFRJVExFX0FUVFJTLFxuICAgICAgICB7fSxcbiAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICBlbmNvZGVzLmluaXRpYWwuZW50ZXJcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGVudGVyVGl0bGVGID0gZW50ZXJUaXRsZUkudHJhbnNpdGlvbigpO1xuICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICBlbnRlclRpdGxlRixcbiAgICAgICAgVElUTEVfQVRUUlMsXG4gICAgICAgIHt9LFxuICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICBlbmNvZGVzLmZpbmFsLmVudGVyXG4gICAgICApO1xuICAgICAgZW50ZXJUaXRsZUZcbiAgICAgICAgLmR1cmF0aW9uKHN0ZXAuZHVyYXRpb24pXG4gICAgICAgIC5kZWxheShzdGVwLmRlbGF5KVxuICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAudGhlbihkb25lKFtcInRpdGxlXCIsIFwiZW50ZXJcIl0sICgpID0+IHJlc29sdmUoKSkpO1xuXG4gICAgICBjb25zdCBleGl0VGl0bGVJID0gdGl0bGUuZXhpdCgpO1xuICAgICAgY29uc3QgZXhpdFRpdGxlRiA9IGV4aXRUaXRsZUkudHJhbnNpdGlvbigpO1xuICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICBleGl0VGl0bGVGLFxuICAgICAgICBUSVRMRV9BVFRSUyxcbiAgICAgICAge30sXG4gICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgIGVuY29kZXMuZmluYWwuZXhpdFxuICAgICAgKTtcbiAgICAgIGV4aXRUaXRsZUZcbiAgICAgICAgLmR1cmF0aW9uKHN0ZXAuZHVyYXRpb24pXG4gICAgICAgIC5kZWxheShzdGVwLmRlbGF5KVxuICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAudGhlbihkb25lKFtcInRpdGxlXCIsIFwiZXhpdFwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cbiAgICAgIHRpdGxlID0gdGl0bGUudHJhbnNpdGlvbigpO1xuICAgICAgLy8gdXBkYXRlIHRoZSB0aXRsZVxuICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICB0aXRsZSxcbiAgICAgICAgVElUTEVfQVRUUlMsXG4gICAgICAgIHt9LFxuICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICBlbmNvZGVzLmZpbmFsLnVwZGF0ZVxuICAgICAgKTtcblxuICAgICAgdGl0bGVcbiAgICAgICAgLmR1cmF0aW9uKHN0ZXAuZHVyYXRpb24pXG4gICAgICAgIC5kZWxheShzdGVwLmRlbGF5KVxuICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAudGhlbihkb25lKFtcInRpdGxlXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9uZShbXCJ0aXRsZVwiLCBcImVudGVyXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgZG9uZShbXCJ0aXRsZVwiLCBcImV4aXRcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICBkb25lKFtcInRpdGxlXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBkb21haW5cbiAgICBjb25zdCBET01BSU5fQVRUUlMgPSBbXCJkb21haW5cIl07XG5cbiAgICBjb25zdCBkb21haW5HID0gYXhpcy5zZWxlY3RBbGwoXCIucm9sZS1heGlzLWRvbWFpblwiKTtcbiAgICBpZiAoIWRvbWFpbkcuZW1wdHkoKSAmJiBkb0RvbWFpbikge1xuICAgICAgY29uc3QgZW5jb2RlcyA9IHN0ZXAuZW5jb2Rlcy5kb21haW47XG4gICAgICBsZXQgZkRhdGEgPSBbXTtcbiAgICAgIGlmICghaXNSZW1vdmUpIHtcbiAgICAgICAgZkRhdGEgPSBlVmlldy5fcnVudGltZS5kYXRhW3NjTmFtZV0udmFsdWVzLnZhbHVlWzBdLml0ZW1zLmZpbHRlcihcbiAgICAgICAgICBpdGVtID0+IGl0ZW0ucm9sZSA9PT0gXCJheGlzLWRvbWFpblwiXG4gICAgICAgIClbMF0uaXRlbXM7XG4gICAgICB9XG4gICAgICBsZXQgZG9tYWluID0gZG9tYWluRy5zZWxlY3RBbGwoXCJsaW5lXCIpLmRhdGEoZkRhdGEpO1xuXG4gICAgICBjb25zdCBpRG9tYWluRW50ZXIgPSBkb21haW4uZW50ZXIoKS5hcHBlbmQoXCJsaW5lXCIpO1xuICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICBpRG9tYWluRW50ZXIsXG4gICAgICAgIERPTUFJTl9BVFRSUyxcbiAgICAgICAge30sXG4gICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgZW5jb2Rlcy5pbml0aWFsLmVudGVyXG4gICAgICApO1xuICAgICAgY29uc3QgZkRvbWFpbkVudGVyID0gaURvbWFpbkVudGVyLnRyYW5zaXRpb24oKTtcbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZkRvbWFpbkVudGVyLFxuICAgICAgICBET01BSU5fQVRUUlMsXG4gICAgICAgIHt9LFxuICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICBlbmNvZGVzLmZpbmFsLmVudGVyXG4gICAgICApO1xuICAgICAgZkRvbWFpbkVudGVyXG4gICAgICAgIC5kdXJhdGlvbihzdGVwLmR1cmF0aW9uKVxuICAgICAgICAuZGVsYXkoc3RlcC5kZWxheSlcbiAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAuZW5kKClcbiAgICAgICAgLnRoZW4oZG9uZShbXCJkb21haW5cIiwgXCJlbnRlclwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cbiAgICAgIGNvbnN0IGlEb21haW5FeGl0ID0gZG9tYWluLmV4aXQoKTtcbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgaURvbWFpbkV4aXQsXG4gICAgICAgIERPTUFJTl9BVFRSUyxcbiAgICAgICAge30sXG4gICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgZW5jb2Rlcy5pbml0aWFsLmV4aXRcbiAgICAgICk7XG4gICAgICBjb25zdCBmRG9tYWluRXhpdCA9IGlEb21haW5FeGl0LnRyYW5zaXRpb24oKTtcbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZkRvbWFpbkV4aXQsXG4gICAgICAgIERPTUFJTl9BVFRSUyxcbiAgICAgICAge30sXG4gICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgIGVuY29kZXMuZmluYWwuZXhpdFxuICAgICAgKTtcbiAgICAgIGZEb21haW5FeGl0XG4gICAgICAgIC5kdXJhdGlvbihzdGVwLmR1cmF0aW9uKVxuICAgICAgICAuZGVsYXkoc3RlcC5kZWxheSlcbiAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAuZW5kKClcbiAgICAgICAgLnRoZW4oZG9uZShbXCJkb21haW5cIiwgXCJleGl0XCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBkb21haW5cblxuICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICBkb21haW4sXG4gICAgICAgIERPTUFJTl9BVFRSUyxcbiAgICAgICAgc2NhbGVzLmluaXRpYWwsXG4gICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgZW5jb2Rlcy5pbml0aWFsLnVwZGF0ZVxuICAgICAgKTtcbiAgICAgIGRvbWFpbiA9IGRvbWFpbi50cmFuc2l0aW9uKCk7XG5cbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZG9tYWluLFxuICAgICAgICBET01BSU5fQVRUUlMsXG4gICAgICAgIHNjYWxlcy5maW5hbCxcbiAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgZW5jb2Rlcy5maW5hbC51cGRhdGVcbiAgICAgICk7XG5cbiAgICAgIGRvbWFpblxuICAgICAgICAuZHVyYXRpb24oc3RlcC5kdXJhdGlvbilcbiAgICAgICAgLmRlbGF5KHN0ZXAuZGVsYXkpXG4gICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC50aGVuKGRvbmUoW1wiZG9tYWluXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9uZShbXCJkb21haW5cIiwgXCJlbnRlclwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgIGRvbmUoW1wiZG9tYWluXCIsIFwiZXhpdFwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgIGRvbmUoW1wiZG9tYWluXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7IGF4aXNJbnRlcnBvbGF0ZSB9O1xuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQge1xuICBwcm9wTWFwLFxuICBnZXRFYXNlRm4sXG4gIGZpbmRBZnRlclNpYmxpbmcsXG4gIGdldEpvaW5JbmZvLFxuICBmaW5kQ29tcCxcbiAgc3ZnUmVuZGVyLFxuICBjb21wdXRlU2NhbGVcbn0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgZmV0Y2hBdHRyaWJ1dGVzLCBjYWxjdWxhdGVHZXRWYWxldXMgfSBmcm9tIFwiLi9hdHRyaWJ1dGVGZXRjaGVyXCI7XG5pbXBvcnQgeyBnZXRTdHlsZSB9IGZyb20gXCIuL3ZlZ2EtcmVuZGVyLXV0aWwuanNcIjtcbmltcG9ydCB7IGNvcHkgfSBmcm9tIFwiLi4vdXRpbC91dGlsLmpzXCI7XG5pbXBvcnQgeyBjb21wdXRlVGltaW5nLCBlbnVtU3RlcENvbXB1dGVUaW1pbmcgfSBmcm9tIFwiLi90aW1pbmdzXCI7XG5cbmNvbnN0IExFR0VORF9DSEFOTkVMUyA9IFtcbiAgXCJmaWxsXCIsXG4gIFwib3BhY2l0eVwiLFxuICBcInNoYXBlXCIsXG4gIFwic2l6ZVwiLFxuICBcInN0cm9rZVwiLFxuICBcInN0cm9rZURhc2hcIixcbiAgXCJzdHJva2VXaWR0aFwiXG5dO1xuY29uc3QgSU5JVElBTF9TVEFUVVMgPSB7XG4gIHVwZGF0ZTogZmFsc2UsXG4gIGVudGVyOiBmYWxzZSxcbiAgZXhpdDogZmFsc2Vcbn07XG5cbmZ1bmN0aW9uIGRvbmVNYWtlcihzdWJDb21wb25lbnRzLCBsZWdlbmRUeXBlcywgbGVnZW5kKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25TdGF0dXMgPSBzdWJDb21wb25lbnRzLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgYWNjW2N1cnJdID0gY29weShJTklUSUFMX1NUQVRVUyk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuXG4gIHJldHVybiBmdW5jdGlvbih3aGljaCwgY2IpIHtcbiAgICBpZiAod2hpY2gubGVuZ3RoID09PSAyKSB7XG4gICAgICBpZiAod2hpY2hbMV0gPT09IFwiYWxsXCIpIHtcbiAgICAgICAgdHJhbnNpdGlvblN0YXR1c1t3aGljaFswXV0udXBkYXRlID0gdHJhbnNpdGlvblN0YXR1c1tcbiAgICAgICAgICB3aGljaFswXVxuICAgICAgICBdLmVudGVyID0gdHJhbnNpdGlvblN0YXR1c1t3aGljaFswXV0uZXhpdCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uU3RhdHVzW3doaWNoWzBdXVt3aGljaFsxXV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAod2hpY2ggPT09IFwiYWxsXCIpIHtcbiAgICAgIHRyYW5zaXRpb25TdGF0dXMudXBkYXRlID0gdHJhbnNpdGlvblN0YXR1cy5lbnRlciA9IHRyYW5zaXRpb25TdGF0dXMuZXhpdCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zaXRpb25TdGF0dXNbd2hpY2hdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBhbGxEb25lID1cbiAgICAgIFtcInRpdGxlXCIsIFwibGFiZWxzXCIsIFwic3ltYm9sc1wiLCBcInBhaXJzXCIsIFwiZW50cmllc1wiLCBcImxlZ2VuZFwiXS5yZWR1Y2UoXG4gICAgICAgIChhY2MsIGtleSkgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBhY2MgJiZcbiAgICAgICAgICAgIHRyYW5zaXRpb25TdGF0dXNba2V5XS51cGRhdGUgJiZcbiAgICAgICAgICAgIHRyYW5zaXRpb25TdGF0dXNba2V5XS5lbnRlciAmJlxuICAgICAgICAgICAgdHJhbnNpdGlvblN0YXR1c1trZXldLmV4aXRcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICB0cnVlXG4gICAgICApIHx8XG4gICAgICBbXCJ0aXRsZVwiLCBcImxhYmVsc1wiLCBcImdyYWRpZW50XCIsIFwiYmFuZHNcIiwgXCJlbnRyaWVzXCIsIFwibGVnZW5kXCJdLnJlZHVjZShcbiAgICAgICAgKGFjYywga2V5KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGFjYyAmJlxuICAgICAgICAgICAgdHJhbnNpdGlvblN0YXR1c1trZXldLnVwZGF0ZSAmJlxuICAgICAgICAgICAgdHJhbnNpdGlvblN0YXR1c1trZXldLmVudGVyICYmXG4gICAgICAgICAgICB0cmFuc2l0aW9uU3RhdHVzW2tleV0uZXhpdFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgaWYgKGFsbERvbmUpIHtcbiAgICAgIGlmIChsZWdlbmRUeXBlcy5maW5hbCkge1xuICAgICAgICBpZiAobGVnZW5kVHlwZXMuZmluYWwgPT09IFwiZ3JhZGllbnRcIikge1xuICAgICAgICAgIGxlZ2VuZC5zZWxlY3RBbGwoXCIubWFyay1ncm91cC5yb2xlLXNjb3BlXCIpLnJlbW92ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVudHJ5RyA9IGxlZ2VuZC5zZWxlY3QoXCIucm9sZS1sZWdlbmQtZW50cnkgPiBnID4gZ1wiKTtcbiAgICAgICAgICBsZWdlbmRcbiAgICAgICAgICAgIC5zZWxlY3QoXCIucm9sZS1sZWdlbmQtZW50cnkgPiBnID4gZyA+IC5tYXJrLXRleHQucm9sZS1sZWdlbmQtbGFiZWxcIilcbiAgICAgICAgICAgIC5yZW1vdmUoKTtcbiAgICAgICAgICBlbnRyeUcuc2VsZWN0KFwiLm1hcmstdGV4dC5yb2xlLWxlZ2VuZC1iYW5kXCIpLnJlbW92ZSgpO1xuICAgICAgICAgIGVudHJ5Ry5zZWxlY3QoXCIubWFyay10ZXh0LnJvbGUtbGVnZW5kLWdyYWRpZW50XCIpLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYigpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gbGVnZW5kSW50ZXJwb2xhdGUocmF3SW5mbywgc3RlcCwgdGFyZ2V0RWxtKSB7XG4gIGZ1bmN0aW9uIGpvaW5LZXlHZW4oc3ViY29tcCkge1xuICAgIHJldHVybiAoZCwgaSwgaW5pdGlhbE9yRmluYWwgPSBcImluaXRpYWxcIikgPT4ge1xuICAgICAgaWYgKCFkKSB7XG4gICAgICAgIHJldHVybiBpLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBpZiAoIWQuX19nZW1pbmlfXykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHN0ZXAuY29tcHV0ZURhdHVtSWRbc3ViY29tcF0gPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gc3RlcC5jb21wdXRlRGF0dW1JZFtzdWJjb21wXShkLCBpKVxuICAgICAgICAgIDogc3RlcC5jb21wdXRlRGF0dW1JZFtzdWJjb21wXVtpbml0aWFsT3JGaW5hbF0oZCwgaSk7XG4gICAgICAgIC8vIHJldHVybiBzdGVwLmNvbXB1dGVEYXR1bUlkW3N1YmNvbXBdKGQsIGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEpvaW5JbmZvKGQsIGksIHN0ZXAsIFwiam9pbktleVwiKTtcbiAgICB9O1xuICB9XG4gIGNvbnN0IGpvaW5TZXQgPSAoZCwgaSkgPT4ge1xuICAgIHJldHVybiBkLl9fZ2VtaW5pX18gPyBnZXRKb2luSW5mbyhkLCBpLCBzdGVwLCBcImFuaW1TZXRcIikgOiB1bmRlZmluZWQ7XG4gIH07XG4gIGNvbnN0IGVWaWV3ID0gcmF3SW5mby5lVmlzLnZpZXc7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgLy8gTWFyayBJbnRlcnBvbGF0ZSBEYXRhXG5cbiAgICBjb25zdCB7IGNoYW5nZSB9ID0gc3RlcDtcbiAgICBjb25zdCBlYXNlRm4gPSBnZXRFYXNlRm4oc3RlcC50aW1pbmcuZWFzZSk7XG5cbiAgICBsZXQgZG9UaXRsZTtcbiAgICBsZXQgZG9TeW1ib2xzO1xuICAgIGxldCBkb0xhYmVscztcbiAgICBsZXQgZG9HcmFkaWVudDtcblxuICAgIGRvVGl0bGUgPSBkb1N5bWJvbHMgPSBkb0xhYmVscyA9IGRvR3JhZGllbnQgPSB0cnVlO1xuXG4gICAgaWYgKGNoYW5nZS5lbmNvZGUgPT09IGZhbHNlKSB7XG4gICAgICBkb1RpdGxlID0gZG9TeW1ib2xzID0gZG9MYWJlbHMgPSBkb0dyYWRpZW50ID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChjaGFuZ2UuZW5jb2RlKSB7XG4gICAgICBkb1RpdGxlID0gIShjaGFuZ2UuZW5jb2RlLnRpdGxlID09PSBmYWxzZSk7XG4gICAgICBkb1N5bWJvbHMgPSAhKGNoYW5nZS5lbmNvZGUuc3ltYm9scyA9PT0gZmFsc2UpO1xuICAgICAgZG9MYWJlbHMgPSAhKGNoYW5nZS5lbmNvZGUubGFiZWxzID09PSBmYWxzZSk7XG4gICAgICBkb0dyYWRpZW50ID0gIShjaGFuZ2UuZW5jb2RlLmdyYWRpZW50ID09PSBmYWxzZSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpc1JlbW92ZSB9ID0gc3RlcDtcbiAgICBjb25zdCB7IGlzQWRkIH0gPSBzdGVwO1xuICAgIGxldCBsZWdlbmQgPSBkMy5zZWxlY3QoYCR7dGFyZ2V0RWxtfSAucm9sZS1sZWdlbmQuJHtjaGFuZ2UuY29tcE5hbWV9YCk7XG4gICAgY29uc3QgZG9uZSA9IGRvbmVNYWtlcihcbiAgICAgIFtcbiAgICAgICAgXCJlbnRyaWVzXCIsXG4gICAgICAgIFwidGl0bGVcIixcbiAgICAgICAgXCJsYWJlbHNcIixcbiAgICAgICAgXCJncmFkaWVudFwiLFxuICAgICAgICBcInN5bWJvbHNcIixcbiAgICAgICAgXCJsZWdlbmRcIixcbiAgICAgICAgXCJwYWlyc1wiLFxuICAgICAgICBcImJhbmRzXCJcbiAgICAgIF0sXG4gICAgICBzdGVwLmxlZ2VuZFR5cGVzLFxuICAgICAgbGVnZW5kXG4gICAgKTtcbiAgICBjb25zdCB7IGNvbXBOYW1lIH0gPSBjaGFuZ2U7XG4gICAgLy8gY29sbGVjdCB0aGUgc2NhbGUgb2JqZWN0cyB0byBzY2FsZSB0aGUgaW5pdGlhbC9maW5hbCB2YWx1ZXNcbiAgICBjb25zdCB7IHNjYWxlcyB9ID0gc3RlcDtcbiAgICBjb25zdCB7IHNpZ25hbHMgfSA9IHN0ZXA7XG4gICAgY29uc3QgeyBlbmNvZGVzIH0gPSBzdGVwO1xuICAgIGNvbnN0IHsgbGVnZW5kVHlwZXMgfSA9IHN0ZXA7XG5cbiAgICAvLyBhZGQvcmVtb3ZlL3VwZGF0ZSBsZWdlbmRcbiAgICBpZiAoaXNBZGQpIHtcbiAgICAgIGNvbnN0IHJvb3RNYXJrID0gZDMuc2VsZWN0KGAke3RhcmdldEVsbX0gLm1hcmstZ3JvdXAucm9vdCBnIGcgYCk7XG4gICAgICBjb25zdCByb290U2NlbmUgPSBlVmlldy5zY2VuZWdyYXBoKCkucm9vdDtcbiAgICAgIGNvbnN0IHNpYiA9IGZpbmRBZnRlclNpYmxpbmcocm9vdFNjZW5lLCBjaGFuZ2UuY29tcE5hbWUpO1xuICAgICAgYWRkTGVnZW5kKFxuICAgICAgICByb290TWFyayxcbiAgICAgICAgZmluZENvbXAocm9vdFNjZW5lLCBjaGFuZ2UuY29tcE5hbWUsIFwibGVnZW5kXCIpWzBdLFxuICAgICAgICBzaWIgPyBgLiR7c2liLm5hbWV9YCA6IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIGxlZ2VuZCA9IGQzLnNlbGVjdEFsbChgJHt0YXJnZXRFbG19IC5yb2xlLWxlZ2VuZC4ke2NoYW5nZS5jb21wTmFtZX1gKTtcblxuICAgICAgZG9uZShbXCJsZWdlbmRcIiwgXCJhbGxcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICBkb25lKFtcImVudHJpZXNcIiwgXCJhbGxcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgfSBlbHNlIGlmIChpc1JlbW92ZSkge1xuICAgICAgY29uc3QgbWFudWFsRW5jb2RlID1cbiAgICAgICAgY2hhbmdlLmVuY29kZSAmJiBjaGFuZ2UuZW5jb2RlLmxlZ2VuZCA/IGNoYW5nZS5lbmNvZGUubGVnZW5kLmV4aXQgOiB7fTtcbiAgICAgIGNvbnN0IGxlZ2VuZEcgPSBsZWdlbmQuc2VsZWN0KFwiZ1wiKTtcbiAgICAgIGNvbnN0IGZMZWdlbmRHID0gbGVnZW5kRy50cmFuc2l0aW9uKCk7XG4gICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgIGZMZWdlbmRHLFxuICAgICAgICBbXCJncm91cFwiXSxcbiAgICAgICAgc2NhbGVzLmZpbmFsLFxuICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzdGVwLmVuY29kZXMubGVnZW5kLmZpbmFsLmV4aXQsIG1hbnVhbEVuY29kZSlcbiAgICAgICk7XG4gICAgICBmTGVnZW5kR1xuICAgICAgICAuZHVyYXRpb24oc3RlcC5kdXJhdGlvbilcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBkb25lKFtcImxlZ2VuZFwiLCBcImFsbFwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgICBkb25lKFtcImVudHJpZXNcIiwgXCJhbGxcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1cGRhdGUgbGVnZW5kIEdcbiAgICAgIGNvbnN0IGZMZWdlbmREID0gZmluZENvbXAoZVZpZXcuc2NlbmVncmFwaCgpLnJvb3QsIGNvbXBOYW1lLCBcImxlZ2VuZFwiKVswXVxuICAgICAgICAuaXRlbXNbMF07XG4gICAgICBjb25zdCBlbmNvZGUgPSB7XG4gICAgICAgIHg6IHsgdmFsdWU6IGZMZWdlbmRELnggfSxcbiAgICAgICAgeTogeyB2YWx1ZTogZkxlZ2VuZEQueSB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsZWdlbmRHID0gbGVnZW5kLnNlbGVjdChcImdcIik7XG4gICAgICBjb25zdCBmRGF0YSA9IFtlVmlldy5fcnVudGltZS5kYXRhW2NvbXBOYW1lXS52YWx1ZXMudmFsdWVbMF0uZGF0dW1dO1xuICAgICAgbGVnZW5kRy5kYXRhKGZEYXRhKTtcbiAgICAgIGNvbnN0IGZMZWdlbmRHID0gbGVnZW5kRy50cmFuc2l0aW9uKCk7XG4gICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgIGZMZWdlbmRHLFxuICAgICAgICBbXCJncm91cFwiXSxcbiAgICAgICAgc2NhbGVzLmZpbmFsLFxuICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzdGVwLmVuY29kZXMubGVnZW5kLnVwZGF0ZSwgZW5jb2RlKVxuICAgICAgKTtcbiAgICAgIGZMZWdlbmRHXG4gICAgICAgIC5kdXJhdGlvbihzdGVwLmR1cmF0aW9uKVxuICAgICAgICAuZW5kKClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGRvbmUoW1wibGVnZW5kXCIsIFwiYWxsXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgIGRvbmUoW1wiZW50cmllc1wiLCBcImFsbFwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2NOYW1lcyA9IHtcbiAgICAgIGluaXRpYWw6IFtdLFxuICAgICAgZmluYWw6IFtdXG4gICAgfTtcbiAgICBMRUdFTkRfQ0hBTk5FTFMuZm9yRWFjaChjaGFubmVsID0+IHtcbiAgICAgIGlmIChjaGFuZ2UuaW5pdGlhbCAmJiBjaGFuZ2UuaW5pdGlhbFtjaGFubmVsXSkge1xuICAgICAgICBzY05hbWVzLmluaXRpYWwucHVzaChjaGFuZ2UuaW5pdGlhbFtjaGFubmVsXSk7XG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlLmZpbmFsICYmIGNoYW5nZS5maW5hbFtjaGFubmVsXSkge1xuICAgICAgICBzY05hbWVzLmZpbmFsLnB1c2goY2hhbmdlLmZpbmFsW2NoYW5uZWxdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBmaW5hbFNjYWxlTmFtZXMgPSBbXTtcbiAgICBpZiAoY2hhbmdlLnNjYWxlID09PSB0cnVlIHx8IGlzQWRkKSB7XG4gICAgICBmaW5hbFNjYWxlTmFtZXMgPSBzY05hbWVzLmZpbmFsO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGFuZ2Uuc2NhbGUpKSB7XG4gICAgICBmaW5hbFNjYWxlTmFtZXMgPSBjaGFuZ2Uuc2NhbGU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY2hhbmdlLnNjYWxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBmaW5hbFNjYWxlTmFtZXMgPSBPYmplY3Qua2V5cyhjaGFuZ2Uuc2NhbGUpLmZpbHRlcihcbiAgICAgICAgc2NOYW1lID0+IGNoYW5nZS5zY2FsZVtzY05hbWVdXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChzdGVwLmVudW1lcmF0b3IpIHtcbiAgICAgIGlmIChsZWdlbmRUeXBlcy5pbml0aWFsICE9PSBsZWdlbmRUeXBlcy5maW5hbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGVudW1lcmF0ZSB0aGUgY2hhbmdlIG9mIHRoZSBsZWdlbmQgdHlwZS5cIik7XG4gICAgICB9XG4gICAgICBjb25zdCBsZWdUeXBlID0gbGVnZW5kVHlwZXMuaW5pdGlhbCB8fCBsZWdlbmRUeXBlcy5maW5hbDtcbiAgICAgIGxldCBzdWJDb21wcztcbiAgICAgIGlmIChsZWdUeXBlID09PSBcInN5bWJvbFwiKSB7XG4gICAgICAgIGNvbnN0IHBhaXJzID0gbGVnZW5kXG4gICAgICAgICAgLnNlbGVjdChcIi5yb2xlLWxlZ2VuZC1lbnRyeSAucm9sZS1zY29wZVwiKVxuICAgICAgICAgIC5zZWxlY3RBbGwoXCIucm9sZS1zY29wZSA+IGdcIilcbiAgICAgICAgICAuZGF0YShzdGVwLmVudW1lcmF0b3IucGFpcnMuYWxsS2V5cywgZCA9PiBkKTtcbiAgICAgICAgcGFpcnMuZXhpdCgpLnJlbW92ZSgpO1xuICAgICAgICBjb25zdCBlbnRlclBhaXJTdWJHcyA9IHBhaXJzXG4gICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hcHBlbmQoXCJnXCIpO1xuICAgICAgICBlbnRlclBhaXJTdWJHc1xuICAgICAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIm1hcmstc3ltYm9sIHJvbGUtbGVnZW5kLXN5bWJvbFwiKVxuICAgICAgICAgIC5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgLmRhdHVtKChkLCBpKSA9PiBzdGVwLmVudW1lcmF0b3Iuc3ltYm9scy5hbGxLZXlzW2ldKTtcbiAgICAgICAgZW50ZXJQYWlyU3ViR3NcbiAgICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJtYXJrLXRleHQgcm9sZS1sZWdlbmQtbGFiZWxcIilcbiAgICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5kYXR1bSgoZCwgaSkgPT4gc3RlcC5lbnVtZXJhdG9yLmxhYmVscy5hbGxLZXlzW2ldKTtcblxuICAgICAgICBzdWJDb21wcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInBhaXJzXCIsXG4gICAgICAgICAgICBzZWxlY3Rpb246IGxlZ2VuZFxuICAgICAgICAgICAgICAuc2VsZWN0KFwiLnJvbGUtbGVnZW5kLWVudHJ5IC5yb2xlLXNjb3BlXCIpXG4gICAgICAgICAgICAgIC5zZWxlY3RBbGwoXCIucm9sZS1zY29wZSA+IGdcIiksXG4gICAgICAgICAgICBwcm9wczogW1wiZ3JvdXBcIl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwic3ltYm9sc1wiLFxuICAgICAgICAgICAgc2VsZWN0aW9uOiBsZWdlbmRcbiAgICAgICAgICAgICAgLnNlbGVjdChcIi5yb2xlLWxlZ2VuZC1lbnRyeSAucm9sZS1zY29wZVwiKVxuICAgICAgICAgICAgICAuc2VsZWN0QWxsKFwiLnJvbGUtbGVnZW5kLXN5bWJvbCA+IHBhdGhcIiksXG4gICAgICAgICAgICBwcm9wczogW1wic3ltYm9sXCJdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcImxhYmVsc1wiLFxuICAgICAgICAgICAgc2VsZWN0aW9uOiBsZWdlbmRcbiAgICAgICAgICAgICAgLnNlbGVjdChcIi5yb2xlLWxlZ2VuZC1lbnRyeSAucm9sZS1zY29wZVwiKVxuICAgICAgICAgICAgICAuc2VsZWN0QWxsKFwiLnJvbGUtbGVnZW5kLWxhYmVsID4gdGV4dFwiKSxcbiAgICAgICAgICAgIHByb3BzOiBbXCJ0ZXh0XCJdXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYmluZCBhbGxLZXlzXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGxlZ2VuZFxuICAgICAgICAgIC5zZWxlY3QoXCIucm9sZS1sZWdlbmQtbGFiZWxcIilcbiAgICAgICAgICAuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgIC5kYXRhKHN0ZXAuZW51bWVyYXRvci5sYWJlbHMuYWxsS2V5cywgZCA9PiBkKTtcbiAgICAgICAgc2VsZWN0aW9uLmV4aXQoKS5yZW1vdmUoKTtcbiAgICAgICAgc2VsZWN0aW9uLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKTtcblxuICAgICAgICBzdWJDb21wcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcImxhYmVsc1wiLFxuICAgICAgICAgICAgc2VsZWN0aW9uOiBsZWdlbmQuc2VsZWN0KFwiLnJvbGUtbGVnZW5kLWxhYmVsXCIpLnNlbGVjdEFsbChcInRleHRcIiksXG4gICAgICAgICAgICBzdmdFbG1UeXBlOiBcInRleHRcIixcbiAgICAgICAgICAgIHByb3BzOiBbXCJ0ZXh0XCJdXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICBpZiAoc3RlcC5jaGFuZ2UuaW5pdGlhbC5pc0JhbmQpIHtcbiAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBsZWdlbmRcbiAgICAgICAgICAgIC5zZWxlY3QoXCIucm9sZS1sZWdlbmQtYmFuZCBcIilcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoXCJwYXRoXCIpXG4gICAgICAgICAgICAuZGF0YShzdGVwLmVudW1lcmF0b3IuYmFuZHMuYWxsS2V5cywgZCA9PiBkKTtcbiAgICAgICAgICBzZWxlY3Rpb24uZXhpdCgpLnJlbW92ZSgpO1xuICAgICAgICAgIHNlbGVjdGlvbi5lbnRlcigpLmFwcGVuZChcInBhdGhcIik7XG5cbiAgICAgICAgICBzdWJDb21wcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IFwiYmFuZHNcIixcbiAgICAgICAgICAgIHNlbGVjdGlvbjogbGVnZW5kLnNlbGVjdChcIi5yb2xlLWxlZ2VuZC1iYW5kIFwiKS5zZWxlY3RBbGwoXCJwYXRoXCIpLFxuICAgICAgICAgICAgc3ZnRWxtVHlwZTogXCJwYXRoXCIsXG4gICAgICAgICAgICBwcm9wczogW1wicmVjdFwiXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoW1wiYmFuZHNcIiwgXCJhbGxcIl0sICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkb25lKFtcImdyYWRpZW50XCIsIFwiYWxsXCJdLCAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTsgLy8gVGhlIGdyYWRpZW50IGVsbXMgY2Fubm90IGJlIGVudW1lcmF0ZWQuXG4gICAgICB9XG5cbiAgICAgIHN1YkNvbXBzLmZvckVhY2goc3ViQ29tcCA9PiB7XG4gICAgICAgIGNvbnN0IHN1YkNvbXBFbnVtZXJhdG9yID0gc3RlcC5lbnVtZXJhdG9yW3N1YkNvbXAubmFtZV07XG4gICAgICAgIGNvbnN0IGdldFZhbHVlcyA9IGNhbGN1bGF0ZUdldFZhbGV1cyhcbiAgICAgICAgICBlbmNvZGVzW3N1YkNvbXAubmFtZV0sXG4gICAgICAgICAgc2NhbGVzLFxuICAgICAgICAgIHNpZ25hbHMsXG4gICAgICAgICAgY29tcHV0ZVNjYWxlLFxuICAgICAgICAgIGZpbmFsU2NhbGVOYW1lc1xuICAgICAgICApO1xuICAgICAgICBjb25zdCBhbGxQcm9wcyA9IHN1YkNvbXAucHJvcHMucmVkdWNlKChhY2MsIHByb3ApID0+IHtcbiAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChwcm9wTWFwKHByb3ApKTtcbiAgICAgICAgfSwgW10pO1xuXG4gICAgICAgIGNvbnN0IGluaXRpYWxzID0gc3ViQ29tcC5zZWxlY3Rpb24uZmlsdGVyKFxuICAgICAgICAgIGlkID0+IFtcInVwZGF0ZVwiLCBcImV4aXRcIl0uaW5kZXhPZihzdWJDb21wRW51bWVyYXRvci5zZXQoaWQsIDApKSA+PSAwXG4gICAgICAgICk7XG4gICAgICAgIGFsbFByb3BzLmZvckVhY2gocCA9PiB7XG4gICAgICAgICAgaWYgKHAudHlwZSA9PT0gXCJhdHRyVHdlZW5cIikge1xuICAgICAgICAgICAgY29uc3QgdGVtcFAgPSBPYmplY3QuYXNzaWduKHt9LCBwLCB7IHR5cGU6IFwiYXR0clwiIH0pO1xuICAgICAgICAgICAgaW5pdGlhbHNbdGVtcFAudHlwZV0oZ2V0U3R5bGUodGVtcFAudmFsKSwgaWQgPT5cbiAgICAgICAgICAgICAgc3ViQ29tcEVudW1lcmF0b3IuZ2V0UHJvcFZhbCh0ZW1wUCwgZ2V0VmFsdWVzLCAwLCBpZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgICBpbml0aWFsc1twLnR5cGVdKGlkID0+XG4gICAgICAgICAgICAgIHN1YkNvbXBFbnVtZXJhdG9yLmdldFByb3BWYWwocCwgZ2V0VmFsdWVzLCAwLCBpZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluaXRpYWxzW3AudHlwZV0oZ2V0U3R5bGUocC52YWwpLCBpZCA9PlxuICAgICAgICAgICAgICBzdWJDb21wRW51bWVyYXRvci5nZXRQcm9wVmFsKHAsIGdldFZhbHVlcywgMCwgaWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3ViQ29tcFRyYW5zaXRpb24gPSBzdWJDb21wLnNlbGVjdGlvbi50cmFuc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRpbWluZ3MgPSBlbnVtU3RlcENvbXB1dGVUaW1pbmcoc3ViQ29tcEVudW1lcmF0b3IsIHN0ZXAudGltaW5nKTtcbiAgICAgICAgYWxsUHJvcHMuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICBpZiAocC50eXBlID09PSBcImF0dHJcIikge1xuICAgICAgICAgICAgc3ViQ29tcFRyYW5zaXRpb24uYXR0clR3ZWVuKHAudmFsLCBkID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN1YkNvbXBFbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIoXG4gICAgICAgICAgICAgICAgcCxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZXNcbiAgICAgICAgICAgICAgKShkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcImF0dHJUd2VlblwiKSB7XG4gICAgICAgICAgICBzdWJDb21wVHJhbnNpdGlvbi5hdHRyVHdlZW4ocC52YWwsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN1YkNvbXBFbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIoXG4gICAgICAgICAgICAgICAgcCxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZXMsXG4gICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgICApKGQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChwLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgICAgICBzdWJDb21wVHJhbnNpdGlvbi50d2VlbihcInRleHRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICBjb25zdCB0ZXh0SW50ZXJwb2xhdG9yID0gc3ViQ29tcEVudW1lcmF0b3IuaW50ZXJwb2xhdGVBbG9uZ0VudW1NYWtlcihcbiAgICAgICAgICAgICAgICBwLFxuICAgICAgICAgICAgICAgIGdldFZhbHVlc1xuICAgICAgICAgICAgICApKGQpO1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJIVE1MID0gdGV4dEludGVycG9sYXRvcih0KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAocC50eXBlID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgICAgIHN1YkNvbXBUcmFuc2l0aW9uLnN0eWxlVHdlZW4oZ2V0U3R5bGUocC52YWwpLCBkID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN1YkNvbXBFbnVtZXJhdG9yLmludGVycG9sYXRlQWxvbmdFbnVtTWFrZXIoXG4gICAgICAgICAgICAgICAgcCxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZXNcbiAgICAgICAgICAgICAgKShkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaW50ZXJwb2xhdGUgdGhlbVxuICAgICAgICBzdWJDb21wVHJhbnNpdGlvblxuICAgICAgICAgIC5kdXJhdGlvbigoZCwgaSkgPT4gdGltaW5nc1tpXS5kdXJhdGlvbilcbiAgICAgICAgICAuZGVsYXkoKGQsIGkpID0+IHRpbWluZ3NbaV0uZGVsYXkpXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGRvbmUoW3N1YkNvbXAubmFtZSwgXCJhbGxcIl0sICgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFxuICAgICAgICBbbGVnZW5kVHlwZXMuaW5pdGlhbCwgbGVnZW5kVHlwZXMuZmluYWxdLmluZGV4T2YoXCJzeW1ib2xcIikgPj0gMCAmJlxuICAgICAgICAoZG9TeW1ib2xzIHx8IGRvTGFiZWxzKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChsZWdlbmRUeXBlcy5pbml0aWFsICE9PSBcInN5bWJvbFwiKSB7XG4gICAgICAgICAgLy8gYWRkIHRoZSBmcmFtZSBmb3IgdGhlIHN5bWJvbCBsZWdlbmQuXG4gICAgICAgICAgbGVnZW5kXG4gICAgICAgICAgICAuc2VsZWN0KFwiIC5yb2xlLWxlZ2VuZC1lbnRyeSA+IGcgPiBnXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIm1hcmstZ3JvdXAgcm9sZS1zY29wZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYWlycyA9IGxlZ2VuZFxuICAgICAgICAgIC5zZWxlY3QoXCIucm9sZS1sZWdlbmQtZW50cnkgLnJvbGUtc2NvcGVcIilcbiAgICAgICAgICAuc2VsZWN0QWxsKFwiLnJvbGUtc2NvcGUgPiBnXCIpO1xuXG4gICAgICAgIGNvbnN0IGpvaW5LZXkgPSB7XG4gICAgICAgICAgcGFpcnM6IGpvaW5LZXlHZW4oXCJwYWlyc1wiKSxcbiAgICAgICAgICBzeW1ib2xzOiBqb2luS2V5R2VuKFwic3ltYm9sc1wiKSxcbiAgICAgICAgICBsYWJlbHM6IGpvaW5LZXlHZW4oXCJsYWJlbHNcIilcbiAgICAgICAgfTsgLy8gY3VyckRhdGEuc3ltYm9scyA9PT0gY3VyckRhdGEubGFiZWxzXG4gICAgICAgIGNvbnN0IG5leHREYXRhTGFiZWxzID1cbiAgICAgICAgICBsZWdlbmRUeXBlcy5maW5hbCAhPT0gXCJzeW1ib2xcIiA/IFtdIDogc3RlcC5uZXh0RGF0YS5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGN1cnJEYXRhTGFiZWxzID1cbiAgICAgICAgICBsZWdlbmRUeXBlcy5pbml0aWFsICE9PSBcInN5bWJvbFwiID8gW10gOiBzdGVwLmN1cnJEYXRhLmxhYmVscztcbiAgICAgICAgY29uc3QgdGltaW5ncyA9IHtcbiAgICAgICAgICBwYWlyczogY29tcHV0ZVRpbWluZyhcbiAgICAgICAgICAgIHN0ZXAuY3VyckRhdGEucGFpcnMsXG4gICAgICAgICAgICBzdGVwLm5leHREYXRhLnBhaXJzLFxuICAgICAgICAgICAgc3RlcC50aW1pbmcsXG4gICAgICAgICAgICBqb2luS2V5LnBhaXJzLFxuICAgICAgICAgICAgam9pblNldFxuICAgICAgICAgICksXG4gICAgICAgICAgc3ltYm9sczogY29tcHV0ZVRpbWluZyhcbiAgICAgICAgICAgIHN0ZXAuY3VyckRhdGEuc3ltYm9scyxcbiAgICAgICAgICAgIHN0ZXAubmV4dERhdGEuc3ltYm9scyxcbiAgICAgICAgICAgIHN0ZXAudGltaW5nLFxuICAgICAgICAgICAgam9pbktleS5zeW1ib2xzLFxuICAgICAgICAgICAgam9pblNldFxuICAgICAgICAgICksXG4gICAgICAgICAgbGFiZWxzOiBjb21wdXRlVGltaW5nKFxuICAgICAgICAgICAgY3VyckRhdGFMYWJlbHMsXG4gICAgICAgICAgICBuZXh0RGF0YUxhYmVscyxcbiAgICAgICAgICAgIHN0ZXAudGltaW5nLFxuICAgICAgICAgICAgam9pbktleS5sYWJlbHMsXG4gICAgICAgICAgICBqb2luU2V0XG4gICAgICAgICAgKVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHByZXZEYXRhID0gZDMubG9jYWwoKTtcblxuICAgICAgICBwYWlycy5zZWxlY3RBbGwoXCIucm9sZS1sZWdlbmQtc3ltYm9sID4gcGF0aFwiKS5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBwcmV2RGF0YS5zZXQodGhpcywgZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBhaXJzID0gcGFpcnMuZGF0YShzdGVwLm5leHREYXRhLnBhaXJzLCBkID0+IGpvaW5LZXkucGFpcnMoZCkpO1xuICAgICAgICAvLyBpZiAoIWlzUmVtb3ZlICYmIChpc0FuaW1TZXRTeW1ib2xzLmVudGVyIHx8IGlzQW5pbVNldExhYmVscy5lbnRlcikpIHtcbiAgICAgICAgaWYgKCFpc1JlbW92ZSAmJiBwYWlycy5lbnRlcigpLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGV0IGVudGVyUGFpcnNJID0gcGFpcnMuZW50ZXIoKS5hcHBlbmQoXCJnXCIpO1xuICAgICAgICAgIGNvbnN0IGVudGVyUGFpcnNJc3ViRyA9IGVudGVyUGFpcnNJLmFwcGVuZChcImdcIik7XG4gICAgICAgICAgbGV0IGVudGVyU3ltYm9sc0kgPSBlbnRlclBhaXJzSXN1YkdcbiAgICAgICAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibWFyay1zeW1ib2wgcm9sZS1sZWdlbmQtc3ltYm9sXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgICAgICAgLmRhdHVtKChkLCBpKSA9PiBzdGVwLm5leHREYXRhLnN5bWJvbHNbaV0pO1xuICAgICAgICAgIGxldCBlbnRlckxhYmVsc0kgPSBlbnRlclBhaXJzSXN1YkdcbiAgICAgICAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibWFyay10ZXh0IHJvbGUtbGVnZW5kLWxhYmVsXCIpXG4gICAgICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgICAgLmRhdHVtKChkLCBpKSA9PiBzdGVwLm5leHREYXRhLmxhYmVsc1tpXSk7XG5cbiAgICAgICAgICBjb25zdCBhY3RpbmdTY2FsZXMgPSBzdGVwLnNhbWVEb21haW5EaW1lbnNpb25cbiAgICAgICAgICAgID8geyBwcmltYXJ5OiBzY2FsZXMuaW5pdGlhbCwgc2Vjb25kYXJ5OiBzY2FsZXMuZmluYWwgfVxuICAgICAgICAgICAgOiB7IHByaW1hcnk6IHNjYWxlcy5maW5hbCwgc2Vjb25kYXJ5OiBzY2FsZXMuaW5pdGlhbCB9O1xuXG4gICAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgZW50ZXJQYWlyc0ksXG4gICAgICAgICAgICBbXCJncm91cFwiXSxcbiAgICAgICAgICAgIGFjdGluZ1NjYWxlcyxcbiAgICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICAgIGVuY29kZXMucGFpcnMuaW5pdGlhbC5lbnRlclxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICBlbnRlclN5bWJvbHNJLFxuICAgICAgICAgICAgW1wic3ltYm9sXCJdLFxuICAgICAgICAgICAgYWN0aW5nU2NhbGVzLFxuICAgICAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICAgICAgZW5jb2Rlcy5zeW1ib2xzLmluaXRpYWwuZW50ZXJcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgZW50ZXJMYWJlbHNJLFxuICAgICAgICAgICAgW1widGV4dFwiXSxcbiAgICAgICAgICAgIGFjdGluZ1NjYWxlcyxcbiAgICAgICAgICAgIHNpZ25hbHMuaW5pdGlhbCxcbiAgICAgICAgICAgIGVuY29kZXMubGFiZWxzLmluaXRpYWwuZW50ZXJcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKGVudGVyUGFpcnNJLmRhdGEoKS5sZW5ndGggPD0gMCkge1xuICAgICAgICAgICAgZW50ZXJQYWlyc0kgPSBwYWlycy5maWx0ZXIoZCA9PiBqb2luU2V0KGQpID09PSBcImVudGVyXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGVudGVyUGFpcnNGID0gZW50ZXJQYWlyc0kudHJhbnNpdGlvbigpO1xuICAgICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICAgIGVudGVyUGFpcnNGLFxuICAgICAgICAgICAgW1wiZ3JvdXBcIl0sXG4gICAgICAgICAgICBzY2FsZXMuZmluYWwsXG4gICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAgZW5jb2Rlcy5wYWlycy5maW5hbC5lbnRlclxuICAgICAgICAgICk7XG4gICAgICAgICAgZW50ZXJQYWlyc0ZcbiAgICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgICAgdGltaW5ncy5wYWlycy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleS5wYWlycyhkLCBpLCBcImZpbmFsXCIpKVxuICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRpbWluZ3MucGFpcnMuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkucGFpcnMoZCwgaSwgXCJmaW5hbFwiKSlcbiAgICAgICAgICAgICAgICAgIC5kZWxheVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAudGhlbihkb25lKFtcInBhaXJzXCIsIFwiZW50ZXJcIl0sICgpID0+IHJlc29sdmUoKSkpO1xuXG4gICAgICAgICAgaWYgKGVudGVyU3ltYm9sc0kuZGF0YSgpLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICBlbnRlclN5bWJvbHNJID0gcGFpcnNcbiAgICAgICAgICAgICAgLnNlbGVjdEFsbChcIi5yb2xlLWxlZ2VuZC1zeW1ib2wgPiBwYXRoXCIpXG4gICAgICAgICAgICAgIC5maWx0ZXIoZCA9PiBqb2luU2V0KGQpID09PSBcImVudGVyXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBlbnRlclN5bWJvbHNGID0gZW50ZXJTeW1ib2xzSS50cmFuc2l0aW9uKCk7XG4gICAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgZW50ZXJTeW1ib2xzRixcbiAgICAgICAgICAgIFtcInN5bWJvbFwiXSxcbiAgICAgICAgICAgIHNjYWxlcyxcbiAgICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgICBlbmNvZGVzLnN5bWJvbHMuZmluYWwuZW50ZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGVudGVyU3ltYm9sc0ZcbiAgICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgICAgdGltaW5ncy5zeW1ib2xzLmZpbmQoXG4gICAgICAgICAgICAgICAgICB0ID0+IHQuaWQgPT09IGpvaW5LZXkuc3ltYm9scyhkLCBpLCBcImZpbmFsXCIpXG4gICAgICAgICAgICAgICAgKS5kdXJhdGlvblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmRlbGF5KFxuICAgICAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgICAgICB0aW1pbmdzLnN5bWJvbHMuZmluZChcbiAgICAgICAgICAgICAgICAgIHQgPT4gdC5pZCA9PT0gam9pbktleS5zeW1ib2xzKGQsIGksIFwiZmluYWxcIilcbiAgICAgICAgICAgICAgICApLmRlbGF5XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAgIC50aGVuKGRvbmUoW1wic3ltYm9sc1wiLCBcImVudGVyXCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcblxuICAgICAgICAgIGlmIChlbnRlckxhYmVsc0kuZGF0YSgpLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICBlbnRlckxhYmVsc0kgPSBwYWlyc1xuICAgICAgICAgICAgICAuc2VsZWN0QWxsKFwiLnJvbGUtbGVnZW5kLWxhYmVsID4gdGV4dFwiKVxuICAgICAgICAgICAgICAuZmlsdGVyKGQgPT4gam9pblNldChkKSA9PT0gXCJlbnRlclwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZW50ZXJMYWJlbHNGID0gZW50ZXJMYWJlbHNJLnRyYW5zaXRpb24oKTtcbiAgICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICBlbnRlckxhYmVsc0YsXG4gICAgICAgICAgICBbXCJ0ZXh0XCJdLFxuICAgICAgICAgICAgc2NhbGVzLmZpbmFsLFxuICAgICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICAgIGVuY29kZXMubGFiZWxzLmZpbmFsLmVudGVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbnRlckxhYmVsc0ZcbiAgICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgICAgdGltaW5ncy5sYWJlbHMuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkubGFiZWxzKGQsIGksIFwiZmluYWxcIikpXG4gICAgICAgICAgICAgICAgICAuZHVyYXRpb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5kZWxheShcbiAgICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgICAgdGltaW5ncy5sYWJlbHMuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkubGFiZWxzKGQsIGksIFwiZmluYWxcIikpXG4gICAgICAgICAgICAgICAgICAuZGVsYXlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgICAgLnRoZW4oZG9uZShbXCJsYWJlbHNcIiwgXCJlbnRlclwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9uZShbXCJwYWlyc1wiLCBcImVudGVyXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgIGRvbmUoW1wic3ltYm9sc1wiLCBcImVudGVyXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgIGRvbmUoW1wibGFiZWxzXCIsIFwiZW50ZXJcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAoIWlzQWRkICYmIChpc0FuaW1TZXRTeW1ib2xzLmV4aXQgfHwgaXNBbmltU2V0TGFiZWxzLmV4aXQpKSB7XG4gICAgICAgIGlmICghaXNBZGQgJiYgcGFpcnMuZXhpdCgpLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGV0IGV4aXRQYWlyc0kgPSBwYWlycy5leGl0KCk7XG4gICAgICAgICAgaWYgKGV4aXRQYWlyc0kuZGF0YSgpLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgICAgICBleGl0UGFpcnNJID0gcGFpcnMuZmlsdGVyKGQgPT4gam9pblNldChkKSA9PT0gXCJleGl0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBhY3RpbmdTY2FsZXMgPSBzdGVwLnNhbWVEb21haW5EaW1lbnNpb25cbiAgICAgICAgICAgID8geyBwcmltYXJ5OiBzY2FsZXMuZmluYWwsIHNlY29uZGFyeTogc2NhbGVzLmluaXRpYWwgfVxuICAgICAgICAgICAgOiB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9O1xuXG4gICAgICAgICAgY29uc3QgZXhpdFBhaXJzRiA9IGV4aXRQYWlyc0kudHJhbnNpdGlvbigpO1xuICAgICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICAgIGV4aXRQYWlyc0YsXG4gICAgICAgICAgICBbXCJncm91cFwiXSxcbiAgICAgICAgICAgIGFjdGluZ1NjYWxlcyxcbiAgICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgICBlbmNvZGVzLnBhaXJzLmZpbmFsLmV4aXRcbiAgICAgICAgICApO1xuICAgICAgICAgIGV4aXRQYWlyc0ZcbiAgICAgICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgICAgdGltaW5ncy5wYWlycy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleS5wYWlycyhkLCBpLCBcImluaXRpYWxcIikpXG4gICAgICAgICAgICAgICAgICAuZHVyYXRpb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5kZWxheShcbiAgICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgICAgdGltaW5ncy5wYWlycy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleS5wYWlycyhkLCBpLCBcImluaXRpYWxcIikpXG4gICAgICAgICAgICAgICAgICAuZGVsYXlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAgIC5yZW1vdmUoKVxuICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAudGhlbihkb25lKFtcInBhaXJzXCIsIFwiZXhpdFwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cbiAgICAgICAgICBjb25zdCBleGl0U3ltYm9sc0kgPSBleGl0UGFpcnNJLnNlbGVjdEFsbChcbiAgICAgICAgICAgIFwiLnJvbGUtbGVnZW5kLXN5bWJvbCA+IHBhdGhcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgZXhpdFN5bWJvbHNGID0gZXhpdFN5bWJvbHNJLnRyYW5zaXRpb24oKTtcbiAgICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICBleGl0U3ltYm9sc0YsXG4gICAgICAgICAgICBbXCJzeW1ib2xcIl0sXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzY2FsZXMsIHtcbiAgICAgICAgICAgICAgcHJpbWFyeTogc2NhbGVzLmZpbmFsLFxuICAgICAgICAgICAgICBzZWNvbmRhcnk6IHNjYWxlcy5pbml0aWFsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgICBlbmNvZGVzLnN5bWJvbHMuZmluYWwuZXhpdFxuICAgICAgICAgICk7XG4gICAgICAgICAgZXhpdFN5bWJvbHNGXG4gICAgICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRpbWluZ3Muc3ltYm9scy5maW5kKFxuICAgICAgICAgICAgICAgICAgdCA9PiB0LmlkID09PSBqb2luS2V5LnN5bWJvbHMoZCwgaSwgXCJpbml0aWFsXCIpXG4gICAgICAgICAgICAgICAgKS5kdXJhdGlvblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmRlbGF5KFxuICAgICAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgICAgICB0aW1pbmdzLnN5bWJvbHMuZmluZChcbiAgICAgICAgICAgICAgICAgIHQgPT4gdC5pZCA9PT0gam9pbktleS5zeW1ib2xzKGQsIGksIFwiaW5pdGlhbFwiKVxuICAgICAgICAgICAgICAgICkuZGVsYXlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAgIC5yZW1vdmUoKVxuICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAudGhlbihkb25lKFtcInN5bWJvbHNcIiwgXCJleGl0XCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcblxuICAgICAgICAgIGNvbnN0IGV4aXRMYWJlbHNJID0gZXhpdFBhaXJzSS5zZWxlY3RBbGwoXCIucm9sZS1sZWdlbmQtbGFiZWwgPiB0ZXh0XCIpO1xuICAgICAgICAgIGNvbnN0IGV4aXRMYWJlbHNGID0gZXhpdExhYmVsc0kudHJhbnNpdGlvbigpO1xuICAgICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICAgIGV4aXRMYWJlbHNGLFxuICAgICAgICAgICAgW1widGV4dFwiXSxcbiAgICAgICAgICAgIGFjdGluZ1NjYWxlcyxcbiAgICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgICBlbmNvZGVzLmxhYmVscy5maW5hbC5leGl0XG4gICAgICAgICAgKTtcbiAgICAgICAgICBleGl0TGFiZWxzRlxuICAgICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgICAgICB0aW1pbmdzLmxhYmVscy5maW5kKFxuICAgICAgICAgICAgICAgICAgdCA9PiB0LmlkID09PSBqb2luS2V5LmxhYmVscyhkLCBpLCBcImluaXRpYWxcIilcbiAgICAgICAgICAgICAgICApLmR1cmF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRpbWluZ3MubGFiZWxzLmZpbmQoXG4gICAgICAgICAgICAgICAgICB0ID0+IHQuaWQgPT09IGpvaW5LZXkubGFiZWxzKGQsIGksIFwiaW5pdGlhbFwiKVxuICAgICAgICAgICAgICAgICkuZGVsYXlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAgIC5yZW1vdmUoKVxuICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAudGhlbihkb25lKFtcImxhYmVsc1wiLCBcImV4aXRcIl0sICgpID0+IHJlc29sdmUoKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoW1wicGFpcnNcIiwgXCJleGl0XCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgIGRvbmUoW1wibGFiZWxzXCIsIFwiZXhpdFwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgICBkb25lKFtcInN5bWJvbHNcIiwgXCJleGl0XCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhaXJzLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gaWYgKChpc0FuaW1TZXRTeW1ib2xzLnVwZGF0ZSB8fCBpc0FuaW1TZXRMYWJlbHMudXBkYXRlKSAmJiBwYWlycy5kYXRhKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZVBhaXJzRiA9IHBhaXJzXG4gICAgICAgICAgICAuZmlsdGVyKGQgPT4gam9pblNldChkKSA9PT0gXCJ1cGRhdGVcIilcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKCk7XG4gICAgICAgICAgLy8gZmluYWxpemUgdGhlIHVwZGF0ZSBzZXQgb2YgdGhlIHBhaXJzXG4gICAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgdXBkYXRlUGFpcnNGLFxuICAgICAgICAgICAgW1wiZ3JvdXBcIl0sXG4gICAgICAgICAgICBzY2FsZXMuZmluYWwsXG4gICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAgZW5jb2Rlcy5wYWlycy5maW5hbC51cGRhdGVcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdXBkYXRlUGFpcnNGXG4gICAgICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRpbWluZ3MucGFpcnMuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkucGFpcnMoZCwgaSkpLmR1cmF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRpbWluZ3MucGFpcnMuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkucGFpcnMoZCwgaSkpLmRlbGF5XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAgIC50aGVuKGRvbmUoW1wicGFpcnNcIiwgXCJ1cGRhdGVcIl0sICgpID0+IHJlc29sdmUoKSkpO1xuXG4gICAgICAgICAgY29uc3QgdXBkYXRlU3ltYm9sc0kgPSBwYWlyc1xuICAgICAgICAgICAgLnNlbGVjdChcIi5yb2xlLWxlZ2VuZC1zeW1ib2wgPiBwYXRoXCIpXG4gICAgICAgICAgICAuZGF0dW0oKGQsIGkpID0+IHN0ZXAubmV4dERhdGEuc3ltYm9sc1tpXSk7XG4gICAgICAgICAgY29uc3QgdXBkYXRlU3ltYm9sc0YgPSB1cGRhdGVTeW1ib2xzSS50cmFuc2l0aW9uKCk7XG4gICAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgdXBkYXRlU3ltYm9sc0YsXG4gICAgICAgICAgICBbXCJzeW1ib2xcIl0sXG4gICAgICAgICAgICBzY2FsZXMsXG4gICAgICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpbml0aWFsOiBlbmNvZGVzLnN5bWJvbHMuaW5pdGlhbC51cGRhdGUsXG4gICAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVzLnN5bWJvbHMuZmluYWwudXBkYXRlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJldkRhdGFcbiAgICAgICAgICApO1xuICAgICAgICAgIHVwZGF0ZVN5bWJvbHNGXG4gICAgICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRpbWluZ3Muc3ltYm9scy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleS5zeW1ib2xzKGQsIGkpKVxuICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRpbWluZ3Muc3ltYm9scy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleS5zeW1ib2xzKGQsIGkpKS5kZWxheVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgICAgLmVuZCgpXG4gICAgICAgICAgICAudGhlbihkb25lKFtcInN5bWJvbHNcIiwgXCJ1cGRhdGVcIl0sICgpID0+IHJlc29sdmUoKSkpO1xuXG4gICAgICAgICAgY29uc3QgdXBkYXRlTGFiZWxzSSA9IHBhaXJzXG4gICAgICAgICAgICAuc2VsZWN0KFwiLnJvbGUtbGVnZW5kLWxhYmVsID4gdGV4dFwiKVxuICAgICAgICAgICAgLmRhdHVtKChkLCBpKSA9PiBzdGVwLm5leHREYXRhLmxhYmVsc1tpXSk7XG4gICAgICAgICAgY29uc3QgdXBkYXRlTGFiZWxzRiA9IHVwZGF0ZUxhYmVsc0kudHJhbnNpdGlvbigpO1xuICAgICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICAgIHVwZGF0ZUxhYmVsc0YsXG4gICAgICAgICAgICBbXCJ0ZXh0XCJdLFxuICAgICAgICAgICAgc2NhbGVzLmZpbmFsLFxuICAgICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICAgIGVuY29kZXMubGFiZWxzLmZpbmFsLnVwZGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlTGFiZWxzRlxuICAgICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgICAgICB0aW1pbmdzLmxhYmVscy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleS5sYWJlbHMoZCwgaSkpLmR1cmF0aW9uXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuZGVsYXkoXG4gICAgICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRpbWluZ3MubGFiZWxzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5LmxhYmVscyhkLCBpKSkuZGVsYXlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgICAgLnRoZW4oZG9uZShbXCJsYWJlbHNcIiwgXCJ1cGRhdGVcIl0sICgpID0+IHJlc29sdmUoKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoW1wicGFpcnNcIiwgXCJ1cGRhdGVcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgZG9uZShbXCJzeW1ib2xzXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgIGRvbmUoW1wibGFiZWxzXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIFtsZWdlbmRUeXBlcy5pbml0aWFsLCBsZWdlbmRUeXBlcy5maW5hbF0uaW5kZXhPZihcImdyYWRpZW50XCIpID49IDAgJiZcbiAgICAgICAgKGRvR3JhZGllbnQgfHwgZG9MYWJlbHMpXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgZW50cnlHID0gbGVnZW5kLnNlbGVjdChcIiAucm9sZS1sZWdlbmQtZW50cnkgPiBnID4gZ1wiKTtcbiAgICAgICAgaWYgKGxlZ2VuZFR5cGVzLmluaXRpYWwgIT09IFwiZ3JhZGllbnRcIikge1xuICAgICAgICAgIC8vIGFkZCB0aGUgZnJhbWUgZm9yIHRoZSBzeW1ib2wgbGVnZW5kLlxuICAgICAgICAgIGVudHJ5Ry5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm1hcmstdGV4dCByb2xlLWxlZ2VuZC1sYWJlbFwiKTtcblxuICAgICAgICAgIGlmIChzdGVwLmNoYW5nZS5maW5hbC5pc0JhbmQpIHtcbiAgICAgICAgICAgIGVudHJ5Ry5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm1hcmstcmVjdCByb2xlLWxlZ2VuZC1iYW5kXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbnRyeUcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJtYXJrLXJlY3Qgcm9sZS1sZWdlbmQtZ3JhZGllbnRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0ZXAuY2hhbmdlLmluaXRpYWwuaXNCYW5kICYmICFzdGVwLmNoYW5nZS5maW5hbC5pc0JhbmQgKSB7XG4gICAgICAgICAgZW50cnlHLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwibWFyay1yZWN0IHJvbGUtbGVnZW5kLWdyYWRpZW50XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdGVwLmNoYW5nZS5pbml0aWFsLmlzQmFuZCAmJiBzdGVwLmNoYW5nZS5maW5hbC5pc0JhbmQpIHtcbiAgICAgICAgICBlbnRyeUcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJtYXJrLXJlY3Qgcm9sZS1sZWdlbmQtYmFuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhYmVsRyA9IGxlZ2VuZC5zZWxlY3QoXG4gICAgICAgICAgXCIgLnJvbGUtbGVnZW5kLWVudHJ5ID4gZyA+IGcgPiAucm9sZS1sZWdlbmQtbGFiZWxcIlxuICAgICAgICApO1xuICAgICAgICBpZiAoZG9MYWJlbHMgJiYgIWxhYmVsRy5lbXB0eSgpKSB7XG4gICAgICAgICAgZ3JhZGllbnRTdWJDb21wKFwibGFiZWxzXCIsIGxhYmVsRywgXCJ0ZXh0XCIsIFtcInRleHRcIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoW1wibGFiZWxzXCIsIFwiYWxsXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ3JhZGllbnRHID0gbGVnZW5kLnNlbGVjdChcIi5yb2xlLWxlZ2VuZC1ncmFkaWVudFwiKTtcbiAgICAgICAgaWYgKGRvR3JhZGllbnQgJiYgIWdyYWRpZW50Ry5lbXB0eSgpKSB7XG4gICAgICAgICAgZ3JhZGllbnRTdWJDb21wKFwiZ3JhZGllbnRcIiwgZ3JhZGllbnRHLCBcInBhdGhcIiwgW1wiZ3JhZGllbnRcIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoW1wiZ3JhZGllbnRcIiwgXCJhbGxcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiYW5kc0cgPSBsZWdlbmQuc2VsZWN0KFwiLnJvbGUtbGVnZW5kLWJhbmRcIik7XG4gICAgICAgIGlmIChkb0dyYWRpZW50ICYmICFiYW5kc0cuZW1wdHkoKSkge1xuICAgICAgICAgIGdyYWRpZW50U3ViQ29tcChcImJhbmRzXCIsIGJhbmRzRywgXCJwYXRoXCIsIFtcInJlY3RcIl0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbmUoW1wiYmFuZHNcIiwgXCJhbGxcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaXRsZVxuICAgIGNvbnN0IHRpdGxlRyA9IGxlZ2VuZC5zZWxlY3QoXCIucm9sZS1sZWdlbmQtdGl0bGVcIik7XG4gICAgaWYgKCF0aXRsZUcuZW1wdHkoKSAmJiBkb1RpdGxlKSB7XG4gICAgICBsZXQgdGl0bGUgPSB0aXRsZUcuc2VsZWN0QWxsKFwidGV4dFwiKTtcblxuXG4gICAgICBjb25zdCBqb2luS2V5ID0gam9pbktleUdlbihcInRpdGxlXCIpO1xuICAgICAgY29uc3QgdGltaW5ncyA9IGNvbXB1dGVUaW1pbmcoXG4gICAgICAgIHN0ZXAuY3VyckRhdGEudGl0bGUsXG4gICAgICAgIHN0ZXAubmV4dERhdGEudGl0bGUsXG4gICAgICAgIHN0ZXAudGltaW5nLFxuICAgICAgICBqb2luS2V5LFxuICAgICAgICBqb2luU2V0XG4gICAgICApO1xuXG4gICAgICB0aXRsZSA9IHRpdGxlLmRhdGEoc3RlcC5uZXh0RGF0YS50aXRsZSwgZCA9PiBkLnRleHQpO1xuICAgICAgY29uc3QgZW50ZXJUaXRsZUkgPSB0aXRsZS5lbnRlcigpLmFwcGVuZChcInRleHRcIik7XG5cbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZW50ZXJUaXRsZUksXG4gICAgICAgIFtcInRpdGxlXCIsIFwiYWxpZ25cIl0sXG4gICAgICAgIHt9LFxuICAgICAgICBzaWduYWxzLmluaXRpYWwsXG4gICAgICAgIGVuY29kZXMudGl0bGUuaW5pdGlhbC5lbnRlclxuICAgICAgKTtcblxuXG4gICAgICBjb25zdCBlbnRlclRpdGxlRiA9IGVudGVyVGl0bGVJLnRyYW5zaXRpb24oKTtcbiAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgZW50ZXJUaXRsZUYsXG4gICAgICAgIFtcInRpdGxlXCIsIFwiYWxpZ25cIl0sXG4gICAgICAgIHt9LFxuICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICBlbmNvZGVzLnRpdGxlLmZpbmFsLmVudGVyXG4gICAgICApO1xuICAgICAgZW50ZXJUaXRsZUZcbiAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgIChkLCBpKSA9PlxuICAgICAgICAgICAgdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBcImZpbmFsXCIpKS5kdXJhdGlvblxuICAgICAgICApXG4gICAgICAgIC5kZWxheShcbiAgICAgICAgICAoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBcImZpbmFsXCIpKS5kZWxheVxuICAgICAgICApXG4gICAgICAgIC5lYXNlKGVhc2VGbilcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC50aGVuKGRvbmUoW1widGl0bGVcIiwgXCJlbnRlclwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG5cblxuXG5cbiAgICAgIGNvbnN0IGV4aXRUaXRsZUkgPSB0aXRsZS5leGl0KCk7XG4gICAgICBjb25zdCBleGl0VGl0bGVGID0gZXhpdFRpdGxlSS50cmFuc2l0aW9uKCk7XG4gICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgIGV4aXRUaXRsZUYsXG4gICAgICAgIFtcInRpdGxlXCIsIFwiYWxpZ25cIl0sXG4gICAgICAgIHt9LFxuICAgICAgICBzaWduYWxzLmZpbmFsLFxuICAgICAgICBlbmNvZGVzLnRpdGxlLmZpbmFsLmV4aXRcbiAgICAgICk7XG4gICAgICBleGl0VGl0bGVGXG4gICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgIHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJpbml0aWFsXCIpKS5kdXJhdGlvblxuICAgICAgICApXG4gICAgICAgIC5kZWxheShcbiAgICAgICAgICAoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBcImluaXRpYWxcIikpLmRlbGF5XG4gICAgICAgIClcbiAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAucmVtb3ZlKClcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC50aGVuKGRvbmUoW1widGl0bGVcIiwgXCJleGl0XCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcblxuXG5cblxuICAgICAgdGl0bGUgPSB0aXRsZS50cmFuc2l0aW9uKCk7XG4gICAgICAvLyB1cGRhdGUgdGhlIHRpdGxlXG4gICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBbXCJ0aXRsZVwiLCBcImFsaWduXCJdLFxuICAgICAgICB7fSxcbiAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgZW5jb2Rlcy50aXRsZS5maW5hbC51cGRhdGVcbiAgICAgICk7XG5cbiAgICAgIHRpdGxlXG4gICAgICAgIC5kdXJhdGlvbihcbiAgICAgICAgICAoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpKSkuZHVyYXRpb25cbiAgICAgICAgKVxuICAgICAgICAuZGVsYXkoKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSkpLmRlbGF5KVxuICAgICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAudGhlbihkb25lKFtcInRpdGxlXCIsIFwidXBkYXRlXCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcblxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZ3JhZGllbnRTdWJDb21wKFxuICAgICAgc3ViQ29tcE5hbWUsXG4gICAgICBzdWJDb21wRyxcbiAgICAgIHN1YkNvbXBTdmdFbG1UeXBlLFxuICAgICAgc3ViQ29tcFByb3BzXG4gICAgKSB7XG4gICAgICBjb25zdCBwcmV2RGF0YSA9IGQzLmxvY2FsKCk7XG4gICAgICBsZXQgc3ViQ29tcFNlbGVjdGlvbiA9IHN1YkNvbXBHLnNlbGVjdEFsbChzdWJDb21wU3ZnRWxtVHlwZSk7XG5cbiAgICAgIGNvbnN0IGpvaW5LZXkgPSBqb2luS2V5R2VuKHN1YkNvbXBOYW1lKTtcbiAgICAgIGNvbnN0IG5leHREYXRhID1cbiAgICAgICAgc3ViQ29tcE5hbWUgPT09IFwibGFiZWxzXCIgJiYgbGVnZW5kVHlwZXMuZmluYWwgIT09IFwiZ3JhZGllbnRcIlxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHN0ZXAubmV4dERhdGFbc3ViQ29tcE5hbWVdO1xuICAgICAgY29uc3QgY3VyckRhdGEgPVxuICAgICAgICBzdWJDb21wTmFtZSA9PT0gXCJsYWJlbHNcIiAmJiBsZWdlbmRUeXBlcy5pbml0aWFsICE9PSBcImdyYWRpZW50XCJcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiBzdGVwLmN1cnJEYXRhW3N1YkNvbXBOYW1lXTtcbiAgICAgIGNvbnN0IHRpbWluZ3MgPSBjb21wdXRlVGltaW5nKFxuICAgICAgICBjdXJyRGF0YSxcbiAgICAgICAgbmV4dERhdGEsXG4gICAgICAgIHN0ZXAudGltaW5nLFxuICAgICAgICBqb2luS2V5LFxuICAgICAgICBqb2luU2V0XG4gICAgICApO1xuICAgICAgc3ViQ29tcFNlbGVjdGlvbi5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgcHJldkRhdGEuc2V0KHRoaXMsIGQpO1xuICAgICAgfSk7XG4gICAgICBzdWJDb21wU2VsZWN0aW9uID0gc3ViQ29tcFNlbGVjdGlvbi5kYXRhKG5leHREYXRhLCAoZCwgaSkgPT5cbiAgICAgICAgam9pbktleShkLCBpKVxuICAgICAgKTtcblxuICAgICAgLy8gaWYgKCFpc1JlbW92ZSAmJiBpc0FuaW1TZXQuZW50ZXIpIHtcbiAgICAgIGlmICghaXNSZW1vdmUgJiYgc3ViQ29tcFNlbGVjdGlvbi5lbnRlcigpLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBlbnRlclN1YkNvbXBJID0gc3ViQ29tcFNlbGVjdGlvbi5lbnRlcigpLmFwcGVuZChzdWJDb21wU3ZnRWxtVHlwZSk7XG5cbiAgICAgICAgZmV0Y2hBdHRyaWJ1dGVzKFxuICAgICAgICAgIGVudGVyU3ViQ29tcEksXG4gICAgICAgICAgc3ViQ29tcFByb3BzLFxuICAgICAgICAgIHN0ZXAuc2FtZURvbWFpbkRpbWVuc2lvblxuICAgICAgICAgICAgPyB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9XG4gICAgICAgICAgICA6IHsgcHJpbWFyeTogc2NhbGVzLmZpbmFsLCBzZWNvbmRhcnk6IHNjYWxlcy5pbml0aWFsIH0sXG4gICAgICAgICAgc2lnbmFscy5pbml0aWFsLFxuICAgICAgICAgIGVuY29kZXNbc3ViQ29tcE5hbWVdLmluaXRpYWwuZW50ZXJcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoZW50ZXJTdWJDb21wSS5kYXRhKCkubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICBlbnRlclN1YkNvbXBJID0gc3ViQ29tcEdcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoc3ViQ29tcFN2Z0VsbVR5cGUpXG4gICAgICAgICAgICAuZmlsdGVyKGQgPT4gam9pblNldChkKSA9PT0gXCJlbnRlclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbnRlclN1YkNvbXBGID0gZW50ZXJTdWJDb21wSS50cmFuc2l0aW9uKCk7XG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICBlbnRlclN1YkNvbXBGLFxuICAgICAgICAgIHN1YkNvbXBQcm9wcyxcbiAgICAgICAgICBzY2FsZXMsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICBlbmNvZGVzW3N1YkNvbXBOYW1lXS5maW5hbC5lbnRlcixcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuICAgICAgICBlbnRlclN1YkNvbXBGXG4gICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgKGQsIGkpID0+XG4gICAgICAgICAgICAgIHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJmaW5hbFwiKSkuZHVyYXRpb25cbiAgICAgICAgICApXG4gICAgICAgICAgLmRlbGF5KFxuICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSwgXCJmaW5hbFwiKSkuZGVsYXlcbiAgICAgICAgICApXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKGRvbmUoW3N1YkNvbXBOYW1lLCBcImVudGVyXCJdLCAoKSA9PiByZXNvbHZlKCkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoW3N1YkNvbXBOYW1lLCBcImVudGVyXCJdLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiAoIWlzQWRkICYmIGlzQW5pbVNldC5leGl0KSB7XG4gICAgICBpZiAoIWlzQWRkICYmIHN1YkNvbXBTZWxlY3Rpb24uZXhpdCgpLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGV4aXRTdWJDb21wSSA9IHN1YkNvbXBTZWxlY3Rpb24uZXhpdCgpO1xuICAgICAgICBjb25zdCBleGl0U3ViQ29tcEYgPSBleGl0U3ViQ29tcEkudHJhbnNpdGlvbigpO1xuICAgICAgICBmZXRjaEF0dHJpYnV0ZXMoXG4gICAgICAgICAgZXhpdFN1YkNvbXBGLFxuICAgICAgICAgIHN1YkNvbXBQcm9wcyxcbiAgICAgICAgICBzdGVwLnNhbWVEb21haW5EaW1lbnNpb25cbiAgICAgICAgICAgID8geyBwcmltYXJ5OiBzY2FsZXMuZmluYWwsIHNlY29uZGFyeTogc2NhbGVzLmluaXRpYWwgfVxuICAgICAgICAgICAgOiB7IHByaW1hcnk6IHNjYWxlcy5pbml0aWFsLCBzZWNvbmRhcnk6IHNjYWxlcy5maW5hbCB9LFxuICAgICAgICAgIHNpZ25hbHMuZmluYWwsXG4gICAgICAgICAgZW5jb2Rlc1tzdWJDb21wTmFtZV0uZmluYWwuZXhpdCxcbiAgICAgICAgICBwcmV2RGF0YVxuICAgICAgICApO1xuICAgICAgICBleGl0U3ViQ29tcEZcbiAgICAgICAgICAuZHVyYXRpb24oXG4gICAgICAgICAgICAoZCwgaSkgPT5cbiAgICAgICAgICAgICAgdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpLCBcImluaXRpYWxcIikpLmR1cmF0aW9uXG4gICAgICAgICAgKVxuICAgICAgICAgIC5kZWxheShcbiAgICAgICAgICAgIChkLCBpKSA9PiB0aW1pbmdzLmZpbmQodCA9PiB0LmlkID09PSBqb2luS2V5KGQsIGksIFwiaW5pdGlhbFwiKSkuZGVsYXlcbiAgICAgICAgICApXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5yZW1vdmUoKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKGRvbmUoW3N1YkNvbXBOYW1lLCBcImV4aXRcIl0sICgpID0+IHJlc29sdmUoKSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZShbc3ViQ29tcE5hbWUsIFwiZXhpdFwiXSwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgKChpc0FuaW1TZXQudXBkYXRlKSAmJiBzdWJDb21wU2VsZWN0aW9uLmRhdGEoKS5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoc3ViQ29tcFNlbGVjdGlvbi5kYXRhKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB1cGRhdGVTdWJDb21wRiA9IHN1YkNvbXBTZWxlY3Rpb24udHJhbnNpdGlvbigpO1xuICAgICAgICBsZXQgbW9kaWZpZWRTdWJDb21wUHJvcHMgPSBzdWJDb21wTmFtZSA9PT0gXCJncmFkaWVudFwiXG4gICAgICAgICAgPyBbeyBuYW1lOiBcImdyYWRpZW50XCIsIGV4Y2x1ZGVzOiBbeyB0eXBlOiBcInN0eWxlXCIsIHZhbDogXCJmaWxsXCIgfV0gfV1cbiAgICAgICAgICA6IHN1YkNvbXBQcm9wcztcblxuXG4gICAgICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgICAgICB1cGRhdGVTdWJDb21wRixcbiAgICAgICAgICBtb2RpZmllZFN1YkNvbXBQcm9wcyxcbiAgICAgICAgICBzY2FsZXMsXG4gICAgICAgICAgc2lnbmFscy5maW5hbCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbml0aWFsOiBlbmNvZGVzW3N1YkNvbXBOYW1lXS5pbml0aWFsLnVwZGF0ZSxcbiAgICAgICAgICAgIGZpbmFsOiBlbmNvZGVzW3N1YkNvbXBOYW1lXS5maW5hbC51cGRhdGVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZEYXRhXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdWJDb21wTmFtZSA9PT0gXCJncmFkaWVudFwiKSB7XG4gICAgICAgICAgdXBkYXRlR3JhZGllbnRGaWxsKHN1YkNvbXBTZWxlY3Rpb24sIHN0ZXApO1xuICAgICAgICB9XG5cblxuXG4gICAgICAgIHVwZGF0ZVN1YkNvbXBGXG4gICAgICAgICAgLmR1cmF0aW9uKFxuICAgICAgICAgICAgKGQsIGkpID0+IHRpbWluZ3MuZmluZCh0ID0+IHQuaWQgPT09IGpvaW5LZXkoZCwgaSkpLmR1cmF0aW9uXG4gICAgICAgICAgKVxuICAgICAgICAgIC5kZWxheSgoZCwgaSkgPT4gdGltaW5ncy5maW5kKHQgPT4gdC5pZCA9PT0gam9pbktleShkLCBpKSkuZGVsYXkpXG4gICAgICAgICAgLmVhc2UoZWFzZUZuKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC50aGVuKGRvbmUoW3N1YkNvbXBOYW1lLCBcInVwZGF0ZVwiXSwgKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKFtzdWJDb21wTmFtZSwgXCJ1cGRhdGVcIl0sICgpID0+IHJlc29sdmUoKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUdyYWRpZW50RmlsbChncmFkQ29tcFNlbGVjdGlvbiwgc3RlcCkge1xuICBjb25zdCB1cmwgPSBncmFkQ29tcFNlbGVjdGlvbi5ub2RlKCkuc3R5bGUuZmlsbC5yZXBsYWNlKC9edXJsXFwoWydcIl0vLCBcIlwiKS5yZXBsYWNlKC9bJ1wiXVxcKSQvLCBcIlwiKTtcbiAgY29uc3QgdmdEYXR1bSA9IGdyYWRDb21wU2VsZWN0aW9uLmRhdGEoKVswXTtcbiAgY29uc3QgZ3JhZGllbnRJZCA9IHVybC5zcGxpdChcIiNcIikucG9wKCk7XG4gIGNvbnN0IGdyYWRpZW50ID0gZDMuc2VsZWN0KGAjJHtncmFkaWVudElkfWApO1xuICBncmFkaWVudC5zZWxlY3RBbGwoXCJzdG9wXCIpXG4gICAgLmRhdGEodmdEYXR1bS5maWxsLnN0b3BzLCBkID0+IChkIHx8IHt9KS5vZmZzZXQpXG4gICAgLnRyYW5zaXRpb24oKVxuICAgIC5hdHRyKFwic3RvcC1jb2xvclwiLCBkPT4gZC5jb2xvcilcbiAgICAuZHVyYXRpb24oc3RlcC5kdXJhdGlvbilcbiAgICAuZGVsYXkoc3RlcC5kZWxheSk7XG4gIGdyYWRpZW50LnRyYW5zaXRpb24oKVxuICAgIC5hdHRyKFwieDFcIiwgdmdEYXR1bS5maWxsLngxKVxuICAgIC5hdHRyKFwieDJcIiwgdmdEYXR1bS5maWxsLngyKVxuICAgIC5hdHRyKFwieTFcIiwgdmdEYXR1bS5maWxsLnkxKVxuICAgIC5hdHRyKFwieTJcIiwgdmdEYXR1bS5maWxsLnkyKVxuICAgIC5kdXJhdGlvbihzdGVwLmR1cmF0aW9uKVxuICAgIC5kZWxheShzdGVwLmRlbGF5KTtcblxufVxuZnVuY3Rpb24gYWRkTGVnZW5kKGQzU2VsZWN0aW9uLCBuZXdMZWdlbmRTY2VuZSkge1xuICBjb25zdCBjb21wTmFtZSA9IG5ld0xlZ2VuZFNjZW5lLm5hbWU7XG4gIGNvbnN0IGVsZW0gPSBzdmdSZW5kZXIobmV3TGVnZW5kU2NlbmUpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXG4gICAgXCJyb2xlLWxlZ2VuZFwiXG4gIClbMF07XG4gIGQzU2VsZWN0aW9uLm5vZGUoKS5hcHBlbmRDaGlsZChlbGVtKTtcbiAgY29uc3QgeyBkYXR1bSB9ID0gbmV3TGVnZW5kU2NlbmUuaXRlbXNbMF07XG4gIC8vIGFmdGVyIGFkZGluZyB0aGUgcmVuZGVyZWQgcmVzdWx0LCBkZWxldGUgdGhlIGl0ZW1zIHRvIHJlLWVuY29kZSBhY2NvcmRpbmcgdG8gYGVuY29kZXNgLlxuXG4gIGlmIChkYXR1bS50aXRsZSkge1xuICAgIGQzU2VsZWN0aW9uLnNlbGVjdChgLiR7Y29tcE5hbWV9IC5yb2xlLWxlZ2VuZC10aXRsZSB0ZXh0YCkucmVtb3ZlKCk7XG4gIH1cbiAgaWYgKGRhdHVtLnR5cGUgPT09IFwic3ltYm9sXCIpIHtcbiAgICBkM1NlbGVjdGlvblxuICAgICAgLnNlbGVjdEFsbChgLiR7Y29tcE5hbWV9IC5yb2xlLWxlZ2VuZC1lbnRyeSAucm9sZS1zY29wZSA+IGdgKVxuICAgICAgLnJlbW92ZSgpO1xuICB9IGVsc2Uge1xuICAgIGQzU2VsZWN0aW9uXG4gICAgICAuc2VsZWN0QWxsKGAuJHtjb21wTmFtZX0gLnJvbGUtbGVnZW5kLWVudHJ5IC5yb2xlLWxlZ2VuZC1sYWJlbCA+IHRleHRgKVxuICAgICAgLnJlbW92ZSgpO1xuICAgIGQzU2VsZWN0aW9uXG4gICAgICAuc2VsZWN0QWxsKGAuJHtjb21wTmFtZX0gLnJvbGUtbGVnZW5kLWVudHJ5IC5yb2xlLWxlZ2VuZC1ncmFkaWVudCA+IHBhdGhgKVxuICAgICAgLnJlbW92ZSgpO1xuICAgIGQzU2VsZWN0aW9uXG4gICAgICAuc2VsZWN0QWxsKGAuJHtjb21wTmFtZX0gLnJvbGUtbGVnZW5kLWVudHJ5IC5yb2xlLWxlZ2VuZC1iYW5kID4gcGF0aGApXG4gICAgICAucmVtb3ZlKCk7XG4gIH1cblxuICByZXR1cm4gZDNTZWxlY3Rpb247XG59XG5cbmV4cG9ydCB7IGxlZ2VuZEludGVycG9sYXRlIH07XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCB7IHRyYW5zZm9ybUl0ZW0gfSBmcm9tIFwiLi92ZWdhLXJlbmRlci11dGlsXCI7XG5pbXBvcnQgeyBnZXRFYXNlRm4gfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBmZXRjaEF0dHJpYnV0ZXMgfSBmcm9tIFwiLi9hdHRyaWJ1dGVGZXRjaGVyXCI7XG5cbmZ1bmN0aW9uIHZpZXdJbnRlcnBvbGF0ZShyYXdJbmZvLCBzdGVwLCB0YXJnZXRFbG0pIHtcbiAgY29uc3QgYW5pbVZpcyA9IHRhcmdldEVsbTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBlYXNlRm4gPSBnZXRFYXNlRm4oc3RlcC50aW1pbmcuZWFzZSk7XG5cbiAgICBpZiAoc3RlcC5jaGFuZ2Uuc2lnbmFsID09PSBmYWxzZSkge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBkMy5zZWxlY3QoYCR7YW5pbVZpc30gc3ZnYCk7XG4gICAgY29uc3Qgc3ZnRW5jb2RlID0gc3RlcC5lbmNvZGVzLmZpbmFsLnN2ZztcbiAgICAvLyB1cGRhdGUgc3ZnXG4gICAgLy8gV2hlbiBqdXN0IGFwcGx5aW5nIGF0dHIoXCJ3aWR0aFwiLCAuLi4pLCB0aGUgc2l6ZSBvZiB0aGUgY2hhcnQgaml0dGVycy5cbiAgICB2aWV3XG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAudHdlZW4oXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHcgPSBkMy5pbnRlcnBvbGF0ZShcbiAgICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLFxuICAgICAgICAgIHN2Z0VuY29kZS53aWR0aC52YWx1ZVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBoID0gZDMuaW50ZXJwb2xhdGUoXG4gICAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksXG4gICAgICAgICAgc3ZnRW5jb2RlLmhlaWdodC52YWx1ZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgICAgIGNvbnN0IF93ID0gTWF0aC5yb3VuZCh3KHQpICogMSkgLyAxO1xuICAgICAgICAgIGNvbnN0IF9oID0gTWF0aC5yb3VuZChoKHQpICogMSkgLyAxO1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgX3cpO1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIF9oKTtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgYDAgMCAke193fSAke19ofWApO1xuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5kdXJhdGlvbihzdGVwLmR1cmF0aW9uKVxuICAgICAgLmRlbGF5KHN0ZXAuZGVsYXkpXG4gICAgICAuZWFzZShlYXNlRm4pXG4gICAgICAuZW5kKClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgc3ZnID4gZ1xuICAgIHZpZXdcbiAgICAgIC5zZWxlY3QoXCJnXCIpXG4gICAgICAudHJhbnNpdGlvbigpXG4gICAgICAuYXR0cihcbiAgICAgICAgXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgdHJhbnNmb3JtSXRlbSh7IHg6IHN2Z0VuY29kZS54LnZhbHVlLCB5OiBzdmdFbmNvZGUueS52YWx1ZSB9KVxuICAgICAgKVxuICAgICAgLmR1cmF0aW9uKHN0ZXAuZHVyYXRpb24pXG4gICAgICAuZGVsYXkoc3RlcC5kZWxheSlcbiAgICAgIC5lYXNlKGVhc2VGbik7XG5cbiAgICAvLyB1cGRhdGUgYmFja2dyb3VuZFxuICAgIGxldCByb290ID0gdmlldy5zZWxlY3QoXCIucm9vdCBnID4gLmJhY2tncm91bmRcIik7XG4gICAgY29uc3Qgcm9vdEVuY29kZSA9IHN0ZXAuZW5jb2Rlcy5maW5hbC5yb290O1xuICAgIGNvbnN0IGZEYXR1bSA9IE9iamVjdC5rZXlzKHJvb3RFbmNvZGUpLnJlZHVjZSgoZkRhdHVtLCBrZXkpID0+IHtcbiAgICAgIGZEYXR1bVtrZXldID0gcm9vdEVuY29kZVtrZXldLnZhbHVlO1xuICAgICAgcmV0dXJuIGZEYXR1bTtcbiAgICB9LCB7fSk7XG4gICAgcm9vdCA9IHJvb3QuZGF0YShbZkRhdHVtXSkudHJhbnNpdGlvbigpO1xuICAgIGZldGNoQXR0cmlidXRlcyhcbiAgICAgIHJvb3QsXG4gICAgICBbXCJiYWNrZ3JvdW5kXCIsIFwiZmlsbFwiLCBcInN0cm9rZVwiXSxcbiAgICAgIHt9LFxuICAgICAgc3RlcC5zaWduYWxzLmZpbmFsLFxuICAgICAgcm9vdEVuY29kZVxuICAgICk7XG5cbiAgICByb290XG4gICAgICAuZHVyYXRpb24oc3RlcC5kdXJhdGlvbilcbiAgICAgIC5kZWxheShzdGVwLmRlbGF5KVxuICAgICAgLmVhc2UoZWFzZUZuKTtcblxuICAgIC8vIHVwZGF0ZSBmcmFtZVxuICB9KTtcbn1cblxuZXhwb3J0IHsgdmlld0ludGVycG9sYXRlIH07XG4iLCJpbXBvcnQgeyBtYXJrSW50ZXJwb2xhdGUgfSBmcm9tIFwiLi9tYXJrL21hcmtcIjtcbmltcG9ydCB7IGFyZWFMaW5lSW50ZXJwb2xhdGUgfSBmcm9tIFwiLi9tYXJrL2FyZWFMaW5lXCI7XG5pbXBvcnQgeyBheGlzSW50ZXJwb2xhdGUgfSBmcm9tIFwiLi9heGlzXCI7XG5pbXBvcnQgeyBsZWdlbmRJbnRlcnBvbGF0ZSB9IGZyb20gXCIuL2xlZ2VuZFwiO1xuaW1wb3J0IHsgdmlld0ludGVycG9sYXRlIH0gZnJvbSBcIi4vdmlld1wiO1xuaW1wb3J0IHsgaXNMaW5lYXJNYXJrdHlwZX0gZnJvbSBcIi4vdXRpbFwiO1xuXG5jb25zdCBMSUJSQVJZID0ge1xuICBsZWdlbmQ6IGxlZ2VuZEludGVycG9sYXRlLFxuICBheGlzOiBheGlzSW50ZXJwb2xhdGUsXG4gIG1hcms6IHtcbiAgICBpbnRlcnBvbGF0ZToge1xuICAgICAgb3RoZXJzOiBtYXJrSW50ZXJwb2xhdGUsXG4gICAgICBhcmVhTGluZTogYXJlYUxpbmVJbnRlcnBvbGF0ZVxuICAgIH0sXG4gICAgbWFya3R5cGVDaGFuZ2VcbiAgfSxcbiAgdmlldzogdmlld0ludGVycG9sYXRlLFxuICBwYXVzZTogc3RlcCA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCBzdGVwLmR1cmF0aW9uICsgc3RlcC5kZWxheSk7XG4gICAgfSk7XG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzdGVwKSB7XG4gIGxldCB0ZW1wbGF0ZTtcbiAgY29uc3QgeyBtYXJrdHlwZXMgfSA9IHN0ZXA7XG4gIGlmIChzdGVwLmNvbXBUeXBlID09PSBcIm1hcmtcIikge1xuICAgIGlmIChcbiAgICAgIG1hcmt0eXBlcy5maW5hbCAmJlxuICAgICAgbWFya3R5cGVzLmluaXRpYWwgJiZcbiAgICAgIG1hcmt0eXBlcy5pbml0aWFsICE9PSBzdGVwLm1hcmt0eXBlcy5maW5hbFxuICAgICkge1xuICAgICAgdGVtcGxhdGUgPSBMSUJSQVJZLm1hcmsubWFya3R5cGVDaGFuZ2U7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGlzTGluZWFyTWFya3R5cGUobWFya3R5cGVzLmluaXRpYWwpIHx8IGlzTGluZWFyTWFya3R5cGUobWFya3R5cGVzLmZpbmFsKVxuICAgICkge1xuICAgICAgdGVtcGxhdGUgPSBMSUJSQVJZLm1hcmsuaW50ZXJwb2xhdGUuYXJlYUxpbmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBsYXRlID0gTElCUkFSWS5tYXJrLmludGVycG9sYXRlLm90aGVycztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGVtcGxhdGUgPSBMSUJSQVJZW3N0ZXAuY29tcFR5cGVdO1xuICB9XG5cbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG5hc3luYyBmdW5jdGlvbiBtYXJrdHlwZUNoYW5nZShyYXdJbmZvLCBzdGVwLCB0YXJnZXRFbG0pIHtcbiAgY29uc3QgbVR5cGVJID0gc3RlcC5tYXJrdHlwZXMuaW5pdGlhbDtcbiAgY29uc3QgbVR5cGVGID0gc3RlcC5tYXJrdHlwZXMuZmluYWw7XG4gIGlmICggaXNMaW5lYXJNYXJrdHlwZShtVHlwZUYpICYmIGlzTGluZWFyTWFya3R5cGUobVR5cGVJKSkge1xuICAgIHJldHVybiBMSUJSQVJZLm1hcmsuaW50ZXJwb2xhdGUuYXJlYUxpbmUocmF3SW5mbywgc3RlcCwgdGFyZ2V0RWxtKTtcbiAgfVxuICBpZiAoXG4gICAgKCBpc0xpbmVhck1hcmt0eXBlKG1UeXBlSSkgJiYgW1wicnVsZVwiLCBcInJlY3RcIiwgXCJzeW1ib2xcIiwgXCJ0ZXh0XCJdLmluZGV4T2YobVR5cGVGKSA+PSAwKSB8fFxuICAgICggaXNMaW5lYXJNYXJrdHlwZShtVHlwZUYpICYmIFtcInJ1bGVcIiwgXCJyZWN0XCIsIFwic3ltYm9sXCIsIFwidGV4dFwiXS5pbmRleE9mKG1UeXBlSSkgPj0gMClcbiAgKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIExJQlJBUlkubWFyay5pbnRlcnBvbGF0ZS5vdGhlcnMocmF3SW5mbywgc3RlcCwgdGFyZ2V0RWxtKSxcbiAgICAgIExJQlJBUlkubWFyay5pbnRlcnBvbGF0ZS5hcmVhTGluZShyYXdJbmZvLCBzdGVwLCB0YXJnZXRFbG0pXG4gICAgXSk7XG4gIH1cbiAgcmV0dXJuIExJQlJBUlkubWFyay5pbnRlcnBvbGF0ZS5vdGhlcnMocmF3SW5mbywgc3RlcCwgdGFyZ2V0RWxtKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0SW50ZXJwb2xhdG9yKHN0ZXAsIHN0YXRlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBuZXh0U3RhdGUgPSBgJHtzdGF0ZX0gJHtzdGVwLmNvbXBOYW1lfWA7XG4gICAgICByZXNvbHZlKG5leHRTdGF0ZSk7XG4gICAgfSwgc3RlcC5kdXJhdGlvbiArIHN0ZXAuZGVsYXkpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7YXR0YWNoU3RhdGVzfSBmcm9tIFwiLi9jaGFuZ2VGZXRjaGVyXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdXRvU2NhbGVPcmRlcihleHRlbmRlZFNjaGVkdWxlLCByZXNvbHZlcywgcmF3SW5mbykge1xuICBjb25zdCBtYWluVGltZWxpbmUgPSBleHRlbmRlZFNjaGVkdWxlLmdldFRpbWVsaW5lKFwiOm1haW5cIik7XG5cbiAgbGV0IGV4dGVuZGVkVGltZWxpbmUgPSBhd2FpdCBhdHRhY2hTdGF0ZXMobWFpblRpbWVsaW5lLCByYXdJbmZvKTtcbiAgY29uc3Qgc2NhbGVPcmRlclJlc292bGVzID0gcmVzb2x2ZXMuZmlsdGVyKHIgPT4gci5hdXRvU2NhbGVPcmRlciksXG4gICAgc2NoZWR1bGVBbHRlcm5hdG9yID0gZXh0ZW5kZWRTY2hlZHVsZS5nZXRUaW1lbGluZUFsdGVybmF0b3Ioc2NhbGVPcmRlclJlc292bGVzKTtcblxuICB3aGlsZSAoIXZhbGlkYXRlU2NhbGVPcmRlcihzY2FsZU9yZGVyUmVzb3ZsZXMsIGV4dGVuZGVkVGltZWxpbmUpKSB7XG4gICAgY29uc3QgYWx0VGltZWxpbmUgPSBzY2hlZHVsZUFsdGVybmF0b3IoKTtcbiAgICBpZiAoIWFsdFRpbWVsaW5lKSB7XG4gICAgICBleHRlbmRlZFRpbWVsaW5lID0gYXdhaXQgYXR0YWNoU3RhdGVzKG1haW5UaW1lbGluZSwgcmF3SW5mbyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgZXh0ZW5kZWRUaW1lbGluZSA9IGF3YWl0IGF0dGFjaFN0YXRlcyhhbHRUaW1lbGluZSwgcmF3SW5mbyk7XG4gIH1cbiAgcmV0dXJuIGV4dGVuZGVkVGltZWxpbmU7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlU2NhbGVPcmRlcihyZXNvbHZlcywgdGltZWxpbmUpIHtcbiAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgcmVzb2x2ZXMuZm9yRWFjaChyZXNvbHZlID0+IHtcbiAgICByZXNvbHZlLmF1dG9TY2FsZU9yZGVyLmZvckVhY2goY29tcE5hbWUgPT4ge1xuICAgICAgY29uc3QgZm91bmRUcmFjayA9IHRpbWVsaW5lLmZpbmQodHJhY2sgPT4gdHJhY2suY29tcE5hbWUgPT09IGNvbXBOYW1lKTtcbiAgICAgIGlmIChmb3VuZFRyYWNrICYmIGZvdW5kVHJhY2suc2NhbGVPcmRlclZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICB2YWxpZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHZhbGlkO1xufSIsImNsYXNzIEFuaW1hdGlvblNlcXVlbmNlIHtcblxuICBjb25zdHJ1Y3RvcihhbmltYXRpb25zKSB7XG4gICAgdGhpcy5hbmltYXRpb25zID0gYW5pbWF0aW9ucztcbiAgICB0aGlzLnN0YXR1cyA9IFwicmVhZHlcIjtcbiAgICB0aGlzLnNwZWNzID0gYW5pbWF0aW9ucy5tYXAoYW5pbSA9PiBhbmltLnNwZWMpO1xuICAgIHRoaXMubG9ncyA9IFtdO1xuICAgIHRoaXMucmF3SW5mb3MgPSBhbmltYXRpb25zLm1hcChhbmltID0+IGFuaW0ucmF3SW5mbyk7XG4gIH1cblxuICBsb2codGltZXN0YW1wLCBtZXNzYWdlLCBpbmZvKSB7XG4gICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiB0aW1lc3RhbXAgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMubG9ncy5wdXNoKHtcbiAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBpbmZvXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubG9ncztcbiAgfVxuXG4gIGFzeW5jIHBsYXkgKHRhcmdldEVsbSkge1xuICAgIC8vIHBsYXkgYW5kIHJldHVybiB0aGUgcHJvbXNpZVxuICAgIGNvbnN0IGdsb2JhbFNUaW1lID0gbmV3IERhdGUoKTtcblxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1tpXTtcbiAgICAgIHRoaXMubG9nKG5ldyBEYXRlKCkgLSBnbG9iYWxTVGltZSwgYFN0YXJ0IHRoZSAke2l9LXRoIGFuaW1hdGVkIHRyYW5zaXRpb24uYCk7XG4gICAgICBhd2FpdCBhbmltYXRpb24ucGxheSh0YXJnZXRFbG0pO1xuICAgICAgaWYgKGkgPCAodGhpcy5hbmltYXRpb25zLmxlbmd0aCAtIDEpKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0RWxtKTtcbiAgICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZChhbmltYXRpb24ucmF3SW5mby5lVmlzLmh0bWxEaXYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBBbmltYXRpb25TZXF1ZW5jZSB9O1xuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgKiBhcyB2ZWdhTGl0ZSBmcm9tIFwidmVnYS1saXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZsMnZnNGdlbWluaSh2bFNwZWMpIHtcbiAgbGV0IHZnU3BlYyA9IHZlZ2FMaXRlLmNvbXBpbGUodmxTcGVjKS5zcGVjO1xuICB2Z1NwZWMuYXhlcyA9IG1lcmdlRHVwbGljYXRlZEF4ZXModmdTcGVjLmF4ZXMpO1xuICBhcHBlbmROYW1lc09uR3VpZGVzKHZnU3BlYyk7XG4gIHJldHVybiB2Z1NwZWM7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNhc3RWTDJWRyh2bFNwZWMpIHtcbiAgaWYgKHZsU3BlYyAmJiB2bFNwZWMuJHNjaGVtYSAmJiB2bFNwZWMuJHNjaGVtYS5pbmRleE9mKFwiaHR0cHM6Ly92ZWdhLmdpdGh1Yi5pby9zY2hlbWEvdmVnYS1saXRlXCIpID49IDApe1xuICAgIHJldHVybiB2bDJ2ZzRnZW1pbmkodmxTcGVjKVxuICB9XG4gIHJldHVybiB2bFNwZWNcbn1cblxuXG5mdW5jdGlvbiBhcHBlbmROYW1lc09uR3VpZGVzKHZnU3BlYyl7XG4gIGlmICh2Z1NwZWMuYXhlcykge1xuICAgIHZnU3BlYy5heGVzLmZvckVhY2goYXhpcyA9PiB7XG4gICAgICBpZiAoIWF4aXMuZW5jb2RlKSB7XG4gICAgICAgIGF4aXMuZW5jb2RlID0ge2F4aXM6IHtuYW1lOiBheGlzLnNjYWxlfX07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBheGlzLmVuY29kZS5heGlzID0geyAuLi5heGlzLmVuY29kZS5heGlzLCBuYW1lOiBheGlzLnNjYWxlIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKHZnU3BlYy5sZWdlbmRzKSB7XG4gICAgdmdTcGVjLmxlZ2VuZHMuZm9yRWFjaCgobGVnZW5kLCBpKSA9PiB7XG4gICAgICBpZiAoIWxlZ2VuZC5lbmNvZGUpIHtcbiAgICAgICAgbGVnZW5kLmVuY29kZSA9IHtsZWdlbmQ6IHtuYW1lOiBgbGVnZW5kJHtpfWB9fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlZ2VuZC5lbmNvZGUubGVnZW5kID0gT2JqZWN0LmFzc2lnbih7fSwgbGVnZW5kLmVuY29kZS5sZWdlbmQsIHtuYW1lOiBgbGVnZW5kJHtpfWB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIG1lcmdlRHVwbGljYXRlZEF4ZXModmVnYUF4ZXMpIHtcbiAgaWYgKCF2ZWdhQXhlcyB8fCB2ZWdhQXhlcy5sZW5ndGggPD0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBsZXQgYXhlc1NjYWxlcyA9IHZlZ2FBeGVzLmZpbHRlcihhID0+IGEuZ3JpZCkubWFwKGEgPT4gYS5zY2FsZSk7XG5cbiAgcmV0dXJuIGQzLnJvbGx1cHModmVnYUF4ZXMsXG4gICAgYXhlcyA9PiB7XG4gICAgICBsZXQgYXhpc1dpdGhHcmlkID0gYXhlcy5maW5kKGEgPT4gYS5ncmlkKTtcbiAgICAgIGxldCBheGlzV2l0aG91dEdyaWQgPSB7IC4uLmF4ZXMuZmluZChhID0+ICFhLmdyaWQpIH07XG5cbiAgICAgIGlmIChheGlzV2l0aEdyaWQpIHtcbiAgICAgICAgYXhpc1dpdGhvdXRHcmlkLmdyaWQgPSB0cnVlO1xuICAgICAgICBpZiAoYXhpc1dpdGhHcmlkLmdyaWRTY2FsZSkge1xuICAgICAgICAgIGF4aXNXaXRob3V0R3JpZC5ncmlkU2NhbGUgPSBheGlzV2l0aEdyaWQuZ3JpZFNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGF4aXNXaXRob3V0R3JpZC56aW5kZXggPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF4aXNXaXRob3V0R3JpZDtcbiAgICB9LFxuICAgIGF4aXMgPT4gYXhpcy5zY2FsZVxuICApLm1hcChkID0+IGRbMV0pXG4gICAuc29ydCgoYSxiKSA9PiAoYXhlc1NjYWxlcy5pbmRleE9mKGEuc2NhbGUpIC0gYXhlc1NjYWxlcy5pbmRleE9mKGIuc2NhbGUpKSk7XG59XG5cbiIsImltcG9ydCAqIGFzIHZlZ2EgZnJvbSBcInZlZ2FcIjtcbmltcG9ydCB7IEFuaW1hdGlvbiB9IGZyb20gXCIuL2FuaW1hdGlvblwiO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9wYXJzZXJcIjtcbmltcG9ydCB7IGF0dGFjaENoYW5nZXMgfSBmcm9tIFwiLi9jaGFuZ2VGZXRjaGVyXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIEFjdHVhdG9yIH0gZnJvbSBcIi4vYWN0dWF0b3JcIjtcbmltcG9ydCB7IGF1dG9TY2FsZU9yZGVyIH0gZnJvbSBcIi4vcmVzb2x2ZXJcIjtcbmltcG9ydCB7IEFuaW1hdGlvblNlcXVlbmNlIH0gZnJvbSBcIi4vYW5pbWF0aW9uU2VxdWVuY2VcIjtcbmltcG9ydCB7IGNhc3RWTDJWRyB9IGZyb20gXCIuL3V0aWwvdmwydmc0Z2VtaW5pXCI7XG5cblxuZnVuY3Rpb24gYXR0YWNoQW5pbVRlbXBsYXRlcyhzY2hlZHVsZSkge1xuICBzY2hlZHVsZS5mb3JFYWNoKHRyYWNrID0+IHtcbiAgICB0cmFjay5zdGVwcyA9IHRyYWNrLnN0ZXBzLm1hcChzdGVwID0+IHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gQWN0dWF0b3Ioc3RlcCk7XG4gICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgYFRoZXJlIGlzIG5vIHN1Y2ggYW5pbWF0aW9uIHRlbXBsYXRlIGZvciAke3N0ZXAuY29tcFR5cGV9LmBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgc3RlcC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmNsYXNzIEdlbWluaSB7XG5cbiAgc3RhdGljIGFzeW5jIGFuaW1hdGVTZXF1ZW5jZSh2aXNTZXF1ZW5jZSwgYW5pbVNwZWNzKSB7XG4gICAgLy8gMSkgY29tcGlsZSB0aGUgZWFjaCBob3BcbiAgICBjb25zdCB2aWV3cyA9IG5ldyBBcnJheSh2aXNTZXF1ZW5jZS5sZW5ndGgpO1xuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHZpc1NlcXVlbmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzU3BlYyA9IGNhc3RWTDJWRyh2aXNTZXF1ZW5jZVtpLTFdKTtcbiAgICAgIGNvbnN0IGVTcGVjID0gY2FzdFZMMlZHKHZpc1NlcXVlbmNlW2ldKTtcbiAgICAgIGNvbnN0IGdlbVNwZWMgPSBhbmltU3BlY3NbaS0xXTtcbiAgICAgIGNvbnN0IHNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29uc3QgZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb25zdCBzVmlldyA9IGF3YWl0IG5ldyB2ZWdhLlZpZXcodmVnYS5wYXJzZShzU3BlYyksIHtcbiAgICAgICAgcmVuZGVyZXI6IFwic3ZnXCJcbiAgICAgIH0pLnJ1bkFzeW5jKCk7XG4gICAgICBjb25zdCBlVmlldyA9IGF3YWl0IG5ldyB2ZWdhLlZpZXcodmVnYS5wYXJzZShlU3BlYyksIHtcbiAgICAgICAgcmVuZGVyZXI6IFwic3ZnXCJcbiAgICAgIH0pLnJ1bkFzeW5jKCk7XG5cbiAgICAgIC8vIGNyZWF0ZSBvbmVzIGZvciByZXBsYWNpbmcgZGl2cy5cbiAgICAgIGF3YWl0IG5ldyB2ZWdhLlZpZXcodmVnYS5wYXJzZShzU3BlYyksIHtcbiAgICAgICAgcmVuZGVyZXI6IFwic3ZnXCJcbiAgICAgIH0pLmluaXRpYWxpemUoc0RpdikucnVuQXN5bmMoKTtcbiAgICAgIGF3YWl0IG5ldyB2ZWdhLlZpZXcodmVnYS5wYXJzZShlU3BlYyksIHtcbiAgICAgICAgcmVuZGVyZXI6IFwic3ZnXCJcbiAgICAgIH0pLmluaXRpYWxpemUoZURpdikucnVuQXN5bmMoKTtcblxuICAgICAgY29uc3QgcmF3SW5mbyA9IHtcbiAgICAgICAgc1ZpczogeyB2aWV3OiBzVmlldywgc3BlYzogc1NwZWMsIGh0bWxEaXY6IHNEaXYgfSxcbiAgICAgICAgZVZpczogeyB2aWV3OiBlVmlldywgc3BlYzogZVNwZWMsIGh0bWxEaXY6IGVEaXYgfVxuICAgICAgfTtcblxuXG4gICAgICBhbmltYXRpb25zLnB1c2goYXdhaXQgX2FuaW1hdGUoZ2VtU3BlYywgcmF3SW5mbykpXG5cbiAgICAgIGlmIChpPT09MSAmJiAhdmlld3NbaS0xXSl7XG4gICAgICAgIHZpZXdzW2ktMV0gPSBzVmlldztcbiAgICAgIH07XG4gICAgICBpZiAoIXZpZXdzW2ldKXtcbiAgICAgICAgdmlld3NbaV0gPSBlVmlldztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBBbmltYXRpb25TZXF1ZW5jZShhbmltYXRpb25zKTtcbiAgfVxuICBzdGF0aWMgYXN5bmMgYW5pbWF0ZShzdGFydFZpc1NwZWMsIGVuZFZpc1NwZWMsIGdlbWluaVNwZWMpIHtcbiAgICBjb25zdCBzU3BlYyA9IGNhc3RWTDJWRyhzdGFydFZpc1NwZWMpLCBlU3BlYyA9IChlbmRWaXNTcGVjKTtcbiAgICBjb25zdCBlVmlldyA9IGF3YWl0IG5ldyB2ZWdhLlZpZXcodmVnYS5wYXJzZShlU3BlYyksIHtcbiAgICAgIHJlbmRlcmVyOiBcInN2Z1wiXG4gICAgfSkucnVuQXN5bmMoKTtcblxuICAgIGNvbnN0IHNWaWV3ID0gYXdhaXQgbmV3IHZlZ2EuVmlldyh2ZWdhLnBhcnNlKHNTcGVjKSwge1xuICAgICAgcmVuZGVyZXI6IFwic3ZnXCJcbiAgICB9KS5ydW5Bc3luYygpO1xuXG4gICAgY29uc3QgcmF3SW5mbyA9IHtcbiAgICAgIHNWaXM6IHsgdmlldzogc1ZpZXcsIHNwZWM6IHNTcGVjIH0sXG4gICAgICBlVmlzOiB7IHZpZXc6IGVWaWV3LCBzcGVjOiBlU3BlYyB9XG4gICAgfTtcblxuXG4gICAgcmV0dXJuIGF3YWl0IF9hbmltYXRlKGdlbWluaVNwZWMsIHJhd0luZm8pO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBfYW5pbWF0ZShnZW1TcGVjLCByYXdJbmZvKXtcbiAgY29uc3QgeyBzY2hlZHVsZSwgcmVzb2x2ZXMgfSA9IHBhcnNlKGdlbVNwZWMsIHJhd0luZm8pO1xuICBzY2hlZHVsZS50cmFja3MgPSBhdHRhY2hDaGFuZ2VzKHJhd0luZm8sIHNjaGVkdWxlLnRyYWNrcyk7XG4gIGNvbnN0IGZpbmFsVGltZWxpbmUgPSBhd2FpdCBhdXRvU2NhbGVPcmRlcihzY2hlZHVsZSwgcmVzb2x2ZXMsIHJhd0luZm8pO1xuXG4gIHJldHVybiBuZXcgQW5pbWF0aW9uKGF0dGFjaEFuaW1UZW1wbGF0ZXMoZmluYWxUaW1lbGluZSksIHJhd0luZm8sIGdlbVNwZWMpO1xufVxuXG5leHBvcnQge1xuICBHZW1pbmksXG4gIGF0dGFjaEFuaW1UZW1wbGF0ZXMgYXMgYXR0YWNoQW5pbVRlbXBsYXRlXG59O1xuIiwiaW1wb3J0IHsgY29weSB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcblxuY29uc3QgTUlOX1BPU19ERUxUQSA9IDM7XG5jb25zdCBDSEFOTkVMX1RPX0FUVFJTID0gW1xuICB7IGNoYW5uZWw6IFwieFwiLCBhdHRyczogW1wieFwiLCBcIngyXCIsIFwieGNcIiwgXCJ3aWR0aFwiXSB9LFxuICB7IGNoYW5uZWw6IFwieVwiLCBhdHRyczogW1wieVwiLCBcInkyXCIsIFwieWNcIiwgXCJoZWlnaHRcIl0gfSxcbiAgeyBjaGFubmVsOiBcImNvbG9yXCIsIGF0dHJzOiBbXCJzdHJva2VcIiwgXCJmaWxsXCJdIH0sXG4gIHsgY2hhbm5lbDogXCJzaGFwZVwiLCBhdHRyczogW1wic2hhcGVcIl0gfSxcbiAgeyBjaGFubmVsOiBcInNpemVcIiwgYXR0cnM6IFtcInNpemVcIl0gfSxcbiAgeyBjaGFubmVsOiBcIm9wYWNpdHlcIiwgYXR0cnM6IFtcIm9wYWNpdHlcIl0gfSxcbiAgeyBjaGFubmVsOiBcInRleHRcIiwgYXR0cnM6IFtcInRleHRcIl0gfSxcbiAgeyBjaGFubmVsOiBcIm90aGVyc1wiLCBhdHRyczogW1widG9vbHRpcFwiLCBcImRlZmluZVwiLCBcInN0cm9rZVdpZHRoXCJdIH1cbl07XG5jb25zdCBDSEFOTkVMUyA9IFtcInhcIiwgXCJ5XCIsIFwiY29sb3JcIiwgXCJzaGFwZVwiLCBcInNpemVcIiwgXCJvcGFjaXR5XCIsIFwidGV4dFwiXTtcblxuY29uc3QgQ0hBTk5FTF9UT19BVFRSU19PQkogPSB7XG4gIHg6IFtcInhcIiwgXCJ4MlwiLCBcInhjXCIsIFwid2lkdGhcIl0sXG4gIHk6IFtcInlcIiwgXCJ5MlwiLCBcInljXCIsIFwiaGVpZ2h0XCJdLFxuICBjb2xvcjogW1wic3Ryb2tlXCIsIFwiZmlsbFwiXSxcbiAgc2hhcGU6IFtcInNoYXBlXCJdLFxuICBzaXplOiBbXCJzaXplXCJdLFxuICBvcGFjaXR5OiBbXCJvcGFjaXR5XCJdLFxuICB0ZXh0OiBbXCJ0ZXh0XCJdLFxuICBvdGhlcnM6IFtcInRvb2x0aXBcIiwgXCJkZWZpbmVcIiwgXCJzdHJva2VXaWR0aFwiXVxufTtcblxuZnVuY3Rpb24gZ2V0U3ViRW5jb2RlQnlDaGFubmVsKGVuY29kZSwgY2hhbm5lbCkge1xuICBjb25zdCBzdWJFbmNvZGUgPSB7fTtcbiAgaWYgKGNoYW5uZWwgPT09IFwib3RoZXJzXCIpIHtcbiAgICBjb25zdCBvdGhlckVuY29kZSA9IGNvcHkoZW5jb2RlKTtcbiAgICBDSEFOTkVMX1RPX0FUVFJTLnJlZHVjZSgoY2hhbm5lbFJlbGF0ZWRBdHRycywgY2gyQXR0cnMpID0+IHtcbiAgICAgIHJldHVybiAoY2hhbm5lbFJlbGF0ZWRBdHRycyA9IGNoYW5uZWxSZWxhdGVkQXR0cnMuY29uY2F0KGNoMkF0dHJzLmF0dHJzKSk7XG4gICAgfSwgW10pLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICBkZWxldGUgb3RoZXJFbmNvZGVbYXR0cl07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb3RoZXJFbmNvZGU7XG4gIH1cblxuICBDSEFOTkVMX1RPX0FUVFJTX09CSltjaGFubmVsXVxuICAgIC8vIC5maWx0ZXIoYXR0ciA9PiBlbmNvZGVbYXR0cl0pXG4gICAgLmZvckVhY2goYXR0ciA9PiB7XG4gICAgICBzdWJFbmNvZGVbYXR0cl0gPSBlbmNvZGVbYXR0cl07XG4gICAgfSk7XG4gIHJldHVybiBzdWJFbmNvZGU7XG59XG5mdW5jdGlvbiBnZXRDb3JlQXR0cihzdWJFbmNvZGUsIGNoYW5uZWwsIG1hcmt0eXBlKXtcbiAgaWYgKCFzdWJFbmNvZGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGNoYW5uZWwgPT09IFwiY29sb3JcIikge1xuICAgIGxldCBjb3JlQXR0ciA9IFtcImxpbmVcIiwgXCJydWxlXCIsIFwic3ltYm9sXCJdLmluZGV4T2YobWFya3R5cGUpID49IDBcbiAgICAgID8gc3ViRW5jb2RlLnN0cm9rZVxuICAgICAgOiBzdWJFbmNvZGUuZmlsbDtcblxuICAgIGlmIChcbiAgICAgIGNvcmVBdHRyID09PSBcInN5bWJvbFwiICYmXG4gICAgICAgIHN1YkVuY29kZS5maWxsICYmXG4gICAgICAgIHN1YkVuY29kZS5maWxsLnZhbHVlICE9PSBcInRyYW5zcGFyZW50XCJcbiAgICApIHtcbiAgICAgIGNvcmVBdHRyID0gc3ViRW5jb2RlLmZpbGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvcmVBdHRyO1xuICB9XG4gIGlmIChjaGFubmVsPT09XCJ4XCIpIHtcbiAgICByZXR1cm4gc3ViRW5jb2RlLnggIHx8IHN1YkVuY29kZS54YztcbiAgfSBlbHNlIGlmIChjaGFubmVsPT09XCJ5XCIpIHtcbiAgICByZXR1cm4gc3ViRW5jb2RlLnkgIHx8IHN1YkVuY29kZS55YztcbiAgfVxuICByZXR1cm4gc3ViRW5jb2RlW2NoYW5uZWxdO1xufVxuXG5mdW5jdGlvbiBzZXRVcFJlY29tT3B0KG9wdCkge1xuICBsZXQgX29wdCA9IGNvcHkob3B0KTtcbiAgX29wdC5heGVzID0gX29wdC5heGVzIHx8IHt9O1xuICBmb3IgKGNvbnN0IHNjYWxlTmFtZSBpbiBfb3B0LnNjYWxlcyB8fCB7fSkge1xuICAgIF9vcHQuYXhlc1tzY2FsZU5hbWVdID0gX29wdC5heGVzW3NjYWxlTmFtZV0gfHwge307XG4gICAgX29wdC5heGVzW3NjYWxlTmFtZV0uY2hhbmdlID0gX29wdC5heGVzW3NjYWxlTmFtZV0uY2hhbmdlIHx8IHt9O1xuICAgIF9vcHQuYXhlc1tzY2FsZU5hbWVdLmNoYW5nZS5zY2FsZSA9IF9vcHQuYXhlc1tzY2FsZU5hbWVdLmNoYW5nZS5zY2FsZSB8fCB7fTtcbiAgICBpZiAoX29wdC5heGVzW3NjYWxlTmFtZV0uY2hhbmdlLnNjYWxlICE9PSBmYWxzZSkge1xuICAgICAgX29wdC5heGVzW3NjYWxlTmFtZV0uY2hhbmdlLnNjYWxlLmRvbWFpbkRpbWVuc2lvbiA9IF9vcHQuc2NhbGVzW3NjYWxlTmFtZV0uZG9tYWluRGltZW5zaW9uO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX29wdFxufVxuXG5leHBvcnQge1xuICBDSEFOTkVMUyxcbiAgQ0hBTk5FTF9UT19BVFRSU19PQkosXG4gIE1JTl9QT1NfREVMVEEsXG4gIGdldFN1YkVuY29kZUJ5Q2hhbm5lbCxcbiAgZ2V0Q29yZUF0dHIsXG4gIHNldFVwUmVjb21PcHRcbn07XG4iLCJpbXBvcnQgeyBnZXRDb21wb25lbnRzLCBnZXRDaGFuZ2VzLCBnZXRWaWV3Q2hhbmdlIH0gZnJvbSBcIi4uL2NoYW5nZUZldGNoZXIvY2hhbmdlXCI7XG5pbXBvcnQgeyBjb3B5LCBkZWVwRXF1YWwsIGlzTnVtYmVyLCBnZXQgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XG5pbXBvcnQgeyBmaW5kQ29tcCB9IGZyb20gXCIuLi9hY3R1YXRvci91dGlsXCI7XG5pbXBvcnQgeyBjb21wdXRlSGFzRmFjZXQsIGlzR3JvdXBpbmdNYXJrdHlwZSB9IGZyb20gXCIuLi9jaGFuZ2VGZXRjaGVyL3N0YXRlL3V0aWxcIjtcbmltcG9ydCB7IENIQU5ORUxTLCBnZXRTdWJFbmNvZGVCeUNoYW5uZWwsIE1JTl9QT1NfREVMVEEsZ2V0Q29yZUF0dHIgfSBmcm9tIFwiLi91dGlsXCI7XG5pbXBvcnQgeyBnZXRNYXJrRGF0YSwgdW5wYWNrRGF0YSB9IGZyb20gXCIuLi91dGlsL3ZnRGF0YUhlbHBlclwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3REaWZmcyhyYXdJbmZvLCB1c2VySW5wdXQgPSB7fSkge1xuICAvLyAwKSBjb21wYXJlIHNpZ25hbHNcbiAgY29uc3Qgc2lnbmFsRGlmZnMgPSBkZXRlY3RTaWduYWxEaWZmcyhyYXdJbmZvKTtcblxuICBjb25zdCBtYXRjaGVzID0gZ2V0Q2hhbmdlcyhcbiAgICBnZXRDb21wb25lbnRzKHJhd0luZm8uc1Zpcy5zcGVjKSxcbiAgICBnZXRDb21wb25lbnRzKHJhd0luZm8uZVZpcy5zcGVjKVxuICApO1xuICBjb25zdCBzY2FsZURpZmZzID0gbWF0Y2hlc1xuICAgIC5maWx0ZXIobWF0Y2ggPT4gbWF0Y2guY29tcFR5cGUgPT09IFwic2NhbGVcIilcbiAgICAucmVkdWNlKChzY2FsZURpZmZzLCBtYXRjaCkgPT4ge1xuICAgICAgc2NhbGVEaWZmc1ttYXRjaC5jb21wTmFtZV0gPSBtYXRjaDtcbiAgICAgIHNjYWxlRGlmZnNbbWF0Y2guY29tcE5hbWVdLm1ldGEgPSBkZXRlY3RTY2FsZURpZmZzKG1hdGNoLCByYXdJbmZvLCB1c2VySW5wdXQuc2NhbGVzKTtcblxuICAgICAgcmV0dXJuIHNjYWxlRGlmZnM7XG4gICAgfSwge30pO1xuXG4gIGNvbnN0IGNvbXBEaWZmcyA9IG1hdGNoZXNcbiAgICAuZmlsdGVyKG1hdGNoID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFtcInJvb3RcIiwgXCJwYXRoZ3JvdXBcIl0uaW5kZXhPZihtYXRjaC5jb21wTmFtZSkgPCAwICYmXG4gICAgICAgIG1hdGNoLmNvbXBUeXBlICE9PSBcInNjYWxlXCJcbiAgICAgICk7XG4gICAgfSkubWFwKG1hdGNoID0+IHtcbiAgICAgIHN3aXRjaCAobWF0Y2guY29tcFR5cGUpIHtcbiAgICAgIGNhc2UgXCJtYXJrXCI6XG4gICAgICAgIG1hdGNoLm1ldGEgPSBkZXRlY3RNYXJrRGlmZnMobWF0Y2gsIHJhd0luZm8sIHNjYWxlRGlmZnMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJheGlzXCI6XG4gICAgICAgIG1hdGNoLm1ldGEgPSBkZXRlY3RBeGlzRGlmZnMobWF0Y2gsIHJhd0luZm8sIHNjYWxlRGlmZnMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsZWdlbmRcIjpcbiAgICAgICAgbWF0Y2gubWV0YSA9IGRldGVjdExlZ2VuZERpZmZzKG1hdGNoLCByYXdJbmZvLCBzY2FsZURpZmZzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICBjb25zdCB2aWV3RGlmZnMgPSBkZXRlY3RWaWV3RGlmZihyYXdJbmZvKTtcblxuICAvLyAxKSBzaG91bGQgcmV0dXJuIHRoZSBjb21wb25lbnRzXG4gIHJldHVybiB7XG4gICAgY29tcERpZmZzLFxuICAgIHNjYWxlRGlmZnMsXG4gICAgc2lnbmFsRGlmZnMsXG4gICAgdmlld0RpZmZzXG4gIH07XG59XG5mdW5jdGlvbiBhcHBlbmRDb21wU2NhbGVEaWZmKHVzZWRTY2FsZXMsIHNjYWxlRGlmZnMpIHtcbiAgbGV0IGNvbXBTY2FsZURpZmZEZXRhaWxzID0ge307IGxldCBjb21wU2NhbGVEaWZmID0gZmFsc2U7XG5cbiAgdXNlZFNjYWxlcy5mb3JFYWNoKHNjYWxlTmFtZSA9PiB7XG4gICAgY29tcFNjYWxlRGlmZkRldGFpbHNbc2NhbGVOYW1lXSA9IHNjYWxlRGlmZnNbc2NhbGVOYW1lXS5tZXRhO1xuICAgIGNvbXBTY2FsZURpZmYgPSBjb21wU2NhbGVEaWZmIHx8IHNjYWxlRGlmZnNbc2NhbGVOYW1lXS5tZXRhO1xuICB9LCB7fSk7XG5cbiAgcmV0dXJuIGNvbXBTY2FsZURpZmYgPyBjb21wU2NhbGVEaWZmRGV0YWlscyA6IGZhbHNlO1xufVxuZnVuY3Rpb24gZGV0ZWN0TWFya0RpZmZzKG1hdGNoLCByYXdJbmZvLCBzY2FsZURpZmZzKSB7XG4gIGxldCBtYXJrRGlmZnMgPSB7IHZpZXc6IHsgZGVsdGFXOiAwLCBkZWx0YUg6IDAgfSB9O1xuICBpZiAoIW1hdGNoLmluaXRpYWwpIHtcbiAgICBtYXJrRGlmZnMuYWRkID0gdHJ1ZTtcbiAgICBtYXJrRGlmZnMudmlldyA9IHsgZGVsdGFXOiBNSU5fUE9TX0RFTFRBLCBkZWx0YUg6IE1JTl9QT1NfREVMVEEgfTtcbiAgfSBlbHNlIGlmICghbWF0Y2guZmluYWwpIHtcbiAgICBtYXJrRGlmZnMucmVtb3ZlID0gdHJ1ZTtcbiAgICBtYXJrRGlmZnMudmlldyA9IHsgZGVsdGFXOiBNSU5fUE9TX0RFTFRBLCBkZWx0YUg6IE1JTl9QT1NfREVMVEEgfTtcbiAgfVxuXG4gIC8vIG1hcmt0eXBlXG4gIG1hcmtEaWZmcy5tYXJrdHlwZSA9ICFtYXRjaC5pbml0aWFsIHx8ICFtYXRjaC5maW5hbCB8fCAobWF0Y2guaW5pdGlhbC50eXBlICE9PSBtYXRjaC5maW5hbC50eXBlKTtcblxuICAvLyBjb21wYXJlIHRoZSBlbmNvZGVzIHBlciBjaGFubmVsXG4gIGNvbnN0IGVuQXR0cnNfaSA9IE9iamVjdC5rZXlzKGdldChtYXRjaCwgXCJpbml0aWFsXCIsIFwiZW5jb2RlXCIsIFwidXBkYXRlXCIpIHx8IHt9KTtcbiAgbGV0IGVuQXR0cnNfZiA9IE9iamVjdC5rZXlzKGdldChtYXRjaCwgXCJmaW5hbFwiLCBcImVuY29kZVwiLCBcInVwZGF0ZVwiKSB8fCB7fSk7XG4gIG1hcmtEaWZmcy51c2VkRW5BdHRycyA9IGVuQXR0cnNfaS5jb25jYXQoZW5BdHRyc19mKS51bmlxdWUoKTtcblxuICBtYXJrRGlmZnMuZW5jb2RlID0gQ0hBTk5FTFMucmVkdWNlKChlbmNvZGVEaWZmcywgY2hhbm5lbCkgPT4ge1xuICAgIGNvbnN0IHN1YkVuY29kZV9pID0gZ2V0U3ViRW5jb2RlQnlDaGFubmVsKFxuICAgICAgZ2V0KG1hdGNoLCBcImluaXRpYWxcIiwgXCJlbmNvZGVcIiwgXCJ1cGRhdGVcIikgfHwge30sXG4gICAgICBjaGFubmVsXG4gICAgKTtcbiAgICBsZXQgc3ViRW5jb2RlX2YgPSBnZXRTdWJFbmNvZGVCeUNoYW5uZWwoXG4gICAgICBnZXQobWF0Y2gsIFwiZmluYWxcIiwgXCJlbmNvZGVcIiwgXCJ1cGRhdGVcIikgfHwge30sXG4gICAgICBjaGFubmVsXG4gICAgKTtcblxuICAgIGVuY29kZURpZmZzW2NoYW5uZWxdID0gIWRlZXBFcXVhbChzdWJFbmNvZGVfaSwgc3ViRW5jb2RlX2YpO1xuXG4gICAgLy8gaWdub3JlYWJsZSBlbmNvZGUgZGlmZnMgKGQgKG9wYWNpdHkpID4gMC41IClcbiAgICBpZiAoXG4gICAgICBjaGFubmVsID09PSBcIm9wYWNpdHlcIiAmJlxuICAgICAgKGdldChzdWJFbmNvZGVfaSwgXCJvcGFjaXR5XCIsIFwidmFsdWVcIikgfHxcbiAgICAgICAgZ2V0KHN1YkVuY29kZV9pLCBcIm9wYWNpdHlcIikgPT09IHVuZGVmaW5lZCkgJiZcbiAgICAgIChnZXQoc3ViRW5jb2RlX2YsIFwib3BhY2l0eVwiLCBcInZhbHVlXCIpIHx8XG4gICAgICAgIGdldChzdWJFbmNvZGVfZiwgXCJvcGFjaXR5XCIpID09PSB1bmRlZmluZWQpXG4gICAgKSB7XG4gICAgICBjb25zdCBvcGFjaXR5VmFsX2kgPSBnZXQoc3ViRW5jb2RlX2ksIFwib3BhY2l0eVwiLCBcInZhbHVlXCIpIHx8IDEuMDtcbiAgICAgIGxldCBvcGFjaXR5VmFsX2YgPSBnZXQoc3ViRW5jb2RlX2YsIFwib3BhY2l0eVwiLCBcInZhbHVlXCIpIHx8IDEuMDtcbiAgICAgIGlmIChNYXRoLmFicyhvcGFjaXR5VmFsX2kgLSBvcGFjaXR5VmFsX2YpIDwgMC41KSB7XG4gICAgICAgIGVuY29kZURpZmZzLm9wYWNpdHkgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIGlmIChtYXJrRGlmZnMubWFya3R5cGUgJiYgZW5jb2RlRGlmZnNbY2hhbm5lbF0pIHtcbiAgICAgIGNvbnN0IG1hcmt0eXBlX2kgPSBnZXQobWF0Y2gsIFwiaW5pdGlhbFwiLCBcInR5cGVcIiksXG4gICAgICAgIG1hcmt0eXBlX2YgPSBnZXQobWF0Y2gsIFwiZmluYWxcIiwgXCJ0eXBlXCIpO1xuICAgICAgbGV0IGNvcmVFbkF0dHJfaSA9IGdldENvcmVBdHRyKHN1YkVuY29kZV9pLCBjaGFubmVsLCBtYXJrdHlwZV9pKTtcbiAgICAgIGxldCBjb3JlRW5BdHRyX2YgPSBnZXRDb3JlQXR0cihzdWJFbmNvZGVfZiwgY2hhbm5lbCwgbWFya3R5cGVfZik7XG5cbiAgICAgIGlmIChkZWVwRXF1YWwoY29yZUVuQXR0cl9pLCBjb3JlRW5BdHRyX2YpKSB7XG4gICAgICAgIGVuY29kZURpZmZzW2NoYW5uZWxdID0gXCJieU1hcmt0eXBlQ2hhbmdlXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICByZXR1cm4gZW5jb2RlRGlmZnM7XG4gIH0sIHt9KTtcblxuXG5cbiAgLy8gZmluZCB0aGUgdXNlZCBzY2FsZXNcbiAgbGV0IHVzZWRTY2FsZXMgPSBbXTtcbiAgW1widXBkYXRlXCJdLmZvckVhY2goc2V0ID0+IHtcbiAgICBjb25zdCBlbmNvZGVfaSA9IG1hdGNoLmluaXRpYWwgJiYgbWF0Y2guaW5pdGlhbC5lbmNvZGVbc2V0XTtcbiAgICBjb25zdCBlbmNvZGVfZiA9IG1hdGNoLmZpbmFsICYmIG1hdGNoLmZpbmFsLmVuY29kZVtzZXRdO1xuXG4gICAgW2VuY29kZV9pLCBlbmNvZGVfZl0uZm9yRWFjaChlbmNvZGUgPT4ge1xuICAgICAgT2JqZWN0LmtleXMoZW5jb2RlIHx8IHt9KS5tYXAoYXR0ciA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVuY29kZVthdHRyXSkpIHtcbiAgICAgICAgICB1c2VkU2NhbGVzID0gdXNlZFNjYWxlcy5jb25jYXQoXG4gICAgICAgICAgICBlbmNvZGVbYXR0cl0uZmlsdGVyKGNoID0+IGNoLnNjYWxlKS5tYXAoY2ggPT4gY2guc2NhbGUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbmNvZGVbYXR0cl0uc2NhbGUpIHtcbiAgICAgICAgICB1c2VkU2NhbGVzLnB1c2goZW5jb2RlW2F0dHJdLnNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBtYXJrRGlmZnMudXNlZFNjYWxlcyA9IHVzZWRTY2FsZXMudW5pcXVlKCk7XG4gIG1hcmtEaWZmcy5zY2FsZSA9IGFwcGVuZENvbXBTY2FsZURpZmYobWFya0RpZmZzLnVzZWRTY2FsZXMsIHNjYWxlRGlmZnMpO1xuICBtYXJrRGlmZnMuc2NOYW1lcyA9IE9iamVjdC5rZXlzKG1hcmtEaWZmcy5zY2FsZSk7XG4gIG1hcmtEaWZmcy52aWV3ID0ge1xuICAgIGRlbHRhVzogbWFya0RpZmZzLnNjYWxlLnhcbiAgICAgID8gbWFya0RpZmZzLnNjYWxlLngucmFuZ2VEZWx0YVxuICAgICAgOiBtYXJrRGlmZnMudmlldy5kZWx0YVcsXG4gICAgZGVsdGFIOiBtYXJrRGlmZnMuc2NhbGUueVxuICAgICAgPyBtYXJrRGlmZnMuc2NhbGUueS5yYW5nZURlbHRhXG4gICAgICA6IG1hcmtEaWZmcy52aWV3LmRlbHRhSFxuICB9O1xuICBpZiAobWFya0RpZmZzLnNjYWxlLnkgJiYgbWFya0RpZmZzLnNjYWxlLnkuYWRkKSB7XG4gICAgbWFya0RpZmZzLnZpZXcuZGVsdGFIID0gTUlOX1BPU19ERUxUQTtcbiAgfSBlbHNlIGlmIChtYXJrRGlmZnMuc2NhbGUueSAmJiBtYXJrRGlmZnMuc2NhbGUueS5yZW1vdmUpIHtcbiAgICBtYXJrRGlmZnMudmlldy5kZWx0YUggPSAtTUlOX1BPU19ERUxUQTtcbiAgfVxuXG4gIGlmIChtYXJrRGlmZnMuc2NhbGUueCAmJiBtYXJrRGlmZnMuc2NhbGUueC5hZGQpIHtcbiAgICBtYXJrRGlmZnMudmlldy5kZWx0YVcgPSBNSU5fUE9TX0RFTFRBO1xuICB9IGVsc2UgaWYgKG1hcmtEaWZmcy5zY2FsZS54ICYmIG1hcmtEaWZmcy5zY2FsZS54LnJlbW92ZSkge1xuICAgIG1hcmtEaWZmcy52aWV3LmRlbHRhVyA9IC1NSU5fUE9TX0RFTFRBO1xuICB9XG5cbiAgLy8gR2V0IGRhdGEgYW5kIGNvbXBhcmVcbiAgLy8gZ2V0IGRhdGFDb21wIG5hbWVcbiAgLy8gbGV0IGlEYXRhQ29tcE5hbWUgPSBjb21wdXRlSGFzRmFjZXQobWF0Y2guaW5pdGlhbCkgPyBtYXRjaC5pbml0aWFsLnBhcmVudC5mcm9tLmZhY2V0LmRhdGEgOiBtYXRjaC5pbml0aWFsLmZyb20uZGF0YSxcbiAgLy8gICBmRGF0YUNvbXBOYW1lID0gY29tcHV0ZUhhc0ZhY2V0KG1hdGNoLmZpbmFsKSA/IG1hdGNoLmZpbmFsLnBhcmVudC5mcm9tLmZhY2V0LmRhdGEgOiBtYXRjaC5maW5hbC5mcm9tLmRhdGE7XG5cbiAgLy8gbWFya0RpZmZzLmRhdGEgPSBpc0RpZmZEYXRhQ29tcChcbiAgLy8gICBmaW5kRGF0YUNvbXAocmF3SW5mby5zVmlzLnNwZWMsIGlEYXRhQ29tcE5hbWUpLFxuICAvLyAgIGZpbmREYXRhQ29tcChyYXdJbmZvLmVWaXMuc3BlYywgZkRhdGFDb21wTmFtZSksXG4gIC8vICAgcmF3SW5mb1xuICAvLyApO1xuICAvLyBpZiAobWFya0RpZmZzLmRhdGEgfHwgdHJ1ZSkge1xuICBsZXQgaURhdGEgPSBtYXRjaC5pbml0aWFsXG4gICAgPyBnZXRNYXJrRGF0YShyYXdJbmZvLnNWaXMudmlldywgbWF0Y2guaW5pdGlhbCwgbWF0Y2guY29tcE5hbWUpXG4gICAgOiBbXTtcbiAgbGV0IGZEYXRhID0gbWF0Y2guZmluYWxcbiAgICA/IGdldE1hcmtEYXRhKHJhd0luZm8uZVZpcy52aWV3LCBtYXRjaC5maW5hbCwgbWF0Y2guY29tcE5hbWUpXG4gICAgOiBbXTtcblxuICBpZiAobWF0Y2guaW5pdGlhbCAmJiAoY29tcHV0ZUhhc0ZhY2V0KG1hdGNoLmluaXRpYWwpIHx8IGlzR3JvdXBpbmdNYXJrdHlwZShtYXRjaC5pbml0aWFsLnR5cGUpKSkge1xuICAgIGlEYXRhID0gdW5wYWNrRGF0YShpRGF0YSk7XG4gIH1cbiAgaWYgKG1hdGNoLmZpbmFsICYmIChjb21wdXRlSGFzRmFjZXQobWF0Y2guZmluYWwpIHx8IGlzR3JvdXBpbmdNYXJrdHlwZShtYXRjaC5maW5hbC50eXBlKSkpIHtcbiAgICBmRGF0YSA9IHVucGFja0RhdGEoZkRhdGEpO1xuICB9XG4gIGlmICghbWFya0RpZmZzLmRhdGEpIHtcblxuICAgIGlEYXRhID0gY29tcHV0ZUhhc0ZhY2V0KG1hdGNoLmluaXRpYWwpID8gdW5wYWNrRGF0YShpRGF0YSkgOiBpRGF0YTtcbiAgICBmRGF0YSA9IGNvbXB1dGVIYXNGYWNldChtYXRjaC5maW5hbCkgPyB1bnBhY2tEYXRhKGZEYXRhKSA6IGZEYXRhO1xuXG4gICAgbWFya0RpZmZzLmRhdGEgPSBpc0RpZmZEYXRhKGlEYXRhLCBmRGF0YSk7XG4gIH1cblxuICAvLyB9XG5cbiAgcmV0dXJuIG1hcmtEaWZmcztcbn1cblxuZnVuY3Rpb24gZGV0ZWN0U2NhbGVEaWZmcyhtYXRjaCwgcmF3SW5mbywgdXNlcklucHV0U2NhbGVzID0ge30pIHtcbiAgaWYgKCFtYXRjaC5pbml0aWFsKSB7XG4gICAgcmV0dXJuIHthZGQ6IHRydWV9O1xuICB9IGlmICghbWF0Y2guZmluYWwpIHtcbiAgICByZXR1cm4ge3JlbW92ZTogdHJ1ZX07XG4gIH1cblxuICAvL2dldCByYW5nZSBkaWZmXG4gIGxldCByYW5nZURlbHRhID0gMDtcblxuICBsZXQgcmFuZ2VWYWxzX2kgPSByYXdJbmZvLnNWaXMudmlldy5zY2FsZShtYXRjaC5pbml0aWFsLm5hbWUpLnJhbmdlKCksXG4gICAgcmFuZ2VWYWxzX2YgPSByYXdJbmZvLmVWaXMudmlldy5zY2FsZShtYXRjaC5maW5hbC5uYW1lKS5yYW5nZSgpO1xuXG4gIGlmICghZGVlcEVxdWFsKHJhbmdlVmFsc19pLCByYW5nZVZhbHNfZikpe1xuICAgIGlmICgocmFuZ2VWYWxzX2kubGVuZ3RoID09PSAyICYmIGlzTnVtYmVyKHJhbmdlVmFsc19pWzBdKSAmJiBpc051bWJlcihyYW5nZVZhbHNfaVsxXSkpXG4gICAgICAmJiAocmFuZ2VWYWxzX2YubGVuZ3RoID09PSAyICYmIGlzTnVtYmVyKHJhbmdlVmFsc19mWzBdKSAmJiBpc051bWJlcihyYW5nZVZhbHNfZlsxXSkpKSB7XG4gICAgICByYW5nZURlbHRhID0gTWF0aC5hYnMocmFuZ2VWYWxzX2ZbMF0tcmFuZ2VWYWxzX2ZbMV0pIC0gTWF0aC5hYnMocmFuZ2VWYWxzX2lbMF0tcmFuZ2VWYWxzX2lbMV0pO1xuICAgIH1cbiAgfVxuXG4gIC8vZ2V0IGRvbWFpbiBkaWZmXG4gIGxldCBkb21haW5WYWxzX2kgPSByYXdJbmZvLnNWaXMudmlldy5zY2FsZShtYXRjaC5pbml0aWFsLm5hbWUpLmRvbWFpbigpLFxuICAgIGRvbWFpblZhbHNfZiA9IHJhd0luZm8uZVZpcy52aWV3LnNjYWxlKG1hdGNoLmZpbmFsLm5hbWUpLmRvbWFpbigpO1xuICBsZXQgZG9tYWluVmFsdWVEaWZmID0gIWRlZXBFcXVhbChkb21haW5WYWxzX2ksIGRvbWFpblZhbHNfZik7XG5cbiAgLy9nZXQgdGhlIG90aGVyIGRpZmZzXG4gIGxldCBvdGhlcnNfaSA9IGNvcHkobWF0Y2guaW5pdGlhbClcbiAgZGVsZXRlIG90aGVyc19pLnJhbmdlO1xuICBkZWxldGUgb3RoZXJzX2kuZG9tYWluO1xuICBsZXQgb3RoZXJzX2YgPSBjb3B5KG1hdGNoLmZpbmFsKVxuICBkZWxldGUgb3RoZXJzX2YucmFuZ2U7XG4gIGRlbGV0ZSBvdGhlcnNfZi5kb21haW47XG4gIGxldCBzY2FsZURpZmYgPSAhZGVlcEVxdWFsKG90aGVyc19pLCBvdGhlcnNfZik7XG5cbiAgaWYgKCFzY2FsZURpZmYgJiYgIWRvbWFpblZhbHVlRGlmZiAmJiByYW5nZURlbHRhID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc2NhbGVEaWZmID0ge1xuICAgIHJhbmdlRGVsdGE6IHJhbmdlRGVsdGEsXG4gICAgZG9tYWluVmFsdWVEaWZmOiAhZGVlcEVxdWFsKGRvbWFpblZhbHNfaSwgZG9tYWluVmFsc19mKVxuICB9O1xuXG4gIGxldCB1c2VySW5wdXREb21haW5EaW1lbnNpb25EaWZmID0gZ2V0KHVzZXJJbnB1dFNjYWxlc1ttYXRjaC5pbml0aWFsLm5hbWVdLCBcImRvbWFpbkRpbWVuc2lvblwiKTtcbiAgc2NhbGVEaWZmLmRvbWFpblNwYWNlRGlmZiA9IHVzZXJJbnB1dERvbWFpbkRpbWVuc2lvbkRpZmYgPT09IFwiZGlmZlwiID8gdHJ1ZSA6IChcbiAgICB1c2VySW5wdXREb21haW5EaW1lbnNpb25EaWZmID09PSBcInNhbWVcIiA/IGZhbHNlIDpcbiAgICAgICFkZWVwRXF1YWwobWF0Y2guaW5pdGlhbC5kb21haW4sIG1hdGNoLmZpbmFsLmRvbWFpbilcbiAgKTtcblxuXG4gIGlmICgoW1wiYmFuZFwiLCBcInBvaW50XCIsIFwib3JkaW5hbFwiXS5pbmRleE9mKG1hdGNoLmluaXRpYWwudHlwZSkgPj0gMCkgJiZcbiAgICAoW1wiYmFuZFwiLCBcInBvaW50XCIsIFwib3JkaW5hbFwiXS5pbmRleE9mKG1hdGNoLmZpbmFsLnR5cGUpID49IDApKSB7XG4gICAgc2NhbGVEaWZmLnN0YXlEaXNjcmV0ZSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHNjYWxlRGlmZjtcbn1cblxuZnVuY3Rpb24gZGV0ZWN0TGVnZW5kRGlmZnMobWF0Y2gsIHJhd0luZm8sIHNjYWxlRGlmZnMpIHtcbiAgY29uc3QgbGVnZW5kRGlmZnMgPSB7XG4gICAgdXNlZFNjYWxlczogW10sXG4gICAgdmlldzogeyBkZWx0YVc6IDAsIGRlbHRhSDogMCwgeDogMCwgeTogMCB9XG4gIH07XG4gIGlmICghbWF0Y2guaW5pdGlhbCkge1xuICAgIGxlZ2VuZERpZmZzLmFkZCA9IHRydWU7XG4gICAgbGVnZW5kRGlmZnMudmlldyA9IHtcbiAgICAgIGRlbHRhVzogTUlOX1BPU19ERUxUQSxcbiAgICAgIGRlbHRhSDogTUlOX1BPU19ERUxUQSxcbiAgICAgIHg6IE1JTl9QT1NfREVMVEEsXG4gICAgICB5OiBNSU5fUE9TX0RFTFRBXG4gICAgfTtcbiAgfSBlbHNlIGlmICghbWF0Y2guZmluYWwpIHtcbiAgICBsZWdlbmREaWZmcy5yZW1vdmUgPSB0cnVlO1xuICAgIGxlZ2VuZERpZmZzLnZpZXcgPSB7XG4gICAgICBkZWx0YVc6IC1NSU5fUE9TX0RFTFRBLFxuICAgICAgZGVsdGFIOiAtTUlOX1BPU19ERUxUQSxcbiAgICAgIHg6IC1NSU5fUE9TX0RFTFRBLFxuICAgICAgeTogLU1JTl9QT1NfREVMVEFcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgbGVnZW5kX2kgPSBjb3B5KG1hdGNoLmluaXRpYWwgfHwge30pOyBsZXQgbGVnZW5kX2YgPSBjb3B5KG1hdGNoLmZpbmFsIHx8IHt9KTtcblxuICAvLyAxKSBzY2FsZSBkaWZmXG4gIFtcbiAgICBcImZpbGxcIixcbiAgICBcIm9wYWNpdHlcIixcbiAgICBcInNoYXBlXCIsXG4gICAgXCJzaXplXCIsXG4gICAgXCJzdHJva2VcIixcbiAgICBcInN0cm9rZURhc2hcIixcbiAgICBcInN0cm9rZVdpZHRoXCJcbiAgXS5mb3JFYWNoKHNjYWxlID0+IHtcbiAgICBpZiAobWF0Y2guaW5pdGlhbCAmJiBtYXRjaC5pbml0aWFsW3NjYWxlXSkge1xuICAgICAgbGVnZW5kRGlmZnMudXNlZFNjYWxlcy5wdXNoKG1hdGNoLmluaXRpYWxbc2NhbGVdKTtcbiAgICB9XG4gICAgaWYgKG1hdGNoLmZpbmFsICYmIG1hdGNoLmZpbmFsW3NjYWxlXSkge1xuICAgICAgbGVnZW5kRGlmZnMudXNlZFNjYWxlcy5wdXNoKG1hdGNoLmZpbmFsW3NjYWxlXSk7XG4gICAgfVxuXG4gICAgZGVsZXRlIGxlZ2VuZF9pW3NjYWxlXTtcbiAgICBkZWxldGUgbGVnZW5kX2Zbc2NhbGVdO1xuICB9LCBmYWxzZSk7XG4gIGxlZ2VuZERpZmZzLnVzZWRTY2FsZXMgPSBsZWdlbmREaWZmcy51c2VkU2NhbGVzLnVuaXF1ZSgpO1xuICBsZWdlbmREaWZmcy5zY2FsZSA9IGFwcGVuZENvbXBTY2FsZURpZmYobGVnZW5kRGlmZnMudXNlZFNjYWxlcywgc2NhbGVEaWZmcyk7XG4gIGxlZ2VuZERpZmZzLnNjTmFtZXMgPSBPYmplY3Qua2V5cyhsZWdlbmREaWZmcy5zY2FsZSk7XG4gIC8vIDIpIGVuY29kZSBkaWZmXG4gIGxlZ2VuZERpZmZzLmVuY29kZSA9ICFkZWVwRXF1YWwobGVnZW5kX2ksIGxlZ2VuZF9mKTtcblxuICAvLyAzKSBQb3MgRGlmZlxuICBpZiAobWF0Y2guaW5pdGlhbCAmJiBtYXRjaC5maW5hbCkge1xuICAgIGNvbnN0IGxlZ2VuZEdEYXR1bSA9IHtcbiAgICAgIGluaXRpYWw6IGZpbmRDb21wKFxuICAgICAgICByYXdJbmZvLnNWaXMudmlldy5zY2VuZWdyYXBoKCkucm9vdCxcbiAgICAgICAgbWF0Y2guY29tcE5hbWUsXG4gICAgICAgIFwibGVnZW5kXCJcbiAgICAgIClbMF0uaXRlbXNbMF0sXG4gICAgICBmaW5hbDogZmluZENvbXAoXG4gICAgICAgIHJhd0luZm8uZVZpcy52aWV3LnNjZW5lZ3JhcGgoKS5yb290LFxuICAgICAgICBtYXRjaC5jb21wTmFtZSxcbiAgICAgICAgXCJsZWdlbmRcIlxuICAgICAgKVswXS5pdGVtc1swXVxuICAgIH07XG5cbiAgICBsZWdlbmREaWZmcy52aWV3LnggPSBsZWdlbmRHRGF0dW0uZmluYWwueCAtIGxlZ2VuZEdEYXR1bS5pbml0aWFsLng7XG4gICAgbGVnZW5kRGlmZnMudmlldy55ID0gbGVnZW5kR0RhdHVtLmZpbmFsLnkgLSBsZWdlbmRHRGF0dW0uaW5pdGlhbC55O1xuICB9XG5cbiAgcmV0dXJuIGxlZ2VuZERpZmZzO1xufVxuXG5mdW5jdGlvbiBkZXRlY3RBeGlzRGlmZnMobWF0Y2gsIHJhd0luZm8sIHNjYWxlRGlmZnMpIHtcbiAgY29uc3QgYXhpc0RpZmZzID0ge1xuICAgIHZpZXc6IHsgZGVsdGFXOiAwLCBkZWx0YUg6IDAsIHg6IDAsIHk6IDAgfVxuICB9O1xuICBpZiAoIW1hdGNoLmluaXRpYWwpIHtcbiAgICBheGlzRGlmZnMuYWRkID0gdHJ1ZTtcbiAgICBheGlzRGlmZnMudmlldyA9IHtcbiAgICAgIGRlbHRhVzogTUlOX1BPU19ERUxUQSxcbiAgICAgIGRlbHRhSDogTUlOX1BPU19ERUxUQSxcbiAgICAgIHg6IE1JTl9QT1NfREVMVEEsXG4gICAgICB5OiBNSU5fUE9TX0RFTFRBXG4gICAgfTtcbiAgfSBlbHNlIGlmICghbWF0Y2guZmluYWwpIHtcbiAgICBheGlzRGlmZnMucmVtb3ZlID0gdHJ1ZTtcbiAgICBheGlzRGlmZnMudmlldyA9IHtcbiAgICAgIGRlbHRhVzogLU1JTl9QT1NfREVMVEEsXG4gICAgICBkZWx0YUg6IC1NSU5fUE9TX0RFTFRBLFxuICAgICAgeDogLU1JTl9QT1NfREVMVEEsXG4gICAgICB5OiAtTUlOX1BPU19ERUxUQVxuICAgIH07XG4gIH1cbiAgLy8gMSkgc2NhbGUgZGlmZlxuICBheGlzRGlmZnMudXNlZFNjYWxlcyA9IFtdO1xuICBpZiAobWF0Y2guaW5pdGlhbCkge1xuICAgIGF4aXNEaWZmcy51c2VkU2NhbGVzLnB1c2gobWF0Y2guaW5pdGlhbC5zY2FsZSk7XG4gIH0gZWxzZSBpZiAobWF0Y2guZmluYWwpIHtcbiAgICBheGlzRGlmZnMudXNlZFNjYWxlcy5wdXNoKG1hdGNoLmZpbmFsLnNjYWxlKTtcbiAgfVxuXG4gIGF4aXNEaWZmcy5zY2FsZSA9IGFwcGVuZENvbXBTY2FsZURpZmYoYXhpc0RpZmZzLnVzZWRTY2FsZXMsIHNjYWxlRGlmZnMpO1xuICBheGlzRGlmZnMuc2NOYW1lcyA9IE9iamVjdC5rZXlzKGF4aXNEaWZmcy5zY2FsZSk7XG4gIGlmIChtYXRjaC5maW5hbCAmJiBtYXRjaC5pbml0aWFsKSB7XG4gICAgYXhpc0RpZmZzLnZpZXcgPSB7XG4gICAgICBkZWx0YVc6IGF4aXNEaWZmcy5zY2FsZS54ID8gYXhpc0RpZmZzLnNjYWxlLngucmFuZ2VEZWx0YSA6IDAsXG4gICAgICBkZWx0YUg6IGF4aXNEaWZmcy5zY2FsZS55ID8gYXhpc0RpZmZzLnNjYWxlLnkucmFuZ2VEZWx0YSA6IDBcbiAgICB9O1xuICAgIGlmIChtYXRjaC5pbml0aWFsLnNjYWxlID09PSBtYXRjaC5maW5hbC5zY2FsZSkge1xuICAgICAgaWYgKCEhbWF0Y2guaW5pdGlhbC5ncmlkICE9PSAhIW1hdGNoLmZpbmFsLmdyaWQpIHtcbiAgICAgICAgaWYgKG1hdGNoLmZpbmFsLnNjYWxlID09PSBcInhcIikge1xuICAgICAgICAgIGF4aXNEaWZmcy52aWV3LmRlbHRhSCA9IG1hdGNoLmluaXRpYWwuZ3JpZFxuICAgICAgICAgICAgPyAtTUlOX1BPU19ERUxUQVxuICAgICAgICAgICAgOiBNSU5fUE9TX0RFTFRBO1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoLmZpbmFsLnNjYWxlID09PSBcInlcIikge1xuICAgICAgICAgIGF4aXNEaWZmcy52aWV3LmRlbHRhVyA9IG1hdGNoLmluaXRpYWwuZ3JpZFxuICAgICAgICAgICAgPyAtTUlOX1BPU19ERUxUQVxuICAgICAgICAgICAgOiBNSU5fUE9TX0RFTFRBO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEhbWF0Y2guaW5pdGlhbC5ncmlkICYmICEhbWF0Y2guZmluYWwuZ3JpZCkge1xuICAgICAgICBsZXQgZGVsdGEgPVxuICAgICAgICAgIGdldChzY2FsZURpZmZzLCBtYXRjaC5pbml0aWFsLmdyaWRTY2FsZSwgXCJtZXRhXCIsIFwicmFuZ2VEZWx0YVwiKSB8fCAwO1xuICAgICAgICBpZiAobWF0Y2guZmluYWwub3JpZW50ID09PSBcImxlZnRcIiB8fCBtYXRjaC5maW5hbC5vcmllbnQgPT09IFwicmlnaHRcIikge1xuICAgICAgICAgIGF4aXNEaWZmcy52aWV3LmRlbHRhVyA9IGRlbHRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF4aXNEaWZmcy52aWV3LmRlbHRhSCA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gMikgZW5jb2RlIGRpZmZcbiAgY29uc3QgYXhpc19pID0gY29weShtYXRjaC5pbml0aWFsKSB8fCB7fTsgbGV0IGF4aXNfZiA9IGNvcHkobWF0Y2guZmluYWwgfHwge30pO1xuICBkZWxldGUgYXhpc19pLnNjYWxlO1xuICBkZWxldGUgYXhpc19mLnNjYWxlO1xuICBheGlzRGlmZnMuZW5jb2RlID0gIWRlZXBFcXVhbChheGlzX2ksIGF4aXNfZik7XG5cbiAgLy8gMykgUG9zIERpZmZcbiAgaWYgKG1hdGNoLmluaXRpYWwgJiYgbWF0Y2guZmluYWwpIHtcbiAgICBjb25zdCBheGlzR0RhdHVtID0ge1xuICAgICAgaW5pdGlhbDogZmluZENvbXAoXG4gICAgICAgIHJhd0luZm8uc1Zpcy52aWV3LnNjZW5lZ3JhcGgoKS5yb290LFxuICAgICAgICBtYXRjaC5jb21wTmFtZSxcbiAgICAgICAgXCJheGlzXCJcbiAgICAgIClbMF0uaXRlbXNbMF0sXG4gICAgICBmaW5hbDogZmluZENvbXAoXG4gICAgICAgIHJhd0luZm8uZVZpcy52aWV3LnNjZW5lZ3JhcGgoKS5yb290LFxuICAgICAgICBtYXRjaC5jb21wTmFtZSxcbiAgICAgICAgXCJheGlzXCJcbiAgICAgIClbMF0uaXRlbXNbMF1cbiAgICB9O1xuICAgIGxldCBmV2lkdGggPSBheGlzR0RhdHVtLmZpbmFsLmJvdW5kcy54MiAtIGF4aXNHRGF0dW0uZmluYWwuYm91bmRzLngxLFxuICAgICAgaVdpZHRoID0gYXhpc0dEYXR1bS5pbml0aWFsLmJvdW5kcy54MiAtIGF4aXNHRGF0dW0uaW5pdGlhbC5ib3VuZHMueDEsXG4gICAgICBmSGVpZ2h0ID0gYXhpc0dEYXR1bS5maW5hbC5ib3VuZHMueTIgLSBheGlzR0RhdHVtLmZpbmFsLmJvdW5kcy55MSxcbiAgICAgIGlIZWlnaHQgPSBheGlzR0RhdHVtLmluaXRpYWwuYm91bmRzLnkyIC0gYXhpc0dEYXR1bS5pbml0aWFsLmJvdW5kcy55MTtcblxuICAgIGF4aXNEaWZmcy52aWV3LmRlbHRhVyArPSBmV2lkdGggLSBpV2lkdGg7XG4gICAgYXhpc0RpZmZzLnZpZXcuZGVsdGFIICs9IGZIZWlnaHQgLSBpSGVpZ2h0O1xuXG4gICAgYXhpc0RpZmZzLnZpZXcueCA9IGF4aXNHRGF0dW0uZmluYWwueCAtIGF4aXNHRGF0dW0uaW5pdGlhbC54O1xuICAgIGF4aXNEaWZmcy52aWV3LnkgPSBheGlzR0RhdHVtLmZpbmFsLnkgLSBheGlzR0RhdHVtLmluaXRpYWwueTtcbiAgfVxuXG4gIHJldHVybiBheGlzRGlmZnM7XG59XG5mdW5jdGlvbiBkZXRlY3RWaWV3RGlmZihyYXdJbmZvKSB7XG4gIGNvbnN0IHZpZXdEaWZmcyA9IGdldFZpZXdDaGFuZ2UocmF3SW5mbyk7XG4gIGNvbnN0IHBhZGRpbmdEaWZmID0gdmlld0RpZmZzLmZpbmFsLnBhZGRpbmcgLSB2aWV3RGlmZnMuaW5pdGlhbC5wYWRkaW5nO1xuICB2aWV3RGlmZnMuZGVsdGFXID0gdmlld0RpZmZzLmZpbmFsLnZpZXdXaWR0aCAtIHZpZXdEaWZmcy5pbml0aWFsLnZpZXdXaWR0aCArIHBhZGRpbmdEaWZmO1xuICB2aWV3RGlmZnMuZGVsdGFIID0gdmlld0RpZmZzLmZpbmFsLnZpZXdIZWlnaHQgLSB2aWV3RGlmZnMuaW5pdGlhbC52aWV3SGVpZ2h0ICsgcGFkZGluZ0RpZmY7XG4gIHZpZXdEaWZmcy53aWR0aCA9IHt9O1xuICB2aWV3RGlmZnMuaGVpZ2h0ID0ge307XG4gIGlmIChNYXRoLmFicyh2aWV3RGlmZnMuZGVsdGFXKSA+IE1JTl9QT1NfREVMVEEvMikge1xuICAgIHZpZXdEaWZmcy53aWR0aFt2aWV3RGlmZnMuZGVsdGFXID4gMCA/IFwiaW5jcmVhc2VcIiA6IFwiZGVjcmVhc2VcIl0gPSB0cnVlO1xuICB9XG4gIGlmIChNYXRoLmFicyh2aWV3RGlmZnMuZGVsdGFIKSA+IE1JTl9QT1NfREVMVEEvMikge1xuICAgIHZpZXdEaWZmcy5oZWlnaHRbdmlld0RpZmZzLmRlbHRhSCA+IDAgPyBcImluY3JlYXNlXCIgOiBcImRlY3JlYXNlXCJdID0gdHJ1ZTtcbiAgfVxuICB2aWV3RGlmZnMuc2NOYW1lcyA9IFtdO1xuXG4gIHJldHVybiB2aWV3RGlmZnM7XG59XG5cbmZ1bmN0aW9uIGRldGVjdFNpZ25hbERpZmZzKHJhd0luZm8pIHtcbiAgY29uc3Qgc2lnbmFsRGlmZnMgPSB7XG4gICAgaW5pdGlhbDogcmF3SW5mby5zVmlzLnZpZXcuX3J1bnRpbWUuc2lnbmFscyxcbiAgICBmaW5hbDogcmF3SW5mby5lVmlzLnZpZXcuX3J1bnRpbWUuc2lnbmFscyxcbiAgICBtZXRhOiB7XG4gICAgICB1cGRhdGU6IFtdLFxuICAgICAgZXhpdDogW10sXG4gICAgICBlbnRlcjogW10sXG4gICAgICBzYW1lOiBbXVxuICAgIH1cbiAgfTtcbiAgT2JqZWN0LmtleXMoc2lnbmFsRGlmZnMuaW5pdGlhbClcbiAgICAuY29uY2F0KE9iamVjdC5rZXlzKHNpZ25hbERpZmZzLmZpbmFsKSlcbiAgICAudW5pcXVlKClcbiAgICAuZm9yRWFjaChzZ05hbWUgPT4ge1xuICAgICAgbGV0IHNnX2YgPSBzaWduYWxEaWZmcy5maW5hbFtzZ05hbWVdO1xuICAgICAgbGV0IHNnX2kgPSBzaWduYWxEaWZmcy5pbml0aWFsW3NnTmFtZV07XG4gICAgICBpZiAoIXNnX2YpIHtcbiAgICAgICAgc2lnbmFsRGlmZnMubWV0YS5leGl0LnB1c2goc2dOYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoIXNnX2kpIHtcbiAgICAgICAgc2lnbmFsRGlmZnMubWV0YS5lbnRlci5wdXNoKHNnTmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKCFkZWVwRXF1YWwoc2dfZi52YWx1ZSwgc2dfaS52YWx1ZSkpIHtcbiAgICAgICAgc2lnbmFsRGlmZnMubWV0YS51cGRhdGUucHVzaChzZ05hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2lnbmFsRGlmZnMubWV0YS5zYW1lLnB1c2goc2dOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgcmV0dXJuIHNpZ25hbERpZmZzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEaWZmRGF0YShpRGF0YSwgZkRhdGEpIHtcbiAgY29uc3QgZGlmZiA9IHsgY29sdW1uOiBmYWxzZSwgcm93OiBmYWxzZSB9O1xuXG4gIGxldCBpRmllbGRzID0gaURhdGFbMF0gPyBPYmplY3Qua2V5cyhpRGF0YVswXS5kYXR1bSkgOiBbXTtcbiAgbGV0IGZGaWVsZHMgPSBmRGF0YVswXSA/IE9iamVjdC5rZXlzKGZEYXRhWzBdLmRhdHVtKSA6IFtdO1xuICBsZXQgc2hhcmVkRmllbGRzID0gW107XG4gIGlmICghZGVlcEVxdWFsKGlGaWVsZHMsIGZGaWVsZHMpKSB7XG4gICAgaWYgKGlGaWVsZHMuY29udGFpbkFsbChmRmllbGRzKSkge1xuICAgICAgZGlmZi5jb2x1bW4gPSBcInJlbW92ZWRcIjtcbiAgICAgIHNoYXJlZEZpZWxkcyA9IGZGaWVsZHM7XG4gICAgfSBlbHNlIGlmIChmRmllbGRzLmNvbnRhaW5BbGwoaUZpZWxkcykpIHtcbiAgICAgIGRpZmYuY29sdW1uID0gXCJhZGRlZFwiO1xuICAgICAgc2hhcmVkRmllbGRzID0gaUZpZWxkcztcbiAgICB9IGVsc2Uge1xuICAgICAgZGlmZi5jb2x1bW4gPSBcImNoYW5nZWRcIjtcbiAgICAgIHNoYXJlZEZpZWxkcyA9IGlGaWVsZHMuZmlsdGVyKGYgPT4gZkZpZWxkcy5pbmRleE9mKGYpID49IDApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzaGFyZWRGaWVsZHMgPSBpRmllbGRzO1xuICB9XG5cbiAgaWYgKHNoYXJlZEZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgbWFwcGVkSURhdGEgPSBpRGF0YS5tYXAoZCA9PlxuICAgICAgc2hhcmVkRmllbGRzLm1hcChmID0+IGQuZGF0dW1bZl0pLmpvaW4oXCIsXCIpXG4gICAgKTtcbiAgICBjb25zdCBtYXBwZWRGRGF0YSA9IGZEYXRhLm1hcChkID0+XG4gICAgICBzaGFyZWRGaWVsZHMubWFwKGYgPT4gZC5kYXR1bVtmXSkuam9pbihcIixcIilcbiAgICApO1xuICAgIGRpZmYucm93ID0gIWRlZXBFcXVhbChtYXBwZWRJRGF0YSwgbWFwcGVkRkRhdGEpO1xuICB9IGVsc2Uge1xuICAgIGRpZmYucm93ID0gaURhdGEubGVuZ3RoICE9PSBmRGF0YS5sZW5ndGg7XG4gIH1cblxuICBpZiAoIWRpZmYuY29sdW1uICYmICFkaWZmLnJvdykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBkaWZmLnNoYXJlZEZpZWxkcyA9IHNoYXJlZEZpZWxkcztcbiAgcmV0dXJuIGRpZmY7XG59XG5cbi8vIGZ1bmN0aW9uIGlzRGlmZkRhdGFDb21wKGlEYXRhQ29tcCwgZkRhdGFDb21wLCByYXdJbmZvKSB7XG4vLyAgIGlmIChpRGF0YUNvbXAuc291cmNlIHx8IGZEYXRhQ29tcC5zb3VyY2UpIHtcbi8vICAgICBsZXQgbmV3SURhdGFDb21wID0gaURhdGFDb21wLFxuLy8gICAgICAgbmV3RkRhdGFDb21wID0gZkRhdGFDb21wO1xuLy8gICAgIGlmIChpRGF0YUNvbXAuc291cmNlICYmIHR5cGVvZihpRGF0YUNvbXAuc291cmNlKSA9PT0gXCJzdHJpbmdcIikge1xuLy8gICAgICAgbmV3SURhdGFDb21wID0gZmluZERhdGFDb21wKHJhd0luZm8uc1Zpcy5zcGVjLCBpRGF0YUNvbXAuc291cmNlKTtcbi8vICAgICAgIG5ld0lEYXRhQ29tcC50cmFuc2Zvcm0gPSAobmV3SURhdGFDb21wLnRyYW5zZm9ybSB8fCBbXSkuY29uY2F0KGlEYXRhQ29tcC50cmFuc2Zvcm0pO1xuLy8gICAgIH1cbi8vICAgICBpZiAoZkRhdGFDb21wLnNvdXJjZSAmJiB0eXBlb2YoZkRhdGFDb21wLnNvdXJjZSkgPT09IFwic3RyaW5nXCIpIHtcbi8vICAgICAgIG5ld0ZEYXRhQ29tcCA9IGZpbmREYXRhQ29tcChyYXdJbmZvLmVWaXMuc3BlYywgZkRhdGFDb21wLnNvdXJjZSk7XG4vLyAgICAgICBuZXdGRGF0YUNvbXAudHJhbnNmb3JtID0gKG5ld0ZEYXRhQ29tcC50cmFuc2Zvcm0gfHwgW10pLmNvbmNhdChmRGF0YUNvbXAudHJhbnNmb3JtKTtcbi8vICAgICB9XG5cbi8vICAgICByZXR1cm4gaXNEaWZmRGF0YUNvbXAobmV3SURhdGFDb21wLCBuZXdGRGF0YUNvbXAsIHJhd0luZm8pXG4vLyAgIH1cblxuLy8gICBsZXQgX2kgPSBjb3B5KGlEYXRhQ29tcCksIF9mID0gY29weShmRGF0YUNvbXApO1xuLy8gICBkZWxldGUgX2kubmFtZTtcbi8vICAgLy8gZGVsZXRlIF9pLnZhbHVlcztcbi8vICAgZGVsZXRlIF9mLm5hbWU7XG4vLyAgIC8vIGRlbGV0ZSBfZi52YWx1ZXM7XG4vLyAgIGlmIChfaS52YWx1ZXMgJiYgX2YudmFsdWVzKSB7XG4vLyAgICAgaWYgKF9pLnZhbHVlcy5sZW5ndGggIT09IF9mLnZhbHVlcy5sZW5ndGgpIHtcbi8vICAgICAgIHJldHVybiB0cnVlXG4vLyAgICAgfVxuLy8gICAgIGlmICggSlNPTi5zdHJpbmdpZnkoX2kudmFsdWVzLnNvcnQoKSkgIT09IEpTT04uc3RyaW5naWZ5KF9mLnZhbHVlcy5zb3J0KCkpKXtcbi8vICAgICAgIHJldHVybiB0cnVlXG4vLyAgICAgfVxuXG4vLyAgIH1cbi8vICAgZGVsZXRlIF9pLnZhbHVlcztcbi8vICAgZGVsZXRlIF9mLnZhbHVlcztcbi8vICAgcmV0dXJuICFkZWVwRXF1YWwoX2ksIF9mKTtcbi8vICAgLy9jb21wYXJlIGFsbCBleGNlcHQgZm9yIFwibmFtZVwiLiAgKFwidmFsdWVzXCIgbWF5IHRha2UgYSBsb3Qgb2YgdGltZXMuLi4pXG4vLyB9XG5cbi8vIGZ1bmN0aW9uIGZpbmREYXRhQ29tcChzcGVjLCBjb21wTmFtZSkge1xuLy8gICByZXR1cm4gc3BlYy5kYXRhLmZpbmQoY29tcCA9PiBjb21wLm5hbWUgPT09IGNvbXBOYW1lKTtcbi8vIH1cbiIsImltcG9ydCB7IGdldE1hcmtEYXRhLCB1bnBhY2tEYXRhIH0gZnJvbSBcIi4uL3V0aWwvdmdEYXRhSGVscGVyXCI7XG5pbXBvcnQgeyBnZXQgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XG5pbXBvcnQgeyBjb21wdXRlSGFzRmFjZXQsIGlzR3JvdXBpbmdNYXJrdHlwZSB9IGZyb20gXCIuLi9jaGFuZ2VGZXRjaGVyL3N0YXRlL3V0aWxcIjtcbmltcG9ydCB7IGdldFN1YkVuY29kZUJ5Q2hhbm5lbCB9IGZyb20gXCIuL3V0aWxcIjtcblxuZnVuY3Rpb24gYXBwbHlNYXJrRGlmZnMoXG4gIG1hcmtEaWZmLFxuICBhcHBseWluZ0RpZmZzLFxuICByYXdJbmZvLFxuICBleHRyYURpZmZzQnlNYXJrdHlwZUNoYW5nZSA9IFtdXG4pIHtcblxuICBjb25zdCBtYXJrQ29tcFN1bW1hcnkgPSBuZXcgTWFya1N1bW1hcnkobWFya0RpZmYsIHJhd0luZm8pO1xuXG4gIGFwcGx5aW5nRGlmZnMuZm9yRWFjaChkaWZmID0+IHtcbiAgICBtYXJrQ29tcFN1bW1hcnkuYXBwbHlEaWZmKGRpZmYsIGV4dHJhRGlmZnNCeU1hcmt0eXBlQ2hhbmdlKTtcbiAgfSk7XG4gIHJldHVybiBtYXJrQ29tcFN1bW1hcnk7XG59XG5cblxuY2xhc3MgTWFya1N1bW1hcnkge1xuICBjb25zdHJ1Y3RvcihtYXJrRGlmZiwgcmF3SW5mbykge1xuICAgIGNvbnN0IHZlZ2FWaWV3ID0gcmF3SW5mby5zVmlzLnZpZXc7XG4gICAgbGV0IGRhdGEgPSBnZXRNYXJrRGF0YShcbiAgICAgIHZlZ2FWaWV3LFxuICAgICAgbWFya0RpZmYuaW5pdGlhbCxcbiAgICAgIG1hcmtEaWZmLmNvbXBOYW1lLFxuXG4gICAgKTtcbiAgICBsZXQgaGFzRmFjZXQgPSBtYXJrRGlmZi5pbml0aWFsID8gY29tcHV0ZUhhc0ZhY2V0KG1hcmtEaWZmLmluaXRpYWwpIDogdW5kZWZpbmVkO1xuICAgIGxldCBpc0dyb3VwaW5nTXR5cGUgPSBtYXJrRGlmZi5pbml0aWFsID8gaXNHcm91cGluZ01hcmt0eXBlKG1hcmtEaWZmLmluaXRpYWwudHlwZSkgOiB1bmRlZmluZWQ7XG4gICAgZGF0YSA9IGhhc0ZhY2V0IHx8IGlzR3JvdXBpbmdNdHlwZSA/IHVucGFja0RhdGEoZGF0YSkgOiBkYXRhO1xuICAgIHRoaXMubWFya0RpZmYgPSBtYXJrRGlmZjtcbiAgICB0aGlzLnJhd0luZm8gPSByYXdJbmZvO1xuICAgIHRoaXMuaXNFbXB0eSA9IG1hcmtEaWZmLmFkZDtcbiAgICB0aGlzLm1hcmt0eXBlID0gZ2V0KG1hcmtEaWZmLCBcImluaXRpYWxcIiwgXCJ0eXBlXCIpO1xuICAgIHRoaXMuZW5jb2RlID0gZ2V0KG1hcmtEaWZmLCBcImluaXRpYWxcIiwgXCJlbmNvZGVcIiwgXCJ1cGRhdGVcIikgfHwge307XG5cbiAgICB0aGlzLmRhdGEgPSB7XG4gICAgICBoYXNGYWNldCxcbiAgICAgIGlzR3JvdXBpbmdNYXJrdHlwZTogaXNHcm91cGluZ010eXBlLFxuICAgICAgZmllbGRzOiBkYXRhWzBdID8gT2JqZWN0LmtleXMoZGF0YVswXS5kYXR1bSkgOiBbXSxcbiAgICAgIHZhbHVlczogZGF0YVxuICAgIH07XG5cbiAgICB0aGlzLnNjYWxlcyA9IG1hcmtEaWZmLm1ldGEudXNlZFNjYWxlcy5yZWR1Y2UoKHNjYWxlcywgc2NOYW1lKSA9PiB7XG4gICAgICBjb25zdCBzY2FsZV9pID0gdmVnYVZpZXcuX3J1bnRpbWUuc2NhbGVzW3NjTmFtZV07XG4gICAgICBpZiAoc2NhbGVfaSkge1xuICAgICAgICBzY2FsZXNbc2NOYW1lXSA9IHNjYWxlX2kudmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2NhbGVzO1xuICAgIH0sIHt9KTtcblxuICAgIHRoaXMuc3R5bGUgPSBnZXQobWFya0RpZmYsIFwiaW5pdGlhbFwiLCBcInN0eWxlXCIpO1xuICB9XG5cbiAgYXBwbHlEaWZmKGRpZmYsIGV4dHJhRGlmZnNCeU1hcmt0eXBlQ2hhbmdlKSB7XG5cbiAgICBpZiAoZGlmZiA9PT0gXCJhZGRcIikge1xuICAgICAgdGhpcy5pc0VtcHR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGRpZmYgPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgIHRoaXMuaXNFbXB0eSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGlmZiA9PT0gXCJtYXJrdHlwZVwiKSB7XG4gICAgICB0aGlzLm1hcmt0eXBlID0gZ2V0KHRoaXMubWFya0RpZmYsIFwiZmluYWxcIiwgXCJ0eXBlXCIpO1xuICAgICAgZXh0cmFEaWZmc0J5TWFya3R5cGVDaGFuZ2UuZm9yRWFjaChleHRyYURpZmYgPT4ge1xuICAgICAgICB0aGlzLmFwcGx5RGlmZihleHRyYURpZmYpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChkaWZmID09PSBcImRhdGFcIikge1xuICAgICAgdGhpcy5kYXRhID0ge1xuICAgICAgICBpc0dyb3VwaW5nTWFya3R5cGU6IHRoaXMubWFya0RpZmYuZmluYWwgPyBpc0dyb3VwaW5nTWFya3R5cGUodGhpcy5tYXJrRGlmZi5maW5hbC50eXBlKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgaGFzRmFjZXQ6IHRoaXMubWFya0RpZmYuZmluYWwgPyBjb21wdXRlSGFzRmFjZXQodGhpcy5tYXJrRGlmZi5maW5hbCkgOiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgICAgbGV0IGRhdGEgPSBnZXRNYXJrRGF0YShcbiAgICAgICAgdGhpcy5yYXdJbmZvLmVWaXMudmlldyxcbiAgICAgICAgdGhpcy5tYXJrRGlmZi5maW5hbCxcbiAgICAgICAgdGhpcy5tYXJrRGlmZi5jb21wTmFtZVxuICAgICAgKTtcbiAgICAgIGRhdGEgPSB0aGlzLmRhdGEuaGFzRmFjZXQgfHwgdGhpcy5kYXRhLmlzR3JvdXBpbmdNYXJrdHlwZSA/IHVucGFja0RhdGEoZGF0YSkgOiBkYXRhO1xuICAgICAgdGhpcy5kYXRhLmZpZWxkcyA9IGRhdGFbMF0gPyBPYmplY3Qua2V5cyhkYXRhWzBdLmRhdHVtKSA6IFtdO1xuICAgICAgdGhpcy5kYXRhLnZhbHVlcyA9IGRhdGE7XG4gICAgfSBlbHNlIGlmIChkaWZmLmluZGV4T2YoXCJlbmNvZGUuXCIpID49IDApIHtcbiAgICAgIGNvbnN0IGNoYW5uZWwgPSBkaWZmLnJlcGxhY2UoXCJlbmNvZGUuXCIsIFwiXCIpO1xuICAgICAgdGhpcy5lbmNvZGUgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgdGhpcy5lbmNvZGUsXG4gICAgICAgIHRoaXMubWFya0RpZmYuZmluYWwgPyBnZXRTdWJFbmNvZGVCeUNoYW5uZWwodGhpcy5tYXJrRGlmZi5maW5hbC5lbmNvZGUudXBkYXRlLCBjaGFubmVsKSA6IHt9XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoZGlmZi5pbmRleE9mKFwic2NhbGUuXCIpID49IDApIHtcbiAgICAgIGNvbnN0IHNjTmFtZSA9IGRpZmYucmVwbGFjZShcInNjYWxlLlwiLCBcIlwiKTtcbiAgICAgIGNvbnN0IHNjYWxlX2YgPSB0aGlzLnJhd0luZm8uZVZpcy52aWV3Ll9ydW50aW1lLnNjYWxlc1tzY05hbWVdO1xuICAgICAgaWYgKHNjYWxlX2YpIHtcbiAgICAgICAgdGhpcy5zY2FsZXNbc2NOYW1lXSA9IHNjYWxlX2YudmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgdGhpcy5zY2FsZXNbc2NOYW1lXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpZmYgPT09IFwic3R5bGVcIikge1xuICAgICAgdGhpcy5zdHlsZSA9IGdldCh0aGlzLm1hcmtEaWZmLCBcImZpbmFsXCIsIFwic3R5bGVcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbn1cblxuXG5leHBvcnQgeyBhcHBseU1hcmtEaWZmcyB9O1xuLy8gVG9kb1xuLy8gTWFrZSBUZXN0XG4iLCJmdW5jdGlvbiBjaGVja01hcmtDb21wKG1hcmtDb21wU3VtbWFyeSkge1xuICBjb25zdCB7IGVuY29kZSB9ID0gbWFya0NvbXBTdW1tYXJ5O1xuICBjb25zdCB7IG1hcmt0eXBlIH0gPSBtYXJrQ29tcFN1bW1hcnk7XG4gIGNvbnN0IHsgZGF0YSB9ID0gbWFya0NvbXBTdW1tYXJ5O1xuICBjb25zdCB7IHNjYWxlcyB9ID0gbWFya0NvbXBTdW1tYXJ5O1xuXG4gIGlmIChtYXJrQ29tcFN1bW1hcnkuaXNFbXB0eSkge1xuICAgIHJldHVybiB7IHJlc3VsdDogdHJ1ZSB9O1xuICB9XG5cbiAgLy8gZW5jb2RlIC0gbWFya3R5cGVcbiAgaWYgKG1hcmt0eXBlID09PSBcInJlY3RcIikge1xuICAgIGNvbnN0IGlzWEVuY29kZVZhbGlkID0gY29udGFpbkFueUF0dHJTZXQoXG4gICAgICBbXG4gICAgICAgIFtcInhcIiwgXCJ4MlwiXSxcbiAgICAgICAgW1wieFwiLCBcIndpZHRoXCJdLFxuICAgICAgICBbXCJ4Y1wiLCBcIndpZHRoXCJdXG4gICAgICBdLFxuICAgICAgZW5jb2RlXG4gICAgKTtcbiAgICBjb25zdCBpc1lFbmNvZGVWYWxpZCA9IGNvbnRhaW5BbnlBdHRyU2V0KFxuICAgICAgW1xuICAgICAgICBbXCJ5XCIsIFwieTJcIl0sXG4gICAgICAgIFtcInlcIiwgXCJoZWlnaHRcIl0sXG4gICAgICAgIFtcInljXCIsIFwiaGVpZ2h0XCJdXG4gICAgICBdLFxuICAgICAgZW5jb2RlXG4gICAgKTtcbiAgICBpZiAoIWlzWEVuY29kZVZhbGlkIHx8ICFpc1lFbmNvZGVWYWxpZCkge1xuICAgICAgcmV0dXJuIHsgcmVzdWx0OiBmYWxzZSwgcmVhc29uczogW1wiZW5jb2RlXCIsIFwibWFya3R5cGVcIl0gfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobWFya3R5cGUgPT09IFwiYXJlYVwiKSB7XG4gICAgY29uc3QgaXNWYWxpZCA9XG4gICAgICBlbmNvZGUub3JpZW50ICYmIGVuY29kZS5vcmllbnQudmFsdWUgPT09IFwiaG9yaXpvbnRhbFwiXG4gICAgICAgID8gY29udGFpbkFueUF0dHJTZXQoXG4gICAgICAgICAgW1xuICAgICAgICAgICAgW1wieFwiLCBcIngyXCIsIFwieVwiXSxcbiAgICAgICAgICAgIFtcInhcIiwgXCJ5XCIsIFwid2lkdGhcIl1cbiAgICAgICAgICBdLFxuICAgICAgICAgIGVuY29kZVxuICAgICAgICApXG4gICAgICAgIDogY29udGFpbkFueUF0dHJTZXQoXG4gICAgICAgICAgW1xuICAgICAgICAgICAgW1wieFwiLCBcInkyXCIsIFwieVwiXSxcbiAgICAgICAgICAgIFtcInhcIiwgXCJ5XCIsIFwiaGVpZ2h0XCJdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBlbmNvZGVcbiAgICAgICAgKTtcblxuICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgcmV0dXJuIHsgcmVzdWx0OiBmYWxzZSwgcmVhc29uczogW1wiZW5jb2RlXCIsIFwibWFya3R5cGVcIl0gfTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobWFya3R5cGUgPT09IFwibGluZVwiKSB7XG4gICAgY29uc3QgaXNJblZhbGlkID0gY29udGFpbkFueUF0dHJTZXQoXG4gICAgICBbIFtcIngyXCIsIFwieFwiXSwgW1wieTJcIiwgXCJ5XCJdLCBbXCJ5XCIsIFwiaGVpZ2h0XCJdLCBbXCJ5Y1wiLCBcImhlaWdodFwiXSwgW1wieFwiLCBcIndpZHRoXCJdLCBbXCJ4Y1wiLCBcIndpZHRoXCJdIF0sXG4gICAgICBlbmNvZGVcbiAgICApO1xuICAgIGlmIChpc0luVmFsaWQpIHtcbiAgICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbnM6IFtcImVuY29kZVwiLCBcIm1hcmt0eXBlXCJdIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKG1hcmt0eXBlID09PSBcInRleHRcIikge1xuICAgIGlmICghZW5jb2RlLnRleHQpIHtcbiAgICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbnM6IFtcImVuY29kZVwiLCBcIm1hcmt0eXBlXCJdIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKG1hcmt0eXBlID09PSBcInJ1bGVcIikge1xuICAgIGlmIChcbiAgICAgICFjb250YWluQW55QXR0clNldChcbiAgICAgICAgW1xuICAgICAgICAgIFtcInhcIiwgXCJ4MlwiLCBcInlcIl0sXG4gICAgICAgICAgW1wieVwiLCBcInkyXCIsIFwieFwiXVxuICAgICAgICBdLFxuICAgICAgICBlbmNvZGVcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbnM6IFtcImVuY29kZVwiLCBcIm1hcmt0eXBlXCJdIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKCFtYXJrdHlwZSkge1xuICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbnM6IFtcIm1hcmt0eXBlXCJdIH07XG4gIH1cblxuICAvLyBlbmNvZGUgLSBkYXRhLCBlbmNvZGUgLSBkYXRhIC0gc2NhbGUsIGVuY29kZSAtIHNjYWxlXG4gIGNvbnN0IGF0dHJzID0gT2JqZWN0LmtleXMoZW5jb2RlKTtcbiAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgT2JqZWN0LmtleXMoc2NhbGVzIHx8IHt9KS5mb3JFYWNoKHNjTmFtZSA9PiB7XG5cbiAgICBpZiAoIWF0dHJzLmZpbmQoYXR0ciA9PiB7XG4gICAgICBpZiAoIWVuY29kZVthdHRyXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBlbkF0dHJzID0gQXJyYXkuaXNBcnJheShlbmNvZGVbYXR0cl0pID8gZW5jb2RlW2F0dHJdIDogWyBlbmNvZGVbYXR0cl0gXTtcbiAgICAgIHJldHVybiBlbkF0dHJzLmZpbmQoZW5BdHRyID0+IGVuQXR0ci5zY2FsZSA9PT0gc2NOYW1lKTtcbiAgICB9KSkge1xuICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICBpZiAoIXZhbGlkKSB7XG4gICAgcmV0dXJuIHsgcmVhc29uczogW1wiZW5jb2RlXCIsIFwic2NhbGVcIl0sIHJlc3VsdDogZmFsc2UgfTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbkF0dHJzID0gQXJyYXkuaXNBcnJheShlbmNvZGVbYXR0cnNbaV1dKSA/IGVuY29kZVthdHRyc1tpXV0gOiBbIGVuY29kZVthdHRyc1tpXV0gXTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVuQXR0cnMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGVuQXR0ciA9IGVuQXR0cnNbal07XG4gICAgICBpZiAoZW5BdHRyICYmIGVuQXR0ci5zY2FsZSkge1xuICAgICAgICBpZiAoIXNjYWxlc1tlbkF0dHIuc2NhbGVdKSB7XG4gICAgICAgICAgcmV0dXJuIHsgcmVhc29uczogW1wiZW5jb2RlXCIsIFwic2NhbGVcIl0sIHJlc3VsdDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5BdHRyLmJhbmQgJiYgc2NhbGVzW2VuQXR0ci5zY2FsZV0udHlwZSAhPT0gXCJiYW5kXCIpIHtcbiAgICAgICAgICByZXR1cm4geyByZWFzb25zOiBbXCJlbmNvZGVcIiwgXCJzY2FsZVwiXSwgcmVzdWx0OiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZW5BdHRyICYmIGVuQXR0ci5maWVsZCAmJiAhZW5BdHRyLmZpZWxkLmdyb3VwKSB7XG4gICAgICAgIGxldCBmaWVsZCA9IGVuQXR0ci5maWVsZDtcbiAgICAgICAgaWYgKGVuQXR0ci5maWVsZC5wYXJlbnQpIHtcbiAgICAgICAgICBmaWVsZCA9IGVuQXR0ci5maWVsZC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuZmllbGRzLmluZGV4T2YoZmllbGQpIDwgMCkge1xuICAgICAgICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbnM6IFtcImVuY29kZVwiLCBcImRhdGFcIl0gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5BdHRyLnNjYWxlKSB7XG4gICAgICAgICAgY29uc3QgZm91bmRTY2FsZSA9IHNjYWxlc1tlbkF0dHIuc2NhbGVdO1xuICAgICAgICAgIGNvbnN0IHZhbHMgPSBkYXRhLnZhbHVlcy5tYXAoZCA9PiBkLmRhdHVtW2ZpZWxkXSk7XG4gICAgICAgICAgY29uc3Qgc2NhbGVEb21haW4gPSBmb3VuZFNjYWxlLmRvbWFpbigpO1xuICAgICAgICAgIGxldCB2YWxpZCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoW1wiYmFuZFwiLCBcIm9yZGluYWxcIiwgXCJwb2ludFwiXS5pbmRleE9mKGZvdW5kU2NhbGUudHlwZSkgPj0gMCkge1xuICAgICAgICAgICAgLy8gZm9yIGRpc2NyZXRlIHNjYWxlc1xuICAgICAgICAgICAgdmFsaWQgPVxuICAgICAgICAgICAgICB2YWxpZCAmJlxuICAgICAgICAgICAgICB2YWxzLnJlZHVjZShcbiAgICAgICAgICAgICAgICAoYWNjLCB2KSA9PiAoYWNjID0gYWNjICYmIHNjYWxlRG9tYWluLmluZGV4T2YodikgPj0gMCksXG4gICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZm91bmRTY2FsZS50eXBlID09PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heCguLi52YWxzKTtcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKC4uLnZhbHMpO1xuICAgICAgICAgICAgdmFsaWQgPSB2YWxpZCAmJiBzY2FsZURvbWFpblswXSA8PSBtaW4gJiYgc2NhbGVEb21haW5bMV0gPj0gbWF4O1xuICAgICAgICAgIH0gZWxzZSBpZiAoZm91bmRTY2FsZS50eXBlID09PSBcInRpbWVcIikge1xuICAgICAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoLi4udmFscyk7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbiguLi52YWxzKTtcbiAgICAgICAgICAgIHZhbGlkID0gdmFsaWQgJiYgc2NhbGVEb21haW5bMF0gPD0gbWluICYmIHNjYWxlRG9tYWluWzFdID49IG1heDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4geyByZWFzb25zOiBbXCJlbmNvZGVcIiwgXCJkYXRhXCIsIFwic2NhbGVcIl0sIHJlc3VsdDogZmFsc2UgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgcmVzdWx0OiB0cnVlIH07XG59XG5cbmZ1bmN0aW9uIGNvbnRhaW5BbnlBdHRyU2V0KHBvc3NpYmxlQXR0clNldHMsIGVuY29kZSkge1xuICByZXR1cm4gcG9zc2libGVBdHRyU2V0cy5yZWR1Y2UoKHZhbGlkLCBhdHRycykgPT4ge1xuICAgIGNvbnN0IGhhc0F0dHJzID0gYXR0cnMucmVkdWNlKFxuICAgICAgKGhhc0F0dHJzLCBhdHRyKSA9PiBoYXNBdHRycyAmJiBlbmNvZGVbYXR0cl0sXG4gICAgICB0cnVlXG4gICAgKTtcbiAgICByZXR1cm4gdmFsaWQgfHwgaGFzQXR0cnM7XG4gIH0sIGZhbHNlKTtcbn1cblxuLy8gZnVuY3Rpb24gY2hlY2tWaWV3QXhpc0NvbnN0cmFpbnQocHNldWRvVGwpIHtcbi8vICAgbGV0IHlBeGlzVmlld0NoYW5nZSwgbWFya1ZpZXdDaGFuZ2VzID0gW10sIHhBeGlzVmlld0NoYW5nZTtcbi8vICAgcHNldWRvVGwuY29uY2F0LmZvckVhY2goKHN0YWdlLCBpKSA9PiB7XG4vLyAgICAgc3RhZ2Uuc3luYy5mb3JFYWNoKHBzZXVkb1N0ZXAgPT4ge1xuLy8gICAgICAgbGV0IGRlbHRhVyA9IGdldChwc2V1ZG9TdGVwLCBcImRpZmZcIiwgXCJtZXRhXCIsIFwidmlld1wiLCBcImRlbHRhV1wiKSxcbi8vICAgICAgICAgZGVsdGFIID0gZ2V0KHBzZXVkb1N0ZXAsIFwiZGlmZlwiLCBcIm1ldGFcIiwgXCJ2aWV3XCIsIFwiZGVsdGFIXCIpO1xuXG4vLyAgICAgICBpZiAocHNldWRvU3RlcC5kaWZmLmNvbXBUeXBlID09PSBcImF4aXNcIiAmJiBwc2V1ZG9TdGVwLmRpZmYuY29tcE5hbWUgPT09IFwieFwiICYmICF4QXhpc1ZpZXdDaGFuZ2UpIHtcbi8vICAgICAgICAgeEF4aXNWaWV3Q2hhbmdlID0ge1xuLy8gICAgICAgICAgIHdpZHRoQ2hhbmdlOiBkZWx0YVcgPiAwID8gXCJpbmNcIiA6IChkZWx0YVcgPCAwID8gXCJkZWNcIiA6IGZhbHNlKSxcbi8vICAgICAgICAgICBvcmllbnQ6IHBzZXVkb1N0ZXAuZGlmZi5pbml0aWFsLm9yaWVudCxcbi8vICAgICAgICAgICB3aGVuOiBpXG4vLyAgICAgICAgIH1cbi8vICAgICAgIH1cbi8vICAgICAgIGlmIChwc2V1ZG9TdGVwLmRpZmYuY29tcFR5cGUgPT09IFwiYXhpc1wiICYmIHBzZXVkb1N0ZXAuZGlmZi5jb21wTmFtZSA9PT0gXCJ5XCIgJiYgIXlBeGlzVmlld0NoYW5nZSkge1xuLy8gICAgICAgICB5QXhpc1ZpZXdDaGFuZ2UgPSB7XG4vLyAgICAgICAgICAgaGVpZ2h0Q2hhbmdlOiBkZWx0YUggPiAwID8gXCJpbmNcIiA6IChkZWx0YUggPCAwID8gXCJkZWNcIiA6IGZhbHNlKSxcbi8vICAgICAgICAgICBvcmllbnQ6IHBzZXVkb1N0ZXAuZGlmZi5pbml0aWFsLm9yaWVudCxcbi8vICAgICAgICAgICB3aGVuOiBpXG4vLyAgICAgICAgIH1cbi8vICAgICAgIH1cbi8vICAgICAgIGlmIChwc2V1ZG9TdGVwLmRpZmYuY29tcFR5cGUgPT09IFwibWFya1wiICkge1xuLy8gICAgICAgICBtYXJrVmlld0NoYW5nZXMucHVzaCh7XG4vLyAgICAgICAgICAgd2lkdGhDaGFuZ2U6IGRlbHRhVyA+IDAgPyBcImluY1wiIDogKGRlbHRhVyA8IDAgPyBcImRlY1wiIDogZmFsc2UpLFxuLy8gICAgICAgICAgIGhlaWdodENoYW5nZTogZGVsdGFIID4gMCA/IFwiaW5jXCIgOiAoZGVsdGFIIDwgMCA/IFwiZGVjXCIgOiBmYWxzZSksXG4vLyAgICAgICAgICAgd2hlbjogaVxuLy8gICAgICAgICB9KVxuLy8gICAgICAgfVxuLy8gICAgIH0pXG4vLyAgIH0pXG4vLyAgIGlmICh4QXhpc1ZpZXdDaGFuZ2Uub3JpZW50ID09PSBcImJvdHRvbVwiKSB7XG4vLyAgICAgaWYgKHhBeGlzVmlld0NoYW5nZS5oZWlnaHRDaGFuZ2UgPT09IFwiaW5jXCIpIHtcbi8vICAgICAgIGlmICh4QXhpc1ZpZXdDaGFuZ2Uud2hlbiA+IHlBeGlzVmlld0NoYW5nZS53aGVuKSB7XG4vLyAgICAgICAgIHJldHVybiBmYWxzZVxuLy8gICAgICAgfSBlbHNlIGlmICh4QXhpc1ZpZXdDaGFuZ2Uud2hlbiA+IE1hdGgubWluKC4uLm1hcmtWaWV3Q2hhbmdlcy5tYXAoYyA9PiBjLndoZW4pKSkge1xuLy8gICAgICAgICByZXR1cm4gZmFsc2Vcbi8vICAgICAgIH1cbi8vICAgICB9IGVsc2UgaWYgKHhBeGlzVmlld0NoYW5nZS5oZWlnaHRDaGFuZ2UgPT09IFwiZGVjXCIpIHtcbi8vICAgICAgIGlmICh4QXhpc1ZpZXdDaGFuZ2Uud2hlbiA8IHlBeGlzVmlld0NoYW5nZS53aGVuKSB7XG4vLyAgICAgICAgIHJldHVybiBmYWxzZVxuLy8gICAgICAgfSBlbHNlIGlmICh4QXhpc1ZpZXdDaGFuZ2Uud2hlbiA8IE1hdGgubWF4KC4uLm1hcmtWaWV3Q2hhbmdlcy5tYXAoYyA9PiBjLndoZW4pKSkge1xuLy8gICAgICAgICByZXR1cm4gZmFsc2Vcbi8vICAgICAgIH1cbi8vICAgICB9XG4vLyAgIH0gZWxzZSBpZiAoeUF4aXNWaWV3Q2hhbmdlLm9yaWVudCA9PT0gXCJyaWdodFwiICYmXG4vLyAgICAgeUF4aXNWaWV3Q2hhbmdlLmhlaWdodENoYW5nZSA9PT0gXCJpbmNcIikge1xuLy8gICAgIGNvbnNvbGUuZXJyb3IoXCJUT0RPXCIpO1xuLy8gICB9XG4vLyAgIHJldHVybiB0cnVlO1xuLy8gfVxuXG5leHBvcnQge1xuICBjaGVja01hcmtDb21wXG4gIC8vIGNoZWNrVmlld0F4aXNDb25zdHJhaW50IGFzIGNoZWNrVmlld0F4aXNDb25zdHJhaW50XG59O1xuIiwiaW1wb3J0IHsgZ2V0LCBkZWVwRXF1YWwgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XG5pbXBvcnQgeyBNSU5fUE9TX0RFTFRBIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZShwc2V1ZG9UaW1lbGluZSwgc3RhZ2VOKSB7XG4gIHJldHVybiAoXG4gICAgLy8gY2hlY2tWaWV3QXhpc0NvbnN0cmFpbnQocHNldWRvVGltZWxpbmUpICYmXG4gICAgY2hlY2tWaWV3TGVnZW5kQ29uc3RyYWludChwc2V1ZG9UaW1lbGluZSkgJiZcbiAgICBjaGVja1VuZW1wdHkocHNldWRvVGltZWxpbmUpICYmXG4gICAgcHNldWRvVGltZWxpbmUuY29uY2F0Lmxlbmd0aCA9PT0gc3RhZ2VOICYmXG4gICAgY2hlY2tNYXJrQ29uc3RyYWludChwc2V1ZG9UaW1lbGluZSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGNoZWNrVW5lbXB0eShwc2V1ZG9UbCkge1xuICByZXR1cm4gIXBzZXVkb1RsLmNvbmNhdC5maW5kKHN0YWdlID0+IHN0YWdlLnN5bmMubGVuZ3RoID09PSAwKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tWaWV3QXhpc0NvbnN0cmFpbnQocHNldWRvVGwpIHtcbiAgbGV0IHlBeGlzVmlld0NoYW5nZSwgbWFya1ZpZXdDaGFuZ2VzID0gW10sIHhBeGlzVmlld0NoYW5nZTtcbiAgcHNldWRvVGwuY29uY2F0LmZvckVhY2goKHN0YWdlLCBpKSA9PiB7XG4gICAgc3RhZ2Uuc3luYy5mb3JFYWNoKHBzZXVkb1N0ZXAgPT4ge1xuICAgICAgbGV0IGRlbHRhVyA9IGdldChwc2V1ZG9TdGVwLCBcImRpZmZcIiwgXCJtZXRhXCIsIFwidmlld1wiLCBcInhcIiksXG4gICAgICAgIGRlbHRhSCA9IGdldChwc2V1ZG9TdGVwLCBcImRpZmZcIiwgXCJtZXRhXCIsIFwidmlld1wiLCBcInlcIik7XG5cbiAgICAgIGlmIChwc2V1ZG9TdGVwLmRpZmYuY29tcFR5cGUgPT09IFwiYXhpc1wiICYmIHBzZXVkb1N0ZXAuZGlmZi5jb21wTmFtZSA9PT0gXCJ4XCIgJiYgIXhBeGlzVmlld0NoYW5nZSkge1xuICAgICAgICB4QXhpc1ZpZXdDaGFuZ2UgPSB7XG4gICAgICAgICAgd2lkdGg6IGRlbHRhVyA+PSBNSU5fUE9TX0RFTFRBID8gXCJpbmNcIiA6IChkZWx0YVcgPD0gLU1JTl9QT1NfREVMVEEgPyBcImRlY1wiIDogZmFsc2UpLFxuICAgICAgICAgIGhlaWdodDogZGVsdGFIID49IE1JTl9QT1NfREVMVEEgPyBcImluY1wiIDogKGRlbHRhSCA8PSAtTUlOX1BPU19ERUxUQSA/IFwiZGVjXCIgOiBmYWxzZSksXG4gICAgICAgICAgb3JpZW50OiBnZXQocHNldWRvU3RlcCwgXCJkaWZmXCIsIFwiaW5pdGlhbFwiLCBcIm9yaWVudFwiKSB8fCBnZXQocHNldWRvU3RlcCwgXCJkaWZmXCIsIFwiZmluYWxcIiwgXCJvcmllbnRcIiksXG4gICAgICAgICAgd2hlbjogaVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKHBzZXVkb1N0ZXAuZGlmZi5jb21wVHlwZSA9PT0gXCJheGlzXCIgJiYgcHNldWRvU3RlcC5kaWZmLmNvbXBOYW1lID09PSBcInlcIiAmJiAheUF4aXNWaWV3Q2hhbmdlKSB7XG4gICAgICAgIHlBeGlzVmlld0NoYW5nZSA9IHtcbiAgICAgICAgICB3aWR0aDogZGVsdGFXID49IE1JTl9QT1NfREVMVEEgPyBcImluY1wiIDogKGRlbHRhVyA8PSAtTUlOX1BPU19ERUxUQSA/IFwiZGVjXCIgOiBmYWxzZSksXG4gICAgICAgICAgaGVpZ2h0OiBkZWx0YUggPj0gTUlOX1BPU19ERUxUQSA/IFwiaW5jXCIgOiAoZGVsdGFIIDw9IC1NSU5fUE9TX0RFTFRBID8gXCJkZWNcIiA6IGZhbHNlKSxcbiAgICAgICAgICBvcmllbnQ6IGdldChwc2V1ZG9TdGVwLCBcImRpZmZcIiwgXCJpbml0aWFsXCIsIFwib3JpZW50XCIpIHx8IGdldChwc2V1ZG9TdGVwLCBcImRpZmZcIiwgXCJmaW5hbFwiLCBcIm9yaWVudFwiKSxcbiAgICAgICAgICB3aGVuOiBpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChwc2V1ZG9TdGVwLmRpZmYuY29tcFR5cGUgPT09IFwibWFya1wiICkge1xuICAgICAgICBtYXJrVmlld0NoYW5nZXMucHVzaCh7XG4gICAgICAgICAgd2lkdGg6IGRlbHRhVyA+PSBNSU5fUE9TX0RFTFRBID8gXCJpbmNcIiA6IChkZWx0YVcgPD0gLU1JTl9QT1NfREVMVEEgPyBcImRlY1wiIDogZmFsc2UpLFxuICAgICAgICAgIGhlaWdodDogZGVsdGFIID49IE1JTl9QT1NfREVMVEEgPyBcImluY1wiIDogKGRlbHRhSCA8PSAtTUlOX1BPU19ERUxUQSA/IFwiZGVjXCIgOiBmYWxzZSksXG4gICAgICAgICAgd2hlbjogaVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBjb25kaXRpb24gb2YgW1t4QXhpc1ZpZXdDaGFuZ2UsIHlBeGlzVmlld0NoYW5nZSwgXCJib3R0b21cIiwgXCJoZWlnaHRcIl0sIFt5QXhpc1ZpZXdDaGFuZ2UsIHhBeGlzVmlld0NoYW5nZSwgXCJyaWdodFwiLCBcIndpZHRoXCJdXSkge1xuICAgIGxldCBbYXhpcywgb3RoZXJBeGlzLCBvcmllbnQsIHNpZGVdID0gY29uZGl0aW9uO1xuXG4gICAgaWYgKGdldChheGlzLCBcIm9yaWVudFwiKSA9PT0gb3JpZW50KSB7XG4gICAgICBpZiAoYXhpc1tzaWRlXSA9PT0gXCJpbmNcIikge1xuICAgICAgICBpZiAoYXhpcy53aGVuID4gZ2V0KG90aGVyQXhpcywgXCJ3aGVuXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGlmICgobWFya1ZpZXdDaGFuZ2VzLmxlbmd0aCA+IDApICYmXG4gICAgICAgICAgKGF4aXMud2hlbiA+IE1hdGgubWluKC4uLm1hcmtWaWV3Q2hhbmdlcy5tYXAoYyA9PiBjLndoZW4pKSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXhpc1tzaWRlXSA9PT0gXCJkZWNcIikge1xuICAgICAgICBpZiAoYXhpcy53aGVuIDwgZ2V0KG90aGVyQXhpcywgXCJ3aGVuXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKChtYXJrVmlld0NoYW5nZXMubGVuZ3RoID4gMCkgJiZcbiAgICAgICAgICAoYXhpcy53aGVuIDwgTWF0aC5tYXgoLi4ubWFya1ZpZXdDaGFuZ2VzLm1hcChjID0+IGMud2hlbikpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjaGVja1ZpZXdMZWdlbmRDb25zdHJhaW50KHBzZXVkb1RsKSB7XG4gIGNvbnN0IHZpZXdDaGFuZ2VzID0ge1xuICAgIG1hcmtzOiBbXSxcbiAgICBsZWdlbmRzOiBbXVxuICB9O1xuXG4gIHBzZXVkb1RsLmNvbmNhdC5mb3JFYWNoKChzdGFnZSwgaSkgPT4ge1xuICAgIHN0YWdlLnN5bmMuZm9yRWFjaChwc2V1ZG9TdGVwID0+IHtcbiAgICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICB4OiBnZXQocHNldWRvU3RlcCwgXCJkaWZmXCIsIFwibWV0YVwiLCBcInZpZXdcIiwgXCJ4XCIpLFxuICAgICAgICB5OiBnZXQocHNldWRvU3RlcCwgXCJkaWZmXCIsIFwibWV0YVwiLCBcInZpZXdcIiwgXCJ5XCIpLFxuICAgICAgICB3aWR0aDogZ2V0KHBzZXVkb1N0ZXAsIFwiZGlmZlwiLCBcIm1ldGFcIiwgXCJ2aWV3XCIsIFwiZGVsdGFXXCIpLFxuICAgICAgICBoZWlnaHQ6IGdldChwc2V1ZG9TdGVwLCBcImRpZmZcIiwgXCJtZXRhXCIsIFwidmlld1wiLCBcImRlbHRhSFwiKVxuICAgICAgfTtcblxuICAgICAgaWYgKFtcImxlZ2VuZFwiLCBcIm1hcmtcIl0uaW5kZXhPZihwc2V1ZG9TdGVwLmRpZmYuY29tcFR5cGUpID49IDApIHtcbiAgICAgICAgY29uc3QgdmMgPSB7XG4gICAgICAgICAgeDpcbiAgICAgICAgICAgIGRlbHRhLnggPj0gTUlOX1BPU19ERUxUQVxuICAgICAgICAgICAgICA/IFwiaW5jXCJcbiAgICAgICAgICAgICAgOiBkZWx0YS54IDw9IC1NSU5fUE9TX0RFTFRBXG4gICAgICAgICAgICAgICAgPyBcImRlY1wiXG4gICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICB5OlxuICAgICAgICAgICAgZGVsdGEueSA+PSBNSU5fUE9TX0RFTFRBXG4gICAgICAgICAgICAgID8gXCJpbmNcIlxuICAgICAgICAgICAgICA6IGRlbHRhLnkgPD0gLU1JTl9QT1NfREVMVEFcbiAgICAgICAgICAgICAgICA/IFwiZGVjXCJcbiAgICAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgIHdpZHRoOlxuICAgICAgICAgICAgZGVsdGEud2lkdGggPj0gTUlOX1BPU19ERUxUQVxuICAgICAgICAgICAgICA/IFwiaW5jXCJcbiAgICAgICAgICAgICAgOiBkZWx0YS53aWR0aCA8PSAtTUlOX1BPU19ERUxUQVxuICAgICAgICAgICAgICAgID8gXCJkZWNcIlxuICAgICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgaGVpZ2h0OlxuICAgICAgICAgICAgZGVsdGEuaGVpZ2h0ID49IE1JTl9QT1NfREVMVEFcbiAgICAgICAgICAgICAgPyBcImluY1wiXG4gICAgICAgICAgICAgIDogZGVsdGEuaGVpZ2h0IDw9IC1NSU5fUE9TX0RFTFRBXG4gICAgICAgICAgICAgICAgPyBcImRlY1wiXG4gICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICB3aGVuOiBpXG4gICAgICAgIH07XG4gICAgICAgIGlmICh2Yy54IHx8IHZjLnkgfHwgdmMud2lkdGggfHwgdmMuaGVpZ2h0KSB7XG4gICAgICAgICAgaWYgKHBzZXVkb1N0ZXAuZGlmZi5jb21wVHlwZSA9PT0gXCJsZWdlbmRcIikge1xuICAgICAgICAgICAgdmMub3JpZW50ID1cbiAgICAgICAgICAgICAgZ2V0KHBzZXVkb1N0ZXAsIFwiZGlmZlwiLCBcImluaXRpYWxcIiwgXCJvcmllbnRcIikgfHxcbiAgICAgICAgICAgICAgZ2V0KHBzZXVkb1N0ZXAsIFwiZGlmZlwiLCBcImZpbmFsXCIsIFwib3JpZW50XCIpIHx8XG4gICAgICAgICAgICAgIFwicmlnaHRcIjtcbiAgICAgICAgICAgIHZpZXdDaGFuZ2VzLmxlZ2VuZHMucHVzaCh2Yyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpZXdDaGFuZ2VzLm1hcmtzLnB1c2godmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgaWYgKHZpZXdDaGFuZ2VzLm1hcmtzLmxlbmd0aCA9PT0gMCB8fCB2aWV3Q2hhbmdlcy5sZWdlbmRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZm9yIChjb25zdCBtYXJrVmlld0NoYW5nZSBvZiB2aWV3Q2hhbmdlcy5tYXJrcykge1xuICAgIGNvbnN0IHJpZ2h0TGVnZW5kVkNzID0gdmlld0NoYW5nZXMubGVnZW5kcy5maWx0ZXIoXG4gICAgICB2YyA9PiB2Yy5vcmllbnQgPT09IFwicmlnaHRcIlxuICAgICk7XG4gICAgaWYgKHJpZ2h0TGVnZW5kVkNzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChtYXJrVmlld0NoYW5nZS53aWR0aCA9PT0gXCJpbmNcIikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbWFya1ZpZXdDaGFuZ2Uud2hlbiA8XG4gICAgICAgICAgTWF0aC5taW4oXG4gICAgICAgICAgICAuLi5yaWdodExlZ2VuZFZDcy5maWx0ZXIodmMgPT4gdmMueCA9PT0gXCJpbmNcIikubWFwKGMgPT4gYy53aGVuKVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG1hcmtWaWV3Q2hhbmdlLndpZHRoID09PSBcImRlY1wiKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBtYXJrVmlld0NoYW5nZS53aGVuID5cbiAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgIC4uLnJpZ2h0TGVnZW5kVkNzLmZpbHRlcih2YyA9PiB2Yy54ID09PSBcImRlY1wiKS5tYXAoYyA9PiBjLndoZW4pXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYm90dG9tTGVnZW5kVkNzID0gdmlld0NoYW5nZXMubGVnZW5kcy5maWx0ZXIoXG4gICAgICB2YyA9PiB2Yy5vcmllbnQgPT09IFwiYm90dG9tXCJcbiAgICApO1xuICAgIGlmIChib3R0b21MZWdlbmRWQ3MubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKG1hcmtWaWV3Q2hhbmdlLmhlaWdodCA9PT0gXCJpbmNcIikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbWFya1ZpZXdDaGFuZ2Uud2hlbiA8XG4gICAgICAgICAgTWF0aC5taW4oXG4gICAgICAgICAgICAuLi5ib3R0b21MZWdlbmRWQ3MuZmlsdGVyKHZjID0+IHZjLnkgPT09IFwiaW5jXCIpLm1hcChjID0+IGMud2hlbilcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtYXJrVmlld0NoYW5nZS5oZWlnaHQgPT09IFwiZGVjXCIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1hcmtWaWV3Q2hhbmdlLndoZW4gPlxuICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgLi4uYm90dG9tTGVnZW5kVkNzLmZpbHRlcih2YyA9PiB2Yy55ID09PSBcImRlY1wiKS5tYXAoYyA9PiBjLndoZW4pXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY2hlY2tNYXJrQ29uc3RyYWludChwc2V1ZG9UbCkge1xuICBmb3IgKGNvbnN0IHN0YWdlIG9mIHBzZXVkb1RsLmNvbmNhdCkge1xuICAgIGNvbnN0IG1hcmtQc2VkdW9TdGVwcyA9IHN0YWdlLnN5bmMuZmlsdGVyKFxuICAgICAgcHNldWRvU3RlcCA9PiBwc2V1ZG9TdGVwLmRpZmYuY29tcFR5cGUgPT09IFwibWFya1wiXG4gICAgKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtQc2VkdW9TdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHNldWRvU3RlcCA9IG1hcmtQc2VkdW9TdGVwc1tpXTtcbiAgICAgIGlmIChcbiAgICAgICAgKFxuICAgICAgICAgIGRlZXBFcXVhbChwc2V1ZG9TdGVwLmZhY3RvclNldHMuY3VycmVudCwgW1wiZGF0YVwiXSkgfHxcbiAgICAgICAgICBkZWVwRXF1YWwocHNldWRvU3RlcC5mYWN0b3JTZXRzLmN1cnJlbnQsIFtcImRhdGFcIiwgXCJtYXJrdHlwZVwiXSlcbiAgICAgICAgKSAmJlxuICAgICAgICBwc2V1ZG9TdGVwLmRpZmYubWV0YS5kYXRhLnJvdyA9PT0gZmFsc2VcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvKlxuICAgICAgaWYgcHNldWRvU3RlcC5mYWN0b3JTZXRzLmN1cnJlbnQgaGFzIFwiZGF0YVwiXG4gICAgICAgJiYgcHNldWRvU3RlcC5kaWZmLm1ldGEuZGF0YS5yb3cgPT09IGZhbHNlXG4gICAgICAgJiYgcHNldWRvU3RlcC5kaWZmLmluaXRpYWwuZW5jb2RlLlxuICAgICAgKi9cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCB7IGNoZWNrVmlld0F4aXNDb25zdHJhaW50LCB2YWxpZGF0ZSwgY2hlY2tVbmVtcHR5IH07XG4iLCJpbXBvcnQgeyBhcHBseU1hcmtEaWZmcyB9IGZyb20gXCIuL2RpZmZBcHBsaWVyXCI7XG5pbXBvcnQgeyBjaGVja01hcmtDb21wIH0gZnJvbSBcIi4vbWFya0NvbXBDaGVja2VyXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZSB9IGZyb20gXCIuL3BzZXVkb1RpbWVsaW5lVmFsaWRhdG9yXCI7XG5pbXBvcnQgeyBjb3B5LCBlbnVtQXJyYXlzQnlJdGVtcyB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcbmltcG9ydCB7IE1JTl9QT1NfREVMVEEgfSBmcm9tIFwiLi91dGlsXCI7XG5cbi8vIEVudWVtZXJhdGUgYSBzZXQgb2Ygc3RlcHMgKDxzdGFnZU4pIGJ5IHNwbGl0dGluZyB0aGUgZGlmZnMuXG5mdW5jdGlvbiBlbnVtZXJhdGVQc2V1ZG9UaW1lbGluZXMoZGlmZnMsIHN0YWdlTiwgcmF3SW5mbywgdGltaW5nKSB7XG4gIC8vIEFzc3VtZTogQXhlcyBhbmQgbGVnZW5kcyBjYW5ub3QgYmUgc3BsaXR0ZWRcbiAgLy8gQXNzdW1lOiBUaGVyZSBpcyBvbmx5IG9uZSBtYXJrIGNvbXBvbmVudC4gKG5vIGFkZC9yZW1vdmUgb2YgdGhlIG1hcmsgY29tcG9uZW50cylcblxuICAvLyAwLiBmaW5kIHRoZSBtYXJrIGNvbXBvbmVudHMuXG4gIGNvbnN0IG1hcmtEaWZmcyA9IGRpZmZzLmNvbXBEaWZmcy5maWx0ZXIoXG4gICAgZGlmZiA9PiBkaWZmLmNvbXBUeXBlID09PSBcIm1hcmtcIlxuICApO1xuXG4gIGNvbnN0IGVudW1lZE1hcmtzUHVzZWRvU3RlcHMgPSBtYXJrRGlmZnMubWFwKG1hcmtEaWZmID0+IHtcbiAgICAvLyAxLiBmaW5kIHZhbGlkIHNwbGl0dGluZyBmYWN0b3JzIG9mIHRoZSBtYXJrIGNvbXBvbmVudHMuXG4gICAgY29uc3QgeyBhbGxGYWN0b3JzLCBleHRyYUZhY3RvcnNCeU1hcmt0eXBlIH0gPSBmaW5kQWxsRmFjdG9ycyhtYXJrRGlmZik7XG5cbiAgICAvLyAyLiBlbnVtZXJhdGUgYnkgYXNzaWduaW5nIGEgdmFsdWUgYW1vbmcgWzAsIC4uLiwgc3RhZ2VOIC0xXSBvbiBlYWNoIGZhY3RvclxuICAgIGNvbnN0IHNraXBwaW5nQ29uZGl0aW9uID0gbmV3IFNraXBwaW5nQ29uZGl0aW9ucygpO1xuICAgIGNvbnN0IGVudW1lZCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLnBvdyhzdGFnZU4sIGFsbEZhY3RvcnMubGVuZ3RoKTsgaSsrKSB7XG4gICAgICBjb25zdCBmYWN0b3JBc3NpZ25tZW50ID0gZ2V0RmFjdG9yQXNzaWdubWVudChpLCBhbGxGYWN0b3JzLmxlbmd0aCwgc3RhZ2VOKTtcblxuICAgICAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGZhY3RvclNldHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc3RhZ2VOIC0gMTsgaisrKSB7XG4gICAgICAgIGNvbnN0IGFwcGx5aW5nRmFjdG9ycyA9IGFsbEZhY3RvcnMuZmlsdGVyKChmYWN0b3IsIGZhY3RvcklkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZhY3RvckFzc2lnbm1lbnRbZmFjdG9ySWRdID49IHN0YWdlTiAtIGogLSAxO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2tpcHBpbmdDb25kaXRpb24uY2hlY2soYXBwbHlpbmdGYWN0b3JzKSkge1xuICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXJrQ29tcFN1bW1hcnkgPSBhcHBseU1hcmtEaWZmcyhcbiAgICAgICAgICBtYXJrRGlmZixcbiAgICAgICAgICBhcHBseWluZ0ZhY3RvcnMsXG4gICAgICAgICAgcmF3SW5mbyxcbiAgICAgICAgICBleHRyYUZhY3RvcnNCeU1hcmt0eXBlXG4gICAgICAgICk7XG4gICAgICAgIC8vIDMuIENoZWNrIGlmIHRoZSBpbnRlcm1lZGlhdGUgbWFyayBjb21wb25lbnRzIGFyZSB2YWxpZC4gSWYgbm90LCBleGNsdWRlIHRoZSBlbnVtZXJhdGVkIHN0ZXBzLlxuICAgICAgICBjb25zdCB7IHJlYXNvbnMgfSA9IGNoZWNrTWFya0NvbXAobWFya0NvbXBTdW1tYXJ5KTtcblxuICAgICAgICBpZiAocmVhc29ucykge1xuICAgICAgICAgIC8vIHJlZ2lzdGVyIGEgbmV3IHNraXBwaW5nIGNvbmRpdGlvblxuICAgICAgICAgIGNvbnN0IG5ld1NraXBwaW5nQ29uZGl0aW9uID0gYWxsRmFjdG9yc1xuICAgICAgICAgICAgLmZpbHRlcihmYWN0b3IgPT5cbiAgICAgICAgICAgICAgcmVhc29ucy5maW5kKHJlYXNvbiA9PiBmYWN0b3IuaW5kZXhPZihyZWFzb24pID49IDApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAubWFwKGZhY3RvciA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiB7ZmFjdG9yLCBpbmNsdWRlOiBhcHBseWluZ0ZhY3RvcnMuaW5kZXhPZihmYWN0b3IpID49IDB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgc2tpcHBpbmdDb25kaXRpb24ucmVnaXN0ZXIobmV3U2tpcHBpbmdDb25kaXRpb24pO1xuXG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAhZmFjdG9yU2V0cy5maW5kKFxuICAgICAgICAgICAgYXBwRmN0cnMgPT4gYXBwRmN0cnMudG9TdHJpbmcoKSA9PT0gYXBwbHlpbmdGYWN0b3JzLnRvU3RyaW5nKClcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIGZhY3RvclNldHMucHVzaChhcHBseWluZ0ZhY3RvcnMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICBmYWN0b3JTZXRzLnB1c2goYWxsRmFjdG9ycyk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhZW51bWVkLmZpbmQoXG4gICAgICAgICAgICBmY3RyU2V0cyA9PiBmY3RyU2V0cy50b1N0cmluZygpID09PSBmYWN0b3JTZXRzLnRvU3RyaW5nKClcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIGVudW1lZC5wdXNoKGZhY3RvclNldHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudW1lZC5tYXAoZmFjdG9yU2V0cyA9PiB7XG4gICAgICBsZXQgcHJldkZhY3RvclNldDtcbiAgICAgIHJldHVybiBmYWN0b3JTZXRzLm1hcChmYWN0b3JTZXQgPT4ge1xuICAgICAgICBsZXQgbmV3UHNldWRvU3RlcCA9IHtcbiAgICAgICAgICBkaWZmOiBtYXJrRGlmZixcbiAgICAgICAgICBmYWN0b3JTZXRzOiB7XG4gICAgICAgICAgICBjdXJyZW50OiBwcmV2RmFjdG9yU2V0XG4gICAgICAgICAgICAgID8gZmFjdG9yU2V0LmV4Y2x1ZGUocHJldkZhY3RvclNldClcbiAgICAgICAgICAgICAgOiBmYWN0b3JTZXQsXG4gICAgICAgICAgICBhcHBsaWVkOiBmYWN0b3JTZXQsXG4gICAgICAgICAgICBhbGw6IGFsbEZhY3RvcnMsXG4gICAgICAgICAgICBleHRyYUJ5TWFya3R5cGU6IGV4dHJhRmFjdG9yc0J5TWFya3R5cGVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByZXZGYWN0b3JTZXQgPSBmYWN0b3JTZXQ7XG4gICAgICAgIHJldHVybiBuZXdQc2V1ZG9TdGVwO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgY29uc3QgYXhlc3BzZXVkb1N0ZXBzID0gZ2V0QXhpc1BzZXVkb1N0ZXBzKGRpZmZzKTtcblxuICBjb25zdCBsZWdlbmRzcHNldWRvU3RlcHMgPSBnZXRMZWdlbmRQc2V1ZG9TdGVwcyhkaWZmcyk7XG5cbiAgbGV0IHBzZXVkb1RpbWVsaW5lcztcbiAgaWYgKGVudW1lZE1hcmtzUHVzZWRvU3RlcHMubGVuZ3RoID09PSAxKSB7XG4gICAgcHNldWRvVGltZWxpbmVzID0gZW51bUFycmF5c0J5SXRlbXMoXG4gICAgICBlbnVtZWRNYXJrc1B1c2Vkb1N0ZXBzWzBdLFxuICAgICAgbGVnZW5kc3BzZXVkb1N0ZXBzLmNvbmNhdChheGVzcHNldWRvU3RlcHMpLFxuICAgICAgZW51bVRsQnlTdGVwXG4gICAgKS5tYXAocHNldWRvVGwgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29uY2F0OiBwc2V1ZG9UbC5tYXAoc3RhZ2UgPT4ge1xuICAgICAgICAgIHJldHVybiB7IHN5bmM6IEFycmF5LmlzQXJyYXkoc3RhZ2UpID8gc3RhZ2UgOiBbc3RhZ2VdIH07XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHN0YWdlTiA9PT0xICkge1xuICAgIHBzZXVkb1RpbWVsaW5lcyA9IFtcbiAgICAgIHtcbiAgICAgICAgY29uY2F0OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3luYzogW1xuICAgICAgICAgICAgICAuLi5lbnVtZWRNYXJrc1B1c2Vkb1N0ZXBzLm1hcChzdGVwcyA9PiBzdGVwc1swXVswXSksXG4gICAgICAgICAgICAgIC4uLmxlZ2VuZHNwc2V1ZG9TdGVwcyxcbiAgICAgICAgICAgICAgLi4uYXhlc3BzZXVkb1N0ZXBzXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXTtcbiAgfVxuICBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJDdXJyZW50bHksIEdlbWluaSBSZWNvbW1lbmRhdGlvbiBvbmx5IHN1cHBvcnRzIGEgc2luZ2xlIG1hcmsgd2l0aG91dCBhZGRpbmcgb3IgcmVtb3ZpbmcuXCJcbiAgICApO1xuICAgIGNvbnNvbGUuZXJyb3IoXCJUT0RPOiBjcm9zcyBqb2luIHRoZSBwc2V1ZG8gdGltZWxpbmVzIG9mIGVhY2ggbWFyay5cIik7XG4gIH1cblxuXG4gIHBzZXVkb1RpbWVsaW5lcyA9IHBzZXVkb1RpbWVsaW5lc1xuICAgIC5tYXAocHNldWRvVGwgPT4ge1xuICAgICAgcHNldWRvVGwuY29uY2F0ID0gcHNldWRvVGwuY29uY2F0Lm1hcChzdGFnZSA9PiB7XG4gICAgICAgIGxldCBjdXJyU3luYyA9IHN0YWdlLnN5bmM7XG5cbiAgICAgICAgLy8gZmlsdGVyIGVtcHR5IG1hcmsgcFN0ZXBcbiAgICAgICAgY3VyclN5bmMgPSBjdXJyU3luYy5maWx0ZXIocFN0ZXAgPT4ge1xuICAgICAgICAgIHJldHVybiAocFN0ZXAuZGlmZi5jb21wVHlwZSAhPT0gXCJtYXJrXCIpIHx8XG4gICAgICAgICAgICAoXG4gICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgKHBTdGVwLmZhY3RvclNldHMuYXBwbGllZC5sZW5ndGggPT09IDApIHx8XG4gICAgICAgICAgICAgICAgKHBTdGVwLmZhY3RvclNldHMuY3VycmVudC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAocFN0ZXAuZmFjdG9yU2V0cy5hbGwuaW5kZXhPZihcImFkZFwiKSA+PSAwKSAmJlxuICAgICAgICAgICAgICAgIChwU3RlcC5mYWN0b3JTZXRzLmFwcGxpZWQuaW5kZXhPZihcImFkZFwiKSA8IDApXG4gICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAocFN0ZXAuZmFjdG9yU2V0cy5hbGwuaW5kZXhPZihcInJlbW92ZVwiKSA+PSAwKSAmJlxuICAgICAgICAgICAgICAgIChwU3RlcC5mYWN0b3JTZXRzLmFwcGxpZWQubGVuZ3RoICE9PSBwU3RlcC5mYWN0b3JTZXRzLmN1cnJlbnQubGVuZ3RoKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgc3luYzogY3VyclN5bmMgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHBzZXVkb1RsO1xuICB9KVxuXG4gIHBzZXVkb1RpbWVsaW5lcyA9IHBzZXVkb1RpbWVsaW5lcy5maWx0ZXIocHNldWRvVGwgPT4gdmFsaWRhdGUocHNldWRvVGwsIHN0YWdlTikpXG4gICAgLy8gLm1hcCgocHNldWRvVGwsIGkpID0+IGFwcGVuZEd1aWRlTW92ZXMocHNldWRvVGwsIGF4ZXNwc2V1ZG9TdGVwcywgbGVnZW5kc3BzZXVkb1N0ZXBzKSlcbiAgcHNldWRvVGltZWxpbmVzID0gcHNldWRvVGltZWxpbmVzLm1hcChwc2V1ZG9UbCA9PiBhcHBlbmRWaWV3RGlmZihwc2V1ZG9UbCwgZGlmZnMudmlld0RpZmZzKSlcbiAgICAubWFwKHBzZXVkb1RsID0+IGFwcGVuZEdyaWRDaGFuZ2VzKHBzZXVkb1RsKSlcbiAgICAubWFwKHBzZXVkb1RsID0+IGFwcGVuZFRpbWluZyhwc2V1ZG9UbCwgdGltaW5nKSlcblxuXG5cbiAgcmV0dXJuIHBzZXVkb1RpbWVsaW5lcztcbn1cblxuZnVuY3Rpb24gYXBwZW5kVGltaW5nKHBzZXVkb1RsLCB0aW1pbmcgPSB7fSkge1xuICBjb25zdCB0b3RhbER1cmF0aW9uID0gdGltaW5nLnRvdGFsRHVyYXRpb24gfHwgMjAwMDtcbiAgcHNldWRvVGwuY29uY2F0LmZvckVhY2goc3RhZ2UgPT4ge1xuICAgIGZvciAoY29uc3QgcHNldWRvU3RlcCBvZiBzdGFnZS5zeW5jKSB7XG4gICAgICBwc2V1ZG9TdGVwLnRpbWluZyA9IHtcbiAgICAgICAgZHVyYXRpb246IHsgcmF0aW86IE1hdGguZmxvb3IoMTAwIC8gcHNldWRvVGwuY29uY2F0Lmxlbmd0aCkgLyAxMDAgfVxuICAgICAgfTtcblxuICAgIH1cbiAgfSk7XG4gIHBzZXVkb1RsLnRvdGFsRHVyYXRpb24gPSB0b3RhbER1cmF0aW9uO1xuICByZXR1cm4gcHNldWRvVGw7XG59XG5mdW5jdGlvbiBnZXRMZWdlbmRQc2V1ZG9TdGVwcyhkaWZmcykge1xuICByZXR1cm4gZGlmZnMuY29tcERpZmZzXG4gICAgLmZpbHRlcihcbiAgICAgIGRpZmYgPT5cbiAgICAgICAgZGlmZi5jb21wVHlwZSA9PT0gXCJsZWdlbmRcIiAmJlxuICAgICAgICAoZGlmZi5tZXRhLnNjYWxlIHx8XG4gICAgICAgICAgZGlmZi5tZXRhLmVuY29kZSB8fFxuICAgICAgICAgIGRpZmYubWV0YS5hZGQgfHxcbiAgICAgICAgICBkaWZmLm1ldGEucmVtb3ZlIHx8XG4gICAgICAgICAgTWF0aC5hYnMoZGlmZi5tZXRhLnZpZXcueCkgLSBNSU5fUE9TX0RFTFRBID4gMCB8fFxuICAgICAgICAgIE1hdGguYWJzKGRpZmYubWV0YS52aWV3LnkpIC0gTUlOX1BPU19ERUxUQSA+IDAgfHxcbiAgICAgICAgICBNYXRoLmFicyhkaWZmLm1ldGEudmlldy5kZWx0YUgpIC0gTUlOX1BPU19ERUxUQSA+IDAgfHxcbiAgICAgICAgICBNYXRoLmFicyhkaWZmLm1ldGEudmlldy5kZWx0YVcpIC0gTUlOX1BPU19ERUxUQSA+IDApXG4gICAgKVxuICAgIC5yZWR1Y2UoKHN0ZXBzLCBkaWZmKSA9PiB7XG4gICAgICBsZXQgZmFjdG9ycyA9IFtdO1xuICAgICAgaWYgKGRpZmYubWV0YS5hZGQpIHtcbiAgICAgICAgZmFjdG9ycyA9IFtgYWRkLiR7ZGlmZi5tZXRhLnVzZWRTY2FsZXMuc29ydCgpLmpvaW4oXCJfXCIpfWBdO1xuICAgICAgfSBlbHNlIGlmIChkaWZmLm1ldGEucmVtb3ZlKSB7XG4gICAgICAgIGZhY3RvcnMgPSBbYHJlbW92ZS4ke2RpZmYubWV0YS51c2VkU2NhbGVzLnNvcnQoKS5qb2luKFwiX1wiKX1gXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkaWZmLm1ldGEuc2NhbGUpIHtcbiAgICAgICAgICBmYWN0b3JzID0gZmFjdG9ycy5jb25jYXQoT2JqZWN0LmtleXMoZGlmZi5tZXRhLnNjYWxlKS5tYXAoc2NOYW1lID0+IGBzY2FsZS4ke3NjTmFtZX1gKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpZmYubWV0YS5lbmNvZGUpIHtcbiAgICAgICAgICBmYWN0b3JzLnB1c2goXCJlbmNvZGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpZmYubWV0YS52aWV3LnggIT09IDAgfHwgZGlmZi5tZXRhLnZpZXcueSAhPT0gMCkge1xuICAgICAgICAgIGZhY3RvcnMucHVzaChcImVuY29kZS5wb3NpdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByZXR1cm4gc3RlcHMuY29uY2F0KFxuICAgICAgLy8gICBmYWN0b3JzLm1hcChmY3RyID0+IHtcbiAgICAgIC8vICAgICByZXR1cm4geyBkaWZmOiBkaWZmLCBmYWN0b3JTZXRzOiB7Y3VycmVudDogW2ZjdHJdLCAgYWxsOiBmYWN0b3JzfSB9XG4gICAgICAvLyAgIH0pXG4gICAgICAvLyApO1xuICAgICAgcmV0dXJuIHN0ZXBzLmNvbmNhdCh7IGRpZmYsIGZhY3RvclNldHM6IHtjdXJyZW50OiBmYWN0b3JzLCAgYWxsOiBmYWN0b3JzfSB9KTtcbiAgICB9LCBbXSk7XG59XG5mdW5jdGlvbiBnZXRBeGlzUHNldWRvU3RlcHMoZGlmZnMpIHtcbiAgcmV0dXJuIGRpZmZzLmNvbXBEaWZmc1xuICAgIC5maWx0ZXIoXG4gICAgICBkaWZmID0+XG4gICAgICAgIGRpZmYuY29tcFR5cGUgPT09IFwiYXhpc1wiICYmXG4gICAgICAgIChkaWZmLm1ldGEuc2NhbGUgfHxcbiAgICAgICAgICBkaWZmLm1ldGEuZW5jb2RlIHx8XG4gICAgICAgICAgZGlmZi5tZXRhLmFkZCB8fFxuICAgICAgICAgIGRpZmYubWV0YS5yZW1vdmUgfHxcbiAgICAgICAgICBNYXRoLmFicyhkaWZmLm1ldGEudmlldy54KSAtIE1JTl9QT1NfREVMVEEgPiAwIHx8XG4gICAgICAgICAgTWF0aC5hYnMoZGlmZi5tZXRhLnZpZXcueSkgLSBNSU5fUE9TX0RFTFRBID4gMCB8fFxuICAgICAgICAgIE1hdGguYWJzKGRpZmYubWV0YS52aWV3LmRlbHRhSCkgLSBNSU5fUE9TX0RFTFRBID4gMCB8fFxuICAgICAgICAgIE1hdGguYWJzKGRpZmYubWV0YS52aWV3LmRlbHRhVykgLSBNSU5fUE9TX0RFTFRBID4gMClcbiAgICApXG4gICAgLmZpbHRlcihkaWZmID0+IHtcbiAgICAgIGlmIChkaWZmLm1ldGEucmVtb3ZlIHx8IGRpZmYubWV0YS5hZGQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaWZmLm1ldGEuc2NhbGVbZGlmZi5tZXRhLnVzZWRTY2FsZXNbMF1dKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlRGlmZiA9IGRpZmYubWV0YS5zY2FsZVtkaWZmLm1ldGEudXNlZFNjYWxlc1swXV07XG4gICAgICAgIHJldHVybiBzY2FsZURpZmYucmFuZ2VEZWx0YSA9PT0gMCAmJlxuICAgICAgICAgICFzY2FsZURpZmYuZG9tYWluVmFsdWVEaWZmICYmXG4gICAgICAgICAgc2NhbGVEaWZmLnN0YXlEaXNjcmV0ZVxuICAgICAgICAgID8gZmFsc2VcbiAgICAgICAgICA6IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KVxuICAgIC5tYXAoZGlmZiA9PiB7XG4gICAgICBsZXQgZmFjdG9ycyA9IFtdO1xuICAgICAgaWYgKGRpZmYubWV0YS5hZGQpIHtcbiAgICAgICAgZmFjdG9ycyA9IFtgYWRkLiR7ZGlmZi5jb21wTmFtZX1gXTtcbiAgICAgIH0gZWxzZSBpZiAoZGlmZi5tZXRhLnJlbW92ZSkge1xuICAgICAgICBmYWN0b3JzID0gW2ByZW1vdmUuJHtkaWZmLmNvbXBOYW1lfWBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGRpZmYubWV0YS5zY2FsZSkge1xuICAgICAgICAgIGZhY3RvcnMgPSBmYWN0b3JzLmNvbmNhdChPYmplY3Qua2V5cyhkaWZmLm1ldGEuc2NhbGUpLm1hcChzY05hbWUgPT4gYHNjYWxlLiR7c2NOYW1lfWApKTtcbiAgICAgICAgICBmYWN0b3JzLnB1c2goXCJlbmNvZGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlmZi5tZXRhLnZpZXcueCAhPT0gMCB8fCBkaWZmLm1ldGEudmlldy55ICE9PSAwKSB7XG4gICAgICAgICAgZmFjdG9ycy5wdXNoKFwiZW5jb2RlLnBvc2l0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyBkaWZmLCBmYWN0b3JTZXRzOiB7Y3VycmVudDogZmFjdG9ycywgYXBwbGllZDogZmFjdG9ycywgYWxsOiBmYWN0b3JzfSB9O1xuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGFwcGVuZFZpZXdEaWZmKHBzZXVkb1RsLCB2aWV3RGlmZnMpIHtcbiAgY29uc3QgZG9uZSA9IHtcbiAgICBpbmNyZWFzZTogeyB3aWR0aDogZmFsc2UsIGhlaWdodDogZmFsc2UgfSxcbiAgICBkZWNyZWFzZTogeyB3aWR0aDogZmFsc2UsIGhlaWdodDogZmFsc2UgfVxuICB9O1xuICBmdW5jdGlvbiBhcHBlbmREaWZmKHN0YWdlLCBpbmNPckRlYykge1xuICAgIGZvciAoY29uc3Qgd2hpY2ggb2YgW1wid2lkdGhcIiwgXCJoZWlnaHRcIl0pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdmlld0RpZmZzW3doaWNoXVtpbmNPckRlY10gJiZcbiAgICAgICAgbmVlZFZpZXdEaWZmKHN0YWdlLnN5bmMsIGluY09yRGVjLCB3aGljaCkgJiZcbiAgICAgICAgIWRvbmVbaW5jT3JEZWNdW3doaWNoXVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gc3RhZ2Uuc3luYy5maW5kKHBTdGVwID0+IHBTdGVwLmRpZmYuY29tcFR5cGUgPT09IFwidmlld1wiKTtcbiAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgZm91bmQuZmFjdG9yU2V0cy5jdXJyZW50LnB1c2god2hpY2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YWdlLnN5bmMucHVzaCh7XG5cbiAgICAgICAgICAgIGRpZmY6IHtcbiAgICAgICAgICAgICAgY29tcE5hbWU6IHZpZXdEaWZmcy5jb21wTmFtZSxcbiAgICAgICAgICAgICAgY29tcFR5cGU6IHZpZXdEaWZmcy5jb21wVHlwZSxcbiAgICAgICAgICAgICAgbWV0YTogdmlld0RpZmZzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFjdG9yU2V0czogeyBjdXJyZW50OiBbd2hpY2hdIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvbmVbaW5jT3JEZWNdW3doaWNoXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YWdlO1xuICB9XG4gIHJldHVybiB7XG4gICAgY29uY2F0OiBwc2V1ZG9UbC5jb25jYXRcbiAgICAgIC5tYXAoKHN0YWdlLCBqKSA9PiBhcHBlbmREaWZmKHN0YWdlLCBcImluY3JlYXNlXCIsIGopKVxuICAgICAgLnJldmVyc2UoKVxuICAgICAgLm1hcChzdGFnZSA9PiBhcHBlbmREaWZmKHN0YWdlLCBcImRlY3JlYXNlXCIpKVxuICAgICAgLnJldmVyc2UoKVxuICB9O1xufVxuZnVuY3Rpb24gbmVlZFZpZXdEaWZmKHBzZXVkb1N0ZXBzLCBpbmNPckRlYywgd2hpY2gpIHtcbiAgZm9yIChjb25zdCBwc2V1ZG9TdGVwIG9mIHBzZXVkb1N0ZXBzLmZpbHRlcihcbiAgICBzdGVwID0+IFtcIm1hcmtcIiwgXCJheGlzXCIsIFwibGVnZW5kXCJdLmluZGV4T2Yoc3RlcC5kaWZmLmNvbXBUeXBlKSA+PSAwXG4gICkpIHtcbiAgICBsZXQgZGVsdGFQcm9wID0gd2hpY2ggPT09IFwid2lkdGhcIiA/IFwieFwiIDogXCJ5XCI7XG4gICAgaWYgKHBzZXVkb1N0ZXAuZGlmZi5jb21wVHlwZSA9PT0gXCJtYXJrXCIpIHtcbiAgICAgIGRlbHRhUHJvcCA9IHdoaWNoID09PSBcIndpZHRoXCIgPyBcImRlbHRhV1wiIDogXCJkZWx0YUhcIjtcbiAgICB9IGVsc2UgaWYgKHBzZXVkb1N0ZXAuZGlmZi5jb21wVHlwZSA9PT0gXCJheGlzXCIpIHtcbiAgICAgIGlmIChcbiAgICAgICAgW1wibGVmdFwiLCBcInRvcFwiXS5pbmRleE9mKFxuICAgICAgICAgIChwc2V1ZG9TdGVwLmRpZmYuaW5pdGlhbCB8fCBwc2V1ZG9TdGVwLmRpZmYuZmluYWwpLm9yaWVudFxuICAgICAgICApID49IDBcbiAgICAgICkge1xuICAgICAgICBkZWx0YVByb3AgPSB3aGljaCA9PT0gXCJ3aWR0aFwiID8gXCJkZWx0YVdcIiA6IFwiZGVsdGFIXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBoYXNWaXdSZWxhdGVkU2NhbGVEaWZmID0gdHJ1ZTtcbiAgICBpZiAocHNldWRvU3RlcC5kaWZmLmNvbXBUeXBlID09PSBcIm1hcmtcIikge1xuICAgICAgaGFzVml3UmVsYXRlZFNjYWxlRGlmZiA9XG4gICAgICAgIHBzZXVkb1N0ZXAuZmFjdG9yU2V0cy5jdXJyZW50LmluZGV4T2YoXG4gICAgICAgICAgd2hpY2ggPT09IFwid2lkdGhcIiA/IFwic2NhbGUueFwiIDogXCJzY2FsZS55XCJcbiAgICAgICAgKSA+PSAwO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHBzZXVkb1N0ZXAuZGlmZi5tZXRhLnZpZXdbZGVsdGFQcm9wXSA+PSBNSU5fUE9TX0RFTFRBICYmXG4gICAgICBpbmNPckRlYyA9PT0gXCJpbmNyZWFzZVwiICYmXG4gICAgICBoYXNWaXdSZWxhdGVkU2NhbGVEaWZmXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgcHNldWRvU3RlcC5kaWZmLm1ldGEudmlld1tkZWx0YVByb3BdIDw9IC1NSU5fUE9TX0RFTFRBICYmXG4gICAgICBpbmNPckRlYyA9PT0gXCJkZWNyZWFzZVwiICYmXG4gICAgICBoYXNWaXdSZWxhdGVkU2NhbGVEaWZmXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBXaGVuIHRoZSBzaXplIG9mIHRoZSBtYXJrIHZpZXcgY2hhbmdlcywgZ3JpZCBsaW5lcyBzaG91bGQgYmUgZXh0ZW5kZWQuXG5mdW5jdGlvbiBhcHBlbmRHcmlkQ2hhbmdlcyhwc2V1ZG9UbCkge1xuICAvLyBDdXJyZW50bHkgb25seSBvbmUgcFN0ZXAgaXMgZ2VuZXJhdGVkLlxuICBsZXQgeEF4aXNQU3RlcCwgeUF4aXNQU3RlcDtcbiAgcHNldWRvVGwuY29uY2F0LmZvckVhY2goc3RhZ2UgPT4ge1xuICAgIHhBeGlzUFN0ZXAgPSB4QXhpc1BTdGVwIHx8IHN0YWdlLnN5bmMuZmluZChhUFN0ZXAgPT5cbiAgICAgICFhUFN0ZXAuZGlmZi5tZXRhLmFkZCAmJlxuICAgICAgIWFQU3RlcC5kaWZmLm1ldGEucmVtb3ZlICYmXG4gICAgICBhUFN0ZXAuZGlmZi5jb21wVHlwZSA9PT0gXCJheGlzXCIgJiZcbiAgICAgIGFQU3RlcC5kaWZmLm1ldGEuc2NOYW1lc1swXSA9PT0gXCJ4XCIpO1xuICAgIHlBeGlzUFN0ZXAgPSB5QXhpc1BTdGVwIHx8IHN0YWdlLnN5bmMuZmluZChhUFN0ZXAgPT5cbiAgICAgICFhUFN0ZXAuZGlmZi5tZXRhLmFkZCAmJlxuICAgICAgIWFQU3RlcC5kaWZmLm1ldGEucmVtb3ZlICYmXG4gICAgICBhUFN0ZXAuZGlmZi5jb21wVHlwZSA9PT0gXCJheGlzXCIgJiZcbiAgICAgIGFQU3RlcC5kaWZmLm1ldGEuc2NOYW1lc1swXSA9PT0gXCJ5XCIpO1xuICB9KTtcblxuICBpZiAoIXhBeGlzUFN0ZXAgJiYgIXlBeGlzUFN0ZXApIHtcbiAgICByZXR1cm4gcHNldWRvVGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5wc2V1ZG9UbCxcbiAgICBjb25jYXQ6IHBzZXVkb1RsLmNvbmNhdC5tYXAoc3RhZ2UgPT4ge1xuICAgICAgbGV0IG5ld1N0YWdlID0gY29weShzdGFnZSk7XG4gICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgbWFyay52aWV3IGNoYW5nZVxuICAgICAgaWYgKCBzdGFnZS5zeW5jLmZpbmQocFN0ZXAgPT4gW1wibWFya1wiLCBcImF4aXNcIl0uaW5kZXhPZihwU3RlcC5kaWZmLmNvbXBUeXBlKSA+PSAwICYmIHBTdGVwLmRpZmYubWV0YS52aWV3LmRlbHRhSCAhPT0gMCkgKSB7XG4gICAgICAgIGlmICh4QXhpc1BTdGVwICYmICFzdGFnZS5zeW5jLmZpbmQocFN0ZXAgPT4gcFN0ZXAuZGlmZi5jb21wVHlwZSA9PT0gXCJheGlzXCIgJiYgcFN0ZXAuZGlmZi5tZXRhLnNjTmFtZXNbMF0gPT09IFwieFwiKSkge1xuXG4gICAgICAgICAgeEF4aXNQU3RlcC5mYWN0b3JTZXRzLmFsbC5wdXNoKFwiZW5jb2RlLm9ubHkuZ3JpZFwiKTtcbiAgICAgICAgICBsZXQgZ3JpZENoYW5naW5nQXhpc1BTdGVwID0ge1xuICAgICAgICAgICAgLi4ueEF4aXNQU3RlcCxcbiAgICAgICAgICAgIGZhY3RvclNldHM6IHtcbiAgICAgICAgICAgICAgYWxsOiBjb3B5KHhBeGlzUFN0ZXAuZmFjdG9yU2V0cy5hbGwpLFxuICAgICAgICAgICAgICBhcHBsaWVkOiBbXCJlbmNvZGUub25seS5ncmlkXCJdLFxuICAgICAgICAgICAgICBjdXJyZW50OiBbXCJlbmNvZGUub25seS5ncmlkXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICB4QXhpc1BTdGVwLmZhY3RvclNldHMuYXBwbGllZC5wdXNoKFwiZW5jb2RlLm9ubHkuZ3JpZFwiKTtcbiAgICAgICAgICBuZXdTdGFnZS5zeW5jLnB1c2goZ3JpZENoYW5naW5nQXhpc1BTdGVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIHN0YWdlLnN5bmMuZmluZChwU3RlcCA9PiBbXCJtYXJrXCIsIFwiYXhpc1wiXS5pbmRleE9mKHBTdGVwLmRpZmYuY29tcFR5cGUpID49IDAgJiYgcFN0ZXAuZGlmZi5tZXRhLnZpZXcuZGVsdGFXICE9PSAwKSApIHtcbiAgICAgICAgaWYgKHlBeGlzUFN0ZXAgJiYgIXN0YWdlLnN5bmMuZmluZChwU3RlcCA9PiBwU3RlcC5kaWZmLmNvbXBUeXBlID09PSBcImF4aXNcIiAmJiBwU3RlcC5kaWZmLm1ldGEuc2NOYW1lc1swXSA9PT0gXCJ5XCIpKSB7XG4gICAgICAgICAgeUF4aXNQU3RlcC5mYWN0b3JTZXRzLmFsbC5wdXNoKFwiZW5jb2RlLm9ubHkuZ3JpZFwiKTtcbiAgICAgICAgICBsZXQgZ3JpZENoYW5naW5nQXhpc1BTdGVwID0ge1xuICAgICAgICAgICAgLi4ueUF4aXNQU3RlcCxcbiAgICAgICAgICAgIGZhY3RvclNldHM6IHtcbiAgICAgICAgICAgICAgYWxsOiBjb3B5KHlBeGlzUFN0ZXAuZmFjdG9yU2V0cy5hbGwpLFxuICAgICAgICAgICAgICBhcHBsaWVkOiBbXCJlbmNvZGUub25seS5ncmlkXCJdLFxuICAgICAgICAgICAgICBjdXJyZW50OiBbXCJlbmNvZGUub25seS5ncmlkXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICB5QXhpc1BTdGVwLmZhY3RvclNldHMuYXBwbGllZC5wdXNoKFwiZW5jb2RlLm9ubHkuZ3JpZFwiKTtcbiAgICAgICAgICBuZXdTdGFnZS5zeW5jLnB1c2goZ3JpZENoYW5naW5nQXhpc1BTdGVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3U3RhZ2U7XG4gICAgfSlcbiAgfTtcblxufVxuZnVuY3Rpb24gZW51bVRsQnlTdGVwKFRsLCBzdGVwKSB7XG4gIGNvbnN0IG5ld1RscyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IFRsLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbmV3VGwgPSBjb3B5KFRsKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobmV3VGxbaV0pKSB7XG4gICAgICBuZXdUbFtpXSA9IFtuZXdUbFtpXV07XG4gICAgfVxuICAgIGNvbnN0IGZvdW5kID0gbmV3VGxbaV0uZmluZChzdHAgPT4gc3RwLmRpZmYuY29tcE5hbWUgPT09IHN0ZXAuZGlmZi5jb21wTmFtZSk7XG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICBmb3VuZC5mYWN0b3JTZXRzLmN1cnJlbnQgPSBmb3VuZC5mYWN0b3JTZXRzLmN1cnJlbnQuY29uY2F0KFxuICAgICAgICBzdGVwLmZhY3RvclNldHMuY3VycmVudFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3VGxbaV0ucHVzaChzdGVwKTtcbiAgICB9XG5cbiAgICBuZXdUbHMucHVzaChuZXdUbCk7XG4gIH1cbiAgcmV0dXJuIG5ld1Rscztcbn1cblxuLy8gY2hvb3NlIHRoZSBmYWN0b3JzIGhhdmluZyBkaWZmcyBiZXR3ZWVuIGluaXRpYWwgYW5kIGZpbmFsLlxuZnVuY3Rpb24gZmluZEFsbEZhY3RvcnMobWFya0RpZmYpIHtcbiAgY29uc3QgYWxsRmFjdG9ycyA9IFtdO1xuICBsZXQgZGlmZkluZm8gPSBtYXJrRGlmZi5tZXRhO1xuICBsZXQgZXh0cmFGYWN0b3JzQnlNYXJrdHlwZSA9IFtdO1xuICBpZiAoZGlmZkluZm8uYWRkKSB7XG4gICAgYWxsRmFjdG9ycy5wdXNoKFwiYWRkXCIpO1xuICB9XG5cbiAgaWYgKGRpZmZJbmZvLnJlbW92ZSkge1xuICAgIGFsbEZhY3RvcnMucHVzaChcInJlbW92ZVwiKTtcbiAgICByZXR1cm4geyBhbGxGYWN0b3JzLCBleHRyYUZhY3RvcnNCeU1hcmt0eXBlIH07XG4gIH1cblxuICBpZiAoZGlmZkluZm8ubWFya3R5cGUpIHtcbiAgICBhbGxGYWN0b3JzLnB1c2goXCJtYXJrdHlwZVwiKTtcbiAgICBleHRyYUZhY3RvcnNCeU1hcmt0eXBlLnB1c2goXCJlbmNvZGUub3RoZXJzXCIpO1xuICB9XG4gIGlmIChkaWZmSW5mby5kYXRhKSB7XG4gICAgaWYgKGRpZmZJbmZvLmRhdGEucm93ICE9PSBmYWxzZSB8fCBkaWZmSW5mby5kYXRhLmNvbHVtbiAhPT0gXCJyZW1vdmVkXCIpIHtcbiAgICAgIGFsbEZhY3RvcnMucHVzaChcImRhdGFcIik7XG4gICAgfVxuICB9XG4gIGlmIChkaWZmSW5mby5zY2FsZSkge1xuICAgIE9iamVjdC5rZXlzKGRpZmZJbmZvLnNjYWxlKS5mb3JFYWNoKHNjTmFtZSA9PiB7XG4gICAgICBjb25zdCBzY2FsZURpZmYgPSBkaWZmSW5mby5zY2FsZVtzY05hbWVdO1xuICAgICAgaWYgKHNjYWxlRGlmZikge1xuICAgICAgICBhbGxGYWN0b3JzLnB1c2goYHNjYWxlLiR7c2NOYW1lfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIE9iamVjdC5rZXlzKGRpZmZJbmZvLmVuY29kZSkuZm9yRWFjaChjaE5hbWUgPT4ge1xuICAgIGNvbnN0IGNoRGlmZiA9IGRpZmZJbmZvLmVuY29kZVtjaE5hbWVdO1xuICAgIGlmIChjaERpZmYgPT09IHRydWUpIHtcbiAgICAgIGFsbEZhY3RvcnMucHVzaChgZW5jb2RlLiR7Y2hOYW1lfWApO1xuICAgIH0gZWxzZSBpZiAoY2hEaWZmID09PSBcImJ5TWFya3R5cGVDaGFuZ2VcIikge1xuICAgICAgZXh0cmFGYWN0b3JzQnlNYXJrdHlwZS5wdXNoKGBlbmNvZGUuJHtjaE5hbWV9YCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgYWxsRmFjdG9ycywgZXh0cmFGYWN0b3JzQnlNYXJrdHlwZSB9O1xufVxuXG5mdW5jdGlvbiBnZXRGYWN0b3JBc3NpZ25tZW50KGksIGZhY3Rvckxlbiwgc3RhZ2VOKSB7XG4gIGxldCBxdW90aWVudCA9IGk7XG4gIGNvbnN0IGFzc2lnbm1lbnQgPSBuZXcgQXJyYXkoZmFjdG9yTGVuKTtcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBmYWN0b3JMZW47IGorKykge1xuICAgIGFzc2lnbm1lbnRbal0gPSBxdW90aWVudCAlIHN0YWdlTjtcbiAgICBxdW90aWVudCA9IE1hdGguZmxvb3IocXVvdGllbnQgLyBzdGFnZU4pO1xuICB9XG4gIHJldHVybiBhc3NpZ25tZW50O1xufVxuXG5jbGFzcyBTa2lwcGluZ0NvbmRpdGlvbnMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlZ2lzdGVyZWQgPSBbXTtcbiAgfVxuXG4gIHJlZ2lzdGVyKGNvbmRpdGlvbikge1xuICAgIHRoaXMucmVnaXN0ZXJlZC5wdXNoKGNvbmRpdGlvbik7XG4gIH1cblxuICBjaGVjayhmYWN0b3JzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlZ2lzdGVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbmRpdGlvbiA9IHRoaXMucmVnaXN0ZXJlZFtpXTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmRpdGlvbi5yZWR1Y2UoKHNhdGlzZnlpbmcsIGNvbmRGKSA9PiB7XG4gICAgICAgIHJldHVybiAoc2F0aXNmeWluZyA9XG4gICAgICAgICAgc2F0aXNmeWluZyAmJiBmYWN0b3JzLmluZGV4T2YoY29uZEYuZmFjdG9yKSA+PSAwID09PSBjb25kRi5pbmNsdWRlKTtcbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IHsgZmluZEFsbEZhY3RvcnMsIFNraXBwaW5nQ29uZGl0aW9ucywgZW51bWVyYXRlUHNldWRvVGltZWxpbmVzIH07XG5cbi8vIGxlZ2VuZHNwc2V1ZG9TdGVwcy5tYXAocFN0ZXAgPT4gcFN0ZXAuZGlmZi5jb21wTmFtZSlcbi8vICAgLnVuaXF1ZSgpXG4vLyAgIC5mb3JFYWNoKGxlZ2VuZE5hbWUgPT4ge1xuLy8gICBsZXQgbWVyZ2VkTGVnZW5kU3RlcCA9IG1lcmdlUHVzZWRvU3RlcHMoY3VyclN5bmMuZmlsdGVyKHBTdGVwID0+IHBTdGVwLmRpZmYuY29tcE5hbWUgPT09IGxlZ2VuZE5hbWUpKVxuLy8gICBpZiAobWVyZ2VkTGVnZW5kU3RlcCl7XG4vLyAgICAgY3VyclN5bmMgPSBjdXJyU3luYy5maWx0ZXIocFN0ZXAgPT4gcFN0ZXAuZGlmZi5jb21wTmFtZSAhPT0gbGVnZW5kTmFtZSkuY29uY2F0KFttZXJnZWRMZWdlbmRTdGVwXSlcbi8vICAgfVxuLy8gfSk7XG4vLyBmdW5jdGlvbiBtZXJnZVB1c2Vkb1N0ZXBzKHBTdGVwcykge1xuLy8gICBpZiAocFN0ZXBzLmxlbmd0aCA9PT0gMCkge1xuLy8gICAgIHJldHVybjtcbi8vICAgfVxuLy8gICBjb25zdCBtZXJnZWQgPSBjb3B5KHBTdGVwc1swXSk7XG4vLyAgIG1lcmdlZC5mYWN0b3JTZXRzID0ge1xuLy8gICAgIGFwcGxpZWQ6IHBTdGVwcy5yZWR1Y2UoKGFwcGxpZWQsIHBTdGVwKSA9PiBhcHBsaWVkLmNvbmNhdChwU3RlcC5mYWN0b3JTZXRzID8gcFN0ZXAuZmFjdG9yU2V0cy5hcHBsaWVkIDogW10pLCBbXSksXG4vLyAgICAgYWxsOiBtZXJnZWQuZmFjdG9yU2V0cyA/IG1lcmdlZC5mYWN0b3JTZXRzLmFsbCA6IFtdLFxuLy8gICAgIGV4dHJhQnlNYXJrdHlwZTogbWVyZ2VkLmZhY3RvclNldHMgPyBtZXJnZWQuZmFjdG9yU2V0cy5leHRyYUJ5TWFya3R5cGUgOiBbXVxuLy8gICB9XG5cbi8vICAgcmV0dXJuIG1lcmdlZDtcbi8vIH1cblxuLy8gZnVuY3Rpb24gYXBwZW5kR3VpZGVNb3Zlcyhwc2V1ZG9UbCwgYXhlc3BzZXVkb1N0ZXBzLCBsZWdlbmRzcHNldWRvU3RlcHMpIHtcbi8vICAgbGV0IGJvdHRvbUF4aXNQU3RlcCA9IGF4ZXNwc2V1ZG9TdGVwcy5maW5kKHBTdGVwID0+XG4vLyAgICAgKHBTdGVwLmRpZmYuaW5pdGlhbCAmJiBwU3RlcC5kaWZmLmluaXRpYWwub3JpZW50ID09PSBcImJvdHRvbVwiKSAmJlxuLy8gICAgIChwU3RlcC5kaWZmLmZpbmFsICYmIHBTdGVwLmRpZmYuZmluYWwub3JpZW50ID09PSBcImJvdHRvbVwiKVxuLy8gICApO1xuLy8gICBsZXQgcmlnaHRMZWdlbmRQU3RlcCA9IGxlZ2VuZHNwc2V1ZG9TdGVwcy5maW5kKHBTdGVwID0+XG4vLyAgICAgKHBTdGVwLmRpZmYuaW5pdGlhbCAmJiBwU3RlcC5kaWZmLmluaXRpYWwub3JpZW50ID09PSBcInJpZ2h0XCIpICYmXG4vLyAgICAgKHBTdGVwLmRpZmYuZmluYWwgJiYgcFN0ZXAuZGlmZi5maW5hbC5vcmllbnQgPT09IFwicmlnaHRcIilcbi8vICAgKTtcbi8vICAgbGV0IGJvdHRvbUF4aXNNb3ZlZCA9IGZhbHNlO1xuLy8gICBwc2V1ZG9UbC5jb25jYXQuZm9yRWFjaChzdGFnZSA9PiB7XG4vLyAgICAgbGV0IG1hcmtQc2V1ZG9TdGVwcyA9IHN0YWdlLnN5bmMuZmlsdGVyKHBTdGVwID0+IHBTdGVwLmRpZmYuY29tcFR5cGUgPT09IFwibWFya1wiKTtcbi8vICAgICBsZXQgd2lkdGhDaGFuZ2UgPSAhIW1hcmtQc2V1ZG9TdGVwcy5maW5kKG1Qc2V1ZG9TdGVwID0+XG4vLyAgICAgICBtUHNldWRvU3RlcC5mYWN0b3JTZXRzLmN1cnJlbnQuaW5kZXhPZihcInNjYWxlLnhcIikgPj0gMCAmJiBtUHNldWRvU3RlcC5kaWZmLm1ldGEudmlldy5kZWx0YVcgIT09IDBcbi8vICAgICApO1xuXG4vLyAgICAgaWYgKGJvdHRvbUF4aXNQU3RlcCkge1xuLy8gICAgICAgbGV0IHRoaXNib3R0b21BeGlzUFN0ZXAgPSBzdGFnZS5zeW5jLmZpbmQocFN0ZXAgPT4gcFN0ZXAuZGlmZi5jb21wTmFtZSA9PT0gYm90dG9tQXhpc1BTdGVwLmRpZmYuY29tcE5hbWUgKTtcbi8vICAgICAgIGlmIChib3R0b21BeGlzTW92ZWQgJiYgdGhpc2JvdHRvbUF4aXNQU3RlcCkge1xuLy8gICAgICAgICB0aGlzYm90dG9tQXhpc1BTdGVwLmZhY3RvclNldHMuY3VycmVudCA9IHRoaXNib3R0b21BeGlzUFN0ZXAuZmFjdG9yU2V0cy5jdXJyZW50LmZpbHRlcihmY3RyID0+IGZjdHIgIT09IFwiZW5jb2RlLnBvc2l0aW9uXCIpO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICBpZiAoKG1hcmtQc2V1ZG9TdGVwcy5sZW5ndGggPiAwKSkge1xuLy8gICAgICAgICBsZXQgaGVpZ2h0Q2hhbmdlID0gISFtYXJrUHNldWRvU3RlcHMuZmluZChtUHNldWRvU3RlcCA9PlxuLy8gICAgICAgICAgIG1Qc2V1ZG9TdGVwLmZhY3RvclNldHMuY3VycmVudC5pbmRleE9mKFwic2NhbGUueVwiKSA+PSAwICYmIG1Qc2V1ZG9TdGVwLmRpZmYubWV0YS52aWV3LmRlbHRhSCAhPT0gMFxuLy8gICAgICAgICApO1xuLy8gICAgICAgICBpZiAoaGVpZ2h0Q2hhbmdlKSB7XG4vLyAgICAgICAgICAgLy8gSWYgbWFya3MgaGVpZ2h0IGNoYW5nZSwgdGhlIGJvdHRvbSBheGlzIHNob3VsZCBtb3ZlXG4vLyAgICAgICAgICAgaWYgKCF0aGlzYm90dG9tQXhpc1BTdGVwICYmICFib3R0b21BeGlzTW92ZWQpIHtcbi8vICAgICAgICAgICAgIC8vIGFkZCBheGlzUFN0ZXAgb25seSBjaGFuZ2luZyBheGlzR1xuLy8gICAgICAgICAgICAgc3RhZ2Uuc3luYy5wdXNoKHtcbi8vICAgICAgICAgICAgICAgZGlmZjogYm90dG9tQXhpc1BTdGVwLmRpZmYsXG4vLyAgICAgICAgICAgICAgIGZhY3RvclNldHM6IHtcbi8vICAgICAgICAgICAgICAgICBjdXJyZW50OiBbXCJlbmNvZGUucG9zaXRpb25cIl0sXG4vLyAgICAgICAgICAgICAgICAgYXBwbGllZDogW1wiZW5jb2RlLnBvc2l0aW9uXCJdLFxuLy8gICAgICAgICAgICAgICAgIGFsbDogYm90dG9tQXhpc1BTdGVwLmZhY3RvclNldHMuYWxsXG4vLyAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgIH0pXG4vLyAgICAgICAgICAgfVxuLy8gICAgICAgICAgIGJvdHRvbUF4aXNNb3ZlZCA9IHRydWU7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgLy8gSWYgbWFya3MgaGVpZ2h0IGRvZXMgbm90IGNoYW5nZSwgdGhlIGJvdHRvbSBheGlzIHNob3VsZCBub3QgbW92ZVxuLy8gICAgICAgICAgIGlmICh0aGlzYm90dG9tQXhpc1BTdGVwICYmICFib3R0b21BeGlzTW92ZWQpIHtcbi8vICAgICAgICAgICAgIC8vIGJvdHRvbUF4aXNQU3RlcCBzaG91bGQgbm90IG1vdmVcbi8vICAgICAgICAgICAgIHRoaXNib3R0b21BeGlzUFN0ZXAuZmFjdG9yU2V0cy5jdXJyZW50ID0gdGhpc2JvdHRvbUF4aXNQU3RlcC5mYWN0b3JTZXRzLmN1cnJlbnQuZmlsdGVyKGZjdHIgPT4gZmN0ciAhPT0gXCJlbmNvZGUucG9zaXRpb25cIilcblxuLy8gICAgICAgICAgIH1cbi8vICAgICAgICAgICBib3R0b21BeGlzTW92ZWQgPSBmYWxzZTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgaWYgKHRoaXNib3R0b21BeGlzUFN0ZXApIHtcbi8vICAgICAgICAgICBib3R0b21BeGlzTW92ZWQgPSB0cnVlO1xuLy8gICAgICAgICB9XG4vLyAgICAgICB9XG4vLyAgICAgfVxuXG4vLyAgIH0pXG5cbi8vICAgcmV0dXJuIHBzZXVkb1RsO1xuLy8gICAvLyBJZiBtYXJrcyB3aWR0aCBjaGFuZ2UsIHRoZSByaWdodCBheGlzIHNob3VsZCBtb3ZlXG4vLyAgIC8vIElmIG1hcmtzIHdpZHRoIGNoYW5nZSwgdGhlIHJpZ2h0IGxlZ2VuZCBzaG91bGQgbW92ZVxuXG4vLyAgIC8vIElmIG1hcmtzIHdpZHRoIGRvZXMgbm9udCBjaGFuZ2UsIHRoZSByaWdodCBheGlzIHNob3VsZCAgbm90IG1vdmVcbi8vICAgLy8gSWYgbWFya3Mgd2lkdGggZG9lcyBub3QgY2hhbmdlLCB0aGUgcmlnaHQgbGVnZW5kIHNob3VsZCBub3QgbW92ZVxuLy8gfSIsImltcG9ydCB7IGdldCB9IGZyb20gXCIuLi91dGlsL3V0aWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFBFUkNFUFRJT05fQ0FQKGR1cmF0aW9uKSB7XG4gIC8vIGlmIChkdXJhdGlvbiA8IDApIHtcbiAgLy8gICBjb25zb2xlLmVycm9yKFwiRHVyYXRpb24gY2Fubm90IGJlIG5lZ2F0aXZlIVwiKTtcbiAgLy8gfSBlbHNlIGlmIChkdXJhdGlvbiA8PSAwKSB7XG4gIC8vICAgcmV0dXJuIDAuM1xuICAvLyB9IGVsc2UgaWYgKGR1cmF0aW9uIDw9IDY2Nykge1xuICAvLyAgIHJldHVybiAwLjVcbiAgLy8gfSBlbHNlIGlmIChkdXJhdGlvbiA8PSAxMDAwKSB7XG4gIC8vICAgcmV0dXJuIDAuOFxuICAvLyB9IGVsc2UgaWYgKGR1cmF0aW9uIDw9IDIwMDApIHtcbiAgLy8gICByZXR1cm4gMS4wXG4gIC8vIH0gZWxzZVxuICAvLyAgIHJldHVybiAxLjVcbiAgLy8gfVxuICAvLyByZXR1cm4gMS4wMCAvICgxICsgTWF0aC5leHAoLShkdXJhdGlvbi0xMjUwKS8xODApKSArIDAuNFxuICAvLyByZXR1cm4gMS4wMCAvICgxICsgTWF0aC5leHAoLShkdXJhdGlvbi0xMjUwKS8xODApKSArIDAuMzVcbiAgcmV0dXJuIDEuNCAvICgxICsgTWF0aC5leHAoLShkdXJhdGlvbiAtIDEyMDApIC8gMzAwKSk7XG59XG5cbi8vIFR1bmluZyBmb3IgdGhlIG10dXJrIHN0dWR5XG4vLyAvLyBTdGltdWx1cyAxXG4vLyBzdGFnZTEtcmFuazEgPiBzdGFnZTMtcmFuazEsIHN0YWdlMi1yYW5rMiwgc3RhZ2UyLXJhbmszXG4vLyBzdGFnZTItcmFuazEgPiBzdGFnZTMtcmFuazEsIHN0YWdlMi1yYW5rMiwgc3RhZ2UyLXJhbmszXG5cbi8vIC8vIFN0aW11bHVzIDJcbi8vIHMxUjEgPiAqXG5cbi8vIC8vIFN0aW11bHVzIDNcbi8vIHN0YWdlMS1yYW5rMSA+ICpcbi8vIHN0YWdlMi1yYW5rMSA+IHN0YWdlMi1yYW5rMiwgc3RhZ2UzLXJhbmsxXG5cbi8vIC8vIFN0aW11bHVzIDRcbi8vIHN0YWdlMS1yYW5rMSA+IHN0YWdlMi1yYW5rM1xuXG5jb25zdCBzYW1lRG9tYWluID0gKHBzZXVkb1N0ZXAsIGZvdW5kRmFjdG9yKSA9PiB7XG4gIHJldHVybiAoXG4gICAgZ2V0KFxuICAgICAgcHNldWRvU3RlcCxcbiAgICAgIFwiZGlmZlwiLFxuICAgICAgXCJtZXRhXCIsXG4gICAgICBcInNjYWxlXCIsXG4gICAgICBmb3VuZEZhY3Rvci5zcGxpdChcIi5cIilbMV0sXG4gICAgICBcImRvbWFpblNwYWNlRGlmZlwiXG4gICAgKSA9PT0gZmFsc2VcbiAgKTtcbn07XG5jb25zdCBkaWZmRG9tYWluID0gKHBzZXVkb1N0ZXAsIGZvdW5kRmFjdG9yKSA9PiB7XG4gIHJldHVybiAoXG4gICAgZ2V0KFxuICAgICAgcHNldWRvU3RlcCxcbiAgICAgIFwiZGlmZlwiLFxuICAgICAgXCJtZXRhXCIsXG4gICAgICBcInNjYWxlXCIsXG4gICAgICBmb3VuZEZhY3Rvci5zcGxpdChcIi5cIilbMV0sXG4gICAgICBcImRvbWFpblNwYWNlRGlmZlwiXG4gICAgKSA9PT0gdHJ1ZVxuICApO1xufTtcbmNvbnN0IG5vRmFjdG9ycyA9IGZhY3RvcnMgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24ocHNldWRvU3RlcCkge1xuICAgIGZvciAoY29uc3QgZmN0ciBvZiBmYWN0b3JzKSB7XG4gICAgICBpZiAocHNldWRvU3RlcC5mYWN0b3JTZXRzLmN1cnJlbnQuaW5kZXhPZihmY3RyKSA+PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG59O1xuZXhwb3J0IGNvbnN0IFBFUkNFUFRJT05fQ09TVCA9IHtcbiAgbWFyazogW1xuICAgIHsgZmFjdG9yOiBcIm1hcmt0eXBlXCIsIGNvc3Q6IDAuMyB9LFxuICAgIHsgZmFjdG9yOiBcImRhdGFcIiwgY29zdDogMC41IH0sXG4gICAgeyBmYWN0b3I6IFwic2NhbGUueVwiLCBjb3N0OiAwLjQsIHdpdGg6IFtzYW1lRG9tYWluXSB9LFxuICAgIHsgZmFjdG9yOiBcInNjYWxlLnhcIiwgY29zdDogMC40LCB3aXRoOiBbc2FtZURvbWFpbl0gfSxcbiAgICB7IGZhY3RvcjogXCJzY2FsZS5jb2xvclwiLCBjb3N0OiAwLjQsIHdpdGg6IFtzYW1lRG9tYWluXSB9LFxuICAgIHsgZmFjdG9yOiBcInNjYWxlLnNoYXBlXCIsIGNvc3Q6IDAuNCwgd2l0aDogW3NhbWVEb21haW5dIH0sXG4gICAgeyBmYWN0b3I6IFwic2NhbGUuc2l6ZVwiLCBjb3N0OiAwLjQsIHdpdGg6IFtzYW1lRG9tYWluXSB9LFxuICAgIHsgZmFjdG9yOiBcInNjYWxlLnlcIiwgY29zdDogMC42NSwgd2l0aG91dDogW3NhbWVEb21haW5dIH0sXG4gICAgeyBmYWN0b3I6IFwic2NhbGUueFwiLCBjb3N0OiAwLjY1LCB3aXRob3V0OiBbc2FtZURvbWFpbl0gfSxcbiAgICB7IGZhY3RvcjogXCJzY2FsZS5jb2xvclwiLCBjb3N0OiAwLjY1LCB3aXRob3V0OiBbc2FtZURvbWFpbl0gfSxcbiAgICB7IGZhY3RvcjogXCJzY2FsZS5zaGFwZVwiLCBjb3N0OiAwLjY1LCB3aXRob3V0OiBbc2FtZURvbWFpbl0gfSxcbiAgICB7IGZhY3RvcjogXCJzY2FsZS5zaXplXCIsIGNvc3Q6IDAuNjUsIHdpdGhvdXQ6IFtzYW1lRG9tYWluXSB9LFxuICAgIHsgZmFjdG9yOiBcImVuY29kZS54XCIsIGNvc3Q6IDAuMyB9LFxuICAgIHsgZmFjdG9yOiBcImVuY29kZS55XCIsIGNvc3Q6IDAuMyB9LFxuICAgIHsgZmFjdG9yOiBcImVuY29kZS5jb2xvclwiLCBjb3N0OiAwLjMgfSxcbiAgICB7IGZhY3RvcjogXCJlbmNvZGUuc2hhcGVcIiwgY29zdDogMC4zIH0sXG4gICAgeyBmYWN0b3I6IFwiZW5jb2RlLnNpemVcIiwgY29zdDogMC4zIH0sXG4gICAgeyBmYWN0b3I6IFwiZW5jb2RlLm9wYWNpdHlcIiwgY29zdDogMC4yIH1cbiAgXSxcbiAgYXhpczogW1xuICAgIC8vIHsgZmFjdG9yOiBcInNjYWxlLipcIiwgY29zdDogMC43IH0sXG4gICAgLy8geyBmYWN0b3I6IFwiYWRkLipcIiwgY29zdDogMSB9LFxuICAgIC8vIHsgZmFjdG9yOiBcInJlbW92ZS4qXCIsIGNvc3Q6IDEgfSxcbiAgICB7IGZhY3RvcjogXCJlbmNvZGVcIiwgY29zdDogMC4zIH0sXG4gICAgeyBmYWN0b3I6IFwic2NhbGVcIiwgY29zdDogMC41LCB3aXRoOiBbc2FtZURvbWFpbl0gfSxcbiAgICB7IGZhY3RvcjogXCJhZGRcIiwgY29zdDogMC43IH0sXG4gICAgeyBmYWN0b3I6IFwicmVtb3ZlXCIsIGNvc3Q6IDAuNyB9LFxuICAgIHsgZmFjdG9yOiBcInNjYWxlXCIsIGNvc3Q6IDEsIHdpdGhvdXQ6IFtzYW1lRG9tYWluXSB9XG4gIF0sXG4gIGxlZ2VuZDogW1xuICAgIC8vIHsgZmFjdG9yOiBcInNjYWxlLipcIiwgY29zdDogMC43IH0sXG4gICAgLy8geyBmYWN0b3I6IFwiYWRkLipcIiwgY29zdDogMSB9LFxuICAgIC8vIHsgZmFjdG9yOiBcInJlbW92ZS4qXCIsIGNvc3Q6IDEgfSxcbiAgICB7IGZhY3RvcjogXCJlbmNvZGVcIiwgY29zdDogMC4zIH0sXG4gICAgeyBmYWN0b3I6IFwic2NhbGVcIiwgY29zdDogMC41LCB3aXRoOiBbc2FtZURvbWFpbl0gfSxcbiAgICB7IGZhY3RvcjogXCJhZGRcIiwgY29zdDogMC43IH0sXG4gICAgeyBmYWN0b3I6IFwicmVtb3ZlXCIsIGNvc3Q6IDAuNyB9LFxuICAgIHsgZmFjdG9yOiBcInNjYWxlXCIsIGNvc3Q6IDEsIHdpdGhvdXQ6IFtzYW1lRG9tYWluXSB9XG4gIF1cbn07XG5cbmV4cG9ydCBjb25zdCBQRU5BTFRZX0NPTUJPUyA9IFtcbiAge1xuICAgIGNodW5rczogW1xuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgY29tcFR5cGU6IFwibWFya1wiLFxuICAgICAgICAgIGZhY3RvcjogXCJzY2FsZS55XCIsXG4gICAgICAgICAgd2l0aDogW2RpZmZEb21haW4sIG5vRmFjdG9ycyhbXCJlbmNvZGUueVwiXSldXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICBdLFxuICAgIGNvc3Q6IDEuMFxuICB9LFxuICB7XG4gICAgY2h1bmtzOiBbXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICBjb21wVHlwZTogXCJtYXJrXCIsXG4gICAgICAgICAgZmFjdG9yOiBcInNjYWxlLnhcIixcbiAgICAgICAgICB3aXRoOiBbZGlmZkRvbWFpbiwgbm9GYWN0b3JzKFtcImVuY29kZS54XCJdKV1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIF0sXG4gICAgY29zdDogMS4wXG4gIH0sXG4gIHtcbiAgICBjaHVua3M6IFtcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIGNvbXBUeXBlOiBcIm1hcmtcIixcbiAgICAgICAgICBmYWN0b3I6IFwic2NhbGUuc2l6ZVwiLFxuICAgICAgICAgIHdpdGg6IFtkaWZmRG9tYWluLCBub0ZhY3RvcnMoW1wiZW5jb2RlLnNpemVcIl0pXVxuICAgICAgICB9XG4gICAgICBdXG4gICAgXSxcbiAgICBjb3N0OiAxLjBcbiAgfSxcbiAge1xuICAgIGNodW5rczogW1xuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgY29tcFR5cGU6IFwibWFya1wiLFxuICAgICAgICAgIGZhY3RvcjogXCJzY2FsZS5jb2xvclwiLFxuICAgICAgICAgIHdpdGg6IFtkaWZmRG9tYWluLCBub0ZhY3RvcnMoW1wiZW5jb2RlLmNvbG9yXCJdKV1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIF0sXG4gICAgY29zdDogMS4wXG4gIH1cbl07XG5cbmV4cG9ydCBjb25zdCBESVNDT1VOVF9DT01CT1MgPSBbXG4gIHtcbiAgICBjaHVua3M6IFtcbiAgICAgIFtcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS55XCIsIHdpdGg6IFtzYW1lRG9tYWluXSB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLnhcIiwgd2l0aDogW3NhbWVEb21haW5dIH1cbiAgICAgIF1cbiAgICBdLFxuICAgIGNvc3Q6IC0wLjJcbiAgfSxcbiAge1xuICAgIGNodW5rczogW1xuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLnNpemVcIiB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLnNoYXBlXCIgfVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5jb2xvclwiIH0sXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUuc2hhcGVcIiB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLmNvbG9yXCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5zaXplXCIgfVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5zaXplXCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5vcGFjaXR5XCIgfVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5vcGFjaXR5XCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5zaGFwZVwiIH1cbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUuY29sb3JcIiB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLm9wYWNpdHlcIiB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLmNvbG9yXCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5zaXplXCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5zaGFwZVwiIH1cbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUuc2l6ZVwiIH0sXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUuc2hhcGVcIiB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLm9wYWNpdHlcIiB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLmNvbG9yXCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5zaGFwZVwiIH0sXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUub3BhY2l0eVwiIH1cbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUuY29sb3JcIiB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLnNpemVcIiB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLm9wYWNpdHlcIiB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLmNvbG9yXCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5zaXplXCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5vcGFjaXR5XCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS5zaGFwZVwiIH1cbiAgICAgIF1cbiAgICBdLFxuICAgIGNvc3Q6IC0wLjFcbiAgfSxcbiAge1xuICAgIGNodW5rczogW1xuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLnlcIiwgd2l0aDogW3NhbWVEb21haW5dIH0sXG4gICAgICAgIHsgY29tcFR5cGU6IFwiYXhpc1wiLCBmYWN0b3I6IFwic2NhbGUueVwiLCB3aXRoOiBbc2FtZURvbWFpbl0gfVxuICAgICAgXVxuICAgIF0sXG4gICAgY29zdDogLTAuNVxuICB9LFxuICB7XG4gICAgY2h1bmtzOiBbXG4gICAgICBbXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUueVwiLCB3aXRoOiBbZGlmZkRvbWFpbl0gfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJheGlzXCIsIGZhY3RvcjogXCJzY2FsZS55XCIsIHdpdGg6IFtkaWZmRG9tYWluXSB9XG4gICAgICBdXG4gICAgXSxcbiAgICBjb3N0OiAtMVxuICB9LFxuICB7XG4gICAgY2h1bmtzOiBbXG4gICAgICBbXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwiZW5jb2RlLnlcIiB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcImF4aXNcIiwgZmFjdG9yOiBcImFkZC55XCIgfVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJlbmNvZGUueVwiIH0sXG4gICAgICAgIHsgY29tcFR5cGU6IFwiYXhpc1wiLCBmYWN0b3I6IFwicmVtb3ZlLnlcIiB9XG4gICAgICBdXG4gICAgXSxcbiAgICBjb3N0OiAtMC43XG4gIH0sXG4gIHtcbiAgICBjaHVua3M6IFtcbiAgICAgIFtcbiAgICAgICAgeyBjb21wVHlwZTogXCJtYXJrXCIsIGZhY3RvcjogXCJzY2FsZS54XCIsIHdpdGg6IFtzYW1lRG9tYWluXSB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcImF4aXNcIiwgZmFjdG9yOiBcInNjYWxlLnhcIiwgd2l0aDogW3NhbWVEb21haW5dIH1cbiAgICAgIF1cbiAgICBdLFxuICAgIGNvc3Q6IC0wLjVcbiAgfSxcbiAge1xuICAgIGNodW5rczogW1xuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLnhcIiwgd2l0aDogW2RpZmZEb21haW5dIH0sXG4gICAgICAgIHsgY29tcFR5cGU6IFwiYXhpc1wiLCBmYWN0b3I6IFwic2NhbGUueFwiLCB3aXRoOiBbZGlmZkRvbWFpbl0gfVxuICAgICAgXVxuICAgIF0sXG4gICAgY29zdDogLTFcbiAgfSxcbiAge1xuICAgIGNodW5rczogW1xuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcImVuY29kZS54XCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJheGlzXCIsIGZhY3RvcjogXCJhZGQueFwiIH1cbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwiZW5jb2RlLnhcIiB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcImF4aXNcIiwgZmFjdG9yOiBcInJlbW92ZS54XCIgfVxuICAgICAgXVxuICAgIF0sXG4gICAgY29zdDogLTAuN1xuICB9LFxuICB7XG4gICAgY2h1bmtzOiBbXG4gICAgICBbXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUuY29sb3JcIiB9LFxuICAgICAgICB7IGNvbXBUeXBlOiBcImxlZ2VuZFwiLCBjb250YWluOiBcImNvbG9yXCIgfVxuICAgICAgXVxuICAgIF0sXG4gICAgY29zdDogLTAuNVxuICB9LFxuICB7XG4gICAgY2h1bmtzOiBbXG4gICAgICBbXG4gICAgICAgIHsgY29tcFR5cGU6IFwibWFya1wiLCBmYWN0b3I6IFwic2NhbGUuc2l6ZVwiIH0sXG4gICAgICAgIHsgY29tcFR5cGU6IFwibGVnZW5kXCIsIGNvbnRhaW46IFwic2l6ZVwiIH1cbiAgICAgIF1cbiAgICBdLFxuICAgIGNvc3Q6IC0wLjVcbiAgfSxcbiAge1xuICAgIGNodW5rczogW1xuICAgICAgW1xuICAgICAgICB7IGNvbXBUeXBlOiBcIm1hcmtcIiwgZmFjdG9yOiBcInNjYWxlLnNoYXBlXCIgfSxcbiAgICAgICAgeyBjb21wVHlwZTogXCJsZWdlbmRcIiwgY29udGFpbjogXCJzaGFwZVwiIH1cbiAgICAgIF1cbiAgICBdLFxuICAgIGNvc3Q6IC0wLjVcbiAgfVxuXTtcbiIsImltcG9ydCB7IHJvdW5kVXAsIHZhcmlhbmNlLCBtZWFuIH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xuaW1wb3J0ICogYXMgREcgZnJvbSBcIi4vZGVzaWduR3VpZGVsaW5lc1wiO1xuXG5mdW5jdGlvbiBldmFsdWF0ZShwc2V1ZG9UaW1lbGluZSkge1xuICBjb25zdCBzdGFnZUNvc3RzID0gW107XG4gIGNvbnN0IGNhcHBlZFN0YWdlQ29zdHMgPSBbXTtcbiAgY29uc3QgTiA9IHBzZXVkb1RpbWVsaW5lLmNvbmNhdC5sZW5ndGg7XG4gIGNvbnN0IGNvc3QgPSBwc2V1ZG9UaW1lbGluZS5jb25jYXQucmVkdWNlKChjb3N0LCBzdGFnZSwgaSkgPT4ge1xuICAgIGNvbnN0IHRvdGFsQ29zdCA9IHN0YWdlLnN5bmMucmVkdWNlKChzdW0sIHBzZXVkb1N0ZXApID0+IHtcbiAgICAgIHBzZXVkb1N0ZXAubWV0YSA9IHsgY29zdDogZ2V0Q29zdChwc2V1ZG9TdGVwKSB9O1xuICAgICAgcmV0dXJuIHN1bSArIGdldENvc3QocHNldWRvU3RlcCk7XG4gICAgfSwgMCk7XG4gICAgY29uc3QgY29tYm9Db3N0ID0gZ2V0Q29tYm9Db3N0KHN0YWdlLnN5bmMpO1xuICAgIGNvbnN0IGR1ciA9IHBzZXVkb1RpbWVsaW5lLnRvdGFsRHVyYXRpb24gLyBwc2V1ZG9UaW1lbGluZS5jb25jYXQubGVuZ3RoO1xuICAgIGNvbnN0IGNhcCA9IERHLlBFUkNFUFRJT05fQ0FQKGR1cikgKiBNYXRoLnBvdygwLjk5LCBOIC0gMSAtIGkpO1xuICAgIHN0YWdlLm1ldGEgPSB7XG4gICAgICB0b3RhbENvc3Q6IHJvdW5kVXAodG90YWxDb3N0KSxcbiAgICAgIGNvbWJvQ29zdDogcm91bmRVcChjb21ib0Nvc3QpLFxuICAgICAgY2FwLFxuICAgICAgY29zdDogcm91bmRVcChNYXRoLm1heCh0b3RhbENvc3QgKyBjb21ib0Nvc3QgLSBjYXAsIDApKVxuICAgIH07XG4gICAgc3RhZ2VDb3N0cy5wdXNoKE1hdGgubWF4KHRvdGFsQ29zdCArIGNvbWJvQ29zdCkpO1xuICAgIGNhcHBlZFN0YWdlQ29zdHMucHVzaChNYXRoLm1heCh0b3RhbENvc3QgKyBjb21ib0Nvc3QgLSBjYXAsIDApKTtcbiAgICByZXR1cm4gY29zdCArIE1hdGgubWF4KHRvdGFsQ29zdCArIGNvbWJvQ29zdCAtIGNhcCwgMCk7XG4gIH0sIDApO1xuXG4gIHJldHVybiB7XG4gICAgY29zdDogcm91bmRVcChjb3N0KSxcbiAgICB0aWVicmVha2VyOiBtZWFuKHN0YWdlQ29zdHMpLFxuICAgIHRpZWJyZWFrZXIyOiB2YXJpYW5jZShjYXBwZWRTdGFnZUNvc3RzKVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRDb21ib0Nvc3QocHNldWRvU3RlcHMpIHtcbiAgY29uc3QgY2hlY2sgPSAocGllY2UsIGZhY3RvclNldCkgPT4ge1xuICAgIHJldHVybiBmYWN0b3JTZXQuZmluZChcbiAgICAgIGZjdHIgPT4gZmN0ciA9PT0gcGllY2UuZmFjdG9yIHx8IGZjdHIuaW5kZXhPZihwaWVjZS5jb250YWluKSA+PSAwXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gREcuRElTQ09VTlRfQ09NQk9TLmNvbmNhdChERy5QRU5BTFRZX0NPTUJPUykucmVkdWNlKFxuICAgICh0b3RhbERpc2NvdW50LCBjb21ibykgPT4ge1xuICAgICAgZm9yIChjb25zdCBjaHVuayBvZiBjb21iby5jaHVua3MpIHtcbiAgICAgICAgY29uc3QgaXNDaHVuayA9IGNodW5rLnJlZHVjZSgoaXNDaHVuaywgcGllY2UpID0+IHtcbiAgICAgICAgICBjb25zdCBmb3VuZCA9IHBzZXVkb1N0ZXBzLmZpbmQocFN0ZXAgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgcFN0ZXAuZGlmZi5jb21wVHlwZSA9PT0gcGllY2UuY29tcFR5cGUgJiZcbiAgICAgICAgICAgICAgY2hlY2socGllY2UsIHBTdGVwLmZhY3RvclNldHMuY3VycmVudClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChwaWVjZS53aXRoKSB7XG4gICAgICAgICAgICBpc0NodW5rID0gcGllY2Uud2l0aC5yZWR1Y2UoKGlzQ2h1bmssIHN1YkNvbmRpdGlvbikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gaXNDaHVuayAmJiBzdWJDb25kaXRpb24oZm91bmQsIHBpZWNlLmZhY3Rvcik7XG4gICAgICAgICAgICB9LCBpc0NodW5rKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaXNDaHVuayAmJiAhIWZvdW5kO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgaWYgKGlzQ2h1bmspIHtcbiAgICAgICAgICB0b3RhbERpc2NvdW50ICs9IGNvbWJvLmNvc3Q7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3RhbERpc2NvdW50O1xuICAgIH0sXG4gICAgMFxuICApO1xufVxuXG5mdW5jdGlvbiBnZXRDb3N0KHBzZXVkb1N0ZXApIHtcbiAgLy8gVG9kb1xuICBpZiAoXG4gICAgcHNldWRvU3RlcC5kaWZmLmNvbXBUeXBlID09PSBcInZpZXdcIiB8fFxuICAgIHBzZXVkb1N0ZXAuZGlmZi5jb21wVHlwZSA9PT0gXCJwYXVzZVwiXG4gICkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCBzdGVwQ29zdCA9IDA7XG4gIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIERHLlBFUkNFUFRJT05fQ09TVFtwc2V1ZG9TdGVwLmRpZmYuY29tcFR5cGVdKSB7XG4gICAgY29uc3QgZm91bmRGYWN0b3IgPSBwc2V1ZG9TdGVwLmZhY3RvclNldHMuY3VycmVudC5maW5kKFxuICAgICAgZmN0ciA9PiBmY3RyLmluZGV4T2YoY29uZGl0aW9uLmZhY3RvcikgPj0gMFxuICAgICk7XG4gICAgbGV0IHdpdGhfd2l0aG91dCA9IHRydWU7XG4gICAgaWYgKGZvdW5kRmFjdG9yICYmIGNvbmRpdGlvbi53aXRoKSB7XG4gICAgICB3aXRoX3dpdGhvdXQgPSBjb25kaXRpb24ud2l0aC5yZWR1Y2UoKHNhdCwgc3ViQ29uZGl0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBzYXQgJiYgc3ViQ29uZGl0aW9uKHBzZXVkb1N0ZXAsIGZvdW5kRmFjdG9yKTtcbiAgICAgIH0sIHRydWUpO1xuICAgIH0gZWxzZSBpZiAoZm91bmRGYWN0b3IgJiYgY29uZGl0aW9uLndpdGhvdXQpIHtcbiAgICAgIHdpdGhfd2l0aG91dCA9IGNvbmRpdGlvbi53aXRob3V0LnJlZHVjZSgoc2F0LCBzdWJDb25kaXRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIHNhdCAmJiAhc3ViQ29uZGl0aW9uKHBzZXVkb1N0ZXAsIGZvdW5kRmFjdG9yKTtcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cblxuICAgIHN0ZXBDb3N0ICs9IGZvdW5kRmFjdG9yICYmIHdpdGhfd2l0aG91dCA/IGNvbmRpdGlvbi5jb3N0IDogMDtcbiAgfVxuICByZXR1cm4gc3RlcENvc3Q7XG59XG5cbmV4cG9ydCB7IGdldENvbWJvQ29zdCwgZ2V0Q29zdCwgZXZhbHVhdGUgfTtcbiIsImltcG9ydCB7IENIQU5ORUxfVE9fQVRUUlNfT0JKIH0gZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IHsgY29weSwgZ2V0LCBpc0VtcHR5IH0gZnJvbSBcIi4uL3V0aWwvdXRpbFwiO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVRpbWVsaW5lKHBzZXVkb1RpbWVsaW5lLCB1c2VySW5wdXQsIGluY2x1ZGVNZXRhKSB7XG4gIC8vIEFzc3VtZTogcHNldWRvVGltZWxpbmUgPSB7Y29uY2F0OiBbIHtzeW5jOiBbLi4uXSB9LCB7c3luYzogWy4uLl19LCAuLi5dfVxuICAvLyBBc3N1bWU6IHVzZXJJbnB1dD0ge21hcmtzOiB7Li4ufSwgYXhlczogey4uLn0sIGxlZ2VuZHM6IHsuLi59LCBzY2FsZXM6IHsuLi59fVxuICBsZXQgZGVmYXVsdE9wdCA9IHtcbiAgICB0aW1pbmc6IHtcbiAgICAgIGR1cmF0aW9uOiB7XG4gICAgICAgIHJhdGlvOiBNYXRoLmZsb29yKDEwMCAvIHBzZXVkb1RpbWVsaW5lLmNvbmNhdC5sZW5ndGgpIC8gMTAwXG4gICAgICB9XG4gICAgfVxuICB9O1xuICBpZiAodXNlcklucHV0Lmdsb2JhbCkge1xuICAgIGRlZmF1bHRPcHQgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHQsIHVzZXJJbnB1dC5nbG9iYWwpO1xuICB9XG4gIGxldCBvcHQ7XG5cbiAgY29uc3QgbmV3Q29uY2F0ID0gcHNldWRvVGltZWxpbmUuY29uY2F0Lm1hcChzeW5jQmxvY2sgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzeW5jOiBzeW5jQmxvY2suc3luYy5tYXAocHNldWRvU3RlcCA9PiB7XG4gICAgICAgIGxldCBzdGVwO1xuICAgICAgICBzd2l0Y2ggKHBzZXVkb1N0ZXAuZGlmZi5jb21wVHlwZSkge1xuICAgICAgICBjYXNlIFwibWFya1wiOlxuICAgICAgICAgIG9wdCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIGRlZmF1bHRPcHQsXG4gICAgICAgICAgICBnZXQodXNlcklucHV0LCBcIm1hcmtzXCIsIHBzZXVkb1N0ZXAuZGlmZi5jb21wTmFtZSkgfHwge31cbiAgICAgICAgICApO1xuICAgICAgICAgIHN0ZXAgPSBnZW5lcmF0ZU1hcmtDb21wU3RlcChwc2V1ZG9TdGVwLCBvcHQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXhpc1wiOlxuICAgICAgICAgIG9wdCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIGRlZmF1bHRPcHQsXG4gICAgICAgICAgICBnZXQodXNlcklucHV0LCBcImF4ZXNcIiwgcHNldWRvU3RlcC5kaWZmLmNvbXBOYW1lKSB8fCB7fVxuICAgICAgICAgICk7XG4gICAgICAgICAgc3RlcCA9IGdlbmVyYXRlQXhpc0NvbXBTdGVwKHBzZXVkb1N0ZXAsIG9wdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsZWdlbmRcIjpcbiAgICAgICAgICBvcHQgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICBkZWZhdWx0T3B0LFxuICAgICAgICAgICAgZ2V0KHVzZXJJbnB1dCwgXCJsZWdlbmRzXCIsIHBzZXVkb1N0ZXAuZGlmZi5jb21wTmFtZSkgfHwge31cbiAgICAgICAgICApO1xuICAgICAgICAgIHN0ZXAgPSBnZW5lcmF0ZUxlZ2VuZENvbXBTdGVwKHBzZXVkb1N0ZXAsIG9wdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ2aWV3XCI6XG4gICAgICAgICAgc3RlcCA9IGdlbmVyYXRlVmlld0NvbXBTdGVwKHBzZXVkb1N0ZXAsIG9wdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluY2x1ZGVNZXRhKSB7XG4gICAgICAgICAgc3RlcC5tZXRhID0gcHNldWRvU3RlcC5tZXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICB9KSxcbiAgICAgIC4uLihpbmNsdWRlTWV0YSA/IHsgbWV0YTogc3luY0Jsb2NrLm1ldGEgfSA6IHt9KVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4geyBjb25jYXQ6IG5ld0NvbmNhdCB9O1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVZpZXdDb21wU3RlcChwc2V1ZG9WaWV3U3RlcCwgb3B0KSB7XG4gIHJldHVybiB7XG4gICAgY29tcG9uZW50OiBcInZpZXdcIixcbiAgICBjaGFuZ2U6IHtcbiAgICAgIHNpZ25hbDogcHNldWRvVmlld1N0ZXAuZmFjdG9yU2V0cy5jdXJyZW50XG4gICAgfSxcbiAgICB0aW1pbmc6IHBzZXVkb1ZpZXdTdGVwLnRpbWluZyB8fCBjb3B5KG9wdC50aW1pbmcpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQXhpc0NvbXBTdGVwKHBzZXVkb1N0ZXAsIG9wdCkge1xuICBjb25zdCBzY2FsZURvbWFpbkRpbWVuc2lvbiA9IGdldChvcHQsIFwiY2hhbmdlXCIsIFwic2NhbGVcIiwgXCJkb21haW5EaW1lbnNpb25cIik7XG4gIGNvbnN0IHsgZmFjdG9yU2V0cyB9ID0gcHNldWRvU3RlcDtcbiAgY29uc3Qgc3RlcCA9IHtcbiAgICBjb21wb25lbnQ6IHsgYXhpczogcHNldWRvU3RlcC5kaWZmLmNvbXBOYW1lIH0sXG4gICAgY2hhbmdlOiB7fSxcbiAgICB0aW1pbmc6IHBzZXVkb1N0ZXAudGltaW5nIHx8IGNvcHkob3B0LnRpbWluZylcbiAgfTtcbiAgaWYgKHNjYWxlRG9tYWluRGltZW5zaW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBzdGVwLmNoYW5nZSA9IHsgc2NhbGU6IHsgZG9tYWluRGltZW5zaW9uOiBzY2FsZURvbWFpbkRpbWVuc2lvbiB9IH07XG4gIH1cbiAgaWYgKFxuICAgIGZhY3RvclNldHMuYWxsLmluZGV4T2YoXCJzY2FsZS55XCIpID49IDAgJiZcbiAgICBmYWN0b3JTZXRzLmFwcGxpZWQuaW5kZXhPZihcInNjYWxlLnlcIikgPCAwXG4gICkge1xuICAgIHN0ZXAuY2hhbmdlLnNjYWxlID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAoXG4gICAgZmFjdG9yU2V0cy5hbGwuaW5kZXhPZihcInNjYWxlLnhcIikgPj0gMCAmJlxuICAgIGZhY3RvclNldHMuYXBwbGllZC5pbmRleE9mKFwic2NhbGUueFwiKSA8IDBcbiAgKSB7XG4gICAgc3RlcC5jaGFuZ2Uuc2NhbGUgPSBmYWxzZTtcbiAgfVxuICBpZiAoXG4gICAgZmFjdG9yU2V0cy5hcHBsaWVkLmluZGV4T2YoXCJlbmNvZGVcIikgPCAwICYmXG4gICAgZmFjdG9yU2V0cy5hbGwuaW5kZXhPZihcImVuY29kZVwiKSA+PSAwXG4gICkge1xuICAgIHN0ZXAuY2hhbmdlLmVuY29kZSA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKFxuICAgIHN0ZXAuY2hhbmdlLmVuY29kZSA9PT0gZmFsc2UgJiZcbiAgICBmYWN0b3JTZXRzLmFwcGxpZWQuaW5kZXhPZihcImVuY29kZS5vbmx5LmdyaWRcIikgPj0gMFxuICApIHtcbiAgICBzdGVwLmNoYW5nZS5lbmNvZGUgPSB7XG4gICAgICBncmlkOiB0cnVlLFxuICAgICAgYXhpczogdHJ1ZSxcbiAgICAgIGxhYmVsczogZmFsc2UsXG4gICAgICB0aXRsZTogZmFsc2UsXG4gICAgICB0aWNrczogZmFsc2UsXG4gICAgICBkb21haW46IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGlmIChcbiAgICAoIChzdGVwLmNoYW5nZS5lbmNvZGUgPT09IGZhbHNlKSB8fFxuICAgICAgKGdldChzdGVwLCBcImNoYW5nZVwiLCBcImVuY29kZVwiLCBcImF4aXNcIikgPT09IGZhbHNlKSApICYmXG4gICAgZmFjdG9yU2V0cy5hcHBsaWVkLmluZGV4T2YoXCJlbmNvZGUucG9zaXRpb25cIikgPj0gMFxuICApIHtcbiAgICBpZiAoc3RlcC5jaGFuZ2UuZW5jb2RlKSB7XG4gICAgICBzdGVwLmNoYW5nZS5lbmNvZGUuYXhpcyA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwLmNoYW5nZS5lbmNvZGUgPSB7YXhpczogZmFsc2V9O1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0VtcHR5KHN0ZXAuY2hhbmdlKSkge1xuICAgIGRlbGV0ZSBzdGVwLmNoYW5nZTtcbiAgfVxuXG4gIHJldHVybiBzdGVwO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUxlZ2VuZENvbXBTdGVwKHBzZXVkb1N0ZXAsIG9wdCkge1xuICBjb25zdCBzdGVwID0ge1xuICAgIGNvbXBvbmVudDogeyBsZWdlbmQ6IHBzZXVkb1N0ZXAuZGlmZi5jb21wTmFtZSB9LFxuICAgIHRpbWluZzogcHNldWRvU3RlcC50aW1pbmcgfHwgY29weShvcHQudGltaW5nKVxuICB9O1xuICAvLyBjb25zdCBmYWN0b3JTZXRzID0gcHNldWRvU3RlcC5mYWN0b3JTZXRzO1xuICAvLyBpZiAoZmFjdG9yU2V0cyAmJiBmYWN0b3JTZXRzLmN1cnJlbnQgJiYgZmFjdG9yU2V0cy5jdXJyZW50Lmxlbmd0aCA+IDApIHtcbiAgLy8gICBzdGVwLmNoYW5nZSA9IHtcbiAgLy8gICAgIHNjYWxlOiBmYWN0b3JTZXRzLmN1cnJlbnQubWFwKGZjdCA9PiBmY3QucmVwbGFjZShcInNjYWxlLlwiLCBcIlwiKSlcbiAgLy8gICB9O1xuICAvLyB9XG4gIC8vIGlmIChmYWN0b3JTZXRzLmN1cnJlbnQuaW5kZXhPZihcImVuY29kZS5wb3NpdGlvblwiKSA8IDAgJiYgZmFjdG9yU2V0cy5hbGwuaW5kZXhPZihcImVuY29kZS5wb3NpdGlvblwiKSA+PSAwKSB7XG4gIC8vICAgc3RlcC5jaGFuZ2UgPSB7XG4gIC8vICAgICAuLi4oc3RlcC5jaGFuZ2UgfHwge30pLFxuICAvLyAgICAgZW5jb2RlOiB7IGxlZ2VuZDogZmFsc2UgfVxuICAvLyAgIH07XG4gIC8vIH1cbiAgcmV0dXJuIHN0ZXA7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTWFya0NvbXBTdGVwKHBzZXVkb1N0ZXAsIG9wdCkge1xuICBjb25zdCBtYXJrQ29tcERpZmYgPSBwc2V1ZG9TdGVwLmRpZmY7XG4gIGNvbnN0IHsgZmFjdG9yU2V0cyB9ID0gcHNldWRvU3RlcDtcbiAgY29uc3Qgc3RlcCA9IHtcbiAgICBjb21wb25lbnQ6IHsgbWFyazogbWFya0NvbXBEaWZmLmNvbXBOYW1lIH0sXG4gICAgY2hhbmdlOiBnZXRCbGFua0NoYW5nZShmYWN0b3JTZXRzLmFsbCksXG4gICAgdGltaW5nOiBwc2V1ZG9TdGVwLnRpbWluZyB8fCBjb3B5KG9wdC50aW1pbmcpXG4gIH07XG4gIGlmIChmYWN0b3JTZXRzLmFwcGxpZWQuaW5kZXhPZihcInJlbW92ZVwiKSA+PSAwKSB7XG4gICAgZGVsZXRlIHN0ZXAuY2hhbmdlO1xuICAgIHJldHVybiBzdGVwO1xuICB9XG4gIC8vIGNoYW5nZS5zY2FsZVxuICBjb25zdCBzY2FsZUZhY3Ryb3MgPSBmYWN0b3JTZXRzLmFwcGxpZWQuZmlsdGVyKFxuICAgIGZjdHIgPT4gZmN0ci5pbmRleE9mKFwic2NhbGVcIikgPj0gMFxuICApO1xuICBpZiAoc2NhbGVGYWN0cm9zLmxlbmd0aCA+IDApIHtcbiAgICBzdGVwLmNoYW5nZS5zY2FsZSA9IHNjYWxlRmFjdHJvcy5tYXAoZmN0ciA9PiBmY3RyLnJlcGxhY2UoXCJzY2FsZS5cIiwgXCJcIikpO1xuICB9XG5cbiAgLy8gY2hhbmdlLmRhdGFcbiAgaWYgKGZhY3RvclNldHMuYXBwbGllZC5pbmRleE9mKFwiZGF0YVwiKSA+PSAwKSB7XG4gICAgc3RlcC5jaGFuZ2UuZGF0YSA9IGdldChvcHQsIFwiY2hhbmdlXCIsIFwiZGF0YVwiKSB8fCB0cnVlO1xuICB9XG5cbiAgLy8gVG9kbzogRm9yIGVuY29kZSBmYWN0b3JzIG5vdCBpbiB0aGUgZmFjdG9yU2V0LCB0aGVuIGl0IHNob3VsZCBub3Qgc3BlY2lmeSBhbnl0aGluZy5cbiAgLy8gY2hhbmdlLmVuY29kZVxuICBjb25zdCBlbmNvZGVGYWN0b3JzID0gZmFjdG9yU2V0cy5hcHBsaWVkLmZpbHRlcihcbiAgICBmY3RyID0+IGZjdHIuaW5kZXhPZihcImVuY29kZVwiKSA+PSAwXG4gICk7XG4gIGNvbnN0IGVuY29kZUNoYW5nZSA9IGdldEJsYW5rRW5jb2RlQ2hhbmdlKFxuICAgIGZhY3RvclNldHMuYWxsLmNvbmNhdChmYWN0b3JTZXRzLmV4dHJhQnlNYXJrdHlwZSlcbiAgKTtcblxuICBpZiAoZW5jb2RlRmFjdG9ycy5sZW5ndGggPiAwKSB7XG4gICAgZW5jb2RlRmFjdG9ycy5mb3JFYWNoKGZjdHIgPT4ge1xuICAgICAgY29uc3QgY2hhbm5lbCA9IGZjdHIucmVwbGFjZShcImVuY29kZS5cIiwgXCJcIik7XG4gICAgICBjb25zdCBhdHRycyA9IENIQU5ORUxfVE9fQVRUUlNfT0JKW2NoYW5uZWxdO1xuICAgICAgYXR0cnMuZm9yRWFjaChhdHRyID0+IHtcbiAgICAgICAgZGVsZXRlIGVuY29kZUNoYW5nZS51cGRhdGVbYXR0cl07XG4gICAgICAgIGRlbGV0ZSBlbmNvZGVDaGFuZ2UuZXhpdFthdHRyXTtcbiAgICAgICAgZGVsZXRlIGVuY29kZUNoYW5nZS5lbnRlclthdHRyXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHN0ZXAuY2hhbmdlLmVuY29kZSA9IGVuY29kZUNoYW5nZTtcblxuICAvLyBjaGFuZ2UubWFya3R5cGVcbiAgaWYgKGZhY3RvclNldHMuYXBwbGllZC5pbmRleE9mKFwibWFya3R5cGVcIikgPj0gMCkge1xuICAgIHN0ZXAuY2hhbmdlLm1hcmt0eXBlID0gdHJ1ZTtcblxuICAgIGZhY3RvclNldHMuZXh0cmFCeU1hcmt0eXBlLmZvckVhY2goZmN0ciA9PiB7XG4gICAgICBjb25zdCBjaGFubmVsID0gZmN0ci5yZXBsYWNlKFwiZW5jb2RlLlwiLCBcIlwiKTtcbiAgICAgIGNvbnN0IGF0dHJzID0gQ0hBTk5FTF9UT19BVFRSU19PQkpbY2hhbm5lbF07XG4gICAgICBhdHRycy5mb3JFYWNoKGF0dHIgPT4ge1xuICAgICAgICBkZWxldGUgc3RlcC5jaGFuZ2UuZW5jb2RlLnVwZGF0ZVthdHRyXTtcbiAgICAgICAgZGVsZXRlIHN0ZXAuY2hhbmdlLmVuY29kZS5leGl0W2F0dHJdO1xuICAgICAgICBkZWxldGUgc3RlcC5jaGFuZ2UuZW5jb2RlLmVudGVyW2F0dHJdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBbXCJ1cGRhdGVcIiwgXCJlbnRlclwiLCBcImV4aXRcIl0uZm9yRWFjaChkYXRhU2V0ID0+IHtcbiAgICBpZiAoIWlzRW1wdHkoZ2V0KHN0ZXAsIFwiY2hhbmdlXCIsIFwiZW5jb2RlXCIsIGRhdGFTZXQpKSkge1xuICAgICAgc3RlcC5jaGFuZ2UuZW5jb2RlW2RhdGFTZXRdID0gT2JqZWN0LmtleXMoc3RlcC5jaGFuZ2UuZW5jb2RlW2RhdGFTZXRdKVxuICAgICAgICAuZmlsdGVyKGF0dHIgPT4gbWFya0NvbXBEaWZmLm1ldGEudXNlZEVuQXR0cnMuaW5kZXhPZihhdHRyKSA+PSAwKVxuICAgICAgICAucmVkdWNlKChhY2MsIGF0dHIpID0+IHtcbiAgICAgICAgICBhY2NbYXR0cl0gPSBzdGVwLmNoYW5nZS5lbmNvZGVbZGF0YVNldF1bYXR0cl07XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH1cblxuICAgIGlmIChpc0VtcHR5KGdldChzdGVwLCBcImNoYW5nZVwiLCBcImVuY29kZVwiLCBkYXRhU2V0KSkpIHtcbiAgICAgIHN0ZXAuY2hhbmdlLmVuY29kZVtkYXRhU2V0XSA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc3RlcDtcbn1cblxuLy8gSXQgcHJvdmlkZXMgYSBjaGFuZ2UuZW5jb2RlIHRoYXQgZG9lcyBub3QgY2hhbmdlIGFueSBhdHRyaWJ1dGUuXG4vLyBUaGUgYmxhbmtFbmNvZGVDaGFuZ2VzIGFyZSB0byBiZSBhc3NpZ25lZCBieSBlbmNvZGUgZmFjdG9ycy5cbmZ1bmN0aW9uIGdldEJsYW5rRW5jb2RlQ2hhbmdlKHJlbGF0ZWRGYWN0b3JzKSB7XG4gIGNvbnN0IGJsYW5rRW5jb2RlID0gcmVsYXRlZEZhY3RvcnNcbiAgICAuZmlsdGVyKGZjdHIgPT4gZmN0ci5pbmRleE9mKFwiZW5jb2RlXCIpID49IDApXG4gICAgLm1hcChmY3RyID0+IENIQU5ORUxfVE9fQVRUUlNfT0JKW2ZjdHIucmVwbGFjZShcImVuY29kZS5cIiwgXCJcIildKVxuICAgIC5yZWR1Y2UoKGJsYW5rRW5jb2RlLCBhdHRycykgPT4ge1xuICAgICAgYXR0cnMuZm9yRWFjaChhdHRyID0+IHtcbiAgICAgICAgYmxhbmtFbmNvZGVbYXR0cl0gPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJsYW5rRW5jb2RlO1xuICAgIH0sIHt9KTtcblxuICBjb25zdCBibGFua0V4aXRFbmNvZGUgPSBjb3B5KGJsYW5rRW5jb2RlKTtcbiAgZGVsZXRlIGJsYW5rRXhpdEVuY29kZS5vcGFjaXR5O1xuXG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBjb3B5KGJsYW5rRW5jb2RlKSxcbiAgICBlbnRlcjogYmxhbmtFeGl0RW5jb2RlLFxuICAgIGV4aXQ6IGJsYW5rRXhpdEVuY29kZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0QmxhbmtDaGFuZ2UoYWxsRmFjdG9ycykge1xuICByZXR1cm4gW1wic2NhbGVcIiwgXCJzaWduYWxcIiwgXCJkYXRhXCIsIFwiZW5jb2RlXCIsIFwibWFya3R5cGVcIl0ucmVkdWNlKFxuICAgIChjaGFuZ2UsIGZhY3RvcikgPT4ge1xuICAgICAgaWYgKGFsbEZhY3RvcnMuZmluZChmID0+IGYuaW5kZXhPZihmYWN0b3IpID49IDApKSB7XG4gICAgICAgIGNoYW5nZVtmYWN0b3JdID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hhbmdlO1xuICAgIH0sXG4gICAge31cbiAgKTtcbn1cbmV4cG9ydCB7IGdlbmVyYXRlVGltZWxpbmUsIGdlbmVyYXRlTWFya0NvbXBTdGVwIH07XG4iLCJpbXBvcnQgKiBhcyB2ZWdhIGZyb20gXCJ2ZWdhXCI7XG5pbXBvcnQgeyBkZXRlY3REaWZmcyB9IGZyb20gXCIuL2RpZmZEZXRlY3RvclwiO1xuaW1wb3J0IHsgZW51bWVyYXRlUHNldWRvVGltZWxpbmVzIH0gZnJvbSBcIi4vcHNldWRvVGltZWxpbmVFbnVtZXJhdG9yXCI7XG5pbXBvcnQgeyBldmFsdWF0ZSB9IGZyb20gXCIuL3BzZXVkb1RpbWVsaW5lRXZhbHVhdG9yXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRpbWVsaW5lIH0gZnJvbSBcIi4vdGltZWxpbmVHZW5lcmF0b3JcIjtcbmltcG9ydCB7IGNvcHkgfSBmcm9tIFwiLi4vdXRpbC91dGlsXCI7XG5pbXBvcnQgeyBjYXN0VkwyVkcgfSBmcm9tIFwiLi4vdXRpbC92bDJ2ZzRnZW1pbmlcIjtcbmltcG9ydCB7IGdldENvbXBvbmVudHMsIGdldENoYW5nZXMgfSBmcm9tIFwiLi4vY2hhbmdlRmV0Y2hlci9jaGFuZ2VcIjtcbmltcG9ydCB7IHNldFVwUmVjb21PcHQgfSBmcm9tIFwiLi91dGlsXCJcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKFxuICBzU3BlYyxcbiAgZVNwZWMsXG4gIG9wdCA9IHsgbWFya3M6IHt9LCBheGVzOiB7fSwgbGVnZW5kczoge30sIHNjYWxlczoge30gfVxuKSB7XG4gIGNvbnN0IHtcbiAgICByYXdJbmZvLFxuICAgIHVzZXJJbnB1dCxcbiAgICBzdGFnZU4sXG4gICAgaW5jbHVkZU1ldGEsXG4gICAgdGltaW5nXG4gIH0gPSBhd2FpdCBpbml0aWFsU2V0VXAoc1NwZWMsIGVTcGVjLCBvcHQpO1xuXG4gIGlmICghY2FuUmVjb21tZW5kKHNTcGVjLCBlU3BlYykucmVzdWx0ICYmIHN0YWdlTiAhPT0gMSkge1xuICAgIHJldHVybiBjYW5SZWNvbW1lbmQoc1NwZWMsIGVTcGVjKTtcbiAgfVxuXG4gIGNvbnN0IGRldGVjdGVkID0gZGV0ZWN0RGlmZnMocmF3SW5mbywgdXNlcklucHV0KTtcblxuICBsZXQgcHNldWRvVGxzID0gZW51bWVyYXRlUHNldWRvVGltZWxpbmVzKGRldGVjdGVkLCBzdGFnZU4sIHJhd0luZm8sIHRpbWluZyk7XG4gIHBzZXVkb1RscyA9IHBzZXVkb1Rsc1xuICAgIC5tYXAocHNldWRvVGwgPT4ge1xuICAgICAgcHNldWRvVGwuZXZhbCA9IGV2YWx1YXRlKHBzZXVkb1RsKTtcbiAgICAgIHJldHVybiBwc2V1ZG9UbDtcbiAgICB9KVxuICAgIC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQ29zdChhLmV2YWwsIGIuZXZhbCkpO1xuXG4gIHJldHVybiBwc2V1ZG9UbHMubWFwKHBzZXVkb1RsID0+IHtcbiAgICBjb25zdCBtZXRhID0gaW5jbHVkZU1ldGEgPyBwc2V1ZG9UbC5ldmFsIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiB7XG4gICAgICBzcGVjOiB7XG4gICAgICAgIHRpbWVsaW5lOiBnZW5lcmF0ZVRpbWVsaW5lKHBzZXVkb1RsLCB1c2VySW5wdXQsIGluY2x1ZGVNZXRhKSxcbiAgICAgICAgdG90YWxEdXJhdGlvbjogdGltaW5nLnRvdGFsRHVyYXRpb24sXG4gICAgICAgIG1ldGFcbiAgICAgIH0sXG4gICAgICBwc2V1ZG9UaW1lbGluZTogcHNldWRvVGxcbiAgICB9O1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlQ29zdChhLCBiKSB7XG4gIGlmIChhLmNvc3QgPT09IGIuY29zdCkge1xuICAgIGlmIChhLnRpZWJyZWFrZXIgPT09IGIudGllYnJlYWtlcikge1xuICAgICAgcmV0dXJuIGEudGllYnJlYWtlcjIgLSBiLnRpZWJyZWFrZXIyO1xuICAgIH1cbiAgICByZXR1cm4gYS50aWVicmVha2VyIC0gYi50aWVicmVha2VyO1xuICB9XG4gIHJldHVybiBhLmNvc3QgLSBiLmNvc3Q7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxTZXRVcChzU3BlYywgZVNwZWMsIG9wdCA9IHsgbWFya3M6IHt9LCBheGVzOiB7fSwgbGVnZW5kczoge30sIHNjYWxlczoge30gfSkge1xuICBsZXQgX29wdCA9IGNvcHkob3B0KTtcbiAgY29uc3Qgc3RhZ2VOID0gTnVtYmVyKG9wdC5zdGFnZU4pIHx8IDI7XG4gIGNvbnN0IHsgaW5jbHVkZU1ldGEgfSA9IG9wdDtcbiAgY29uc3QgdGltaW5nID0geyB0b3RhbER1cmF0aW9uOiBfb3B0LnRvdGFsRHVyYXRpb24gfHwgMjAwMCB9O1xuICBfb3B0ID0gc2V0VXBSZWNvbU9wdChfb3B0KTtcbiAgY29uc3QgZVZpZXcgPSBhd2FpdCBuZXcgdmVnYS5WaWV3KHZlZ2EucGFyc2UoY2FzdFZMMlZHKGVTcGVjKSksIHtcbiAgICByZW5kZXJlcjogXCJzdmdcIlxuICB9KS5ydW5Bc3luYygpO1xuXG4gIGNvbnN0IHNWaWV3ID0gYXdhaXQgbmV3IHZlZ2EuVmlldyh2ZWdhLnBhcnNlKGNhc3RWTDJWRyhzU3BlYykpLCB7XG4gICAgcmVuZGVyZXI6IFwic3ZnXCJcbiAgfSkucnVuQXN5bmMoKTtcblxuXG4gIGNvbnN0IHJhd0luZm8gPSB7XG4gICAgc1ZpczogeyBzcGVjOiBjb3B5KGNhc3RWTDJWRyhzU3BlYykpLCB2aWV3OiBzVmlldyB9LFxuICAgIGVWaXM6IHsgc3BlYzogY29weShjYXN0VkwyVkcoZVNwZWMpKSwgdmlldzogZVZpZXcgfVxuICB9O1xuXG4gIHJldHVybiB7IHJhd0luZm8sIHVzZXJJbnB1dDogX29wdCwgc3RhZ2VOLCBpbmNsdWRlTWV0YSwgdGltaW5nfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuUmVjb21tZW5kKHNTcGVjLCBlU3BlYywgc3RhZ2VOKSB7XG5cbiAgY29uc3QgY29tcERpZmZzID0gZ2V0Q2hhbmdlcyhcbiAgICBnZXRDb21wb25lbnRzKGNhc3RWTDJWRyhzU3BlYykpLFxuICAgIGdldENvbXBvbmVudHMoY2FzdFZMMlZHKGVTcGVjKSlcbiAgKS5maWx0ZXIobWF0Y2ggPT4ge1xuICAgIHJldHVybiAoXG4gICAgICBbXCJyb290XCIsIFwicGF0aGdyb3VwXCJdLmluZGV4T2YobWF0Y2guY29tcE5hbWUpIDwgMCAmJlxuICAgICAgbWF0Y2guY29tcFR5cGUgIT09IFwic2NhbGVcIlxuICAgICk7XG4gIH0pXG4gIGlmIChjb21wRGlmZnMuZmlsdGVyKGNvbXAgPT4gY29tcC5jb21wVHlwZSA9PT0gXCJtYXJrXCIpLmxlbmd0aCA+PSAyICYmIHN0YWdlTiA+MSkge1xuICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbjogXCJHZW1pbmkgY2Fubm90IHJlY29tZW5kIGFuaW1hdGlvbnMgZm9yIHRyYW5zaXRpb25zIHdpdGggbXVsdGlwbGUgbWFya3MuXCIgfTtcbiAgfVxuICByZXR1cm4geyByZXN1bHQ6IHRydWUgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFsbEF0T25jZShzU3BlYyxcbiAgZVNwZWMsXG4gIG9wdCA9IHsgbWFya3M6IHt9LCBheGVzOiB7fSwgbGVnZW5kczoge30sIHNjYWxlczoge30gfVxuKSB7XG4gIGNvbnN0IHNWR1NwZWMgPSBjYXN0VkwyVkcoc1NwZWMpLCBlVkdTcGVjID0gY2FzdFZMMlZHKGVTcGVjKVxuICBjb25zdCB7XG4gICAgcmF3SW5mbyxcbiAgICB1c2VySW5wdXQsXG4gICAgc3RhZ2VOLFxuICAgIGluY2x1ZGVNZXRhLFxuICAgIHRpbWluZ1xuICB9ID0gYXdhaXQgaW5pdGlhbFNldFVwKHNWR1NwZWMsIGVWR1NwZWMsIHtzdGFnZU46MSwgLi4ub3B0fSk7XG5cbiAgY29uc3QgZGV0ZWN0ZWQgPSBkZXRlY3REaWZmcyhyYXdJbmZvLCB1c2VySW5wdXQpO1xuXG4gIGNvbnN0IHN0ZXBzID0gZGV0ZWN0ZWQuY29tcERpZmZzLm1hcChjbXBEaWZmID0+IHtcbiAgICBsZXQgY29tcCA9IHt9XG4gICAgY29tcFtjbXBEaWZmLmNvbXBUeXBlXSA9IGNtcERpZmYuY29tcE5hbWU7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbXBvbmVudDogY29tcCxcbiAgICAgIHRpbWluZzoge2R1cmF0aW9uOiB7cmF0aW86IDF9fVxuICAgIH1cbiAgfSk7XG4gIGZvciAoY29uc3QgaW5jT3JEZWMgb2YgW1wiaW5jcmVhc2VcIiwgXCJkZWNyZWFzZVwiXSkge1xuICAgIGlmIChkZXRlY3RlZC52aWV3RGlmZnMuaGVpZ2h0W2luY09yRGVjXSB8fCBkZXRlY3RlZC52aWV3RGlmZnMud2lkdGhbaW5jT3JEZWNdKSB7XG4gICAgICBzdGVwcy5wdXNoKHtcbiAgICAgICAgY29tcG9uZW50OiBcInZpZXdcIixcbiAgICAgICAgdGltaW5nOiB7ZHVyYXRpb246IHtyYXRpbzogMX19XG4gICAgICB9KVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0aW1lbGluZToge1xuICAgICAgc3luYzogc3RlcHNcbiAgICB9LFxuICAgIHRvdGFsRHVyYXRpb246IG9wdC50b3RhbER1cmF0aW9uIHx8IDIwMDBcbiAgfVxuXG59IiwiZnVuY3Rpb24gYWNjZXNzb3IgKGZuLCBmaWVsZHMsIG5hbWUpIHtcbiAgZm4uZmllbGRzID0gZmllbGRzIHx8IFtdO1xuICBmbi5mbmFtZSA9IG5hbWU7XG4gIHJldHVybiBmbjtcbn1cbmZ1bmN0aW9uIGFjY2Vzc29yTmFtZShmbikge1xuICByZXR1cm4gZm4gPT0gbnVsbCA/IG51bGwgOiBmbi5mbmFtZTtcbn1cbmZ1bmN0aW9uIGFjY2Vzc29yRmllbGRzKGZuKSB7XG4gIHJldHVybiBmbiA9PSBudWxsID8gbnVsbCA6IGZuLmZpZWxkcztcbn1cblxuZnVuY3Rpb24gZ2V0dGVyIChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmxlbmd0aCA9PT0gMSA/IGdldDEocGF0aFswXSkgOiBnZXROKHBhdGgpO1xufVxuXG5jb25zdCBnZXQxID0gZmllbGQgPT4gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqW2ZpZWxkXTtcbn07XG5cbmNvbnN0IGdldE4gPSBwYXRoID0+IHtcbiAgY29uc3QgbGVuID0gcGF0aC5sZW5ndGg7XG4gIHJldHVybiBmdW5jdGlvbiAob2JqKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH07XG59O1xuXG5mdW5jdGlvbiBlcnJvciAobWVzc2FnZSkge1xuICB0aHJvdyBFcnJvcihtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gc3BsaXRBY2Nlc3NQYXRoIChwKSB7XG4gIGNvbnN0IHBhdGggPSBbXSxcbiAgICAgICAgbiA9IHAubGVuZ3RoO1xuICBsZXQgcSA9IG51bGwsXG4gICAgICBiID0gMCxcbiAgICAgIHMgPSAnJyxcbiAgICAgIGksXG4gICAgICBqLFxuICAgICAgYztcbiAgcCA9IHAgKyAnJztcblxuICBmdW5jdGlvbiBwdXNoKCkge1xuICAgIHBhdGgucHVzaChzICsgcC5zdWJzdHJpbmcoaSwgaikpO1xuICAgIHMgPSAnJztcbiAgICBpID0gaiArIDE7XG4gIH1cblxuICBmb3IgKGkgPSBqID0gMDsgaiA8IG47ICsraikge1xuICAgIGMgPSBwW2pdO1xuXG4gICAgaWYgKGMgPT09ICdcXFxcJykge1xuICAgICAgcyArPSBwLnN1YnN0cmluZyhpLCBqKTtcbiAgICAgIHMgKz0gcC5zdWJzdHJpbmcoKytqLCArK2opO1xuICAgICAgaSA9IGo7XG4gICAgfSBlbHNlIGlmIChjID09PSBxKSB7XG4gICAgICBwdXNoKCk7XG4gICAgICBxID0gbnVsbDtcbiAgICAgIGIgPSAtMTtcbiAgICB9IGVsc2UgaWYgKHEpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAoaSA9PT0gYiAmJiBjID09PSAnXCInKSB7XG4gICAgICBpID0gaiArIDE7XG4gICAgICBxID0gYztcbiAgICB9IGVsc2UgaWYgKGkgPT09IGIgJiYgYyA9PT0gXCInXCIpIHtcbiAgICAgIGkgPSBqICsgMTtcbiAgICAgIHEgPSBjO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gJy4nICYmICFiKSB7XG4gICAgICBpZiAoaiA+IGkpIHtcbiAgICAgICAgcHVzaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IGogKyAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYyA9PT0gJ1snKSB7XG4gICAgICBpZiAoaiA+IGkpIHB1c2goKTtcbiAgICAgIGIgPSBpID0gaiArIDE7XG4gICAgfSBlbHNlIGlmIChjID09PSAnXScpIHtcbiAgICAgIGlmICghYikgZXJyb3IoJ0FjY2VzcyBwYXRoIG1pc3Npbmcgb3BlbiBicmFja2V0OiAnICsgcCk7XG4gICAgICBpZiAoYiA+IDApIHB1c2goKTtcbiAgICAgIGIgPSAwO1xuICAgICAgaSA9IGogKyAxO1xuICAgIH1cbiAgfVxuXG4gIGlmIChiKSBlcnJvcignQWNjZXNzIHBhdGggbWlzc2luZyBjbG9zaW5nIGJyYWNrZXQ6ICcgKyBwKTtcbiAgaWYgKHEpIGVycm9yKCdBY2Nlc3MgcGF0aCBtaXNzaW5nIGNsb3NpbmcgcXVvdGU6ICcgKyBwKTtcblxuICBpZiAoaiA+IGkpIHtcbiAgICBqKys7XG4gICAgcHVzaCgpO1xuICB9XG5cbiAgcmV0dXJuIHBhdGg7XG59XG5cbmZ1bmN0aW9uIGZpZWxkIChmaWVsZCwgbmFtZSwgb3B0KSB7XG4gIGNvbnN0IHBhdGggPSBzcGxpdEFjY2Vzc1BhdGgoZmllbGQpO1xuICBmaWVsZCA9IHBhdGgubGVuZ3RoID09PSAxID8gcGF0aFswXSA6IGZpZWxkO1xuICByZXR1cm4gYWNjZXNzb3IoKG9wdCAmJiBvcHQuZ2V0IHx8IGdldHRlcikocGF0aCksIFtmaWVsZF0sIG5hbWUgfHwgZmllbGQpO1xufVxuXG5jb25zdCBpZCA9IGZpZWxkKCdpZCcpO1xuY29uc3QgaWRlbnRpdHkgPSBhY2Nlc3NvcihfID0+IF8sIFtdLCAnaWRlbnRpdHknKTtcbmNvbnN0IHplcm8gPSBhY2Nlc3NvcigoKSA9PiAwLCBbXSwgJ3plcm8nKTtcbmNvbnN0IG9uZSA9IGFjY2Vzc29yKCgpID0+IDEsIFtdLCAnb25lJyk7XG5jb25zdCB0cnV0aHkgPSBhY2Nlc3NvcigoKSA9PiB0cnVlLCBbXSwgJ3RydWUnKTtcbmNvbnN0IGZhbHN5ID0gYWNjZXNzb3IoKCkgPT4gZmFsc2UsIFtdLCAnZmFsc2UnKTtcblxuZnVuY3Rpb24gbG9nKG1ldGhvZCwgbGV2ZWwsIGlucHV0KSB7XG4gIGNvbnN0IGFyZ3MgPSBbbGV2ZWxdLmNvbmNhdChbXS5zbGljZS5jYWxsKGlucHV0KSk7XG4gIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBhcmdzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG59XG5cbmNvbnN0IE5vbmUgPSAwO1xuY29uc3QgRXJyb3IkMSA9IDE7XG5jb25zdCBXYXJuID0gMjtcbmNvbnN0IEluZm8gPSAzO1xuY29uc3QgRGVidWcgPSA0O1xuZnVuY3Rpb24gbG9nZ2VyIChfLCBtZXRob2QpIHtcbiAgbGV0IGxldmVsID0gXyB8fCBOb25lO1xuICByZXR1cm4ge1xuICAgIGxldmVsKF8pIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGxldmVsID0gK187XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxldmVsO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBlcnJvcigpIHtcbiAgICAgIGlmIChsZXZlbCA+PSBFcnJvciQxKSBsb2cobWV0aG9kIHx8ICdlcnJvcicsICdFUlJPUicsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgd2FybigpIHtcbiAgICAgIGlmIChsZXZlbCA+PSBXYXJuKSBsb2cobWV0aG9kIHx8ICd3YXJuJywgJ1dBUk4nLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGluZm8oKSB7XG4gICAgICBpZiAobGV2ZWwgPj0gSW5mbykgbG9nKG1ldGhvZCB8fCAnbG9nJywgJ0lORk8nLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIGRlYnVnKCkge1xuICAgICAgaWYgKGxldmVsID49IERlYnVnKSBsb2cobWV0aG9kIHx8ICdsb2cnLCAnREVCVUcnLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gIH07XG59XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuZnVuY3Rpb24gaXNPYmplY3QgKF8pIHtcbiAgcmV0dXJuIF8gPT09IE9iamVjdChfKTtcbn1cblxuY29uc3QgaXNMZWdhbEtleSA9IGtleSA9PiBrZXkgIT09ICdfX3Byb3RvX18nO1xuXG5mdW5jdGlvbiBtZXJnZUNvbmZpZyguLi5jb25maWdzKSB7XG4gIHJldHVybiBjb25maWdzLnJlZHVjZSgob3V0LCBzb3VyY2UpID0+IHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChrZXkgPT09ICdzaWduYWxzJykge1xuICAgICAgICAvLyBmb3Igc2lnbmFscywgd2UgbWVyZ2UgdGhlIHNpZ25hbHMgYXJyYXlzXG4gICAgICAgIC8vIHNvdXJjZSBzaWduYWxzIHRha2UgcHJlY2VkZW5jZSBvdmVyXG4gICAgICAgIC8vIGV4aXN0aW5nIHNpZ25hbHMgd2l0aCB0aGUgc2FtZSBuYW1lXG4gICAgICAgIG91dC5zaWduYWxzID0gbWVyZ2VOYW1lZChvdXQuc2lnbmFscywgc291cmNlLnNpZ25hbHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb3RoZXJ3aXNlLCBtZXJnZSBvYmplY3RzIHN1YmplY3QgdG8gcmVjdXJzaW9uIGNvbnN0cmFpbnRzXG4gICAgICAgIC8vIGZvciBsZWdlbmQgYmxvY2ssIHJlY3Vyc2UgZm9yIHRoZSBsYXlvdXQgZW50cnkgb25seVxuICAgICAgICAvLyBmb3Igc3R5bGUgYmxvY2ssIHJlY3Vyc2UgZm9yIGFsbCBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIG90aGVyd2lzZSwgbm8gcmVjdXJzaW9uOiBvYmplY3RzIG92ZXJ3cml0ZSwgbm8gbWVyZ2luZ1xuICAgICAgICBjb25zdCByID0ga2V5ID09PSAnbGVnZW5kJyA/IHtcbiAgICAgICAgICBsYXlvdXQ6IDFcbiAgICAgICAgfSA6IGtleSA9PT0gJ3N0eWxlJyA/IHRydWUgOiBudWxsO1xuICAgICAgICB3cml0ZUNvbmZpZyhvdXQsIGtleSwgc291cmNlW2tleV0sIHIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG4gIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIHdyaXRlQ29uZmlnKG91dHB1dCwga2V5LCB2YWx1ZSwgcmVjdXJzZSkge1xuICBpZiAoIWlzTGVnYWxLZXkoa2V5KSkgcmV0dXJuO1xuICBsZXQgaywgbztcblxuICBpZiAoaXNPYmplY3QodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSkge1xuICAgIG8gPSBpc09iamVjdChvdXRwdXRba2V5XSkgPyBvdXRwdXRba2V5XSA6IG91dHB1dFtrZXldID0ge307XG5cbiAgICBmb3IgKGsgaW4gdmFsdWUpIHtcbiAgICAgIGlmIChyZWN1cnNlICYmIChyZWN1cnNlID09PSB0cnVlIHx8IHJlY3Vyc2Vba10pKSB7XG4gICAgICAgIHdyaXRlQ29uZmlnKG8sIGssIHZhbHVlW2tdKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNMZWdhbEtleShrKSkge1xuICAgICAgICBvW2tdID0gdmFsdWVba107XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dHB1dFtrZXldID0gdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWVyZ2VOYW1lZChhLCBiKSB7XG4gIGlmIChhID09IG51bGwpIHJldHVybiBiO1xuICBjb25zdCBtYXAgPSB7fSxcbiAgICAgICAgb3V0ID0gW107XG5cbiAgZnVuY3Rpb24gYWRkKF8pIHtcbiAgICBpZiAoIW1hcFtfLm5hbWVdKSB7XG4gICAgICBtYXBbXy5uYW1lXSA9IDE7XG4gICAgICBvdXQucHVzaChfKTtcbiAgICB9XG4gIH1cblxuICBiLmZvckVhY2goYWRkKTtcbiAgYS5mb3JFYWNoKGFkZCk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHBlZWsgKGFycmF5KSB7XG4gIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbn1cblxuZnVuY3Rpb24gdG9OdW1iZXIgKF8pIHtcbiAgcmV0dXJuIF8gPT0gbnVsbCB8fCBfID09PSAnJyA/IG51bGwgOiArXztcbn1cblxuY29uc3QgZXhwID0gc2lnbiA9PiB4ID0+IHNpZ24gKiBNYXRoLmV4cCh4KTtcblxuY29uc3QgbG9nJDEgPSBzaWduID0+IHggPT4gTWF0aC5sb2coc2lnbiAqIHgpO1xuXG5jb25zdCBzeW1sb2cgPSBjID0+IHggPT4gTWF0aC5zaWduKHgpICogTWF0aC5sb2cxcChNYXRoLmFicyh4IC8gYykpO1xuXG5jb25zdCBzeW1leHAgPSBjID0+IHggPT4gTWF0aC5zaWduKHgpICogTWF0aC5leHBtMShNYXRoLmFicyh4KSkgKiBjO1xuXG5jb25zdCBwb3cgPSBleHBvbmVudCA9PiB4ID0+IHggPCAwID8gLU1hdGgucG93KC14LCBleHBvbmVudCkgOiBNYXRoLnBvdyh4LCBleHBvbmVudCk7XG5cbmZ1bmN0aW9uIHBhbihkb21haW4sIGRlbHRhLCBsaWZ0LCBncm91bmQpIHtcbiAgY29uc3QgZDAgPSBsaWZ0KGRvbWFpblswXSksXG4gICAgICAgIGQxID0gbGlmdChwZWVrKGRvbWFpbikpLFxuICAgICAgICBkZCA9IChkMSAtIGQwKSAqIGRlbHRhO1xuICByZXR1cm4gW2dyb3VuZChkMCAtIGRkKSwgZ3JvdW5kKGQxIC0gZGQpXTtcbn1cblxuZnVuY3Rpb24gcGFuTGluZWFyKGRvbWFpbiwgZGVsdGEpIHtcbiAgcmV0dXJuIHBhbihkb21haW4sIGRlbHRhLCB0b051bWJlciwgaWRlbnRpdHkpO1xufVxuZnVuY3Rpb24gcGFuTG9nKGRvbWFpbiwgZGVsdGEpIHtcbiAgdmFyIHNpZ24gPSBNYXRoLnNpZ24oZG9tYWluWzBdKTtcbiAgcmV0dXJuIHBhbihkb21haW4sIGRlbHRhLCBsb2ckMShzaWduKSwgZXhwKHNpZ24pKTtcbn1cbmZ1bmN0aW9uIHBhblBvdyhkb21haW4sIGRlbHRhLCBleHBvbmVudCkge1xuICByZXR1cm4gcGFuKGRvbWFpbiwgZGVsdGEsIHBvdyhleHBvbmVudCksIHBvdygxIC8gZXhwb25lbnQpKTtcbn1cbmZ1bmN0aW9uIHBhblN5bWxvZyhkb21haW4sIGRlbHRhLCBjb25zdGFudCkge1xuICByZXR1cm4gcGFuKGRvbWFpbiwgZGVsdGEsIHN5bWxvZyhjb25zdGFudCksIHN5bWV4cChjb25zdGFudCkpO1xufVxuXG5mdW5jdGlvbiB6b29tKGRvbWFpbiwgYW5jaG9yLCBzY2FsZSwgbGlmdCwgZ3JvdW5kKSB7XG4gIGNvbnN0IGQwID0gbGlmdChkb21haW5bMF0pLFxuICAgICAgICBkMSA9IGxpZnQocGVlayhkb21haW4pKSxcbiAgICAgICAgZGEgPSBhbmNob3IgIT0gbnVsbCA/IGxpZnQoYW5jaG9yKSA6IChkMCArIGQxKSAvIDI7XG4gIHJldHVybiBbZ3JvdW5kKGRhICsgKGQwIC0gZGEpICogc2NhbGUpLCBncm91bmQoZGEgKyAoZDEgLSBkYSkgKiBzY2FsZSldO1xufVxuXG5mdW5jdGlvbiB6b29tTGluZWFyKGRvbWFpbiwgYW5jaG9yLCBzY2FsZSkge1xuICByZXR1cm4gem9vbShkb21haW4sIGFuY2hvciwgc2NhbGUsIHRvTnVtYmVyLCBpZGVudGl0eSk7XG59XG5mdW5jdGlvbiB6b29tTG9nKGRvbWFpbiwgYW5jaG9yLCBzY2FsZSkge1xuICBjb25zdCBzaWduID0gTWF0aC5zaWduKGRvbWFpblswXSk7XG4gIHJldHVybiB6b29tKGRvbWFpbiwgYW5jaG9yLCBzY2FsZSwgbG9nJDEoc2lnbiksIGV4cChzaWduKSk7XG59XG5mdW5jdGlvbiB6b29tUG93KGRvbWFpbiwgYW5jaG9yLCBzY2FsZSwgZXhwb25lbnQpIHtcbiAgcmV0dXJuIHpvb20oZG9tYWluLCBhbmNob3IsIHNjYWxlLCBwb3coZXhwb25lbnQpLCBwb3coMSAvIGV4cG9uZW50KSk7XG59XG5mdW5jdGlvbiB6b29tU3ltbG9nKGRvbWFpbiwgYW5jaG9yLCBzY2FsZSwgY29uc3RhbnQpIHtcbiAgcmV0dXJuIHpvb20oZG9tYWluLCBhbmNob3IsIHNjYWxlLCBzeW1sb2coY29uc3RhbnQpLCBzeW1leHAoY29uc3RhbnQpKTtcbn1cblxuZnVuY3Rpb24gcXVhcnRlcihkYXRlKSB7XG4gIHJldHVybiAxICsgfn4obmV3IERhdGUoZGF0ZSkuZ2V0TW9udGgoKSAvIDMpO1xufVxuZnVuY3Rpb24gdXRjcXVhcnRlcihkYXRlKSB7XG4gIHJldHVybiAxICsgfn4obmV3IERhdGUoZGF0ZSkuZ2V0VVRDTW9udGgoKSAvIDMpO1xufVxuXG5mdW5jdGlvbiBhcnJheSAoXykge1xuICByZXR1cm4gXyAhPSBudWxsID8gaXNBcnJheShfKSA/IF8gOiBbX10gOiBbXTtcbn1cblxuLyoqXG4gKiBTcGFuLXByZXNlcnZpbmcgcmFuZ2UgY2xhbXAuIElmIHRoZSBzcGFuIG9mIHRoZSBpbnB1dCByYW5nZSBpcyBsZXNzXG4gKiB0aGFuIChtYXggLSBtaW4pIGFuZCBhbiBlbmRwb2ludCBleGNlZWRzIGVpdGhlciB0aGUgbWluIG9yIG1heCB2YWx1ZSxcbiAqIHRoZSByYW5nZSBpcyB0cmFuc2xhdGVkIHN1Y2ggdGhhdCB0aGUgc3BhbiBpcyBwcmVzZXJ2ZWQgYW5kIG9uZVxuICogZW5kcG9pbnQgdG91Y2hlcyB0aGUgYm91bmRhcnkgb2YgdGhlIG1pbi9tYXggcmFuZ2UuXG4gKiBJZiB0aGUgc3BhbiBleGNlZWRzIChtYXggLSBtaW4pLCB0aGUgcmFuZ2UgW21pbiwgbWF4XSBpcyByZXR1cm5lZC5cbiAqL1xuZnVuY3Rpb24gY2xhbXBSYW5nZSAocmFuZ2UsIG1pbiwgbWF4KSB7XG4gIGxldCBsbyA9IHJhbmdlWzBdLFxuICAgICAgaGkgPSByYW5nZVsxXSxcbiAgICAgIHNwYW47XG5cbiAgaWYgKGhpIDwgbG8pIHtcbiAgICBzcGFuID0gaGk7XG4gICAgaGkgPSBsbztcbiAgICBsbyA9IHNwYW47XG4gIH1cblxuICBzcGFuID0gaGkgLSBsbztcbiAgcmV0dXJuIHNwYW4gPj0gbWF4IC0gbWluID8gW21pbiwgbWF4XSA6IFtsbyA9IE1hdGgubWluKE1hdGgubWF4KGxvLCBtaW4pLCBtYXggLSBzcGFuKSwgbG8gKyBzcGFuXTtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbiAoXykge1xuICByZXR1cm4gdHlwZW9mIF8gPT09ICdmdW5jdGlvbic7XG59XG5cbmNvbnN0IERFU0NFTkRJTkcgPSAnZGVzY2VuZGluZyc7XG5mdW5jdGlvbiBjb21wYXJlIChmaWVsZHMsIG9yZGVycywgb3B0KSB7XG4gIG9wdCA9IG9wdCB8fCB7fTtcbiAgb3JkZXJzID0gYXJyYXkob3JkZXJzKSB8fCBbXTtcbiAgY29uc3Qgb3JkID0gW10sXG4gICAgICAgIGdldCA9IFtdLFxuICAgICAgICBmbWFwID0ge30sXG4gICAgICAgIGdlbiA9IG9wdC5jb21wYXJhdG9yIHx8IGNvbXBhcmF0b3I7XG4gIGFycmF5KGZpZWxkcykuZm9yRWFjaCgoZiwgaSkgPT4ge1xuICAgIGlmIChmID09IG51bGwpIHJldHVybjtcbiAgICBvcmQucHVzaChvcmRlcnNbaV0gPT09IERFU0NFTkRJTkcgPyAtMSA6IDEpO1xuICAgIGdldC5wdXNoKGYgPSBpc0Z1bmN0aW9uKGYpID8gZiA6IGZpZWxkKGYsIG51bGwsIG9wdCkpO1xuICAgIChhY2Nlc3NvckZpZWxkcyhmKSB8fCBbXSkuZm9yRWFjaChfID0+IGZtYXBbX10gPSAxKTtcbiAgfSk7XG4gIHJldHVybiBnZXQubGVuZ3RoID09PSAwID8gbnVsbCA6IGFjY2Vzc29yKGdlbihnZXQsIG9yZCksIE9iamVjdC5rZXlzKGZtYXApKTtcbn1cbmNvbnN0IGFzY2VuZGluZyA9ICh1LCB2KSA9PiAodSA8IHYgfHwgdSA9PSBudWxsKSAmJiB2ICE9IG51bGwgPyAtMSA6ICh1ID4gdiB8fCB2ID09IG51bGwpICYmIHUgIT0gbnVsbCA/IDEgOiAodiA9IHYgaW5zdGFuY2VvZiBEYXRlID8gK3YgOiB2LCB1ID0gdSBpbnN0YW5jZW9mIERhdGUgPyArdSA6IHUpICE9PSB1ICYmIHYgPT09IHYgPyAtMSA6IHYgIT09IHYgJiYgdSA9PT0gdSA/IDEgOiAwO1xuXG5jb25zdCBjb21wYXJhdG9yID0gKGZpZWxkcywgb3JkZXJzKSA9PiBmaWVsZHMubGVuZ3RoID09PSAxID8gY29tcGFyZTEoZmllbGRzWzBdLCBvcmRlcnNbMF0pIDogY29tcGFyZU4oZmllbGRzLCBvcmRlcnMsIGZpZWxkcy5sZW5ndGgpO1xuXG5jb25zdCBjb21wYXJlMSA9IChmaWVsZCwgb3JkZXIpID0+IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiBhc2NlbmRpbmcoZmllbGQoYSksIGZpZWxkKGIpKSAqIG9yZGVyO1xufTtcblxuY29uc3QgY29tcGFyZU4gPSAoZmllbGRzLCBvcmRlcnMsIG4pID0+IHtcbiAgb3JkZXJzLnB1c2goMCk7IC8vIHBhZCB6ZXJvIGZvciBjb252ZW5pZW50IGxvb2t1cFxuXG4gIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgIGxldCBmLFxuICAgICAgICBjID0gMCxcbiAgICAgICAgaSA9IC0xO1xuXG4gICAgd2hpbGUgKGMgPT09IDAgJiYgKytpIDwgbikge1xuICAgICAgZiA9IGZpZWxkc1tpXTtcbiAgICAgIGMgPSBhc2NlbmRpbmcoZihhKSwgZihiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGMgKiBvcmRlcnNbaV07XG4gIH07XG59O1xuXG5mdW5jdGlvbiBjb25zdGFudCAoXykge1xuICByZXR1cm4gaXNGdW5jdGlvbihfKSA/IF8gOiAoKSA9PiBfO1xufVxuXG5mdW5jdGlvbiBkZWJvdW5jZSAoZGVsYXksIGhhbmRsZXIpIHtcbiAgbGV0IHRpZDtcbiAgcmV0dXJuIGUgPT4ge1xuICAgIGlmICh0aWQpIGNsZWFyVGltZW91dCh0aWQpO1xuICAgIHRpZCA9IHNldFRpbWVvdXQoKCkgPT4gKGhhbmRsZXIoZSksIHRpZCA9IG51bGwpLCBkZWxheSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGV4dGVuZCAoXykge1xuICBmb3IgKGxldCB4LCBrLCBpID0gMSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgeCA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAoayBpbiB4KSB7XG4gICAgICBfW2tdID0geFtrXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gXztcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgd2l0aCBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlcywgaW4gdGhlXG4gKiBmb3JtIFttaW4sIG1heF0uIElnbm9yZXMgbnVsbCwgdW5kZWZpbmVkLCBhbmQgTmFOIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gZXh0ZW50IChhcnJheSwgZikge1xuICBsZXQgaSA9IDAsXG4gICAgICBuLFxuICAgICAgdixcbiAgICAgIG1pbixcbiAgICAgIG1heDtcblxuICBpZiAoYXJyYXkgJiYgKG4gPSBhcnJheS5sZW5ndGgpKSB7XG4gICAgaWYgKGYgPT0gbnVsbCkge1xuICAgICAgLy8gZmluZCBmaXJzdCB2YWxpZCB2YWx1ZVxuICAgICAgZm9yICh2ID0gYXJyYXlbaV07IGkgPCBuICYmICh2ID09IG51bGwgfHwgdiAhPT0gdik7IHYgPSBhcnJheVsrK2ldKTtcblxuICAgICAgbWluID0gbWF4ID0gdjsgLy8gdmlzaXQgYWxsIG90aGVyIHZhbHVlc1xuXG4gICAgICBmb3IgKDsgaSA8IG47ICsraSkge1xuICAgICAgICB2ID0gYXJyYXlbaV07IC8vIHNraXAgbnVsbC91bmRlZmluZWQ7IE5hTiB3aWxsIGZhaWwgYWxsIGNvbXBhcmlzb25zXG5cbiAgICAgICAgaWYgKHYgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICh2IDwgbWluKSBtaW4gPSB2O1xuICAgICAgICAgIGlmICh2ID4gbWF4KSBtYXggPSB2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZpbmQgZmlyc3QgdmFsaWQgdmFsdWVcbiAgICAgIGZvciAodiA9IGYoYXJyYXlbaV0pOyBpIDwgbiAmJiAodiA9PSBudWxsIHx8IHYgIT09IHYpOyB2ID0gZihhcnJheVsrK2ldKSk7XG5cbiAgICAgIG1pbiA9IG1heCA9IHY7IC8vIHZpc2l0IGFsbCBvdGhlciB2YWx1ZXNcblxuICAgICAgZm9yICg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgdiA9IGYoYXJyYXlbaV0pOyAvLyBza2lwIG51bGwvdW5kZWZpbmVkOyBOYU4gd2lsbCBmYWlsIGFsbCBjb21wYXJpc29uc1xuXG4gICAgICAgIGlmICh2ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAodiA8IG1pbikgbWluID0gdjtcbiAgICAgICAgICBpZiAodiA+IG1heCkgbWF4ID0gdjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbbWluLCBtYXhdO1xufVxuXG5mdW5jdGlvbiBleHRlbnRJbmRleCAoYXJyYXksIGYpIHtcbiAgY29uc3QgbiA9IGFycmF5Lmxlbmd0aDtcbiAgbGV0IGkgPSAtMSxcbiAgICAgIGEsXG4gICAgICBiLFxuICAgICAgYyxcbiAgICAgIHUsXG4gICAgICB2O1xuXG4gIGlmIChmID09IG51bGwpIHtcbiAgICB3aGlsZSAoKytpIDwgbikge1xuICAgICAgYiA9IGFycmF5W2ldO1xuXG4gICAgICBpZiAoYiAhPSBudWxsICYmIGIgPj0gYikge1xuICAgICAgICBhID0gYyA9IGI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpID09PSBuKSByZXR1cm4gWy0xLCAtMV07XG4gICAgdSA9IHYgPSBpO1xuXG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGIgPSBhcnJheVtpXTtcblxuICAgICAgaWYgKGIgIT0gbnVsbCkge1xuICAgICAgICBpZiAoYSA+IGIpIHtcbiAgICAgICAgICBhID0gYjtcbiAgICAgICAgICB1ID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgYikge1xuICAgICAgICAgIGMgPSBiO1xuICAgICAgICAgIHYgPSBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICBiID0gZihhcnJheVtpXSwgaSwgYXJyYXkpO1xuXG4gICAgICBpZiAoYiAhPSBudWxsICYmIGIgPj0gYikge1xuICAgICAgICBhID0gYyA9IGI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpID09PSBuKSByZXR1cm4gWy0xLCAtMV07XG4gICAgdSA9IHYgPSBpO1xuXG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGIgPSBmKGFycmF5W2ldLCBpLCBhcnJheSk7XG5cbiAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGEgPiBiKSB7XG4gICAgICAgICAgYSA9IGI7XG4gICAgICAgICAgdSA9IGk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IGIpIHtcbiAgICAgICAgICBjID0gYjtcbiAgICAgICAgICB2ID0gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbdSwgdl07XG59XG5cbmNvbnN0IGhvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBoYXMgKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIGhvcC5jYWxsKG9iamVjdCwgcHJvcGVydHkpO1xufVxuXG5jb25zdCBOVUxMID0ge307XG5mdW5jdGlvbiBmYXN0bWFwIChpbnB1dCkge1xuICBsZXQgb2JqID0ge30sXG4gICAgICB0ZXN0O1xuXG4gIGZ1bmN0aW9uIGhhcyQxKGtleSkge1xuICAgIHJldHVybiBoYXMob2JqLCBrZXkpICYmIG9ialtrZXldICE9PSBOVUxMO1xuICB9XG5cbiAgY29uc3QgbWFwID0ge1xuICAgIHNpemU6IDAsXG4gICAgZW1wdHk6IDAsXG4gICAgb2JqZWN0OiBvYmosXG4gICAgaGFzOiBoYXMkMSxcblxuICAgIGdldChrZXkpIHtcbiAgICAgIHJldHVybiBoYXMkMShrZXkpID8gb2JqW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfSxcblxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoIWhhcyQxKGtleSkpIHtcbiAgICAgICAgKyttYXAuc2l6ZTtcbiAgICAgICAgaWYgKG9ialtrZXldID09PSBOVUxMKSAtLW1hcC5lbXB0eTtcbiAgICAgIH1cblxuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICBpZiAoaGFzJDEoa2V5KSkge1xuICAgICAgICAtLW1hcC5zaXplO1xuICAgICAgICArK21hcC5lbXB0eTtcbiAgICAgICAgb2JqW2tleV0gPSBOVUxMO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgY2xlYXIoKSB7XG4gICAgICBtYXAuc2l6ZSA9IG1hcC5lbXB0eSA9IDA7XG4gICAgICBtYXAub2JqZWN0ID0gb2JqID0ge307XG4gICAgfSxcblxuICAgIHRlc3QoXykge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdGVzdCA9IF87XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGVzdDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2xlYW4oKSB7XG4gICAgICBjb25zdCBuZXh0ID0ge307XG4gICAgICBsZXQgc2l6ZSA9IDA7XG5cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gTlVMTCAmJiAoIXRlc3QgfHwgIXRlc3QodmFsdWUpKSkge1xuICAgICAgICAgIG5leHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICsrc2l6ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtYXAuc2l6ZSA9IHNpemU7XG4gICAgICBtYXAuZW1wdHkgPSAwO1xuICAgICAgbWFwLm9iamVjdCA9IG9iaiA9IG5leHQ7XG4gICAgfVxuXG4gIH07XG4gIGlmIChpbnB1dCkgT2JqZWN0LmtleXMoaW5wdXQpLmZvckVhY2goa2V5ID0+IHtcbiAgICBtYXAuc2V0KGtleSwgaW5wdXRba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gbWFwO1xufVxuXG5mdW5jdGlvbiBmbHVzaCAocmFuZ2UsIHZhbHVlLCB0aHJlc2hvbGQsIGxlZnQsIHJpZ2h0LCBjZW50ZXIpIHtcbiAgaWYgKCF0aHJlc2hvbGQgJiYgdGhyZXNob2xkICE9PSAwKSByZXR1cm4gY2VudGVyO1xuICBjb25zdCB0ID0gK3RocmVzaG9sZDtcbiAgbGV0IGEgPSByYW5nZVswXSxcbiAgICAgIGIgPSBwZWVrKHJhbmdlKSxcbiAgICAgIGw7IC8vIHN3YXAgZW5kcG9pbnRzIGlmIHJhbmdlIGlzIHJldmVyc2VkXG5cbiAgaWYgKGIgPCBhKSB7XG4gICAgbCA9IGE7XG4gICAgYSA9IGI7XG4gICAgYiA9IGw7XG4gIH0gLy8gY29tcGFyZSB2YWx1ZSB0byBlbmRwb2ludHNcblxuXG4gIGwgPSBNYXRoLmFicyh2YWx1ZSAtIGEpO1xuICBjb25zdCByID0gTWF0aC5hYnMoYiAtIHZhbHVlKTsgLy8gYWRqdXN0IGlmIHZhbHVlIGlzIHdpdGhpbiB0aHJlc2hvbGQgZGlzdGFuY2Ugb2YgZW5kcG9pbnRcblxuICByZXR1cm4gbCA8IHIgJiYgbCA8PSB0ID8gbGVmdCA6IHIgPD0gdCA/IHJpZ2h0IDogY2VudGVyO1xufVxuXG5mdW5jdGlvbiBpbmhlcml0cyAoY2hpbGQsIHBhcmVudCwgbWVtYmVycykge1xuICBjb25zdCBwcm90byA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIHByb3RvLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG4gIHJldHVybiBleHRlbmQocHJvdG8sIG1lbWJlcnMpO1xufVxuXG4vKipcbiAqIFByZWRpY2F0ZSB0aGF0IHJldHVybnMgdHJ1ZSBpZiB0aGUgdmFsdWUgbGllcyB3aXRoaW4gdGhlIHNwYW5cbiAqIG9mIHRoZSBnaXZlbiByYW5nZS4gVGhlIGxlZnQgYW5kIHJpZ2h0IGZsYWdzIGNvbnRyb2wgdGhlIHVzZVxuICogb2YgaW5jbHVzaXZlICh0cnVlKSBvciBleGNsdXNpdmUgKGZhbHNlKSBjb21wYXJpc29ucy5cbiAqL1xuZnVuY3Rpb24gaW5yYW5nZSAodmFsdWUsIHJhbmdlLCBsZWZ0LCByaWdodCkge1xuICBsZXQgcjAgPSByYW5nZVswXSxcbiAgICAgIHIxID0gcmFuZ2VbcmFuZ2UubGVuZ3RoIC0gMV0sXG4gICAgICB0O1xuXG4gIGlmIChyMCA+IHIxKSB7XG4gICAgdCA9IHIwO1xuICAgIHIwID0gcjE7XG4gICAgcjEgPSB0O1xuICB9XG5cbiAgbGVmdCA9IGxlZnQgPT09IHVuZGVmaW5lZCB8fCBsZWZ0O1xuICByaWdodCA9IHJpZ2h0ID09PSB1bmRlZmluZWQgfHwgcmlnaHQ7XG4gIHJldHVybiAobGVmdCA/IHIwIDw9IHZhbHVlIDogcjAgPCB2YWx1ZSkgJiYgKHJpZ2h0ID8gdmFsdWUgPD0gcjEgOiB2YWx1ZSA8IHIxKTtcbn1cblxuZnVuY3Rpb24gaXNCb29sZWFuIChfKSB7XG4gIHJldHVybiB0eXBlb2YgXyA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5mdW5jdGlvbiBpc0RhdGUgKF8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChfKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5mdW5jdGlvbiBpc0l0ZXJhYmxlIChfKSB7XG4gIHJldHVybiBfICYmIGlzRnVuY3Rpb24oX1tTeW1ib2wuaXRlcmF0b3JdKTtcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIgKF8pIHtcbiAgcmV0dXJuIHR5cGVvZiBfID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNSZWdFeHAgKF8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChfKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaW5nIChfKSB7XG4gIHJldHVybiB0eXBlb2YgXyA9PT0gJ3N0cmluZyc7XG59XG5cbmZ1bmN0aW9uIGtleSAoZmllbGRzLCBmbGF0LCBvcHQpIHtcbiAgaWYgKGZpZWxkcykge1xuICAgIGZpZWxkcyA9IGZsYXQgPyBhcnJheShmaWVsZHMpLm1hcChmID0+IGYucmVwbGFjZSgvXFxcXCguKS9nLCAnJDEnKSkgOiBhcnJheShmaWVsZHMpO1xuICB9XG5cbiAgY29uc3QgbGVuID0gZmllbGRzICYmIGZpZWxkcy5sZW5ndGgsXG4gICAgICAgIGdlbiA9IG9wdCAmJiBvcHQuZ2V0IHx8IGdldHRlcixcbiAgICAgICAgbWFwID0gZiA9PiBnZW4oZmxhdCA/IFtmXSA6IHNwbGl0QWNjZXNzUGF0aChmKSk7XG5cbiAgbGV0IGZuO1xuXG4gIGlmICghbGVuKSB7XG4gICAgZm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfTtcbiAgfSBlbHNlIGlmIChsZW4gPT09IDEpIHtcbiAgICBjb25zdCBnZXQgPSBtYXAoZmllbGRzWzBdKTtcblxuICAgIGZuID0gZnVuY3Rpb24gKF8pIHtcbiAgICAgIHJldHVybiAnJyArIGdldChfKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGdldCA9IGZpZWxkcy5tYXAobWFwKTtcblxuICAgIGZuID0gZnVuY3Rpb24gKF8pIHtcbiAgICAgIGxldCBzID0gJycgKyBnZXRbMF0oXyksXG4gICAgICAgICAgaSA9IDA7XG5cbiAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHMgKz0gJ3wnICsgZ2V0W2ldKF8pO1xuXG4gICAgICByZXR1cm4gcztcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGFjY2Vzc29yKGZuLCBmaWVsZHMsICdrZXknKTtcbn1cblxuZnVuY3Rpb24gbGVycCAoYXJyYXksIGZyYWMpIHtcbiAgY29uc3QgbG8gPSBhcnJheVswXSxcbiAgICAgICAgaGkgPSBwZWVrKGFycmF5KSxcbiAgICAgICAgZiA9ICtmcmFjO1xuICByZXR1cm4gIWYgPyBsbyA6IGYgPT09IDEgPyBoaSA6IGxvICsgZiAqIChoaSAtIGxvKTtcbn1cblxuY29uc3QgREVGQVVMVF9NQVhfU0laRSA9IDEwMDAwOyAvLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2RvbWluaWN0YXJyL2hhc2hscnUvIChNSVQgTGljZW5zZSlcblxuZnVuY3Rpb24gbHJ1Q2FjaGUgKG1heHNpemUpIHtcbiAgbWF4c2l6ZSA9ICttYXhzaXplIHx8IERFRkFVTFRfTUFYX1NJWkU7XG4gIGxldCBjdXJyLCBwcmV2LCBzaXplO1xuXG4gIGNvbnN0IGNsZWFyID0gKCkgPT4ge1xuICAgIGN1cnIgPSB7fTtcbiAgICBwcmV2ID0ge307XG4gICAgc2l6ZSA9IDA7XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICBpZiAoKytzaXplID4gbWF4c2l6ZSkge1xuICAgICAgcHJldiA9IGN1cnI7XG4gICAgICBjdXJyID0ge307XG4gICAgICBzaXplID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycltrZXldID0gdmFsdWU7XG4gIH07XG5cbiAgY2xlYXIoKTtcbiAgcmV0dXJuIHtcbiAgICBjbGVhcixcbiAgICBoYXM6IGtleSA9PiBoYXMoY3Vyciwga2V5KSB8fCBoYXMocHJldiwga2V5KSxcbiAgICBnZXQ6IGtleSA9PiBoYXMoY3Vyciwga2V5KSA/IGN1cnJba2V5XSA6IGhhcyhwcmV2LCBrZXkpID8gdXBkYXRlKGtleSwgcHJldltrZXldKSA6IHVuZGVmaW5lZCxcbiAgICBzZXQ6IChrZXksIHZhbHVlKSA9PiBoYXMoY3Vyciwga2V5KSA/IGN1cnJba2V5XSA9IHZhbHVlIDogdXBkYXRlKGtleSwgdmFsdWUpXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1lcmdlIChjb21wYXJlLCBhcnJheTAsIGFycmF5MSwgb3V0cHV0KSB7XG4gIGNvbnN0IG4wID0gYXJyYXkwLmxlbmd0aCxcbiAgICAgICAgbjEgPSBhcnJheTEubGVuZ3RoO1xuICBpZiAoIW4xKSByZXR1cm4gYXJyYXkwO1xuICBpZiAoIW4wKSByZXR1cm4gYXJyYXkxO1xuICBjb25zdCBtZXJnZWQgPSBvdXRwdXQgfHwgbmV3IGFycmF5MC5jb25zdHJ1Y3RvcihuMCArIG4xKTtcbiAgbGV0IGkwID0gMCxcbiAgICAgIGkxID0gMCxcbiAgICAgIGkgPSAwO1xuXG4gIGZvciAoOyBpMCA8IG4wICYmIGkxIDwgbjE7ICsraSkge1xuICAgIG1lcmdlZFtpXSA9IGNvbXBhcmUoYXJyYXkwW2kwXSwgYXJyYXkxW2kxXSkgPiAwID8gYXJyYXkxW2kxKytdIDogYXJyYXkwW2kwKytdO1xuICB9XG5cbiAgZm9yICg7IGkwIDwgbjA7ICsraTAsICsraSkge1xuICAgIG1lcmdlZFtpXSA9IGFycmF5MFtpMF07XG4gIH1cblxuICBmb3IgKDsgaTEgPCBuMTsgKytpMSwgKytpKSB7XG4gICAgbWVyZ2VkW2ldID0gYXJyYXkxW2kxXTtcbiAgfVxuXG4gIHJldHVybiBtZXJnZWQ7XG59XG5cbmZ1bmN0aW9uIHJlcGVhdCAoc3RyLCByZXBzKSB7XG4gIGxldCBzID0gJyc7XG5cbiAgd2hpbGUgKC0tcmVwcyA+PSAwKSBzICs9IHN0cjtcblxuICByZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gcGFkIChzdHIsIGxlbmd0aCwgcGFkY2hhciwgYWxpZ24pIHtcbiAgY29uc3QgYyA9IHBhZGNoYXIgfHwgJyAnLFxuICAgICAgICBzID0gc3RyICsgJycsXG4gICAgICAgIG4gPSBsZW5ndGggLSBzLmxlbmd0aDtcbiAgcmV0dXJuIG4gPD0gMCA/IHMgOiBhbGlnbiA9PT0gJ2xlZnQnID8gcmVwZWF0KGMsIG4pICsgcyA6IGFsaWduID09PSAnY2VudGVyJyA/IHJlcGVhdChjLCB+fihuIC8gMikpICsgcyArIHJlcGVhdChjLCBNYXRoLmNlaWwobiAvIDIpKSA6IHMgKyByZXBlYXQoYywgbik7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1lcmljYWwgc3BhbiBvZiBhbiBhcnJheTogdGhlIGRpZmZlcmVuY2UgYmV0d2VlblxuICogdGhlIGxhc3QgYW5kIGZpcnN0IHZhbHVlcy5cbiAqL1xuXG5mdW5jdGlvbiBzcGFuIChhcnJheSkge1xuICByZXR1cm4gYXJyYXkgJiYgcGVlayhhcnJheSkgLSBhcnJheVswXSB8fCAwO1xufVxuXG5mdW5jdGlvbiAkKHgpIHtcbiAgcmV0dXJuIGlzQXJyYXkoeCkgPyAnWycgKyB4Lm1hcCgkKSArICddJyA6IGlzT2JqZWN0KHgpIHx8IGlzU3RyaW5nKHgpID8gLy8gT3V0cHV0IHZhbGlkIEpTT04gYW5kIEpTIHNvdXJjZSBzdHJpbmdzLlxuICAvLyBTZWUgaHR0cDovL3RpbWVsZXNzcmVwby5jb20vanNvbi1pc250LWEtamF2YXNjcmlwdC1zdWJzZXRcbiAgSlNPTi5zdHJpbmdpZnkoeCkucmVwbGFjZSgnXFx1MjAyOCcsICdcXFxcdTIwMjgnKS5yZXBsYWNlKCdcXHUyMDI5JywgJ1xcXFx1MjAyOScpIDogeDtcbn1cblxuZnVuY3Rpb24gdG9Cb29sZWFuIChfKSB7XG4gIHJldHVybiBfID09IG51bGwgfHwgXyA9PT0gJycgPyBudWxsIDogIV8gfHwgXyA9PT0gJ2ZhbHNlJyB8fCBfID09PSAnMCcgPyBmYWxzZSA6ICEhXztcbn1cblxuY29uc3QgZGVmYXVsdFBhcnNlciA9IF8gPT4gaXNOdW1iZXIoXykgPyBfIDogaXNEYXRlKF8pID8gXyA6IERhdGUucGFyc2UoXyk7XG5cbmZ1bmN0aW9uIHRvRGF0ZSAoXywgcGFyc2VyKSB7XG4gIHBhcnNlciA9IHBhcnNlciB8fCBkZWZhdWx0UGFyc2VyO1xuICByZXR1cm4gXyA9PSBudWxsIHx8IF8gPT09ICcnID8gbnVsbCA6IHBhcnNlcihfKTtcbn1cblxuZnVuY3Rpb24gdG9TdHJpbmcgKF8pIHtcbiAgcmV0dXJuIF8gPT0gbnVsbCB8fCBfID09PSAnJyA/IG51bGwgOiBfICsgJyc7XG59XG5cbmZ1bmN0aW9uIHRvU2V0IChfKSB7XG4gIGNvbnN0IHMgPSB7fSxcbiAgICAgICAgbiA9IF8ubGVuZ3RoO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSBzW19baV1dID0gdHJ1ZTtcblxuICByZXR1cm4gcztcbn1cblxuZnVuY3Rpb24gdHJ1bmNhdGUgKHN0ciwgbGVuZ3RoLCBhbGlnbiwgZWxsaXBzaXMpIHtcbiAgY29uc3QgZSA9IGVsbGlwc2lzICE9IG51bGwgPyBlbGxpcHNpcyA6ICdcXHUyMDI2JyxcbiAgICAgICAgcyA9IHN0ciArICcnLFxuICAgICAgICBuID0gcy5sZW5ndGgsXG4gICAgICAgIGwgPSBNYXRoLm1heCgwLCBsZW5ndGggLSBlLmxlbmd0aCk7XG4gIHJldHVybiBuIDw9IGxlbmd0aCA/IHMgOiBhbGlnbiA9PT0gJ2xlZnQnID8gZSArIHMuc2xpY2UobiAtIGwpIDogYWxpZ24gPT09ICdjZW50ZXInID8gcy5zbGljZSgwLCBNYXRoLmNlaWwobCAvIDIpKSArIGUgKyBzLnNsaWNlKG4gLSB+fihsIC8gMikpIDogcy5zbGljZSgwLCBsKSArIGU7XG59XG5cbmZ1bmN0aW9uIHZpc2l0QXJyYXkgKGFycmF5LCBmaWx0ZXIsIHZpc2l0b3IpIHtcbiAgaWYgKGFycmF5KSB7XG4gICAgaWYgKGZpbHRlcikge1xuICAgICAgY29uc3QgbiA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgY29uc3QgdCA9IGZpbHRlcihhcnJheVtpXSk7XG4gICAgICAgIGlmICh0KSB2aXNpdG9yKHQsIGksIGFycmF5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJyYXkuZm9yRWFjaCh2aXNpdG9yKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgRGVidWcsIEVycm9yJDEgYXMgRXJyb3IsIEluZm8sIE5vbmUsIFdhcm4sIGFjY2Vzc29yLCBhY2Nlc3NvckZpZWxkcywgYWNjZXNzb3JOYW1lLCBhcnJheSwgYXNjZW5kaW5nLCBjbGFtcFJhbmdlLCBjb21wYXJlLCBjb25zdGFudCwgZGVib3VuY2UsIGVycm9yLCBleHRlbmQsIGV4dGVudCwgZXh0ZW50SW5kZXgsIGZhbHN5LCBmYXN0bWFwLCBmaWVsZCwgZmx1c2gsIGhhcyBhcyBoYXNPd25Qcm9wZXJ0eSwgaWQsIGlkZW50aXR5LCBpbmhlcml0cywgaW5yYW5nZSwgaXNBcnJheSwgaXNCb29sZWFuLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzSXRlcmFibGUsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNSZWdFeHAsIGlzU3RyaW5nLCBrZXksIGxlcnAsIGxvZ2dlciwgbHJ1Q2FjaGUsIG1lcmdlLCBtZXJnZUNvbmZpZywgb25lLCBwYWQsIHBhbkxpbmVhciwgcGFuTG9nLCBwYW5Qb3csIHBhblN5bWxvZywgcGVlaywgcXVhcnRlciwgcmVwZWF0LCBzcGFuLCBzcGxpdEFjY2Vzc1BhdGgsICQgYXMgc3RyaW5nVmFsdWUsIHRvQm9vbGVhbiwgdG9EYXRlLCB0b051bWJlciwgdG9TZXQsIHRvU3RyaW5nLCB0cnVuY2F0ZSwgdHJ1dGh5LCB1dGNxdWFydGVyLCB2aXNpdEFycmF5LCB3cml0ZUNvbmZpZywgemVybywgem9vbUxpbmVhciwgem9vbUxvZywgem9vbVBvdywgem9vbVN5bWxvZyB9O1xuIiwiaW1wb3J0IHsgZXJyb3IsIHRvU2V0LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaGFzT3duUHJvcGVydHkgfSBmcm9tICd2ZWdhLXV0aWwnO1xuXG5jb25zdCBSYXdDb2RlID0gJ1Jhd0NvZGUnO1xuY29uc3QgTGl0ZXJhbCA9ICdMaXRlcmFsJztcbmNvbnN0IFByb3BlcnR5ID0gJ1Byb3BlcnR5JztcbmNvbnN0IElkZW50aWZpZXIgPSAnSWRlbnRpZmllcic7XG5jb25zdCBBcnJheUV4cHJlc3Npb24gPSAnQXJyYXlFeHByZXNzaW9uJztcbmNvbnN0IEJpbmFyeUV4cHJlc3Npb24gPSAnQmluYXJ5RXhwcmVzc2lvbic7XG5jb25zdCBDYWxsRXhwcmVzc2lvbiA9ICdDYWxsRXhwcmVzc2lvbic7XG5jb25zdCBDb25kaXRpb25hbEV4cHJlc3Npb24gPSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJztcbmNvbnN0IExvZ2ljYWxFeHByZXNzaW9uID0gJ0xvZ2ljYWxFeHByZXNzaW9uJztcbmNvbnN0IE1lbWJlckV4cHJlc3Npb24gPSAnTWVtYmVyRXhwcmVzc2lvbic7XG5jb25zdCBPYmplY3RFeHByZXNzaW9uID0gJ09iamVjdEV4cHJlc3Npb24nO1xuY29uc3QgVW5hcnlFeHByZXNzaW9uID0gJ1VuYXJ5RXhwcmVzc2lvbic7XG5mdW5jdGlvbiBBU1ROb2RlKHR5cGUpIHtcbiAgdGhpcy50eXBlID0gdHlwZTtcbn1cblxuQVNUTm9kZS5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvcikge1xuICBsZXQgYywgaSwgbjtcbiAgaWYgKHZpc2l0b3IodGhpcykpIHJldHVybiAxO1xuXG4gIGZvciAoYyA9IGNoaWxkcmVuKHRoaXMpLCBpID0gMCwgbiA9IGMubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgaWYgKGNbaV0udmlzaXQodmlzaXRvcikpIHJldHVybiAxO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjaGlsZHJlbihub2RlKSB7XG4gIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgY2FzZSBBcnJheUV4cHJlc3Npb246XG4gICAgICByZXR1cm4gbm9kZS5lbGVtZW50cztcblxuICAgIGNhc2UgQmluYXJ5RXhwcmVzc2lvbjpcbiAgICBjYXNlIExvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgcmV0dXJuIFtub2RlLmxlZnQsIG5vZGUucmlnaHRdO1xuXG4gICAgY2FzZSBDYWxsRXhwcmVzc2lvbjpcbiAgICAgIHJldHVybiBbbm9kZS5jYWxsZWVdLmNvbmNhdChub2RlLmFyZ3VtZW50cyk7XG5cbiAgICBjYXNlIENvbmRpdGlvbmFsRXhwcmVzc2lvbjpcbiAgICAgIHJldHVybiBbbm9kZS50ZXN0LCBub2RlLmNvbnNlcXVlbnQsIG5vZGUuYWx0ZXJuYXRlXTtcblxuICAgIGNhc2UgTWVtYmVyRXhwcmVzc2lvbjpcbiAgICAgIHJldHVybiBbbm9kZS5vYmplY3QsIG5vZGUucHJvcGVydHldO1xuXG4gICAgY2FzZSBPYmplY3RFeHByZXNzaW9uOlxuICAgICAgcmV0dXJuIG5vZGUucHJvcGVydGllcztcblxuICAgIGNhc2UgUHJvcGVydHk6XG4gICAgICByZXR1cm4gW25vZGUua2V5LCBub2RlLnZhbHVlXTtcblxuICAgIGNhc2UgVW5hcnlFeHByZXNzaW9uOlxuICAgICAgcmV0dXJuIFtub2RlLmFyZ3VtZW50XTtcblxuICAgIGNhc2UgSWRlbnRpZmllcjpcbiAgICBjYXNlIExpdGVyYWw6XG4gICAgY2FzZSBSYXdDb2RlOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW107XG4gIH1cbn1cblxuLypcbiAgVGhlIGZvbGxvd2luZyBleHByZXNzaW9uIHBhcnNlciBpcyBiYXNlZCBvbiBFc3ByaW1hIChodHRwOi8vZXNwcmltYS5vcmcvKS5cbiAgT3JpZ2luYWwgaGVhZGVyIGNvbW1lbnQgYW5kIGxpY2Vuc2UgZm9yIEVzcHJpbWEgaXMgaW5jbHVkZWQgaGVyZTpcblxuICBDb3B5cmlnaHQgKEMpIDIwMTMgQXJpeWEgSGlkYXlhdCA8YXJpeWEuaGlkYXlhdEBnbWFpbC5jb20+XG4gIENvcHlyaWdodCAoQykgMjAxMyBUaGFkZGVlIFR5bCA8dGhhZGRlZS50eWxAZ21haWwuY29tPlxuICBDb3B5cmlnaHQgKEMpIDIwMTMgTWF0aGlhcyBCeW5lbnMgPG1hdGhpYXNAcWl3aS5iZT5cbiAgQ29weXJpZ2h0IChDKSAyMDEyIEFyaXlhIEhpZGF5YXQgPGFyaXlhLmhpZGF5YXRAZ21haWwuY29tPlxuICBDb3B5cmlnaHQgKEMpIDIwMTIgTWF0aGlhcyBCeW5lbnMgPG1hdGhpYXNAcWl3aS5iZT5cbiAgQ29weXJpZ2h0IChDKSAyMDEyIEpvb3N0LVdpbSBCb2VrZXN0ZWlqbiA8am9vc3Qtd2ltQGJvZWtlc3RlaWpuLm5sPlxuICBDb3B5cmlnaHQgKEMpIDIwMTIgS3JpcyBLb3dhbCA8a3Jpcy5rb3dhbEBjaXhhci5jb20+XG4gIENvcHlyaWdodCAoQykgMjAxMiBZdXN1a2UgU3V6dWtpIDx1dGF0YW5lLnRlYUBnbWFpbC5jb20+XG4gIENvcHlyaWdodCAoQykgMjAxMiBBcnBhZCBCb3Jzb3MgPGFycGFkLmJvcnNvc0Bnb29nbGVtYWlsLmNvbT5cbiAgQ29weXJpZ2h0IChDKSAyMDExIEFyaXlhIEhpZGF5YXQgPGFyaXlhLmhpZGF5YXRAZ21haWwuY29tPlxuXG4gIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblxuICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gICAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEVcbiAgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0VcbiAgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIDxDT1BZUklHSFQgSE9MREVSPiBCRSBMSUFCTEUgRk9SIEFOWVxuICBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuICAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gIExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORFxuICBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuICAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0ZcbiAgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiovXG52YXIgVG9rZW5OYW1lLCBzb3VyY2UsIGluZGV4LCBsZW5ndGgsIGxvb2thaGVhZDtcbnZhciBUb2tlbkJvb2xlYW5MaXRlcmFsID0gMSxcbiAgICBUb2tlbkVPRiA9IDIsXG4gICAgVG9rZW5JZGVudGlmaWVyID0gMyxcbiAgICBUb2tlbktleXdvcmQgPSA0LFxuICAgIFRva2VuTnVsbExpdGVyYWwgPSA1LFxuICAgIFRva2VuTnVtZXJpY0xpdGVyYWwgPSA2LFxuICAgIFRva2VuUHVuY3R1YXRvciA9IDcsXG4gICAgVG9rZW5TdHJpbmdMaXRlcmFsID0gOCxcbiAgICBUb2tlblJlZ3VsYXJFeHByZXNzaW9uID0gOTtcblRva2VuTmFtZSA9IHt9O1xuVG9rZW5OYW1lW1Rva2VuQm9vbGVhbkxpdGVyYWxdID0gJ0Jvb2xlYW4nO1xuVG9rZW5OYW1lW1Rva2VuRU9GXSA9ICc8ZW5kPic7XG5Ub2tlbk5hbWVbVG9rZW5JZGVudGlmaWVyXSA9ICdJZGVudGlmaWVyJztcblRva2VuTmFtZVtUb2tlbktleXdvcmRdID0gJ0tleXdvcmQnO1xuVG9rZW5OYW1lW1Rva2VuTnVsbExpdGVyYWxdID0gJ051bGwnO1xuVG9rZW5OYW1lW1Rva2VuTnVtZXJpY0xpdGVyYWxdID0gJ051bWVyaWMnO1xuVG9rZW5OYW1lW1Rva2VuUHVuY3R1YXRvcl0gPSAnUHVuY3R1YXRvcic7XG5Ub2tlbk5hbWVbVG9rZW5TdHJpbmdMaXRlcmFsXSA9ICdTdHJpbmcnO1xuVG9rZW5OYW1lW1Rva2VuUmVndWxhckV4cHJlc3Npb25dID0gJ1JlZ3VsYXJFeHByZXNzaW9uJztcbnZhciBTeW50YXhBcnJheUV4cHJlc3Npb24gPSAnQXJyYXlFeHByZXNzaW9uJyxcbiAgICBTeW50YXhCaW5hcnlFeHByZXNzaW9uID0gJ0JpbmFyeUV4cHJlc3Npb24nLFxuICAgIFN5bnRheENhbGxFeHByZXNzaW9uID0gJ0NhbGxFeHByZXNzaW9uJyxcbiAgICBTeW50YXhDb25kaXRpb25hbEV4cHJlc3Npb24gPSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJyxcbiAgICBTeW50YXhJZGVudGlmaWVyID0gJ0lkZW50aWZpZXInLFxuICAgIFN5bnRheExpdGVyYWwgPSAnTGl0ZXJhbCcsXG4gICAgU3ludGF4TG9naWNhbEV4cHJlc3Npb24gPSAnTG9naWNhbEV4cHJlc3Npb24nLFxuICAgIFN5bnRheE1lbWJlckV4cHJlc3Npb24gPSAnTWVtYmVyRXhwcmVzc2lvbicsXG4gICAgU3ludGF4T2JqZWN0RXhwcmVzc2lvbiA9ICdPYmplY3RFeHByZXNzaW9uJyxcbiAgICBTeW50YXhQcm9wZXJ0eSA9ICdQcm9wZXJ0eScsXG4gICAgU3ludGF4VW5hcnlFeHByZXNzaW9uID0gJ1VuYXJ5RXhwcmVzc2lvbic7IC8vIEVycm9yIG1lc3NhZ2VzIHNob3VsZCBiZSBpZGVudGljYWwgdG8gVjguXG5cbnZhciBNZXNzYWdlVW5leHBlY3RlZFRva2VuID0gJ1VuZXhwZWN0ZWQgdG9rZW4gJTAnLFxuICAgIE1lc3NhZ2VVbmV4cGVjdGVkTnVtYmVyID0gJ1VuZXhwZWN0ZWQgbnVtYmVyJyxcbiAgICBNZXNzYWdlVW5leHBlY3RlZFN0cmluZyA9ICdVbmV4cGVjdGVkIHN0cmluZycsXG4gICAgTWVzc2FnZVVuZXhwZWN0ZWRJZGVudGlmaWVyID0gJ1VuZXhwZWN0ZWQgaWRlbnRpZmllcicsXG4gICAgTWVzc2FnZVVuZXhwZWN0ZWRSZXNlcnZlZCA9ICdVbmV4cGVjdGVkIHJlc2VydmVkIHdvcmQnLFxuICAgIE1lc3NhZ2VVbmV4cGVjdGVkRU9TID0gJ1VuZXhwZWN0ZWQgZW5kIG9mIGlucHV0JyxcbiAgICBNZXNzYWdlSW52YWxpZFJlZ0V4cCA9ICdJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvbicsXG4gICAgTWVzc2FnZVVudGVybWluYXRlZFJlZ0V4cCA9ICdJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvbjogbWlzc2luZyAvJyxcbiAgICBNZXNzYWdlU3RyaWN0T2N0YWxMaXRlcmFsID0gJ09jdGFsIGxpdGVyYWxzIGFyZSBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZS4nLFxuICAgIE1lc3NhZ2VTdHJpY3REdXBsaWNhdGVQcm9wZXJ0eSA9ICdEdXBsaWNhdGUgZGF0YSBwcm9wZXJ0eSBpbiBvYmplY3QgbGl0ZXJhbCBub3QgYWxsb3dlZCBpbiBzdHJpY3QgbW9kZSc7XG52YXIgSUxMRUdBTCA9ICdJTExFR0FMJyxcbiAgICBESVNBQkxFRCA9ICdEaXNhYmxlZC4nOyAvLyBTZWUgYWxzbyB0b29scy9nZW5lcmF0ZS11bmljb2RlLXJlZ2V4LnB5LlxuXG52YXIgUmVnZXhOb25Bc2NpaUlkZW50aWZpZXJTdGFydCA9IG5ldyBSZWdFeHAoJ1tcXFxceEFBXFxcXHhCNVxcXFx4QkFcXFxceEMwLVxcXFx4RDZcXFxceEQ4LVxcXFx4RjZcXFxceEY4LVxcXFx1MDJDMVxcXFx1MDJDNi1cXFxcdTAyRDFcXFxcdTAyRTAtXFxcXHUwMkU0XFxcXHUwMkVDXFxcXHUwMkVFXFxcXHUwMzcwLVxcXFx1MDM3NFxcXFx1MDM3NlxcXFx1MDM3N1xcXFx1MDM3QS1cXFxcdTAzN0RcXFxcdTAzN0ZcXFxcdTAzODZcXFxcdTAzODgtXFxcXHUwMzhBXFxcXHUwMzhDXFxcXHUwMzhFLVxcXFx1MDNBMVxcXFx1MDNBMy1cXFxcdTAzRjVcXFxcdTAzRjctXFxcXHUwNDgxXFxcXHUwNDhBLVxcXFx1MDUyRlxcXFx1MDUzMS1cXFxcdTA1NTZcXFxcdTA1NTlcXFxcdTA1NjEtXFxcXHUwNTg3XFxcXHUwNUQwLVxcXFx1MDVFQVxcXFx1MDVGMC1cXFxcdTA1RjJcXFxcdTA2MjAtXFxcXHUwNjRBXFxcXHUwNjZFXFxcXHUwNjZGXFxcXHUwNjcxLVxcXFx1MDZEM1xcXFx1MDZENVxcXFx1MDZFNVxcXFx1MDZFNlxcXFx1MDZFRVxcXFx1MDZFRlxcXFx1MDZGQS1cXFxcdTA2RkNcXFxcdTA2RkZcXFxcdTA3MTBcXFxcdTA3MTItXFxcXHUwNzJGXFxcXHUwNzRELVxcXFx1MDdBNVxcXFx1MDdCMVxcXFx1MDdDQS1cXFxcdTA3RUFcXFxcdTA3RjRcXFxcdTA3RjVcXFxcdTA3RkFcXFxcdTA4MDAtXFxcXHUwODE1XFxcXHUwODFBXFxcXHUwODI0XFxcXHUwODI4XFxcXHUwODQwLVxcXFx1MDg1OFxcXFx1MDhBMC1cXFxcdTA4QjJcXFxcdTA5MDQtXFxcXHUwOTM5XFxcXHUwOTNEXFxcXHUwOTUwXFxcXHUwOTU4LVxcXFx1MDk2MVxcXFx1MDk3MS1cXFxcdTA5ODBcXFxcdTA5ODUtXFxcXHUwOThDXFxcXHUwOThGXFxcXHUwOTkwXFxcXHUwOTkzLVxcXFx1MDlBOFxcXFx1MDlBQS1cXFxcdTA5QjBcXFxcdTA5QjJcXFxcdTA5QjYtXFxcXHUwOUI5XFxcXHUwOUJEXFxcXHUwOUNFXFxcXHUwOURDXFxcXHUwOUREXFxcXHUwOURGLVxcXFx1MDlFMVxcXFx1MDlGMFxcXFx1MDlGMVxcXFx1MEEwNS1cXFxcdTBBMEFcXFxcdTBBMEZcXFxcdTBBMTBcXFxcdTBBMTMtXFxcXHUwQTI4XFxcXHUwQTJBLVxcXFx1MEEzMFxcXFx1MEEzMlxcXFx1MEEzM1xcXFx1MEEzNVxcXFx1MEEzNlxcXFx1MEEzOFxcXFx1MEEzOVxcXFx1MEE1OS1cXFxcdTBBNUNcXFxcdTBBNUVcXFxcdTBBNzItXFxcXHUwQTc0XFxcXHUwQTg1LVxcXFx1MEE4RFxcXFx1MEE4Ri1cXFxcdTBBOTFcXFxcdTBBOTMtXFxcXHUwQUE4XFxcXHUwQUFBLVxcXFx1MEFCMFxcXFx1MEFCMlxcXFx1MEFCM1xcXFx1MEFCNS1cXFxcdTBBQjlcXFxcdTBBQkRcXFxcdTBBRDBcXFxcdTBBRTBcXFxcdTBBRTFcXFxcdTBCMDUtXFxcXHUwQjBDXFxcXHUwQjBGXFxcXHUwQjEwXFxcXHUwQjEzLVxcXFx1MEIyOFxcXFx1MEIyQS1cXFxcdTBCMzBcXFxcdTBCMzJcXFxcdTBCMzNcXFxcdTBCMzUtXFxcXHUwQjM5XFxcXHUwQjNEXFxcXHUwQjVDXFxcXHUwQjVEXFxcXHUwQjVGLVxcXFx1MEI2MVxcXFx1MEI3MVxcXFx1MEI4M1xcXFx1MEI4NS1cXFxcdTBCOEFcXFxcdTBCOEUtXFxcXHUwQjkwXFxcXHUwQjkyLVxcXFx1MEI5NVxcXFx1MEI5OVxcXFx1MEI5QVxcXFx1MEI5Q1xcXFx1MEI5RVxcXFx1MEI5RlxcXFx1MEJBM1xcXFx1MEJBNFxcXFx1MEJBOC1cXFxcdTBCQUFcXFxcdTBCQUUtXFxcXHUwQkI5XFxcXHUwQkQwXFxcXHUwQzA1LVxcXFx1MEMwQ1xcXFx1MEMwRS1cXFxcdTBDMTBcXFxcdTBDMTItXFxcXHUwQzI4XFxcXHUwQzJBLVxcXFx1MEMzOVxcXFx1MEMzRFxcXFx1MEM1OFxcXFx1MEM1OVxcXFx1MEM2MFxcXFx1MEM2MVxcXFx1MEM4NS1cXFxcdTBDOENcXFxcdTBDOEUtXFxcXHUwQzkwXFxcXHUwQzkyLVxcXFx1MENBOFxcXFx1MENBQS1cXFxcdTBDQjNcXFxcdTBDQjUtXFxcXHUwQ0I5XFxcXHUwQ0JEXFxcXHUwQ0RFXFxcXHUwQ0UwXFxcXHUwQ0UxXFxcXHUwQ0YxXFxcXHUwQ0YyXFxcXHUwRDA1LVxcXFx1MEQwQ1xcXFx1MEQwRS1cXFxcdTBEMTBcXFxcdTBEMTItXFxcXHUwRDNBXFxcXHUwRDNEXFxcXHUwRDRFXFxcXHUwRDYwXFxcXHUwRDYxXFxcXHUwRDdBLVxcXFx1MEQ3RlxcXFx1MEQ4NS1cXFxcdTBEOTZcXFxcdTBEOUEtXFxcXHUwREIxXFxcXHUwREIzLVxcXFx1MERCQlxcXFx1MERCRFxcXFx1MERDMC1cXFxcdTBEQzZcXFxcdTBFMDEtXFxcXHUwRTMwXFxcXHUwRTMyXFxcXHUwRTMzXFxcXHUwRTQwLVxcXFx1MEU0NlxcXFx1MEU4MVxcXFx1MEU4MlxcXFx1MEU4NFxcXFx1MEU4N1xcXFx1MEU4OFxcXFx1MEU4QVxcXFx1MEU4RFxcXFx1MEU5NC1cXFxcdTBFOTdcXFxcdTBFOTktXFxcXHUwRTlGXFxcXHUwRUExLVxcXFx1MEVBM1xcXFx1MEVBNVxcXFx1MEVBN1xcXFx1MEVBQVxcXFx1MEVBQlxcXFx1MEVBRC1cXFxcdTBFQjBcXFxcdTBFQjJcXFxcdTBFQjNcXFxcdTBFQkRcXFxcdTBFQzAtXFxcXHUwRUM0XFxcXHUwRUM2XFxcXHUwRURDLVxcXFx1MEVERlxcXFx1MEYwMFxcXFx1MEY0MC1cXFxcdTBGNDdcXFxcdTBGNDktXFxcXHUwRjZDXFxcXHUwRjg4LVxcXFx1MEY4Q1xcXFx1MTAwMC1cXFxcdTEwMkFcXFxcdTEwM0ZcXFxcdTEwNTAtXFxcXHUxMDU1XFxcXHUxMDVBLVxcXFx1MTA1RFxcXFx1MTA2MVxcXFx1MTA2NVxcXFx1MTA2NlxcXFx1MTA2RS1cXFxcdTEwNzBcXFxcdTEwNzUtXFxcXHUxMDgxXFxcXHUxMDhFXFxcXHUxMEEwLVxcXFx1MTBDNVxcXFx1MTBDN1xcXFx1MTBDRFxcXFx1MTBEMC1cXFxcdTEwRkFcXFxcdTEwRkMtXFxcXHUxMjQ4XFxcXHUxMjRBLVxcXFx1MTI0RFxcXFx1MTI1MC1cXFxcdTEyNTZcXFxcdTEyNThcXFxcdTEyNUEtXFxcXHUxMjVEXFxcXHUxMjYwLVxcXFx1MTI4OFxcXFx1MTI4QS1cXFxcdTEyOERcXFxcdTEyOTAtXFxcXHUxMkIwXFxcXHUxMkIyLVxcXFx1MTJCNVxcXFx1MTJCOC1cXFxcdTEyQkVcXFxcdTEyQzBcXFxcdTEyQzItXFxcXHUxMkM1XFxcXHUxMkM4LVxcXFx1MTJENlxcXFx1MTJEOC1cXFxcdTEzMTBcXFxcdTEzMTItXFxcXHUxMzE1XFxcXHUxMzE4LVxcXFx1MTM1QVxcXFx1MTM4MC1cXFxcdTEzOEZcXFxcdTEzQTAtXFxcXHUxM0Y0XFxcXHUxNDAxLVxcXFx1MTY2Q1xcXFx1MTY2Ri1cXFxcdTE2N0ZcXFxcdTE2ODEtXFxcXHUxNjlBXFxcXHUxNkEwLVxcXFx1MTZFQVxcXFx1MTZFRS1cXFxcdTE2RjhcXFxcdTE3MDAtXFxcXHUxNzBDXFxcXHUxNzBFLVxcXFx1MTcxMVxcXFx1MTcyMC1cXFxcdTE3MzFcXFxcdTE3NDAtXFxcXHUxNzUxXFxcXHUxNzYwLVxcXFx1MTc2Q1xcXFx1MTc2RS1cXFxcdTE3NzBcXFxcdTE3ODAtXFxcXHUxN0IzXFxcXHUxN0Q3XFxcXHUxN0RDXFxcXHUxODIwLVxcXFx1MTg3N1xcXFx1MTg4MC1cXFxcdTE4QThcXFxcdTE4QUFcXFxcdTE4QjAtXFxcXHUxOEY1XFxcXHUxOTAwLVxcXFx1MTkxRVxcXFx1MTk1MC1cXFxcdTE5NkRcXFxcdTE5NzAtXFxcXHUxOTc0XFxcXHUxOTgwLVxcXFx1MTlBQlxcXFx1MTlDMS1cXFxcdTE5QzdcXFxcdTFBMDAtXFxcXHUxQTE2XFxcXHUxQTIwLVxcXFx1MUE1NFxcXFx1MUFBN1xcXFx1MUIwNS1cXFxcdTFCMzNcXFxcdTFCNDUtXFxcXHUxQjRCXFxcXHUxQjgzLVxcXFx1MUJBMFxcXFx1MUJBRVxcXFx1MUJBRlxcXFx1MUJCQS1cXFxcdTFCRTVcXFxcdTFDMDAtXFxcXHUxQzIzXFxcXHUxQzRELVxcXFx1MUM0RlxcXFx1MUM1QS1cXFxcdTFDN0RcXFxcdTFDRTktXFxcXHUxQ0VDXFxcXHUxQ0VFLVxcXFx1MUNGMVxcXFx1MUNGNVxcXFx1MUNGNlxcXFx1MUQwMC1cXFxcdTFEQkZcXFxcdTFFMDAtXFxcXHUxRjE1XFxcXHUxRjE4LVxcXFx1MUYxRFxcXFx1MUYyMC1cXFxcdTFGNDVcXFxcdTFGNDgtXFxcXHUxRjREXFxcXHUxRjUwLVxcXFx1MUY1N1xcXFx1MUY1OVxcXFx1MUY1QlxcXFx1MUY1RFxcXFx1MUY1Ri1cXFxcdTFGN0RcXFxcdTFGODAtXFxcXHUxRkI0XFxcXHUxRkI2LVxcXFx1MUZCQ1xcXFx1MUZCRVxcXFx1MUZDMi1cXFxcdTFGQzRcXFxcdTFGQzYtXFxcXHUxRkNDXFxcXHUxRkQwLVxcXFx1MUZEM1xcXFx1MUZENi1cXFxcdTFGREJcXFxcdTFGRTAtXFxcXHUxRkVDXFxcXHUxRkYyLVxcXFx1MUZGNFxcXFx1MUZGNi1cXFxcdTFGRkNcXFxcdTIwNzFcXFxcdTIwN0ZcXFxcdTIwOTAtXFxcXHUyMDlDXFxcXHUyMTAyXFxcXHUyMTA3XFxcXHUyMTBBLVxcXFx1MjExM1xcXFx1MjExNVxcXFx1MjExOS1cXFxcdTIxMURcXFxcdTIxMjRcXFxcdTIxMjZcXFxcdTIxMjhcXFxcdTIxMkEtXFxcXHUyMTJEXFxcXHUyMTJGLVxcXFx1MjEzOVxcXFx1MjEzQy1cXFxcdTIxM0ZcXFxcdTIxNDUtXFxcXHUyMTQ5XFxcXHUyMTRFXFxcXHUyMTYwLVxcXFx1MjE4OFxcXFx1MkMwMC1cXFxcdTJDMkVcXFxcdTJDMzAtXFxcXHUyQzVFXFxcXHUyQzYwLVxcXFx1MkNFNFxcXFx1MkNFQi1cXFxcdTJDRUVcXFxcdTJDRjJcXFxcdTJDRjNcXFxcdTJEMDAtXFxcXHUyRDI1XFxcXHUyRDI3XFxcXHUyRDJEXFxcXHUyRDMwLVxcXFx1MkQ2N1xcXFx1MkQ2RlxcXFx1MkQ4MC1cXFxcdTJEOTZcXFxcdTJEQTAtXFxcXHUyREE2XFxcXHUyREE4LVxcXFx1MkRBRVxcXFx1MkRCMC1cXFxcdTJEQjZcXFxcdTJEQjgtXFxcXHUyREJFXFxcXHUyREMwLVxcXFx1MkRDNlxcXFx1MkRDOC1cXFxcdTJEQ0VcXFxcdTJERDAtXFxcXHUyREQ2XFxcXHUyREQ4LVxcXFx1MkRERVxcXFx1MkUyRlxcXFx1MzAwNS1cXFxcdTMwMDdcXFxcdTMwMjEtXFxcXHUzMDI5XFxcXHUzMDMxLVxcXFx1MzAzNVxcXFx1MzAzOC1cXFxcdTMwM0NcXFxcdTMwNDEtXFxcXHUzMDk2XFxcXHUzMDlELVxcXFx1MzA5RlxcXFx1MzBBMS1cXFxcdTMwRkFcXFxcdTMwRkMtXFxcXHUzMEZGXFxcXHUzMTA1LVxcXFx1MzEyRFxcXFx1MzEzMS1cXFxcdTMxOEVcXFxcdTMxQTAtXFxcXHUzMUJBXFxcXHUzMUYwLVxcXFx1MzFGRlxcXFx1MzQwMC1cXFxcdTREQjVcXFxcdTRFMDAtXFxcXHU5RkNDXFxcXHVBMDAwLVxcXFx1QTQ4Q1xcXFx1QTREMC1cXFxcdUE0RkRcXFxcdUE1MDAtXFxcXHVBNjBDXFxcXHVBNjEwLVxcXFx1QTYxRlxcXFx1QTYyQVxcXFx1QTYyQlxcXFx1QTY0MC1cXFxcdUE2NkVcXFxcdUE2N0YtXFxcXHVBNjlEXFxcXHVBNkEwLVxcXFx1QTZFRlxcXFx1QTcxNy1cXFxcdUE3MUZcXFxcdUE3MjItXFxcXHVBNzg4XFxcXHVBNzhCLVxcXFx1QTc4RVxcXFx1QTc5MC1cXFxcdUE3QURcXFxcdUE3QjBcXFxcdUE3QjFcXFxcdUE3RjctXFxcXHVBODAxXFxcXHVBODAzLVxcXFx1QTgwNVxcXFx1QTgwNy1cXFxcdUE4MEFcXFxcdUE4MEMtXFxcXHVBODIyXFxcXHVBODQwLVxcXFx1QTg3M1xcXFx1QTg4Mi1cXFxcdUE4QjNcXFxcdUE4RjItXFxcXHVBOEY3XFxcXHVBOEZCXFxcXHVBOTBBLVxcXFx1QTkyNVxcXFx1QTkzMC1cXFxcdUE5NDZcXFxcdUE5NjAtXFxcXHVBOTdDXFxcXHVBOTg0LVxcXFx1QTlCMlxcXFx1QTlDRlxcXFx1QTlFMC1cXFxcdUE5RTRcXFxcdUE5RTYtXFxcXHVBOUVGXFxcXHVBOUZBLVxcXFx1QTlGRVxcXFx1QUEwMC1cXFxcdUFBMjhcXFxcdUFBNDAtXFxcXHVBQTQyXFxcXHVBQTQ0LVxcXFx1QUE0QlxcXFx1QUE2MC1cXFxcdUFBNzZcXFxcdUFBN0FcXFxcdUFBN0UtXFxcXHVBQUFGXFxcXHVBQUIxXFxcXHVBQUI1XFxcXHVBQUI2XFxcXHVBQUI5LVxcXFx1QUFCRFxcXFx1QUFDMFxcXFx1QUFDMlxcXFx1QUFEQi1cXFxcdUFBRERcXFxcdUFBRTAtXFxcXHVBQUVBXFxcXHVBQUYyLVxcXFx1QUFGNFxcXFx1QUIwMS1cXFxcdUFCMDZcXFxcdUFCMDktXFxcXHVBQjBFXFxcXHVBQjExLVxcXFx1QUIxNlxcXFx1QUIyMC1cXFxcdUFCMjZcXFxcdUFCMjgtXFxcXHVBQjJFXFxcXHVBQjMwLVxcXFx1QUI1QVxcXFx1QUI1Qy1cXFxcdUFCNUZcXFxcdUFCNjRcXFxcdUFCNjVcXFxcdUFCQzAtXFxcXHVBQkUyXFxcXHVBQzAwLVxcXFx1RDdBM1xcXFx1RDdCMC1cXFxcdUQ3QzZcXFxcdUQ3Q0ItXFxcXHVEN0ZCXFxcXHVGOTAwLVxcXFx1RkE2RFxcXFx1RkE3MC1cXFxcdUZBRDlcXFxcdUZCMDAtXFxcXHVGQjA2XFxcXHVGQjEzLVxcXFx1RkIxN1xcXFx1RkIxRFxcXFx1RkIxRi1cXFxcdUZCMjhcXFxcdUZCMkEtXFxcXHVGQjM2XFxcXHVGQjM4LVxcXFx1RkIzQ1xcXFx1RkIzRVxcXFx1RkI0MFxcXFx1RkI0MVxcXFx1RkI0M1xcXFx1RkI0NFxcXFx1RkI0Ni1cXFxcdUZCQjFcXFxcdUZCRDMtXFxcXHVGRDNEXFxcXHVGRDUwLVxcXFx1RkQ4RlxcXFx1RkQ5Mi1cXFxcdUZEQzdcXFxcdUZERjAtXFxcXHVGREZCXFxcXHVGRTcwLVxcXFx1RkU3NFxcXFx1RkU3Ni1cXFxcdUZFRkNcXFxcdUZGMjEtXFxcXHVGRjNBXFxcXHVGRjQxLVxcXFx1RkY1QVxcXFx1RkY2Ni1cXFxcdUZGQkVcXFxcdUZGQzItXFxcXHVGRkM3XFxcXHVGRkNBLVxcXFx1RkZDRlxcXFx1RkZEMi1cXFxcdUZGRDdcXFxcdUZGREEtXFxcXHVGRkRDXScpLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1taXNsZWFkaW5nLWNoYXJhY3Rlci1jbGFzc1xuUmVnZXhOb25Bc2NpaUlkZW50aWZpZXJQYXJ0ID0gbmV3IFJlZ0V4cCgnW1xcXFx4QUFcXFxceEI1XFxcXHhCQVxcXFx4QzAtXFxcXHhENlxcXFx4RDgtXFxcXHhGNlxcXFx4RjgtXFxcXHUwMkMxXFxcXHUwMkM2LVxcXFx1MDJEMVxcXFx1MDJFMC1cXFxcdTAyRTRcXFxcdTAyRUNcXFxcdTAyRUVcXFxcdTAzMDAtXFxcXHUwMzc0XFxcXHUwMzc2XFxcXHUwMzc3XFxcXHUwMzdBLVxcXFx1MDM3RFxcXFx1MDM3RlxcXFx1MDM4NlxcXFx1MDM4OC1cXFxcdTAzOEFcXFxcdTAzOENcXFxcdTAzOEUtXFxcXHUwM0ExXFxcXHUwM0EzLVxcXFx1MDNGNVxcXFx1MDNGNy1cXFxcdTA0ODFcXFxcdTA0ODMtXFxcXHUwNDg3XFxcXHUwNDhBLVxcXFx1MDUyRlxcXFx1MDUzMS1cXFxcdTA1NTZcXFxcdTA1NTlcXFxcdTA1NjEtXFxcXHUwNTg3XFxcXHUwNTkxLVxcXFx1MDVCRFxcXFx1MDVCRlxcXFx1MDVDMVxcXFx1MDVDMlxcXFx1MDVDNFxcXFx1MDVDNVxcXFx1MDVDN1xcXFx1MDVEMC1cXFxcdTA1RUFcXFxcdTA1RjAtXFxcXHUwNUYyXFxcXHUwNjEwLVxcXFx1MDYxQVxcXFx1MDYyMC1cXFxcdTA2NjlcXFxcdTA2NkUtXFxcXHUwNkQzXFxcXHUwNkQ1LVxcXFx1MDZEQ1xcXFx1MDZERi1cXFxcdTA2RThcXFxcdTA2RUEtXFxcXHUwNkZDXFxcXHUwNkZGXFxcXHUwNzEwLVxcXFx1MDc0QVxcXFx1MDc0RC1cXFxcdTA3QjFcXFxcdTA3QzAtXFxcXHUwN0Y1XFxcXHUwN0ZBXFxcXHUwODAwLVxcXFx1MDgyRFxcXFx1MDg0MC1cXFxcdTA4NUJcXFxcdTA4QTAtXFxcXHUwOEIyXFxcXHUwOEU0LVxcXFx1MDk2M1xcXFx1MDk2Ni1cXFxcdTA5NkZcXFxcdTA5NzEtXFxcXHUwOTgzXFxcXHUwOTg1LVxcXFx1MDk4Q1xcXFx1MDk4RlxcXFx1MDk5MFxcXFx1MDk5My1cXFxcdTA5QThcXFxcdTA5QUEtXFxcXHUwOUIwXFxcXHUwOUIyXFxcXHUwOUI2LVxcXFx1MDlCOVxcXFx1MDlCQy1cXFxcdTA5QzRcXFxcdTA5QzdcXFxcdTA5QzhcXFxcdTA5Q0ItXFxcXHUwOUNFXFxcXHUwOUQ3XFxcXHUwOURDXFxcXHUwOUREXFxcXHUwOURGLVxcXFx1MDlFM1xcXFx1MDlFNi1cXFxcdTA5RjFcXFxcdTBBMDEtXFxcXHUwQTAzXFxcXHUwQTA1LVxcXFx1MEEwQVxcXFx1MEEwRlxcXFx1MEExMFxcXFx1MEExMy1cXFxcdTBBMjhcXFxcdTBBMkEtXFxcXHUwQTMwXFxcXHUwQTMyXFxcXHUwQTMzXFxcXHUwQTM1XFxcXHUwQTM2XFxcXHUwQTM4XFxcXHUwQTM5XFxcXHUwQTNDXFxcXHUwQTNFLVxcXFx1MEE0MlxcXFx1MEE0N1xcXFx1MEE0OFxcXFx1MEE0Qi1cXFxcdTBBNERcXFxcdTBBNTFcXFxcdTBBNTktXFxcXHUwQTVDXFxcXHUwQTVFXFxcXHUwQTY2LVxcXFx1MEE3NVxcXFx1MEE4MS1cXFxcdTBBODNcXFxcdTBBODUtXFxcXHUwQThEXFxcXHUwQThGLVxcXFx1MEE5MVxcXFx1MEE5My1cXFxcdTBBQThcXFxcdTBBQUEtXFxcXHUwQUIwXFxcXHUwQUIyXFxcXHUwQUIzXFxcXHUwQUI1LVxcXFx1MEFCOVxcXFx1MEFCQy1cXFxcdTBBQzVcXFxcdTBBQzctXFxcXHUwQUM5XFxcXHUwQUNCLVxcXFx1MEFDRFxcXFx1MEFEMFxcXFx1MEFFMC1cXFxcdTBBRTNcXFxcdTBBRTYtXFxcXHUwQUVGXFxcXHUwQjAxLVxcXFx1MEIwM1xcXFx1MEIwNS1cXFxcdTBCMENcXFxcdTBCMEZcXFxcdTBCMTBcXFxcdTBCMTMtXFxcXHUwQjI4XFxcXHUwQjJBLVxcXFx1MEIzMFxcXFx1MEIzMlxcXFx1MEIzM1xcXFx1MEIzNS1cXFxcdTBCMzlcXFxcdTBCM0MtXFxcXHUwQjQ0XFxcXHUwQjQ3XFxcXHUwQjQ4XFxcXHUwQjRCLVxcXFx1MEI0RFxcXFx1MEI1NlxcXFx1MEI1N1xcXFx1MEI1Q1xcXFx1MEI1RFxcXFx1MEI1Ri1cXFxcdTBCNjNcXFxcdTBCNjYtXFxcXHUwQjZGXFxcXHUwQjcxXFxcXHUwQjgyXFxcXHUwQjgzXFxcXHUwQjg1LVxcXFx1MEI4QVxcXFx1MEI4RS1cXFxcdTBCOTBcXFxcdTBCOTItXFxcXHUwQjk1XFxcXHUwQjk5XFxcXHUwQjlBXFxcXHUwQjlDXFxcXHUwQjlFXFxcXHUwQjlGXFxcXHUwQkEzXFxcXHUwQkE0XFxcXHUwQkE4LVxcXFx1MEJBQVxcXFx1MEJBRS1cXFxcdTBCQjlcXFxcdTBCQkUtXFxcXHUwQkMyXFxcXHUwQkM2LVxcXFx1MEJDOFxcXFx1MEJDQS1cXFxcdTBCQ0RcXFxcdTBCRDBcXFxcdTBCRDdcXFxcdTBCRTYtXFxcXHUwQkVGXFxcXHUwQzAwLVxcXFx1MEMwM1xcXFx1MEMwNS1cXFxcdTBDMENcXFxcdTBDMEUtXFxcXHUwQzEwXFxcXHUwQzEyLVxcXFx1MEMyOFxcXFx1MEMyQS1cXFxcdTBDMzlcXFxcdTBDM0QtXFxcXHUwQzQ0XFxcXHUwQzQ2LVxcXFx1MEM0OFxcXFx1MEM0QS1cXFxcdTBDNERcXFxcdTBDNTVcXFxcdTBDNTZcXFxcdTBDNThcXFxcdTBDNTlcXFxcdTBDNjAtXFxcXHUwQzYzXFxcXHUwQzY2LVxcXFx1MEM2RlxcXFx1MEM4MS1cXFxcdTBDODNcXFxcdTBDODUtXFxcXHUwQzhDXFxcXHUwQzhFLVxcXFx1MEM5MFxcXFx1MEM5Mi1cXFxcdTBDQThcXFxcdTBDQUEtXFxcXHUwQ0IzXFxcXHUwQ0I1LVxcXFx1MENCOVxcXFx1MENCQy1cXFxcdTBDQzRcXFxcdTBDQzYtXFxcXHUwQ0M4XFxcXHUwQ0NBLVxcXFx1MENDRFxcXFx1MENENVxcXFx1MENENlxcXFx1MENERVxcXFx1MENFMC1cXFxcdTBDRTNcXFxcdTBDRTYtXFxcXHUwQ0VGXFxcXHUwQ0YxXFxcXHUwQ0YyXFxcXHUwRDAxLVxcXFx1MEQwM1xcXFx1MEQwNS1cXFxcdTBEMENcXFxcdTBEMEUtXFxcXHUwRDEwXFxcXHUwRDEyLVxcXFx1MEQzQVxcXFx1MEQzRC1cXFxcdTBENDRcXFxcdTBENDYtXFxcXHUwRDQ4XFxcXHUwRDRBLVxcXFx1MEQ0RVxcXFx1MEQ1N1xcXFx1MEQ2MC1cXFxcdTBENjNcXFxcdTBENjYtXFxcXHUwRDZGXFxcXHUwRDdBLVxcXFx1MEQ3RlxcXFx1MEQ4MlxcXFx1MEQ4M1xcXFx1MEQ4NS1cXFxcdTBEOTZcXFxcdTBEOUEtXFxcXHUwREIxXFxcXHUwREIzLVxcXFx1MERCQlxcXFx1MERCRFxcXFx1MERDMC1cXFxcdTBEQzZcXFxcdTBEQ0FcXFxcdTBEQ0YtXFxcXHUwREQ0XFxcXHUwREQ2XFxcXHUwREQ4LVxcXFx1MERERlxcXFx1MERFNi1cXFxcdTBERUZcXFxcdTBERjJcXFxcdTBERjNcXFxcdTBFMDEtXFxcXHUwRTNBXFxcXHUwRTQwLVxcXFx1MEU0RVxcXFx1MEU1MC1cXFxcdTBFNTlcXFxcdTBFODFcXFxcdTBFODJcXFxcdTBFODRcXFxcdTBFODdcXFxcdTBFODhcXFxcdTBFOEFcXFxcdTBFOERcXFxcdTBFOTQtXFxcXHUwRTk3XFxcXHUwRTk5LVxcXFx1MEU5RlxcXFx1MEVBMS1cXFxcdTBFQTNcXFxcdTBFQTVcXFxcdTBFQTdcXFxcdTBFQUFcXFxcdTBFQUJcXFxcdTBFQUQtXFxcXHUwRUI5XFxcXHUwRUJCLVxcXFx1MEVCRFxcXFx1MEVDMC1cXFxcdTBFQzRcXFxcdTBFQzZcXFxcdTBFQzgtXFxcXHUwRUNEXFxcXHUwRUQwLVxcXFx1MEVEOVxcXFx1MEVEQy1cXFxcdTBFREZcXFxcdTBGMDBcXFxcdTBGMThcXFxcdTBGMTlcXFxcdTBGMjAtXFxcXHUwRjI5XFxcXHUwRjM1XFxcXHUwRjM3XFxcXHUwRjM5XFxcXHUwRjNFLVxcXFx1MEY0N1xcXFx1MEY0OS1cXFxcdTBGNkNcXFxcdTBGNzEtXFxcXHUwRjg0XFxcXHUwRjg2LVxcXFx1MEY5N1xcXFx1MEY5OS1cXFxcdTBGQkNcXFxcdTBGQzZcXFxcdTEwMDAtXFxcXHUxMDQ5XFxcXHUxMDUwLVxcXFx1MTA5RFxcXFx1MTBBMC1cXFxcdTEwQzVcXFxcdTEwQzdcXFxcdTEwQ0RcXFxcdTEwRDAtXFxcXHUxMEZBXFxcXHUxMEZDLVxcXFx1MTI0OFxcXFx1MTI0QS1cXFxcdTEyNERcXFxcdTEyNTAtXFxcXHUxMjU2XFxcXHUxMjU4XFxcXHUxMjVBLVxcXFx1MTI1RFxcXFx1MTI2MC1cXFxcdTEyODhcXFxcdTEyOEEtXFxcXHUxMjhEXFxcXHUxMjkwLVxcXFx1MTJCMFxcXFx1MTJCMi1cXFxcdTEyQjVcXFxcdTEyQjgtXFxcXHUxMkJFXFxcXHUxMkMwXFxcXHUxMkMyLVxcXFx1MTJDNVxcXFx1MTJDOC1cXFxcdTEyRDZcXFxcdTEyRDgtXFxcXHUxMzEwXFxcXHUxMzEyLVxcXFx1MTMxNVxcXFx1MTMxOC1cXFxcdTEzNUFcXFxcdTEzNUQtXFxcXHUxMzVGXFxcXHUxMzgwLVxcXFx1MTM4RlxcXFx1MTNBMC1cXFxcdTEzRjRcXFxcdTE0MDEtXFxcXHUxNjZDXFxcXHUxNjZGLVxcXFx1MTY3RlxcXFx1MTY4MS1cXFxcdTE2OUFcXFxcdTE2QTAtXFxcXHUxNkVBXFxcXHUxNkVFLVxcXFx1MTZGOFxcXFx1MTcwMC1cXFxcdTE3MENcXFxcdTE3MEUtXFxcXHUxNzE0XFxcXHUxNzIwLVxcXFx1MTczNFxcXFx1MTc0MC1cXFxcdTE3NTNcXFxcdTE3NjAtXFxcXHUxNzZDXFxcXHUxNzZFLVxcXFx1MTc3MFxcXFx1MTc3MlxcXFx1MTc3M1xcXFx1MTc4MC1cXFxcdTE3RDNcXFxcdTE3RDdcXFxcdTE3RENcXFxcdTE3RERcXFxcdTE3RTAtXFxcXHUxN0U5XFxcXHUxODBCLVxcXFx1MTgwRFxcXFx1MTgxMC1cXFxcdTE4MTlcXFxcdTE4MjAtXFxcXHUxODc3XFxcXHUxODgwLVxcXFx1MThBQVxcXFx1MThCMC1cXFxcdTE4RjVcXFxcdTE5MDAtXFxcXHUxOTFFXFxcXHUxOTIwLVxcXFx1MTkyQlxcXFx1MTkzMC1cXFxcdTE5M0JcXFxcdTE5NDYtXFxcXHUxOTZEXFxcXHUxOTcwLVxcXFx1MTk3NFxcXFx1MTk4MC1cXFxcdTE5QUJcXFxcdTE5QjAtXFxcXHUxOUM5XFxcXHUxOUQwLVxcXFx1MTlEOVxcXFx1MUEwMC1cXFxcdTFBMUJcXFxcdTFBMjAtXFxcXHUxQTVFXFxcXHUxQTYwLVxcXFx1MUE3Q1xcXFx1MUE3Ri1cXFxcdTFBODlcXFxcdTFBOTAtXFxcXHUxQTk5XFxcXHUxQUE3XFxcXHUxQUIwLVxcXFx1MUFCRFxcXFx1MUIwMC1cXFxcdTFCNEJcXFxcdTFCNTAtXFxcXHUxQjU5XFxcXHUxQjZCLVxcXFx1MUI3M1xcXFx1MUI4MC1cXFxcdTFCRjNcXFxcdTFDMDAtXFxcXHUxQzM3XFxcXHUxQzQwLVxcXFx1MUM0OVxcXFx1MUM0RC1cXFxcdTFDN0RcXFxcdTFDRDAtXFxcXHUxQ0QyXFxcXHUxQ0Q0LVxcXFx1MUNGNlxcXFx1MUNGOFxcXFx1MUNGOVxcXFx1MUQwMC1cXFxcdTFERjVcXFxcdTFERkMtXFxcXHUxRjE1XFxcXHUxRjE4LVxcXFx1MUYxRFxcXFx1MUYyMC1cXFxcdTFGNDVcXFxcdTFGNDgtXFxcXHUxRjREXFxcXHUxRjUwLVxcXFx1MUY1N1xcXFx1MUY1OVxcXFx1MUY1QlxcXFx1MUY1RFxcXFx1MUY1Ri1cXFxcdTFGN0RcXFxcdTFGODAtXFxcXHUxRkI0XFxcXHUxRkI2LVxcXFx1MUZCQ1xcXFx1MUZCRVxcXFx1MUZDMi1cXFxcdTFGQzRcXFxcdTFGQzYtXFxcXHUxRkNDXFxcXHUxRkQwLVxcXFx1MUZEM1xcXFx1MUZENi1cXFxcdTFGREJcXFxcdTFGRTAtXFxcXHUxRkVDXFxcXHUxRkYyLVxcXFx1MUZGNFxcXFx1MUZGNi1cXFxcdTFGRkNcXFxcdTIwMENcXFxcdTIwMERcXFxcdTIwM0ZcXFxcdTIwNDBcXFxcdTIwNTRcXFxcdTIwNzFcXFxcdTIwN0ZcXFxcdTIwOTAtXFxcXHUyMDlDXFxcXHUyMEQwLVxcXFx1MjBEQ1xcXFx1MjBFMVxcXFx1MjBFNS1cXFxcdTIwRjBcXFxcdTIxMDJcXFxcdTIxMDdcXFxcdTIxMEEtXFxcXHUyMTEzXFxcXHUyMTE1XFxcXHUyMTE5LVxcXFx1MjExRFxcXFx1MjEyNFxcXFx1MjEyNlxcXFx1MjEyOFxcXFx1MjEyQS1cXFxcdTIxMkRcXFxcdTIxMkYtXFxcXHUyMTM5XFxcXHUyMTNDLVxcXFx1MjEzRlxcXFx1MjE0NS1cXFxcdTIxNDlcXFxcdTIxNEVcXFxcdTIxNjAtXFxcXHUyMTg4XFxcXHUyQzAwLVxcXFx1MkMyRVxcXFx1MkMzMC1cXFxcdTJDNUVcXFxcdTJDNjAtXFxcXHUyQ0U0XFxcXHUyQ0VCLVxcXFx1MkNGM1xcXFx1MkQwMC1cXFxcdTJEMjVcXFxcdTJEMjdcXFxcdTJEMkRcXFxcdTJEMzAtXFxcXHUyRDY3XFxcXHUyRDZGXFxcXHUyRDdGLVxcXFx1MkQ5NlxcXFx1MkRBMC1cXFxcdTJEQTZcXFxcdTJEQTgtXFxcXHUyREFFXFxcXHUyREIwLVxcXFx1MkRCNlxcXFx1MkRCOC1cXFxcdTJEQkVcXFxcdTJEQzAtXFxcXHUyREM2XFxcXHUyREM4LVxcXFx1MkRDRVxcXFx1MkREMC1cXFxcdTJERDZcXFxcdTJERDgtXFxcXHUyRERFXFxcXHUyREUwLVxcXFx1MkRGRlxcXFx1MkUyRlxcXFx1MzAwNS1cXFxcdTMwMDdcXFxcdTMwMjEtXFxcXHUzMDJGXFxcXHUzMDMxLVxcXFx1MzAzNVxcXFx1MzAzOC1cXFxcdTMwM0NcXFxcdTMwNDEtXFxcXHUzMDk2XFxcXHUzMDk5XFxcXHUzMDlBXFxcXHUzMDlELVxcXFx1MzA5RlxcXFx1MzBBMS1cXFxcdTMwRkFcXFxcdTMwRkMtXFxcXHUzMEZGXFxcXHUzMTA1LVxcXFx1MzEyRFxcXFx1MzEzMS1cXFxcdTMxOEVcXFxcdTMxQTAtXFxcXHUzMUJBXFxcXHUzMUYwLVxcXFx1MzFGRlxcXFx1MzQwMC1cXFxcdTREQjVcXFxcdTRFMDAtXFxcXHU5RkNDXFxcXHVBMDAwLVxcXFx1QTQ4Q1xcXFx1QTREMC1cXFxcdUE0RkRcXFxcdUE1MDAtXFxcXHVBNjBDXFxcXHVBNjEwLVxcXFx1QTYyQlxcXFx1QTY0MC1cXFxcdUE2NkZcXFxcdUE2NzQtXFxcXHVBNjdEXFxcXHVBNjdGLVxcXFx1QTY5RFxcXFx1QTY5Ri1cXFxcdUE2RjFcXFxcdUE3MTctXFxcXHVBNzFGXFxcXHVBNzIyLVxcXFx1QTc4OFxcXFx1QTc4Qi1cXFxcdUE3OEVcXFxcdUE3OTAtXFxcXHVBN0FEXFxcXHVBN0IwXFxcXHVBN0IxXFxcXHVBN0Y3LVxcXFx1QTgyN1xcXFx1QTg0MC1cXFxcdUE4NzNcXFxcdUE4ODAtXFxcXHVBOEM0XFxcXHVBOEQwLVxcXFx1QThEOVxcXFx1QThFMC1cXFxcdUE4RjdcXFxcdUE4RkJcXFxcdUE5MDAtXFxcXHVBOTJEXFxcXHVBOTMwLVxcXFx1QTk1M1xcXFx1QTk2MC1cXFxcdUE5N0NcXFxcdUE5ODAtXFxcXHVBOUMwXFxcXHVBOUNGLVxcXFx1QTlEOVxcXFx1QTlFMC1cXFxcdUE5RkVcXFxcdUFBMDAtXFxcXHVBQTM2XFxcXHVBQTQwLVxcXFx1QUE0RFxcXFx1QUE1MC1cXFxcdUFBNTlcXFxcdUFBNjAtXFxcXHVBQTc2XFxcXHVBQTdBLVxcXFx1QUFDMlxcXFx1QUFEQi1cXFxcdUFBRERcXFxcdUFBRTAtXFxcXHVBQUVGXFxcXHVBQUYyLVxcXFx1QUFGNlxcXFx1QUIwMS1cXFxcdUFCMDZcXFxcdUFCMDktXFxcXHVBQjBFXFxcXHVBQjExLVxcXFx1QUIxNlxcXFx1QUIyMC1cXFxcdUFCMjZcXFxcdUFCMjgtXFxcXHVBQjJFXFxcXHVBQjMwLVxcXFx1QUI1QVxcXFx1QUI1Qy1cXFxcdUFCNUZcXFxcdUFCNjRcXFxcdUFCNjVcXFxcdUFCQzAtXFxcXHVBQkVBXFxcXHVBQkVDXFxcXHVBQkVEXFxcXHVBQkYwLVxcXFx1QUJGOVxcXFx1QUMwMC1cXFxcdUQ3QTNcXFxcdUQ3QjAtXFxcXHVEN0M2XFxcXHVEN0NCLVxcXFx1RDdGQlxcXFx1RjkwMC1cXFxcdUZBNkRcXFxcdUZBNzAtXFxcXHVGQUQ5XFxcXHVGQjAwLVxcXFx1RkIwNlxcXFx1RkIxMy1cXFxcdUZCMTdcXFxcdUZCMUQtXFxcXHVGQjI4XFxcXHVGQjJBLVxcXFx1RkIzNlxcXFx1RkIzOC1cXFxcdUZCM0NcXFxcdUZCM0VcXFxcdUZCNDBcXFxcdUZCNDFcXFxcdUZCNDNcXFxcdUZCNDRcXFxcdUZCNDYtXFxcXHVGQkIxXFxcXHVGQkQzLVxcXFx1RkQzRFxcXFx1RkQ1MC1cXFxcdUZEOEZcXFxcdUZEOTItXFxcXHVGREM3XFxcXHVGREYwLVxcXFx1RkRGQlxcXFx1RkUwMC1cXFxcdUZFMEZcXFxcdUZFMjAtXFxcXHVGRTJEXFxcXHVGRTMzXFxcXHVGRTM0XFxcXHVGRTRELVxcXFx1RkU0RlxcXFx1RkU3MC1cXFxcdUZFNzRcXFxcdUZFNzYtXFxcXHVGRUZDXFxcXHVGRjEwLVxcXFx1RkYxOVxcXFx1RkYyMS1cXFxcdUZGM0FcXFxcdUZGM0ZcXFxcdUZGNDEtXFxcXHVGRjVBXFxcXHVGRjY2LVxcXFx1RkZCRVxcXFx1RkZDMi1cXFxcdUZGQzdcXFxcdUZGQ0EtXFxcXHVGRkNGXFxcXHVGRkQyLVxcXFx1RkZEN1xcXFx1RkZEQS1cXFxcdUZGRENdJyk7IC8vIEVuc3VyZSB0aGUgY29uZGl0aW9uIGlzIHRydWUsIG90aGVyd2lzZSB0aHJvdyBhbiBlcnJvci5cbi8vIFRoaXMgaXMgb25seSB0byBoYXZlIGEgYmV0dGVyIGNvbnRyYWN0IHNlbWFudGljLCBpLmUuIGFub3RoZXIgc2FmZXR5IG5ldFxuLy8gdG8gY2F0Y2ggYSBsb2dpYyBlcnJvci4gVGhlIGNvbmRpdGlvbiBzaGFsbCBiZSBmdWxmaWxsZWQgaW4gbm9ybWFsIGNhc2UuXG4vLyBEbyBOT1QgdXNlIHRoaXMgdG8gZW5mb3JjZSBhIGNlcnRhaW4gY29uZGl0aW9uIG9uIGFueSB1c2VyIGlucHV0LlxuXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBU1NFUlQ6ICcgKyBtZXNzYWdlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0RlY2ltYWxEaWdpdChjaCkge1xuICByZXR1cm4gY2ggPj0gMHgzMCAmJiBjaCA8PSAweDM5OyAvLyAwLi45XG59XG5cbmZ1bmN0aW9uIGlzSGV4RGlnaXQoY2gpIHtcbiAgcmV0dXJuICcwMTIzNDU2Nzg5YWJjZGVmQUJDREVGJy5pbmRleE9mKGNoKSA+PSAwO1xufVxuXG5mdW5jdGlvbiBpc09jdGFsRGlnaXQoY2gpIHtcbiAgcmV0dXJuICcwMTIzNDU2NycuaW5kZXhPZihjaCkgPj0gMDtcbn0gLy8gNy4yIFdoaXRlIFNwYWNlXG5cblxuZnVuY3Rpb24gaXNXaGl0ZVNwYWNlKGNoKSB7XG4gIHJldHVybiBjaCA9PT0gMHgyMCB8fCBjaCA9PT0gMHgwOSB8fCBjaCA9PT0gMHgwQiB8fCBjaCA9PT0gMHgwQyB8fCBjaCA9PT0gMHhBMCB8fCBjaCA+PSAweDE2ODAgJiYgWzB4MTY4MCwgMHgxODBFLCAweDIwMDAsIDB4MjAwMSwgMHgyMDAyLCAweDIwMDMsIDB4MjAwNCwgMHgyMDA1LCAweDIwMDYsIDB4MjAwNywgMHgyMDA4LCAweDIwMDksIDB4MjAwQSwgMHgyMDJGLCAweDIwNUYsIDB4MzAwMCwgMHhGRUZGXS5pbmRleE9mKGNoKSA+PSAwO1xufSAvLyA3LjMgTGluZSBUZXJtaW5hdG9yc1xuXG5cbmZ1bmN0aW9uIGlzTGluZVRlcm1pbmF0b3IoY2gpIHtcbiAgcmV0dXJuIGNoID09PSAweDBBIHx8IGNoID09PSAweDBEIHx8IGNoID09PSAweDIwMjggfHwgY2ggPT09IDB4MjAyOTtcbn0gLy8gNy42IElkZW50aWZpZXIgTmFtZXMgYW5kIElkZW50aWZpZXJzXG5cblxuZnVuY3Rpb24gaXNJZGVudGlmaWVyU3RhcnQoY2gpIHtcbiAgcmV0dXJuIGNoID09PSAweDI0IHx8IGNoID09PSAweDVGIHx8IC8vICQgKGRvbGxhcikgYW5kIF8gKHVuZGVyc2NvcmUpXG4gIGNoID49IDB4NDEgJiYgY2ggPD0gMHg1QSB8fCAvLyBBLi5aXG4gIGNoID49IDB4NjEgJiYgY2ggPD0gMHg3QSB8fCAvLyBhLi56XG4gIGNoID09PSAweDVDIHx8IC8vIFxcIChiYWNrc2xhc2gpXG4gIGNoID49IDB4ODAgJiYgUmVnZXhOb25Bc2NpaUlkZW50aWZpZXJTdGFydC50ZXN0KFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpKTtcbn1cblxuZnVuY3Rpb24gaXNJZGVudGlmaWVyUGFydChjaCkge1xuICByZXR1cm4gY2ggPT09IDB4MjQgfHwgY2ggPT09IDB4NUYgfHwgLy8gJCAoZG9sbGFyKSBhbmQgXyAodW5kZXJzY29yZSlcbiAgY2ggPj0gMHg0MSAmJiBjaCA8PSAweDVBIHx8IC8vIEEuLlpcbiAgY2ggPj0gMHg2MSAmJiBjaCA8PSAweDdBIHx8IC8vIGEuLnpcbiAgY2ggPj0gMHgzMCAmJiBjaCA8PSAweDM5IHx8IC8vIDAuLjlcbiAgY2ggPT09IDB4NUMgfHwgLy8gXFwgKGJhY2tzbGFzaClcbiAgY2ggPj0gMHg4MCAmJiBSZWdleE5vbkFzY2lpSWRlbnRpZmllclBhcnQudGVzdChTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKSk7XG59IC8vIDcuNi4xLjEgS2V5d29yZHNcblxuXG5jb25zdCBrZXl3b3JkcyA9IHtcbiAgJ2lmJzogMSxcbiAgJ2luJzogMSxcbiAgJ2RvJzogMSxcbiAgJ3Zhcic6IDEsXG4gICdmb3InOiAxLFxuICAnbmV3JzogMSxcbiAgJ3RyeSc6IDEsXG4gICdsZXQnOiAxLFxuICAndGhpcyc6IDEsXG4gICdlbHNlJzogMSxcbiAgJ2Nhc2UnOiAxLFxuICAndm9pZCc6IDEsXG4gICd3aXRoJzogMSxcbiAgJ2VudW0nOiAxLFxuICAnd2hpbGUnOiAxLFxuICAnYnJlYWsnOiAxLFxuICAnY2F0Y2gnOiAxLFxuICAndGhyb3cnOiAxLFxuICAnY29uc3QnOiAxLFxuICAneWllbGQnOiAxLFxuICAnY2xhc3MnOiAxLFxuICAnc3VwZXInOiAxLFxuICAncmV0dXJuJzogMSxcbiAgJ3R5cGVvZic6IDEsXG4gICdkZWxldGUnOiAxLFxuICAnc3dpdGNoJzogMSxcbiAgJ2V4cG9ydCc6IDEsXG4gICdpbXBvcnQnOiAxLFxuICAncHVibGljJzogMSxcbiAgJ3N0YXRpYyc6IDEsXG4gICdkZWZhdWx0JzogMSxcbiAgJ2ZpbmFsbHknOiAxLFxuICAnZXh0ZW5kcyc6IDEsXG4gICdwYWNrYWdlJzogMSxcbiAgJ3ByaXZhdGUnOiAxLFxuICAnZnVuY3Rpb24nOiAxLFxuICAnY29udGludWUnOiAxLFxuICAnZGVidWdnZXInOiAxLFxuICAnaW50ZXJmYWNlJzogMSxcbiAgJ3Byb3RlY3RlZCc6IDEsXG4gICdpbnN0YW5jZW9mJzogMSxcbiAgJ2ltcGxlbWVudHMnOiAxXG59O1xuXG5mdW5jdGlvbiBza2lwQ29tbWVudCgpIHtcbiAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgY29uc3QgY2ggPSBzb3VyY2UuY2hhckNvZGVBdChpbmRleCk7XG5cbiAgICBpZiAoaXNXaGl0ZVNwYWNlKGNoKSB8fCBpc0xpbmVUZXJtaW5hdG9yKGNoKSkge1xuICAgICAgKytpbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNjYW5IZXhFc2NhcGUocHJlZml4KSB7XG4gIHZhciBpLFxuICAgICAgbGVuLFxuICAgICAgY2gsXG4gICAgICBjb2RlID0gMDtcbiAgbGVuID0gcHJlZml4ID09PSAndScgPyA0IDogMjtcblxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgaXNIZXhEaWdpdChzb3VyY2VbaW5kZXhdKSkge1xuICAgICAgY2ggPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICBjb2RlID0gY29kZSAqIDE2ICsgJzAxMjM0NTY3ODlhYmNkZWYnLmluZGV4T2YoY2gudG9Mb3dlckNhc2UoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xufVxuXG5mdW5jdGlvbiBzY2FuVW5pY29kZUNvZGVQb2ludEVzY2FwZSgpIHtcbiAgdmFyIGNoLCBjb2RlLCBjdTEsIGN1MjtcbiAgY2ggPSBzb3VyY2VbaW5kZXhdO1xuICBjb2RlID0gMDsgLy8gQXQgbGVhc3QsIG9uZSBoZXggZGlnaXQgaXMgcmVxdWlyZWQuXG5cbiAgaWYgKGNoID09PSAnfScpIHtcbiAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW5leHBlY3RlZFRva2VuLCBJTExFR0FMKTtcbiAgfVxuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuXG4gICAgaWYgKCFpc0hleERpZ2l0KGNoKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29kZSA9IGNvZGUgKiAxNiArICcwMTIzNDU2Nzg5YWJjZGVmJy5pbmRleE9mKGNoLnRvTG93ZXJDYXNlKCkpO1xuICB9XG5cbiAgaWYgKGNvZGUgPiAweDEwRkZGRiB8fCBjaCAhPT0gJ30nKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gIH0gLy8gVVRGLTE2IEVuY29kaW5nXG5cblxuICBpZiAoY29kZSA8PSAweEZGRkYpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgfVxuXG4gIGN1MSA9IChjb2RlIC0gMHgxMDAwMCA+PiAxMCkgKyAweEQ4MDA7XG4gIGN1MiA9IChjb2RlIC0gMHgxMDAwMCAmIDEwMjMpICsgMHhEQzAwO1xuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjdTEsIGN1Mik7XG59XG5cbmZ1bmN0aW9uIGdldEVzY2FwZWRJZGVudGlmaWVyKCkge1xuICB2YXIgY2gsIGlkO1xuICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KyspO1xuICBpZCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpOyAvLyAnXFx1JyAoVSswMDVDLCBVKzAwNzUpIGRlbm90ZXMgYW4gZXNjYXBlZCBjaGFyYWN0ZXIuXG5cbiAgaWYgKGNoID09PSAweDVDKSB7XG4gICAgaWYgKHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSAhPT0gMHg3NSkge1xuICAgICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gICAgfVxuXG4gICAgKytpbmRleDtcbiAgICBjaCA9IHNjYW5IZXhFc2NhcGUoJ3UnKTtcblxuICAgIGlmICghY2ggfHwgY2ggPT09ICdcXFxcJyB8fCAhaXNJZGVudGlmaWVyU3RhcnQoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgIH1cblxuICAgIGlkID0gY2g7XG4gIH1cblxuICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcblxuICAgIGlmICghaXNJZGVudGlmaWVyUGFydChjaCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgICsraW5kZXg7XG4gICAgaWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaCk7IC8vICdcXHUnIChVKzAwNUMsIFUrMDA3NSkgZGVub3RlcyBhbiBlc2NhcGVkIGNoYXJhY3Rlci5cblxuICAgIGlmIChjaCA9PT0gMHg1Qykge1xuICAgICAgaWQgPSBpZC5zdWJzdHIoMCwgaWQubGVuZ3RoIC0gMSk7XG5cbiAgICAgIGlmIChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkgIT09IDB4NzUpIHtcbiAgICAgICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gICAgICB9XG5cbiAgICAgICsraW5kZXg7XG4gICAgICBjaCA9IHNjYW5IZXhFc2NhcGUoJ3UnKTtcblxuICAgICAgaWYgKCFjaCB8fCBjaCA9PT0gJ1xcXFwnIHx8ICFpc0lkZW50aWZpZXJQYXJ0KGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgICAgfVxuXG4gICAgICBpZCArPSBjaDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaWQ7XG59XG5cbmZ1bmN0aW9uIGdldElkZW50aWZpZXIoKSB7XG4gIHZhciBzdGFydCwgY2g7XG4gIHN0YXJ0ID0gaW5kZXgrKztcblxuICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICBjaCA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KTtcblxuICAgIGlmIChjaCA9PT0gMHg1Qykge1xuICAgICAgLy8gQmxhY2tzbGFzaCAoVSswMDVDKSBtYXJrcyBVbmljb2RlIGVzY2FwZSBzZXF1ZW5jZS5cbiAgICAgIGluZGV4ID0gc3RhcnQ7XG4gICAgICByZXR1cm4gZ2V0RXNjYXBlZElkZW50aWZpZXIoKTtcbiAgICB9XG5cbiAgICBpZiAoaXNJZGVudGlmaWVyUGFydChjaCkpIHtcbiAgICAgICsraW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzb3VyY2Uuc2xpY2Uoc3RhcnQsIGluZGV4KTtcbn1cblxuZnVuY3Rpb24gc2NhbklkZW50aWZpZXIoKSB7XG4gIHZhciBzdGFydCwgaWQsIHR5cGU7XG4gIHN0YXJ0ID0gaW5kZXg7IC8vIEJhY2tzbGFzaCAoVSswMDVDKSBzdGFydHMgYW4gZXNjYXBlZCBjaGFyYWN0ZXIuXG5cbiAgaWQgPSBzb3VyY2UuY2hhckNvZGVBdChpbmRleCkgPT09IDB4NUMgPyBnZXRFc2NhcGVkSWRlbnRpZmllcigpIDogZ2V0SWRlbnRpZmllcigpOyAvLyBUaGVyZSBpcyBubyBrZXl3b3JkIG9yIGxpdGVyYWwgd2l0aCBvbmx5IG9uZSBjaGFyYWN0ZXIuXG4gIC8vIFRodXMsIGl0IG11c3QgYmUgYW4gaWRlbnRpZmllci5cblxuICBpZiAoaWQubGVuZ3RoID09PSAxKSB7XG4gICAgdHlwZSA9IFRva2VuSWRlbnRpZmllcjtcbiAgfSBlbHNlIGlmIChrZXl3b3Jkcy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgIHR5cGUgPSBUb2tlbktleXdvcmQ7XG4gIH0gZWxzZSBpZiAoaWQgPT09ICdudWxsJykge1xuICAgIHR5cGUgPSBUb2tlbk51bGxMaXRlcmFsO1xuICB9IGVsc2UgaWYgKGlkID09PSAndHJ1ZScgfHwgaWQgPT09ICdmYWxzZScpIHtcbiAgICB0eXBlID0gVG9rZW5Cb29sZWFuTGl0ZXJhbDtcbiAgfSBlbHNlIHtcbiAgICB0eXBlID0gVG9rZW5JZGVudGlmaWVyO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIHZhbHVlOiBpZCxcbiAgICBzdGFydDogc3RhcnQsXG4gICAgZW5kOiBpbmRleFxuICB9O1xufSAvLyA3LjcgUHVuY3R1YXRvcnNcblxuXG5mdW5jdGlvbiBzY2FuUHVuY3R1YXRvcigpIHtcbiAgdmFyIHN0YXJ0ID0gaW5kZXgsXG4gICAgICBjb2RlID0gc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpLFxuICAgICAgY29kZTIsXG4gICAgICBjaDEgPSBzb3VyY2VbaW5kZXhdLFxuICAgICAgY2gyLFxuICAgICAgY2gzLFxuICAgICAgY2g0O1xuXG4gIHN3aXRjaCAoY29kZSkge1xuICAgIC8vIENoZWNrIGZvciBtb3N0IGNvbW1vbiBzaW5nbGUtY2hhcmFjdGVyIHB1bmN0dWF0b3JzLlxuICAgIGNhc2UgMHgyRTogLy8gLiBkb3RcblxuICAgIGNhc2UgMHgyODogLy8gKCBvcGVuIGJyYWNrZXRcblxuICAgIGNhc2UgMHgyOTogLy8gKSBjbG9zZSBicmFja2V0XG5cbiAgICBjYXNlIDB4M0I6IC8vIDsgc2VtaWNvbG9uXG5cbiAgICBjYXNlIDB4MkM6IC8vICwgY29tbWFcblxuICAgIGNhc2UgMHg3QjogLy8geyBvcGVuIGN1cmx5IGJyYWNlXG5cbiAgICBjYXNlIDB4N0Q6IC8vIH0gY2xvc2UgY3VybHkgYnJhY2VcblxuICAgIGNhc2UgMHg1QjogLy8gW1xuXG4gICAgY2FzZSAweDVEOiAvLyBdXG5cbiAgICBjYXNlIDB4M0E6IC8vIDpcblxuICAgIGNhc2UgMHgzRjogLy8gP1xuXG4gICAgY2FzZSAweDdFOlxuICAgICAgLy8gflxuICAgICAgKytpbmRleDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFRva2VuUHVuY3R1YXRvcixcbiAgICAgICAgdmFsdWU6IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSksXG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgZW5kOiBpbmRleFxuICAgICAgfTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICBjb2RlMiA9IHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4ICsgMSk7IC8vICc9JyAoVSswMDNEKSBtYXJrcyBhbiBhc3NpZ25tZW50IG9yIGNvbXBhcmlzb24gb3BlcmF0b3IuXG5cbiAgICAgIGlmIChjb2RlMiA9PT0gMHgzRCkge1xuICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICBjYXNlIDB4MkI6IC8vICtcblxuICAgICAgICAgIGNhc2UgMHgyRDogLy8gLVxuXG4gICAgICAgICAgY2FzZSAweDJGOiAvLyAvXG5cbiAgICAgICAgICBjYXNlIDB4M0M6IC8vIDxcblxuICAgICAgICAgIGNhc2UgMHgzRTogLy8gPlxuXG4gICAgICAgICAgY2FzZSAweDVFOiAvLyBeXG5cbiAgICAgICAgICBjYXNlIDB4N0M6IC8vIHxcblxuICAgICAgICAgIGNhc2UgMHgyNTogLy8gJVxuXG4gICAgICAgICAgY2FzZSAweDI2OiAvLyAmXG5cbiAgICAgICAgICBjYXNlIDB4MkE6XG4gICAgICAgICAgICAvLyAqXG4gICAgICAgICAgICBpbmRleCArPSAyO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogVG9rZW5QdW5jdHVhdG9yLFxuICAgICAgICAgICAgICB2YWx1ZTogU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZTIpLFxuICAgICAgICAgICAgICBzdGFydDogc3RhcnQsXG4gICAgICAgICAgICAgIGVuZDogaW5kZXhcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICBjYXNlIDB4MjE6IC8vICFcblxuICAgICAgICAgIGNhc2UgMHgzRDpcbiAgICAgICAgICAgIC8vID1cbiAgICAgICAgICAgIGluZGV4ICs9IDI7IC8vICE9PSBhbmQgPT09XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkgPT09IDB4M0QpIHtcbiAgICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdHlwZTogVG9rZW5QdW5jdHVhdG9yLFxuICAgICAgICAgICAgICB2YWx1ZTogc291cmNlLnNsaWNlKHN0YXJ0LCBpbmRleCksXG4gICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgZW5kOiBpbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gIH0gLy8gNC1jaGFyYWN0ZXIgcHVuY3R1YXRvcjogPj4+PVxuXG5cbiAgY2g0ID0gc291cmNlLnN1YnN0cihpbmRleCwgNCk7XG5cbiAgaWYgKGNoNCA9PT0gJz4+Pj0nKSB7XG4gICAgaW5kZXggKz0gNDtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogVG9rZW5QdW5jdHVhdG9yLFxuICAgICAgdmFsdWU6IGNoNCxcbiAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgIGVuZDogaW5kZXhcbiAgICB9O1xuICB9IC8vIDMtY2hhcmFjdGVyIHB1bmN0dWF0b3JzOiA9PT0gIT09ID4+PiA8PD0gPj49XG5cblxuICBjaDMgPSBjaDQuc3Vic3RyKDAsIDMpO1xuXG4gIGlmIChjaDMgPT09ICc+Pj4nIHx8IGNoMyA9PT0gJzw8PScgfHwgY2gzID09PSAnPj49Jykge1xuICAgIGluZGV4ICs9IDM7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFRva2VuUHVuY3R1YXRvcixcbiAgICAgIHZhbHVlOiBjaDMsXG4gICAgICBzdGFydDogc3RhcnQsXG4gICAgICBlbmQ6IGluZGV4XG4gICAgfTtcbiAgfSAvLyBPdGhlciAyLWNoYXJhY3RlciBwdW5jdHVhdG9yczogKysgLS0gPDwgPj4gJiYgfHxcblxuXG4gIGNoMiA9IGNoMy5zdWJzdHIoMCwgMik7XG5cbiAgaWYgKGNoMSA9PT0gY2gyWzFdICYmICcrLTw+JnwnLmluZGV4T2YoY2gxKSA+PSAwIHx8IGNoMiA9PT0gJz0+Jykge1xuICAgIGluZGV4ICs9IDI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFRva2VuUHVuY3R1YXRvcixcbiAgICAgIHZhbHVlOiBjaDIsXG4gICAgICBzdGFydDogc3RhcnQsXG4gICAgICBlbmQ6IGluZGV4XG4gICAgfTtcbiAgfVxuXG4gIGlmIChjaDIgPT09ICcvLycpIHtcbiAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW5leHBlY3RlZFRva2VuLCBJTExFR0FMKTtcbiAgfSAvLyAxLWNoYXJhY3RlciBwdW5jdHVhdG9yczogPCA+ID0gISArIC0gKiAlICYgfCBeIC9cblxuXG4gIGlmICgnPD49ISstKiUmfF4vJy5pbmRleE9mKGNoMSkgPj0gMCkge1xuICAgICsraW5kZXg7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFRva2VuUHVuY3R1YXRvcixcbiAgICAgIHZhbHVlOiBjaDEsXG4gICAgICBzdGFydDogc3RhcnQsXG4gICAgICBlbmQ6IGluZGV4XG4gICAgfTtcbiAgfVxuXG4gIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xufSAvLyA3LjguMyBOdW1lcmljIExpdGVyYWxzXG5cblxuZnVuY3Rpb24gc2NhbkhleExpdGVyYWwoc3RhcnQpIHtcbiAgbGV0IG51bWJlciA9ICcnO1xuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmICghaXNIZXhEaWdpdChzb3VyY2VbaW5kZXhdKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcbiAgfVxuXG4gIGlmIChudW1iZXIubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gIH1cblxuICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpKSkge1xuICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBUb2tlbk51bWVyaWNMaXRlcmFsLFxuICAgIHZhbHVlOiBwYXJzZUludCgnMHgnICsgbnVtYmVyLCAxNiksXG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGVuZDogaW5kZXhcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2Nhbk9jdGFsTGl0ZXJhbChzdGFydCkge1xuICBsZXQgbnVtYmVyID0gJzAnICsgc291cmNlW2luZGV4KytdO1xuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmICghaXNPY3RhbERpZ2l0KHNvdXJjZVtpbmRleF0pKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBudW1iZXIgKz0gc291cmNlW2luZGV4KytdO1xuICB9XG5cbiAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkgfHwgaXNEZWNpbWFsRGlnaXQoc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpKSkge1xuICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBUb2tlbk51bWVyaWNMaXRlcmFsLFxuICAgIHZhbHVlOiBwYXJzZUludChudW1iZXIsIDgpLFxuICAgIG9jdGFsOiB0cnVlLFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGluZGV4XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNjYW5OdW1lcmljTGl0ZXJhbCgpIHtcbiAgdmFyIG51bWJlciwgc3RhcnQsIGNoO1xuICBjaCA9IHNvdXJjZVtpbmRleF07XG4gIGFzc2VydChpc0RlY2ltYWxEaWdpdChjaC5jaGFyQ29kZUF0KDApKSB8fCBjaCA9PT0gJy4nLCAnTnVtZXJpYyBsaXRlcmFsIG11c3Qgc3RhcnQgd2l0aCBhIGRlY2ltYWwgZGlnaXQgb3IgYSBkZWNpbWFsIHBvaW50Jyk7XG4gIHN0YXJ0ID0gaW5kZXg7XG4gIG51bWJlciA9ICcnO1xuXG4gIGlmIChjaCAhPT0gJy4nKSB7XG4gICAgbnVtYmVyID0gc291cmNlW2luZGV4KytdO1xuICAgIGNoID0gc291cmNlW2luZGV4XTsgLy8gSGV4IG51bWJlciBzdGFydHMgd2l0aCAnMHgnLlxuICAgIC8vIE9jdGFsIG51bWJlciBzdGFydHMgd2l0aCAnMCcuXG5cbiAgICBpZiAobnVtYmVyID09PSAnMCcpIHtcbiAgICAgIGlmIChjaCA9PT0gJ3gnIHx8IGNoID09PSAnWCcpIHtcbiAgICAgICAgKytpbmRleDtcbiAgICAgICAgcmV0dXJuIHNjYW5IZXhMaXRlcmFsKHN0YXJ0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzT2N0YWxEaWdpdChjaCkpIHtcbiAgICAgICAgcmV0dXJuIHNjYW5PY3RhbExpdGVyYWwoc3RhcnQpO1xuICAgICAgfSAvLyBkZWNpbWFsIG51bWJlciBzdGFydHMgd2l0aCAnMCcgc3VjaCBhcyAnMDknIGlzIGlsbGVnYWwuXG5cblxuICAgICAgaWYgKGNoICYmIGlzRGVjaW1hbERpZ2l0KGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdoaWxlIChpc0RlY2ltYWxEaWdpdChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgICBudW1iZXIgKz0gc291cmNlW2luZGV4KytdO1xuICAgIH1cblxuICAgIGNoID0gc291cmNlW2luZGV4XTtcbiAgfVxuXG4gIGlmIChjaCA9PT0gJy4nKSB7XG4gICAgbnVtYmVyICs9IHNvdXJjZVtpbmRleCsrXTtcblxuICAgIHdoaWxlIChpc0RlY2ltYWxEaWdpdChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgICBudW1iZXIgKz0gc291cmNlW2luZGV4KytdO1xuICAgIH1cblxuICAgIGNoID0gc291cmNlW2luZGV4XTtcbiAgfVxuXG4gIGlmIChjaCA9PT0gJ2UnIHx8IGNoID09PSAnRScpIHtcbiAgICBudW1iZXIgKz0gc291cmNlW2luZGV4KytdO1xuICAgIGNoID0gc291cmNlW2luZGV4XTtcblxuICAgIGlmIChjaCA9PT0gJysnIHx8IGNoID09PSAnLScpIHtcbiAgICAgIG51bWJlciArPSBzb3VyY2VbaW5kZXgrK107XG4gICAgfVxuXG4gICAgaWYgKGlzRGVjaW1hbERpZ2l0KHNvdXJjZS5jaGFyQ29kZUF0KGluZGV4KSkpIHtcbiAgICAgIHdoaWxlIChpc0RlY2ltYWxEaWdpdChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgICAgIG51bWJlciArPSBzb3VyY2VbaW5kZXgrK107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0lkZW50aWZpZXJTdGFydChzb3VyY2UuY2hhckNvZGVBdChpbmRleCkpKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiwgSUxMRUdBTCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHR5cGU6IFRva2VuTnVtZXJpY0xpdGVyYWwsXG4gICAgdmFsdWU6IHBhcnNlRmxvYXQobnVtYmVyKSxcbiAgICBzdGFydDogc3RhcnQsXG4gICAgZW5kOiBpbmRleFxuICB9O1xufSAvLyA3LjguNCBTdHJpbmcgTGl0ZXJhbHNcblxuXG5mdW5jdGlvbiBzY2FuU3RyaW5nTGl0ZXJhbCgpIHtcbiAgdmFyIHN0ciA9ICcnLFxuICAgICAgcXVvdGUsXG4gICAgICBzdGFydCxcbiAgICAgIGNoLFxuICAgICAgY29kZSxcbiAgICAgIG9jdGFsID0gZmFsc2U7XG4gIHF1b3RlID0gc291cmNlW2luZGV4XTtcbiAgYXNzZXJ0KHF1b3RlID09PSAnXFwnJyB8fCBxdW90ZSA9PT0gJ1wiJywgJ1N0cmluZyBsaXRlcmFsIG11c3Qgc3RhcnRzIHdpdGggYSBxdW90ZScpO1xuICBzdGFydCA9IGluZGV4O1xuICArK2luZGV4O1xuXG4gIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgIGNoID0gc291cmNlW2luZGV4KytdO1xuXG4gICAgaWYgKGNoID09PSBxdW90ZSkge1xuICAgICAgcXVvdGUgPSAnJztcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09ICdcXFxcJykge1xuICAgICAgY2ggPSBzb3VyY2VbaW5kZXgrK107XG5cbiAgICAgIGlmICghY2ggfHwgIWlzTGluZVRlcm1pbmF0b3IoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgc3dpdGNoIChjaCkge1xuICAgICAgICAgIGNhc2UgJ3UnOlxuICAgICAgICAgIGNhc2UgJ3gnOlxuICAgICAgICAgICAgaWYgKHNvdXJjZVtpbmRleF0gPT09ICd7Jykge1xuICAgICAgICAgICAgICArK2luZGV4O1xuICAgICAgICAgICAgICBzdHIgKz0gc2NhblVuaWNvZGVDb2RlUG9pbnRFc2NhcGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0ciArPSBzY2FuSGV4RXNjYXBlKGNoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICduJzpcbiAgICAgICAgICAgIHN0ciArPSAnXFxuJztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAncic6XG4gICAgICAgICAgICBzdHIgKz0gJ1xccic7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgc3RyICs9ICdcXHQnO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICAgIHN0ciArPSAnXFxiJztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnZic6XG4gICAgICAgICAgICBzdHIgKz0gJ1xcZic7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3YnOlxuICAgICAgICAgICAgc3RyICs9ICdcXHgwQic7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoaXNPY3RhbERpZ2l0KGNoKSkge1xuICAgICAgICAgICAgICBjb2RlID0gJzAxMjM0NTY3Jy5pbmRleE9mKGNoKTsgLy8gXFwwIGlzIG5vdCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VcblxuICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIG9jdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBpc09jdGFsRGlnaXQoc291cmNlW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBvY3RhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29kZSA9IGNvZGUgKiA4ICsgJzAxMjM0NTY3Jy5pbmRleE9mKHNvdXJjZVtpbmRleCsrXSk7IC8vIDMgZGlnaXRzIGFyZSBvbmx5IGFsbG93ZWQgd2hlbiBzdHJpbmcgc3RhcnRzXG4gICAgICAgICAgICAgICAgLy8gd2l0aCAwLCAxLCAyLCAzXG5cbiAgICAgICAgICAgICAgICBpZiAoJzAxMjMnLmluZGV4T2YoY2gpID49IDAgJiYgaW5kZXggPCBsZW5ndGggJiYgaXNPY3RhbERpZ2l0KHNvdXJjZVtpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICBjb2RlID0gY29kZSAqIDggKyAnMDEyMzQ1NjcnLmluZGV4T2Yoc291cmNlW2luZGV4KytdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0ciArPSBjaDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjaCA9PT0gJ1xccicgJiYgc291cmNlW2luZGV4XSA9PT0gJ1xcbicpIHtcbiAgICAgICAgICArK2luZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0xpbmVUZXJtaW5hdG9yKGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9IGNoO1xuICAgIH1cbiAgfVxuXG4gIGlmIChxdW90ZSAhPT0gJycpIHtcbiAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW5leHBlY3RlZFRva2VuLCBJTExFR0FMKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogVG9rZW5TdHJpbmdMaXRlcmFsLFxuICAgIHZhbHVlOiBzdHIsXG4gICAgb2N0YWw6IG9jdGFsLFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGluZGV4XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRlc3RSZWdFeHAocGF0dGVybiwgZmxhZ3MpIHtcbiAgbGV0IHRtcCA9IHBhdHRlcm47XG5cbiAgaWYgKGZsYWdzLmluZGV4T2YoJ3UnKSA+PSAwKSB7XG4gICAgLy8gUmVwbGFjZSBlYWNoIGFzdHJhbCBzeW1ib2wgYW5kIGV2ZXJ5IFVuaWNvZGUgY29kZSBwb2ludFxuICAgIC8vIGVzY2FwZSBzZXF1ZW5jZSB3aXRoIGEgc2luZ2xlIEFTQ0lJIHN5bWJvbCB0byBhdm9pZCB0aHJvd2luZyBvblxuICAgIC8vIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdGhhdCBhcmUgb25seSB2YWxpZCBpbiBjb21iaW5hdGlvbiB3aXRoIHRoZVxuICAgIC8vIGAvdWAgZmxhZy5cbiAgICAvLyBOb3RlOiByZXBsYWNpbmcgd2l0aCB0aGUgQVNDSUkgc3ltYm9sIGB4YCBtaWdodCBjYXVzZSBmYWxzZVxuICAgIC8vIG5lZ2F0aXZlcyBpbiB1bmxpa2VseSBzY2VuYXJpb3MuIEZvciBleGFtcGxlLCBgW1xcdXs2MX0tYl1gIGlzIGFcbiAgICAvLyBwZXJmZWN0bHkgdmFsaWQgcGF0dGVybiB0aGF0IGlzIGVxdWl2YWxlbnQgdG8gYFthLWJdYCwgYnV0IGl0XG4gICAgLy8gd291bGQgYmUgcmVwbGFjZWQgYnkgYFt4LWJdYCB3aGljaCB0aHJvd3MgYW4gZXJyb3IuXG4gICAgdG1wID0gdG1wLnJlcGxhY2UoL1xcXFx1XFx7KFswLTlhLWZBLUZdKylcXH0vZywgKCQwLCAkMSkgPT4ge1xuICAgICAgaWYgKHBhcnNlSW50KCQxLCAxNikgPD0gMHgxMEZGRkYpIHtcbiAgICAgICAgcmV0dXJuICd4JztcbiAgICAgIH1cblxuICAgICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZUludmFsaWRSZWdFeHApO1xuICAgIH0pLnJlcGxhY2UoL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZywgJ3gnKTtcbiAgfSAvLyBGaXJzdCwgZGV0ZWN0IGludmFsaWQgcmVndWxhciBleHByZXNzaW9ucy5cblxuXG4gIHRyeSB7XG4gICAgbmV3IFJlZ0V4cCh0bXApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZUludmFsaWRSZWdFeHApO1xuICB9IC8vIFJldHVybiBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QgZm9yIHRoaXMgcGF0dGVybi1mbGFnIHBhaXIsIG9yXG4gIC8vIGBudWxsYCBpbiBjYXNlIHRoZSBjdXJyZW50IGVudmlyb25tZW50IGRvZXNuJ3Qgc3VwcG9ydCB0aGUgZmxhZ3MgaXRcbiAgLy8gdXNlcy5cblxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybiwgZmxhZ3MpO1xuICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzY2FuUmVnRXhwQm9keSgpIHtcbiAgdmFyIGNoLCBzdHIsIGNsYXNzTWFya2VyLCB0ZXJtaW5hdGVkLCBib2R5O1xuICBjaCA9IHNvdXJjZVtpbmRleF07XG4gIGFzc2VydChjaCA9PT0gJy8nLCAnUmVndWxhciBleHByZXNzaW9uIGxpdGVyYWwgbXVzdCBzdGFydCB3aXRoIGEgc2xhc2gnKTtcbiAgc3RyID0gc291cmNlW2luZGV4KytdO1xuICBjbGFzc01hcmtlciA9IGZhbHNlO1xuICB0ZXJtaW5hdGVkID0gZmFsc2U7XG5cbiAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgY2ggPSBzb3VyY2VbaW5kZXgrK107XG4gICAgc3RyICs9IGNoO1xuXG4gICAgaWYgKGNoID09PSAnXFxcXCcpIHtcbiAgICAgIGNoID0gc291cmNlW2luZGV4KytdOyAvLyBFQ01BLTI2MiA3LjguNVxuXG4gICAgICBpZiAoaXNMaW5lVGVybWluYXRvcihjaC5jaGFyQ29kZUF0KDApKSkge1xuICAgICAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW50ZXJtaW5hdGVkUmVnRXhwKTtcbiAgICAgIH1cblxuICAgICAgc3RyICs9IGNoO1xuICAgIH0gZWxzZSBpZiAoaXNMaW5lVGVybWluYXRvcihjaC5jaGFyQ29kZUF0KDApKSkge1xuICAgICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZVVudGVybWluYXRlZFJlZ0V4cCk7XG4gICAgfSBlbHNlIGlmIChjbGFzc01hcmtlcikge1xuICAgICAgaWYgKGNoID09PSAnXScpIHtcbiAgICAgICAgY2xhc3NNYXJrZXIgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNoID09PSAnLycpIHtcbiAgICAgICAgdGVybWluYXRlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1snKSB7XG4gICAgICAgIGNsYXNzTWFya2VyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIXRlcm1pbmF0ZWQpIHtcbiAgICB0aHJvd0Vycm9yKHt9LCBNZXNzYWdlVW50ZXJtaW5hdGVkUmVnRXhwKTtcbiAgfSAvLyBFeGNsdWRlIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoLlxuXG5cbiAgYm9keSA9IHN0ci5zdWJzdHIoMSwgc3RyLmxlbmd0aCAtIDIpO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiBib2R5LFxuICAgIGxpdGVyYWw6IHN0clxuICB9O1xufVxuXG5mdW5jdGlvbiBzY2FuUmVnRXhwRmxhZ3MoKSB7XG4gIHZhciBjaCwgc3RyLCBmbGFncztcbiAgc3RyID0gJyc7XG4gIGZsYWdzID0gJyc7XG5cbiAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgY2ggPSBzb3VyY2VbaW5kZXhdO1xuXG4gICAgaWYgKCFpc0lkZW50aWZpZXJQYXJ0KGNoLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICArK2luZGV4O1xuXG4gICAgaWYgKGNoID09PSAnXFxcXCcgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIElMTEVHQUwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmbGFncyArPSBjaDtcbiAgICAgIHN0ciArPSBjaDtcbiAgICB9XG4gIH1cblxuICBpZiAoZmxhZ3Muc2VhcmNoKC9bXmdpbXV5XS9nKSA+PSAwKSB7XG4gICAgdGhyb3dFcnJvcih7fSwgTWVzc2FnZUludmFsaWRSZWdFeHAsIGZsYWdzKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdmFsdWU6IGZsYWdzLFxuICAgIGxpdGVyYWw6IHN0clxuICB9O1xufVxuXG5mdW5jdGlvbiBzY2FuUmVnRXhwKCkge1xuICB2YXIgc3RhcnQsIGJvZHksIGZsYWdzLCB2YWx1ZTtcbiAgbG9va2FoZWFkID0gbnVsbDtcbiAgc2tpcENvbW1lbnQoKTtcbiAgc3RhcnQgPSBpbmRleDtcbiAgYm9keSA9IHNjYW5SZWdFeHBCb2R5KCk7XG4gIGZsYWdzID0gc2NhblJlZ0V4cEZsYWdzKCk7XG4gIHZhbHVlID0gdGVzdFJlZ0V4cChib2R5LnZhbHVlLCBmbGFncy52YWx1ZSk7XG4gIHJldHVybiB7XG4gICAgbGl0ZXJhbDogYm9keS5saXRlcmFsICsgZmxhZ3MubGl0ZXJhbCxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgcmVnZXg6IHtcbiAgICAgIHBhdHRlcm46IGJvZHkudmFsdWUsXG4gICAgICBmbGFnczogZmxhZ3MudmFsdWVcbiAgICB9LFxuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBlbmQ6IGluZGV4XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzSWRlbnRpZmllck5hbWUodG9rZW4pIHtcbiAgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuSWRlbnRpZmllciB8fCB0b2tlbi50eXBlID09PSBUb2tlbktleXdvcmQgfHwgdG9rZW4udHlwZSA9PT0gVG9rZW5Cb29sZWFuTGl0ZXJhbCB8fCB0b2tlbi50eXBlID09PSBUb2tlbk51bGxMaXRlcmFsO1xufVxuXG5mdW5jdGlvbiBhZHZhbmNlKCkge1xuICBza2lwQ29tbWVudCgpO1xuXG4gIGlmIChpbmRleCA+PSBsZW5ndGgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogVG9rZW5FT0YsXG4gICAgICBzdGFydDogaW5kZXgsXG4gICAgICBlbmQ6IGluZGV4XG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGNoID0gc291cmNlLmNoYXJDb2RlQXQoaW5kZXgpO1xuXG4gIGlmIChpc0lkZW50aWZpZXJTdGFydChjaCkpIHtcbiAgICByZXR1cm4gc2NhbklkZW50aWZpZXIoKTtcbiAgfSAvLyBWZXJ5IGNvbW1vbjogKCBhbmQgKSBhbmQgO1xuXG5cbiAgaWYgKGNoID09PSAweDI4IHx8IGNoID09PSAweDI5IHx8IGNoID09PSAweDNCKSB7XG4gICAgcmV0dXJuIHNjYW5QdW5jdHVhdG9yKCk7XG4gIH0gLy8gU3RyaW5nIGxpdGVyYWwgc3RhcnRzIHdpdGggc2luZ2xlIHF1b3RlIChVKzAwMjcpIG9yIGRvdWJsZSBxdW90ZSAoVSswMDIyKS5cblxuXG4gIGlmIChjaCA9PT0gMHgyNyB8fCBjaCA9PT0gMHgyMikge1xuICAgIHJldHVybiBzY2FuU3RyaW5nTGl0ZXJhbCgpO1xuICB9IC8vIERvdCAoLikgVSswMDJFIGNhbiBhbHNvIHN0YXJ0IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyLCBoZW5jZSB0aGUgbmVlZFxuICAvLyB0byBjaGVjayB0aGUgbmV4dCBjaGFyYWN0ZXIuXG5cblxuICBpZiAoY2ggPT09IDB4MkUpIHtcbiAgICBpZiAoaXNEZWNpbWFsRGlnaXQoc291cmNlLmNoYXJDb2RlQXQoaW5kZXggKyAxKSkpIHtcbiAgICAgIHJldHVybiBzY2FuTnVtZXJpY0xpdGVyYWwoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NhblB1bmN0dWF0b3IoKTtcbiAgfVxuXG4gIGlmIChpc0RlY2ltYWxEaWdpdChjaCkpIHtcbiAgICByZXR1cm4gc2Nhbk51bWVyaWNMaXRlcmFsKCk7XG4gIH1cblxuICByZXR1cm4gc2NhblB1bmN0dWF0b3IoKTtcbn1cblxuZnVuY3Rpb24gbGV4KCkge1xuICBjb25zdCB0b2tlbiA9IGxvb2thaGVhZDtcbiAgaW5kZXggPSB0b2tlbi5lbmQ7XG4gIGxvb2thaGVhZCA9IGFkdmFuY2UoKTtcbiAgaW5kZXggPSB0b2tlbi5lbmQ7XG4gIHJldHVybiB0b2tlbjtcbn1cblxuZnVuY3Rpb24gcGVlaygpIHtcbiAgY29uc3QgcG9zID0gaW5kZXg7XG4gIGxvb2thaGVhZCA9IGFkdmFuY2UoKTtcbiAgaW5kZXggPSBwb3M7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaEFycmF5RXhwcmVzc2lvbihlbGVtZW50cykge1xuICBjb25zdCBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4QXJyYXlFeHByZXNzaW9uKTtcbiAgbm9kZS5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZmluaXNoQmluYXJ5RXhwcmVzc2lvbihvcGVyYXRvciwgbGVmdCwgcmlnaHQpIHtcbiAgY29uc3Qgbm9kZSA9IG5ldyBBU1ROb2RlKG9wZXJhdG9yID09PSAnfHwnIHx8IG9wZXJhdG9yID09PSAnJiYnID8gU3ludGF4TG9naWNhbEV4cHJlc3Npb24gOiBTeW50YXhCaW5hcnlFeHByZXNzaW9uKTtcbiAgbm9kZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICBub2RlLmxlZnQgPSBsZWZ0O1xuICBub2RlLnJpZ2h0ID0gcmlnaHQ7XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hDYWxsRXhwcmVzc2lvbihjYWxsZWUsIGFyZ3MpIHtcbiAgY29uc3Qgbm9kZSA9IG5ldyBBU1ROb2RlKFN5bnRheENhbGxFeHByZXNzaW9uKTtcbiAgbm9kZS5jYWxsZWUgPSBjYWxsZWU7XG4gIG5vZGUuYXJndW1lbnRzID0gYXJncztcbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaENvbmRpdGlvbmFsRXhwcmVzc2lvbih0ZXN0LCBjb25zZXF1ZW50LCBhbHRlcm5hdGUpIHtcbiAgY29uc3Qgbm9kZSA9IG5ldyBBU1ROb2RlKFN5bnRheENvbmRpdGlvbmFsRXhwcmVzc2lvbik7XG4gIG5vZGUudGVzdCA9IHRlc3Q7XG4gIG5vZGUuY29uc2VxdWVudCA9IGNvbnNlcXVlbnQ7XG4gIG5vZGUuYWx0ZXJuYXRlID0gYWx0ZXJuYXRlO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZmluaXNoSWRlbnRpZmllcihuYW1lKSB7XG4gIGNvbnN0IG5vZGUgPSBuZXcgQVNUTm9kZShTeW50YXhJZGVudGlmaWVyKTtcbiAgbm9kZS5uYW1lID0gbmFtZTtcbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGZpbmlzaExpdGVyYWwodG9rZW4pIHtcbiAgY29uc3Qgbm9kZSA9IG5ldyBBU1ROb2RlKFN5bnRheExpdGVyYWwpO1xuICBub2RlLnZhbHVlID0gdG9rZW4udmFsdWU7XG4gIG5vZGUucmF3ID0gc291cmNlLnNsaWNlKHRva2VuLnN0YXJ0LCB0b2tlbi5lbmQpO1xuXG4gIGlmICh0b2tlbi5yZWdleCkge1xuICAgIGlmIChub2RlLnJhdyA9PT0gJy8vJykge1xuICAgICAgbm9kZS5yYXcgPSAnLyg/OikvJztcbiAgICB9XG5cbiAgICBub2RlLnJlZ2V4ID0gdG9rZW4ucmVnZXg7XG4gIH1cblxuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZmluaXNoTWVtYmVyRXhwcmVzc2lvbihhY2Nlc3Nvciwgb2JqZWN0LCBwcm9wZXJ0eSkge1xuICBjb25zdCBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4TWVtYmVyRXhwcmVzc2lvbik7XG4gIG5vZGUuY29tcHV0ZWQgPSBhY2Nlc3NvciA9PT0gJ1snO1xuICBub2RlLm9iamVjdCA9IG9iamVjdDtcbiAgbm9kZS5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICBpZiAoIW5vZGUuY29tcHV0ZWQpIHByb3BlcnR5Lm1lbWJlciA9IHRydWU7XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBmaW5pc2hPYmplY3RFeHByZXNzaW9uKHByb3BlcnRpZXMpIHtcbiAgY29uc3Qgbm9kZSA9IG5ldyBBU1ROb2RlKFN5bnRheE9iamVjdEV4cHJlc3Npb24pO1xuICBub2RlLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZmluaXNoUHJvcGVydHkoa2luZCwga2V5LCB2YWx1ZSkge1xuICBjb25zdCBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4UHJvcGVydHkpO1xuICBub2RlLmtleSA9IGtleTtcbiAgbm9kZS52YWx1ZSA9IHZhbHVlO1xuICBub2RlLmtpbmQgPSBraW5kO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZnVuY3Rpb24gZmluaXNoVW5hcnlFeHByZXNzaW9uKG9wZXJhdG9yLCBhcmd1bWVudCkge1xuICBjb25zdCBub2RlID0gbmV3IEFTVE5vZGUoU3ludGF4VW5hcnlFeHByZXNzaW9uKTtcbiAgbm9kZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICBub2RlLmFyZ3VtZW50ID0gYXJndW1lbnQ7XG4gIG5vZGUucHJlZml4ID0gdHJ1ZTtcbiAgcmV0dXJuIG5vZGU7XG59IC8vIFRocm93IGFuIGV4Y2VwdGlvblxuXG5cbmZ1bmN0aW9uIHRocm93RXJyb3IodG9rZW4sIG1lc3NhZ2VGb3JtYXQpIHtcbiAgdmFyIGVycm9yLFxuICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMiksXG4gICAgICBtc2cgPSBtZXNzYWdlRm9ybWF0LnJlcGxhY2UoLyUoXFxkKS9nLCAod2hvbGUsIGluZGV4KSA9PiB7XG4gICAgYXNzZXJ0KGluZGV4IDwgYXJncy5sZW5ndGgsICdNZXNzYWdlIHJlZmVyZW5jZSBtdXN0IGJlIGluIHJhbmdlJyk7XG4gICAgcmV0dXJuIGFyZ3NbaW5kZXhdO1xuICB9KTtcbiAgZXJyb3IgPSBuZXcgRXJyb3IobXNnKTtcbiAgZXJyb3IuaW5kZXggPSBpbmRleDtcbiAgZXJyb3IuZGVzY3JpcHRpb24gPSBtc2c7XG4gIHRocm93IGVycm9yO1xufSAvLyBUaHJvdyBhbiBleGNlcHRpb24gYmVjYXVzZSBvZiB0aGUgdG9rZW4uXG5cblxuZnVuY3Rpb24gdGhyb3dVbmV4cGVjdGVkKHRva2VuKSB7XG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlbkVPRikge1xuICAgIHRocm93RXJyb3IodG9rZW4sIE1lc3NhZ2VVbmV4cGVjdGVkRU9TKTtcbiAgfVxuXG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlbk51bWVyaWNMaXRlcmFsKSB7XG4gICAgdGhyb3dFcnJvcih0b2tlbiwgTWVzc2FnZVVuZXhwZWN0ZWROdW1iZXIpO1xuICB9XG5cbiAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuU3RyaW5nTGl0ZXJhbCkge1xuICAgIHRocm93RXJyb3IodG9rZW4sIE1lc3NhZ2VVbmV4cGVjdGVkU3RyaW5nKTtcbiAgfVxuXG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlbklkZW50aWZpZXIpIHtcbiAgICB0aHJvd0Vycm9yKHRva2VuLCBNZXNzYWdlVW5leHBlY3RlZElkZW50aWZpZXIpO1xuICB9XG5cbiAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuS2V5d29yZCkge1xuICAgIHRocm93RXJyb3IodG9rZW4sIE1lc3NhZ2VVbmV4cGVjdGVkUmVzZXJ2ZWQpO1xuICB9IC8vIEJvb2xlYW5MaXRlcmFsLCBOdWxsTGl0ZXJhbCwgb3IgUHVuY3R1YXRvci5cblxuXG4gIHRocm93RXJyb3IodG9rZW4sIE1lc3NhZ2VVbmV4cGVjdGVkVG9rZW4sIHRva2VuLnZhbHVlKTtcbn0gLy8gRXhwZWN0IHRoZSBuZXh0IHRva2VuIHRvIG1hdGNoIHRoZSBzcGVjaWZpZWQgcHVuY3R1YXRvci5cbi8vIElmIG5vdCwgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duLlxuXG5cbmZ1bmN0aW9uIGV4cGVjdCh2YWx1ZSkge1xuICBjb25zdCB0b2tlbiA9IGxleCgpO1xuXG4gIGlmICh0b2tlbi50eXBlICE9PSBUb2tlblB1bmN0dWF0b3IgfHwgdG9rZW4udmFsdWUgIT09IHZhbHVlKSB7XG4gICAgdGhyb3dVbmV4cGVjdGVkKHRva2VuKTtcbiAgfVxufSAvLyBSZXR1cm4gdHJ1ZSBpZiB0aGUgbmV4dCB0b2tlbiBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgcHVuY3R1YXRvci5cblxuXG5mdW5jdGlvbiBtYXRjaCh2YWx1ZSkge1xuICByZXR1cm4gbG9va2FoZWFkLnR5cGUgPT09IFRva2VuUHVuY3R1YXRvciAmJiBsb29rYWhlYWQudmFsdWUgPT09IHZhbHVlO1xufSAvLyBSZXR1cm4gdHJ1ZSBpZiB0aGUgbmV4dCB0b2tlbiBtYXRjaGVzIHRoZSBzcGVjaWZpZWQga2V5d29yZFxuXG5cbmZ1bmN0aW9uIG1hdGNoS2V5d29yZChrZXl3b3JkKSB7XG4gIHJldHVybiBsb29rYWhlYWQudHlwZSA9PT0gVG9rZW5LZXl3b3JkICYmIGxvb2thaGVhZC52YWx1ZSA9PT0ga2V5d29yZDtcbn0gLy8gMTEuMS40IEFycmF5IEluaXRpYWxpc2VyXG5cblxuZnVuY3Rpb24gcGFyc2VBcnJheUluaXRpYWxpc2VyKCkge1xuICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICBpbmRleCA9IGxvb2thaGVhZC5zdGFydDtcbiAgZXhwZWN0KCdbJyk7XG5cbiAgd2hpbGUgKCFtYXRjaCgnXScpKSB7XG4gICAgaWYgKG1hdGNoKCcsJykpIHtcbiAgICAgIGxleCgpO1xuICAgICAgZWxlbWVudHMucHVzaChudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudHMucHVzaChwYXJzZUNvbmRpdGlvbmFsRXhwcmVzc2lvbigpKTtcblxuICAgICAgaWYgKCFtYXRjaCgnXScpKSB7XG4gICAgICAgIGV4cGVjdCgnLCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxleCgpO1xuICByZXR1cm4gZmluaXNoQXJyYXlFeHByZXNzaW9uKGVsZW1lbnRzKTtcbn0gLy8gMTEuMS41IE9iamVjdCBJbml0aWFsaXNlclxuXG5cbmZ1bmN0aW9uIHBhcnNlT2JqZWN0UHJvcGVydHlLZXkoKSB7XG4gIGluZGV4ID0gbG9va2FoZWFkLnN0YXJ0O1xuICBjb25zdCB0b2tlbiA9IGxleCgpOyAvLyBOb3RlOiBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbmx5IGZyb20gcGFyc2VPYmplY3RQcm9wZXJ0eSgpLCB3aGVyZVxuICAvLyBFT0YgYW5kIFB1bmN0dWF0b3IgdG9rZW5zIGFyZSBhbHJlYWR5IGZpbHRlcmVkIG91dC5cblxuICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5TdHJpbmdMaXRlcmFsIHx8IHRva2VuLnR5cGUgPT09IFRva2VuTnVtZXJpY0xpdGVyYWwpIHtcbiAgICBpZiAodG9rZW4ub2N0YWwpIHtcbiAgICAgIHRocm93RXJyb3IodG9rZW4sIE1lc3NhZ2VTdHJpY3RPY3RhbExpdGVyYWwpO1xuICAgIH1cblxuICAgIHJldHVybiBmaW5pc2hMaXRlcmFsKHRva2VuKTtcbiAgfVxuXG4gIHJldHVybiBmaW5pc2hJZGVudGlmaWVyKHRva2VuLnZhbHVlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VPYmplY3RQcm9wZXJ0eSgpIHtcbiAgdmFyIHRva2VuLCBrZXksIGlkLCB2YWx1ZTtcbiAgaW5kZXggPSBsb29rYWhlYWQuc3RhcnQ7XG4gIHRva2VuID0gbG9va2FoZWFkO1xuXG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlbklkZW50aWZpZXIpIHtcbiAgICBpZCA9IHBhcnNlT2JqZWN0UHJvcGVydHlLZXkoKTtcbiAgICBleHBlY3QoJzonKTtcbiAgICB2YWx1ZSA9IHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCk7XG4gICAgcmV0dXJuIGZpbmlzaFByb3BlcnR5KCdpbml0JywgaWQsIHZhbHVlKTtcbiAgfVxuXG4gIGlmICh0b2tlbi50eXBlID09PSBUb2tlbkVPRiB8fCB0b2tlbi50eXBlID09PSBUb2tlblB1bmN0dWF0b3IpIHtcbiAgICB0aHJvd1VuZXhwZWN0ZWQodG9rZW4pO1xuICB9IGVsc2Uge1xuICAgIGtleSA9IHBhcnNlT2JqZWN0UHJvcGVydHlLZXkoKTtcbiAgICBleHBlY3QoJzonKTtcbiAgICB2YWx1ZSA9IHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCk7XG4gICAgcmV0dXJuIGZpbmlzaFByb3BlcnR5KCdpbml0Jywga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VPYmplY3RJbml0aWFsaXNlcigpIHtcbiAgdmFyIHByb3BlcnRpZXMgPSBbXSxcbiAgICAgIHByb3BlcnR5LFxuICAgICAgbmFtZSxcbiAgICAgIGtleSxcbiAgICAgIG1hcCA9IHt9LFxuICAgICAgdG9TdHJpbmcgPSBTdHJpbmc7XG4gIGluZGV4ID0gbG9va2FoZWFkLnN0YXJ0O1xuICBleHBlY3QoJ3snKTtcblxuICB3aGlsZSAoIW1hdGNoKCd9JykpIHtcbiAgICBwcm9wZXJ0eSA9IHBhcnNlT2JqZWN0UHJvcGVydHkoKTtcblxuICAgIGlmIChwcm9wZXJ0eS5rZXkudHlwZSA9PT0gU3ludGF4SWRlbnRpZmllcikge1xuICAgICAgbmFtZSA9IHByb3BlcnR5LmtleS5uYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gdG9TdHJpbmcocHJvcGVydHkua2V5LnZhbHVlKTtcbiAgICB9XG5cbiAgICBrZXkgPSAnJCcgKyBuYW1lO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtYXAsIGtleSkpIHtcbiAgICAgIHRocm93RXJyb3Ioe30sIE1lc3NhZ2VTdHJpY3REdXBsaWNhdGVQcm9wZXJ0eSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1hcFtrZXldID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuXG4gICAgaWYgKCFtYXRjaCgnfScpKSB7XG4gICAgICBleHBlY3QoJywnKTtcbiAgICB9XG4gIH1cblxuICBleHBlY3QoJ30nKTtcbiAgcmV0dXJuIGZpbmlzaE9iamVjdEV4cHJlc3Npb24ocHJvcGVydGllcyk7XG59IC8vIDExLjEuNiBUaGUgR3JvdXBpbmcgT3BlcmF0b3JcblxuXG5mdW5jdGlvbiBwYXJzZUdyb3VwRXhwcmVzc2lvbigpIHtcbiAgZXhwZWN0KCcoJyk7XG4gIGNvbnN0IGV4cHIgPSBwYXJzZUV4cHJlc3Npb24oKTtcbiAgZXhwZWN0KCcpJyk7XG4gIHJldHVybiBleHByO1xufSAvLyAxMS4xIFByaW1hcnkgRXhwcmVzc2lvbnNcblxuXG5jb25zdCBsZWdhbEtleXdvcmRzID0ge1xuICAnaWYnOiAxXG59O1xuXG5mdW5jdGlvbiBwYXJzZVByaW1hcnlFeHByZXNzaW9uKCkge1xuICB2YXIgdHlwZSwgdG9rZW4sIGV4cHI7XG5cbiAgaWYgKG1hdGNoKCcoJykpIHtcbiAgICByZXR1cm4gcGFyc2VHcm91cEV4cHJlc3Npb24oKTtcbiAgfVxuXG4gIGlmIChtYXRjaCgnWycpKSB7XG4gICAgcmV0dXJuIHBhcnNlQXJyYXlJbml0aWFsaXNlcigpO1xuICB9XG5cbiAgaWYgKG1hdGNoKCd7JykpIHtcbiAgICByZXR1cm4gcGFyc2VPYmplY3RJbml0aWFsaXNlcigpO1xuICB9XG5cbiAgdHlwZSA9IGxvb2thaGVhZC50eXBlO1xuICBpbmRleCA9IGxvb2thaGVhZC5zdGFydDtcblxuICBpZiAodHlwZSA9PT0gVG9rZW5JZGVudGlmaWVyIHx8IGxlZ2FsS2V5d29yZHNbbG9va2FoZWFkLnZhbHVlXSkge1xuICAgIGV4cHIgPSBmaW5pc2hJZGVudGlmaWVyKGxleCgpLnZhbHVlKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBUb2tlblN0cmluZ0xpdGVyYWwgfHwgdHlwZSA9PT0gVG9rZW5OdW1lcmljTGl0ZXJhbCkge1xuICAgIGlmIChsb29rYWhlYWQub2N0YWwpIHtcbiAgICAgIHRocm93RXJyb3IobG9va2FoZWFkLCBNZXNzYWdlU3RyaWN0T2N0YWxMaXRlcmFsKTtcbiAgICB9XG5cbiAgICBleHByID0gZmluaXNoTGl0ZXJhbChsZXgoKSk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gVG9rZW5LZXl3b3JkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKERJU0FCTEVEKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBUb2tlbkJvb2xlYW5MaXRlcmFsKSB7XG4gICAgdG9rZW4gPSBsZXgoKTtcbiAgICB0b2tlbi52YWx1ZSA9IHRva2VuLnZhbHVlID09PSAndHJ1ZSc7XG4gICAgZXhwciA9IGZpbmlzaExpdGVyYWwodG9rZW4pO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFRva2VuTnVsbExpdGVyYWwpIHtcbiAgICB0b2tlbiA9IGxleCgpO1xuICAgIHRva2VuLnZhbHVlID0gbnVsbDtcbiAgICBleHByID0gZmluaXNoTGl0ZXJhbCh0b2tlbik7XG4gIH0gZWxzZSBpZiAobWF0Y2goJy8nKSB8fCBtYXRjaCgnLz0nKSkge1xuICAgIGV4cHIgPSBmaW5pc2hMaXRlcmFsKHNjYW5SZWdFeHAoKSk7XG4gICAgcGVlaygpO1xuICB9IGVsc2Uge1xuICAgIHRocm93VW5leHBlY3RlZChsZXgoKSk7XG4gIH1cblxuICByZXR1cm4gZXhwcjtcbn0gLy8gMTEuMiBMZWZ0LUhhbmQtU2lkZSBFeHByZXNzaW9uc1xuXG5cbmZ1bmN0aW9uIHBhcnNlQXJndW1lbnRzKCkge1xuICBjb25zdCBhcmdzID0gW107XG4gIGV4cGVjdCgnKCcpO1xuXG4gIGlmICghbWF0Y2goJyknKSkge1xuICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJncy5wdXNoKHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCkpO1xuXG4gICAgICBpZiAobWF0Y2goJyknKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KCcsJyk7XG4gICAgfVxuICB9XG5cbiAgZXhwZWN0KCcpJyk7XG4gIHJldHVybiBhcmdzO1xufVxuXG5mdW5jdGlvbiBwYXJzZU5vbkNvbXB1dGVkUHJvcGVydHkoKSB7XG4gIGluZGV4ID0gbG9va2FoZWFkLnN0YXJ0O1xuICBjb25zdCB0b2tlbiA9IGxleCgpO1xuXG4gIGlmICghaXNJZGVudGlmaWVyTmFtZSh0b2tlbikpIHtcbiAgICB0aHJvd1VuZXhwZWN0ZWQodG9rZW4pO1xuICB9XG5cbiAgcmV0dXJuIGZpbmlzaElkZW50aWZpZXIodG9rZW4udmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU5vbkNvbXB1dGVkTWVtYmVyKCkge1xuICBleHBlY3QoJy4nKTtcbiAgcmV0dXJuIHBhcnNlTm9uQ29tcHV0ZWRQcm9wZXJ0eSgpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUNvbXB1dGVkTWVtYmVyKCkge1xuICBleHBlY3QoJ1snKTtcbiAgY29uc3QgZXhwciA9IHBhcnNlRXhwcmVzc2lvbigpO1xuICBleHBlY3QoJ10nKTtcbiAgcmV0dXJuIGV4cHI7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTGVmdEhhbmRTaWRlRXhwcmVzc2lvbkFsbG93Q2FsbCgpIHtcbiAgdmFyIGV4cHIsIGFyZ3MsIHByb3BlcnR5O1xuICBleHByID0gcGFyc2VQcmltYXJ5RXhwcmVzc2lvbigpO1xuXG4gIGZvciAoOzspIHtcbiAgICBpZiAobWF0Y2goJy4nKSkge1xuICAgICAgcHJvcGVydHkgPSBwYXJzZU5vbkNvbXB1dGVkTWVtYmVyKCk7XG4gICAgICBleHByID0gZmluaXNoTWVtYmVyRXhwcmVzc2lvbignLicsIGV4cHIsIHByb3BlcnR5KTtcbiAgICB9IGVsc2UgaWYgKG1hdGNoKCcoJykpIHtcbiAgICAgIGFyZ3MgPSBwYXJzZUFyZ3VtZW50cygpO1xuICAgICAgZXhwciA9IGZpbmlzaENhbGxFeHByZXNzaW9uKGV4cHIsIGFyZ3MpO1xuICAgIH0gZWxzZSBpZiAobWF0Y2goJ1snKSkge1xuICAgICAgcHJvcGVydHkgPSBwYXJzZUNvbXB1dGVkTWVtYmVyKCk7XG4gICAgICBleHByID0gZmluaXNoTWVtYmVyRXhwcmVzc2lvbignWycsIGV4cHIsIHByb3BlcnR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4cHI7XG59IC8vIDExLjMgUG9zdGZpeCBFeHByZXNzaW9uc1xuXG5cbmZ1bmN0aW9uIHBhcnNlUG9zdGZpeEV4cHJlc3Npb24oKSB7XG4gIGNvbnN0IGV4cHIgPSBwYXJzZUxlZnRIYW5kU2lkZUV4cHJlc3Npb25BbGxvd0NhbGwoKTtcblxuICBpZiAobG9va2FoZWFkLnR5cGUgPT09IFRva2VuUHVuY3R1YXRvcikge1xuICAgIGlmIChtYXRjaCgnKysnKSB8fCBtYXRjaCgnLS0nKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKERJU0FCTEVEKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXhwcjtcbn0gLy8gMTEuNCBVbmFyeSBPcGVyYXRvcnNcblxuXG5mdW5jdGlvbiBwYXJzZVVuYXJ5RXhwcmVzc2lvbigpIHtcbiAgdmFyIHRva2VuLCBleHByO1xuXG4gIGlmIChsb29rYWhlYWQudHlwZSAhPT0gVG9rZW5QdW5jdHVhdG9yICYmIGxvb2thaGVhZC50eXBlICE9PSBUb2tlbktleXdvcmQpIHtcbiAgICBleHByID0gcGFyc2VQb3N0Zml4RXhwcmVzc2lvbigpO1xuICB9IGVsc2UgaWYgKG1hdGNoKCcrKycpIHx8IG1hdGNoKCctLScpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKERJU0FCTEVEKTtcbiAgfSBlbHNlIGlmIChtYXRjaCgnKycpIHx8IG1hdGNoKCctJykgfHwgbWF0Y2goJ34nKSB8fCBtYXRjaCgnIScpKSB7XG4gICAgdG9rZW4gPSBsZXgoKTtcbiAgICBleHByID0gcGFyc2VVbmFyeUV4cHJlc3Npb24oKTtcbiAgICBleHByID0gZmluaXNoVW5hcnlFeHByZXNzaW9uKHRva2VuLnZhbHVlLCBleHByKTtcbiAgfSBlbHNlIGlmIChtYXRjaEtleXdvcmQoJ2RlbGV0ZScpIHx8IG1hdGNoS2V5d29yZCgndm9pZCcpIHx8IG1hdGNoS2V5d29yZCgndHlwZW9mJykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoRElTQUJMRUQpO1xuICB9IGVsc2Uge1xuICAgIGV4cHIgPSBwYXJzZVBvc3RmaXhFeHByZXNzaW9uKCk7XG4gIH1cblxuICByZXR1cm4gZXhwcjtcbn1cblxuZnVuY3Rpb24gYmluYXJ5UHJlY2VkZW5jZSh0b2tlbikge1xuICBsZXQgcHJlYyA9IDA7XG5cbiAgaWYgKHRva2VuLnR5cGUgIT09IFRva2VuUHVuY3R1YXRvciAmJiB0b2tlbi50eXBlICE9PSBUb2tlbktleXdvcmQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcbiAgICBjYXNlICd8fCc6XG4gICAgICBwcmVjID0gMTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnJiYnOlxuICAgICAgcHJlYyA9IDI7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3wnOlxuICAgICAgcHJlYyA9IDM7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ14nOlxuICAgICAgcHJlYyA9IDQ7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJyYnOlxuICAgICAgcHJlYyA9IDU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJz09JzpcbiAgICBjYXNlICchPSc6XG4gICAgY2FzZSAnPT09JzpcbiAgICBjYXNlICchPT0nOlxuICAgICAgcHJlYyA9IDY7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJzwnOlxuICAgIGNhc2UgJz4nOlxuICAgIGNhc2UgJzw9JzpcbiAgICBjYXNlICc+PSc6XG4gICAgY2FzZSAnaW5zdGFuY2VvZic6XG4gICAgY2FzZSAnaW4nOlxuICAgICAgcHJlYyA9IDc7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJzw8JzpcbiAgICBjYXNlICc+Pic6XG4gICAgY2FzZSAnPj4+JzpcbiAgICAgIHByZWMgPSA4O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICcrJzpcbiAgICBjYXNlICctJzpcbiAgICAgIHByZWMgPSA5O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICcqJzpcbiAgICBjYXNlICcvJzpcbiAgICBjYXNlICclJzpcbiAgICAgIHByZWMgPSAxMTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHByZWM7XG59IC8vIDExLjUgTXVsdGlwbGljYXRpdmUgT3BlcmF0b3JzXG4vLyAxMS42IEFkZGl0aXZlIE9wZXJhdG9yc1xuLy8gMTEuNyBCaXR3aXNlIFNoaWZ0IE9wZXJhdG9yc1xuLy8gMTEuOCBSZWxhdGlvbmFsIE9wZXJhdG9yc1xuLy8gMTEuOSBFcXVhbGl0eSBPcGVyYXRvcnNcbi8vIDExLjEwIEJpbmFyeSBCaXR3aXNlIE9wZXJhdG9yc1xuLy8gMTEuMTEgQmluYXJ5IExvZ2ljYWwgT3BlcmF0b3JzXG5cblxuZnVuY3Rpb24gcGFyc2VCaW5hcnlFeHByZXNzaW9uKCkge1xuICB2YXIgbWFya2VyLCBtYXJrZXJzLCBleHByLCB0b2tlbiwgcHJlYywgc3RhY2ssIHJpZ2h0LCBvcGVyYXRvciwgbGVmdCwgaTtcbiAgbWFya2VyID0gbG9va2FoZWFkO1xuICBsZWZ0ID0gcGFyc2VVbmFyeUV4cHJlc3Npb24oKTtcbiAgdG9rZW4gPSBsb29rYWhlYWQ7XG4gIHByZWMgPSBiaW5hcnlQcmVjZWRlbmNlKHRva2VuKTtcblxuICBpZiAocHJlYyA9PT0gMCkge1xuICAgIHJldHVybiBsZWZ0O1xuICB9XG5cbiAgdG9rZW4ucHJlYyA9IHByZWM7XG4gIGxleCgpO1xuICBtYXJrZXJzID0gW21hcmtlciwgbG9va2FoZWFkXTtcbiAgcmlnaHQgPSBwYXJzZVVuYXJ5RXhwcmVzc2lvbigpO1xuICBzdGFjayA9IFtsZWZ0LCB0b2tlbiwgcmlnaHRdO1xuXG4gIHdoaWxlICgocHJlYyA9IGJpbmFyeVByZWNlZGVuY2UobG9va2FoZWFkKSkgPiAwKSB7XG4gICAgLy8gUmVkdWNlOiBtYWtlIGEgYmluYXJ5IGV4cHJlc3Npb24gZnJvbSB0aGUgdGhyZWUgdG9wbW9zdCBlbnRyaWVzLlxuICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAyICYmIHByZWMgPD0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMl0ucHJlYykge1xuICAgICAgcmlnaHQgPSBzdGFjay5wb3AoKTtcbiAgICAgIG9wZXJhdG9yID0gc3RhY2sucG9wKCkudmFsdWU7XG4gICAgICBsZWZ0ID0gc3RhY2sucG9wKCk7XG4gICAgICBtYXJrZXJzLnBvcCgpO1xuICAgICAgZXhwciA9IGZpbmlzaEJpbmFyeUV4cHJlc3Npb24ob3BlcmF0b3IsIGxlZnQsIHJpZ2h0KTtcbiAgICAgIHN0YWNrLnB1c2goZXhwcik7XG4gICAgfSAvLyBTaGlmdC5cblxuXG4gICAgdG9rZW4gPSBsZXgoKTtcbiAgICB0b2tlbi5wcmVjID0gcHJlYztcbiAgICBzdGFjay5wdXNoKHRva2VuKTtcbiAgICBtYXJrZXJzLnB1c2gobG9va2FoZWFkKTtcbiAgICBleHByID0gcGFyc2VVbmFyeUV4cHJlc3Npb24oKTtcbiAgICBzdGFjay5wdXNoKGV4cHIpO1xuICB9IC8vIEZpbmFsIHJlZHVjZSB0byBjbGVhbi11cCB0aGUgc3RhY2suXG5cblxuICBpID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgZXhwciA9IHN0YWNrW2ldO1xuICBtYXJrZXJzLnBvcCgpO1xuXG4gIHdoaWxlIChpID4gMSkge1xuICAgIG1hcmtlcnMucG9wKCk7XG4gICAgZXhwciA9IGZpbmlzaEJpbmFyeUV4cHJlc3Npb24oc3RhY2tbaSAtIDFdLnZhbHVlLCBzdGFja1tpIC0gMl0sIGV4cHIpO1xuICAgIGkgLT0gMjtcbiAgfVxuXG4gIHJldHVybiBleHByO1xufSAvLyAxMS4xMiBDb25kaXRpb25hbCBPcGVyYXRvclxuXG5cbmZ1bmN0aW9uIHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCkge1xuICB2YXIgZXhwciwgY29uc2VxdWVudCwgYWx0ZXJuYXRlO1xuICBleHByID0gcGFyc2VCaW5hcnlFeHByZXNzaW9uKCk7XG5cbiAgaWYgKG1hdGNoKCc/JykpIHtcbiAgICBsZXgoKTtcbiAgICBjb25zZXF1ZW50ID0gcGFyc2VDb25kaXRpb25hbEV4cHJlc3Npb24oKTtcbiAgICBleHBlY3QoJzonKTtcbiAgICBhbHRlcm5hdGUgPSBwYXJzZUNvbmRpdGlvbmFsRXhwcmVzc2lvbigpO1xuICAgIGV4cHIgPSBmaW5pc2hDb25kaXRpb25hbEV4cHJlc3Npb24oZXhwciwgY29uc2VxdWVudCwgYWx0ZXJuYXRlKTtcbiAgfVxuXG4gIHJldHVybiBleHByO1xufSAvLyAxMS4xNCBDb21tYSBPcGVyYXRvclxuXG5cbmZ1bmN0aW9uIHBhcnNlRXhwcmVzc2lvbigpIHtcbiAgY29uc3QgZXhwciA9IHBhcnNlQ29uZGl0aW9uYWxFeHByZXNzaW9uKCk7XG5cbiAgaWYgKG1hdGNoKCcsJykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoRElTQUJMRUQpOyAvLyBubyBzZXF1ZW5jZSBleHByZXNzaW9uc1xuICB9XG5cbiAgcmV0dXJuIGV4cHI7XG59XG5cbmZ1bmN0aW9uIHBhcnNlciAoY29kZSkge1xuICBzb3VyY2UgPSBjb2RlO1xuICBpbmRleCA9IDA7XG4gIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gIGxvb2thaGVhZCA9IG51bGw7XG4gIHBlZWsoKTtcbiAgY29uc3QgZXhwciA9IHBhcnNlRXhwcmVzc2lvbigpO1xuXG4gIGlmIChsb29rYWhlYWQudHlwZSAhPT0gVG9rZW5FT0YpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0IHRva2VuIGFmdGVyIGV4cHJlc3Npb24uJyk7XG4gIH1cblxuICByZXR1cm4gZXhwcjtcbn1cblxudmFyIENvbnN0YW50cyA9IHtcbiAgTmFOOiAnTmFOJyxcbiAgRTogJ01hdGguRScsXG4gIExOMjogJ01hdGguTE4yJyxcbiAgTE4xMDogJ01hdGguTE4xMCcsXG4gIExPRzJFOiAnTWF0aC5MT0cyRScsXG4gIExPRzEwRTogJ01hdGguTE9HMTBFJyxcbiAgUEk6ICdNYXRoLlBJJyxcbiAgU1FSVDFfMjogJ01hdGguU1FSVDFfMicsXG4gIFNRUlQyOiAnTWF0aC5TUVJUMicsXG4gIE1JTl9WQUxVRTogJ051bWJlci5NSU5fVkFMVUUnLFxuICBNQVhfVkFMVUU6ICdOdW1iZXIuTUFYX1ZBTFVFJ1xufTtcblxuZnVuY3Rpb24gRnVuY3Rpb25zIChjb2RlZ2VuKSB7XG4gIGZ1bmN0aW9uIGZuY2FsbChuYW1lLCBhcmdzLCBjYXN0LCB0eXBlKSB7XG4gICAgbGV0IG9iaiA9IGNvZGVnZW4oYXJnc1swXSk7XG5cbiAgICBpZiAoY2FzdCkge1xuICAgICAgb2JqID0gY2FzdCArICcoJyArIG9iaiArICcpJztcbiAgICAgIGlmIChjYXN0Lmxhc3RJbmRleE9mKCduZXcgJywgMCkgPT09IDApIG9iaiA9ICcoJyArIG9iaiArICcpJztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqICsgJy4nICsgbmFtZSArICh0eXBlIDwgMCA/ICcnIDogdHlwZSA9PT0gMCA/ICcoKScgOiAnKCcgKyBhcmdzLnNsaWNlKDEpLm1hcChjb2RlZ2VuKS5qb2luKCcsJykgKyAnKScpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm4obmFtZSwgY2FzdCwgdHlwZSkge1xuICAgIHJldHVybiBhcmdzID0+IGZuY2FsbChuYW1lLCBhcmdzLCBjYXN0LCB0eXBlKTtcbiAgfVxuXG4gIGNvbnN0IERBVEUgPSAnbmV3IERhdGUnLFxuICAgICAgICBTVFJJTkcgPSAnU3RyaW5nJyxcbiAgICAgICAgUkVHRVhQID0gJ1JlZ0V4cCc7XG4gIHJldHVybiB7XG4gICAgLy8gTUFUSCBmdW5jdGlvbnNcbiAgICBpc05hTjogJ051bWJlci5pc05hTicsXG4gICAgaXNGaW5pdGU6ICdOdW1iZXIuaXNGaW5pdGUnLFxuICAgIGFiczogJ01hdGguYWJzJyxcbiAgICBhY29zOiAnTWF0aC5hY29zJyxcbiAgICBhc2luOiAnTWF0aC5hc2luJyxcbiAgICBhdGFuOiAnTWF0aC5hdGFuJyxcbiAgICBhdGFuMjogJ01hdGguYXRhbjInLFxuICAgIGNlaWw6ICdNYXRoLmNlaWwnLFxuICAgIGNvczogJ01hdGguY29zJyxcbiAgICBleHA6ICdNYXRoLmV4cCcsXG4gICAgZmxvb3I6ICdNYXRoLmZsb29yJyxcbiAgICBsb2c6ICdNYXRoLmxvZycsXG4gICAgbWF4OiAnTWF0aC5tYXgnLFxuICAgIG1pbjogJ01hdGgubWluJyxcbiAgICBwb3c6ICdNYXRoLnBvdycsXG4gICAgcmFuZG9tOiAnTWF0aC5yYW5kb20nLFxuICAgIHJvdW5kOiAnTWF0aC5yb3VuZCcsXG4gICAgc2luOiAnTWF0aC5zaW4nLFxuICAgIHNxcnQ6ICdNYXRoLnNxcnQnLFxuICAgIHRhbjogJ01hdGgudGFuJyxcbiAgICBjbGFtcDogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDMpIGVycm9yKCdNaXNzaW5nIGFyZ3VtZW50cyB0byBjbGFtcCBmdW5jdGlvbi4nKTtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDMpIGVycm9yKCdUb28gbWFueSBhcmd1bWVudHMgdG8gY2xhbXAgZnVuY3Rpb24uJyk7XG4gICAgICBjb25zdCBhID0gYXJncy5tYXAoY29kZWdlbik7XG4gICAgICByZXR1cm4gJ01hdGgubWF4KCcgKyBhWzFdICsgJywgTWF0aC5taW4oJyArIGFbMl0gKyAnLCcgKyBhWzBdICsgJykpJztcbiAgICB9LFxuICAgIC8vIERBVEUgZnVuY3Rpb25zXG4gICAgbm93OiAnRGF0ZS5ub3cnLFxuICAgIHV0YzogJ0RhdGUuVVRDJyxcbiAgICBkYXRldGltZTogREFURSxcbiAgICBkYXRlOiBmbignZ2V0RGF0ZScsIERBVEUsIDApLFxuICAgIGRheTogZm4oJ2dldERheScsIERBVEUsIDApLFxuICAgIHllYXI6IGZuKCdnZXRGdWxsWWVhcicsIERBVEUsIDApLFxuICAgIG1vbnRoOiBmbignZ2V0TW9udGgnLCBEQVRFLCAwKSxcbiAgICBob3VyczogZm4oJ2dldEhvdXJzJywgREFURSwgMCksXG4gICAgbWludXRlczogZm4oJ2dldE1pbnV0ZXMnLCBEQVRFLCAwKSxcbiAgICBzZWNvbmRzOiBmbignZ2V0U2Vjb25kcycsIERBVEUsIDApLFxuICAgIG1pbGxpc2Vjb25kczogZm4oJ2dldE1pbGxpc2Vjb25kcycsIERBVEUsIDApLFxuICAgIHRpbWU6IGZuKCdnZXRUaW1lJywgREFURSwgMCksXG4gICAgdGltZXpvbmVvZmZzZXQ6IGZuKCdnZXRUaW1lem9uZU9mZnNldCcsIERBVEUsIDApLFxuICAgIHV0Y2RhdGU6IGZuKCdnZXRVVENEYXRlJywgREFURSwgMCksXG4gICAgdXRjZGF5OiBmbignZ2V0VVRDRGF5JywgREFURSwgMCksXG4gICAgdXRjeWVhcjogZm4oJ2dldFVUQ0Z1bGxZZWFyJywgREFURSwgMCksXG4gICAgdXRjbW9udGg6IGZuKCdnZXRVVENNb250aCcsIERBVEUsIDApLFxuICAgIHV0Y2hvdXJzOiBmbignZ2V0VVRDSG91cnMnLCBEQVRFLCAwKSxcbiAgICB1dGNtaW51dGVzOiBmbignZ2V0VVRDTWludXRlcycsIERBVEUsIDApLFxuICAgIHV0Y3NlY29uZHM6IGZuKCdnZXRVVENTZWNvbmRzJywgREFURSwgMCksXG4gICAgdXRjbWlsbGlzZWNvbmRzOiBmbignZ2V0VVRDTWlsbGlzZWNvbmRzJywgREFURSwgMCksXG4gICAgLy8gc2VxdWVuY2UgZnVuY3Rpb25zXG4gICAgbGVuZ3RoOiBmbignbGVuZ3RoJywgbnVsbCwgLTEpLFxuICAgIGpvaW46IGZuKCdqb2luJywgbnVsbCksXG4gICAgaW5kZXhvZjogZm4oJ2luZGV4T2YnLCBudWxsKSxcbiAgICBsYXN0aW5kZXhvZjogZm4oJ2xhc3RJbmRleE9mJywgbnVsbCksXG4gICAgc2xpY2U6IGZuKCdzbGljZScsIG51bGwpLFxuICAgIHJldmVyc2U6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICByZXR1cm4gJygnICsgY29kZWdlbihhcmdzWzBdKSArICcpLnNsaWNlKCkucmV2ZXJzZSgpJztcbiAgICB9LFxuICAgIC8vIFNUUklORyBmdW5jdGlvbnNcbiAgICBwYXJzZUZsb2F0OiAncGFyc2VGbG9hdCcsXG4gICAgcGFyc2VJbnQ6ICdwYXJzZUludCcsXG4gICAgdXBwZXI6IGZuKCd0b1VwcGVyQ2FzZScsIFNUUklORywgMCksXG4gICAgbG93ZXI6IGZuKCd0b0xvd2VyQ2FzZScsIFNUUklORywgMCksXG4gICAgc3Vic3RyaW5nOiBmbignc3Vic3RyaW5nJywgU1RSSU5HKSxcbiAgICBzcGxpdDogZm4oJ3NwbGl0JywgU1RSSU5HKSxcbiAgICByZXBsYWNlOiBmbigncmVwbGFjZScsIFNUUklORyksXG4gICAgdHJpbTogZm4oJ3RyaW0nLCBTVFJJTkcsIDApLFxuICAgIC8vIFJFR0VYUCBmdW5jdGlvbnNcbiAgICByZWdleHA6IFJFR0VYUCxcbiAgICB0ZXN0OiBmbigndGVzdCcsIFJFR0VYUCksXG4gICAgLy8gQ29udHJvbCBGbG93IGZ1bmN0aW9uc1xuICAgIGlmOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMykgZXJyb3IoJ01pc3NpbmcgYXJndW1lbnRzIHRvIGlmIGZ1bmN0aW9uLicpO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMykgZXJyb3IoJ1RvbyBtYW55IGFyZ3VtZW50cyB0byBpZiBmdW5jdGlvbi4nKTtcbiAgICAgIGNvbnN0IGEgPSBhcmdzLm1hcChjb2RlZ2VuKTtcbiAgICAgIHJldHVybiAnKCcgKyBhWzBdICsgJz8nICsgYVsxXSArICc6JyArIGFbMl0gKyAnKSc7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBzdHJpcFF1b3RlcyhzKSB7XG4gIGNvbnN0IG4gPSBzICYmIHMubGVuZ3RoIC0gMTtcbiAgcmV0dXJuIG4gJiYgKHNbMF0gPT09ICdcIicgJiYgc1tuXSA9PT0gJ1wiJyB8fCBzWzBdID09PSAnXFwnJyAmJiBzW25dID09PSAnXFwnJykgPyBzLnNsaWNlKDEsIC0xKSA6IHM7XG59XG5cbmZ1bmN0aW9uIGNvZGVnZW4gKG9wdCkge1xuICBvcHQgPSBvcHQgfHwge307XG4gIGNvbnN0IGFsbG93ZWQgPSBvcHQuYWxsb3dlZCA/IHRvU2V0KG9wdC5hbGxvd2VkKSA6IHt9LFxuICAgICAgICBmb3JiaWRkZW4gPSBvcHQuZm9yYmlkZGVuID8gdG9TZXQob3B0LmZvcmJpZGRlbikgOiB7fSxcbiAgICAgICAgY29uc3RhbnRzID0gb3B0LmNvbnN0YW50cyB8fCBDb25zdGFudHMsXG4gICAgICAgIGZ1bmN0aW9ucyA9IChvcHQuZnVuY3Rpb25zIHx8IEZ1bmN0aW9ucykodmlzaXQpLFxuICAgICAgICBnbG9iYWx2YXIgPSBvcHQuZ2xvYmFsdmFyLFxuICAgICAgICBmaWVsZHZhciA9IG9wdC5maWVsZHZhcixcbiAgICAgICAgb3V0cHV0R2xvYmFsID0gaXNGdW5jdGlvbihnbG9iYWx2YXIpID8gZ2xvYmFsdmFyIDogaWQgPT4gXCJcIi5jb25jYXQoZ2xvYmFsdmFyLCBcIltcXFwiXCIpLmNvbmNhdChpZCwgXCJcXFwiXVwiKTtcbiAgbGV0IGdsb2JhbHMgPSB7fSxcbiAgICAgIGZpZWxkcyA9IHt9LFxuICAgICAgbWVtYmVyRGVwdGggPSAwO1xuXG4gIGZ1bmN0aW9uIHZpc2l0KGFzdCkge1xuICAgIGlmIChpc1N0cmluZyhhc3QpKSByZXR1cm4gYXN0O1xuICAgIGNvbnN0IGdlbmVyYXRvciA9IEdlbmVyYXRvcnNbYXN0LnR5cGVdO1xuICAgIGlmIChnZW5lcmF0b3IgPT0gbnVsbCkgZXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGU6ICcgKyBhc3QudHlwZSk7XG4gICAgcmV0dXJuIGdlbmVyYXRvcihhc3QpO1xuICB9XG5cbiAgY29uc3QgR2VuZXJhdG9ycyA9IHtcbiAgICBMaXRlcmFsOiBuID0+IG4ucmF3LFxuICAgIElkZW50aWZpZXI6IG4gPT4ge1xuICAgICAgY29uc3QgaWQgPSBuLm5hbWU7XG5cbiAgICAgIGlmIChtZW1iZXJEZXB0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eShmb3JiaWRkZW4sIGlkKSkge1xuICAgICAgICByZXR1cm4gZXJyb3IoJ0lsbGVnYWwgaWRlbnRpZmllcjogJyArIGlkKTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkoY29uc3RhbnRzLCBpZCkpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0YW50c1tpZF07XG4gICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KGFsbG93ZWQsIGlkKSkge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnbG9iYWxzW2lkXSA9IDE7XG4gICAgICAgIHJldHVybiBvdXRwdXRHbG9iYWwoaWQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgTWVtYmVyRXhwcmVzc2lvbjogbiA9PiB7XG4gICAgICBjb25zdCBkID0gIW4uY29tcHV0ZWQsXG4gICAgICAgICAgICBvID0gdmlzaXQobi5vYmplY3QpO1xuICAgICAgaWYgKGQpIG1lbWJlckRlcHRoICs9IDE7XG4gICAgICBjb25zdCBwID0gdmlzaXQobi5wcm9wZXJ0eSk7XG5cbiAgICAgIGlmIChvID09PSBmaWVsZHZhcikge1xuICAgICAgICAvLyBzdHJpcCBxdW90ZXMgdG8gc2FuaXRpemUgZmllbGQgbmFtZSAoIzE2NTMpXG4gICAgICAgIGZpZWxkc1tzdHJpcFF1b3RlcyhwKV0gPSAxO1xuICAgICAgfVxuXG4gICAgICBpZiAoZCkgbWVtYmVyRGVwdGggLT0gMTtcbiAgICAgIHJldHVybiBvICsgKGQgPyAnLicgKyBwIDogJ1snICsgcCArICddJyk7XG4gICAgfSxcbiAgICBDYWxsRXhwcmVzc2lvbjogbiA9PiB7XG4gICAgICBpZiAobi5jYWxsZWUudHlwZSAhPT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICAgIGVycm9yKCdJbGxlZ2FsIGNhbGxlZSB0eXBlOiAnICsgbi5jYWxsZWUudHlwZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhbGxlZSA9IG4uY2FsbGVlLm5hbWUsXG4gICAgICAgICAgICBhcmdzID0gbi5hcmd1bWVudHMsXG4gICAgICAgICAgICBmbiA9IGhhc093blByb3BlcnR5KGZ1bmN0aW9ucywgY2FsbGVlKSAmJiBmdW5jdGlvbnNbY2FsbGVlXTtcbiAgICAgIGlmICghZm4pIGVycm9yKCdVbnJlY29nbml6ZWQgZnVuY3Rpb246ICcgKyBjYWxsZWUpO1xuICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oZm4pID8gZm4oYXJncykgOiBmbiArICcoJyArIGFyZ3MubWFwKHZpc2l0KS5qb2luKCcsJykgKyAnKSc7XG4gICAgfSxcbiAgICBBcnJheUV4cHJlc3Npb246IG4gPT4gJ1snICsgbi5lbGVtZW50cy5tYXAodmlzaXQpLmpvaW4oJywnKSArICddJyxcbiAgICBCaW5hcnlFeHByZXNzaW9uOiBuID0+ICcoJyArIHZpc2l0KG4ubGVmdCkgKyAnICcgKyBuLm9wZXJhdG9yICsgJyAnICsgdmlzaXQobi5yaWdodCkgKyAnKScsXG4gICAgVW5hcnlFeHByZXNzaW9uOiBuID0+ICcoJyArIG4ub3BlcmF0b3IgKyB2aXNpdChuLmFyZ3VtZW50KSArICcpJyxcbiAgICBDb25kaXRpb25hbEV4cHJlc3Npb246IG4gPT4gJygnICsgdmlzaXQobi50ZXN0KSArICc/JyArIHZpc2l0KG4uY29uc2VxdWVudCkgKyAnOicgKyB2aXNpdChuLmFsdGVybmF0ZSkgKyAnKScsXG4gICAgTG9naWNhbEV4cHJlc3Npb246IG4gPT4gJygnICsgdmlzaXQobi5sZWZ0KSArIG4ub3BlcmF0b3IgKyB2aXNpdChuLnJpZ2h0KSArICcpJyxcbiAgICBPYmplY3RFeHByZXNzaW9uOiBuID0+ICd7JyArIG4ucHJvcGVydGllcy5tYXAodmlzaXQpLmpvaW4oJywnKSArICd9JyxcbiAgICBQcm9wZXJ0eTogbiA9PiB7XG4gICAgICBtZW1iZXJEZXB0aCArPSAxO1xuICAgICAgY29uc3QgayA9IHZpc2l0KG4ua2V5KTtcbiAgICAgIG1lbWJlckRlcHRoIC09IDE7XG4gICAgICByZXR1cm4gayArICc6JyArIHZpc2l0KG4udmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjb2RlZ2VuKGFzdCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGNvZGU6IHZpc2l0KGFzdCksXG4gICAgICBnbG9iYWxzOiBPYmplY3Qua2V5cyhnbG9iYWxzKSxcbiAgICAgIGZpZWxkczogT2JqZWN0LmtleXMoZmllbGRzKVxuICAgIH07XG4gICAgZ2xvYmFscyA9IHt9O1xuICAgIGZpZWxkcyA9IHt9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBjb2RlZ2VuLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucztcbiAgY29kZWdlbi5jb25zdGFudHMgPSBjb25zdGFudHM7XG4gIHJldHVybiBjb2RlZ2VuO1xufVxuXG5leHBvcnQgeyBBU1ROb2RlLCBBcnJheUV4cHJlc3Npb24sIEJpbmFyeUV4cHJlc3Npb24sIENhbGxFeHByZXNzaW9uLCBDb25kaXRpb25hbEV4cHJlc3Npb24sIElkZW50aWZpZXIsIExpdGVyYWwsIExvZ2ljYWxFeHByZXNzaW9uLCBNZW1iZXJFeHByZXNzaW9uLCBPYmplY3RFeHByZXNzaW9uLCBQcm9wZXJ0eSwgUmF3Q29kZSwgVW5hcnlFeHByZXNzaW9uLCBjb2RlZ2VuLCBDb25zdGFudHMgYXMgY29uc3RhbnRzLCBGdW5jdGlvbnMgYXMgZnVuY3Rpb25zLCBwYXJzZXIgYXMgcGFyc2UgfTtcbiIsImV4cG9ydHMuVFlQRVMgPSB7XG4gIFFVQU5USVRBVElWRTogJ3F1YW50aXRhdGl2ZScsXG4gIE9SRElOQUw6ICdvcmRpbmFsJyxcbiAgVEVNUE9SQUw6ICd0ZW1wb3JhbCcsXG4gIE5PTUlOQUw6ICdub21pbmFsJyxcbiAgR0VPSlNPTjogJ2dlb2pzb24nXG59O1xuXG5leHBvcnRzLkNIQU5ORUxTID0gW1wieFwiLCBcInlcIiwgXCJjb2xvclwiLCBcInNoYXBlXCIsIFwic2l6ZVwiLCBcInRleHRcIiwgXCJyb3dcIiwgXCJjb2x1bW5cIl07XG5leHBvcnRzLk9QUyAgPSBbXCJlcXVhbFwiLCBcImx0XCIsIFwibHRlXCIsIFwiZ3RcIiwgXCJndGVcIiwgXCJyYW5nZVwiLCBcIm9uZU9mXCIsIFwidmFsaWRcIl07XG5leHBvcnRzLkxPR0lDX09QUyA9IFtcImFuZFwiLCBcIm9yXCIsIFwibm90XCJdOyIsIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5pc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB7fS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuZnVuY3Rpb24gaXNTdHJpbmcoaXRlbSkge1xuICByZXR1cm4gdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnIHx8IGl0ZW0gaW5zdGFuY2VvZiBTdHJpbmc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5mdW5jdGlvbiBpc2luKGl0ZW0sIGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbn1cbmV4cG9ydHMuaXNpbiA9IGlzaW47XG5cbmZ1bmN0aW9uIGpzb24ocywgc3ApIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHMsIG51bGwsIHNwKTtcbn1cbmV4cG9ydHMuanNvbiA9IGpzb247XG5cbmZ1bmN0aW9uIGtleXMob2JqKSB7XG4gIHZhciBrID0gW10sIHg7XG4gIGZvciAoeCBpbiBvYmopIHtcbiAgICBrLnB1c2goeCk7XG4gIH1cbiAgcmV0dXJuIGs7XG59XG5leHBvcnRzLmtleXMgPSBrZXlzO1xuXG5mdW5jdGlvbiBkdXBsaWNhdGUob2JqKSB7XG4gIGlmIChvYmogPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5leHBvcnRzLmR1cGxpY2F0ZSA9IGR1cGxpY2F0ZTtcbmV4cG9ydHMuY29weSA9IGR1cGxpY2F0ZTtcblxuZnVuY3Rpb24gZm9yRWFjaChvYmosIGYsIHRoaXNBcmcpIHtcbiAgaWYgKG9iai5mb3JFYWNoKSB7XG4gICAgb2JqLmZvckVhY2guY2FsbCh0aGlzQXJnLCBmKTtcbiAgfVxuICBlbHNlIHtcbiAgICBmb3IgKHZhciBrIGluIG9iaikge1xuICAgICAgZi5jYWxsKHRoaXNBcmcsIG9ialtrXSwgaywgb2JqKTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydHMuZm9yRWFjaCA9IGZvckVhY2g7XG5cbmZ1bmN0aW9uIGFueShhcnIsIGYpIHtcbiAgdmFyIGkgPSAwLCBrO1xuICBmb3IgKGsgaW4gYXJyKSB7XG4gICAgaWYgKGYoYXJyW2tdLCBrLCBpKyspKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5hbnkgPSBhbnk7XG5cbmZ1bmN0aW9uIG5lc3RlZE1hcChjb2xsZWN0aW9uLCBmLCBsZXZlbCwgZmlsdGVyKSB7XG4gIHJldHVybiBsZXZlbCA9PT0gMCA/XG4gICAgY29sbGVjdGlvbi5tYXAoZikgOlxuICAgIGNvbGxlY3Rpb24ubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICB2YXIgciA9IG5lc3RlZE1hcCh2LCBmLCBsZXZlbCAtIDEpO1xuICAgICAgcmV0dXJuIGZpbHRlciA/IHIuZmlsdGVyKG5vbkVtcHR5KSA6IHI7XG4gICAgfSk7XG59XG5leHBvcnRzLm5lc3RlZE1hcCA9IG5lc3RlZE1hcDtcblxuZnVuY3Rpb24gbmVzdGVkUmVkdWNlKGNvbGxlY3Rpb24sIGYsIGxldmVsLCBmaWx0ZXIpIHtcbiAgcmV0dXJuIGxldmVsID09PSAwID9cbiAgICBjb2xsZWN0aW9uLnJlZHVjZShmLCBbXSkgOlxuICAgIGNvbGxlY3Rpb24ubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICB2YXIgciA9IG5lc3RlZFJlZHVjZSh2LCBmLCBsZXZlbCAtIDEpO1xuICAgICAgcmV0dXJuIGZpbHRlciA/IHIuZmlsdGVyKG5vbkVtcHR5KSA6IHI7XG4gICAgfSk7XG59XG5leHBvcnRzLm5lc3RlZFJlZHVjZSA9IG5lc3RlZFJlZHVjZTtcblxuZnVuY3Rpb24gbm9uRW1wdHkoZ3JwKSB7XG4gIHJldHVybiAhZXhwb3J0cy5pc0FycmF5KGdycCkgfHwgZ3JwLmxlbmd0aCA+IDA7XG59XG5leHBvcnRzLm5vbkVtcHR5ID0gbm9uRW1wdHk7XG5cbmZ1bmN0aW9uIHRyYXZlcnNlKG5vZGUsIGFycikge1xuICBpZiAobm9kZS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyLnB1c2gobm9kZS52YWx1ZSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKG5vZGUubGVmdCkge1xuICAgICAgdHJhdmVyc2Uobm9kZS5sZWZ0LCBhcnIpO1xuICAgIH1cbiAgICBpZiAobm9kZS5yaWdodCkge1xuICAgICAgdHJhdmVyc2Uobm9kZS5yaWdodCwgYXJyKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cbmV4cG9ydHMudHJhdmVyc2UgPSB0cmF2ZXJzZTtcblxuZnVuY3Rpb24gZXh0ZW5kKG9iaiwgYikge1xuICB2YXIgcmVzdCA9IFtdO1xuICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgIHJlc3RbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gIH1cbiAgZm9yICh2YXIgeCwgbmFtZSwgaSA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIHggPSBhcmd1bWVudHNbaV07XG4gICAgZm9yIChuYW1lIGluIHgpIHtcbiAgICAgIG9ialtuYW1lXSA9IHhbbmFtZV07XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5leHBvcnRzLmV4dGVuZCA9IGV4dGVuZDtcblxuZnVuY3Rpb24gdW5pb24oYXJyMSwgYXJyMiwgYWNjZXNzb3IgPSAoZCkgPT4gZCkge1xuICBsZXQgcmVzdWx0ID0gWy4uLmFycjFdO1xuICByZXR1cm4gcmVzdWx0LmNvbmNhdChcbiAgICAgIGFycjIuZmlsdGVyKHggPT4gIWFycjEuZmluZCh5ID0+IGFjY2Vzc29yKHgpID09PSBhY2Nlc3Nvcih5KSkpXG4gICAgKTtcbn1cbmV4cG9ydHMudW5pb24gPSB1bmlvbjtcblxudmFyIGdlbjtcbihmdW5jdGlvbiAoZ2VuKSB7XG4gIGZ1bmN0aW9uIGdldE9wdChvcHQpIHtcbiAgICByZXR1cm4gKG9wdCA/IGtleXMob3B0KSA6IFtdKS5yZWR1Y2UoZnVuY3Rpb24gKGMsIGspIHtcbiAgICAgIGNba10gPSBvcHRba107XG4gICAgICByZXR1cm4gYztcbiAgICB9LCBPYmplY3QuY3JlYXRlKHt9KSk7XG4gIH1cbiAgZ2VuLmdldE9wdCA9IGdldE9wdDtcbiAgO1xufSkoZ2VuID0gZXhwb3J0cy5nZW4gfHwgKGV4cG9ydHMuZ2VuID0ge30pKTtcbmZ1bmN0aW9uIHBvd2Vyc2V0KGxpc3QpIHtcbiAgdmFyIHBzID0gW1xuICAgIFtdXG4gIF07XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIGZvciAodmFyIGogPSAwLCBsZW4gPSBwcy5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgcHMucHVzaChwc1tqXS5jb25jYXQobGlzdFtpXSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHM7XG59XG5leHBvcnRzLnBvd2Vyc2V0ID0gcG93ZXJzZXQ7XG5cbmZ1bmN0aW9uIGNob29zZUtvckxlc3MobGlzdCwgaykge1xuICB2YXIgc3Vic2V0ID0gW1tdXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDAsIGxlbiA9IHN1YnNldC5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgdmFyIHN1YiA9IHN1YnNldFtqXS5jb25jYXQobGlzdFtpXSk7XG4gICAgICBpZiAoc3ViLmxlbmd0aCA8PSBrKSB7XG4gICAgICAgIHN1YnNldC5wdXNoKHN1Yik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBzdWJzZXQ7XG59XG5leHBvcnRzLmNob29zZUtvckxlc3MgPSBjaG9vc2VLb3JMZXNzO1xuXG5mdW5jdGlvbiBjaG9vc2VLKGxpc3QsIGspIHtcbiAgdmFyIHN1YnNldCA9IFtbXV07XG4gIHZhciBrQXJyYXkgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDAsIGxlbiA9IHN1YnNldC5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgdmFyIHN1YiA9IHN1YnNldFtqXS5jb25jYXQobGlzdFtpXSk7XG4gICAgICBpZiAoc3ViLmxlbmd0aCA8IGspIHtcbiAgICAgICAgc3Vic2V0LnB1c2goc3ViKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN1Yi5sZW5ndGggPT09IGspIHtcbiAgICAgICAga0FycmF5LnB1c2goc3ViKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGtBcnJheTtcbn1cbmV4cG9ydHMuY2hvb3NlSyA9IGNob29zZUs7XG5cbmZ1bmN0aW9uIGNyb3NzKGEsIGIpIHtcbiAgdmFyIHggPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBiLmxlbmd0aDsgaisrKSB7XG4gICAgICB4LnB1c2goYVtpXS5jb25jYXQoYltqXSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4geDtcbn1cbmV4cG9ydHMuY3Jvc3MgPSBjcm9zcztcblxuZnVuY3Rpb24gZmluZChhcnJheSwgZiwgb2JqKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoZihvYmopID09PSBmKGFycmF5W2ldKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cbmV4cG9ydHMuZmluZCA9IGZpbmQ7XG5mdW5jdGlvbiByYXdFcXVhbChhLCBiKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShhKSA9PT0gSlNPTi5zdHJpbmdpZnkoYik7XG59XG5leHBvcnRzLnJhd0VxdWFsID0gcmF3RXF1YWw7XG5mdW5jdGlvbiBhcnJheURpZmYoYSwgYiwgZikge1xuICByZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcbiAgICBpZiAoIWYpIHtcbiAgICAgIHJldHVybiBiLmZpbmRJbmRleCh5ID0+IGRlZXBFcXVhbCh4LHkpKSA8IDA7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgIHJldHVybiBmaW5kKGIsIGYsIHgpIDwgMDtcbiAgfSk7XG59XG5leHBvcnRzLmFycmF5RGlmZiA9IGFycmF5RGlmZjtcbmZ1bmN0aW9uIHVuaW9uT2JqZWN0QXJyYXkoYSwgYiwgZikge1xuICByZXR1cm4gYXJyYXlEaWZmKGEsIGIsIGYpLmNvbmNhdChiKTtcbn1cbmV4cG9ydHMudW5pb25PYmplY3RBcnJheSA9IHVuaW9uT2JqZWN0QXJyYXk7XG5cbmZ1bmN0aW9uIGRlZXBFcXVhbChvYmoxLCBvYmoyKSB7XG4gIGlmIChvYmoxID09PSBvYmoyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGlzRGF0ZShvYmoxKSAmJiBpc0RhdGUob2JqMikpIHtcbiAgICByZXR1cm4gTnVtYmVyKG9iajEpID09PSBOdW1iZXIob2JqMik7XG4gIH1cbiAgaWYgKFxuICAgIHR5cGVvZiBvYmoxID09PSBcIm9iamVjdFwiICYmXG4gICAgb2JqMSAhPT0gdW5kZWZpbmVkICYmXG4gICAgdHlwZW9mIG9iajIgPT09IFwib2JqZWN0XCIgJiZcbiAgICBvYmoyICE9PSB1bmRlZmluZWRcbiAgKSB7XG4gICAgY29uc3QgcHJvcHMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gICAgY29uc3QgcHJvcHMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gICAgaWYgKHByb3BzMS5sZW5ndGggIT09IHByb3BzMi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzMS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJvcCA9IHByb3BzMVtpXTtcblxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqMiwgcHJvcCkgfHwgIWRlZXBFcXVhbChvYmoxW3Byb3BdLCBvYmoyW3Byb3BdKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuZGVlcEVxdWFsID0gZGVlcEVxdWFsO1xuXG5cbmZ1bmN0aW9uIGlzRGF0ZShvKSB7XG4gIHJldHVybiBvICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG8uZ2V0TW9udGggPT09IFwiZnVuY3Rpb25cIjtcbn1cblxuLy8gcGFydGl0aW9uaW5nIHRoZSBhcnJheSBpbnRvIE5fcCBhcnJheXNcbmZ1bmN0aW9uIHBhcnRpdGlvbihhcnIsIE5fcCkge1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gTl9wKSB7XG4gICAgcmV0dXJuIFthcnIubWFwKGl0ZW0gPT4gW2l0ZW1dKV1cbiAgfSBlbHNlIGlmIChOX3AgPT09IDEpIHtcbiAgICByZXR1cm4gW1thcnJdXVxuICB9IGVsc2UgaWYgKE5fcCA+IGFyci5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBwYXJ0aXRpb24gdGhlIGFycmF5IG9mICR7YXJyLmxlbmd0aH0gaW50byAke05fcH0uYCk7XG4gIH0gZWxzZSBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgaXRlbSA9IFthcnJbMF1dO1xuICBsZXQgbmV3QXJyID0gYXJyLnNsaWNlKDEpO1xuICBsZXQgcmVzdWx0cyA9ICBwYXJ0aXRpb24obmV3QXJyLCBOX3AgLSAxKS5tYXAocHQgPT4ge1xuICAgIGxldCBuZXdQdCA9IGR1cGxpY2F0ZShwdCk7XG4gICAgbmV3UHQucHVzaChpdGVtKVxuICAgIHJldHVybiBuZXdQdFxuICB9KTtcbiAgcmV0dXJuIHBhcnRpdGlvbihuZXdBcnIsIE5fcCkucmVkdWNlKChyZXN1bHRzLCBjdXJyUHQpID0+IHtcblxuICAgIHJldHVybiByZXN1bHRzLmNvbmNhdChjdXJyUHQubWFwKChwLCBpLCBjdXJyUHQpID0+IHtcbiAgICAgIGxldCBuZXdQdCA9IGR1cGxpY2F0ZShjdXJyUHQpO1xuICAgICAgbGV0IG5ld1AgPSBkdXBsaWNhdGUocCk7XG4gICAgICBuZXdQLnB1c2goaXRlbVswXSk7XG4gICAgICBuZXdQdFtpXSA9IG5ld1A7XG4gICAgICByZXR1cm4gbmV3UHQ7XG4gICAgfSkpO1xuICB9LCByZXN1bHRzKVxufVxuZXhwb3J0cy5wYXJ0aXRpb24gPSBwYXJ0aXRpb247XG5cbmZ1bmN0aW9uIHBlcm11dGF0ZShhcnIpIHtcbiAgaWYgKGFyci5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gW2Fycl07XG4gIH1cbiAgaWYgKGFyci5sZW5ndGggPT09IDIpIHtcbiAgICByZXR1cm4gW2FyciwgW2FyclsxXSwgYXJyWzBdXV07XG4gIH1cbiAgcmV0dXJuIGFyci5yZWR1Y2UoKGFjYywgYW5jaG9yLCBpKSA9PiB7XG4gICAgY29uc3Qgd29ya2luZ0FyciA9IGR1cGxpY2F0ZShhcnIpO1xuICAgIHdvcmtpbmdBcnIuc3BsaWNlKGksIDEpO1xuXG4gICAgYWNjID0gYWNjLmNvbmNhdChcbiAgICAgIHBlcm11dGF0ZSh3b3JraW5nQXJyKS5tYXAobmV3QXJyID0+IHtcbiAgICAgICAgcmV0dXJuIFthbmNob3JdLmNvbmNhdChuZXdBcnIpO1xuICAgICAgfSlcbiAgICApO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIFtdKTtcbn1cbmV4cG9ydHMucGVybXV0YXRlID0gcGVybXV0YXRlO1xuXG5mdW5jdGlvbiBpbnRlcnNlY3Rpb24oYXJyMSwgYXJyMiwgYWNjZXNzb3IgPSAoZCkgPT4gZCkge1xuICByZXR1cm4gYXJyMi5maWx0ZXIoeCA9PiBhcnIxLmZpbHRlcih5ID0+IGFjY2Vzc29yKHgpID09PSBhY2Nlc3Nvcih5KSkubGVuZ3RoID4gMClcbn1cbmV4cG9ydHMuaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uXG5cbmZ1bmN0aW9uIHVuaXF1ZShhcnIsIGFjY2Vzc29yID0gKGQpID0+ICBkKSB7XG4gIGxldCBtYXBzID0gYXJyLm1hcChhY2Nlc3NvcikucmVkdWNlKChhY2MsIGN1cnIpID0+IHtcbiAgICBhY2NbY3Vycl0gPSB0cnVlO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcHMpXG59XG5leHBvcnRzLnVuaXF1ZSA9IHVuaXF1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIiwiZXhwb3J0cy5ERUZBVUxUX0VESVRfT1BTID0ge1xuICBcIm1hcmtFZGl0T3BzXCI6e1wiQVJFQV9CQVJcIjp7XCJuYW1lXCI6XCJBUkVBX0JBUlwiLFwiY29zdFwiOjAuMDN9LFwiQVJFQV9MSU5FXCI6e1wibmFtZVwiOlwiQVJFQV9MSU5FXCIsXCJjb3N0XCI6MC4wMn0sXCJBUkVBX1BPSU5UXCI6e1wibmFtZVwiOlwiQVJFQV9QT0lOVFwiLFwiY29zdFwiOjAuMDR9LFwiQVJFQV9URVhUXCI6e1wibmFtZVwiOlwiQVJFQV9URVhUXCIsXCJjb3N0XCI6MC4wOH0sXCJBUkVBX1RJQ0tcIjp7XCJuYW1lXCI6XCJBUkVBX1RJQ0tcIixcImNvc3RcIjowLjA0fSxcIkJBUl9MSU5FXCI6e1wibmFtZVwiOlwiQkFSX0xJTkVcIixcImNvc3RcIjowLjA0fSxcIkJBUl9QT0lOVFwiOntcIm5hbWVcIjpcIkJBUl9QT0lOVFwiLFwiY29zdFwiOjAuMDJ9LFwiQkFSX1RFWFRcIjp7XCJuYW1lXCI6XCJCQVJfVEVYVFwiLFwiY29zdFwiOjAuMDZ9LFwiQkFSX1RJQ0tcIjp7XCJuYW1lXCI6XCJCQVJfVElDS1wiLFwiY29zdFwiOjAuMDJ9LFwiTElORV9QT0lOVFwiOntcIm5hbWVcIjpcIkxJTkVfUE9JTlRcIixcImNvc3RcIjowLjAzfSxcIkxJTkVfVEVYVFwiOntcIm5hbWVcIjpcIkxJTkVfVEVYVFwiLFwiY29zdFwiOjAuMDd9LFwiTElORV9USUNLXCI6e1wibmFtZVwiOlwiTElORV9USUNLXCIsXCJjb3N0XCI6MC4wM30sXCJQT0lOVF9URVhUXCI6e1wibmFtZVwiOlwiUE9JTlRfVEVYVFwiLFwiY29zdFwiOjAuMDV9LFwiUE9JTlRfVElDS1wiOntcIm5hbWVcIjpcIlBPSU5UX1RJQ0tcIixcImNvc3RcIjowLjAxfSxcIlRFWFRfVElDS1wiOntcIm5hbWVcIjpcIlRFWFRfVElDS1wiLFwiY29zdFwiOjAuMDV9fSxcbiAgXCJ0cmFuc2Zvcm1FZGl0T3BzXCI6e1wiU0NBTEVcIjp7XCJuYW1lXCI6XCJTQ0FMRVwiLFwiY29zdFwiOjAuNn0sXCJTT1JUXCI6e1wibmFtZVwiOlwiU09SVFwiLFwiY29zdFwiOjAuNjF9LFwiQklOXCI6e1wibmFtZVwiOlwiQklOXCIsXCJjb3N0XCI6MC42Mn0sXCJBR0dSRUdBVEVcIjp7XCJuYW1lXCI6XCJBR0dSRUdBVEVcIixcImNvc3RcIjowLjYzfSxcIkFERF9GSUxURVJcIjp7XCJuYW1lXCI6XCJBRERfRklMVEVSXCIsXCJjb3N0XCI6MC42NX0sXCJSRU1PVkVfRklMVEVSXCI6e1wibmFtZVwiOlwiUkVNT1ZFX0ZJTFRFUlwiLFwiY29zdFwiOjAuNjV9LFwiTU9ESUZZX0ZJTFRFUlwiOntcIm5hbWVcIjpcIk1PRElGWV9GSUxURVJcIixcImNvc3RcIjowLjY0fX0sXG4gIFwiZW5jb2RpbmdFZGl0T3BzXCI6e1wiQUREX1hcIjp7XCJuYW1lXCI6XCJBRERfWFwiLFwiY29zdFwiOjQuNTl9LFwiQUREX1lcIjp7XCJuYW1lXCI6XCJBRERfWVwiLFwiY29zdFwiOjQuNTl9LFwiQUREX0NPTE9SXCI6e1wibmFtZVwiOlwiQUREX0NPTE9SXCIsXCJjb3N0XCI6NC41NX0sXCJBRERfU0hBUEVcIjp7XCJuYW1lXCI6XCJBRERfU0hBUEVcIixcImNvc3RcIjo0LjUxfSxcIkFERF9TSVpFXCI6e1wibmFtZVwiOlwiQUREX1NJWkVcIixcImNvc3RcIjo0LjUzfSxcIkFERF9ST1dcIjp7XCJuYW1lXCI6XCJBRERfUk9XXCIsXCJjb3N0XCI6NC41N30sXCJBRERfQ09MVU1OXCI6e1wibmFtZVwiOlwiQUREX0NPTFVNTlwiLFwiY29zdFwiOjQuNTd9LFwiQUREX1RFWFRcIjp7XCJuYW1lXCI6XCJBRERfVEVYVFwiLFwiY29zdFwiOjQuNDl9LFwiQUREX1hfQ09VTlRcIjp7XCJuYW1lXCI6XCJBRERfWF9DT1VOVFwiLFwiY29zdFwiOjQuNTh9LFwiQUREX1lfQ09VTlRcIjp7XCJuYW1lXCI6XCJBRERfWV9DT1VOVFwiLFwiY29zdFwiOjQuNTh9LFwiQUREX0NPTE9SX0NPVU5UXCI6e1wibmFtZVwiOlwiQUREX0NPTE9SX0NPVU5UXCIsXCJjb3N0XCI6NC41NH0sXCJBRERfU0hBUEVfQ09VTlRcIjp7XCJuYW1lXCI6XCJBRERfU0hBUEVfQ09VTlRcIixcImNvc3RcIjo0LjV9LFwiQUREX1NJWkVfQ09VTlRcIjp7XCJuYW1lXCI6XCJBRERfU0laRV9DT1VOVFwiLFwiY29zdFwiOjQuNTJ9LFwiQUREX1JPV19DT1VOVFwiOntcIm5hbWVcIjpcIkFERF9ST1dfQ09VTlRcIixcImNvc3RcIjo0LjU2fSxcIkFERF9DT0xVTU5fQ09VTlRcIjp7XCJuYW1lXCI6XCJBRERfQ09MVU1OX0NPVU5UXCIsXCJjb3N0XCI6NC41Nn0sXCJBRERfVEVYVF9DT1VOVFwiOntcIm5hbWVcIjpcIkFERF9URVhUX0NPVU5UXCIsXCJjb3N0XCI6NC40OH0sXCJSRU1PVkVfWF9DT1VOVFwiOntcIm5hbWVcIjpcIlJFTU9WRV9YX0NPVU5UXCIsXCJjb3N0XCI6NC41OH0sXCJSRU1PVkVfWV9DT1VOVFwiOntcIm5hbWVcIjpcIlJFTU9WRV9ZX0NPVU5UXCIsXCJjb3N0XCI6NC41OH0sXCJSRU1PVkVfQ09MT1JfQ09VTlRcIjp7XCJuYW1lXCI6XCJSRU1PVkVfQ09MT1JfQ09VTlRcIixcImNvc3RcIjo0LjU0fSxcIlJFTU9WRV9TSEFQRV9DT1VOVFwiOntcIm5hbWVcIjpcIlJFTU9WRV9TSEFQRV9DT1VOVFwiLFwiY29zdFwiOjQuNX0sXCJSRU1PVkVfU0laRV9DT1VOVFwiOntcIm5hbWVcIjpcIlJFTU9WRV9TSVpFX0NPVU5UXCIsXCJjb3N0XCI6NC41Mn0sXCJSRU1PVkVfUk9XX0NPVU5UXCI6e1wibmFtZVwiOlwiUkVNT1ZFX1JPV19DT1VOVFwiLFwiY29zdFwiOjQuNTZ9LFwiUkVNT1ZFX0NPTFVNTl9DT1VOVFwiOntcIm5hbWVcIjpcIlJFTU9WRV9DT0xVTU5fQ09VTlRcIixcImNvc3RcIjo0LjU2fSxcIlJFTU9WRV9URVhUX0NPVU5UXCI6e1wibmFtZVwiOlwiUkVNT1ZFX1RFWFRfQ09VTlRcIixcImNvc3RcIjo0LjQ4fSxcIlJFTU9WRV9YXCI6e1wibmFtZVwiOlwiUkVNT1ZFX1hcIixcImNvc3RcIjo0LjU5fSxcIlJFTU9WRV9ZXCI6e1wibmFtZVwiOlwiUkVNT1ZFX1lcIixcImNvc3RcIjo0LjU5fSxcIlJFTU9WRV9DT0xPUlwiOntcIm5hbWVcIjpcIlJFTU9WRV9DT0xPUlwiLFwiY29zdFwiOjQuNTV9LFwiUkVNT1ZFX1NIQVBFXCI6e1wibmFtZVwiOlwiUkVNT1ZFX1NIQVBFXCIsXCJjb3N0XCI6NC41MX0sXCJSRU1PVkVfU0laRVwiOntcIm5hbWVcIjpcIlJFTU9WRV9TSVpFXCIsXCJjb3N0XCI6NC41M30sXCJSRU1PVkVfUk9XXCI6e1wibmFtZVwiOlwiUkVNT1ZFX1JPV1wiLFwiY29zdFwiOjQuNTd9LFwiUkVNT1ZFX0NPTFVNTlwiOntcIm5hbWVcIjpcIlJFTU9WRV9DT0xVTU5cIixcImNvc3RcIjo0LjU3fSxcIlJFTU9WRV9URVhUXCI6e1wibmFtZVwiOlwiUkVNT1ZFX1RFWFRcIixcImNvc3RcIjo0LjQ5fSxcIk1PRElGWV9YXCI6e1wibmFtZVwiOlwiTU9ESUZZX1hcIixcImNvc3RcIjo0LjcxfSxcIk1PRElGWV9ZXCI6e1wibmFtZVwiOlwiTU9ESUZZX1lcIixcImNvc3RcIjo0LjcxfSxcIk1PRElGWV9DT0xPUlwiOntcIm5hbWVcIjpcIk1PRElGWV9DT0xPUlwiLFwiY29zdFwiOjQuNjd9LFwiTU9ESUZZX1NIQVBFXCI6e1wibmFtZVwiOlwiTU9ESUZZX1NIQVBFXCIsXCJjb3N0XCI6NC42M30sXCJNT0RJRllfU0laRVwiOntcIm5hbWVcIjpcIk1PRElGWV9TSVpFXCIsXCJjb3N0XCI6NC42NX0sXCJNT0RJRllfUk9XXCI6e1wibmFtZVwiOlwiTU9ESUZZX1JPV1wiLFwiY29zdFwiOjQuNjl9LFwiTU9ESUZZX0NPTFVNTlwiOntcIm5hbWVcIjpcIk1PRElGWV9DT0xVTU5cIixcImNvc3RcIjo0LjY5fSxcIk1PRElGWV9URVhUXCI6e1wibmFtZVwiOlwiTU9ESUZZX1RFWFRcIixcImNvc3RcIjo0LjYxfSxcIk1PRElGWV9YX0FERF9DT1VOVFwiOntcIm5hbWVcIjpcIk1PRElGWV9YX0FERF9DT1VOVFwiLFwiY29zdFwiOjQuN30sXCJNT0RJRllfWV9BRERfQ09VTlRcIjp7XCJuYW1lXCI6XCJNT0RJRllfWV9BRERfQ09VTlRcIixcImNvc3RcIjo0Ljd9LFwiTU9ESUZZX0NPTE9SX0FERF9DT1VOVFwiOntcIm5hbWVcIjpcIk1PRElGWV9DT0xPUl9BRERfQ09VTlRcIixcImNvc3RcIjo0LjY2fSxcIk1PRElGWV9TSEFQRV9BRERfQ09VTlRcIjp7XCJuYW1lXCI6XCJNT0RJRllfU0hBUEVfQUREX0NPVU5UXCIsXCJjb3N0XCI6NC42Mn0sXCJNT0RJRllfU0laRV9BRERfQ09VTlRcIjp7XCJuYW1lXCI6XCJNT0RJRllfU0laRV9BRERfQ09VTlRcIixcImNvc3RcIjo0LjY0fSxcIk1PRElGWV9ST1dfQUREX0NPVU5UXCI6e1wibmFtZVwiOlwiTU9ESUZZX1JPV19BRERfQ09VTlRcIixcImNvc3RcIjo0LjY4fSxcIk1PRElGWV9DT0xVTU5fQUREX0NPVU5UXCI6e1wibmFtZVwiOlwiTU9ESUZZX0NPTFVNTl9BRERfQ09VTlRcIixcImNvc3RcIjo0LjY4fSxcIk1PRElGWV9URVhUX0FERF9DT1VOVFwiOntcIm5hbWVcIjpcIk1PRElGWV9URVhUX0FERF9DT1VOVFwiLFwiY29zdFwiOjQuNn0sXCJNT0RJRllfWF9SRU1PVkVfQ09VTlRcIjp7XCJuYW1lXCI6XCJNT0RJRllfWF9SRU1PVkVfQ09VTlRcIixcImNvc3RcIjo0Ljd9LFwiTU9ESUZZX1lfUkVNT1ZFX0NPVU5UXCI6e1wibmFtZVwiOlwiTU9ESUZZX1lfUkVNT1ZFX0NPVU5UXCIsXCJjb3N0XCI6NC43fSxcIk1PRElGWV9DT0xPUl9SRU1PVkVfQ09VTlRcIjp7XCJuYW1lXCI6XCJNT0RJRllfQ09MT1JfUkVNT1ZFX0NPVU5UXCIsXCJjb3N0XCI6NC42Nn0sXCJNT0RJRllfU0hBUEVfUkVNT1ZFX0NPVU5UXCI6e1wibmFtZVwiOlwiTU9ESUZZX1NIQVBFX1JFTU9WRV9DT1VOVFwiLFwiY29zdFwiOjQuNjJ9LFwiTU9ESUZZX1NJWkVfUkVNT1ZFX0NPVU5UXCI6e1wibmFtZVwiOlwiTU9ESUZZX1NJWkVfUkVNT1ZFX0NPVU5UXCIsXCJjb3N0XCI6NC42NH0sXCJNT0RJRllfUk9XX1JFTU9WRV9DT1VOVFwiOntcIm5hbWVcIjpcIk1PRElGWV9ST1dfUkVNT1ZFX0NPVU5UXCIsXCJjb3N0XCI6NC42OH0sXCJNT0RJRllfQ09MVU1OX1JFTU9WRV9DT1VOVFwiOntcIm5hbWVcIjpcIk1PRElGWV9DT0xVTU5fUkVNT1ZFX0NPVU5UXCIsXCJjb3N0XCI6NC42OH0sXCJNT0RJRllfVEVYVF9SRU1PVkVfQ09VTlRcIjp7XCJuYW1lXCI6XCJNT0RJRllfVEVYVF9SRU1PVkVfQ09VTlRcIixcImNvc3RcIjo0LjZ9LFwiTU9WRV9YX1JPV1wiOntcIm5hbWVcIjpcIk1PVkVfWF9ST1dcIixcImNvc3RcIjo0LjQ1fSxcIk1PVkVfWF9DT0xVTU5cIjp7XCJuYW1lXCI6XCJNT1ZFX1hfQ09MVU1OXCIsXCJjb3N0XCI6NC40M30sXCJNT1ZFX1hfU0laRVwiOntcIm5hbWVcIjpcIk1PVkVfWF9TSVpFXCIsXCJjb3N0XCI6NC40Nn0sXCJNT1ZFX1hfU0hBUEVcIjp7XCJuYW1lXCI6XCJNT1ZFX1hfU0hBUEVcIixcImNvc3RcIjo0LjQ2fSxcIk1PVkVfWF9DT0xPUlwiOntcIm5hbWVcIjpcIk1PVkVfWF9DT0xPUlwiLFwiY29zdFwiOjQuNDZ9LFwiTU9WRV9YX1lcIjp7XCJuYW1lXCI6XCJNT1ZFX1hfWVwiLFwiY29zdFwiOjQuNDR9LFwiTU9WRV9YX1RFWFRcIjp7XCJuYW1lXCI6XCJNT1ZFX1hfVEVYVFwiLFwiY29zdFwiOjQuNDZ9LFwiTU9WRV9ZX1JPV1wiOntcIm5hbWVcIjpcIk1PVkVfWV9ST1dcIixcImNvc3RcIjo0LjQzfSxcIk1PVkVfWV9DT0xVTU5cIjp7XCJuYW1lXCI6XCJNT1ZFX1lfQ09MVU1OXCIsXCJjb3N0XCI6NC40NX0sXCJNT1ZFX1lfU0laRVwiOntcIm5hbWVcIjpcIk1PVkVfWV9TSVpFXCIsXCJjb3N0XCI6NC40Nn0sXCJNT1ZFX1lfU0hBUEVcIjp7XCJuYW1lXCI6XCJNT1ZFX1lfU0hBUEVcIixcImNvc3RcIjo0LjQ2fSxcIk1PVkVfWV9DT0xPUlwiOntcIm5hbWVcIjpcIk1PVkVfWV9DT0xPUlwiLFwiY29zdFwiOjQuNDZ9LFwiTU9WRV9ZX1hcIjp7XCJuYW1lXCI6XCJNT1ZFX1lfWFwiLFwiY29zdFwiOjQuNDR9LFwiTU9WRV9ZX1RFWFRcIjp7XCJuYW1lXCI6XCJNT1ZFX1lfVEVYVFwiLFwiY29zdFwiOjQuNDZ9LFwiTU9WRV9DT0xPUl9ST1dcIjp7XCJuYW1lXCI6XCJNT1ZFX0NPTE9SX1JPV1wiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9DT0xPUl9DT0xVTU5cIjp7XCJuYW1lXCI6XCJNT1ZFX0NPTE9SX0NPTFVNTlwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9DT0xPUl9TSVpFXCI6e1wibmFtZVwiOlwiTU9WRV9DT0xPUl9TSVpFXCIsXCJjb3N0XCI6NC40M30sXCJNT1ZFX0NPTE9SX1NIQVBFXCI6e1wibmFtZVwiOlwiTU9WRV9DT0xPUl9TSEFQRVwiLFwiY29zdFwiOjQuNDN9LFwiTU9WRV9DT0xPUl9ZXCI6e1wibmFtZVwiOlwiTU9WRV9DT0xPUl9ZXCIsXCJjb3N0XCI6NC40Nn0sXCJNT1ZFX0NPTE9SX1hcIjp7XCJuYW1lXCI6XCJNT1ZFX0NPTE9SX1hcIixcImNvc3RcIjo0LjQ2fSxcIk1PVkVfQ09MT1JfVEVYVFwiOntcIm5hbWVcIjpcIk1PVkVfQ09MT1JfVEVYVFwiLFwiY29zdFwiOjQuNDN9LFwiTU9WRV9TSEFQRV9ST1dcIjp7XCJuYW1lXCI6XCJNT1ZFX1NIQVBFX1JPV1wiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9TSEFQRV9DT0xVTU5cIjp7XCJuYW1lXCI6XCJNT1ZFX1NIQVBFX0NPTFVNTlwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9TSEFQRV9TSVpFXCI6e1wibmFtZVwiOlwiTU9WRV9TSEFQRV9TSVpFXCIsXCJjb3N0XCI6NC40M30sXCJNT1ZFX1NIQVBFX0NPTE9SXCI6e1wibmFtZVwiOlwiTU9WRV9TSEFQRV9DT0xPUlwiLFwiY29zdFwiOjQuNDN9LFwiTU9WRV9TSEFQRV9ZXCI6e1wibmFtZVwiOlwiTU9WRV9TSEFQRV9ZXCIsXCJjb3N0XCI6NC40Nn0sXCJNT1ZFX1NIQVBFX1hcIjp7XCJuYW1lXCI6XCJNT1ZFX1NIQVBFX1hcIixcImNvc3RcIjo0LjQ2fSxcIk1PVkVfU0hBUEVfVEVYVFwiOntcIm5hbWVcIjpcIk1PVkVfU0hBUEVfVEVYVFwiLFwiY29zdFwiOjQuNDN9LFwiTU9WRV9TSVpFX1JPV1wiOntcIm5hbWVcIjpcIk1PVkVfU0laRV9ST1dcIixcImNvc3RcIjo0LjQ3fSxcIk1PVkVfU0laRV9DT0xVTU5cIjp7XCJuYW1lXCI6XCJNT1ZFX1NJWkVfQ09MVU1OXCIsXCJjb3N0XCI6NC40N30sXCJNT1ZFX1NJWkVfU0hBUEVcIjp7XCJuYW1lXCI6XCJNT1ZFX1NJWkVfU0hBUEVcIixcImNvc3RcIjo0LjQzfSxcIk1PVkVfU0laRV9DT0xPUlwiOntcIm5hbWVcIjpcIk1PVkVfU0laRV9DT0xPUlwiLFwiY29zdFwiOjQuNDN9LFwiTU9WRV9TSVpFX1lcIjp7XCJuYW1lXCI6XCJNT1ZFX1NJWkVfWVwiLFwiY29zdFwiOjQuNDZ9LFwiTU9WRV9TSVpFX1hcIjp7XCJuYW1lXCI6XCJNT1ZFX1NJWkVfWFwiLFwiY29zdFwiOjQuNDZ9LFwiTU9WRV9TSVpFX1RFWFRcIjp7XCJuYW1lXCI6XCJNT1ZFX1NJWkVfVEVYVFwiLFwiY29zdFwiOjQuNDN9LFwiTU9WRV9URVhUX1JPV1wiOntcIm5hbWVcIjpcIk1PVkVfVEVYVF9ST1dcIixcImNvc3RcIjo0LjQ3fSxcIk1PVkVfVEVYVF9DT0xVTU5cIjp7XCJuYW1lXCI6XCJNT1ZFX1RFWFRfQ09MVU1OXCIsXCJjb3N0XCI6NC40N30sXCJNT1ZFX1RFWFRfU0hBUEVcIjp7XCJuYW1lXCI6XCJNT1ZFX1RFWFRfU0hBUEVcIixcImNvc3RcIjo0LjQzfSxcIk1PVkVfVEVYVF9DT0xPUlwiOntcIm5hbWVcIjpcIk1PVkVfVEVYVF9DT0xPUlwiLFwiY29zdFwiOjQuNDN9LFwiTU9WRV9URVhUX1lcIjp7XCJuYW1lXCI6XCJNT1ZFX1RFWFRfWVwiLFwiY29zdFwiOjQuNDZ9LFwiTU9WRV9URVhUX1hcIjp7XCJuYW1lXCI6XCJNT1ZFX1RFWFRfWFwiLFwiY29zdFwiOjQuNDZ9LFwiTU9WRV9URVhUX1NJWkVcIjp7XCJuYW1lXCI6XCJNT1ZFX1RFWFRfU0laRVwiLFwiY29zdFwiOjQuNDN9LFwiTU9WRV9DT0xVTU5fUk9XXCI6e1wibmFtZVwiOlwiTU9WRV9DT0xVTU5fUk9XXCIsXCJjb3N0XCI6NC40NH0sXCJNT1ZFX0NPTFVNTl9TSVpFXCI6e1wibmFtZVwiOlwiTU9WRV9DT0xVTU5fU0laRVwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9DT0xVTU5fU0hBUEVcIjp7XCJuYW1lXCI6XCJNT1ZFX0NPTFVNTl9TSEFQRVwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9DT0xVTU5fQ09MT1JcIjp7XCJuYW1lXCI6XCJNT1ZFX0NPTFVNTl9DT0xPUlwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9DT0xVTU5fWVwiOntcIm5hbWVcIjpcIk1PVkVfQ09MVU1OX1lcIixcImNvc3RcIjo0LjQ1fSxcIk1PVkVfQ09MVU1OX1hcIjp7XCJuYW1lXCI6XCJNT1ZFX0NPTFVNTl9YXCIsXCJjb3N0XCI6NC40M30sXCJNT1ZFX0NPTFVNTl9URVhUXCI6e1wibmFtZVwiOlwiTU9WRV9DT0xVTU5fVEVYVFwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9ST1dfQ09MVU1OXCI6e1wibmFtZVwiOlwiTU9WRV9ST1dfQ09MVU1OXCIsXCJjb3N0XCI6NC40NH0sXCJNT1ZFX1JPV19TSVpFXCI6e1wibmFtZVwiOlwiTU9WRV9ST1dfU0laRVwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9ST1dfU0hBUEVcIjp7XCJuYW1lXCI6XCJNT1ZFX1JPV19TSEFQRVwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9ST1dfQ09MT1JcIjp7XCJuYW1lXCI6XCJNT1ZFX1JPV19DT0xPUlwiLFwiY29zdFwiOjQuNDd9LFwiTU9WRV9ST1dfWVwiOntcIm5hbWVcIjpcIk1PVkVfUk9XX1lcIixcImNvc3RcIjo0LjQzfSxcIk1PVkVfUk9XX1hcIjp7XCJuYW1lXCI6XCJNT1ZFX1JPV19YXCIsXCJjb3N0XCI6NC40NX0sXCJNT1ZFX1JPV19URVhUXCI6e1wibmFtZVwiOlwiTU9WRV9ST1dfVEVYVFwiLFwiY29zdFwiOjQuNDd9LFwiU1dBUF9YX1lcIjp7XCJuYW1lXCI6XCJTV0FQX1hfWVwiLFwiY29zdFwiOjQuNDJ9LFwiU1dBUF9ST1dfQ09MVU1OXCI6e1wibmFtZVwiOlwiU1dBUF9ST1dfQ09MVU1OXCIsXCJjb3N0XCI6NC40MX0sXCJjZWlsaW5nXCI6e1wiY29zdFwiOjQ3LjEsXCJhbHRlcm5hdGluZ0Nvc3RcIjo1MS44MX19XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbnZhciBkZWYgPSByZXF1aXJlKCcuLi9lZGl0T3AvZWRpdE9wU2V0Jyk7XG5mdW5jdGlvbiBuZWlnaGJvcnMoc3BlYywgYWRkaXRpb25hbEZpZWxkcywgYWRkaXRpb25hbENoYW5uZWxzLCBpbXBvcnRlZEVuY29kaW5nRWRpdE9wcykge1xuICB2YXIgbmVpZ2hib3JzID0gW107XG4gIHZhciBlbmNvZGluZ0VkaXRPcHMgPSBpbXBvcnRlZEVuY29kaW5nRWRpdE9wcyB8fCBkZWYuREVGQVVMVF9FTkNPRElOR19FRElUX09QUztcbiAgdmFyIGluQ2hhbm5lbHMgPSB1dGlsLmtleXMoc3BlYy5lbmNvZGluZyk7XG4gIHZhciBleENoYW5uZWxzID0gYWRkaXRpb25hbENoYW5uZWxzO1xuXG4gIGluQ2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbm5lbCkge1xuICAgIHZhciBuZXdOZWlnaGJvciA9IHV0aWwuZHVwbGljYXRlKHNwZWMpO1xuICAgIHZhciBlZGl0T3BUeXBlID0gXCJSRU1PVkVfXCIgKyBjaGFubmVsLnRvVXBwZXJDYXNlKCk7XG4gICAgZWRpdE9wVHlwZSArPSAoc3BlYy5lbmNvZGluZ1tjaGFubmVsXS5maWVsZCA9PT0gXCIqXCIpID8gXCJfQ09VTlRcIiA6IFwiXCI7XG4gICAgdmFyIGVkaXRPcCA9IHV0aWwuZHVwbGljYXRlKGVuY29kaW5nRWRpdE9wc1tlZGl0T3BUeXBlXSk7XG4gICAgdmFyIG5ld0FkZGl0aW9uYWxGaWVsZHMgPSB1dGlsLmR1cGxpY2F0ZShhZGRpdGlvbmFsRmllbGRzKTtcbiAgICBpZiAodXRpbC5maW5kKG5ld0FkZGl0aW9uYWxGaWVsZHMsIHV0aWwucmF3RXF1YWwsIG5ld05laWdoYm9yLmVuY29kaW5nW2NoYW5uZWxdKSA9PT0gLTEpIHtcbiAgICAgIG5ld0FkZGl0aW9uYWxGaWVsZHMucHVzaChuZXdOZWlnaGJvci5lbmNvZGluZ1tjaGFubmVsXSk7XG4gICAgfVxuICAgIHZhciBuZXdBZGRpdGlvbmFsQ2hhbm5lbHMgPSB1dGlsLmR1cGxpY2F0ZShhZGRpdGlvbmFsQ2hhbm5lbHMpO1xuICAgIGVkaXRPcC5kZXRhaWwgPSB7XG4gICAgICBcImJlZm9yZVwiOiB7XCJmaWVsZFwiOiBuZXdOZWlnaGJvci5lbmNvZGluZ1tjaGFubmVsXS5maWVsZCwgY2hhbm5lbH0sXG4gICAgICBcImFmdGVyXCI6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICBuZXdBZGRpdGlvbmFsQ2hhbm5lbHMucHVzaChjaGFubmVsKTtcbiAgICBkZWxldGUgbmV3TmVpZ2hib3IuZW5jb2RpbmdbY2hhbm5lbF07XG4gICAgaWYgKHZhbGlkYXRlKG5ld05laWdoYm9yKSkge1xuICAgICAgbmV3TmVpZ2hib3IuZWRpdE9wID0gZWRpdE9wO1xuICAgICAgbmV3TmVpZ2hib3IuYWRkaXRpb25hbEZpZWxkcyA9IG5ld0FkZGl0aW9uYWxGaWVsZHM7XG4gICAgICBuZXdOZWlnaGJvci5hZGRpdGlvbmFsQ2hhbm5lbHMgPSBuZXdBZGRpdGlvbmFsQ2hhbm5lbHM7XG4gICAgICBuZWlnaGJvcnMucHVzaChuZXdOZWlnaGJvcik7XG4gICAgfVxuICAgIDtcbiAgICBhZGRpdGlvbmFsRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkLCBpbmRleCkge1xuICAgICAgaWYgKChmaWVsZC5maWVsZCAhPT0gc3BlYy5lbmNvZGluZ1tjaGFubmVsXS5maWVsZCkgfHxcbiAgICAgICAgKGZpZWxkLnR5cGUgIT09IHNwZWMuZW5jb2RpbmdbY2hhbm5lbF0udHlwZSkpIHtcbiAgICAgICAgbmV3TmVpZ2hib3IgPSB1dGlsLmR1cGxpY2F0ZShzcGVjKTtcbiAgICAgICAgZWRpdE9wVHlwZSA9IFwiTU9ESUZZX1wiICsgY2hhbm5lbC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoc3BlYy5lbmNvZGluZ1tjaGFubmVsXS5maWVsZCA9PT0gXCIqXCIgJiYgZmllbGQuZmllbGQgIT09IFwiKlwiKSB7XG4gICAgICAgICAgZWRpdE9wVHlwZSArPSBcIl9SRU1PVkVfQ09VTlRcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzcGVjLmVuY29kaW5nW2NoYW5uZWxdLmZpZWxkICE9PSBcIipcIiAmJiBmaWVsZC5maWVsZCA9PT0gXCIqXCIpIHtcbiAgICAgICAgICBlZGl0T3BUeXBlICs9IFwiX0FERF9DT1VOVFwiO1xuICAgICAgICB9XG4gICAgICAgIGVkaXRPcCA9IHV0aWwuZHVwbGljYXRlKGVuY29kaW5nRWRpdE9wc1tlZGl0T3BUeXBlXSk7XG4gICAgICAgIG5ld0FkZGl0aW9uYWxGaWVsZHMgPSB1dGlsLmR1cGxpY2F0ZShhZGRpdGlvbmFsRmllbGRzKTtcbiAgICAgICAgbmV3QWRkaXRpb25hbEZpZWxkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpZiAodXRpbC5maW5kKG5ld0FkZGl0aW9uYWxGaWVsZHMsIHV0aWwucmF3RXF1YWwsIG5ld05laWdoYm9yLmVuY29kaW5nW2NoYW5uZWxdKSA9PT0gLTEpIHtcbiAgICAgICAgICBuZXdBZGRpdGlvbmFsRmllbGRzLnB1c2gobmV3TmVpZ2hib3IuZW5jb2RpbmdbY2hhbm5lbF0pO1xuICAgICAgICB9XG4gICAgICAgIG5ld0FkZGl0aW9uYWxDaGFubmVscyA9IHV0aWwuZHVwbGljYXRlKGFkZGl0aW9uYWxDaGFubmVscyk7XG4gICAgICAgIG5ld05laWdoYm9yLmVuY29kaW5nW2NoYW5uZWxdID0gZmllbGQ7XG4gICAgICAgIGVkaXRPcC5kZXRhaWwgPSB7XG4gICAgICAgICAgXCJiZWZvcmVcIjogeyAuLi5zcGVjLmVuY29kaW5nW2NoYW5uZWxdLCBjaGFubmVsfSxcbiAgICAgICAgICBcImFmdGVyXCI6IHsgLi4uZmllbGQsIGNoYW5uZWx9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHZhbGlkYXRlKG5ld05laWdoYm9yKSkge1xuICAgICAgICAgIG5ld05laWdoYm9yLmVkaXRPcCA9IGVkaXRPcDtcbiAgICAgICAgICBuZXdOZWlnaGJvci5hZGRpdGlvbmFsRmllbGRzID0gbmV3QWRkaXRpb25hbEZpZWxkcztcbiAgICAgICAgICBuZXdOZWlnaGJvci5hZGRpdGlvbmFsQ2hhbm5lbHMgPSBuZXdBZGRpdGlvbmFsQ2hhbm5lbHM7XG4gICAgICAgICAgbmVpZ2hib3JzLnB1c2gobmV3TmVpZ2hib3IpO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpbkNoYW5uZWxzLmZvckVhY2goZnVuY3Rpb24gKGFub3RoZXJDaGFubmVsKSB7XG4gICAgICBpZiAoYW5vdGhlckNoYW5uZWwgPT09IGNoYW5uZWxcbiAgICAgICAgfHwgKFtcInhcIiwgXCJ5XCJdLmluZGV4T2YoY2hhbm5lbCkgPCAwIHx8IFtcInhcIiwgXCJ5XCJdLmluZGV4T2YoYW5vdGhlckNoYW5uZWwpIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbmV3TmVpZ2hib3IgPSB1dGlsLmR1cGxpY2F0ZShzcGVjKTtcbiAgICAgIGVkaXRPcCA9IHV0aWwuZHVwbGljYXRlKGVuY29kaW5nRWRpdE9wc1tcIlNXQVBfWF9ZXCJdKTtcbiAgICAgIG5ld0FkZGl0aW9uYWxGaWVsZHMgPSB1dGlsLmR1cGxpY2F0ZShhZGRpdGlvbmFsRmllbGRzKTtcbiAgICAgIG5ld0FkZGl0aW9uYWxDaGFubmVscyA9IHV0aWwuZHVwbGljYXRlKGFkZGl0aW9uYWxDaGFubmVscyk7XG4gICAgICB2YXIgdGVtcENoYW5uZWwgPSB1dGlsLmR1cGxpY2F0ZShuZXdOZWlnaGJvci5lbmNvZGluZ1tjaGFubmVsXSk7XG4gICAgICBuZXdOZWlnaGJvci5lbmNvZGluZ1tjaGFubmVsXSA9IG5ld05laWdoYm9yLmVuY29kaW5nW2Fub3RoZXJDaGFubmVsXTtcbiAgICAgIG5ld05laWdoYm9yLmVuY29kaW5nW2Fub3RoZXJDaGFubmVsXSA9IHRlbXBDaGFubmVsO1xuICAgICAgZWRpdE9wLmRldGFpbCA9IHtcbiAgICAgICAgXCJiZWZvcmVcIjoge1wiZmllbGRcIjogc3BlYy5lbmNvZGluZ1tcInhcIl0uZmllbGQsIFwiY2hhbm5lbFwiOiBcInhcIn0sXG4gICAgICAgIFwiYWZ0ZXJcIjoge1wiZmllbGRcIjogc3BlYy5lbmNvZGluZ1tcInlcIl0uZmllbGQsIFwiY2hhbm5lbFwiOiBcInlcIn1cbiAgICAgIH07XG5cbiAgICAgIGlmICh2YWxpZGF0ZShuZXdOZWlnaGJvcikpIHtcbiAgICAgICAgbmV3TmVpZ2hib3IuZWRpdE9wID0gZWRpdE9wO1xuICAgICAgICBuZXdOZWlnaGJvci5hZGRpdGlvbmFsRmllbGRzID0gbmV3QWRkaXRpb25hbEZpZWxkcztcbiAgICAgICAgbmV3TmVpZ2hib3IuYWRkaXRpb25hbENoYW5uZWxzID0gbmV3QWRkaXRpb25hbENoYW5uZWxzO1xuICAgICAgICBuZWlnaGJvcnMucHVzaChuZXdOZWlnaGJvcik7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIGV4Q2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbiAoZXhDaGFubmVsLCBpbmRleCkge1xuICAgICAgbmV3TmVpZ2hib3IgPSB1dGlsLmR1cGxpY2F0ZShzcGVjKTtcbiAgICAgIHZhciBuZXdOZWlnaGJvckNoYW5uZWxzID0gKGNoYW5uZWwgKyBcIl9cIiArIGV4Q2hhbm5lbCkudG9VcHBlckNhc2UoKTtcbiAgICAgIGVkaXRPcCA9IHV0aWwuZHVwbGljYXRlKGVuY29kaW5nRWRpdE9wc1tcIk1PVkVfXCIgKyBuZXdOZWlnaGJvckNoYW5uZWxzXSk7XG4gICAgICBuZXdBZGRpdGlvbmFsRmllbGRzID0gdXRpbC5kdXBsaWNhdGUoYWRkaXRpb25hbEZpZWxkcyk7XG4gICAgICBuZXdBZGRpdGlvbmFsQ2hhbm5lbHMgPSB1dGlsLmR1cGxpY2F0ZShhZGRpdGlvbmFsQ2hhbm5lbHMpO1xuICAgICAgbmV3QWRkaXRpb25hbENoYW5uZWxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBuZXdBZGRpdGlvbmFsQ2hhbm5lbHMucHVzaChjaGFubmVsKTtcbiAgICAgIG5ld05laWdoYm9yLmVuY29kaW5nW2V4Q2hhbm5lbF0gPSB1dGlsLmR1cGxpY2F0ZShuZXdOZWlnaGJvci5lbmNvZGluZ1tjaGFubmVsXSk7XG4gICAgICBkZWxldGUgbmV3TmVpZ2hib3IuZW5jb2RpbmdbY2hhbm5lbF07XG4gICAgICBlZGl0T3AuZGV0YWlsID0ge1xuICAgICAgICBcImJlZm9yZVwiOiB7Y2hhbm5lbH0sXG4gICAgICAgIFwiYWZ0ZXJcIjoge1wiY2hhbm5lbFwiOiBleENoYW5uZWx9XG4gICAgICB9O1xuXG4gICAgICBpZiAodmFsaWRhdGUobmV3TmVpZ2hib3IpKSB7XG4gICAgICAgIG5ld05laWdoYm9yLmVkaXRPcCA9IGVkaXRPcDtcbiAgICAgICAgbmV3TmVpZ2hib3IuYWRkaXRpb25hbEZpZWxkcyA9IG5ld0FkZGl0aW9uYWxGaWVsZHM7XG4gICAgICAgIG5ld05laWdoYm9yLmFkZGl0aW9uYWxDaGFubmVscyA9IG5ld0FkZGl0aW9uYWxDaGFubmVscztcbiAgICAgICAgbmVpZ2hib3JzLnB1c2gobmV3TmVpZ2hib3IpO1xuICAgICAgfVxuICAgICAgO1xuICAgIH0pO1xuICB9KTtcbiAgZXhDaGFubmVscy5mb3JFYWNoKGZ1bmN0aW9uIChjaGFubmVsLCBjaEluZGV4KSB7XG4gICAgYWRkaXRpb25hbEZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgpIHtcbiAgICAgIHZhciBuZXdOZWlnaGJvciA9IHV0aWwuZHVwbGljYXRlKHNwZWMpO1xuICAgICAgdmFyIGVkaXRPcFR5cGUgPSBcIkFERF9cIiArIGNoYW5uZWwudG9VcHBlckNhc2UoKTtcbiAgICAgIGVkaXRPcFR5cGUgKz0gKGZpZWxkLmZpZWxkID09PSBcIipcIikgPyBcIl9DT1VOVFwiIDogXCJcIjtcbiAgICAgIHZhciBlZGl0T3AgPSB1dGlsLmR1cGxpY2F0ZShlbmNvZGluZ0VkaXRPcHNbZWRpdE9wVHlwZV0pO1xuICAgICAgdmFyIG5ld0FkZGl0aW9uYWxGaWVsZHMgPSB1dGlsLmR1cGxpY2F0ZShhZGRpdGlvbmFsRmllbGRzKTtcbiAgICAgIHZhciBuZXdBZGRpdGlvbmFsQ2hhbm5lbHMgPSB1dGlsLmR1cGxpY2F0ZShhZGRpdGlvbmFsQ2hhbm5lbHMpO1xuICAgICAgbmV3QWRkaXRpb25hbEZpZWxkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgbmV3TmVpZ2hib3IuZW5jb2RpbmdbY2hhbm5lbF0gPSBmaWVsZDtcbiAgICAgIG5ld0FkZGl0aW9uYWxDaGFubmVscy5zcGxpY2UoY2hJbmRleCwgMSk7XG5cbiAgICAgIGVkaXRPcC5kZXRhaWwgPSB7XG4gICAgICAgIFwiYmVmb3JlXCI6IHVuZGVmaW5lZCxcbiAgICAgICAgXCJhZnRlclwiOiB7XCJmaWVsZFwiOiBmaWVsZC5maWVsZCwgY2hhbm5lbH1cbiAgICAgIH07XG5cbiAgICAgIGlmICh2YWxpZGF0ZShuZXdOZWlnaGJvcikpIHtcbiAgICAgICAgbmV3TmVpZ2hib3IuZWRpdE9wID0gZWRpdE9wO1xuICAgICAgICBuZXdOZWlnaGJvci5hZGRpdGlvbmFsRmllbGRzID0gbmV3QWRkaXRpb25hbEZpZWxkcztcbiAgICAgICAgbmV3TmVpZ2hib3IuYWRkaXRpb25hbENoYW5uZWxzID0gbmV3QWRkaXRpb25hbENoYW5uZWxzO1xuICAgICAgICBuZWlnaGJvcnMucHVzaChuZXdOZWlnaGJvcik7XG4gICAgICB9XG4gICAgICA7XG4gICAgfSk7XG4gIH0pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IG5laWdoYm9ycy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgaWYgKHNhbWVFbmNvZGluZyhuZWlnaGJvcnNbaV0uZW5jb2RpbmcsIG5laWdoYm9yc1tqXS5lbmNvZGluZykpIHtcbiAgICAgICAgbmVpZ2hib3JzLnNwbGljZShqLCAxKTtcbiAgICAgICAgaiAtPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmVpZ2hib3JzO1xufVxuZXhwb3J0cy5uZWlnaGJvcnMgPSBuZWlnaGJvcnM7XG5mdW5jdGlvbiB2YWxpZGF0ZShzcGVjKSB7XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gc2FtZUVuY29kaW5nKGEsIGIpIHtcbiAgdmFyIGFLZXlzID0gdXRpbC5rZXlzKGEpO1xuICB2YXIgYktleXMgPSB1dGlsLmtleXMoYik7XG4gIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgYWxsS2V5cyA9IHV0aWwudW5pb24oYUtleXMsIGJLZXlzKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxLZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdmFyIGtleSA9IGFsbEtleXNbaV07XG4gICAgaWYgKCEoYVtrZXldICYmIGJba2V5XSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKChhW2tleV0uZmllbGQgIT09IGJba2V5XS5maWVsZCkgfHwgYVtrZXldLnR5cGUgIT09IGJba2V5XS50eXBlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5zYW1lRW5jb2RpbmcgPSBzYW1lRW5jb2Rpbmc7IiwiXG5jb25zdCBkMyA9IHJlcXVpcmUoXCJkM1wiKTtcbmNvbnN0IHZlZ2EgPSByZXF1aXJlKFwidmVnYVwiKTtcbmNvbnN0IHZsID0gcmVxdWlyZShcInZlZ2EtbGl0ZVwiKTtcbnZhciBleHByID0gcmVxdWlyZSgndmVnYS1leHByZXNzaW9uJyk7XG5jb25zdCB7IFRZUEVTLCBDSEFOTkVMUywgT1BTLCBMT0dJQ19PUFMgfSA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG5jb25zdCBERUZBVUxUX0VESVRfT1BTID0gcmVxdWlyZSgnLi4vZWRpdE9wL2VkaXRPcFNldCcpLkRFRkFVTFRfRURJVF9PUFM7XG52YXIgbmIgPSByZXF1aXJlKCcuL25laWdoYm9yJyk7XG5cblxuYXN5bmMgZnVuY3Rpb24gdHJhbnNpdGlvbihzLCBkLCBpbXBvcnRlZFRyYW5zaXRpb25Db3N0cywgdHJhbnNPcHRpb25zKSB7XG4gIHZhciBpbXBvcnRlZE1hcmtFZGl0T3BzID0gaW1wb3J0ZWRUcmFuc2l0aW9uQ29zdHMgPyBpbXBvcnRlZFRyYW5zaXRpb25Db3N0cy5tYXJrRWRpdE9wcyA6IERFRkFVTFRfRURJVF9PUFNbXCJtYXJrRWRpdE9wc1wiXTtcbiAgdmFyIGltcG9ydGVkVHJhbnNmb3JtRWRpdE9wcyA9IGltcG9ydGVkVHJhbnNpdGlvbkNvc3RzID8gaW1wb3J0ZWRUcmFuc2l0aW9uQ29zdHMudHJhbnNmb3JtRWRpdE9wcyA6IERFRkFVTFRfRURJVF9PUFNbXCJ0cmFuc2Zvcm1FZGl0T3BzXCJdO1xuICB2YXIgaW1wb3J0ZWRFbmNvZGluZ0VkaXRPcHMgPSBpbXBvcnRlZFRyYW5zaXRpb25Db3N0cyA/IGltcG9ydGVkVHJhbnNpdGlvbkNvc3RzLmVuY29kaW5nRWRpdE9wcyA6IERFRkFVTFRfRURJVF9PUFNbXCJlbmNvZGluZ0VkaXRPcHNcIl07XG4gIGxldCBfdHJhbnNmb3JtRWRpdE9wcyA9IGF3YWl0IHRyYW5zZm9ybUVkaXRPcHMocywgZCwgaW1wb3J0ZWRUcmFuc2Zvcm1FZGl0T3BzLCB0cmFuc09wdGlvbnMpO1xuICB2YXIgdHJhbnMgPSB7XG4gICAgbWFyazogbWFya0VkaXRPcHMocywgZCwgaW1wb3J0ZWRNYXJrRWRpdE9wcykubWFwKGVvID0+IHsgcmV0dXJuIHsuLi5lbywgdHlwZTogXCJtYXJrXCJ9fSksXG4gICAgdHJhbnNmb3JtOiBfdHJhbnNmb3JtRWRpdE9wcy5tYXAoZW8gPT4geyByZXR1cm4gey4uLmVvLCB0eXBlOiBcInRyYW5zZm9ybVwifX0pLFxuICAgIGVuY29kaW5nOiBlbmNvZGluZ0VkaXRPcHMocywgZCwgaW1wb3J0ZWRFbmNvZGluZ0VkaXRPcHMpLm1hcChlbyA9PiB7IHJldHVybiB7Li4uZW8sIHR5cGU6IFwiZW5jb2RpbmdcIn19KVxuICB9O1xuXG4gIC8vVG9kbzogaWYgdGhlcmUgaXMgYSBNT1ZFX0FfQiBhbmQgdGhlIGZpZWxkIGhhcyBUcmFuc2Zvcm0sIGlnbm9yZSB0aGUgdHJhbnNmb3JtXG4gIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChcIl5NT1ZFX1wiKVxuICB0cmFucy50cmFuc2Zvcm0gPSB0cmFucy50cmFuc2Zvcm0uZmlsdGVyKGVkaXRPcCA9PiB7XG4gICAgaWYgKGVkaXRPcC5uYW1lLmluZGV4T2YoXCJGSUxURVJcIikgPj0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBtb3ZlRWRpdE9wcyA9IHRyYW5zLmVuY29kaW5nLmZpbHRlcihlbyA9PiByZS50ZXN0KGVvLm5hbWUpICk7XG4gICAgaWYgKG1vdmVFZGl0T3BzLmxlbmd0aCA9PT0wKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbW92ZUVkaXRPcHMuZm9yRWFjaChtb3ZlRWRpdE9wID0+IHtcblxuICAgICAgbGV0IHNDaGFubmVsID0gbW92ZUVkaXRPcC5kZXRhaWwuYmVmb3JlLmNoYW5uZWwsXG4gICAgICAgIGRDaGFubmVsID0gbW92ZUVkaXRPcC5kZXRhaWwuYWZ0ZXIuY2hhbm5lbDtcbiAgICAgIGxldCByZW1vdmVkID0gZWRpdE9wLmRldGFpbC5maW5kSW5kZXgoZHQgPT4gKGR0LmhvdyA9PT0gXCJyZW1vdmVkXCIpICYmIChkdC5jaGFubmVsID09PSBzQ2hhbm5lbCkpXG4gICAgICBsZXQgYWRkZWQgPSBlZGl0T3AuZGV0YWlsLmZpbmRJbmRleChkdCA9PiAoZHQuaG93ID09PSBcImFkZGVkXCIpICYmIChkdC5jaGFubmVsID09PSBkQ2hhbm5lbCkpXG4gICAgICBpZiAoKHJlbW92ZWQgPj0gMCkgJiYgKGFkZGVkID49IDApKSB7XG4gICAgICAgIGVkaXRPcC5kZXRhaWwgPSBlZGl0T3AuZGV0YWlsLmZpbHRlcigoZHQsIGkpID0+IFtyZW1vdmVkLCBhZGRlZF0uaW5kZXhPZihpKTwwKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBlZGl0T3AuZGV0YWlsLmxlbmd0aCA+IDBcbiAgfSlcblxuXG5cbiAgdmFyIGNvc3QgPSAwO1xuXG4gIGNvc3QgPSB0cmFucy5lbmNvZGluZy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGVkaXRPcCkge1xuICAgIGlmIChlZGl0T3AubmFtZS5pbmRleE9mKCdfQ09VTlQnKSA+PSAwKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IGVkaXRPcC5uYW1lLnJlcGxhY2UoL0NPVU5UL2csICcnKS5yZXBsYWNlKC9BREQvZywgJycpLnJlcGxhY2UoL1JFTU9WRS9nLCAnJykucmVwbGFjZSgvTU9ESUZZL2csICcnKS5yZXBsYWNlKC9fL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFyIGFnZ0VkaXRPcCA9IHRyYW5zLnRyYW5zZm9ybS5maWx0ZXIoZnVuY3Rpb24gKGVkaXRPcCkgeyByZXR1cm4gZWRpdE9wLm5hbWUgPT09IFwiQUdHUkVHQVRFXCI7IH0pWzBdO1xuICAgICAgaWYgKGFnZ0VkaXRPcFxuICAgICAgICAgICYmIGFnZ0VkaXRPcC5kZXRhaWwubGVuZ3RoID09PSAxXG4gICAgICAgICAgJiYgYWdnRWRpdE9wLmRldGFpbC5maWx0ZXIoZnVuY3Rpb24gKGR0KSB7IHJldHVybiBkdC5jaGFubmVsLnRvTG93ZXJDYXNlKCkgPT09IGNoYW5uZWw7IH0pLmxlbmd0aCkge1xuICAgICAgICBhZ2dFZGl0T3AuY29zdCA9IDA7XG4gICAgICB9XG4gICAgICB2YXIgYmluRWRpdE9wID0gdHJhbnMudHJhbnNmb3JtLmZpbHRlcihmdW5jdGlvbiAoZWRpdE9wKSB7IHJldHVybiBlZGl0T3AubmFtZSA9PT0gXCJCSU5cIjsgfSlbMF07XG4gICAgICBpZiAoYmluRWRpdE9wICYmIGJpbkVkaXRPcC5kZXRhaWwuZmlsdGVyKGZ1bmN0aW9uIChkdCkge1xuICAgICAgICBpZiAoZHQuaG93ID09PSBcImFkZGVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gZC5lbmNvZGluZ1tkdC5jaGFubmVsXS50eXBlID09PSBUWVBFUy5RVUFOVElUQVRJVkU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHMuZW5jb2RpbmdbZHQuY2hhbm5lbF0udHlwZSA9PT0gVFlQRVMuUVVBTlRJVEFUSVZFO1xuICAgICAgICB9XG4gICAgICB9KS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGJpbkVkaXRPcC5jb3N0ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJldiArPSBlZGl0T3AuY29zdDtcbiAgICByZXR1cm4gcHJldjtcbiAgfSwgY29zdCk7XG4gIGNvc3QgPSB0cmFucy5tYXJrLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZWRpdE9wKSB7XG4gICAgcHJldiArPSBlZGl0T3AuY29zdDtcbiAgICByZXR1cm4gcHJldjtcbiAgfSwgY29zdCk7XG4gIGNvc3QgPSB0cmFucy50cmFuc2Zvcm0ucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBlZGl0T3ApIHtcbiAgICBwcmV2ICs9IGVkaXRPcC5jb3N0O1xuICAgIHJldHVybiBwcmV2O1xuICB9LCBjb3N0KTtcblxuICByZXR1cm4ge1xuICAgIC4uLnRyYW5zLFxuICAgIGNvc3RcbiAgfTtcbn1cbmV4cG9ydHMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb247XG5mdW5jdGlvbiBtYXJrRWRpdE9wcyhzLCBkLCBpbXBvcnRlZE1hcmtFZGl0T3BzKSB7XG4gIHZhciBlZGl0T3BzID0gW107XG4gIHZhciBtYXJrRWRpdE9wcyA9IGltcG9ydGVkTWFya0VkaXRPcHMgfHwgREVGQVVMVF9FRElUX09QU1tcIm1hcmtFZGl0T3BzXCJdO1xuICB2YXIgbmV3RWRpdE9wO1xuICBjb25zdCBzTWFya1R5cGUgPSB0eXBlb2Yocy5tYXJrKSA9PT0gXCJvYmplY3RcIiA/IHMubWFyay50eXBlIDogcy5tYXJrO1xuICBjb25zdCBkTWFya1R5cGUgPSB0eXBlb2YoZC5tYXJrKSA9PT0gXCJvYmplY3RcIiA/IGQubWFyay50eXBlIDogZC5tYXJrO1xuICBpZiAoIXNNYXJrVHlwZSB8fCAhZE1hcmtUeXBlIHx8IChzTWFya1R5cGUgPT09IGRNYXJrVHlwZSkgfHwgc01hcmtUeXBlID09PSBcIm51bGxcIiB8fCBkTWFya1R5cGUgPT09IFwibnVsbFwiKSB7XG4gICAgcmV0dXJuIGVkaXRPcHM7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGVkaXRPcE5hbWUgPSBbc01hcmtUeXBlLnRvVXBwZXJDYXNlKCksIGRNYXJrVHlwZS50b1VwcGVyQ2FzZSgpXS5zb3J0KCkuam9pbihcIl9cIik7XG4gICAgaWYgKG1hcmtFZGl0T3BzW2VkaXRPcE5hbWVdKSB7XG4gICAgICBuZXdFZGl0T3AgPSB1dGlsLmR1cGxpY2F0ZShtYXJrRWRpdE9wc1tlZGl0T3BOYW1lXSk7XG4gICAgICBuZXdFZGl0T3AuZGV0YWlsID0geyBcImJlZm9yZVwiOiBzTWFya1R5cGUsIFwiYWZ0ZXJcIjogZE1hcmtUeXBlIH07XG4gICAgICBlZGl0T3BzLnB1c2gobmV3RWRpdE9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihgQ2Fubm90IGZpbmQgJHtlZGl0T3BOYW1lfSBtYXJrdHlwZSBjaGFuZ2UgZWRpdCBvcC5gKVxuICAgIH1cbiAgfVxuICByZXR1cm4gZWRpdE9wcztcbn1cbmV4cG9ydHMubWFya0VkaXRPcHMgPSBtYXJrRWRpdE9wcztcblxuYXN5bmMgZnVuY3Rpb24gdHJhbnNmb3JtRWRpdE9wcyhzLCBkLCBpbXBvcnRlZFRyYW5zZm9ybUVkaXRPcHMsIHRyYW5zT3B0aW9ucykge1xuICBjb25zdCBUUkFOU0ZPUk1fVFlQRVMgPSBbXCJTQ0FMRVwiLCBcIlNPUlRcIiwgXCJBR0dSRUdBVEVcIiwgXCJCSU5cIiwgXCJTRVRUWVBFXCJdO1xuICB2YXIgdHJhbnNmb3JtRWRpdE9wcyA9IGltcG9ydGVkVHJhbnNmb3JtRWRpdE9wcyB8fCBERUZBVUxUX0VESVRfT1BTW1widHJhbnNmb3JtRWRpdE9wc1wiXTtcbiAgdmFyIGVkaXRPcHMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IENIQU5ORUxTLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhbm5lbCA9IENIQU5ORUxTW2ldO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBUUkFOU0ZPUk1fVFlQRVMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybVR5cGUgPSBUUkFOU0ZPUk1fVFlQRVNbal07XG4gICAgICBsZXQgZWRpdE9wO1xuXG4gICAgICBpZiAodHJhbnNmb3JtVHlwZSA9PT0gXCJTRVRUWVBFXCIgJiYgdHJhbnNmb3JtRWRpdE9wc1t0cmFuc2Zvcm1UeXBlXSkge1xuICAgICAgICBlZGl0T3AgPSB0cmFuc2Zvcm1TZXR0eXBlKHMsIGQsIGNoYW5uZWwsIHRyYW5zZm9ybUVkaXRPcHMpO1xuICAgICAgfSBlbHNlIGlmICh0cmFuc2Zvcm1UeXBlID09PSBcIlNDQUxFXCIgJiYgdHJhbnNmb3JtRWRpdE9wc1t0cmFuc2Zvcm1UeXBlXSkge1xuICAgICAgICBlZGl0T3AgPSBhd2FpdCBzY2FsZUVkaXRPcHMocywgZCwgY2hhbm5lbCwgdHJhbnNmb3JtRWRpdE9wc1t0cmFuc2Zvcm1UeXBlXSwgdHJhbnNPcHRpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtRWRpdE9wc1t0cmFuc2Zvcm1UeXBlXSkge1xuICAgICAgICBlZGl0T3AgPSB0cmFuc2Zvcm1CYXNpYyhzLCBkLCBjaGFubmVsLCB0cmFuc2Zvcm1UeXBlLCB0cmFuc2Zvcm1FZGl0T3BzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVkaXRPcCkge1xuICAgICAgICBsZXQgZm91bmQgPSBlZGl0T3BzLmZpbmQoZW8gPT4gZW8ubmFtZSA9PT0gZWRpdE9wLm5hbWUpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICBmb3VuZC5kZXRhaWwucHVzaChlZGl0T3AuZGV0YWlsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlZGl0T3AuZGV0YWlsID0gW2VkaXRPcC5kZXRhaWxdO1xuICAgICAgICAgIGVkaXRPcHMucHVzaChlZGl0T3ApO1xuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gIH07XG5cbiAgdmFyIGltcG9ydGVkRmlsdGVyRWRpdE9wcyA9IHtcbiAgICBcIk1PRElGWV9GSUxURVJcIjogdHJhbnNmb3JtRWRpdE9wc1tcIk1PRElGWV9GSUxURVJcIl0sXG4gICAgXCJBRERfRklMVEVSXCI6IHRyYW5zZm9ybUVkaXRPcHNbXCJBRERfRklMVEVSXCJdLFxuICAgIFwiUkVNT1ZFX0ZJTFRFUlwiOiB0cmFuc2Zvcm1FZGl0T3BzW1wiUkVNT1ZFX0ZJTFRFUlwiXVxuICB9O1xuXG4gIGVkaXRPcHMgPSBlZGl0T3BzLmNvbmNhdChmaWx0ZXJFZGl0T3BzKHMsIGQsIGltcG9ydGVkRmlsdGVyRWRpdE9wcykpO1xuXG4gIHJldHVybiBlZGl0T3BzO1xufVxuZXhwb3J0cy50cmFuc2Zvcm1FZGl0T3BzID0gdHJhbnNmb3JtRWRpdE9wcztcbmZ1bmN0aW9uIHRyYW5zZm9ybUJhc2ljKHMsIGQsIGNoYW5uZWwsIHRyYW5zZm9ybSwgdHJhbnNmb3JtRWRpdE9wcykge1xuICB2YXIgc0hhcyA9IGZhbHNlO1xuICB2YXIgZEhhcyA9IGZhbHNlO1xuICB2YXIgZWRpdE9wO1xuICB2YXIgc0VkaXRPcCwgZEVkaXRPcDtcbiAgaWYgKHMuZW5jb2RpbmdbY2hhbm5lbF0gJiYgcy5lbmNvZGluZ1tjaGFubmVsXVt0cmFuc2Zvcm0udG9Mb3dlckNhc2UoKV0pIHtcbiAgICBzSGFzID0gdHJ1ZTtcbiAgICBzRWRpdE9wID0gcy5lbmNvZGluZ1tjaGFubmVsXVt0cmFuc2Zvcm0udG9Mb3dlckNhc2UoKV07XG4gIH1cbiAgaWYgKGQuZW5jb2RpbmdbY2hhbm5lbF0gJiYgZC5lbmNvZGluZ1tjaGFubmVsXVt0cmFuc2Zvcm0udG9Mb3dlckNhc2UoKV0pIHtcbiAgICBkSGFzID0gdHJ1ZTtcbiAgICBkRWRpdE9wID0gZC5lbmNvZGluZ1tjaGFubmVsXVt0cmFuc2Zvcm0udG9Mb3dlckNhc2UoKV07XG4gIH1cblxuICBpZiAoc0hhcyAmJiBkSGFzICYmICghdXRpbC5yYXdFcXVhbChzRWRpdE9wLCBkRWRpdE9wKSkpIHtcbiAgICBlZGl0T3AgPSB1dGlsLmR1cGxpY2F0ZSh0cmFuc2Zvcm1FZGl0T3BzW3RyYW5zZm9ybV0pO1xuICAgIGVkaXRPcC5kZXRhaWwgPSB7IGhvdzogXCJtb2RpZmllZFwiLCBjaGFubmVsOiBjaGFubmVsIH07XG4gICAgcmV0dXJuIGVkaXRPcDtcbiAgfVxuICBlbHNlIGlmIChzSGFzICYmICFkSGFzKSB7XG4gICAgZWRpdE9wID0gdXRpbC5kdXBsaWNhdGUodHJhbnNmb3JtRWRpdE9wc1t0cmFuc2Zvcm1dKTtcbiAgICBlZGl0T3AuZGV0YWlsID0geyBob3c6IFwicmVtb3ZlZFwiLCBjaGFubmVsOiBjaGFubmVsIH07XG4gICAgcmV0dXJuIGVkaXRPcDtcbiAgfVxuICBlbHNlIGlmICghc0hhcyAmJiBkSGFzKSB7XG4gICAgZWRpdE9wID0gdXRpbC5kdXBsaWNhdGUodHJhbnNmb3JtRWRpdE9wc1t0cmFuc2Zvcm1dKTtcbiAgICBlZGl0T3AuZGV0YWlsID0geyBob3c6IFwiYWRkZWRcIiwgY2hhbm5lbDogY2hhbm5lbCB9O1xuICAgIHJldHVybiBlZGl0T3A7XG4gIH1cbn1cbmV4cG9ydHMudHJhbnNmb3JtQmFzaWMgPSB0cmFuc2Zvcm1CYXNpYztcblxuYXN5bmMgZnVuY3Rpb24gc2NhbGVFZGl0T3BzKHMsIGQsIGNoYW5uZWwsIHNjYWxlVHJhbnNmb3JtRWRpdE9wcywgdHJhbnNPcHRpb25zKSB7XG4gIHZhciBzSGFzID0gZmFsc2UsIHNPbmx5SGFzRG9tYWluUmVsYXRlZCA9IGZhbHNlO1xuICB2YXIgZEhhcyA9IGZhbHNlLCBkT25seUhhc0RvbWFpblJlbGF0ZWQgPSBmYWxzZTtcbiAgdmFyIGVkaXRPcCwgc1NjYWxlRGVmLCBkU2NhbGVEZWY7XG5cbiAgaWYgKHMuZW5jb2RpbmdbY2hhbm5lbF0gJiYgcy5lbmNvZGluZ1tjaGFubmVsXS5zY2FsZSkge1xuICAgIHNIYXMgPSB0cnVlO1xuICAgIHNTY2FsZURlZiA9IHsuLi5zLmVuY29kaW5nW2NoYW5uZWxdLnNjYWxlfTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHNTY2FsZURlZikuZmluZChrZXkgPT4gW1wiZG9tYWluXCIsIFwiemVyb1wiXS5pbmRleE9mKGtleSkgPCAwKSApIHtcbiAgICAgIHNPbmx5SGFzRG9tYWluUmVsYXRlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChkLmVuY29kaW5nW2NoYW5uZWxdICYmIGQuZW5jb2RpbmdbY2hhbm5lbF0uc2NhbGUpIHtcbiAgICBkSGFzID0gdHJ1ZTtcbiAgICBkU2NhbGVEZWYgPSB7Li4uZC5lbmNvZGluZ1tjaGFubmVsXS5zY2FsZX07XG4gICAgaWYgKCFPYmplY3Qua2V5cyhkU2NhbGVEZWYpLmZpbmQoa2V5ID0+IFtcImRvbWFpblwiLCBcInplcm9cIl0uaW5kZXhPZihrZXkpIDwgMCkgKSB7XG4gICAgICBkT25seUhhc0RvbWFpblJlbGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAodHJhbnNPcHRpb25zICYmIHRyYW5zT3B0aW9ucy5vbWl0SW5jbHVkZVJhd0RvbWFpbikge1xuICAgIGlmIChzU2NhbGVEZWYgJiYgc1NjYWxlRGVmLmRvbWFpbiAmJiBkU2NhbGVEZWYuZG9tYWluID09PSBcInVuYWdncmVnYXRlZFwiKSB7XG4gICAgICBkZWxldGUgc1NjYWxlRGVmLmRvbWFpbjtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzU2NhbGVEZWYpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBzT25seUhhc0RvbWFpblJlbGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgc0hhcyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkU2NhbGVEZWYgJiYgZFNjYWxlRGVmLmRvbWFpbiAmJiAoZFNjYWxlRGVmLmRvbWFpbiA9PT0gXCJ1bmFnZ3JlZ2F0ZWRcIikpIHtcbiAgICAgIGRlbGV0ZSBkU2NhbGVEZWYuZG9tYWluO1xuICAgICAgaWYgKE9iamVjdC5rZXlzKGRTY2FsZURlZikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRPbmx5SGFzRG9tYWluUmVsYXRlZCA9IGZhbHNlO1xuICAgICAgICBkSGFzID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHNIYXMgJiYgZEhhcyAmJiAoIXV0aWwucmF3RXF1YWwoc1NjYWxlRGVmLCBkU2NhbGVEZWYpKSkge1xuICAgIGlmIChzT25seUhhc0RvbWFpblJlbGF0ZWQgJiYgZE9ubHlIYXNEb21haW5SZWxhdGVkICYmIGF3YWl0IHNhbWVEb21haW4ocyxkLCBjaGFubmVsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlZGl0T3AgPSB1dGlsLmR1cGxpY2F0ZShzY2FsZVRyYW5zZm9ybUVkaXRPcHMpO1xuICAgIGVkaXRPcC5kZXRhaWwgPSB7XG4gICAgICBob3c6IFwibW9kaWZpZWRcIixcbiAgICAgIGNoYW5uZWw6IGNoYW5uZWwsXG4gICAgICBmaWVsZFR5cGU6IHtcbiAgICAgICAgZnJvbTogcy5lbmNvZGluZ1tjaGFubmVsXS50eXBlLFxuICAgICAgICB0bzogZC5lbmNvZGluZ1tjaGFubmVsXS50eXBlXG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZWRpdE9wO1xuICB9XG4gIGVsc2UgaWYgKHNIYXMgJiYgIWRIYXMpIHtcblxuICAgIGlmIChzT25seUhhc0RvbWFpblJlbGF0ZWQgJiYgYXdhaXQgc2FtZURvbWFpbihzLGQsIGNoYW5uZWwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWRpdE9wID0gdXRpbC5kdXBsaWNhdGUoc2NhbGVUcmFuc2Zvcm1FZGl0T3BzKTtcbiAgICBlZGl0T3AuZGV0YWlsID0geyBob3c6IFwicmVtb3ZlZFwiLCBjaGFubmVsOiBjaGFubmVsLCBmaWVsZFR5cGU6IHMuZW5jb2RpbmdbY2hhbm5lbF0udHlwZSB9O1xuICAgIHJldHVybiBlZGl0T3A7XG4gIH1cbiAgZWxzZSBpZiAoIXNIYXMgJiYgZEhhcykge1xuICAgIGlmIChkT25seUhhc0RvbWFpblJlbGF0ZWQgJiYgYXdhaXQgc2FtZURvbWFpbihzLGQsIGNoYW5uZWwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVkaXRPcCA9IHV0aWwuZHVwbGljYXRlKHNjYWxlVHJhbnNmb3JtRWRpdE9wcyk7XG4gICAgZWRpdE9wLmRldGFpbCA9IHsgaG93OiBcImFkZGVkXCIsIGNoYW5uZWw6IGNoYW5uZWwsIGZpZWxkVHlwZTogZC5lbmNvZGluZ1tjaGFubmVsXS50eXBlIH07XG4gICAgcmV0dXJuIGVkaXRPcDtcbiAgfVxufVxuZXhwb3J0cy5zY2FsZUVkaXRPcHMgPSBzY2FsZUVkaXRPcHM7XG5hc3luYyBmdW5jdGlvbiBzYW1lRG9tYWluKHMsIGQsIGNoYW5uZWwpIHtcblxuICBsZXQgZFZpZXcsIHNWaWV3O1xuICB0cnkge1xuICAgIGRWaWV3ID0gYXdhaXQgbmV3IHZlZ2EuVmlldyh2ZWdhLnBhcnNlKHZsLmNvbXBpbGUodXRpbC5kdXBsaWNhdGUoZCkpLnNwZWMpLCB7XG4gICAgICByZW5kZXJlcjogXCJzdmdcIlxuICAgIH0pLnJ1bkFzeW5jKCk7XG5cbiAgICBzVmlldyA9IGF3YWl0IG5ldyB2ZWdhLlZpZXcodmVnYS5wYXJzZSh2bC5jb21waWxlKHV0aWwuZHVwbGljYXRlKHMpKS5zcGVjKSwge1xuICAgICAgcmVuZGVyZXI6IFwic3ZnXCJcbiAgICB9KS5ydW5Bc3luYygpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cblxuICBjb25zdCBzU2NhbGUgPSBzVmlldy5fcnVudGltZS5zY2FsZXNbY2hhbm5lbF0udmFsdWU7XG4gIGNvbnN0IGRTY2FsZSA9IGRWaWV3Ll9ydW50aW1lLnNjYWxlc1tjaGFubmVsXS52YWx1ZTtcblxuXG4gIHJldHVybiB1dGlsLmRlZXBFcXVhbChzU2NhbGUuZG9tYWluKCksIGRTY2FsZS5kb21haW4oKSlcbn1cbmV4cG9ydHMuc2FtZURvbWFpbiA9IHNhbWVEb21haW47XG5cbmZ1bmN0aW9uIGZpbHRlckVkaXRPcHMocywgZCwgaW1wb3J0ZWRGaWx0ZXJFZGl0T3BzKSB7XG5cbiAgdmFyIHNGaWx0ZXJzID0gW10sIGRGaWx0ZXJzID0gW107XG4gIHZhciBlZGl0T3BzID0gW107XG5cbiAgaWYgKHMudHJhbnNmb3JtKSB7XG5cbiAgICBzRmlsdGVycyA9IGdldEZpbHRlcnMocy50cmFuc2Zvcm0uZmlsdGVyKHRyc2ZtID0+IHRyc2ZtLmZpbHRlcikubWFwKHRyc2ZtID0+IHRyc2ZtLmZpbHRlcikpO1xuICB9XG4gIGlmIChkLnRyYW5zZm9ybSkge1xuICAgIGRGaWx0ZXJzID0gZ2V0RmlsdGVycyhkLnRyYW5zZm9ybS5maWx0ZXIodHJzZm0gPT4gdHJzZm0uZmlsdGVyKS5tYXAodHJzZm0gPT4gdHJzZm0uZmlsdGVyKSk7XG4gIH1cblxuICBpZiAoc0ZpbHRlcnMubGVuZ3RoID09PSAwICYmIGRGaWx0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBlZGl0T3BzO1xuICB9XG5cbiAgdmFyIGRPbmx5ID0gdXRpbC5hcnJheURpZmYoZEZpbHRlcnMsIHNGaWx0ZXJzKTtcbiAgdmFyIHNPbmx5ID0gdXRpbC5hcnJheURpZmYoc0ZpbHRlcnMsIGRGaWx0ZXJzKTtcblxuICB2YXIgaXNGaW5kID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZE9ubHkubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNPbmx5Lmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoZE9ubHlbaV0uaWQgPT09IHNPbmx5W2pdLmlkKSB7XG4gICAgICAgIHZhciBuZXdFZGl0T3AgPSB1dGlsLmR1cGxpY2F0ZShpbXBvcnRlZEZpbHRlckVkaXRPcHNbXCJNT0RJRllfRklMVEVSXCJdKTtcbiAgICAgICAgbmV3RWRpdE9wLmRldGFpbCA9IHtcbiAgICAgICAgICBcIndoYXRcIjogW10sIFwiaWRcIjogc09ubHlbal0uaWQsIFwiYmVmb3JlXCI6W10sIFwiYWZ0ZXJcIjpbXSxcbiAgICAgICAgICBcInNGaWx0ZXJcIjogc09ubHlbal0sXG4gICAgICAgICAgXCJlRmlsdGVyXCI6IGRPbmx5W2ldXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdXRpbC5kZWVwRXF1YWwoc09ubHlbal0ub3AsIGRPbmx5W2ldLm9wKSkge1xuICAgICAgICAgIG5ld0VkaXRPcC5kZXRhaWwud2hhdC5wdXNoKFwib3BcIilcbiAgICAgICAgICBuZXdFZGl0T3AuZGV0YWlsLmJlZm9yZS5wdXNoKHNPbmx5W2pdLm9wKTtcbiAgICAgICAgICBuZXdFZGl0T3AuZGV0YWlsLmFmdGVyLnB1c2goZE9ubHlbaV0ub3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdXRpbC5kZWVwRXF1YWwoc09ubHlbal0udmFsdWUsIGRPbmx5W2ldLnZhbHVlKSkge1xuICAgICAgICAgIG5ld0VkaXRPcC5kZXRhaWwud2hhdC5wdXNoKFwidmFsdWVcIilcbiAgICAgICAgICBuZXdFZGl0T3AuZGV0YWlsLmJlZm9yZS5wdXNoKHNPbmx5W2pdLnZhbHVlKTtcbiAgICAgICAgICBuZXdFZGl0T3AuZGV0YWlsLmFmdGVyLnB1c2goZE9ubHlbaV0udmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVkaXRPcHMucHVzaChuZXdFZGl0T3ApO1xuICAgICAgICBkT25seS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHNPbmx5LnNwbGljZShqLCAxKTtcbiAgICAgICAgaXNGaW5kID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0ZpbmQpIHtcbiAgICAgIGlzRmluZCA9IGZhbHNlO1xuICAgICAgaS0tO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZE9ubHkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbmV3RWRpdE9wID0gdXRpbC5kdXBsaWNhdGUoaW1wb3J0ZWRGaWx0ZXJFZGl0T3BzW1wiQUREX0ZJTFRFUlwiXSk7XG4gICAgbmV3RWRpdE9wLmRldGFpbCA9IG5ld0VkaXRPcC5kZXRhaWwgPSB7XG4gICAgICBcImlkXCI6IGRPbmx5W2ldLmlkLFxuICAgICAgXCJ3aGF0XCI6IFtcImZpZWxkXCIsIFwib3BcIiwgXCJ2YWx1ZVwiXSxcbiAgICAgIFwiYmVmb3JlXCI6W3VuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWRdLFxuICAgICAgXCJhZnRlclwiOltkT25seVtpXS5maWVsZCwgZE9ubHlbaV0ub3AsIGRPbmx5W2ldLnZhbHVlXSxcbiAgICAgIFwiZUZpbHRlclwiOiBkT25seVtpXSxcbiAgICAgIFwic0ZpbHRlclwiOiB1bmRlZmluZWQsXG4gICAgfTtcblxuICAgIGVkaXRPcHMucHVzaChuZXdFZGl0T3ApO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc09ubHkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbmV3RWRpdE9wID0gdXRpbC5kdXBsaWNhdGUoaW1wb3J0ZWRGaWx0ZXJFZGl0T3BzW1wiUkVNT1ZFX0ZJTFRFUlwiXSk7XG4gICAgbmV3RWRpdE9wLmRldGFpbCA9IG5ld0VkaXRPcC5kZXRhaWwgPSB7XG4gICAgICBcImlkXCI6IHNPbmx5W2ldLmlkLFxuICAgICAgXCJ3aGF0XCI6IFtcImZpZWxkXCIsIFwib3BcIiwgXCJ2YWx1ZVwiXSxcbiAgICAgIFwiYmVmb3JlXCI6IFtzT25seVtpXS5maWVsZCwgc09ubHlbaV0ub3AsIHNPbmx5W2ldLnZhbHVlXSxcbiAgICAgIFwiYWZ0ZXJcIjogW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWRdLFxuICAgICAgXCJzRmlsdGVyXCI6IHNPbmx5W2ldLFxuICAgICAgXCJlRmlsdGVyXCI6IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgZWRpdE9wcy5wdXNoKG5ld0VkaXRPcCk7XG4gIH1cbiAgcmV0dXJuIGVkaXRPcHM7XG59XG5leHBvcnRzLmZpbHRlckVkaXRPcHMgPSBmaWx0ZXJFZGl0T3BzO1xuXG5mdW5jdGlvbiBnZXRGaWx0ZXJzIChmaWx0ZXJFeHByZXNzaW9uKSB7XG4gIGxldCBmaWx0ZXJzO1xuICBpZiAodXRpbC5pc0FycmF5KGZpbHRlckV4cHJlc3Npb24pKSB7XG4gICAgZmlsdGVycyA9IGZpbHRlckV4cHJlc3Npb24ucmVkdWNlKChhY2MsIGV4cHJlc3Npb24pID0+IHtcbiAgICAgIHJldHVybiBhY2MuY29uY2F0KHBhcnNlUHJlZGljYXRlRmlsdGVyKGV4cHJlc3Npb24pKTtcbiAgICB9LCBbXSk7XG4gIH0gZWxzZSB7XG4gICAgZmlsdGVycyA9IHBhcnNlUHJlZGljYXRlRmlsdGVyKGZpbHRlckV4cHJlc3Npb24pO1xuICB9XG5cbiAgZmlsdGVycyA9IGQzLmdyb3VwcyhmaWx0ZXJzLCBmaWx0ZXIgPT4gZmlsdGVyLmlkKVxuICAgIC5tYXAoZ3JvdXAgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGdyb3VwWzBdLFxuICAgICAgICBmaWVsZDogZ3JvdXBbMV0ubWFwKGZpbHRlciA9PiBmaWx0ZXIuZmllbGQpLFxuICAgICAgICBvcDogZ3JvdXBbMV0ubWFwKGZpbHRlciA9PiBmaWx0ZXIub3ApLFxuICAgICAgICB2YWx1ZTogZ3JvdXBbMV0ubWFwKGZpbHRlciA9PiBmaWx0ZXIudmFsdWUpXG4gICAgICB9XG4gICAgfSlcblxuICByZXR1cm4gZmlsdGVycztcblxuXG59XG5leHBvcnRzLmdldEZpbHRlcnMgPSBnZXRGaWx0ZXJzO1xuXG5mdW5jdGlvbiBwYXJzZVByZWRpY2F0ZUZpbHRlcihleHByZXNzaW9uKSB7XG5cbiAgbGV0IHBhcnNlZCA9IFtdO1xuICBpZiAodXRpbC5pc1N0cmluZyhleHByZXNzaW9uKSkge1xuICAgIHBhcnNlZCA9IHBhcnNlZC5jb25jYXQoc3RyaW5nRmlsdGVyKGV4cHJlc3Npb24pKTtcbiAgfSBlbHNlIHtcbiAgICBMT0dJQ19PUFMuZmlsdGVyKGxvZ2ljT3AgPT4gZXhwcmVzc2lvbi5oYXNPd25Qcm9wZXJ0eShsb2dpY09wKSkuZm9yRWFjaChsb2dpY09wID0+IHtcbiAgICAgIGxldCBzdWJQYXJzZWQ7XG4gICAgICBpZiAodXRpbC5pc0FycmF5KGV4cHJlc3Npb25bbG9naWNPcF0pKSB7XG4gICAgICAgIHN1YlBhcnNlZCA9IGV4cHJlc3Npb25bbG9naWNPcF0ucmVkdWNlKChzdWJQYXJzZWQsIGV4cHIpID0+IHtcbiAgICAgICAgICByZXR1cm4gc3ViUGFyc2VkLmNvbmNhdChwYXJzZVByZWRpY2F0ZUZpbHRlcihleHByKSlcbiAgICAgICAgfSwgW10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3ViUGFyc2VkID0gcGFyc2VQcmVkaWNhdGVGaWx0ZXIoZXhwcmVzc2lvbltsb2dpY09wXSk7XG4gICAgICB9XG4gICAgICBsZXQgaWQgPSBzdWJQYXJzZWQubWFwKGYgPT4gZi5pZCkuam9pbihcIl9cIilcbiAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgXCJpZFwiOiBgJHtsb2dpY09wfT5bJHtpZH1dYCxcbiAgICAgICAgXCJvcFwiOiBsb2dpY09wLFxuICAgICAgICBcInZhbHVlXCI6IHN1YlBhcnNlZFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgT1BTLmZpbHRlcihvcCA9PiBleHByZXNzaW9uLmhhc093blByb3BlcnR5KG9wKSlcbiAgICAgIC5mb3JFYWNoKG9wID0+IHtcbiAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgXCJpZFwiOiBleHByZXNzaW9uLmZpZWxkLFxuICAgICAgICBcImZpZWxkXCI6IGV4cHJlc3Npb24uZmllbGQsXG4gICAgICAgIFwib3BcIjogb3AsXG4gICAgICAgIFwidmFsdWVcIjogSlNPTi5zdHJpbmdpZnkoZXhwcmVzc2lvbltvcF0pXG4gICAgICB9KTtcbiAgICB9KVxuICB9XG5cbiAgaWYgKHBhcnNlZC5sZW5ndGggPT09IDApIHtcbiAgICBjb25zb2xlLmxvZyhcIldBUk46IGNhbm5vdCBwYXJzZSBmaWx0ZXJzLlwiKTtcbiAgfVxuICByZXR1cm4gcGFyc2VkO1xufVxuZXhwb3J0cy5wYXJzZVByZWRpY2F0ZUZpbHRlciA9IHBhcnNlUHJlZGljYXRlRmlsdGVyO1xuXG5mdW5jdGlvbiBzdHJpbmdGaWx0ZXIoZXhwcmVzc2lvbikge1xuICB2YXIgcGFyc2VyID0gZXhwcltcInBhcnNlXCJdO1xuICB2YXIgZXhwcmVzc2lvblRyZWUgPSBwYXJzZXIoZXhwcmVzc2lvbik7XG5cbiAgcmV0dXJuIGJpbmFyeUV4cHJzRnJvbUV4cHJUcmVlKGV4cHJlc3Npb25UcmVlLCBbXSwgMCkubWFwKGZ1bmN0aW9uIChiRXhwcikge1xuICAgIHJldHVybiB7XG4gICAgICBcImlkXCI6IGJFeHByLmxlZnQucHJvcGVydHkubmFtZSxcbiAgICAgIFwiZmllbGRcIjogYkV4cHIubGVmdC5wcm9wZXJ0eS5uYW1lLFxuICAgICAgXCJvcFwiOiBiRXhwci5vcGVyYXRvcixcbiAgICAgIFwidmFsdWVcIjogYkV4cHIucmlnaHQucmF3XG4gICAgfTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gYmluYXJ5RXhwcnNGcm9tRXhwclRyZWUodHJlZSwgYXJyLCBkZXB0aCkge1xuICAgIGlmICh0cmVlLm9wZXJhdG9yID09PSAnfHwnIHx8IHRyZWUub3BlcmF0b3IgPT09ICcmJicpIHtcbiAgICAgIGFyciA9IGJpbmFyeUV4cHJzRnJvbUV4cHJUcmVlKHRyZWUubGVmdCwgYXJyLCBkZXB0aCArIDEpO1xuICAgICAgYXJyID0gYmluYXJ5RXhwcnNGcm9tRXhwclRyZWUodHJlZS5yaWdodCwgYXJyLCBkZXB0aCArIDEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChbJz09JywgJz09PScsICchPT0nLCAnIT0nLCAnPCcsICc8PScsICc+JywgJz49J10uaW5kZXhPZih0cmVlLm9wZXJhdG9yKSA+PSAwKSB7XG4gICAgICB0cmVlLmRlcHRoID0gZGVwdGg7XG4gICAgICBhcnIucHVzaCh0cmVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxufVxuXG5cblxuZnVuY3Rpb24gdHJhbnNmb3JtU2V0dHlwZShzLCBkLCBjaGFubmVsLCB0cmFuc2Zvcm1FZGl0T3BzKSB7XG4gIHZhciBlZGl0T3A7XG4gIGlmIChzLmVuY29kaW5nW2NoYW5uZWxdICYmIGQuZW5jb2RpbmdbY2hhbm5lbF1cbiAgICAmJiAoZC5lbmNvZGluZ1tjaGFubmVsXVtcImZpZWxkXCJdID09PSBzLmVuY29kaW5nW2NoYW5uZWxdW1wiZmllbGRcIl0pXG4gICAgJiYgKGQuZW5jb2RpbmdbY2hhbm5lbF1bXCJ0eXBlXCJdICE9PSBzLmVuY29kaW5nW2NoYW5uZWxdW1widHlwZVwiXSkpIHtcbiAgICBlZGl0T3AgPSB1dGlsLmR1cGxpY2F0ZSh0cmFuc2Zvcm1FZGl0T3BzW1wiU0VUVFlQRVwiXSk7XG4gICAgZWRpdE9wLmRldGFpbCA9IHtcbiAgICAgIFwiYmVmb3JlXCI6IHMuZW5jb2RpbmdbY2hhbm5lbF1bXCJ0eXBlXCJdLFxuICAgICAgXCJhZnRlclwiOiBkLmVuY29kaW5nW2NoYW5uZWxdW1widHlwZVwiXSxcbiAgICAgIGNoYW5uZWw6IGNoYW5uZWxcbiAgICB9O1xuICAgIHJldHVybiBlZGl0T3A7XG4gIH1cbn1cbmV4cG9ydHMudHJhbnNmb3JtU2V0dHlwZSA9IHRyYW5zZm9ybVNldHR5cGU7XG5cblxuZnVuY3Rpb24gZW5jb2RpbmdFZGl0T3BzKHMsIGQsIGltcG9ydGVkRW5jb2RpbmdFZGl0T3BzKSB7XG4gIGlmIChuYi5zYW1lRW5jb2Rpbmcocy5lbmNvZGluZywgZC5lbmNvZGluZykpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgdmFyIHNDaGFubmVscyA9IHV0aWwua2V5cyhzLmVuY29kaW5nKTtcbiAgdmFyIHNGaWVsZHMgPSBzQ2hhbm5lbHMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gcy5lbmNvZGluZ1trZXldO1xuICB9KTtcbiAgdmFyIGRDaGFubmVscyA9IHV0aWwua2V5cyhkLmVuY29kaW5nKTtcbiAgdmFyIGRGaWVsZHMgPSBkQ2hhbm5lbHMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gZC5lbmNvZGluZ1trZXldO1xuICB9KTtcbiAgdmFyIGFkZGl0aW9uYWxGaWVsZHMgPSB1dGlsLnVuaW9uKGRGaWVsZHMsIHNGaWVsZHMsIGZ1bmN0aW9uIChmaWVsZCkgeyByZXR1cm4gZmllbGQuZmllbGQgKyBcIl9cIiArIGZpZWxkLnR5cGU7IH0pO1xuICB2YXIgYWRkaXRpb25hbENoYW5uZWxzID0gdXRpbC5hcnJheURpZmYoZENoYW5uZWxzLCBzQ2hhbm5lbHMpO1xuICB2YXIgdTtcbiAgZnVuY3Rpb24gbmVhcmVzdE5vZGUobm9kZXMpIHtcbiAgICB2YXIgbWluRCA9IEluZmluaXR5O1xuICAgIHZhciBhcmdNaW5EID0gLTE7XG4gICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSwgaW5kZXgpIHtcbiAgICAgIGlmIChub2RlLmRpc3RhbmNlIDwgbWluRCkge1xuICAgICAgICBtaW5EID0gbm9kZS5kaXN0YW5jZTtcbiAgICAgICAgYXJnTWluRCA9IGluZGV4O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBub2Rlcy5zcGxpY2UoYXJnTWluRCwgMSlbMF07XG4gIH1cbiAgdmFyIG5vZGVzID0gbmIubmVpZ2hib3JzKHMsIGFkZGl0aW9uYWxGaWVsZHMsIGFkZGl0aW9uYWxDaGFubmVscywgaW1wb3J0ZWRFbmNvZGluZ0VkaXRPcHMpXG4gICAgLm1hcChmdW5jdGlvbiAobmVpZ2hib3IpIHtcbiAgICBuZWlnaGJvci5kaXN0YW5jZSA9IG5laWdoYm9yLmVkaXRPcC5jb3N0LFxuICAgICAgbmVpZ2hib3IucHJldiA9IFtzXTtcbiAgICByZXR1cm4gbmVpZ2hib3I7XG4gIH0pO1xuICBzLmRpc3RhbmNlID0gMDtcbiAgcy5wcmV2ID0gW107XG4gIHZhciBkb25lTm9kZXMgPSBbc107XG4gIHdoaWxlIChub2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgdSA9IG5lYXJlc3ROb2RlKG5vZGVzKTtcbiAgICBpZiAobmIuc2FtZUVuY29kaW5nKHUuZW5jb2RpbmcsIGQuZW5jb2RpbmcpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKHUuZGlzdGFuY2UgPj0gaW1wb3J0ZWRFbmNvZGluZ0VkaXRPcHMuY2VpbGluZy5jb3N0KSB7XG4gICAgICByZXR1cm4gW3sgbmFtZTogJ09WRVJfVEhFX0NFSUxJTkcnLCBjb3N0OiBpbXBvcnRlZEVuY29kaW5nRWRpdE9wcy5jZWlsaW5nLmFsdGVybmF0aW5nQ29zdCB9XTtcbiAgICB9XG4gICAgdmFyIG5ld05vZGVzID0gbmIubmVpZ2hib3JzKHUsIGFkZGl0aW9uYWxGaWVsZHMsIHUuYWRkaXRpb25hbENoYW5uZWxzLCBpbXBvcnRlZEVuY29kaW5nRWRpdE9wcyk7XG4gICAgbmV3Tm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobmV3Tm9kZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbmVOb2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAobmIuc2FtZUVuY29kaW5nKGRvbmVOb2Rlc1tpXS5lbmNvZGluZywgbmV3Tm9kZS5lbmNvZGluZykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKG5iLnNhbWVFbmNvZGluZyhub2Rlc1tpXS5lbmNvZGluZywgbmV3Tm9kZS5lbmNvZGluZykpIHtcbiAgICAgICAgICBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmRpc3RhbmNlID4gdS5kaXN0YW5jZSArIG5ld05vZGUuZWRpdE9wLmNvc3QpIHtcbiAgICAgICAgICBub2RlLmRpc3RhbmNlID0gdS5kaXN0YW5jZSArIG5ld05vZGUuZWRpdE9wLmNvc3Q7XG4gICAgICAgICAgbm9kZS5lZGl0T3AgPSBuZXdOb2RlLmVkaXRPcDtcbiAgICAgICAgICBub2RlLnByZXYgPSB1LnByZXYuY29uY2F0KFt1XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZXdOb2RlLmRpc3RhbmNlID0gdS5kaXN0YW5jZSArIG5ld05vZGUuZWRpdE9wLmNvc3Q7XG4gICAgICAgIG5ld05vZGUucHJldiA9IHUucHJldi5jb25jYXQoW3VdKTtcbiAgICAgICAgbm9kZXMucHVzaChuZXdOb2RlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkb25lTm9kZXMucHVzaCh1KTtcbiAgfVxuICBpZiAoIW5iLnNhbWVFbmNvZGluZyh1LmVuY29kaW5nLCBkLmVuY29kaW5nKSAmJiBub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW3sgbmFtZTogXCJVTlJFQUNIQUJMRVwiLCBjb3N0OiA5OTkgfV07XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdLmNvbmNhdCh1LnByZXYubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuZWRpdE9wO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGVkaXRPcCkgeyByZXR1cm4gZWRpdE9wOyB9KVxuICApO1xuICByZXN1bHQucHVzaCh1LmVkaXRPcCk7XG4gIHJldHVybiByZXN1bHQgO1xufVxuXG5cbmV4cG9ydHMuZW5jb2RpbmdFZGl0T3BzID0gZW5jb2RpbmdFZGl0T3BzO1xuIiwiJ3VzZSBzdHJpY3QnXG5mdW5jdGlvbiBUU1AobWF0cml4LCB2YWx1ZSwgZml4Rmlyc3Qpe1xuICB2YXIgaGVhZCxzZXF1ZW5jZXM7XG4gIGZ1bmN0aW9uIGVudW1TZXF1ZW5jZXMoYXJyKXtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgaWYgKGFyci5sZW5ndGggPT09IDEpIHtcbiAgICAgIG91dC5wdXNoKGFycik7XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhcnJUZW1wID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhcnIpKTtcbiAgICAgICAgdmFyIGhlYWQgPSBhcnJUZW1wLnNwbGljZShpLDEpO1xuICAgICAgICBlbnVtU2VxdWVuY2VzKGFyclRlbXApLm1hcChmdW5jdGlvbihzZXEpe1xuICAgICAgICAgIG91dC5wdXNoKGhlYWQuY29uY2F0KHNlcSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNlcXVlbmNlID0gbWF0cml4WzBdLm1hcChmdW5jdGlvbihlbGVtLCBpKXtcbiAgICByZXR1cm4gaTtcbiAgfSk7XG5cbiAgaWYgKCFpc05hTihmaXhGaXJzdCkpIHtcbiAgICBoZWFkID0gc2VxdWVuY2Uuc3BsaWNlKGZpeEZpcnN0LDEpO1xuICAgIHNlcXVlbmNlcyA9IGVudW1TZXF1ZW5jZXMoc2VxdWVuY2UpLm1hcChmdW5jdGlvbihlbGVtKXtcbiAgICAgIHJldHVybiBoZWFkLmNvbmNhdChlbGVtKTtcbiAgICB9KTtcblxuICB9XG4gIGVsc2V7XG4gICAgc2VxdWVuY2VzID0gZW51bVNlcXVlbmNlcyhzZXF1ZW5jZSk7XG4gIH1cblxuICB2YXIgbWluRGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgdmFyIGFyZ01pbiA9IDA7XG4gIHZhciBkaXN0YW5jZSA9IDA7XG4gIHZhciBvdXQgPSBbXTtcbiAgdmFyIGFsbCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNlcXVlbmNlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpKjEwMC9zZXF1ZW5jZXMubGVuZ3RoICUxMCA9PT0gMCkge1xuICAgICAgLy8gcHJvY2Vzcy5zdGQub3V0KGkqMTAwL3NlcXVlbmNlcy5sZW5ndGgpO1xuICAgIH1cblxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZXF1ZW5jZXNbaV0ubGVuZ3RoLTE7IGorKykge1xuICAgICAgZGlzdGFuY2UgKz0gbWF0cml4W3NlcXVlbmNlc1tpXVtqXV1bc2VxdWVuY2VzW2ldW2orMV1dW3ZhbHVlXTtcbiAgICB9XG4gICAgZGlzdGFuY2UgPSBNYXRoLnJvdW5kKGRpc3RhbmNlKjEwMDAwKS8xMDAwMDtcbiAgICBhbGwucHVzaCh7c2VxdWVuY2U6IHNlcXVlbmNlc1tpXSwgZGlzdGFuY2U6IGRpc3RhbmNlfSk7XG5cbiAgICBpZiAoZGlzdGFuY2UgPD0gbWluRGlzdGFuY2UgKSB7XG5cbiAgICAgIGlmIChkaXN0YW5jZSA9PT0gbWluRGlzdGFuY2UpIHtcbiAgICAgICAgb3V0LnB1c2goe3NlcXVlbmNlOiBzZXF1ZW5jZXNbaV0sIGRpc3RhbmNlOiBtaW5EaXN0YW5jZX0pO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgb3V0ID0gW107XG4gICAgICAgIG91dC5wdXNoKHtzZXF1ZW5jZTogc2VxdWVuY2VzW2ldLCBkaXN0YW5jZTogZGlzdGFuY2V9KTtcbiAgICAgIH1cbiAgICAgIGFyZ01pbiA9IGk7XG4gICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgICAgLy8gY29uc29sZS5sb2coaSxtaW5EaXN0YW5jZSk7XG4gICAgfVxuICAgIGRpc3RhbmNlID0gMDtcbiAgfVxuXG4gIHJldHVybiB7b3V0OiBvdXQsIGFsbDogYWxsfTtcbn1cblxuXG4vLyB2YXIgbWF0cml4ID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocHJvY2Vzcy5hcmd2WzJdLCd1dGY4JykpO1xuLy8gdmFyIGZpeEZpcnN0ID0gTnVtYmVyKHByb2Nlc3MuYXJndlszXSk7XG5cbi8vIGNvbnNvbGUubG9nKFRTUChtYXRyaXgsXCJyYW5rXCIsZml4Rmlyc3QpKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFRTUDogVFNQXG59O1xuIiwiJ3VzZSBzdHJpY3QnXG4vL1BhdHRlcm5PcHRpbWl6ZXJcbmZ1bmN0aW9uIHNjb3JlKGNvdmVyYWdlLCB1bmlxVHJhbnNpdGlvblNldHMsIGFwcGVhciwgcGF0dGVybkFycmF5KXtcbiAgdmFyIFIgPSBwYXR0ZXJuQXJyYXkucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cnIpe1xuICAgIHByZXYgKz0gdW5pcVRyYW5zaXRpb25TZXRzW2N1cnJdLnRyLmNvc3RcbiAgICByZXR1cm4gcHJldjtcbiAgfSwwKTtcbiAgUiA9IHBhdHRlcm5BcnJheS5sZW5ndGggKiA0IC8gUjtcbiAgUiA9IFIgPiAxID8gMSA6IFI7XG5cbiAgcmV0dXJuIE1hdGgucm91bmQoMTAwMDAwMCooMS0xL2FwcGVhci5sZW5ndGgpKlIqY292ZXJhZ2UpLzEwMDAwMDA7XG59XG5cbmZ1bmN0aW9uIHNjb3JlU2ltcGxlKGNvdmVyYWdlLCBwYXR0ZXJuTGVuZ3RoLCBpbnB1dExlbmd0aCl7XG4gIHZhciB3X2MgPSAxLCB3X2wgPSAwO1xuXG4gIHJldHVybiAoY292ZXJhZ2UgKiB3X2MgKyBwYXR0ZXJuTGVuZ3RoIC8gaW5wdXRMZW5ndGggKiB3X2wpIC8gKHdfYyArIHdfbCk7XG59XG5cbmZ1bmN0aW9uIFBhdHRlcm5PcHRpbWl6ZXIoaW5wdXRBcnJheSwgdW5pcVRyYW5zaXRpb25TZXRzKSB7XG4gIHZhciBPcHRpbWl6ZWQgPSBbXSwgbWF4U2NvcmUgPSAwO1xuICAvLyB2YXIgaW5wdXREaXN0YW5jZSA9IGRpc3RhbmNlKGlucHV0QXJyYXksIHVuaXFUcmFuc2l0aW9uU2V0cyk7XG5cbiAgZm9yICh2YXIgbCA9IDE7IGwgPD0gaW5wdXRBcnJheS5sZW5ndGg7IGwrKykge1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dEFycmF5Lmxlbmd0aC1sKzE7IGkrKykge1xuICAgICAgdmFyIGFwcGVhciA9IFtpXTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW5wdXRBcnJheS5sZW5ndGgtbCsxOyBqKyspIHtcbiAgICAgICAgaWYgKCBpICE9PSBqICYmIGlzU2FtZVN1YihpbnB1dEFycmF5LCBpLCBpICsgKGwtMSksIGosIGogKyAobC0xKSkpIHtcbiAgICAgICAgICBhcHBlYXIucHVzaChqKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIG92ZXJsYXAgPSBmYWxzZTtcblxuICAgICAgdmFyIHJ5dGhtaWMgPSB0cnVlO1xuICAgICAgdmFyIHBlcmlvZCA9IDA7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFwcGVhci5sZW5ndGgtMTsgaysrKSB7XG4gICAgICAgIGlmKGFwcGVhcltrKzFdIC0gYXBwZWFyW2tdIDwgbCl7XG4gICAgICAgICAgb3ZlcmxhcCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYocGVyaW9kICE9PSAwICYmIHBlcmlvZCAhPT0gYXBwZWFyW2srMV0gLSBhcHBlYXJba10pe1xuICAgICAgICAvLyAgIHJ5dGhtaWMgPSBmYWxzZTtcbiAgICAgICAgLy8gICBicmVhaztcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBwZXJpb2QgPSBhcHBlYXJbaysxXSAtIGFwcGVhcltrXTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgKGFwcGVhci5sZW5ndGggPiAxICYmICFvdmVybGFwICYmIHJ5dGhtaWMgKXtcbiAgICAgIGlmIChhcHBlYXIubGVuZ3RoID4gMSAmJiAhb3ZlcmxhcCl7XG5cbiAgICAgICAgdmFyIG5ld1BhdHRlcm4gPSBkdXAoaW5wdXRBcnJheSkuc3BsaWNlKGksbCk7XG4gICAgICAgIHZhciBSUGNvdmVyYWdlID0gY292ZXJhZ2UoaW5wdXRBcnJheSwgbCwgYXBwZWFyKTtcblxuICAgICAgICBpZiggIU9wdGltaXplZC5maW5kKGZ1bmN0aW9uKHJwKXsgcmV0dXJuIHMocnAucGF0dGVybikgPT09IHMobmV3UGF0dGVybik7IH0pICl7XG4gICAgICAgICAgbmV3UGF0dGVybiA9IHsgJ3BhdHRlcm4nOiBuZXdQYXR0ZXJuLCAnYXBwZWFyJzogYXBwZWFyLCAnY292ZXJhZ2UnOiBSUGNvdmVyYWdlICB9O1xuICAgICAgICAgIG5ld1BhdHRlcm4ucGF0dGVyblNjb3JlID0gc2NvcmVTaW1wbGUobmV3UGF0dGVybi5jb3ZlcmFnZSwgbCwgaW5wdXRBcnJheS5sZW5ndGggKTtcblxuICAgICAgICAgIGlmIChuZXdQYXR0ZXJuLnBhdHRlcm5TY29yZSA+IG1heFNjb3JlKSB7XG4gICAgICAgICAgICBtYXhTY29yZSA9IG5ld1BhdHRlcm4ucGF0dGVyblNjb3JlO1xuICAgICAgICAgICAgT3B0aW1pemVkID0gWyBuZXdQYXR0ZXJuIF07XG4gICAgICAgICAgfSBlbHNlIGlmICggbmV3UGF0dGVybi5wYXR0ZXJuU2NvcmUgPT09IG1heFNjb3JlICkge1xuICAgICAgICAgICAgT3B0aW1pemVkLnB1c2gobmV3UGF0dGVybik7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiBPcHRpbWl6ZWQ7XG59XG5mdW5jdGlvbiBkaXN0YW5jZSh0ckFycmF5LCB1bmlxVHJhbnNpdGlvblNldHMpe1xuICByZXR1cm4gdHJBcnJheS5yZWR1Y2UoZnVuY3Rpb24ocHJldixjdXJyKXtcbiAgICAgICAgICBwcmV2ICs9IHVuaXFUcmFuc2l0aW9uU2V0c1tjdXJyXS50ci5jb3N0XG4gICAgICAgICAgcmV0dXJuIHByZXY7IH0sMCk7XG59XG5mdW5jdGlvbiBjb3ZlcmFnZShhcnJheSwgUGF0dGVybmxlbmd0aCwgYXBwZWFyKXtcbiAgdmFyIHMsIGNvdmVyYWdlID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcHBlYXIubGVuZ3RoLTE7IGkrKykge1xuICAgIHM9aTtcbiAgICB3aGlsZSAoIGFwcGVhcltpXSArIFBhdHRlcm5sZW5ndGggPiBhcHBlYXJbaSsxXSApIHtcbiAgICAgIGkrKztcbiAgICB9XG4gICAgY292ZXJhZ2UgKz0gYXBwZWFyW2ldICsgUGF0dGVybmxlbmd0aCAtIGFwcGVhcltzXTtcblxuICB9O1xuICBpZiAoaT09PWFwcGVhci5sZW5ndGgtMSkge1xuICAgIGNvdmVyYWdlICs9IFBhdHRlcm5sZW5ndGg7XG4gIH07XG5cbiAgcmV0dXJuIGNvdmVyYWdlIC8gYXJyYXkubGVuZ3RoO1xufVxuXG5mdW5jdGlvbiBpc1NhbWVTdWIoYXJyYXksIGkxLCBmMSwgaTIsIGYyKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgKGYxLWkxKzEpOyBpKyspIHtcbiAgICBpZiAoYXJyYXlbaTEraV0gIT09IGFycmF5W2kyK2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcyhhKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShhKTtcbn1cbmZ1bmN0aW9uIGR1cChhKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKHMoYSkpO1xufVxuXG4vLyBjb25zb2xlLmxvZyhQYXR0ZXJuT3B0aW1pemVyKFwiMjMxMTExXCIuc3BsaXQoJycpLFsxLDEsMSwxXSkpO1xuLy8gY29uc29sZS5sb2coY292ZXJhZ2UoXCJzZHNkeHh4YXNkc2RzZGFhc2RzZHNkc2RzZHNkc2RzZFwiLnNwbGl0KCcnKSwgMiwgWyAwLCAyLCA4LCAxMCwgMTIsIDE2LCAxOCwgMjAsIDIyLCAyNCwgMjYsIDI4LCAzMCBdKSlcbm1vZHVsZS5leHBvcnRzID0ge1xuICBQYXR0ZXJuT3B0aW1pemVyOiBQYXR0ZXJuT3B0aW1pemVyXG59O1xuIiwiZnVuY3Rpb24gVGllQnJlYWtlcihyZXN1bHQsIHRyYW5zaXRpb25TZXRzRnJvbUVtcHR5VmlzKSB7XG5cdHZhciBUQlNjb3JlID0gMDtcblx0dmFyIHJlYXNvbnMgPSB7fTtcbiAgLy9ydWxlIzEgRklMVEVSX01PRElGWSwgc2FtZSBmaWVsZCwgc2FtZSBvcCwgYXNjZW5kaW5nIG51bWVyaWMgdmFsdWVzID4gZGVzY2VuZGluZ1xuICB2YXIgY29udGludWVkID0geyB9O1xuICB2YXIgZmlsdGVyU3RhdGUgPSB7fTtcbiAgdmFyIGZpbHRlclNjb3JlID0gW107XG4gIHZhciBmaWx0ZXJTZXF1ZW5jZUNvc3QgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5jaGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgc3BlYyA9IHJlc3VsdC5jaGFydHNbaV07XG4gICAgaWYgKHNwZWMudHJhbnNmb3JtICkge1xuICAgICAgbGV0IGZpbHRlcnMgPSBzcGVjLnRyYW5zZm9ybS5maWx0ZXIodHJzZm0gPT4gdHJzZm0uZmlsdGVyKS5tYXAodHJzZm0gPT4gdHJzZm0uZmlsdGVyKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsdGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgZmlsdGVyID0gZmlsdGVyc1tqXTtcbiAgICAgICAgaWYgKCBmaWx0ZXIuaGFzT3duUHJvcGVydHkoXCJmaWVsZFwiKSAmJiBmaWx0ZXIuaGFzT3duUHJvcGVydHkoXCJlcXVhbFwiKSApIHtcbiAgICAgICAgICBpZiAoZmlsdGVyU3RhdGVbZmlsdGVyLmZpZWxkXSkge1xuICAgICAgICAgICAgZmlsdGVyU3RhdGVbZmlsdGVyLmZpZWxkXS5wdXNoKGZpbHRlci5lcXVhbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbHRlclN0YXRlW2ZpbHRlci5maWVsZF0gPSBbZmlsdGVyLmVxdWFsXSA7XG4gICAgICAgICAgICBmaWx0ZXJTY29yZS5wdXNoKHsgXCJmaWVsZFwiOiBmaWx0ZXIuZmllbGQsIFwic2NvcmVcIjogMH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJTY29yZS5sZW5ndGg7IGkrKykge1xuICAgIGZvciAodmFyIGogPSAxOyBqIDwgZmlsdGVyU3RhdGVbZmlsdGVyU2NvcmVbaV0uZmllbGRdLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoIGZpbHRlclN0YXRlW2ZpbHRlclNjb3JlW2ldLmZpZWxkXVtqLTFdIDwgZmlsdGVyU3RhdGVbZmlsdGVyU2NvcmVbaV0uZmllbGRdW2pdICkge1xuICAgICAgICBmaWx0ZXJTY29yZVtpXS5zY29yZSArPSAxO1xuICAgICAgfSBlbHNlIGlmIChmaWx0ZXJTdGF0ZVtmaWx0ZXJTY29yZVtpXS5maWVsZF1bai0xXSA+IGZpbHRlclN0YXRlW2ZpbHRlclNjb3JlW2ldLmZpZWxkXVtqXSApe1xuICAgICAgICBmaWx0ZXJTY29yZVtpXS5zY29yZSAtPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZpbHRlclNlcXVlbmNlQ29zdCArPSBNYXRoLmFicyhmaWx0ZXJTY29yZVtpXS5zY29yZSArIDAuMSkgLyAoIGZpbHRlclN0YXRlW2ZpbHRlclNjb3JlW2ldLmZpZWxkXS5sZW5ndGggLSAxICsgMC4xICk7XG4gIH1cblxuICBmaWx0ZXJTZXF1ZW5jZUNvc3QgPSBmaWx0ZXJTY29yZS5sZW5ndGggPiAwID8gMSAtIGZpbHRlclNlcXVlbmNlQ29zdCAvIGZpbHRlclNjb3JlLmxlbmd0aCA6IDA7XG5cbiAgcmV0dXJuIHsgJ3RpZWJyZWFrQ29zdCcgOiBmaWx0ZXJTZXF1ZW5jZUNvc3QsICdyZWFzb25zJzogZmlsdGVyU2NvcmUgfTtcbn1cblxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBUaWVCcmVha2VyOiBUaWVCcmVha2VyXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdHJhbnMgPSByZXF1aXJlKCcuLy4uL3RyYW5zaXRpb24vdHJhbnMuanMnKTtcbnZhciBlZGl0T3AgPSByZXF1aXJlKCcuLy4uL2VkaXRPcC9lZGl0T3BTZXQuanMnKTtcbnZhciBUU1AgPSByZXF1aXJlKCcuLi8uLi9saWIvVFNQLmpzJyk7XG52YXIgZDMgPSByZXF1aXJlKCdkMycpO1xudmFyIFBPID0gcmVxdWlyZSgnLi9QYXR0ZXJuT3B0aW1pemVyLmpzJyk7XG52YXIgdGIgPSByZXF1aXJlKCcuL1RpZUJyZWFrZXIuanMnKTtcblxuYXN5bmMgZnVuY3Rpb24gc2VxdWVuY2Uoc3BlY3MsIG9wdGlvbnMsIGVkaXRPcFNldCwgY2FsbGJhY2spe1xuICBpZiAoIWVkaXRPcFNldCkge1xuICAgIGVkaXRPcFNldCA9IGVkaXRPcC5ERUZBVUxUX0VESVRfT1BTO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzdGFuY2VXaXRoUGF0dGVybihkaXN0LCBnbG9iYWxXZWlnaHRpbmdUZXJtLCBmaWx0ZXJDb3N0KXtcbiAgICByZXR1cm4gKGRpc3QgKyBmaWx0ZXJDb3N0IC8gMTAwMCkgKiBnbG9iYWxXZWlnaHRpbmdUZXJtO1xuICB9XG5cbiAgdmFyIHRyYW5zaXRpb25TZXRzRnJvbUVtcHR5VmlzID0gYXdhaXQgZ2V0VHJhbnNpdGlvblNldHNGcm9tU3BlYyh7IFwibWFya1wiOlwibnVsbFwiLCBcImVuY29kaW5nXCI6IHt9IH0sIHNwZWNzLCBlZGl0T3BTZXQpO1xuXG4gICAgaWYgKCFvcHRpb25zLmZpeEZpcnN0KSB7XG4gICAgdmFyIHN0YXJ0aW5nU3BlYyA9IHsgXCJtYXJrXCI6XCJudWxsXCIsIFwiZW5jb2RpbmdcIjoge30gfTtcbiAgICBzcGVjcyA9IFsgc3RhcnRpbmdTcGVjIF0uY29uY2F0KHNwZWNzKTtcbiAgfVxuXG4gIHZhciB0cmFuc2l0aW9ucyA9IGF3YWl0IGdldFRyYW5zaXRpb25TZXRzKHNwZWNzLCBlZGl0T3BTZXQpO1xuICB0cmFuc2l0aW9ucyA9IGV4dGVuZFRyYW5zaXRpb25TZXRzKHRyYW5zaXRpb25zKTtcblxuICB2YXIgVFNQUmVzdWx0ID0gVFNQLlRTUCh0cmFuc2l0aW9ucywgXCJjb3N0XCIsIG9wdGlvbnMuZml4Rmlyc3Q9PT10cnVlID8gMCA6IHVuZGVmaW5lZCk7XG4gIHZhciBUU1BSZXN1bHRBbGwgPSBUU1BSZXN1bHQuYWxsLmZpbHRlcihmdW5jdGlvbihzZXFXaXRoRGlzdCl7XG4gICAgcmV0dXJuIHNlcVdpdGhEaXN0LnNlcXVlbmNlWzBdID09PSAwO1xuICB9KS5tYXAoZnVuY3Rpb24odHNwUil7XG5cbiAgICB2YXIgc2VxdWVuY2UgPSB0c3BSLnNlcXVlbmNlO1xuICAgIHZhciB0cmFuc2l0aW9uU2V0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXF1ZW5jZS5sZW5ndGgtMTsgaSsrKSB7XG4gICAgICB0cmFuc2l0aW9uU2V0LnB1c2godHJhbnNpdGlvbnNbc2VxdWVuY2VbaV1dW3NlcXVlbmNlW2krMV1dKTtcbiAgICB9O1xuICAgIHZhciBwYXR0ZXJuID0gdHJhbnNpdGlvblNldC5tYXAoZnVuY3Rpb24ocil7IHJldHVybiByLmlkOyB9KTtcbiAgICB2YXIgUE9SZXN1bHQgPSBQTy5QYXR0ZXJuT3B0aW1pemVyKHBhdHRlcm4sIHRyYW5zaXRpb25zLnVuaXEpO1xuXG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgXCJzZXF1ZW5jZVwiIDogc2VxdWVuY2UsXG4gICAgICAgICAgICAgIFwidHJhbnNpdGlvbnNcIiA6IHRyYW5zaXRpb25TZXQsXG4gICAgICAgICAgICAgIFwic3VtT2ZUcmFuc2l0aW9uQ29zdHNcIiA6IHRzcFIuZGlzdGFuY2UsXG4gICAgICAgICAgICAgIFwicGF0dGVybnNcIiA6IFBPUmVzdWx0LFxuICAgICAgICAgICAgICBcImdsb2JhbFdlaWdodGluZ1Rlcm1cIiA6ICEhUE9SZXN1bHRbMF0gPyAxIC0gUE9SZXN1bHRbMF0ucGF0dGVyblNjb3JlIDogMSxcbiAgICAgICAgICAgICAgXCJjaGFydHNcIiA6IHNlcXVlbmNlLm1hcChmdW5jdGlvbihpbmRleCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzcGVjc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICB9O1xuICAgIHZhciB0YlJlc3VsdCA9IHRiLlRpZUJyZWFrZXIocmVzdWx0LCB0cmFuc2l0aW9uU2V0c0Zyb21FbXB0eVZpcyk7XG4gICAgcmVzdWx0LmZpbHRlclNlcXVlbmNlQ29zdCA9IHRiUmVzdWx0LnRpZWJyZWFrQ29zdDtcbiAgICByZXN1bHQuZmlsdGVyU2VxdWVuY2VDb3N0UmVhc29ucyA9IHRiUmVzdWx0LnJlYXNvbnM7XG4gICAgcmVzdWx0LnNlcXVlbmNlQ29zdCA9IGRpc3RhbmNlV2l0aFBhdHRlcm4ocmVzdWx0LnN1bU9mVHJhbnNpdGlvbkNvc3RzLCByZXN1bHQuZ2xvYmFsV2VpZ2h0aW5nVGVybSwgdGJSZXN1bHQudGllYnJlYWtDb3N0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KS5zb3J0KGZ1bmN0aW9uKGEsYil7XG4gICAgaWYgKGEuc2VxdWVuY2VDb3N0ID4gYi5zZXF1ZW5jZUNvc3QpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoYS5zZXF1ZW5jZUNvc3QgPCBiLnNlcXVlbmNlQ29zdCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYS5zZXF1ZW5jZS5qb2luKCcsJykgPiBiLnNlcXVlbmNlLmpvaW4oJywnKSA/IDEgOiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0pO1xuXG4gIHZhciBzZXF1ZW5jZWRTcGVjcyA9IFtdO1xuICB2YXIgbWluU2VxdWVuY2VDb3N0ID0gVFNQUmVzdWx0QWxsWzBdLnNlcXVlbmNlQ29zdDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBUU1BSZXN1bHRBbGwubGVuZ3RoOyBpKyspIHtcbiAgICBpZihUU1BSZXN1bHRBbGxbaV0uc2VxdWVuY2VDb3N0ID09PSBtaW5TZXF1ZW5jZUNvc3QgKXtcbiAgICAgIFRTUFJlc3VsdEFsbFtpXS5pc09wdGltdW0gPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB2YXIgcmV0dXJuVmFsdWUgPSBUU1BSZXN1bHRBbGw7XG5cblxuICBpZihjYWxsYmFjayl7XG4gICAgY2FsbGJhY2socmV0dXJuVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFRyYW5zaXRpb25TZXRzRnJvbVNwZWMoIHNwZWMsIHNwZWNzLCBlZGl0T3BTZXQpe1xuICB2YXIgdHJhbnNpdGlvbnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVjcy5sZW5ndGg7IGkrKykge1xuICAgIHRyYW5zaXRpb25zLnB1c2goYXdhaXQgdHJhbnMudHJhbnNpdGlvbihzcGVjc1tpXSwgc3BlYywgZWRpdE9wU2V0LCB7IG9taXRJbmNsdWRlUmF3RG9taW46IHRydWUgfSkpO1xuICB9XG4gIHJldHVybiB0cmFuc2l0aW9ucztcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblNldHMoc3BlY3MsIGVkaXRPcFNldCl7XG4gIHZhciB0cmFuc2l0aW9ucyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNwZWNzLmxlbmd0aDsgaSsrKSB7XG4gICAgdHJhbnNpdGlvbnMucHVzaChbXSk7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBzcGVjcy5sZW5ndGg7IGorKykge1xuICAgICAgdHJhbnNpdGlvbnNbaV0ucHVzaChhd2FpdCB0cmFucy50cmFuc2l0aW9uKHNwZWNzW2ldLCBzcGVjc1tqXSwgZWRpdE9wU2V0LCB7IG9taXRJbmNsdWRlUmF3RG9taW46IHRydWUgfSkpO1xuXG4gICAgfVxuICB9XG4gIHJldHVybiB0cmFuc2l0aW9ucztcbn1cblxuZnVuY3Rpb24gZXh0ZW5kVHJhbnNpdGlvblNldHModHJhbnNpdGlvbnMpe1xuICB2YXIgdW5pcVRyYW5zaXRpb25TZXRzID0gW107XG4gIHZhciBmbGF0Q29zdHMgPSB0cmFuc2l0aW9ucy5yZWR1Y2UoZnVuY3Rpb24ocHJldixjdXJyKXtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1cnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHByZXYucHVzaChjdXJyW2ldLmNvc3QpO1xuICAgICAgdmFyIHRyYW5zaXRpb25TZXRTSCA9IHRyYW5zaXRpb25TaG9ydGhhbmQoY3VycltpXSk7XG4gICAgICB2YXIgaW5kZXggPSB1bmlxVHJhbnNpdGlvblNldHMubWFwKGZ1bmN0aW9uKHRyKXsgcmV0dXJuIHRyLnNob3J0aGFuZDsgfSkuaW5kZXhPZih0cmFuc2l0aW9uU2V0U0gpO1xuXG4gICAgICBpZiAoIGluZGV4ID09PSAtMSkge1xuICAgICAgICBjdXJyW2ldW1wiaWRcIl0gPSB1bmlxVHJhbnNpdGlvblNldHMucHVzaCh7dHI6IGN1cnJbaV0sIHNob3J0aGFuZDogdHJhbnNpdGlvblNldFNIfSkgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycltpXVtcImlkXCJdID0gaW5kZXg7XG4gICAgICB9XG5cbiAgICB9O1xuICAgIHJldHVybiBwcmV2O1xuICB9LCBbXSk7XG5cbiAgdmFyIHVuaXF1ZUNvc3RzID0gWy4uLm5ldyBTZXQoZmxhdENvc3RzKV1cbiAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKHZhbCl7IHJldHVybiBOdW1iZXIodmFsKTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAuc29ydChmdW5jdGlvbihhLGIpeyByZXR1cm4gYS1iO30pO1xuXG4gIHZhciByYW5rID0gZDMuc2NhbGVPcmRpbmFsKClcbiAgICAuZG9tYWluKHVuaXF1ZUNvc3RzKVxuICAgIC5yYW5nZShbMCx1bmlxdWVDb3N0cy5sZW5ndGhdKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYW5zaXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmFuc2l0aW9uc1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgdHJhbnNpdGlvbnNbaV1bal1bXCJzdGFydFwiXSA9IGk7XG4gICAgICB0cmFuc2l0aW9uc1tpXVtqXVtcImRlc3RpbmF0aW9uXCJdID0gajtcbiAgICAgIHRyYW5zaXRpb25zW2ldW2pdW1wicmFua1wiXSA9IE1hdGguZmxvb3IocmFuayh0cmFuc2l0aW9uc1tpXVtqXS5jb3N0KSk7XG4gICAgfVxuICB9XG4gIHRyYW5zaXRpb25zLnVuaXEgPSB1bmlxVHJhbnNpdGlvblNldHM7XG4gIHJldHVybiB0cmFuc2l0aW9uc1xufVxuZnVuY3Rpb24gdHJhbnNpdGlvblNob3J0aGFuZCh0cmFuc2l0aW9uKXtcbiAgcmV0dXJuIHRyYW5zaXRpb24ubWFya1xuICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHRyYW5zaXRpb24udHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHRyYW5zaXRpb24uZW5jb2RpbmcpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24odHIpe1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0ci5kZXRhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ci5uYW1lID09PSBcIk1PRElGWV9GSUxURVJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHIubmFtZSArICcoJyArIEpTT04uc3RyaW5naWZ5KHRyLmRldGFpbC5pZCkgKyAnKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHIubmFtZSArICcoJyArIEpTT04uc3RyaW5naWZ5KHRyLmRldGFpbCkgKyAnKSc7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuc29ydCgpXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCd8Jyk7XG5cbn1cbmV4cG9ydHMuc2VxdWVuY2UgPSBzZXF1ZW5jZTtcbiIsImNvbnN0IHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG5jb25zdCB2ZWdhID0gcmVxdWlyZSgndmVnYScpO1xuY29uc3QgdmwgPSByZXF1aXJlKCd2ZWdhLWxpdGUnKVxuY29uc3Qge3BhcnNlUHJlZGljYXRlRmlsdGVyfSA9IHJlcXVpcmUoJy4vdHJhbnMnKTtcbmNvbnN0IHsgIE9QUywgTE9HSUNfT1BTIH0gPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcbmZ1bmN0aW9uIGFwcGx5IChzU3BlYywgZVNwZWMsIGVkaXRPcHMpIHtcbiAgY2hlY2tBcHBseWluZ0VkaXRPcHMoZWRpdE9wcyk7XG5cbiAgbGV0IHJlc3VsdFNwZWMgPSBlZGl0T3BzLnJlZHVjZSgocmVzdWx0U3BlYywgZWRpdE9wKSA9PiB7XG4gICAgaWYgKGVkaXRPcC50eXBlID09PSBcIm1hcmtcIikge1xuICAgICAgcmVzdWx0U3BlYyA9IGFwcGx5TWFya0VkaXRPcChyZXN1bHRTcGVjLCBlU3BlYywgZWRpdE9wKTtcbiAgICB9IGVsc2UgaWYgKGVkaXRPcC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICByZXN1bHRTcGVjID0gYXBwbHlUcmFuc2Zvcm1FZGl0T3AocmVzdWx0U3BlYywgZVNwZWMsIGVkaXRPcCk7XG4gICAgfSBlbHNlIGlmIChlZGl0T3AudHlwZSA9PT0gXCJlbmNvZGluZ1wiKSB7XG4gICAgICByZXN1bHRTcGVjID0gYXBwbHlFbmNvZGluZ0VkaXRPcChyZXN1bHRTcGVjLCBlU3BlYywgZWRpdE9wKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFNwZWM7XG4gIH0sIHV0aWwuZHVwbGljYXRlKHNTcGVjKSkvL2FuIGludGVybWVkaWF0ZSBzcGVjIGJ5IGFwcGx5aW5nIGVkaXQgb3BlcmF0aW9ucyBvbiB0aGUgc1NwZWNcblxuICBjaGVja1NwZWMocmVzdWx0U3BlYyk7XG4gIHJldHVybiByZXN1bHRTcGVjO1xufVxuZXhwb3J0cy5hcHBseSA9IGFwcGx5XG5cbmZ1bmN0aW9uIGFwcGx5TWFya0VkaXRPcCh0YXJnZXRTcGVjLCBlU3BlYywgZWRpdE9wKSB7XG4gIGxldCByZXN1bHRTcGVjID0gdXRpbC5kdXBsaWNhdGUodGFyZ2V0U3BlYyk7XG4gIHJlc3VsdFNwZWMubWFyayA9IGVTcGVjLm1hcmtcbiAgcmV0dXJuIHJlc3VsdFNwZWM7XG59XG5leHBvcnRzLmFwcGx5TWFya0VkaXRPcCA9IGFwcGx5TWFya0VkaXRPcDtcblxuZnVuY3Rpb24gYXBwbHlUcmFuc2Zvcm1FZGl0T3AodGFyZ2V0U3BlYywgZVNwZWMsIGVkaXRPcCl7XG4gIGxldCByZXN1bHRTcGVjID0gdXRpbC5kdXBsaWNhdGUodGFyZ2V0U3BlYyk7XG4gIGNvbnN0IHRyYW5zZm9ybVR5cGUgPSBlZGl0T3AubmFtZS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBkZXRhaWxzID0gIXV0aWwuaXNBcnJheShlZGl0T3AuZGV0YWlsKSA/IFtlZGl0T3AuZGV0YWlsXSA6IGVkaXRPcC5kZXRhaWw7XG5cbiAgaWYgKHRyYW5zZm9ybVR5cGUuaW5kZXhPZihcImZpbHRlclwiKSA+PSAwKSB7XG4gICAgaWYgKGVkaXRPcC5uYW1lID09PSBcIlJFTU9WRV9GSUxURVJcIiB8fCBlZGl0T3AubmFtZSA9PT0gXCJNT0RJRllfRklMVEVSXCIpIHtcblxuICAgICAgcmVzdWx0U3BlYy50cmFuc2Zvcm0uZmlsdGVyKHRmbSA9PiB7XG4gICAgICAgIHJldHVybiB0Zm0uZmlsdGVyICYmICgocGFyc2VQcmVkaWNhdGVGaWx0ZXIodGZtLmZpbHRlcilbMF0uaWQgPT09IGVkaXRPcC5kZXRhaWwuaWQpKVxuICAgICAgfSkuZm9yRWFjaChmaWx0ZXIgPT4ge1xuICAgICAgICBpZiAocmVzdWx0U3BlYy50cmFuc2Zvcm0pIHtcblxuICAgICAgICAgIGxldCBpID0gcmVzdWx0U3BlYy50cmFuc2Zvcm0uZmluZEluZGV4KHRyc2ZtID0+IHV0aWwuZGVlcEVxdWFsKHRyc2ZtLCBmaWx0ZXIpKVxuXG4gICAgICAgICAgcmVzdWx0U3BlYy50cmFuc2Zvcm0uc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAoZWRpdE9wLm5hbWUgPT09IFwiQUREX0ZJTFRFUlwiIHx8IGVkaXRPcC5uYW1lID09PSBcIk1PRElGWV9GSUxURVJcIikge1xuICAgICAgZVNwZWMudHJhbnNmb3JtLmZpbHRlcih0Zm0gPT4ge1xuICAgICAgICByZXR1cm4gdGZtLmZpbHRlciAmJiAoKHBhcnNlUHJlZGljYXRlRmlsdGVyKHRmbS5maWx0ZXIpWzBdLmlkID09PSBlZGl0T3AuZGV0YWlsLmlkKSlcbiAgICAgIH0pLmZvckVhY2goZmlsdGVyID0+IHtcbiAgICAgICAgaWYgKCFyZXN1bHRTcGVjLnRyYW5zZm9ybSkge1xuICAgICAgICAgIHJlc3VsdFNwZWMudHJhbnNmb3JtID0gW2ZpbHRlcl07XG4gICAgICAgIH0gZWxzZSBpZiAoIXJlc3VsdFNwZWMudHJhbnNmb3JtLmZpbmQodHJzZm0gPT4gdXRpbC5kZWVwRXF1YWwoZmlsdGVyLCB0cnNmbSkpKSB7XG4gICAgICAgICAgcmVzdWx0U3BlYy50cmFuc2Zvcm0ucHVzaChmaWx0ZXIpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkZXRhaWxzLmZvckVhY2goZGV0YWlsID0+IHtcbiAgICAgIGxldCBmaWVsZERlZiA9IHJlc3VsdFNwZWMuZW5jb2RpbmdbZGV0YWlsLmNoYW5uZWxdO1xuICAgICAgaWYgKGZpZWxkRGVmKSB7XG4gICAgICAgIC8vVG9kbzogY2Fubm90IGFwcGx5IFNDQUxFIGlmIHRoZSBjaGFubmVsIGhhcyBhIGRpZmZlcmVudCB0eXBlLlxuICAgICAgICBpZiAoZGV0YWlsLmhvdyA9PT0gXCJyZW1vdmVkXCIpe1xuICAgICAgICAgIGRlbGV0ZSBmaWVsZERlZlt0cmFuc2Zvcm1UeXBlXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZpZWxkRGVmLnR5cGUsIGRldGFpbC5maWVsZFR5cGUpXG4gICAgICAgICAgaWYgKHRyYW5zZm9ybVR5cGUgPT09IFwic2NhbGVcIiAmJiBmaWVsZERlZi50eXBlICE9PSBkZXRhaWwuZmllbGRUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5hcHBsaWNhYmxlRWRpdE9QRXJyb3IoYENhbm5vdCBhcHBseSAke2VkaXRPcC5uYW1lfSBzaW5jZSBpdCByZXF1aXJlcyBcIiR7ZGV0YWlsLmZpZWxkVHlwZX1cIiBmaWVsZCBpbnN0ZWFkIG9mIFwiJHtmaWVsZERlZi50eXBlfVwiLmApXG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkRGVmW3RyYW5zZm9ybVR5cGVdID0gZVNwZWMuZW5jb2RpbmdbZGV0YWlsLmNoYW5uZWxdW3RyYW5zZm9ybVR5cGVdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBVbmFwcGxpY2FibGVFZGl0T1BFcnJvcihgQ2Fubm90IGFwcGx5ICR7ZWRpdE9wLm5hbWV9IHNpbmNlIHRoZXJlIGlzIG5vIFwiJHtkZXRhaWwuY2hhbm5lbH1cIiBjaGFubmVsLmApXG4gICAgICB9XG4gICAgfSlcblxuICB9XG4gIHJldHVybiByZXN1bHRTcGVjO1xufVxuZXhwb3J0cy5hcHBseVRyYW5zZm9ybUVkaXRPcCA9IGFwcGx5VHJhbnNmb3JtRWRpdE9wO1xuXG5cbmZ1bmN0aW9uIGFwcGx5RW5jb2RpbmdFZGl0T3AodGFyZ2V0U3BlYywgZVNwZWMsIGVkaXRPcCl7XG4gIGxldCByZXN1bHRTcGVjID0gdXRpbC5kdXBsaWNhdGUodGFyZ2V0U3BlYyk7XG4gIGlmIChlZGl0T3AubmFtZS5pbmRleE9mKFwiUkVNT1ZFXCIpID09PSAwKSB7XG4gICAgbGV0IGNoYW5uZWwgPSBlZGl0T3AuZGV0YWlsLmJlZm9yZS5jaGFubmVsO1xuICAgIGlmIChyZXN1bHRTcGVjLmVuY29kaW5nW2NoYW5uZWxdKSB7XG4gICAgICBkZWxldGUgcmVzdWx0U3BlYy5lbmNvZGluZ1tjaGFubmVsXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFVuYXBwbGljYWJsZUVkaXRPUEVycm9yKGBDYW5ub3QgYXBwbHkgJHtlZGl0T3AubmFtZX0gc2luY2UgdGhlcmUgaXMgbm8gXCIke2NoYW5uZWx9XCIgY2hhbm5lbC5gKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZWRpdE9wLm5hbWUuaW5kZXhPZihcIkFERFwiKSA9PT0gMCkge1xuICAgIGxldCBjaGFubmVsID0gZWRpdE9wLmRldGFpbC5hZnRlci5jaGFubmVsO1xuICAgIGlmIChyZXN1bHRTcGVjLmVuY29kaW5nW2NoYW5uZWxdKSB7XG4gICAgICB0aHJvdyBuZXcgVW5hcHBsaWNhYmxlRWRpdE9QRXJyb3IoYENhbm5vdCBhcHBseSAke2VkaXRPcC5uYW1lfSBzaW5jZSBcIiR7Y2hhbm5lbH1cIiBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0U3BlYy5lbmNvZGluZ1tjaGFubmVsXSA9IHV0aWwuZHVwbGljYXRlKGVTcGVjLmVuY29kaW5nW2NoYW5uZWxdKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZWRpdE9wLm5hbWUuaW5kZXhPZihcIk1PVkVcIikgPT09IDApIHtcbiAgICBsZXQgc0NoYW5uZWwgPSBlZGl0T3AuZGV0YWlsLmJlZm9yZS5jaGFubmVsLFxuICAgICAgZENoYW5uZWwgPSBlZGl0T3AuZGV0YWlsLmFmdGVyLmNoYW5uZWw7XG4gICAgaWYgKCFyZXN1bHRTcGVjLmVuY29kaW5nW3NDaGFubmVsXSkge1xuICAgICAgdGhyb3cgbmV3IFVuYXBwbGljYWJsZUVkaXRPUEVycm9yKGBDYW5ub3QgYXBwbHkgJHtlZGl0T3AubmFtZX0gc2luY2UgdGhlcmUgaXMgbm8gXCIke3NDaGFubmVsfVwiIGNoYW5uZWwuYCk7XG4gICAgfSBlbHNlIGlmIChyZXN1bHRTcGVjLmVuY29kaW5nW2RDaGFubmVsXSkge1xuICAgICAgdGhyb3cgbmV3IFVuYXBwbGljYWJsZUVkaXRPUEVycm9yKGBDYW5ub3QgYXBwbHkgJHtlZGl0T3AubmFtZX0gc2luY2UgXCIke2RDaGFubmVsfVwiIGFscmVhZHkgZXhpc3RzLmApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRTcGVjLmVuY29kaW5nW2RDaGFubmVsXSA9IHV0aWwuZHVwbGljYXRlKHJlc3VsdFNwZWMuZW5jb2Rpbmdbc0NoYW5uZWxdKVxuICAgICAgZGVsZXRlIHJlc3VsdFNwZWMuZW5jb2Rpbmdbc0NoYW5uZWxdO1xuICAgIH1cbiAgfSBlbHNlIGlmIChlZGl0T3AubmFtZS5pbmRleE9mKFwiTU9ESUZZXCIpID09PSAwKSB7XG4gICAgbGV0IGNoYW5uZWwgPSBlZGl0T3AuZGV0YWlsLmJlZm9yZS5jaGFubmVsLFxuICAgICAgZmllbGQgPSBlZGl0T3AuZGV0YWlsLmFmdGVyLmZpZWxkLFxuICAgICAgdHlwZSA9IGVkaXRPcC5kZXRhaWwuYWZ0ZXIudHlwZTtcbiAgICBpZiAoIXJlc3VsdFNwZWMuZW5jb2RpbmdbY2hhbm5lbF0pIHtcbiAgICAgIHRocm93IG5ldyBVbmFwcGxpY2FibGVFZGl0T1BFcnJvcihgQ2Fubm90IGFwcGx5ICR7ZWRpdE9wLm5hbWV9IHNpbmNlIHRoZXJlIGlzIG5vIFwiJHtjaGFubmVsfVwiIGNoYW5uZWwuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFNwZWMuZW5jb2RpbmdbY2hhbm5lbF0uZmllbGQgPSBmaWVsZDtcbiAgICAgIHJlc3VsdFNwZWMuZW5jb2RpbmdbY2hhbm5lbF0udHlwZSA9IHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGVkaXRPcC5uYW1lLmluZGV4T2YoXCJTV0FQX1hfWVwiKSA9PT0gMCkge1xuICAgIGlmICghcmVzdWx0U3BlYy5lbmNvZGluZy54IHx8ICFyZXN1bHRTcGVjLmVuY29kaW5nLnkpIHtcbiAgICAgIHRocm93IG5ldyBVbmFwcGxpY2FibGVFZGl0T1BFcnJvcihgQ2Fubm90IGFwcGx5ICR7ZWRpdE9wLm5hbWV9IHNpbmNlIHRoZXJlIGlzIG5vIFwieFwiIGFuZCBcInlcIiBjaGFubmVscy5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHRlbXAgPSB1dGlsLmR1cGxpY2F0ZShyZXN1bHRTcGVjLmVuY29kaW5nLnkpO1xuICAgICAgcmVzdWx0U3BlYy5lbmNvZGluZy55ID0gdXRpbC5kdXBsaWNhdGUocmVzdWx0U3BlYy5lbmNvZGluZy54KTtcbiAgICAgIHJlc3VsdFNwZWMuZW5jb2RpbmcueCA9IHRlbXA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFNwZWM7XG59XG5leHBvcnRzLmFwcGx5RW5jb2RpbmdFZGl0T3AgPSBhcHBseUVuY29kaW5nRWRpdE9wO1xuXG5mdW5jdGlvbiBjaGVja1NwZWMoc3BlYykge1xuICBsZXQgbGcgPSB2ZWdhLmxvZ2dlcigpO1xuICBjb25zdCB3YXJuaW5ncyA9IFtdLCBlcnJvcnMgPSBbXTtcbiAgbGcud2FybiA9IChtKSA9PiB7XG4gICAgd2FybmluZ3MucHVzaChtKTtcbiAgfVxuICBsZy5lcnJvciA9IChtKSA9PiB7XG4gICAgZXJyb3JzLnB1c2gobSk7XG4gIH1cbiAgdmwuY29tcGlsZShzcGVjLCB7bG9nZ2VyOiBsZ30pXG5cbiAgbGV0IGhhc0FnZ3JlZ2F0ZSA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IGtleSBpbiBzcGVjLmVuY29kaW5nKSB7XG4gICAgaWYgKHNwZWMuZW5jb2RpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29uc3QgZmllbGREZWYgPSBzcGVjLmVuY29kaW5nW2tleV07XG4gICAgICBpZiAoZmllbGREZWYuYWdncmVnYXRlKSB7XG4gICAgICAgIGhhc0FnZ3JlZ2F0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZmllbGREZWYuZmllbGQgPT09IFwiKlwiICYmICFmaWVsZERlZi5hZ2dyZWdhdGUpIHtcbiAgICAgICAgd2FybmluZ3MucHVzaChcIicqJyBmaWVsZCBzaG91bGQgaW5uY2x1ZGUgYWdncmVnYXRlLlwiKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaGFzQWdncmVnYXRlKSB7XG4gICAgY29uc3QgaGFzTm9BZ2dPblFGaWVsZCA9IE9iamVjdC5rZXlzKHNwZWMuZW5jb2RpbmcpXG4gICAgICAuZmlsdGVyKGNoID0+IHtcbiAgICAgIHJldHVybiBzcGVjLmVuY29kaW5nW2NoXS50eXBlID09PSBcInF1YW50aXRhdGl2ZVwiICYmICFzcGVjLmVuY29kaW5nW2NoXS5hZ2dyZWdhdGVcbiAgICB9KS5sZW5ndGggPiAwXG4gICAgaWYgKGhhc05vQWdnT25RRmllbGQpIHtcbiAgICAgIHdhcm5pbmdzLnB1c2goXCJBZ2dyZWdhdGUgc2hvdWxkIGJlIGFwcGxpZWQgb24gYWxsIHF1YW50aXRhdGl2ZSBmaWVsZHMuXCIpXG4gICAgfVxuICB9XG5cblxuICBpZiAoKHdhcm5pbmdzLmxlbmd0aCA+IDApIHx8IChlcnJvcnMubGVuZ3RoID4gMCkpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFZMU3BlY0Vycm9yKGBUaGUgcmVzdWx0ZWQgc3BlYyBpcyBub3QgdmFsaWQgVmVnYS1MaXRlIFNwZWMuYCwge3dhcm5pbmdzLCBlcnJvcnN9KVxuICB9XG59XG5mdW5jdGlvbiBjaGVja0FwcGx5aW5nRWRpdE9wcyhlZGl0T3BzKSB7XG4gIC8vIF9DT1VOVCBlbmNvZGlnIHNob3VsZCBiZSBhcHBsaWVkIHdpdGggQUdHUkVHQVRFXG4gIGlmIChcbiAgICBlZGl0T3BzLmZpbmQoZW8gPT4gZW8ubmFtZS5pbmRleE9mKFwiX0NPVU5UXCIpID49IDApICYmXG4gICAgIWVkaXRPcHMuZmluZChlbyA9PiBlby5uYW1lID09PSBcIkFHR1JFR0FURVwiKVxuICApIHtcbiAgICB0aHJvdyBuZXcgVW5hcHBsaWNhYmxlRWRpdE9wc0Vycm9yKFwiX0NPVU5UIGVuY29kaW5nIGVkaXQgb3BlcmF0aW9ucyBjYW5ub3QgYmUgYXBwbGllZCB3aXRob3V0IEFHR1JFR0FURS5cIik7XG4gIH1cbn1cbmNsYXNzIFVuYXBwbGljYWJsZUVkaXRPUEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJVbmFwcGxpY2FibGVFZGl0T1BFcnJvclwiXG4gIH1cbn1cblxuY2xhc3MgSW52YWxpZFZMU3BlY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBpbmZvKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJJbnZhbGlkVkxTcGVjRXJyb3JcIlxuICAgIHRoaXMuaW5mbyA9IGluZm87XG4gIH1cbn1cbmNsYXNzIFVuYXBwbGljYWJsZUVkaXRPcHNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiVW5hcHBsaWNhYmxlRWRpdE9wc0Vycm9yXCJcbiAgfVxufVxuXG4iLCJcbi8vIGltcG9ydCB7ZGVmYXVsdCBhcyB2bDJ2ZzRnZW1pbml9IGZyb20gXCIuLi8uLi91dGlsL3ZsMnZnNGdlbWluaVwiXG5jb25zdCB2bCA9IHJlcXVpcmUoXCJ2ZWdhLWxpdGVcIik7XG5jb25zdCB2ZWdhID0gcmVxdWlyZShcInZlZ2FcIik7XG5jb25zdCB7IGNvcHksIGRlZXBFcXVhbCwgcGFydGl0aW9uLCBwZXJtdXRhdGUsIHVuaW9uLCBpbnRlcnNlY3Rpb259ID0gcmVxdWlyZShcIi4uL3V0aWxcIik7XG5jb25zdCBhcHBseSA9IHJlcXVpcmUoXCIuLi90cmFuc2l0aW9uL2FwcGx5XCIpLmFwcGx5O1xuXG4vLyBUYWtlIHR3byB2ZWdhLWxpdGUgc3BlY3MgYW5kIGVudW1lcmF0ZSBwYXRocyBbe3NlcXVlbmNlLCBlZGl0T3BQYXJ0aXRpb24gKGFrYSB0cmFuc2l0aW9uKX1dOlxuYXN5bmMgZnVuY3Rpb24gZW51bWVyYXRlKHNWTFNwZWMsIGVWTFNwZWMsIGVkaXRPcHMsIHRyYW5zTSwgd2l0aEV4Y2x1ZGVkID0gZmFsc2UpIHtcbiAgaWYgKGVkaXRPcHMubGVuZ3RoIDwgdHJhbnNNKSB7XG4gICAgdGhyb3cgbmV3IENhbm5vdEVudW1TdGFnZXNNb3JlVGhhblRyYW5zaXRpb25zKGVkaXRPcHMubGVuZ3RoLCB0cmFuc00pXG4gIH1cblxuICBjb25zdCBlZGl0T3BQYXJ0aXRpb25zID0gcGFydGl0aW9uKGVkaXRPcHMsIHRyYW5zTSlcblxuICBjb25zdCBvcmRlcmVkRWRpdE9wUGFydGl0aW9ucyA9IGVkaXRPcFBhcnRpdGlvbnMucmVkdWNlKChvcmRlcmVkLCBwdCkgPT4ge1xuICAgIHJldHVybiBvcmRlcmVkLmNvbmNhdChwZXJtdXRhdGUocHQpKTtcbiAgfSwgW10pXG4gIGNvbnN0IHNlcXVlbmNlcyA9IFtdO1xuXG4gIGxldCBleGNsdWRlZFBhdGhzID0gW107XG5cbiAgZm9yIChjb25zdCBlZGl0T3BQYXJ0aXRpb24gb2Ygb3JkZXJlZEVkaXRPcFBhcnRpdGlvbnMpIHtcbiAgICBsZXQgc2VxdWVuY2UgPSBbY29weShzVkxTcGVjKV07XG4gICAgbGV0IGN1cnJTcGVjID0gY29weShzVkxTcGVjKTtcbiAgICBsZXQgdmFsaWQgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWRpdE9wUGFydGl0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlZGl0T3BzID0gZWRpdE9wUGFydGl0aW9uW2ldO1xuICAgICAgaWYgKGk9PT0oZWRpdE9wUGFydGl0aW9uLmxlbmd0aCAtIDEpKSB7XG4gICAgICAgIHNlcXVlbmNlLnB1c2goZVZMU3BlYyk7XG4gICAgICAgIGJyZWFrOyAvLyBUaGUgbGFzdCBzcGVjIHNob3VsZCBiZSB0aGUgc2FtZSBhcyBlVkxTcGVjO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjdXJyU3BlYyA9IGFwcGx5KGNvcHkoY3VyclNwZWMpLCBlVkxTcGVjLCBlZGl0T3BzKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBpZiAoW1wiVW5hcHBsaWNhYmxlRWRpdE9QRXJyb3JcIiwgXCJJbnZhbGlkVkxTcGVjRXJyb3JcIiwgXCJVbmFwcGxpY2FibGVFZGl0T3BzRXJyb3JcIl0uaW5kZXhPZihlLm5hbWUpIDwgMCkge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBleGNsdWRlZFBhdGhzLnB1c2goe2luZm86IGUsIGVkaXRPcFBhcnRpdGlvbiwgaW52YWxpZFNwZWM6IGN1cnJTcGVjfSlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXF1ZW5jZS5wdXNoKGNvcHkoY3VyclNwZWMpKTtcbiAgICB9XG5cbiAgICBjb25zdCBtZXJnZWRTY2FsZURvbWFpbiA9IGF3YWl0IGdldE1lcmdlZFNjYWxlKHNlcXVlbmNlKTtcblxuICAgIHNlcXVlbmNlID0gc2VxdWVuY2UubWFwKChjdXJyU3BlYywgaSkgPT4ge1xuICAgICAgaWYgKGk9PT0wIHx8IGk9PT1zZXF1ZW5jZS5sZW5ndGgtMSkge1xuICAgICAgICByZXR1cm4gY3VyclNwZWNcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcHBseU1lcmdlZFNjYWxlKGN1cnJTcGVjLCBtZXJnZWRTY2FsZURvbWFpbiwgZWRpdE9wUGFydGl0aW9uW2ktMV0pXG4gICAgfSlcblxuICAgIGlmICh2YWxpZCAmJiB2YWxpZGF0ZShzZXF1ZW5jZSkpIHtcbiAgICAgIHNlcXVlbmNlcy5wdXNoKHtzZXF1ZW5jZSwgZWRpdE9wUGFydGl0aW9ufSk7XG4gICAgfVxuICB9XG4gIGlmICh3aXRoRXhjbHVkZWQpIHtcbiAgICByZXR1cm4ge3NlcXVlbmNlcywgZXhjbHVkZWRQYXRoc31cbiAgfVxuXG4gIHJldHVybiBzZXF1ZW5jZXNcbn1cbmV4cG9ydHMuZW51bWVyYXRlID0gZW51bWVyYXRlO1xuXG5cbmZ1bmN0aW9uIGFwcGx5TWVyZ2VkU2NhbGUodmxTcGVjLCBtZXJnZWRTY2FsZURvbWFpbiwgY3VyckVkaXRPcHMpIHtcbiAgbGV0IGN1cnJTcGVjID0gY29weSh2bFNwZWMpO1xuICBsZXQgc29ydEVkaXRPcCA9IGN1cnJFZGl0T3BzLmZpbmQoZW8gPT4gZW8ubmFtZSA9PT0gXCJTT1JUXCIpO1xuXG4gIGZvciAoY29uc3QgY2hhbm5lbCBpbiBtZXJnZWRTY2FsZURvbWFpbikge1xuICAgIC8vIFdoZW4gc29ydCBlZGl0T3BzIGFyZSBhcHBsaWVkLCBkbyBub3QgY2hhbmdlIHRoZSBjb3JyZXNwb25kaW5nIHNjYWxlIGRvbWFpbi5cbiAgICBpZiAoc29ydEVkaXRPcCAmJiBzb3J0RWRpdE9wLmRldGFpbC5maW5kKGR0ID0+IGR0LmNoYW5uZWwgPT09IGNoYW5uZWwpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9O1xuXG4gICAgaWYgKG1lcmdlZFNjYWxlRG9tYWluLmhhc093blByb3BlcnR5KGNoYW5uZWwpKSB7XG5cbiAgICAgIGlmIChjdXJyU3BlYy5lbmNvZGluZ1tjaGFubmVsXSkge1xuICAgICAgICBpZiAoIWN1cnJTcGVjLmVuY29kaW5nW2NoYW5uZWxdLnNjYWxlKSB7XG4gICAgICAgICAgY3VyclNwZWMuZW5jb2RpbmdbY2hhbm5lbF0uc2NhbGUgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyU3BlYy5lbmNvZGluZ1tjaGFubmVsXS5zY2FsZS5kb21haW4gPSBtZXJnZWRTY2FsZURvbWFpbltjaGFubmVsXTtcbiAgICAgICAgaWYgKGN1cnJTcGVjLmVuY29kaW5nW2NoYW5uZWxdLnNjYWxlLnplcm8gIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgZGVsZXRlIGN1cnJTcGVjLmVuY29kaW5nW2NoYW5uZWxdLnNjYWxlLnplcm9cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY3VyclNwZWNcbn1cblxuLy8gR2V0IHRoZSBzY2FsZXMgaW5jbHVkaW5nIGFsbCBkYXRhIHBvaW50cyB3aGlsZSBkb2luZyB0cmFuc2l0aW9ucy5cbmFzeW5jIGZ1bmN0aW9uIGdldE1lcmdlZFNjYWxlKHNlcXVlbmNlKSB7XG5cbiAgY29uc3Qgdmlld3MgPSBhd2FpdCBQcm9taXNlLmFsbChzZXF1ZW5jZS5tYXAodmxTcGVjID0+IHtcbiAgICByZXR1cm4gbmV3IHZlZ2EuVmlldyh2ZWdhLnBhcnNlKHZsLmNvbXBpbGUodmxTcGVjKS5zcGVjKSwge3JlbmRlcmVyOiBcInN2Z1wifSkucnVuQXN5bmMoKVxuICB9KSlcblxuICBsZXQgY29tbW9uRW5jb2RpbmcgPSBzZXF1ZW5jZS5yZWR1Y2UoKGNvbW1vbkVuY29kaW5nLCB2bFNwZWMsIGkpID0+IHtcbiAgICBsZXQgZW5jb2RpbmcgPSBPYmplY3Qua2V5cyh2bFNwZWMuZW5jb2RpbmcpLm1hcChjaGFubmVsID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNoYW5uZWwsXG4gICAgICAgIC4uLnZsU3BlYy5lbmNvZGluZ1tjaGFubmVsXSxcbiAgICAgICAgcnVudGltZVNjYWxlOiB2aWV3c1tpXS5fcnVudGltZS5zY2FsZXNbY2hhbm5lbF1cbiAgICAgIH07XG4gICAgfSk7XG4gICAgaWYgKGk9PT0wKXtcbiAgICAgIHJldHVybiBlbmNvZGluZztcbiAgICB9XG4gICAgcmV0dXJuIGludGVyc2VjdGlvbihlbmNvZGluZywgY29tbW9uRW5jb2RpbmcsIGNoID0+IHtcbiAgICAgIHJldHVybiBbY2guY2hhbm5lbCwgY2guZmllbGR8fFwiXCIsIGNoLnR5cGV8fFwiXCIsIGNoLnJ1bnRpbWVTY2FsZSA/IGNoLnJ1bnRpbWVTY2FsZS50eXBlIDogXCJcIl0uam9pbihcIl9cIik7XG4gICAgfSlcbiAgfSwgW10pLm1hcChlbmNvZGluZyA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmVuY29kaW5nLFxuICAgICAgZG9tYWluczogdmlld3MubWFwKHZpZXcgPT4ge1xuICAgICAgICByZXR1cm4gdmlldy5fcnVudGltZS5zY2FsZXNbZW5jb2RpbmcuY2hhbm5lbF0gPyB2aWV3Ll9ydW50aW1lLnNjYWxlc1tlbmNvZGluZy5jaGFubmVsXS52YWx1ZS5kb21haW4oKSA6IHVuZGVmaW5lZFxuICAgICAgfSlcbiAgICB9XG4gIH0pXG5cbiAgY29tbW9uRW5jb2RpbmcgPSBjb21tb25FbmNvZGluZy5maWx0ZXIoZW5jb2RpbmcgPT4ge1xuICAgIC8vaWYgYWxsIHRoZSBkb21haW5zIGFyZSB0aGUgc2FtZSwgdGhlbiBkb24ndCBuZWVkIHRvIG1lcmdlXG4gICAgcmV0dXJuICFlbmNvZGluZy5kb21haW5zXG4gICAgICAuZmlsdGVyKGQgPT4gZClcbiAgICAgIC5yZWR1Y2UoKGFjY0RvbWFpbiwgZG9tYWluKSA9PiB7XG4gICAgICBpZiAoZGVlcEVxdWFsKGRvbWFpbiwgYWNjRG9tYWluKSkge1xuICAgICAgICByZXR1cm4gZG9tYWluO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LCBlbmNvZGluZy5kb21haW5zWzBdKVxuICB9KVxuXG4gIHJldHVybiBjb21tb25FbmNvZGluZy5yZWR1Y2UoKG1lcmdlZFNjYWxlRG9tYWlucywgZW5jb2RpbmcpID0+IHtcbiAgICBpZiAoIWVuY29kaW5nLnJ1bnRpbWVTY2FsZSkge1xuICAgICAgcmV0dXJuIG1lcmdlZFNjYWxlRG9tYWlucztcbiAgICB9XG4gICAgY29uc3QgdmxUeXBlID0gZW5jb2RpbmcudHlwZSxcbiAgICAgIGRvbWFpbnMgPSBlbmNvZGluZy5kb21haW5zO1xuXG4gICAgaWYgKHZsVHlwZSA9PT0gXCJxdWFudGl0YXRpdmVcIikge1xuICAgICAgbWVyZ2VkU2NhbGVEb21haW5zW2VuY29kaW5nLmNoYW5uZWxdID0gW1xuICAgICAgICBNYXRoLm1pbiguLi5kb21haW5zLm1hcChkb21haW4gPT4gZG9tYWluWzBdKSksXG4gICAgICAgIE1hdGgubWF4KC4uLmRvbWFpbnMubWFwKGRvbWFpbiA9PiBkb21haW5bMV0pKVxuICAgICAgXVxuICAgIH0gZWxzZSBpZiAodmxUeXBlID09PSBcIm5vbWluYWxcIiB8fCB2bFR5cGUgPT09IFwib3JkaW5hbFwiKSB7XG4gICAgICBtZXJnZWRTY2FsZURvbWFpbnNbZW5jb2RpbmcuY2hhbm5lbF0gPSBkb21haW5zLnJlZHVjZSgobWVyZ2VkLCBkb21haW4pID0+IHtcbiAgICAgICAgcmV0dXJuIHVuaW9uKG1lcmdlZCwgZG9tYWluKVxuICAgICAgfSwgW10pXG4gICAgfSBlbHNlIGlmICh2bFR5cGU9PT1cInRlbXBvcmFsXCIpIHtcbiAgICAgIG1lcmdlZFNjYWxlRG9tYWluc1tlbmNvZGluZy5jaGFubmVsXSA9IFtcbiAgICAgICAgTWF0aC5taW4oLi4uZG9tYWlucy5tYXAoZG9tYWluID0+IGRvbWFpblswXSkpLFxuICAgICAgICBNYXRoLm1heCguLi5kb21haW5zLm1hcChkb21haW4gPT4gZG9tYWluWzFdKSlcbiAgICAgIF1cbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VkU2NhbGVEb21haW5zO1xuICB9LCB7fSlcbn1cbmV4cG9ydHMuZ2V0TWVyZ2VkU2NhbGUgPSBnZXRNZXJnZWRTY2FsZVxuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHNlcXVlbmNlKSB7XG4gIC8vVG9kbzogY2hlY2sgaWYgdGhlIHNlcXVlbmNlIGlzIGEgdmFsaWQgdmVnYS1saXRlIHNwZWMuXG4gIGxldCBwcmV2Q2hhcnQgPSBzZXF1ZW5jZVswXTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBzZXF1ZW5jZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGN1cnJDaGFydCA9IHNlcXVlbmNlW2ldO1xuICAgIGlmIChkZWVwRXF1YWwocHJldkNoYXJ0LCBjdXJyQ2hhcnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHByZXZDaGFydCA9IHNlcXVlbmNlW2ldO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy52YWxpZGF0ZSA9IHZhbGlkYXRlXG5cblxuY2xhc3MgQ2Fubm90RW51bVN0YWdlc01vcmVUaGFuVHJhbnNpdGlvbnMgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGVkaXRPcHNOLCB0cmFuc00pIHtcbiAgICBzdXBlcihgQ2Fubm90IGVudW1lcmF0ZSAke3RyYW5zTX0gdHJhbnNpdGlvbnMgZm9yICR7ZWRpdE9wc059IGVkaXQgb3BlcmF0aW9ucy4gVGhlIG51bWJlciBvZiB0cmFuc2l0aW9ucyBzaG91bGQgbGVzc2VyIHRoYW4gdGhlIG51bWJlciBvZiBwb3NzaWJsZSBlZGl0IG9wZXJhdGlvbnMuYClcbiAgICB0aGlzLm5hbWUgPSBcIkNhbm5vdEVudW1TdGFnZXNNb3JlVGhhblRyYW5zaXRpb25zXCJcbiAgfVxufSIsImNvbnN0IHsgZmlsdGVyIH0gPSByZXF1aXJlKFwiZDMtYXJyYXlcIilcbmNvbnN0IHsgdW5pcXVlIH0gPSByZXF1aXJlKFwiLi4vdXRpbFwiKVxuXG5leHBvcnRzLkhFVVJJU1RJQ19SVUxFUyA9IFtcbiAge1xuICAgIG5hbWU6IFwiZmlsdGVyLXRoZW4tYWdncmVnYXRlXCIsXG4gICAgdHlwZTogXCJBLVRoZW4tQlwiLFxuICAgIGVkaXRPcHM6IFtcIkZJTFRFUlwiLCBcIkFHR1JFR0FURVwiXSxcbiAgICBjb25kaXRpb246IChmaWx0ZXIsIGFnZ3JlZ2F0ZSkgPT4ge1xuICAgICAgcmV0dXJuIGFnZ3JlZ2F0ZS5kZXRhaWwgJiYgYWdncmVnYXRlLmRldGFpbC5maW5kKGR0ID0+IGR0LmhvdyA9PT0gXCJhZGRlZFwiKVxuICAgIH0sXG4gICAgc2NvcmU6IDFcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiZGlzYWdncmVnYXRlLXRoZW4tZmlsdGVyXCIsXG4gICAgdHlwZTogXCJBLVRoZW4tQlwiLFxuICAgIGVkaXRPcHM6IFtcIkFHR1JFR0FURVwiLCBcIkZJTFRFUlwiXSxcbiAgICBjb25kaXRpb246IChhZ2dyZWdhdGUsIGZpbHRlcikgPT4ge1xuICAgICAgcmV0dXJuIGFnZ3JlZ2F0ZS5kZXRhaWwgJiYgYWdncmVnYXRlLmRldGFpbC5maW5kKGR0ID0+IGR0LmhvdyA9PT0gXCJyZW1vdmVkXCIpXG4gICAgfSxcbiAgICBzY29yZTogMVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJmaWx0ZXItdGhlbi1iaW5cIixcbiAgICB0eXBlOiBcIkEtVGhlbi1CXCIsXG4gICAgZWRpdE9wczogW1wiRklMVEVSXCIsIFwiQklOXCJdLFxuICAgIGNvbmRpdGlvbjogKGZpbHRlciwgYmluKSA9PiB7XG4gICAgICByZXR1cm4gYmluLmRldGFpbCAmJiBiaW4uZGV0YWlsLmZpbmQoZHQgPT4gZHQuaG93ID09PSBcImFkZGVkXCIpXG4gICAgfSxcbiAgICBzY29yZTogMVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJ1bmJpbi10aGVuLWZpbHRlclwiLFxuICAgIHR5cGU6IFwiQS1UaGVuLUJcIixcbiAgICBlZGl0T3BzOiBbXCJCSU5cIiwgXCJGSUxURVJcIl0sXG4gICAgY29uZGl0aW9uOiAoYmluLCBmaWx0ZXIpID0+IHtcbiAgICAgIHJldHVybiBiaW4uZGV0YWlsICYmIGJpbi5kZXRhaWwuZmluZChkdCA9PiBkdC5ob3cgPT09IFwicmVtb3ZlZFwiKVxuICAgIH0sXG4gICAgc2NvcmU6IDFcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwibm8tYWdncmVnYXRlLXRoZW4tYmluXCIsXG4gICAgdHlwZTogXCJBLVRoZW4tQlwiLFxuICAgIGVkaXRPcHM6IFtcIkFHR1JFR0FURVwiLCBcIkJJTlwiXSxcbiAgICBjb25kaXRpb246IChhZ2dyZWdhdGUsIGJpbikgPT4ge1xuICAgICAgcmV0dXJuIGFnZ3JlZ2F0ZS5kZXRhaWwgJiYgYWdncmVnYXRlLmRldGFpbC5maW5kKGR0ID0+IGR0LmhvdyA9PT0gXCJhZGRlZFwiKVxuICAgIH0sXG4gICAgc2NvcmU6IC0xXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIm5vLXVuYmluLXRoZW4tZGlzYWdncmVnYXRlXCIsXG4gICAgdHlwZTogXCJBLVRoZW4tQlwiLFxuICAgIGVkaXRPcHM6IFtcIkJJTlwiLCBcIkFHR1JFR0FURVwiXSxcbiAgICBjb25kaXRpb246IChiaW4sIGFnZ3JlZ2F0ZSkgPT4ge1xuICAgICAgcmV0dXJuIGFnZ3JlZ2F0ZS5kZXRhaWwgJiYgYWdncmVnYXRlLmRldGFpbC5maW5kKGR0ID0+IGR0LmhvdyA9PT0gXCJyZW1vdmVkXCIpXG4gICAgfSxcbiAgICBzY29yZTogLTFcbiAgfSxcblxuICB7XG4gICAgbmFtZTogXCJlbmNvZGluZyhNT0RJRlkpLXRoZW4tYWdncmVnYXRlXCIsXG4gICAgdHlwZTogXCJBLVRoZW4tQlwiLFxuICAgIGVkaXRPcHM6IFtcIkVOQ09ESU5HXCIsIFwiQUdHUkVHQVRFXCJdLFxuICAgIGNvbmRpdGlvbjogKGVuY29kaW5nLCBhZ2dyZWdhdGUpID0+IHtcbiAgICAgIHJldHVybiBlbmNvZGluZy5uYW1lLmluZGV4T2YoXCJNT0RJRllcIikgPj0gMFxuICAgICAgICAmJiBhZ2dyZWdhdGUuZGV0YWlsXG4gICAgICAgICYmIGFnZ3JlZ2F0ZS5kZXRhaWwuZmluZChkdCA9PiBkdC5ob3cgPT09IFwiYWRkZWRcIilcbiAgICB9LFxuICAgIHNjb3JlOiAxXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcImRpc2FnZ3JlZ2F0ZS10aGVuLWVuY29kaW5nKE1PRElGWSlcIixcbiAgICB0eXBlOiBcIkEtVGhlbi1CXCIsXG4gICAgZWRpdE9wczogW1wiQUdHUkVHQVRFXCIsIFwiRU5DT0RJTkdcIl0sXG4gICAgY29uZGl0aW9uOiAoYWdncmVnYXRlLCBlbmNvZGluZykgPT4ge1xuICAgICAgcmV0dXJuIGVuY29kaW5nLm5hbWUuaW5kZXhPZihcIk1PRElGWVwiKSA+PSAwXG4gICAgICAgICYmIGFnZ3JlZ2F0ZS5kZXRhaWxcbiAgICAgICAgJiYgYWdncmVnYXRlLmRldGFpbC5maW5kKGR0ID0+IGR0LmhvdyA9PT0gXCJyZW1vdmVkXCIpXG4gICAgfSxcbiAgICBzY29yZTogMVxuICB9LFxuXG4gIHtcbiAgICBuYW1lOiBcImVuY29kaW5nKGFkZCktdGhlbi1hZ2dyZWdhdGVcIixcbiAgICB0eXBlOiBcIkEtVGhlbi1CXCIsXG4gICAgZWRpdE9wczogW1wiRU5DT0RJTkdcIiwgXCJBR0dSRUdBVEVcIl0sXG4gICAgY29uZGl0aW9uOiAoZW5jb2RpbmcsIGFnZ3JlZ2F0ZSkgPT4ge1xuICAgICAgcmV0dXJuIGVuY29kaW5nLm5hbWUuaW5kZXhPZihcIkFERFwiKSA+PSAwXG4gICAgICAgICYmIGFnZ3JlZ2F0ZS5kZXRhaWxcbiAgICAgICAgJiYgYWdncmVnYXRlLmRldGFpbC5maW5kKGR0ID0+IGR0LmhvdyA9PT0gXCJhZGRlZFwiKVxuICAgIH0sXG4gICAgc2NvcmU6IDFcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiZGlzYWdncmVnYXRlLXRoZW4tZW5jb2RpbmcocmVtb3ZlKVwiLFxuICAgIHR5cGU6IFwiQS1UaGVuLUJcIixcbiAgICBlZGl0T3BzOiBbXCJBR0dSRUdBVEVcIiwgXCJFTkNPRElOR1wiXSxcbiAgICBjb25kaXRpb246IChhZ2dyZWdhdGUsIGVuY29kaW5nKSA9PiB7XG4gICAgICByZXR1cm4gZW5jb2RpbmcubmFtZS5pbmRleE9mKFwiUkVNT1ZFXCIpID49IDBcbiAgICAgICAgJiYgYWdncmVnYXRlLmRldGFpbFxuICAgICAgICAmJiBhZ2dyZWdhdGUuZGV0YWlsLmZpbmQoZHQgPT4gZHQuaG93ID09PSBcInJlbW92ZWRcIilcbiAgICB9LFxuICAgIHNjb3JlOiAxXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIm5vLW1hcmstdGhlbi1hZ2dyZWdhdGVcIixcbiAgICB0eXBlOiBcIkEtVGhlbi1CXCIsXG4gICAgZWRpdE9wczogW1wiTUFSS1wiLCBcIkFHR1JFR0FURVwiIF0sXG4gICAgY29uZGl0aW9uOiAobWFyaywgYWdncmVnYXRlKSA9PiB7XG5cbiAgICAgIHJldHVybiBhZ2dyZWdhdGUuZGV0YWlsICYmIGFnZ3JlZ2F0ZS5kZXRhaWwuZmluZChkdCA9PiBkdC5ob3cgPT09IFwiYWRkZWRcIilcbiAgICB9LFxuICAgIHNjb3JlOiAtMVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJuby1kaXNhZ2dyZWdhdGUtdGhlbi1tYXJrXCIsXG4gICAgdHlwZTogXCJBLVRoZW4tQlwiLFxuICAgIGVkaXRPcHM6IFtcIkFHR1JFR0FURVwiLCBcIk1BUktcIl0sXG4gICAgY29uZGl0aW9uOiAoYWdncmVnYXRlLCBtYXJrICkgPT4ge1xuXG4gICAgICByZXR1cm4gYWdncmVnYXRlLmRldGFpbCAmJiBhZ2dyZWdhdGUuZGV0YWlsLmZpbmQoZHQgPT4gZHQuaG93ID09PSBcInJlbW92ZWRcIilcbiAgICB9LFxuICAgIHNjb3JlOiAtMVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJtb2RpZnlpbmctd2l0aC1zY2FsZVwiLFxuICAgIHR5cGU6IFwiQS1XaXRoLUJcIixcbiAgICBlZGl0T3BzOiBbXCJFTkNPRElORy5NT0RJRllcIiwgXCJTQ0FMRVwiXSxcbiAgICBzY29yZTogMVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJuby1maWx0ZXJpbmctd2l0aC1maWx0ZXJpbmdcIixcbiAgICB0eXBlOiBcIkEtV2l0aC1CXCIsXG4gICAgZWRpdE9wczogW1wiRklMVEVSXCJdLFxuICAgIGNvbmRpdGlvbjogKGVkaXRPcHMpID0+IHtcblxuICAgICAgcmV0dXJuIHVuaXF1ZShlZGl0T3BzLkZJTFRFUiwgZiA9PiBmLnBvc2l0aW9uKS5sZW5ndGggPCBlZGl0T3BzLkZJTFRFUi5sZW5ndGhcbiAgICB9LFxuICAgIHNjb3JlOiAtMVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJiaW4td2l0aC1hZ2dyZWdhdGVcIixcbiAgICB0eXBlOiBcIkEtV2l0aC1CXCIsXG4gICAgZWRpdE9wczogW1wiQUdHUkVHQVRFXCIsIFwiQklOXCJdLFxuICAgIHNjb3JlOiAxXG4gIH0sXG4gIC8vIHtcbiAgLy8gICBlZGl0T3BzOiBbVFJBTlNGT1JNLCBFTkNPRElORy5SRU1PVkVdLFxuICAvLyAgIGNvbmRpdGlvbjogKHRyYW5zZm9ybSwgcmVtb3ZlKSA9PiB7XG4gIC8vICAgICByZXR1cm4gdHJhbnNmb3JtLmRldGFpbC5maWVsZCA9PT0gcmVtb3ZlLmRldGFpbC5iZWZvcmUuZmllbGRcbiAgLy8gICB9LFxuICAvLyAgIHNjb3JlOiAxXG4gIC8vIH0sXG4gIC8vIHtcbiAgLy8gICBlZGl0T3BzOiBbVFJBTlNGT1JNLCBFTkNPRElORy5NT0RJRlldLFxuICAvLyAgIGNvbmRpdGlvbjogKHRyYW5zZm9ybSwgbW9kaWZ5KSA9PiB7XG4gIC8vICAgICByZXR1cm4gdHJhbnNmb3JtLmRldGFpbC5maWVsZCA9PT0gbW9kaWZ5LmRldGFpbC5hZnRlci5maWVsZFxuICAvLyAgIH0sXG4gIC8vICAgc2NvcmU6IDFcbiAgLy8gfSxcbiAgLy8ge1xuICAvLyAgIGVkaXRPcHM6IFtUUkFOU0ZPUk0sIEVOQ09ESU5HLkFERF0sXG4gIC8vICAgY29uZGl0aW9uOiAodHJhbnNmb3JtLCBhZGQpID0+IHtcbiAgLy8gICAgIHJldHVybiB0cmFuc2Zvcm0uZGV0YWlsLmZpZWxkID09PSBhZGQuZGV0YWlsLmFmdGVyLmZpZWxkXG4gIC8vICAgfSxcbiAgLy8gICBzY29yZTogMVxuICAvLyB9LFxuICAvLyB7XG4gIC8vICAgZWRpdE9wczogW0VOQ09ESU5HLk1PRElGWSwgVFJBTlNGT1JNXSxcbiAgLy8gICBjb25kaXRpb246ICh0cmFuc2Zvcm0sIG1vZGlmeSkgPT4ge1xuICAvLyAgICAgcmV0dXJuIHRyYW5zZm9ybS5kZXRhaWwuZmllbGQgPT09IG1vZGlmeS5kZXRhaWwuYmVmb3JlLmZpZWxkXG4gIC8vICAgfSxcbiAgLy8gICBzY29yZTogMVxuICAvLyB9XG5dIiwiY29uc3QgUlVMRVMgPSByZXF1aXJlKFwiLi9ldmFsdWF0ZVJ1bGVzXCIpLkhFVVJJU1RJQ19SVUxFU1xuY29uc3Qge2NvcHksIGludGVyc2VjdGlvbn0gPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcblxuZnVuY3Rpb24gZXZhbHVhdGUoZWRpdE9wUGFydGl0aW9uKSB7XG4gIGxldCBzYXRpc2ZpZWRSdWxlcyA9IGZpbmRSdWxlcyhlZGl0T3BQYXJ0aXRpb24sIFJVTEVTKTtcbiAgbGV0IHNjb3JlID0gc2F0aXNmaWVkUnVsZXMucmVkdWNlKChzY29yZSwgcnVsZSkgPT4ge1xuICAgIHJldHVybiBzY29yZSArIHJ1bGUuc2NvcmVcbiAgfSwgMClcbiAgcmV0dXJuIHtzY29yZSwgc2F0aXNmaWVkUnVsZXN9XG59XG5leHBvcnRzLmV2YWx1YXRlID0gZXZhbHVhdGU7XG5cbmZ1bmN0aW9uIGZpbmRSdWxlcyhlZGl0T3BQYXJ0aXRpb24sIHJ1bGVzID0gUlVMRVMpIHtcbiAgcmV0dXJuIHJ1bGVzLmZpbHRlcihfcnVsZSA9PiB7XG4gICAgbGV0IHJ1bGUgPSBjb3B5KF9ydWxlKTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJ1bGUuZWRpdE9wcy5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgcnVsZUVkaXRPcCA9IHJ1bGUuZWRpdE9wc1tqXTtcbiAgICAgIHJ1bGVbcnVsZUVkaXRPcF0gPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZGl0T3BQYXJ0aXRpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWRpdE9wUGFydCA9IGVkaXRPcFBhcnRpdGlvbltpXTtcbiAgICAgICAgbGV0IG5ld0ZvdW5kRWRpdE9wcyA9IGZpbmRFZGl0T3BzKGVkaXRPcFBhcnQsIHJ1bGVFZGl0T3ApXG5cbiAgICAgICAgaWYgKG5ld0ZvdW5kRWRpdE9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcnVsZVtydWxlRWRpdE9wXSA9IFtcbiAgICAgICAgICAgIC4uLnJ1bGVbcnVsZUVkaXRPcF0sXG4gICAgICAgICAgICAuLi5uZXdGb3VuZEVkaXRPcHMubWFwKGVvID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsuLi5lbywgcG9zaXRpb246IGl9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJ1bGVbcnVsZUVkaXRPcF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gd2hlbiB0aGVyZSBpcyBubyBjb3JyZXNwb25kaW5nIGVkaXQgb3AgZm9yIHRoZSBydWxlIGluIGdpdmVuIGVkaXRPcCBwYXJ0aXRpb24uXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJ1bGUudHlwZSA9PT0gXCJBLVdpdGgtQlwiKXtcbiAgICAgIGxldCBmb3VuZEVkaXRPcHMgPSBydWxlLmVkaXRPcHMubWFwKGVvID0+IHJ1bGVbZW9dKTtcblxuICAgICAgaWYgKGZvdW5kRWRpdE9wcy5maWx0ZXIoZW8gPT4gIWVvKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgbGV0IHBvc2l0aW9ucyA9IHJ1bGUuZWRpdE9wcy5yZWR1Y2UoKHBvc2l0aW9ucywgZW8sIGkpID0+IHtcbiAgICAgICAgbGV0IGN1cnJQb3NpdGlvbnMgPSBydWxlW2VvXS5tYXAoZCA9PiBkLnBvc2l0aW9uKTtcbiAgICAgICAgaWYgKGkgPT09IDApe1xuICAgICAgICAgIHJldHVybiBjdXJyUG9zaXRpb25zXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbihwb3NpdGlvbnMsIGN1cnJQb3NpdGlvbnMpXG4gICAgICB9LCBbXSlcblxuXG5cbiAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfSBlbHNlIGlmIChfcnVsZS5jb25kaXRpb24pIHtcbiAgICAgICAgbGV0IG1hcHBlZEZvdW5kRWRpdE9wcyA9IHJ1bGUuZWRpdE9wcy5yZWR1Y2UoKGFjYywgZW8pID0+IHtcbiAgICAgICAgICBhY2NbZW9dID0gcnVsZVtlb11cbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG5cbiAgICAgICAgcmV0dXJuIF9ydWxlLmNvbmRpdGlvbihtYXBwZWRGb3VuZEVkaXRPcHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBydWxlW3J1bGUuZWRpdE9wc1swXV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZm9sbG93ZWQgPSBydWxlW3J1bGUuZWRpdE9wc1swXV1baV07XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcnVsZVtydWxlLmVkaXRPcHNbMV1dLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc3QgZm9sbG93aW5nID0gcnVsZVtydWxlLmVkaXRPcHNbMV1dW2pdO1xuICAgICAgICAgIGlmIChmb2xsb3dlZC5wb3NpdGlvbiA+PSBmb2xsb3dpbmcucG9zaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChfcnVsZS5jb25kaXRpb24gJiYgIV9ydWxlLmNvbmRpdGlvbihmb2xsb3dlZCwgZm9sbG93aW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gIH0pO1xufVxuZXhwb3J0cy5maW5kUnVsZXMgPSBmaW5kUnVsZXM7XG5cbmZ1bmN0aW9uIGZpbmRFZGl0T3BzKGVkaXRPcHMsIHF1ZXJ5KSB7XG4gIHJldHVybiBlZGl0T3BzLmZpbHRlcihlbyA9PiB7XG4gICAgaWYgKHF1ZXJ5ID09PSBcIlRSQU5TRk9STVwiKSB7XG4gICAgICByZXR1cm4gZW8udHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIlxuICAgIH0gZWxzZSBpZiAocXVlcnkgPT09IFwiRU5DT0RJTkdcIikge1xuICAgICAgcmV0dXJuIGVvLnR5cGUgPT09IFwiZW5jb2RpbmdcIlxuICAgIH0gZWxzZSBpZiAocXVlcnkgPT09IFwiTUFSS1wiKSB7XG4gICAgICByZXR1cm4gZW8udHlwZSA9PT0gXCJtYXJrXCJcbiAgICB9IGVsc2UgaWYgKHF1ZXJ5ID09PSBcIkVOQ09ESU5HLk1PRElGWVwiKSB7XG4gICAgICByZXR1cm4gZW8udHlwZSA9PT0gXCJlbmNvZGluZ1wiICYmIGVvLm5hbWUuaW5kZXhPZihcIk1PRElGWVwiKSA+PSAwXG4gICAgfVxuICAgIHJldHVybiAoZW8ubmFtZS5pbmRleE9mKHF1ZXJ5KSA+PSAwKVxuICB9KVxufSIsImNvbnN0IHtjb3B5fSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuY29uc3QgeyBlbnVtZXJhdGUgfSA9IHJlcXVpcmUoIFwiLi9lbnVtZXJhdGVcIik7XG5jb25zdCB7IGV2YWx1YXRlIH0gPSByZXF1aXJlKCBcIi4vZXZhbHVhdGVcIik7XG5jb25zdCBnZXRUcmFuc2l0aW9uID0gcmVxdWlyZSgnLi4vdHJhbnNpdGlvbi90cmFucy5qcycpLnRyYW5zaXRpb25cblxuYXN5bmMgZnVuY3Rpb24gcGF0aChzU3BlYywgZVNwZWMsIHRyYW5zTSkge1xuICB2YWxpZGF0ZUlucHV0KHNTcGVjLCBlU3BlYyk7XG5cbiAgY29uc3QgdHJhbnNpdGlvbiA9IGF3YWl0IGdldFRyYW5zaXRpb24oY29weShzU3BlYyksICBjb3B5KGVTcGVjKSlcbiAgY29uc3QgZWRpdE9wcyA9IFtcbiAgICAuLi50cmFuc2l0aW9uLm1hcmssXG4gICAgLi4udHJhbnNpdGlvbi50cmFuc2Zvcm0sXG4gICAgLi4udHJhbnNpdGlvbi5lbmNvZGluZ1xuICBdO1xuICBsZXQgcmVzdWx0ID0ge31cbiAgaWYgKHRyYW5zTSA9PT0gdW5kZWZpbmVkICkge1xuICAgIGZvciAobGV0IG0gPSAxOyBtIDw9IGVkaXRPcHMubGVuZ3RoOyBtKyspIHtcbiAgICAgIHJlc3VsdFttXSA9IGF3YWl0IGVudW1BbmRFdmFsKHNTcGVjLCBlU3BlYywgZWRpdE9wcywgbSlcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBhd2FpdCBlbnVtQW5kRXZhbChzU3BlYywgZVNwZWMsIGVkaXRPcHMsIHRyYW5zTSlcbn1cbmV4cG9ydHMucGF0aCA9IHBhdGg7XG5cbmFzeW5jIGZ1bmN0aW9uIGVudW1BbmRFdmFsKHNTcGVjLCBlU3BlYywgZWRpdE9wcywgdHJhbnNNKSB7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBlbnVtZXJhdGUoc1NwZWMsIGVTcGVjLCBlZGl0T3BzLCB0cmFuc00pXG4gIHJldHVybiByZXN1bHQubWFwKChzZXEpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc2VxLFxuICAgICAgZXZhbDogZXZhbHVhdGUoc2VxLmVkaXRPcFBhcnRpdGlvbilcbiAgICB9XG4gIH0pLnNvcnQoKGEsYikgPT4geyByZXR1cm4gYi5ldmFsLnNjb3JlIC0gYS5ldmFsLnNjb3JlfSlcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVJbnB1dChzU3BlYywgZVNwZWMpIHtcbiAgLy9jaGVjayBpZiBzcGVjcyBhcmUgc2luZ2xlLXZpZXcgdmVnYS1saXRlIGNoYXJ0XG4gIGlmICghaXNWYWxpZFZMU3BlYyhzU3BlYykgfHwgIWlzVmFsaWRWTFNwZWMoZVNwZWMpKSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IFwiR2VtaW5pKysgY2Fubm90IHJlY29tbWVuZCBrZXlmcmFtZXMgZm9yIHRoZSBnaXZlbiBWZWdhLUxpdGUgY2hhcnRzLlwifVxuICB9XG59XG5leHBvcnRzLnZhbGlkYXRlSW5wdXQgPSB2YWxpZGF0ZUlucHV0O1xuXG5mdW5jdGlvbiBpc1ZhbGlkVkxTcGVjKHNwZWMpIHtcbiAgaWYgKHNwZWMubGF5ZXIgfHwgc3BlYy5oY29uY2F0IHx8IHNwZWMudmNvbmNhdCB8fCBzcGVjLmNvbmNhdCB8fCBzcGVjLnNwZWMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNwZWMuJHNjaGVtYSAmJiAoc3BlYy4kc2NoZW1hLmluZGV4T2YoXCJodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3NjaGVtYS92ZWdhLWxpdGVcIikgPj0gMCkpe1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG5cbn1cbmV4cG9ydHMuaXNWYWxpZFZMU3BlYyA9IGlzVmFsaWRWTFNwZWM7IiwiXCJ1c2Ugc3RyaWN0XCJcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXF1ZW5jZTogcmVxdWlyZSgnLi9zZXF1ZW5jZS9zZXF1ZW5jZS5qcycpLnNlcXVlbmNlLFxuICB0cmFuc2l0aW9uOiByZXF1aXJlKCcuL3RyYW5zaXRpb24vdHJhbnMuanMnKS50cmFuc2l0aW9uLFxuICBhcHBseTogcmVxdWlyZSgnLi90cmFuc2l0aW9uL2FwcGx5JykuYXBwbHksXG4gIHBhdGg6IHJlcXVpcmUoJy4vcGF0aCcpLnBhdGhcbn1cbiIsImltcG9ydCB7IGRlZmF1bHQgYXMgcmVjb21tZW5kLCBjYW5SZWNvbW1lbmQgfSBmcm9tIFwiLi4vaW5kZXguanNcIlxuaW1wb3J0IHsgY3Jvc3NKb2luQXJyYXlzLCBjb3B5IH0gZnJvbSBcIi4uLy4uL3V0aWwvdXRpbC5qc1wiO1xuaW1wb3J0ICogYXMgZ3MgZnJvbSBcImdyYXBoc2NhcGVcIjtcbmltcG9ydCB7TlNwbGl0c30gZnJvbSBcIi4uLy4uL3V0aWwvdXRpbC5qc1wiO1xuaW1wb3J0IHtzZXRVcFJlY29tT3B0fSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuaW1wb3J0IHZsMnZnNGdlbWluaSBmcm9tIFwiLi4vLi4vdXRpbC92bDJ2ZzRnZW1pbmkuanNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY29tbWVuZEtleWZyYW1lcyhzU3BlYywgZVNwZWMsIE0pIHtcbiAgcmV0dXJuIGF3YWl0IGdzLnBhdGgoY29weShzU3BlYyksICBjb3B5KGVTcGVjKSwgTSk7XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY29tbWVuZFdpdGhQYXRoKHNWbFNwZWMsIGVWbFNwZWMsIG9wdCA9eyBzdGFnZU46IDEsIHRvdGFsRHVyYXRpb246IDIwMDAgfSkge1xuXG4gIGxldCBfb3B0ID0gY29weShvcHQpXG4gIF9vcHQudG90YWxEdXJhdGlvbiA9IG9wdC50b3RhbER1cmF0aW9uIHx8IDIwMDA7XG4gIF9vcHQuc3RhZ2VOID0gb3B0LnN0YWdlTiB8fCAxO1xuICBfb3B0ID0gc2V0VXBSZWNvbU9wdChfb3B0KTtcblxuICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSB7fTtcbiAgY29uc29sZS5sb2coZ3MpO1xuICBmb3IgKGxldCB0cmFuc00gPSAxOyB0cmFuc00gPD0gX29wdC5zdGFnZU47IHRyYW5zTSsrKSB7XG4gICAgbGV0IHBhdGhzO1xuICAgIHRyeSB7XG4gICAgICBwYXRocyA9IGF3YWl0IGdzLnBhdGgoY29weShzVmxTcGVjKSwgY29weShlVmxTcGVjKSwgdHJhbnNNKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yLm5hbWUgPT09IFwiQ2Fubm90RW51bVN0YWdlc01vcmVUaGFuVHJhbnNpdGlvbnNcIikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHJlY29tbWVuZGF0aW9uc1t0cmFuc01dID0gW107XG4gICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICBjb25zdCBzZXF1ZW5jZSA9IHBhdGguc2VxdWVuY2UubWFwKHZsMnZnNGdlbWluaSk7XG5cbiAgICAgIC8vZW51bWVyYXRlIGFsbCBwb3NzaWJsZSBnZW1pbmkrKyBzcGVjcyBmb3IgdGhlIHNlcXVlbmNlO1xuICAgICAgbGV0IHJlY29tc1BlclBhdGggPSBhd2FpdCByZWNvbW1lbmRGb3JTZXEoc2VxdWVuY2UsIG9wdClcbiAgICAgIHJlY29tbWVuZGF0aW9uc1t0cmFuc01dLnB1c2goe1xuICAgICAgICBwYXRoLFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IHJlY29tc1BlclBhdGhcbiAgICAgIH0pXG5cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucztcbn1cblxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdFN0YWdlc1BlclRyYW5zaXRpb24oc3RhZ2VOLCB0cmFuc2l0aW9uTSkge1xuICByZXR1cm4gTlNwbGl0cyhuZXcgQXJyYXkoc3RhZ2VOKS5maWxsKDEpLCB0cmFuc2l0aW9uTSlcbiAgICAgIC5tYXAoYXJyID0+IGFyci5tYXAoYSA9PiBhLmxlbmd0aCkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVjb21tZW5kRm9yU2VxKHNlcXVlbmNlLCBvcHQgPSB7fSkge1xuICBsZXQgZ2xvYmFsT3B0ID0gY29weShvcHQpLFxuICAgIHRyYW5zTSA9IHNlcXVlbmNlLmxlbmd0aC0xLFxuICAgIHN0YWdlTiA9IG9wdC5zdGFnZU47XG4gIGlmIChzdGFnZU4gPCB0cmFuc00pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZWNvbW1lbmQgJHtzdGFnZU59LXN0YWdlIGFuaW1hdGlvbnMgZm9yIGEgc2VxdWVuY2Ugd2l0aCAke3RyYW5zTX0gdHJhbnNpdGlvbnMuYClcbiAgfVxuXG4gIGdsb2JhbE9wdCA9IHNldFVwUmVjb21PcHQoZ2xvYmFsT3B0KVxuXG4gIGxldCBzdGFnZU5TcGxpdHMgPSBzcGxpdFN0YWdlc1BlclRyYW5zaXRpb24oc3RhZ2VOLCB0cmFuc00pXG4gIGxldCByZWNvbXNGb3JTZXF1ZW5jZSA9IFtdO1xuICBmb3IgKGNvbnN0IHN0YWdlTlNwbGl0IG9mIHN0YWdlTlNwbGl0cykge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uUGVyVHJhbnNpdGlvbiA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFuc007IGkrKykge1xuICAgICAgY29uc3Qgc1ZnVmlzID0gKHNlcXVlbmNlW2ldKSxcbiAgICAgICAgZVZnVmlzID0gKHNlcXVlbmNlW2krMV0pO1xuXG4gICAgICBjb25zdCBfb3B0ID0ge1xuICAgICAgICAuLi5nbG9iYWxPcHQsXG4gICAgICAgIC4uLihvcHQucGVyVHJhbnNpdGlvbnMgfHwgW10pW2ldLFxuICAgICAgICAuLi57aW5jbHVkZU1ldGE6IGZhbHNlfSxcbiAgICAgICAgLi4ue1xuICAgICAgICAgIHN0YWdlTjogc3RhZ2VOU3BsaXRbaV0sXG4gICAgICAgICAgdG90YWxEdXJhdGlvbjogKG9wdC50b3RhbER1cmF0aW9uIHx8IDIwMDApIC8gc3RhZ2VOICogc3RhZ2VOU3BsaXRbaV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgX3JlY29tID0gYXdhaXQgcmVjb21tZW5kKHNWZ1ZpcywgZVZnVmlzLCBfb3B0KTtcbiAgICAgIHJlY29tbWVuZGF0aW9uUGVyVHJhbnNpdGlvbi5wdXNoKF9yZWNvbSk7XG4gICAgfVxuXG4gICAgcmVjb21zRm9yU2VxdWVuY2UgPSByZWNvbXNGb3JTZXF1ZW5jZS5jb25jYXQoY3Jvc3NKb2luQXJyYXlzKHJlY29tbWVuZGF0aW9uUGVyVHJhbnNpdGlvbikpO1xuICB9XG5cbiAgcmV0dXJuIHJlY29tc0ZvclNlcXVlbmNlLm1hcChyZWNvbSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNwZWNzOiByZWNvbSxcbiAgICAgIGNvc3Q6IHN1bUNvc3QocmVjb20pXG4gICAgfVxuICB9KS5zb3J0KChhLGIpID0+IHtcbiAgICByZXR1cm4gYS5jb3N0IC0gYi5jb3N0XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzdW1Db3N0KGdlbWluaVNwZWNzKSB7XG4gIHJldHVybiBnZW1pbmlTcGVjcy5yZWR1Y2UoKGNvc3QsIHNwZWMpID0+IHtcbiAgICBjb3N0ICs9IHNwZWMucHNldWRvVGltZWxpbmUuZXZhbC5jb3N0O1xuICAgIHJldHVybiBjb3N0XG4gIH0sIDApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5SZWNvbW1lbmRGb3JTZXEoc2VxdWVuY2UpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAoc2VxdWVuY2UubGVuZ3RoIC0gMSk7IGkrKykge1xuICAgIGNvbnN0IHNWaXMgPSBzZXF1ZW5jZVtpXSwgZVZpcyA9IHNlcXVlbmNlW2krMV07XG4gICAgbGV0IGlzUmVjb21tZW5kYWJsZSA9IGNhblJlY29tbWVuZChzVmlzLCBlVmlzKS5yZXN1bHQ7XG4gICAgaWYgKGlzUmVjb21tZW5kYWJsZS5yZXN1bHQpIHtcbiAgICAgIHJldHVybiB7cmVzdWx0OiBmYWxzZSwgcmVhc29uOiBpc1JlY29tbWVuZGFibGUucmVhc29ufVxuICAgIH1cbiAgfVxuICByZXR1cm4ge3Jlc3VsdDogdHJ1ZX07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5SZWNvbW1lbmRLZXlmcmFtZXMoc1NwZWMsIGVTcGVjKSB7XG4gIC8vY2hlY2sgaWYgc3BlY3MgYXJlIHNpbmdsZS12aWV3IHZlZ2EtbGl0ZSBjaGFydFxuICBpZiAoIWlzVmFsaWRWTFNwZWMoc1NwZWMpIHx8ICFpc1ZhbGlkVkxTcGVjKGVTcGVjKSkge1xuICAgIHJldHVybiB7cmVzdWx0OiBmYWxzZSwgcmVhc29uOiBcIkdlbWluaSsrIGNhbm5vdCByZWNvbW1lbmQga2V5ZnJhbWVzIGZvciB0aGUgZ2l2ZW4gVmVnYS1MaXRlIGNoYXJ0cy5cIn1cbiAgfVxuICByZXR1cm4ge3Jlc3VsdDogdHJ1ZX1cbn1cblxuXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVkxTcGVjKHNwZWMpIHtcbiAgaWYgKHNwZWMubGF5ZXIgfHwgc3BlYy5oY29uY2F0IHx8IHNwZWMudmNvbmNhdCB8fCBzcGVjLmNvbmNhdCB8fCBzcGVjLnNwZWMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHNwZWMuJHNjaGVtYSAmJiAoc3BlYy4kc2NoZW1hLmluZGV4T2YoXCJodHRwczovL3ZlZ2EuZ2l0aHViLmlvL3NjaGVtYS92ZWdhLWxpdGVcIikgPj0gMCkpe1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG5cbn0iLCJpbXBvcnQgeyBHZW1pbmkgfSBmcm9tIFwiLi9nZW1pbmkuanNcIjtcbmltcG9ydCB7IGRlZmF1bHQgYXMgcmVjb21tZW5kLCBjb21wYXJlQ29zdCwgY2FuUmVjb21tZW5kLCBhbGxBdE9uY2UgfSBmcm9tIFwiLi9yZWNvbW1lbmRlclwiO1xuaW1wb3J0IHsgcmVjb21tZW5kRm9yU2VxLFxuICByZWNvbW1lbmRLZXlmcmFtZXMsXG4gIHJlY29tbWVuZFdpdGhQYXRoLFxuICBjYW5SZWNvbW1lbmRLZXlmcmFtZXMsXG4gIGNhblJlY29tbWVuZEZvclNlcSB9IGZyb20gXCIuL3JlY29tbWVuZGVyL3NlcXVlbmNlXCI7XG5pbXBvcnQgeyBkZWZhdWx0IGFzIHZsMnZnNGdlbWluaSwgY2FzdFZMMlZHIH0gZnJvbSBcIi4vdXRpbC92bDJ2ZzRnZW1pbmlcIjtcblxuY29uc3QgeyBhbmltYXRlLCBhbmltYXRlU2VxdWVuY2UgfSA9IEdlbWluaTtcbmV4cG9ydCB7IGFuaW1hdGUsXG4gIGFuaW1hdGVTZXF1ZW5jZSxcbiAgcmVjb21tZW5kLFxuICBjYW5SZWNvbW1lbmQsXG4gIHJlY29tbWVuZEZvclNlcSxcbiAgY2FuUmVjb21tZW5kRm9yU2VxLFxuICByZWNvbW1lbmRLZXlmcmFtZXMsXG4gIGNhblJlY29tbWVuZEtleWZyYW1lcyxcbiAgcmVjb21tZW5kV2l0aFBhdGgsXG4gIGNvbXBhcmVDb3N0LFxuICB2bDJ2ZzRnZW1pbmksXG4gIGNhc3RWTDJWRyxcbiAgYWxsQXRPbmNlXG59O1xuIl0sIm5hbWVzIjpbIm1lcmdlIiwic2V0cyIsImxlbmd0aCIsInNsaWNlIiwieGwiLCJ4Iiwiam9pbiIsInN1YmV4cCIsInN0ciIsInR5cGVPZiIsIm8iLCJ1bmRlZmluZWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJzcGxpdCIsInBvcCIsInNoaWZ0IiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsInRvQXJyYXkiLCJvYmoiLCJBcnJheSIsInNldEludGVydmFsIiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwia2V5IiwiYnVpbGRFeHBzIiwiaXNJUkkiLCJBTFBIQSQkIiwiQ1IkIiwiRElHSVQkJCIsIkRRVU9URSQkIiwiSEVYRElHJCQiLCJQQ1RfRU5DT0RFRCQiLCJTVUJfREVMSU1TJCQiLCJSRVNFUlZFRCQkIiwiR0VOX0RFTElNUyQkIiwiVUNTQ0hBUiQkIiwiU0NIRU1FJCIsIlVTRVJJTkZPJCIsIlVOUkVTRVJWRUQkJCIsIkRFQ19PQ1RFVCQiLCJERUNfT0NURVRfUkVMQVhFRCQiLCJIMTYkIiwiTFMzMiQiLCJJUFY0QUREUkVTUyQiLCJJUFY2QUREUkVTUzEkIiwiSVBWNkFERFJFU1MyJCIsIklQVjZBRERSRVNTMyQiLCJJUFY2QUREUkVTUzQkIiwiSVBWNkFERFJFU1M1JCIsIklQVjZBRERSRVNTNiQiLCJJUFY2QUREUkVTUzckIiwiSVBWNkFERFJFU1M4JCIsIklQVjZBRERSRVNTOSQiLCJaT05FSUQkIiwiSVBfTElURVJBTCQiLCJIT1NUJCIsIlBDSEFSJCIsIlNFR01FTlQkIiwiU0VHTUVOVF9OWl9OQyQiLCJQQVRIX0FCRU1QVFkkIiwiUVVFUlkkIiwiSVBSSVZBVEUkJCIsIlJlZ0V4cCIsIklQVjZBRERSRVNTJCIsIm1heEludCIsImJhc2UiLCJ0TWluIiwidE1heCIsInNrZXciLCJkYW1wIiwiaW5pdGlhbEJpYXMiLCJpbml0aWFsTiIsImRlbGltaXRlciIsInJlZ2V4UHVueWNvZGUiLCJyZWdleE5vbkFTQ0lJIiwicmVnZXhTZXBhcmF0b3JzIiwiZXJyb3JzIiwiYmFzZU1pbnVzVE1pbiIsImZsb29yIiwiTWF0aCIsInN0cmluZ0Zyb21DaGFyQ29kZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImVycm9yIiwidHlwZSIsIlJhbmdlRXJyb3IiLCJtYXAiLCJhcnJheSIsImZuIiwicmVzdWx0IiwibWFwRG9tYWluIiwic3RyaW5nIiwicGFydHMiLCJyZXBsYWNlIiwibGFiZWxzIiwiZW5jb2RlZCIsInVjczJkZWNvZGUiLCJvdXRwdXQiLCJjb3VudGVyIiwidmFsdWUiLCJjaGFyQ29kZUF0IiwiZXh0cmEiLCJwdXNoIiwidWNzMmVuY29kZSIsImZyb21Db2RlUG9pbnQiLCJiYXNpY1RvRGlnaXQiLCJjb2RlUG9pbnQiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsImRlbHRhIiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiayIsImRlY29kZSIsImlucHV0IiwiaW5wdXRMZW5ndGgiLCJpIiwibiIsImJpYXMiLCJiYXNpYyIsImxhc3RJbmRleE9mIiwiaiIsImluZGV4Iiwib2xkaSIsInciLCJ0IiwiYmFzZU1pbnVzVCIsIm91dCIsInNwbGljZSIsImVuY29kZSIsImN1cnJlbnRWYWx1ZSIsImJhc2ljTGVuZ3RoIiwiaGFuZGxlZENQQ291bnQiLCJtIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicSIsInFNaW51c1QiLCJ0b1VuaWNvZGUiLCJ0ZXN0IiwidG9BU0NJSSIsInB1bnljb2RlIiwiU0NIRU1FUyIsInBjdEVuY0NoYXIiLCJjaHIiLCJjIiwiZSIsInBjdERlY0NoYXJzIiwibmV3U3RyIiwiaWwiLCJwYXJzZUludCIsInN1YnN0ciIsImMyIiwiYzMiLCJfbm9ybWFsaXplQ29tcG9uZW50RW5jb2RpbmciLCJjb21wb25lbnRzIiwicHJvdG9jb2wiLCJkZWNvZGVVbnJlc2VydmVkIiwiZGVjU3RyIiwibWF0Y2giLCJVTlJFU0VSVkVEIiwic2NoZW1lIiwiUENUX0VOQ09ERUQiLCJOT1RfU0NIRU1FIiwidXNlcmluZm8iLCJOT1RfVVNFUklORk8iLCJob3N0IiwiTk9UX0hPU1QiLCJwYXRoIiwiTk9UX1BBVEgiLCJOT1RfUEFUSF9OT1NDSEVNRSIsInF1ZXJ5IiwiTk9UX1FVRVJZIiwiZnJhZ21lbnQiLCJOT1RfRlJBR01FTlQiLCJfc3RyaXBMZWFkaW5nWmVyb3MiLCJfbm9ybWFsaXplSVB2NCIsIm1hdGNoZXMiLCJJUFY0QUREUkVTUyIsImFkZHJlc3MiLCJfbm9ybWFsaXplSVB2NiIsIklQVjZBRERSRVNTIiwiem9uZSIsInJldmVyc2UiLCJsYXN0IiwiZmlyc3QiLCJmaXJzdEZpZWxkcyIsImxhc3RGaWVsZHMiLCJpc0xhc3RGaWVsZElQdjRBZGRyZXNzIiwiZmllbGRDb3VudCIsImxhc3RGaWVsZHNTdGFydCIsImZpZWxkcyIsImFsbFplcm9GaWVsZHMiLCJyZWR1Y2UiLCJhY2MiLCJmaWVsZCIsImxhc3RMb25nZXN0IiwibG9uZ2VzdFplcm9GaWVsZHMiLCJzb3J0IiwiYSIsImIiLCJuZXdIb3N0IiwibmV3Rmlyc3QiLCJuZXdMYXN0IiwiVVJJX1BBUlNFIiwiTk9fTUFUQ0hfSVNfVU5ERUZJTkVEIiwicGFyc2UiLCJ1cmlTdHJpbmciLCJvcHRpb25zIiwiaXJpIiwiSVJJX1BST1RPQ09MIiwiVVJJX1BST1RPQ09MIiwicmVmZXJlbmNlIiwicG9ydCIsImlzTmFOIiwiaW5kZXhPZiIsInNjaGVtZUhhbmRsZXIiLCJ1bmljb2RlU3VwcG9ydCIsImRvbWFpbkhvc3QiLCJfcmVjb21wb3NlQXV0aG9yaXR5IiwidXJpVG9rZW5zIiwiXyIsIiQxIiwiJDIiLCJSRFMxIiwiUkRTMiIsIlJEUzMiLCJSRFM1IiwicmVtb3ZlRG90U2VnbWVudHMiLCJpbSIsInMiLCJFcnJvciIsInNlcmlhbGl6ZSIsImF1dGhvcml0eSIsImNoYXJBdCIsImFic29sdXRlUGF0aCIsInJlc29sdmVDb21wb25lbnRzIiwicmVsYXRpdmUiLCJza2lwTm9ybWFsaXphdGlvbiIsInRvbGVyYW50IiwicmVzb2x2ZSIsImJhc2VVUkkiLCJyZWxhdGl2ZVVSSSIsInNjaGVtZWxlc3NPcHRpb25zIiwibm9ybWFsaXplIiwidXJpIiwiZXF1YWwiLCJ1cmlBIiwidXJpQiIsImVzY2FwZUNvbXBvbmVudCIsIkVTQ0FQRSIsInVuZXNjYXBlQ29tcG9uZW50IiwiaGFuZGxlciIsImh0dHAiLCJPIiwiQVRFWFQkJCIsIlFURVhUJCQiLCJWQ0hBUiQkIiwiU09NRV9ERUxJTVMkJCIsIk5PVF9MT0NBTF9QQVJUIiwiTk9UX0hGTkFNRSIsIk5PVF9IRlZBTFVFIiwibWFpbHRvQ29tcG9uZW50cyIsInRvIiwidW5rbm93bkhlYWRlcnMiLCJoZWFkZXJzIiwiaGZpZWxkcyIsImhmaWVsZCIsInRvQWRkcnMiLCJzdWJqZWN0IiwiYm9keSIsImFkZHIiLCJ0b0FkZHIiLCJhdElkeCIsImxvY2FsUGFydCIsImRvbWFpbiIsIm5hbWUiLCJVUk5fUEFSU0UiLCJ1cm5Db21wb25lbnRzIiwibmlkIiwibnNzIiwidXJuU2NoZW1lIiwidXJpQ29tcG9uZW50cyIsIlVVSUQiLCJ1dWlkQ29tcG9uZW50cyIsInV1aWQiLCJodHRwcyIsIm1haWx0byIsInVybiIsImNvcHkiLCJyZXF1aXJlJCQwIiwicmVxdWlyZSQkMSIsIlNjaGVtYU9iamVjdCIsIlVSSSIsInRyYXZlcnNlIiwidWNzMmxlbmd0aCIsIlZhbGlkYXRpb25FcnJvciIsImVycm9yQ2xhc3NlcyIsInZhbGlkYXRlR2VuZXJhdG9yIiwidmFsaWRhdGUiLCJzdGFibGVTdHJpbmdpZnkiLCJKU09OX1BPSU5URVIiLCJSRUxBVElWRV9KU09OX1BPSU5URVIiLCJyZXF1aXJlJCQyIiwicmVxdWlyZSQkMyIsInJlcXVpcmUkJDQiLCJyZXF1aXJlJCQ1IiwicmVxdWlyZSQkNiIsInJlcXVpcmUkJDciLCJyZXF1aXJlJCQ4IiwicmVxdWlyZSQkOSIsInJlcXVpcmUkJDEwIiwicmVxdWlyZSQkMTEiLCJyZXF1aXJlJCQxMiIsInJlcXVpcmUkJDEzIiwicmVxdWlyZSQkMTQiLCJyZXF1aXJlJCQxNSIsInJlcXVpcmUkJDE2IiwicmVxdWlyZSQkMTciLCJyZXF1aXJlJCQxOCIsInJlcXVpcmUkJDE5IiwicmVxdWlyZSQkMjAiLCJyZXF1aXJlJCQyMSIsInJlcXVpcmUkJDIyIiwicmVxdWlyZSQkMjMiLCJ0b0hhc2giLCJydWxlTW9kdWxlcyIsIk1pc3NpbmdSZWZFcnJvciIsIm1ldGFTY2hlbWEiLCJJREVOVElGSUVSIiwiY3VzdG9tUnVsZUNvZGUiLCJkZWZpbml0aW9uU2NoZW1hIiwiY29tcGlsZSIsImN1c3RvbUtleXdvcmQiLCIkZGF0YU1ldGFTY2hlbWEiLCJmb3JtYXRzIiwiQ2FjaGUiLCJjb21waWxlU2NoZW1hIiwiYWp2IiwiQWp2Iiwic3RyaW5nVmFsdWUiLCJ2Z0NvbmZpZyIsInV0aWwuaXNOdW1iZXIiLCJ2Zy5FTVBUWV9FTkNPREUiLCJ2Zy5sZWdlbmRMYWJsZVBvcyIsInZnLmxlZ2VuZExhYmVsQWxpZ24iLCJ2Zy5iYXNlbGluZSIsInZnLmxhYmxlQW5nbGUiLCJ2Zy5sZWdlbmRCYW5kUG9zIiwidmcuYXhpc0NvbXBQb3MiLCJ2Zy5heGlzVGV4dERwb3MiLCJ2Zy5heGlzTGFiZWxBbGlnbiIsInZnLnRpY2tMZW5ndGgiLCJ2Zy5ncmlkTGVuZ3RoIiwidmcudGl0bGVBbmdsZSIsInZnLnRpdGxlUG9zIiwidmcuZG9tYWluTGVuZ3RoIiwidmVnYS5TVkdSZW5kZXJlciIsInZlZ2Euc2NlbmVGcm9tSlNPTiIsInZlZ2Euc2NlbmVUb0pTT04iLCJ2ZWdhLlZpZXciLCJ2ZWdhLnBhcnNlIiwiZDMuaW50ZXJwb2xhdGUiLCJjaGVja0NvbmZsaWN0IiwiZDMuZ3JvdXBzIiwiZ2V0Sm9pbkluZm8iLCJkZWVwRXF1YWwiLCJjb21wdXRlIiwiZDMuaW50ZXJwb2xhdGVTdHJpbmciLCJkMy5leHRlbnQiLCJkMy5zZWxlY3QiLCJ2ZWdhLnRleHRNZXRyaWNzIiwidmVnYVxuICAgICAgICAucGF0aFJlY3RhbmdsZSIsInZlZ2FcbiAgICAgICAgICAucGF0aFJlY3RhbmdsZSIsImQzLnBhdGgiLCJ2ZWdhLnBhdGhTeW1ib2xzIiwiZDNcbiAgICAgICAgICAubGluZSIsImQzXG4gICAgICAgICAgICAuYXJlYSIsInZlZ2EucGF0aFRyYWlsIiwidmVnYS5kZWZhdWx0TG9jYWxlIiwidmVnYS50aW1lVW5pdFNwZWNpZmllciIsInZlZ2FFeHByZXNzaW9uLmNvZGVnZW4iLCJ2ZWdhRXhwcmVzc2lvbi5wYXJzZSIsImQzLmFzY2VuZGluZyIsImQzLmRlc2NlbmRpbmciLCJkMy5lYXNlTGluZWFyIiwiZDMubG9jYWwiLCJhZGRNYXJrIiwiZDNcbiAgICAgICAgICAuc2VsZWN0QWxsIiwiZDNcbiAgICAgICAgICAuc2VsZWN0IiwiZDMuc2VsZWN0QWxsIiwiZDNcbiAgICAgICAgLnNlbGVjdEFsbCIsImQzXG4gICAgICAgIC5zZWxlY3QiLCJkb25lTWFrZXIiLCJJTklUSUFMX1NUQVRVUyIsInZlZ2FMaXRlLmNvbXBpbGUiLCJkMy5yb2xsdXBzIiwiREcuUEVSQ0VQVElPTl9DQVAiLCJERy5ESVNDT1VOVF9DT01CT1MiLCJERy5QRU5BTFRZX0NPTUJPUyIsIkRHLlBFUkNFUFRJT05fQ09TVCIsImFjY2Vzc29yIiwiZm5hbWUiLCJnZXR0ZXIiLCJnZXQxIiwiZ2V0TiIsImxlbiIsIm1lc3NhZ2UiLCJzcGxpdEFjY2Vzc1BhdGgiLCJwIiwic3Vic3RyaW5nIiwib3B0IiwiZ2V0IiwiaXNGdW5jdGlvbiIsImhvcCIsImhhc093blByb3BlcnR5IiwiaGFzIiwib2JqZWN0IiwicHJvcGVydHkiLCJpc1N0cmluZyIsInRvU2V0IiwiUmF3Q29kZSIsIkxpdGVyYWwiLCJQcm9wZXJ0eSIsIklkZW50aWZpZXIiLCJBcnJheUV4cHJlc3Npb24iLCJCaW5hcnlFeHByZXNzaW9uIiwiQ2FsbEV4cHJlc3Npb24iLCJDb25kaXRpb25hbEV4cHJlc3Npb24iLCJMb2dpY2FsRXhwcmVzc2lvbiIsIk1lbWJlckV4cHJlc3Npb24iLCJPYmplY3RFeHByZXNzaW9uIiwiVW5hcnlFeHByZXNzaW9uIiwiQVNUTm9kZSIsInZpc2l0IiwidmlzaXRvciIsImNoaWxkcmVuIiwibm9kZSIsImVsZW1lbnRzIiwibGVmdCIsInJpZ2h0IiwiY2FsbGVlIiwiY29uY2F0IiwiYXJndW1lbnRzIiwiY29uc2VxdWVudCIsImFsdGVybmF0ZSIsInByb3BlcnRpZXMiLCJhcmd1bWVudCIsIlRva2VuTmFtZSIsImxvb2thaGVhZCIsIlRva2VuQm9vbGVhbkxpdGVyYWwiLCJUb2tlbkVPRiIsIlRva2VuSWRlbnRpZmllciIsIlRva2VuS2V5d29yZCIsIlRva2VuTnVsbExpdGVyYWwiLCJUb2tlbk51bWVyaWNMaXRlcmFsIiwiVG9rZW5QdW5jdHVhdG9yIiwiVG9rZW5TdHJpbmdMaXRlcmFsIiwiVG9rZW5SZWd1bGFyRXhwcmVzc2lvbiIsIlN5bnRheEFycmF5RXhwcmVzc2lvbiIsIlN5bnRheEJpbmFyeUV4cHJlc3Npb24iLCJTeW50YXhDYWxsRXhwcmVzc2lvbiIsIlN5bnRheENvbmRpdGlvbmFsRXhwcmVzc2lvbiIsIlN5bnRheElkZW50aWZpZXIiLCJTeW50YXhMaXRlcmFsIiwiU3ludGF4TG9naWNhbEV4cHJlc3Npb24iLCJTeW50YXhNZW1iZXJFeHByZXNzaW9uIiwiU3ludGF4T2JqZWN0RXhwcmVzc2lvbiIsIlN5bnRheFByb3BlcnR5IiwiU3ludGF4VW5hcnlFeHByZXNzaW9uIiwiTWVzc2FnZVVuZXhwZWN0ZWRUb2tlbiIsIk1lc3NhZ2VVbmV4cGVjdGVkTnVtYmVyIiwiTWVzc2FnZVVuZXhwZWN0ZWRTdHJpbmciLCJNZXNzYWdlVW5leHBlY3RlZElkZW50aWZpZXIiLCJNZXNzYWdlVW5leHBlY3RlZFJlc2VydmVkIiwiTWVzc2FnZVVuZXhwZWN0ZWRFT1MiLCJNZXNzYWdlSW52YWxpZFJlZ0V4cCIsIk1lc3NhZ2VVbnRlcm1pbmF0ZWRSZWdFeHAiLCJNZXNzYWdlU3RyaWN0T2N0YWxMaXRlcmFsIiwiTWVzc2FnZVN0cmljdER1cGxpY2F0ZVByb3BlcnR5IiwiSUxMRUdBTCIsIkRJU0FCTEVEIiwiUmVnZXhOb25Bc2NpaUlkZW50aWZpZXJTdGFydCIsIlJlZ2V4Tm9uQXNjaWlJZGVudGlmaWVyUGFydCIsImFzc2VydCIsImNvbmRpdGlvbiIsImlzRGVjaW1hbERpZ2l0IiwiY2giLCJpc0hleERpZ2l0IiwiaXNPY3RhbERpZ2l0IiwiaXNXaGl0ZVNwYWNlIiwiaXNMaW5lVGVybWluYXRvciIsImlzSWRlbnRpZmllclN0YXJ0IiwiaXNJZGVudGlmaWVyUGFydCIsImtleXdvcmRzIiwic2tpcENvbW1lbnQiLCJzY2FuSGV4RXNjYXBlIiwicHJlZml4IiwiY29kZSIsInRocm93RXJyb3IiLCJzY2FuVW5pY29kZUNvZGVQb2ludEVzY2FwZSIsImN1MSIsImN1MiIsImdldEVzY2FwZWRJZGVudGlmaWVyIiwiaWQiLCJnZXRJZGVudGlmaWVyIiwic3RhcnQiLCJzY2FuSWRlbnRpZmllciIsImVuZCIsInNjYW5QdW5jdHVhdG9yIiwiY29kZTIiLCJjaDEiLCJjaDIiLCJjaDMiLCJjaDQiLCJzY2FuSGV4TGl0ZXJhbCIsIm51bWJlciIsInNjYW5PY3RhbExpdGVyYWwiLCJvY3RhbCIsInNjYW5OdW1lcmljTGl0ZXJhbCIsInBhcnNlRmxvYXQiLCJzY2FuU3RyaW5nTGl0ZXJhbCIsInF1b3RlIiwidGVzdFJlZ0V4cCIsInBhdHRlcm4iLCJmbGFncyIsInRtcCIsIiQwIiwiZXhjZXB0aW9uIiwic2NhblJlZ0V4cEJvZHkiLCJjbGFzc01hcmtlciIsInRlcm1pbmF0ZWQiLCJsaXRlcmFsIiwic2NhblJlZ0V4cEZsYWdzIiwic2VhcmNoIiwic2NhblJlZ0V4cCIsInJlZ2V4IiwiaXNJZGVudGlmaWVyTmFtZSIsInRva2VuIiwiYWR2YW5jZSIsImxleCIsInBlZWsiLCJwb3MiLCJmaW5pc2hBcnJheUV4cHJlc3Npb24iLCJmaW5pc2hCaW5hcnlFeHByZXNzaW9uIiwib3BlcmF0b3IiLCJmaW5pc2hDYWxsRXhwcmVzc2lvbiIsImFyZ3MiLCJmaW5pc2hDb25kaXRpb25hbEV4cHJlc3Npb24iLCJmaW5pc2hJZGVudGlmaWVyIiwiZmluaXNoTGl0ZXJhbCIsInJhdyIsImZpbmlzaE1lbWJlckV4cHJlc3Npb24iLCJjb21wdXRlZCIsIm1lbWJlciIsImZpbmlzaE9iamVjdEV4cHJlc3Npb24iLCJmaW5pc2hQcm9wZXJ0eSIsImtpbmQiLCJmaW5pc2hVbmFyeUV4cHJlc3Npb24iLCJtZXNzYWdlRm9ybWF0IiwibXNnIiwid2hvbGUiLCJkZXNjcmlwdGlvbiIsInRocm93VW5leHBlY3RlZCIsImV4cGVjdCIsIm1hdGNoS2V5d29yZCIsImtleXdvcmQiLCJwYXJzZUFycmF5SW5pdGlhbGlzZXIiLCJwYXJzZUNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsInBhcnNlT2JqZWN0UHJvcGVydHlLZXkiLCJwYXJzZU9iamVjdFByb3BlcnR5IiwicGFyc2VPYmplY3RJbml0aWFsaXNlciIsInBhcnNlR3JvdXBFeHByZXNzaW9uIiwiZXhwciIsInBhcnNlRXhwcmVzc2lvbiIsImxlZ2FsS2V5d29yZHMiLCJwYXJzZVByaW1hcnlFeHByZXNzaW9uIiwicGFyc2VBcmd1bWVudHMiLCJwYXJzZU5vbkNvbXB1dGVkUHJvcGVydHkiLCJwYXJzZU5vbkNvbXB1dGVkTWVtYmVyIiwicGFyc2VDb21wdXRlZE1lbWJlciIsInBhcnNlTGVmdEhhbmRTaWRlRXhwcmVzc2lvbkFsbG93Q2FsbCIsInBhcnNlUG9zdGZpeEV4cHJlc3Npb24iLCJwYXJzZVVuYXJ5RXhwcmVzc2lvbiIsImJpbmFyeVByZWNlZGVuY2UiLCJwcmVjIiwicGFyc2VCaW5hcnlFeHByZXNzaW9uIiwibWFya2VyIiwibWFya2VycyIsInN0YWNrIiwicGFyc2VyIiwiQ29uc3RhbnRzIiwiTmFOIiwiRSIsIkxOMiIsIkxOMTAiLCJMT0cyRSIsIkxPRzEwRSIsIlBJIiwiU1FSVDFfMiIsIlNRUlQyIiwiTUlOX1ZBTFVFIiwiTUFYX1ZBTFVFIiwiRnVuY3Rpb25zIiwiY29kZWdlbiIsImZuY2FsbCIsImNhc3QiLCJEQVRFIiwiU1RSSU5HIiwiUkVHRVhQIiwiaXNGaW5pdGUiLCJhYnMiLCJhY29zIiwiYXNpbiIsImF0YW4iLCJhdGFuMiIsImNlaWwiLCJjb3MiLCJleHAiLCJsb2ciLCJtYXgiLCJtaW4iLCJwb3ciLCJyYW5kb20iLCJyb3VuZCIsInNpbiIsInNxcnQiLCJ0YW4iLCJjbGFtcCIsIm5vdyIsInV0YyIsImRhdGV0aW1lIiwiZGF0ZSIsImRheSIsInllYXIiLCJtb250aCIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJ0aW1lIiwidGltZXpvbmVvZmZzZXQiLCJ1dGNkYXRlIiwidXRjZGF5IiwidXRjeWVhciIsInV0Y21vbnRoIiwidXRjaG91cnMiLCJ1dGNtaW51dGVzIiwidXRjc2Vjb25kcyIsInV0Y21pbGxpc2Vjb25kcyIsImluZGV4b2YiLCJsYXN0aW5kZXhvZiIsInVwcGVyIiwibG93ZXIiLCJ0cmltIiwicmVnZXhwIiwiaWYiLCJzdHJpcFF1b3RlcyIsImFsbG93ZWQiLCJmb3JiaWRkZW4iLCJjb25zdGFudHMiLCJmdW5jdGlvbnMiLCJnbG9iYWx2YXIiLCJmaWVsZHZhciIsIm91dHB1dEdsb2JhbCIsImdsb2JhbHMiLCJtZW1iZXJEZXB0aCIsImFzdCIsImdlbmVyYXRvciIsIkdlbmVyYXRvcnMiLCJkIiwia2V5cyIsIlFVQU5USVRBVElWRSIsIk9SRElOQUwiLCJURU1QT1JBTCIsIk5PTUlOQUwiLCJHRU9KU09OIiwiZXhwb3J0cyIsImlzQXJyYXkiLCJpdGVtIiwiaXNpbiIsImpzb24iLCJzcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkdXBsaWNhdGUiLCJmb3JFYWNoIiwiZiIsInRoaXNBcmciLCJhbnkiLCJhcnIiLCJuZXN0ZWRNYXAiLCJjb2xsZWN0aW9uIiwibGV2ZWwiLCJmaWx0ZXIiLCJ2IiwiciIsIm5vbkVtcHR5IiwibmVzdGVkUmVkdWNlIiwiZ3JwIiwiZXh0ZW5kIiwicmVzdCIsIl9pIiwidW5pb24iLCJhcnIxIiwiYXJyMiIsImZpbmQiLCJ5IiwiZ2VuIiwiZ2V0T3B0IiwiY3JlYXRlIiwicG93ZXJzZXQiLCJsaXN0IiwicHMiLCJjaG9vc2VLb3JMZXNzIiwic3Vic2V0Iiwic3ViIiwiY2hvb3NlSyIsImtBcnJheSIsImNyb3NzIiwicmF3RXF1YWwiLCJhcnJheURpZmYiLCJmaW5kSW5kZXgiLCJ1bmlvbk9iamVjdEFycmF5Iiwib2JqMSIsIm9iajIiLCJpc0RhdGUiLCJOdW1iZXIiLCJwcm9wczEiLCJwcm9wczIiLCJwcm9wIiwiZ2V0TW9udGgiLCJwYXJ0aXRpb24iLCJOX3AiLCJuZXdBcnIiLCJyZXN1bHRzIiwicHQiLCJuZXdQdCIsImN1cnJQdCIsIm5ld1AiLCJwZXJtdXRhdGUiLCJhbmNob3IiLCJ3b3JraW5nQXJyIiwiaW50ZXJzZWN0aW9uIiwidW5pcXVlIiwibWFwcyIsImN1cnIiLCJuZWlnaGJvcnMiLCJzcGVjIiwiYWRkaXRpb25hbEZpZWxkcyIsImFkZGl0aW9uYWxDaGFubmVscyIsImltcG9ydGVkRW5jb2RpbmdFZGl0T3BzIiwiZW5jb2RpbmdFZGl0T3BzIiwiZGVmIiwiREVGQVVMVF9FTkNPRElOR19FRElUX09QUyIsImluQ2hhbm5lbHMiLCJ1dGlsIiwiZW5jb2RpbmciLCJleENoYW5uZWxzIiwiY2hhbm5lbCIsIm5ld05laWdoYm9yIiwiZWRpdE9wVHlwZSIsImVkaXRPcCIsIm5ld0FkZGl0aW9uYWxGaWVsZHMiLCJuZXdBZGRpdGlvbmFsQ2hhbm5lbHMiLCJkZXRhaWwiLCJhbm90aGVyQ2hhbm5lbCIsInRlbXBDaGFubmVsIiwiZXhDaGFubmVsIiwibmV3TmVpZ2hib3JDaGFubmVscyIsImNoSW5kZXgiLCJzYW1lRW5jb2RpbmciLCJhS2V5cyIsImJLZXlzIiwiYWxsS2V5cyIsIlRZUEVTIiwiQ0hBTk5FTFMiLCJPUFMiLCJMT0dJQ19PUFMiLCJERUZBVUxUX0VESVRfT1BTIiwidHJhbnNpdGlvbiIsImltcG9ydGVkVHJhbnNpdGlvbkNvc3RzIiwidHJhbnNPcHRpb25zIiwiaW1wb3J0ZWRNYXJrRWRpdE9wcyIsIm1hcmtFZGl0T3BzIiwiaW1wb3J0ZWRUcmFuc2Zvcm1FZGl0T3BzIiwidHJhbnNmb3JtRWRpdE9wcyIsIl90cmFuc2Zvcm1FZGl0T3BzIiwidHJhbnMiLCJtYXJrIiwiZW8iLCJ0cmFuc2Zvcm0iLCJyZSIsIm1vdmVFZGl0T3BzIiwibW92ZUVkaXRPcCIsInNDaGFubmVsIiwiYmVmb3JlIiwiZENoYW5uZWwiLCJhZnRlciIsInJlbW92ZWQiLCJkdCIsImhvdyIsImFkZGVkIiwiY29zdCIsInByZXYiLCJhZ2dFZGl0T3AiLCJiaW5FZGl0T3AiLCJlZGl0T3BzIiwibmV3RWRpdE9wIiwic01hcmtUeXBlIiwiZE1hcmtUeXBlIiwiZWRpdE9wTmFtZSIsImNvbnNvbGUiLCJUUkFOU0ZPUk1fVFlQRVMiLCJ0cmFuc2Zvcm1UeXBlIiwidHJhbnNmb3JtU2V0dHlwZSIsInNjYWxlRWRpdE9wcyIsInRyYW5zZm9ybUJhc2ljIiwiZm91bmQiLCJpbXBvcnRlZEZpbHRlckVkaXRPcHMiLCJmaWx0ZXJFZGl0T3BzIiwic0hhcyIsImRIYXMiLCJzRWRpdE9wIiwiZEVkaXRPcCIsInNjYWxlVHJhbnNmb3JtRWRpdE9wcyIsInNPbmx5SGFzRG9tYWluUmVsYXRlZCIsImRPbmx5SGFzRG9tYWluUmVsYXRlZCIsInNTY2FsZURlZiIsImRTY2FsZURlZiIsInNjYWxlIiwib21pdEluY2x1ZGVSYXdEb21haW4iLCJzYW1lRG9tYWluIiwiZmllbGRUeXBlIiwiZnJvbSIsImRWaWV3Iiwic1ZpZXciLCJ2ZWdhIiwiVmlldyIsInZsIiwicmVuZGVyZXIiLCJydW5Bc3luYyIsInNTY2FsZSIsIl9ydW50aW1lIiwic2NhbGVzIiwiZFNjYWxlIiwic0ZpbHRlcnMiLCJkRmlsdGVycyIsImdldEZpbHRlcnMiLCJ0cnNmbSIsImRPbmx5Iiwic09ubHkiLCJpc0ZpbmQiLCJvcCIsIndoYXQiLCJmaWx0ZXJFeHByZXNzaW9uIiwiZmlsdGVycyIsImV4cHJlc3Npb24iLCJwYXJzZVByZWRpY2F0ZUZpbHRlciIsImQzIiwiZ3JvdXBzIiwiZ3JvdXAiLCJwYXJzZWQiLCJzdHJpbmdGaWx0ZXIiLCJsb2dpY09wIiwic3ViUGFyc2VkIiwiZXhwcmVzc2lvblRyZWUiLCJiaW5hcnlFeHByc0Zyb21FeHByVHJlZSIsImJFeHByIiwidHJlZSIsImRlcHRoIiwibmIiLCJzQ2hhbm5lbHMiLCJzRmllbGRzIiwiZENoYW5uZWxzIiwiZEZpZWxkcyIsInUiLCJuZWFyZXN0Tm9kZSIsIm5vZGVzIiwibWluRCIsIkluZmluaXR5IiwiYXJnTWluRCIsImRpc3RhbmNlIiwibmVpZ2hib3IiLCJkb25lTm9kZXMiLCJjZWlsaW5nIiwiYWx0ZXJuYXRpbmdDb3N0IiwibmV3Tm9kZXMiLCJuZXdOb2RlIiwiVFNQIiwibWF0cml4IiwiZml4Rmlyc3QiLCJoZWFkIiwic2VxdWVuY2VzIiwiZW51bVNlcXVlbmNlcyIsImFyclRlbXAiLCJzZXEiLCJzZXF1ZW5jZSIsImVsZW0iLCJtaW5EaXN0YW5jZSIsImFsbCIsInNjb3JlU2ltcGxlIiwiY292ZXJhZ2UiLCJwYXR0ZXJuTGVuZ3RoIiwid19jIiwid19sIiwiUGF0dGVybk9wdGltaXplciIsImlucHV0QXJyYXkiLCJ1bmlxVHJhbnNpdGlvblNldHMiLCJPcHRpbWl6ZWQiLCJtYXhTY29yZSIsImwiLCJhcHBlYXIiLCJpc1NhbWVTdWIiLCJvdmVybGFwIiwibmV3UGF0dGVybiIsImR1cCIsIlJQY292ZXJhZ2UiLCJycCIsInBhdHRlcm5TY29yZSIsIlBhdHRlcm5sZW5ndGgiLCJpMSIsImYxIiwiaTIiLCJmMiIsIlRpZUJyZWFrZXIiLCJ0cmFuc2l0aW9uU2V0c0Zyb21FbXB0eVZpcyIsImZpbHRlclN0YXRlIiwiZmlsdGVyU2NvcmUiLCJmaWx0ZXJTZXF1ZW5jZUNvc3QiLCJjaGFydHMiLCJzY29yZSIsInNwZWNzIiwiZWRpdE9wU2V0IiwiY2FsbGJhY2siLCJkaXN0YW5jZVdpdGhQYXR0ZXJuIiwiZGlzdCIsImdsb2JhbFdlaWdodGluZ1Rlcm0iLCJmaWx0ZXJDb3N0IiwiZ2V0VHJhbnNpdGlvblNldHNGcm9tU3BlYyIsInN0YXJ0aW5nU3BlYyIsInRyYW5zaXRpb25zIiwiZ2V0VHJhbnNpdGlvblNldHMiLCJleHRlbmRUcmFuc2l0aW9uU2V0cyIsIlRTUFJlc3VsdCIsIlRTUFJlc3VsdEFsbCIsInNlcVdpdGhEaXN0IiwidHNwUiIsInRyYW5zaXRpb25TZXQiLCJQT1Jlc3VsdCIsIlBPIiwidW5pcSIsInRiUmVzdWx0IiwidGIiLCJ0aWVicmVha0Nvc3QiLCJmaWx0ZXJTZXF1ZW5jZUNvc3RSZWFzb25zIiwicmVhc29ucyIsInNlcXVlbmNlQ29zdCIsInN1bU9mVHJhbnNpdGlvbkNvc3RzIiwibWluU2VxdWVuY2VDb3N0IiwiaXNPcHRpbXVtIiwicmV0dXJuVmFsdWUiLCJvbWl0SW5jbHVkZVJhd0RvbWluIiwiZmxhdENvc3RzIiwidHJhbnNpdGlvblNldFNIIiwidHJhbnNpdGlvblNob3J0aGFuZCIsInRyIiwic2hvcnRoYW5kIiwidW5pcXVlQ29zdHMiLCJTZXQiLCJ2YWwiLCJyYW5rIiwic2NhbGVPcmRpbmFsIiwicmFuZ2UiLCJhcHBseSIsInNTcGVjIiwiZVNwZWMiLCJjaGVja0FwcGx5aW5nRWRpdE9wcyIsInJlc3VsdFNwZWMiLCJhcHBseU1hcmtFZGl0T3AiLCJhcHBseVRyYW5zZm9ybUVkaXRPcCIsImFwcGx5RW5jb2RpbmdFZGl0T3AiLCJjaGVja1NwZWMiLCJ0YXJnZXRTcGVjIiwiZGV0YWlscyIsInRmbSIsImZpZWxkRGVmIiwiVW5hcHBsaWNhYmxlRWRpdE9QRXJyb3IiLCJ0ZW1wIiwibGciLCJsb2dnZXIiLCJ3YXJuaW5ncyIsIndhcm4iLCJoYXNBZ2dyZWdhdGUiLCJhZ2dyZWdhdGUiLCJoYXNOb0FnZ09uUUZpZWxkIiwiSW52YWxpZFZMU3BlY0Vycm9yIiwiVW5hcHBsaWNhYmxlRWRpdE9wc0Vycm9yIiwiY29uc3RydWN0b3IiLCJpbmZvIiwiZW51bWVyYXRlIiwic1ZMU3BlYyIsImVWTFNwZWMiLCJ0cmFuc00iLCJ3aXRoRXhjbHVkZWQiLCJDYW5ub3RFbnVtU3RhZ2VzTW9yZVRoYW5UcmFuc2l0aW9ucyIsImVkaXRPcFBhcnRpdGlvbnMiLCJvcmRlcmVkRWRpdE9wUGFydGl0aW9ucyIsIm9yZGVyZWQiLCJleGNsdWRlZFBhdGhzIiwiZWRpdE9wUGFydGl0aW9uIiwiY3VyclNwZWMiLCJ2YWxpZCIsImludmFsaWRTcGVjIiwibWVyZ2VkU2NhbGVEb21haW4iLCJnZXRNZXJnZWRTY2FsZSIsImFwcGx5TWVyZ2VkU2NhbGUiLCJ2bFNwZWMiLCJjdXJyRWRpdE9wcyIsInNvcnRFZGl0T3AiLCJ6ZXJvIiwidmlld3MiLCJQcm9taXNlIiwiY29tbW9uRW5jb2RpbmciLCJydW50aW1lU2NhbGUiLCJkb21haW5zIiwidmlldyIsImFjY0RvbWFpbiIsIm1lcmdlZFNjYWxlRG9tYWlucyIsInZsVHlwZSIsIm1lcmdlZCIsInByZXZDaGFydCIsImN1cnJDaGFydCIsImVkaXRPcHNOIiwiYmluIiwiRklMVEVSIiwicG9zaXRpb24iLCJSVUxFUyIsIkhFVVJJU1RJQ19SVUxFUyIsImV2YWx1YXRlIiwic2F0aXNmaWVkUnVsZXMiLCJmaW5kUnVsZXMiLCJydWxlIiwicnVsZXMiLCJfcnVsZSIsInJ1bGVFZGl0T3AiLCJlZGl0T3BQYXJ0IiwibmV3Rm91bmRFZGl0T3BzIiwiZmluZEVkaXRPcHMiLCJmb3VuZEVkaXRPcHMiLCJwb3NpdGlvbnMiLCJjdXJyUG9zaXRpb25zIiwibWFwcGVkRm91bmRFZGl0T3BzIiwiZm9sbG93ZWQiLCJmb2xsb3dpbmciLCJnZXRUcmFuc2l0aW9uIiwidmFsaWRhdGVJbnB1dCIsImVudW1BbmRFdmFsIiwiZXZhbCIsImlzVmFsaWRWTFNwZWMiLCJsYXllciIsImhjb25jYXQiLCJ2Y29uY2F0IiwiJHNjaGVtYSIsImdzLnBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsTUFBTSxTQUFTLENBQUM7RUFDZCxXQUFXLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUU7SUFDbkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQztJQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQztJQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUNmLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0dBQ3hCOztFQUVELEdBQUcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRTtJQUM1QixJQUFJLE9BQU8sT0FBTyxLQUFLLFFBQVEsSUFBSSxPQUFPLFNBQVMsS0FBSyxRQUFRLEVBQUU7TUFDaEUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDYixTQUFTO1FBQ1QsT0FBTztR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QztDQUNiOztBQUVELFNBQVMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFO0VBQy9CLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQzs7RUFFYixJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssZUFBZSxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssWUFBWSxFQUFFO0lBQ2pFLE9BQU8sQ0FBQyxDQUFDO0dBQ1Y7O0VBRUQsUUFBUSxLQUFLLENBQUMsS0FBSztJQUNqQixLQUFLLElBQUk7TUFDUCxJQUFJLEdBQUcsQ0FBQyxDQUFDO01BQ1QsTUFBTTs7SUFFUixLQUFLLElBQUk7TUFDUCxJQUFJLEdBQUcsQ0FBQyxDQUFDO01BQ1QsTUFBTTs7SUFFUixLQUFLLEdBQUc7TUFDTixJQUFJLEdBQUcsQ0FBQyxDQUFDO01BQ1QsTUFBTTs7SUFFUixLQUFLLEdBQUc7TUFDTixJQUFJLEdBQUcsQ0FBQyxDQUFDO01BQ1QsTUFBTTs7SUFFUixLQUFLLEdBQUc7TUFDTixJQUFJLEdBQUcsQ0FBQyxDQUFDO01BQ1QsTUFBTTs7SUFFUixLQUFLLElBQUksQ0FBQztJQUNWLEtBQUssSUFBSSxDQUFDO0lBQ1YsS0FBSyxLQUFLLENBQUM7SUFDWCxLQUFLLEtBQUs7TUFDUixJQUFJLEdBQUcsQ0FBQyxDQUFDO01BQ1QsTUFBTTs7SUFFUixLQUFLLEdBQUcsQ0FBQztJQUNULEtBQUssR0FBRyxDQUFDO0lBQ1QsS0FBSyxJQUFJLENBQUM7SUFDVixLQUFLLElBQUksQ0FBQztJQUNWLEtBQUssWUFBWSxDQUFDO0lBQ2xCLEtBQUssSUFBSTtNQUNQLElBQUksR0FBRyxDQUFDLENBQUM7TUFDVCxNQUFNOztJQUVSLEtBQUssSUFBSSxDQUFDO0lBQ1YsS0FBSyxJQUFJLENBQUM7SUFDVixLQUFLLEtBQUs7TUFDUixJQUFJLEdBQUcsQ0FBQyxDQUFDO01BQ1QsTUFBTTs7SUFFUixLQUFLLEdBQUcsQ0FBQztJQUNULEtBQUssR0FBRztNQUNOLElBQUksR0FBRyxDQUFDLENBQUM7TUFDVCxNQUFNOztJQUVSLEtBQUssR0FBRyxDQUFDO0lBQ1QsS0FBSyxHQUFHLENBQUM7SUFDVCxLQUFLLEdBQUc7TUFDTixJQUFJLEdBQUcsRUFBRSxDQUFDO01BQ1YsTUFBTTtBQUNaLEFBR0EsR0FBRzs7RUFFRCxPQUFPLElBQUksQ0FBQztDQUNiOzs7Ozs7Ozs7O0FBVUQsU0FBUyxxQkFBcUIsR0FBRztFQUMvQixJQUFJLE1BQU0sRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQzs7RUFFeEUsTUFBTSxHQUFHLFNBQVMsQ0FBQztFQUNuQixJQUFJLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQzs7RUFFOUIsS0FBSyxHQUFHLFNBQVMsQ0FBQztFQUNsQixJQUFJLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDL0IsSUFBSSxJQUFJLEtBQUssQ0FBQyxFQUFFO0lBQ2QsT0FBTyxJQUFJLENBQUM7R0FDYjtFQUNELEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0VBQ2xCLEdBQUcsRUFBRSxDQUFDOztFQUVOLE9BQU8sR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztFQUM5QixLQUFLLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQzs7RUFFL0IsS0FBSyxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQzs7RUFFN0IsT0FBTyxDQUFDLElBQUksR0FBRyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUU7OztJQUcvQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLE1BQU0sSUFBSSxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFO01BQ25FLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7TUFDcEIsUUFBUSxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7TUFDN0IsSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztNQUNuQixPQUFPLENBQUMsR0FBRyxFQUFFLENBQUM7TUFDZCxJQUFJLEdBQUcsc0JBQXNCLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztNQUNyRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xCOzs7SUFHRCxLQUFLLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDZCxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xCLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDeEIsSUFBSSxHQUFHLG9CQUFvQixFQUFFLENBQUM7SUFDOUIsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUNsQjs7O0VBR0QsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0VBQ3JCLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDaEIsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO0VBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ1osT0FBTyxDQUFDLEdBQUcsR0FBRTtJQUNiLElBQUksR0FBRyxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3RFLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDUjs7RUFFRCxPQUFPLElBQUksQ0FBQztDQUNiOzs7O0FBSUQsU0FBUywwQkFBMEIsR0FBRztFQUNwQyxJQUFJLElBQUksRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUFDOztFQUVoQyxJQUFJLEdBQUcscUJBQXFCLEVBQUUsQ0FBQzs7RUFFL0IsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDZCxHQUFHLEVBQUUsQ0FBQztJQUNOLFVBQVUsR0FBRywwQkFBMEIsRUFBRSxDQUFDO0lBQzFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNaLFNBQVMsR0FBRywwQkFBMEIsRUFBRSxDQUFDOztJQUV6QyxJQUFJLEdBQUcsMkJBQTJCLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRSxTQUFTLENBQUMsQ0FBQztHQUNqRTs7RUFFRCxPQUFPLElBQUksQ0FBQztDQUNiOzs7O0FBSUQsU0FBUyxlQUFlLEdBQUc7RUFDekIsSUFBSSxJQUFJLEdBQUcsMEJBQTBCLEVBQUUsQ0FBQzs7RUFFeEMsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0dBQzNCOztFQUVELE9BQU8sSUFBSSxDQUFDO0NBQ2I7O0FBRUQsQUFBZSxjQUFRLENBQUMsSUFBSSxFQUFFO0VBQzVCLE1BQU0sR0FBRyxJQUFJLENBQUM7RUFDZCxLQUFLLEdBQUcsQ0FBQyxDQUFDO0VBQ1YsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7RUFDdkIsU0FBUyxHQUFHLElBQUksQ0FBQzs7RUFFakIsSUFBSSxFQUFFLENBQUM7O0VBRVAsSUFBSSxJQUFJLEdBQUcsZUFBZSxFQUFFLENBQUM7O0VBRTdCLElBQUksU0FBUyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7SUFDL0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0dBQ3JEO0VBQ0QsT0FBTyxJQUFJLENBQUM7Q0FDYjs7QUM1OUNELGdCQUFlO0VBQ2IsR0FBRyxRQUFRLEtBQUs7RUFDaEIsQ0FBQyxVQUFVLFFBQVE7RUFDbkIsR0FBRyxRQUFRLFVBQVU7RUFDckIsSUFBSSxPQUFPLFdBQVc7RUFDdEIsS0FBSyxNQUFNLFlBQVk7RUFDdkIsTUFBTSxLQUFLLGFBQWE7RUFDeEIsRUFBRSxTQUFTLFNBQVM7RUFDcEIsT0FBTyxJQUFJLGNBQWM7RUFDekIsS0FBSyxNQUFNLFlBQVk7RUFDdkIsU0FBUyxFQUFFLGtCQUFrQjtFQUM3QixTQUFTLEVBQUUsa0JBQWtCO0NBQzlCLENBQUM7O0FDWmEsaUJBQVEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtFQUN4QyxFQUFFLENBQUMsTUFBTSxHQUFHLE1BQU0sSUFBSSxFQUFFLENBQUM7RUFDekIsRUFBRSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7RUFDaEIsT0FBTyxFQUFFLENBQUM7Q0FDWDs7QUNKYyxjQUFRLENBQUMsT0FBTyxFQUFFO0VBQy9CLE1BQU0sS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0NBQ3RCOztBQ0FjLHdCQUFRLENBQUMsQ0FBQyxFQUFFO0VBQ3pCLElBQUksSUFBSSxHQUFHLEVBQUU7TUFDVCxDQUFDLEdBQUcsSUFBSTtNQUNSLENBQUMsR0FBRyxDQUFDO01BQ0wsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNO01BQ1osQ0FBQyxHQUFHLEVBQUU7TUFDTixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7RUFFWixDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQzs7RUFFWCxTQUFTLElBQUksR0FBRztJQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNQLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0dBQ1g7O0VBRUQsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO0lBQ3BCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDVCxJQUFJLENBQUMsS0FBSyxJQUFJLEVBQUU7TUFDZCxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7TUFDdkIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztNQUMzQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ1AsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7TUFDbEIsSUFBSSxFQUFFLENBQUM7TUFDUCxDQUFDLEdBQUcsSUFBSSxDQUFDO01BQ1QsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQ1IsTUFBTSxJQUFJLENBQUMsRUFBRTtNQUNaLFNBQVM7S0FDVixNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO01BQy9CLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO01BQ1YsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNQLE1BQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7TUFDL0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7TUFDVixDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ1AsTUFBTSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUU7TUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ1QsSUFBSSxFQUFFLENBQUM7T0FDUixNQUFNO1FBQ0wsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDWDtLQUNGLE1BQU0sSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO01BQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQztNQUNsQixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDZixNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtNQUNwQixJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxvQ0FBb0MsR0FBRyxDQUFDLENBQUMsQ0FBQztNQUN4RCxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUM7TUFDbEIsQ0FBQyxHQUFHLENBQUMsQ0FBQztNQUNOLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ1g7R0FDRjs7RUFFRCxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsdUNBQXVDLEdBQUcsQ0FBQyxDQUFDLENBQUM7RUFDMUQsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLHFDQUFxQyxHQUFHLENBQUMsQ0FBQyxDQUFDOztFQUV4RCxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDVCxDQUFDLEVBQUUsQ0FBQztJQUNKLElBQUksRUFBRSxDQUFDO0dBQ1I7O0VBRUQsT0FBTyxJQUFJLENBQUM7Q0FDYjs7QUM5REQsY0FBZSxLQUFLLENBQUMsT0FBTyxDQUFDOztBQ0FkLGlCQUFRLENBQUMsQ0FBQyxFQUFFO0VBQ3pCLE9BQU8sQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUN4Qjs7QUNGYyxpQkFBUSxDQUFDLENBQUMsRUFBRTtFQUN6QixPQUFPLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQztDQUM5Qjs7QUNFYyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7RUFDM0IsT0FBTyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRztNQUNwQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQzs7O01BRzFCLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQztNQUMxRSxDQUFDLENBQUM7Q0FDUDs7QUNQYyxjQUFRLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRTtFQUNuQyxJQUFJLElBQUksR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDO01BQzdCLElBQUksR0FBRyxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQ0UsQ0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQzs7RUFFakUsT0FBTyxRQUFRO0lBQ2IsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUM7SUFDbkIsRUFBRSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssRUFBRTtJQUM3QyxJQUFJLElBQUksS0FBSztHQUNkLENBQUM7Q0FDSDs7QUNWRCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7O0FBRWYsQUFBTyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRTVCLEFBQU8sSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQzs7QUFFN0UsQUFBTyxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7O0FBRXBFLEFBQU8sSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDOztBQUVsRSxBQUFPLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxXQUFXLEVBQUUsT0FBTyxJQUFJLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQzs7QUFFekUsQUFBTyxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFLE9BQU8sS0FBSyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7O0FDZjNELG1CQUFRLENBQUMsQ0FBQyxFQUFFO0VBQ3pCLE9BQU8sT0FBTyxDQUFDLEtBQUssVUFBVSxDQUFDO0NBQ2hDOztBQ0ZELE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDOztBQUU1QyxBQUFlLHVCQUFRLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRTtFQUN4QyxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0NBQ25DOztBQ0pjLGNBQVEsQ0FBQyxDQUFDLEVBQUU7RUFDekIsS0FBSyxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7RUFDekQsT0FBTyxDQUFDLENBQUM7Q0FDVjs7QUNEYyxrQkFBUSxDQUFDLE9BQU8sRUFBRTs7RUFFL0IsU0FBUyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0lBQ3RDLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixJQUFJLElBQUksRUFBRTtNQUNSLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7TUFDN0IsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO0tBQzlEO0lBQ0QsT0FBTyxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQztNQUNuRCxJQUFJO01BQ0osR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztHQUNyRDs7RUFFRCxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtJQUM1QixPQUFPLFNBQVMsSUFBSSxFQUFFO01BQ3BCLE9BQU8sTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ3ZDLENBQUM7R0FDSDs7RUFFRCxJQUFJLElBQUksR0FBRyxVQUFVO01BQ2pCLE1BQU0sR0FBRyxRQUFRO01BQ2pCLE1BQU0sR0FBRyxRQUFRLENBQUM7O0VBRXRCLE9BQU87O0lBRUwsS0FBSyxLQUFLLGNBQWM7SUFDeEIsUUFBUSxFQUFFLGlCQUFpQjtJQUMzQixHQUFHLE9BQU8sVUFBVTtJQUNwQixJQUFJLE1BQU0sV0FBVztJQUNyQixJQUFJLE1BQU0sV0FBVztJQUNyQixJQUFJLE1BQU0sV0FBVztJQUNyQixLQUFLLEtBQUssWUFBWTtJQUN0QixJQUFJLE1BQU0sV0FBVztJQUNyQixHQUFHLE9BQU8sVUFBVTtJQUNwQixHQUFHLE9BQU8sVUFBVTtJQUNwQixLQUFLLEtBQUssWUFBWTtJQUN0QixHQUFHLE9BQU8sVUFBVTtJQUNwQixHQUFHLE9BQU8sVUFBVTtJQUNwQixHQUFHLE9BQU8sVUFBVTtJQUNwQixHQUFHLE9BQU8sVUFBVTtJQUNwQixNQUFNLElBQUksYUFBYTtJQUN2QixLQUFLLEtBQUssWUFBWTtJQUN0QixHQUFHLE9BQU8sVUFBVTtJQUNwQixJQUFJLE1BQU0sV0FBVztJQUNyQixHQUFHLE9BQU8sVUFBVTs7SUFFcEIsS0FBSyxFQUFFLFNBQVMsSUFBSSxFQUFFO01BQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7TUFDbkUsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztNQUNwRSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO01BQzFCLE9BQU8sV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0tBQzFEOzs7SUFHRCxHQUFHLGNBQWMsVUFBVTtJQUMzQixHQUFHLGNBQWMsVUFBVTtJQUMzQixRQUFRLFNBQVMsSUFBSTtJQUNyQixJQUFJLGFBQWEsRUFBRSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLEdBQUcsY0FBYyxFQUFFLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdEMsSUFBSSxhQUFhLEVBQUUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMzQyxLQUFLLFlBQVksRUFBRSxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3hDLEtBQUssWUFBWSxFQUFFLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDeEMsT0FBTyxVQUFVLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMxQyxPQUFPLFVBQVUsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzFDLFlBQVksS0FBSyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMvQyxJQUFJLGFBQWEsRUFBRSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLGNBQWMsR0FBRyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUNqRCxPQUFPLFVBQVUsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzFDLE1BQU0sV0FBVyxFQUFFLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDekMsT0FBTyxVQUFVLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzlDLFFBQVEsU0FBUyxFQUFFLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDM0MsUUFBUSxTQUFTLEVBQUUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMzQyxVQUFVLE9BQU8sRUFBRSxDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzdDLFVBQVUsT0FBTyxFQUFFLENBQUMsZUFBZSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDN0MsZUFBZSxFQUFFLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDOzs7SUFHbEQsTUFBTSxPQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25DLElBQUksU0FBUyxFQUFFLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQztJQUM3QixPQUFPLE1BQU0sRUFBRSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUM7SUFDaEMsV0FBVyxFQUFFLEVBQUUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDO0lBQ3BDLEtBQUssUUFBUSxFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQzs7SUFFOUIsT0FBTyxFQUFFLFNBQVMsSUFBSSxFQUFFO01BQ3RCLE9BQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQztLQUNuRDs7O0lBR0QsVUFBVSxHQUFHLFlBQVk7SUFDekIsUUFBUSxLQUFLLFVBQVU7SUFDdkIsS0FBSyxRQUFRLEVBQUUsQ0FBQyxhQUFhLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUN6QyxLQUFLLFFBQVEsRUFBRSxDQUFDLGFBQWEsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ3pDLFNBQVMsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQztJQUNwQyxLQUFLLFFBQVEsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7SUFDaEMsT0FBTyxNQUFNLEVBQUUsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDO0lBQ2xDLElBQUksU0FBUyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7OztJQUdsQyxNQUFNLEdBQUcsTUFBTTtJQUNmLElBQUksS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQzs7O0lBRzNCLEVBQUUsRUFBRSxTQUFTLElBQUksRUFBRTtRQUNmLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLG1DQUFtQyxDQUFDLENBQUM7UUFDaEUsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsb0NBQW9DLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFCLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO09BQ3ZDO0dBQ0osQ0FBQztDQUNIOztBQzNHRCxTQUFTLFdBQVcsQ0FBQyxDQUFDLEVBQUU7RUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0VBQzFCLE9BQU8sQ0FBQztNQUNKLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRztPQUN4QixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7S0FDN0IsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUMxQjs7QUFFRCxBQUFlLGtCQUFRLENBQUMsR0FBRyxFQUFFO0VBQzNCLEdBQUcsR0FBRyxHQUFHLElBQUksRUFBRSxDQUFDOztFQUVoQixJQUFJLFNBQVMsR0FBRyxHQUFHLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtNQUNyRCxTQUFTLEdBQUcsR0FBRyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7TUFDckQsU0FBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTLElBQUksU0FBUztNQUN0QyxTQUFTLEdBQUcsQ0FBQyxHQUFHLENBQUMsU0FBUyxJQUFJLFNBQVMsRUFBRSxLQUFLLENBQUM7TUFDL0MsU0FBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTO01BQ3pCLFFBQVEsR0FBRyxHQUFHLENBQUMsUUFBUTtNQUN2QixPQUFPLEdBQUcsRUFBRTtNQUNaLE1BQU0sR0FBRyxFQUFFO01BQ1gsV0FBVyxHQUFHLENBQUMsQ0FBQzs7RUFFcEIsSUFBSSxZQUFZLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQztNQUNwQyxTQUFTO01BQ1QsVUFBVSxFQUFFLEVBQUUsRUFBRSxPQUFPLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7O0VBRTNELFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRTtJQUNsQixJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLEdBQUcsQ0FBQztJQUM5QixJQUFJLFNBQVMsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JDLElBQUksU0FBUyxJQUFJLElBQUksRUFBRSxLQUFLLENBQUMsb0JBQW9CLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlELE9BQU8sU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0dBQ3ZCOztFQUVELElBQUksVUFBVSxHQUFHO0lBQ2YsT0FBTyxFQUFFLFNBQVMsQ0FBQyxFQUFFO1FBQ2pCLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQztPQUNkOztJQUVILFVBQVUsRUFBRSxTQUFTLENBQUMsRUFBRTtNQUN0QixJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO01BQ2hCLElBQUksV0FBVyxHQUFHLENBQUMsRUFBRTtRQUNuQixPQUFPLEVBQUUsQ0FBQztPQUNYLE1BQU0sSUFBSSxjQUFjLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3hDLE9BQU8sS0FBSyxDQUFDLHNCQUFzQixHQUFHLEVBQUUsQ0FBQyxDQUFDO09BQzNDLE1BQU0sSUFBSSxjQUFjLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3hDLE9BQU8sU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO09BQ3RCLE1BQU0sSUFBSSxjQUFjLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3hDLE9BQU8sRUFBRSxDQUFDO09BQ1gsTUFBTTtRQUNMLE9BQU8sQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDaEIsT0FBTyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7T0FDekI7S0FDRjs7SUFFRCxnQkFBZ0IsRUFBRSxTQUFTLENBQUMsRUFBRTtRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDcEIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsRUFBRSxXQUFXLElBQUksQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssUUFBUSxFQUFFOztVQUVsQixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzVCO1FBQ0QsSUFBSSxDQUFDLEVBQUUsV0FBVyxJQUFJLENBQUMsQ0FBQztRQUN4QixPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO09BQ3BDOztJQUVILGNBQWMsRUFBRSxTQUFTLENBQUMsRUFBRTtRQUN4QixJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLFlBQVksRUFBRTtVQUNsQyxLQUFLLENBQUMsdUJBQXVCLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNoRDtRQUNELElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQzNCLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDdkIsSUFBSSxFQUFFLEdBQUcsY0FBYyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsSUFBSSxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMseUJBQXlCLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDbkQsT0FBTyxVQUFVLENBQUMsRUFBRSxDQUFDO1lBQ2pCLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFDUixFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztPQUNoRDs7SUFFSCxlQUFlLEVBQUUsU0FBUyxDQUFDLEVBQUU7UUFDekIsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztPQUNwRDs7SUFFSCxnQkFBZ0IsRUFBRSxTQUFTLENBQUMsRUFBRTtRQUMxQixPQUFPLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUM7T0FDaEU7O0lBRUgsZUFBZSxFQUFFLFNBQVMsQ0FBQyxFQUFFO1FBQ3pCLE9BQU8sR0FBRyxHQUFHLENBQUMsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxHQUFHLENBQUM7T0FDbkQ7O0lBRUgscUJBQXFCLEVBQUUsU0FBUyxDQUFDLEVBQUU7UUFDL0IsT0FBTyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7VUFDeEIsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO1VBQ3pCLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztVQUN4QixHQUFHLENBQUM7T0FDUDs7SUFFSCxpQkFBaUIsRUFBRSxTQUFTLENBQUMsRUFBRTtRQUMzQixPQUFPLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUM7T0FDaEU7O0lBRUgsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLEVBQUU7UUFDMUIsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztPQUN0RDs7SUFFSCxRQUFRLEVBQUUsU0FBUyxDQUFDLEVBQUU7UUFDbEIsV0FBVyxJQUFJLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JCLFdBQVcsSUFBSSxDQUFDLENBQUM7UUFDakIsT0FBTyxDQUFDLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7T0FDakM7R0FDSixDQUFDOztFQUVGLFNBQVMsT0FBTyxDQUFDLEdBQUcsRUFBRTtJQUNwQixJQUFJLE1BQU0sR0FBRztNQUNYLElBQUksS0FBSyxLQUFLLENBQUMsR0FBRyxDQUFDO01BQ25CLE9BQU8sRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztNQUM3QixNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7S0FDN0IsQ0FBQztJQUNGLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDYixNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ1osT0FBTyxNQUFNLENBQUM7R0FDZjs7RUFFRCxPQUFPLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztFQUM5QixPQUFPLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQzs7RUFFOUIsT0FBTyxPQUFPLENBQUM7Q0FDaEI7O0FDcklELE1BQU0sV0FBVyxHQUFHO0VBQ2xCLElBQUksRUFBRSxNQUFNO0VBQ1osSUFBSSxFQUFFLFlBQVk7RUFDbEIsUUFBUSxFQUFFLEVBQUU7RUFDWixPQUFPLEVBQUUsQ0FBQztFQUNWLFFBQVEsRUFBRSxZQUFZO0NBQ3ZCLENBQUM7O0FBRUYsQUFBTyxNQUFNLGVBQWUsR0FBRztFQUM3QixJQUFJLEVBQUUsRUFBRTtFQUNSLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7RUFDcEIsUUFBUSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtFQUN4QixLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFO0VBQ3JCLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7RUFDcEIsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtFQUNwQixNQUFNLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFO0VBQ3RCLE1BQU0sRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRTtFQUM3QyxJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUU7O0VBRWxDLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRTtFQUN4QyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUU7RUFDekMsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTtFQUNwQixJQUFJLEVBQUUsV0FBVztFQUNqQixLQUFLLEVBQUUsV0FBVztDQUNuQixDQUFDOztBQ3hCSyxNQUFNLFlBQVksR0FBRztFQUMxQixJQUFJLEVBQUUsT0FBTztFQUNiLElBQUksRUFBRSxPQUFPO0VBQ2IsSUFBSSxFQUFFLE9BQU87RUFDYixNQUFNLEVBQUUsT0FBTztFQUNmLElBQUksRUFBRSxPQUFPO0NBQ2Q7O0FDTkQ7Ozs7OztBQU1BLE1BQU0sV0FBVyxHQUFHLFlBQVk7RUFDOUIsaUJBQWlCLEdBQUcsRUFBRTtFQUN0QixrQkFBa0IsR0FBRyxDQUFDO0VBQ3RCLFlBQVksR0FBRyxTQUFTO0VBQ3hCLEtBQUssR0FBRyxNQUFNO0VBQ2QsSUFBSSxHQUFHLE1BQU07RUFDYixTQUFTLEdBQUcsTUFBTSxDQUFDO0FBQ3JCLEFBQU8sTUFBTSxVQUFVLEdBQUc7O0VBRXhCLFdBQVcsRUFBRSxvQkFBb0I7OztFQUdqQyxPQUFPLEVBQUUsQ0FBQzs7OztFQUlWLFFBQVEsRUFBRSxLQUFLOzs7O0VBSWYsVUFBVSxFQUFFLElBQUk7Ozs7RUFJaEIsTUFBTSxFQUFFO0lBQ04sUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDN0I7Ozs7O0VBS0QsS0FBSyxFQUFFLElBQUk7Ozs7RUFJWCxJQUFJLEVBQUUsSUFBSTtFQUNWLEdBQUcsRUFBRSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUU7RUFDM0IsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRTtFQUM1QixLQUFLLEVBQUUsSUFBSTtFQUNYLElBQUksRUFBRTtJQUNKLE1BQU0sRUFBRSxZQUFZO0lBQ3BCLFdBQVcsRUFBRSxrQkFBa0I7R0FDaEM7RUFDRCxJQUFJLEVBQUUsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFO0VBQzlCLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUU7RUFDNUIsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRTtFQUN2QixLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFO0VBQy9CLE1BQU0sRUFBRTtJQUNOLElBQUksRUFBRSxZQUFZO0lBQ2xCLElBQUksRUFBRSxFQUFFO0dBQ1Q7RUFDRCxJQUFJLEVBQUU7SUFDSixJQUFJLEVBQUUsS0FBSztJQUNYLElBQUksRUFBRSxXQUFXO0lBQ2pCLFFBQVEsRUFBRSxFQUFFO0dBQ2I7RUFDRCxLQUFLLEVBQUU7SUFDTCxJQUFJLEVBQUUsWUFBWTtJQUNsQixJQUFJLEVBQUUsa0JBQWtCO0dBQ3pCOzs7RUFHRCxLQUFLLEVBQUU7O0lBRUwsYUFBYSxFQUFFO01BQ2IsSUFBSSxFQUFFLEtBQUs7TUFDWCxJQUFJLEVBQUUsV0FBVztNQUNqQixRQUFRLEVBQUUsRUFBRTtLQUNiOztJQUVELGFBQWEsRUFBRTtNQUNiLElBQUksRUFBRSxLQUFLO01BQ1gsSUFBSSxFQUFFLFdBQVc7TUFDakIsUUFBUSxFQUFFLEVBQUU7TUFDWixVQUFVLEVBQUUsTUFBTTtLQUNuQjs7SUFFRCxhQUFhLEVBQUU7TUFDYixJQUFJLEVBQUUsS0FBSztNQUNYLElBQUksRUFBRSxXQUFXO01BQ2pCLFFBQVEsRUFBRSxFQUFFO01BQ1osVUFBVSxFQUFFLE1BQU07S0FDbkI7O0lBRUQsZ0JBQWdCLEVBQUU7TUFDaEIsSUFBSSxFQUFFLEtBQUs7TUFDWCxJQUFJLEVBQUUsV0FBVztNQUNqQixRQUFRLEVBQUUsRUFBRTtLQUNiOztJQUVELEtBQUssRUFBRTtNQUNMLElBQUksRUFBRSxpQkFBaUI7TUFDdkIsV0FBVyxFQUFFLGtCQUFrQjtNQUMvQixLQUFLLEVBQUUsUUFBUTtLQUNoQjtJQUNELE1BQU0sRUFBRTtNQUNOLElBQUksRUFBRSxpQkFBaUI7TUFDdkIsV0FBVyxFQUFFLGtCQUFrQjtLQUNoQztJQUNELE1BQU0sRUFBRTtNQUNOLElBQUksRUFBRSxpQkFBaUI7TUFDdkIsV0FBVyxFQUFFLGtCQUFrQjtNQUMvQixLQUFLLEVBQUUsUUFBUTtLQUNoQjs7SUFFRCxJQUFJLEVBQUU7TUFDSixJQUFJLEVBQUUsYUFBYTtNQUNuQixNQUFNLEVBQUUsU0FBUztLQUNsQjtHQUNGOzs7RUFHRCxLQUFLLEVBQUU7SUFDTCxNQUFNLEVBQUUsS0FBSztJQUNiLE1BQU0sRUFBRSxRQUFRO0lBQ2hCLE1BQU0sRUFBRSxDQUFDO0lBQ1QsZUFBZSxFQUFFLENBQUM7R0FDbkI7OztFQUdELElBQUksRUFBRTtJQUNKLFNBQVMsRUFBRSxDQUFDO0lBQ1osU0FBUyxFQUFFLEdBQUc7SUFDZCxZQUFZLEVBQUUsR0FBRztJQUNqQixNQUFNLEVBQUUsSUFBSTtJQUNaLFdBQVcsRUFBRSxDQUFDO0lBQ2QsV0FBVyxFQUFFLElBQUk7SUFDakIsSUFBSSxFQUFFLEtBQUs7SUFDWCxTQUFTLEVBQUUsQ0FBQztJQUNaLFNBQVMsRUFBRSxTQUFTO0lBQ3BCLE1BQU0sRUFBRSxJQUFJO0lBQ1osVUFBVSxFQUFFLENBQUM7SUFDYixVQUFVLEVBQUUsR0FBRztJQUNmLFdBQVcsRUFBRSxDQUFDO0lBQ2QsWUFBWSxFQUFFLENBQUM7SUFDZixLQUFLLEVBQUUsSUFBSTtJQUNYLFNBQVMsRUFBRSxJQUFJO0lBQ2YsVUFBVSxFQUFFLENBQUM7SUFDYixTQUFTLEVBQUUsSUFBSTtJQUNmLFFBQVEsRUFBRSxDQUFDO0lBQ1gsU0FBUyxFQUFFLENBQUM7SUFDWixZQUFZLEVBQUUsQ0FBQztHQUNoQjs7O0VBR0QsUUFBUSxFQUFFO0lBQ1IsVUFBVSxFQUFFLENBQUMsR0FBRztHQUNqQjs7O0VBR0QsVUFBVSxFQUFFO0lBQ1YsSUFBSSxFQUFFLFVBQVU7R0FDakI7OztFQUdELE1BQU0sRUFBRTtJQUNOLE1BQU0sRUFBRSxPQUFPO0lBQ2YsT0FBTyxFQUFFLENBQUM7SUFDVixTQUFTLEVBQUUsTUFBTTtJQUNqQixhQUFhLEVBQUUsRUFBRTtJQUNqQixVQUFVLEVBQUUsQ0FBQztJQUNiLGVBQWUsRUFBRSxVQUFVO0lBQzNCLGlCQUFpQixFQUFFLFVBQVU7SUFDN0IsY0FBYyxFQUFFLEdBQUc7SUFDbkIsaUJBQWlCLEVBQUUsRUFBRTtJQUNyQixtQkFBbUIsRUFBRSxTQUFTO0lBQzlCLG1CQUFtQixFQUFFLENBQUM7SUFDdEIsbUJBQW1CLEVBQUUsQ0FBQztJQUN0QixVQUFVLEVBQUUsTUFBTTtJQUNsQixhQUFhLEVBQUUsUUFBUTtJQUN2QixVQUFVLEVBQUUsR0FBRztJQUNmLFdBQVcsRUFBRSxDQUFDO0lBQ2QsWUFBWSxFQUFFLElBQUk7SUFDbEIsV0FBVyxFQUFFLEVBQUU7SUFDZixVQUFVLEVBQUUsUUFBUTtJQUNwQixVQUFVLEVBQUUsR0FBRztJQUNmLFlBQVksRUFBRSxDQUFDO0lBQ2YsaUJBQWlCLEVBQUUsR0FBRztJQUN0QixtQkFBbUIsRUFBRSxhQUFhO0lBQ2xDLHFCQUFxQixFQUFFLElBQUk7SUFDM0IsVUFBVSxFQUFFLEdBQUc7SUFDZixXQUFXLEVBQUUsS0FBSztJQUNsQixZQUFZLEVBQUUsQ0FBQztJQUNmLE1BQU0sRUFBRTtNQUNOLE1BQU0sRUFBRSxFQUFFO01BQ1YsU0FBUyxFQUFFLFlBQVk7TUFDdkIsSUFBSSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRTtNQUNqQyxLQUFLLEdBQUcsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFO0tBQ2xDO0dBQ0Y7OztFQUdELEtBQUssRUFBRTtJQUNMLFFBQVEsRUFBRTtNQUNSLE1BQU0sRUFBRSxXQUFXO0tBQ3BCO0lBQ0QsT0FBTyxFQUFFO01BQ1AsTUFBTSxFQUFFLE9BQU87S0FDaEI7SUFDRCxPQUFPLEVBQUU7TUFDUCxNQUFNLEVBQUUsaUJBQWlCO0tBQzFCO0lBQ0QsSUFBSSxFQUFFO01BQ0osTUFBTSxFQUFFLE9BQU87S0FDaEI7SUFDRCxTQUFTLEVBQUU7TUFDVCxNQUFNLEVBQUUsWUFBWTtNQUNwQixNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ2Y7SUFDRCxNQUFNLEVBQUU7TUFDTixRQUFRO01BQ1IsUUFBUTtNQUNSLGFBQWE7TUFDYixPQUFPO01BQ1AsU0FBUztNQUNULGdCQUFnQjtNQUNoQixlQUFlO01BQ2YsZUFBZTtLQUNoQjtHQUNGO0NBQ0YsQ0FBQzs7QUNsT0ssU0FBUyxRQUFRLENBQUMsR0FBRyxFQUFFO0VBQzVCLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLEVBQUUsR0FBRyxLQUFLO0lBQzlDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztJQUNsQyxPQUFPLE1BQU0sQ0FBQztHQUNmLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDUjs7QUNITSxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNO0VBQy9ELENBQUMsTUFBTSxFQUFFLEdBQUcsS0FBSztJQUNmLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzlDLE9BQU8sTUFBTSxDQUFDO0dBQ2Y7RUFDRCxFQUFFO0NBQ0gsQ0FBQzs7QUNORixNQUFNLFlBQVksR0FBRztFQUNuQixLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7RUFDaEMsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO0VBQy9CLE1BQU0sRUFBRSxHQUFHO0NBQ1osQ0FBQzs7O0FBR0YsU0FBUyxXQUFXLENBQUMsSUFBSSxFQUFFO0VBQ3pCLElBQUksQ0FBQyxJQUFJLEVBQUU7SUFDVCxPQUFPLEVBQUUsQ0FBQztHQUNYO0VBQ0QsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztFQUMxQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssT0FBTyxFQUFFO0lBQ3JELE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7R0FDNUQ7RUFDRCxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO0NBQzVEO0FBQ0QsU0FBUyxhQUFhLENBQUMsSUFBSSxFQUFFO0VBQzNCLElBQUksUUFBUSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQztFQUN0RCxJQUFJLFdBQVcsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixHQUFHLFNBQVMsQ0FBQztFQUM1RCxRQUFRLEdBQUcsUUFBUSxJQUFJQyxVQUFRLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztFQUN0RCxXQUFXLEdBQUcsV0FBVyxJQUFJQSxVQUFRLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDOztFQUUvRCxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLFlBQVksRUFBRTtJQUMzQyxPQUFPO01BQ0wsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFLElBQUksRUFBRSxRQUFRLEVBQUU7TUFDL0MsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSxRQUFRLEVBQUU7TUFDakQsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtNQUNmLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUU7S0FDL0IsQ0FBQztHQUNIO0VBQ0QsT0FBTztJQUNMLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFO0lBQy9DLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFO0lBQ2pELENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7SUFDZixLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFO0dBQzlCLENBQUM7Q0FDSDs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxJQUFJLEVBQUU7RUFDNUIsTUFBTSxPQUFPLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFNBQVMsS0FBSyxVQUFVLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDO0VBQ3JGLE1BQU0sVUFBVSxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7O0VBRXRFLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7SUFDMUIsT0FBTztNQUNMLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLEdBQUcsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxFQUFFLE1BQU0sRUFBRUEsVUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUU7TUFDakcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLFVBQVUsR0FBRyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUM7S0FDeEUsQ0FBQztHQUNILE1BQU07SUFDTCxJQUFJLFFBQVEsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7SUFDdEQsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBR0EsVUFBUSxDQUFDLE1BQU0sQ0FBQyxjQUFjLEdBQUcsUUFBUSxDQUFDO0lBQ3ZFLElBQUksV0FBVyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsU0FBUyxDQUFDO0lBQzVELFdBQVcsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUdBLFVBQVEsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEdBQUcsV0FBVyxDQUFDO0lBQ25GLElBQUksYUFBYSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsU0FBUyxDQUFDO0lBQ2hFLGFBQWEsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUdBLFVBQVEsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLEdBQUcsYUFBYSxDQUFDOztJQUUzRixJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFO01BQ2pDLE9BQU87UUFDTCxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUFHO1FBQ2hCLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxDQUFDLG1DQUFtQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUNoRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsV0FBVyxHQUFHLGFBQWEsRUFBRTtPQUMzQyxDQUFDO0tBQ0g7SUFDRCxPQUFPO01BQ0wsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsZ0NBQWdDLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFO01BQzdELENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUc7TUFDaEIsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLFdBQVcsR0FBRyxhQUFhLEVBQUU7S0FDM0MsQ0FBQztHQUNIOztDQUVGOzs7QUFHRCxTQUFTLFFBQVEsQ0FBQyxNQUFNLEVBQUU7RUFDeEIsSUFBSSxNQUFNLEtBQUssS0FBSyxFQUFFO0lBQ3BCLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQzVELENBQUMsSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFO0lBQ3pCLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztHQUMzRCxDQUFDLElBQUksTUFBTSxLQUFLLE9BQU8sRUFBRTtJQUN4QixPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7R0FDNUQ7RUFDRCxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs7Q0FFN0Q7QUFDRCxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7RUFDMUIsSUFBSSxNQUFNLEtBQUssTUFBTSxFQUFFO0lBQ3JCLE9BQU8sR0FBRyxDQUFDO0dBQ1o7RUFDRCxJQUFJLE1BQU0sS0FBSyxPQUFPLEVBQUU7SUFDdEIsT0FBTyxFQUFFLENBQUM7R0FDWDtFQUNELE9BQU8sQ0FBQyxDQUFDO0NBQ1Y7QUFDRCxTQUFTLFFBQVEsQ0FBQyxNQUFNLEVBQUU7RUFDeEIsSUFBSSxNQUFNLEtBQUssS0FBSyxFQUFFO0lBQ3BCLE9BQU8sUUFBUSxDQUFDO0dBQ2pCO0VBQ0QsSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFO0lBQ3ZCLE9BQU8sS0FBSyxDQUFDO0dBQ2Q7RUFDRCxPQUFPLFFBQVEsQ0FBQztDQUNqQjtBQUNELFNBQVMsVUFBVSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUU7RUFDaEMsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFO0lBQ2pCLElBQUksTUFBTSxLQUFLLE9BQU8sRUFBRTtNQUN0QixPQUFPQSxVQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztLQUMvQjtJQUNELElBQUksTUFBTSxLQUFLLE1BQU0sRUFBRTtNQUNyQixPQUFPLENBQUNBLFVBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0tBQ2hDO0dBQ0YsTUFBTSxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7SUFDeEIsSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFO01BQ3ZCLE9BQU9BLFVBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0tBQy9CO0lBQ0QsSUFBSSxNQUFNLEtBQUssS0FBSyxFQUFFO01BQ3BCLE9BQU8sQ0FBQ0EsVUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7S0FDaEM7R0FDRjtFQUNELE9BQU8sQ0FBQyxDQUFDO0NBQ1Y7O0FBRUQsU0FBUyxjQUFjLENBQUMsSUFBSSxFQUFFO0VBQzVCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7SUFDM0IsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0dBQ3hCOztFQUVELElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssT0FBTyxFQUFFO0lBQ25DLE9BQU8sTUFBTSxDQUFDO0dBQ2Y7RUFDRCxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sRUFBRTtJQUNsQyxPQUFPLE9BQU8sQ0FBQztHQUNoQjtFQUNELE9BQU8sUUFBUSxDQUFDO0NBQ2pCOztBQUVELFNBQVMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFO0VBQzlCLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7SUFDM0IsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0dBQ3hCOztFQUVELElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssT0FBTyxFQUFFO0lBQ25DLE9BQU8sTUFBTSxDQUFDO0dBQ2Y7RUFDRCxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sRUFBRTtJQUNsQyxPQUFPLE9BQU8sQ0FBQztHQUNoQjtFQUNELE9BQU8sUUFBUSxDQUFDO0NBQ2pCOztBQUVELFNBQVMsVUFBVSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUU7RUFDckMsSUFBSSxNQUFNLEtBQUssS0FBSyxJQUFJLE1BQU0sS0FBSyxRQUFRLEVBQUU7SUFDM0MsSUFBSSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO01BQzdDLE9BQU8sR0FBRyxDQUFDO0tBQ1o7R0FDRjtFQUNELE9BQU8sQ0FBQyxDQUFDO0NBQ1Y7QUFDRCxTQUFTLFlBQVksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFO0VBQ2hDLE1BQU0sTUFBTSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztFQUM5QyxNQUFNLFNBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEtBQUssS0FBSztRQUNqQ0MsUUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUTtTQUN0RSxDQUFDO09BQ0hBLFFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDOzs7RUFHMUYsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFO0lBQ2pCLElBQUksTUFBTSxLQUFLLE9BQU8sRUFBRTtNQUN0QixPQUFPLFNBQVMsQ0FBQztLQUNsQjtJQUNELElBQUksTUFBTSxLQUFLLE1BQU0sRUFBRTtNQUNyQixPQUFPLENBQUMsU0FBUyxDQUFDO0tBQ25CO0dBQ0YsTUFBTSxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7SUFDeEIsSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFO01BQ3ZCLE9BQU8sU0FBUyxDQUFDO0tBQ2xCO0lBQ0QsSUFBSSxNQUFNLEtBQUssS0FBSyxFQUFFO01BQ3BCLE9BQU8sRUFBRSxTQUFTLENBQUM7S0FDcEI7R0FDRjtFQUNELE9BQU8sQ0FBQyxDQUFDO0NBQ1Y7O0FBRUQsU0FBUyxVQUFVLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQztFQUNwQyxJQUFJLE1BQU0sS0FBSyxRQUFRLElBQUksTUFBTSxLQUFLLEtBQUssRUFBRTtJQUMzQyxJQUFJLENBQUMsU0FBUyxDQUFDO01BQ2IsT0FBTztRQUNMLEVBQUUsRUFBRSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDYixFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO09BQ2YsQ0FBQztLQUNIO0lBQ0QsT0FBTzs7O01BR0wsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7TUFDaEMsQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztNQUNiLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7S0FDZixDQUFDOztHQUVIOztFQUVELElBQUksTUFBTSxLQUFLLE9BQU8sSUFBSSxNQUFNLEtBQUssTUFBTSxFQUFFO0lBQzNDLElBQUksQ0FBQyxTQUFTLENBQUM7TUFDYixPQUFPO1FBQ0wsRUFBRSxFQUFFLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQztRQUNyQixDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ2IsRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztPQUNmLENBQUM7S0FDSDtJQUNELE9BQU87TUFDTCxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDO01BQ3JCLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7TUFDYixFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0tBQ2YsQ0FBQzs7R0FFSDs7Q0FFRjs7QUFFRCxTQUFTLFlBQVksQ0FBQyxNQUFNLEVBQUU7RUFDNUIsSUFBSSxNQUFNLEtBQUssUUFBUSxJQUFJLE1BQU0sS0FBSyxLQUFLLEVBQUU7SUFDM0MsT0FBTztNQUNMLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7TUFDaEIsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRTtNQUN2QixDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO01BQ2YsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtLQUNoQixDQUFDO0dBQ0g7RUFDRCxJQUFJLE1BQU0sS0FBSyxPQUFPLElBQUksTUFBTSxLQUFLLE1BQU0sRUFBRTtJQUMzQyxPQUFPO01BQ0wsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFO01BQ2pDLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7TUFDaEIsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtNQUNmLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7S0FDaEIsQ0FBQztHQUNIO0VBQ0QsT0FBTztJQUNMLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7SUFDaEIsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtHQUNqQixDQUFDO0NBQ0g7O0FDaFBELE1BQU0scUJBQXFCLEdBQUc7RUFDNUIsTUFBTTtFQUNOLFNBQVM7RUFDVCxPQUFPO0VBQ1AsTUFBTTtFQUNOLFFBQVE7RUFDUixZQUFZO0VBQ1osYUFBYTtDQUNkLENBQUM7O0FBRUYsQUFBTyxNQUFNLHFCQUFxQixHQUFHOztFQUVuQyxLQUFLLEVBQUUsTUFBTTtJQUNYLE1BQU0sa0JBQWtCLEdBQUc7TUFDekIsUUFBUSxFQUFFLEVBQUUsS0FBSyxFQUFFRCxVQUFRLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLFFBQVEsRUFBRTtNQUMzRCxVQUFVLEVBQUUsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO0tBQzlCLENBQUM7O0lBRUYsT0FBTztNQUNMLE1BQU0sRUFBRSxrQkFBa0I7TUFDMUIsS0FBSyxFQUFFLENBQUMsR0FBRyxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7TUFDbkQsSUFBSSxFQUFFLENBQUMsR0FBRyxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDbkQsQ0FBQztHQUNIO0VBQ0QsTUFBTSxFQUFFLElBQUksSUFBSTtJQUNkLElBQUksQ0FBQyxJQUFJLEVBQUU7TUFDVCxPQUFPLElBQUksQ0FBQ0UsWUFBZSxDQUFDLENBQUM7S0FDOUI7O0lBRUQsSUFBSSxhQUFhLEdBQUc7TUFDbEIsR0FBR0MsY0FBaUIsQ0FBQyxJQUFJLENBQUM7TUFDMUIsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtNQUN4QixRQUFRLEVBQUUsRUFBRSxLQUFLLEVBQUVILFVBQVEsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsUUFBUSxFQUFFO01BQzNELEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRUksZ0JBQW1CLENBQUMsSUFBSSxDQUFDLEVBQUU7TUFDM0MsUUFBUSxFQUFFO1FBQ1IsS0FBSyxFQUFFLElBQUksQ0FBQyxRQUFRLElBQUlDLFFBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO09BQ2pEO01BQ0QsS0FBSyxFQUFFO1FBQ0wsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLElBQUlDLFVBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUM7T0FDckU7S0FDRixDQUFDOzs7SUFHRixPQUFPO01BQ0wsS0FBSyxFQUFFLENBQUMsR0FBRyxhQUFhLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO01BQ2pELElBQUksRUFBRSxDQUFDLEdBQUcsYUFBYSxFQUFFLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUNoRCxNQUFNLEVBQUUsYUFBYTtLQUN0QixDQUFDO0dBQ0g7RUFDRCxPQUFPLEVBQUUsSUFBSSxJQUFJO0lBQ2YsTUFBTSxPQUFPLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFNBQVMsS0FBSyxVQUFVLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDO0lBQ3JGLE1BQU0sVUFBVSxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDdEUsTUFBTSxhQUFhLEdBQUc7TUFDcEIsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLFVBQVUsR0FBRyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUM7TUFDdkUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLE9BQU8sR0FBRyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUU7TUFDL0csS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFTixVQUFRLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRTtNQUM1QyxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUVBLFVBQVEsQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFO01BQzNDLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRUEsVUFBUSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRTtLQUMxRCxDQUFDOztJQUVGLElBQUksSUFBSSxFQUFFO01BQ1IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7UUFDZCxhQUFhLENBQUMsTUFBTSxHQUFHO1VBQ3JCLEtBQUssRUFBRUEsVUFBUSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUI7U0FDN0MsQ0FBQztRQUNGLGFBQWEsQ0FBQyxJQUFJLEdBQUc7VUFDbkIsS0FBSyxFQUFFQSxVQUFRLENBQUMsTUFBTSxDQUFDLG1CQUFtQjtTQUMzQyxDQUFDO09BQ0g7O01BRUQscUJBQXFCLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSTtRQUN2QyxJQUFJLE9BQU8sS0FBSyxPQUFPLEVBQUU7VUFDdkIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNyRDtRQUNELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1VBQ2pCLGFBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDO1NBQ25FO09BQ0YsQ0FBQyxDQUFDO0tBQ0o7O0lBRUQsT0FBTztNQUNMLE1BQU0sRUFBRSxhQUFhO01BQ3JCLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxhQUFhLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztNQUNsRSxJQUFJLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsYUFBYSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7S0FDbEUsQ0FBQztHQUNIO0VBQ0QsUUFBUSxFQUFFLElBQUksSUFBSTtJQUNoQixJQUFJLENBQUMsSUFBSSxFQUFFO01BQ1QsT0FBTyxJQUFJLENBQUNFLFlBQWUsQ0FBQyxDQUFDO0tBQzlCOztJQUVELElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxjQUFjO01BQ2hDO1FBQ0UsTUFBTSxFQUFFLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVSxHQUFHLFFBQVEsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFRixVQUFRLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7T0FDOUc7TUFDRCxXQUFXLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixJQUFJQSxVQUFRLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDO0lBQzVFLElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO01BQ2hDLFFBQVEsRUFBRTtRQUNSLE1BQU0sRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxLQUFLLFVBQVUsR0FBRyxRQUFRLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO09BQ3hGLENBQUM7S0FDSDtJQUNELE1BQU0sYUFBYSxHQUFHO01BQ3BCLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7TUFDZixDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO01BQ2YsS0FBSztRQUNILElBQUksQ0FBQyxTQUFTLEtBQUssVUFBVTtZQUN6QixFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUU7WUFDdEIsUUFBUTtNQUNkLE1BQU07UUFDSixJQUFJLENBQUMsU0FBUyxLQUFLLFVBQVU7WUFDekIsUUFBUTtZQUNSLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRTtLQUM3QixDQUFDOztJQUVGLE9BQU87TUFDTCxNQUFNLEVBQUUsYUFBYTtNQUNyQixLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsYUFBYSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7TUFDbEUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO0tBQ2xFLENBQUM7R0FDSDtFQUNELE9BQU8sRUFBRSxNQUFNO0lBQ2IsT0FBTyxJQUFJLENBQUNFLFlBQWUsQ0FBQyxDQUFDO0dBQzlCO0VBQ0QsTUFBTSxFQUFFLE1BQU07SUFDWixPQUFPLElBQUksQ0FBQ0EsWUFBZSxDQUFDLENBQUM7R0FDOUI7RUFDRCxLQUFLLEVBQUUsSUFBSSxJQUFJO0lBQ2IsSUFBSSxhQUFhLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsa0JBQWtCLEVBQUUsRUFBRSxDQUFDO0lBQzFELElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssWUFBWSxFQUFFO01BQzNDLGFBQWEsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxFQUFFLENBQUM7S0FDdkQ7O0lBRUQsT0FBTztNQUNMLE1BQU0sRUFBRSxhQUFhO01BQ3JCLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxhQUFhLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztNQUNsRSxJQUFJLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsYUFBYSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7S0FDbEUsQ0FBQztHQUNIO0VBQ0QsS0FBSyxFQUFFLElBQUksSUFBSTtJQUNiLElBQUksYUFBYSxHQUFHO01BQ2xCLEdBQUdLLGFBQWdCLENBQUMsSUFBSSxDQUFDO01BQ3pCLElBQUksRUFBRTtRQUNKLEtBQUssRUFBRVAsVUFBUSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUI7T0FDM0M7S0FDRixDQUFDO0lBQ0YsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7TUFDdEMsYUFBYSxDQUFDLElBQUksR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDO0tBQzFFOztJQUVELE9BQU87TUFDTCxNQUFNLEVBQUUsYUFBYTtNQUNyQixLQUFLLEVBQUU7UUFDTCxHQUFHLGFBQWE7UUFDaEIsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtPQUN0QjtNQUNELElBQUksRUFBRTtRQUNKLEdBQUcsYUFBYTtRQUNoQixPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO09BQ3RCO0tBQ0YsQ0FBQztHQUNIO0NBQ0Y7O0VBQUMsRkNsS0ssTUFBTSxtQkFBbUIsR0FBRztFQUNqQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7RUFDaEMsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO0VBQy9CLElBQUksRUFBRTtJQUNKLE1BQU0sRUFBRTtNQUNOLEdBQUcsUUFBUSxDQUFDQSxVQUFRLENBQUMsSUFBSSxDQUFDO01BQzFCLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7S0FDeEI7R0FDRjtFQUNELElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUNBLFVBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUN2QyxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDQSxVQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDekMsTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQ0EsVUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHO0VBQzlDLElBQUksRUFBRSxLQUFLLE1BQU0sRUFBRSxRQUFRLENBQUNBLFVBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtFQUM1QyxJQUFJLEVBQUUsS0FBSyxNQUFNLEVBQUUsUUFBUSxDQUFDQSxVQUFRLENBQUMsSUFBSSxDQUFDLEdBQUc7RUFDN0MsSUFBSSxFQUFFLEtBQUssTUFBTSxFQUFFLFFBQVEsQ0FBQ0EsVUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHO0NBQzlDOztFQUFDLEZDWkssTUFBTSxtQkFBbUIsR0FBRztFQUNqQyxJQUFJLEVBQUUsTUFBTTtJQUNWLE9BQU8sSUFBSSxDQUFDRSxZQUFlLENBQUMsQ0FBQztHQUM5QjtFQUNELE1BQU0sRUFBRSxJQUFJLElBQUk7SUFDZCxJQUFJLENBQUMsSUFBSSxFQUFFO01BQ1QsT0FBTyxJQUFJLENBQUNBLFlBQWUsQ0FBQyxDQUFDO0tBQzlCOztJQUVELE1BQU0sTUFBTSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztJQUM5QyxNQUFNLFNBQVMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7O0lBRXBELE1BQU0sYUFBYSxHQUFHO01BQ3BCLEdBQUdNLFdBQWMsQ0FBQyxJQUFJLENBQUM7TUFDdkIsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtNQUN4QixRQUFRLEVBQUU7UUFDUixLQUFLLEVBQUUsSUFBSSxJQUFJLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsR0FBR1IsVUFBUSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxRQUFRO09BQ2hHO01BQ0QsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFUyxZQUFlLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFO01BQzFDLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRUEsWUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRTtNQUMxQyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUVDLGNBQWlCLENBQUMsSUFBSSxDQUFDLEVBQUU7TUFDekMsUUFBUSxFQUFFO1FBQ1IsS0FBSyxFQUFFLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUdMLFFBQVcsQ0FBQyxNQUFNLENBQUM7T0FDbkU7TUFDRCxLQUFLLEVBQUU7UUFDTCxLQUFLO1VBQ0gsSUFBSSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO2NBQzdCLElBQUksQ0FBQyxVQUFVO2NBQ2ZDLFVBQWEsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDO09BQ3ZDO0tBQ0YsQ0FBQzs7SUFFRixPQUFPO01BQ0wsS0FBSyxFQUFFLEVBQUUsR0FBRyxhQUFhLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO01BQ2xELElBQUksRUFBRSxFQUFFLEdBQUcsYUFBYSxFQUFFLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUNqRCxNQUFNLEVBQUUsYUFBYTtLQUN0QixDQUFDO0dBQ0g7RUFDRCxLQUFLLEVBQUUsSUFBSSxJQUFJO0lBQ2IsSUFBSSxDQUFDLElBQUksRUFBRTtNQUNULE9BQU8sSUFBSSxDQUFDSixZQUFlLENBQUMsQ0FBQztLQUM5Qjs7SUFFRCxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7SUFDOUMsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUVNLFdBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRTtNQUM1RCxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUVHLFVBQWEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLEVBQUU7TUFDMUMsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFQSxVQUFhLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxFQUFFO01BQzFDLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRVgsVUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7TUFDL0MsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFQSxVQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtLQUMzQyxDQUFDLENBQUM7SUFDSCxPQUFPO01BQ0wsS0FBSyxFQUFFLEVBQUUsR0FBRyxhQUFhLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO01BQ2xELElBQUksRUFBRSxFQUFFLEdBQUcsYUFBYSxFQUFFLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUNqRCxNQUFNLEVBQUUsYUFBYTtLQUN0QixDQUFDO0dBQ0g7RUFDRCxJQUFJLEVBQUUsSUFBSSxJQUFJOztJQUVaLE1BQU0sTUFBTSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztJQUM5QyxNQUFNLFNBQVMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7SUFDcEQsSUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDLE1BQU07TUFDL0IsRUFBRTtNQUNGUSxXQUFjLENBQUMsSUFBSSxDQUFDO01BQ3BCSSxVQUFhLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQztNQUNoQztRQUNFLFdBQVcsRUFBRSxFQUFFLEtBQUssRUFBRVosVUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDL0MsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFQSxVQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtPQUMzQztLQUNGLENBQUM7SUFDRixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO01BQ3pCLGFBQWEsQ0FBQyxlQUFlLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNwRTs7SUFFRCxPQUFPO01BQ0wsS0FBSyxFQUFFLEVBQUUsR0FBRyxhQUFhLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO01BQ2xELElBQUksRUFBRSxFQUFFLEdBQUcsYUFBYSxFQUFFLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUNqRCxNQUFNLEVBQUUsYUFBYTtLQUN0QixDQUFDO0dBQ0g7RUFDRCxLQUFLLEVBQUUsSUFBSSxJQUFJOzs7SUFHYixNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7SUFDOUMsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLE1BQU07TUFDakM7UUFDRSxRQUFRLEVBQUUsRUFBRSxLQUFLLEVBQUVLLFFBQVcsQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUN4QyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFO1FBQzFCLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRVEsVUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ3ZDLFFBQVEsRUFBRSxFQUFFLEtBQUssRUFBRWIsVUFBUSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxRQUFRLEVBQUU7UUFDM0QsVUFBVSxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtPQUM5QjtNQUNEYyxRQUFXLENBQUMsTUFBTSxDQUFDO0tBQ3BCLENBQUM7SUFDRixPQUFPO01BQ0wsS0FBSyxFQUFFLEVBQUUsR0FBRyxhQUFhLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO01BQ2xELElBQUksRUFBRSxFQUFFLEdBQUcsYUFBYSxFQUFFLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUNqRCxNQUFNLEVBQUUsYUFBYTtLQUN0QixDQUFDO0dBQ0g7RUFDRCxNQUFNLEVBQUUsSUFBSSxJQUFJOztJQUVkLE1BQU0sYUFBYSxHQUFHO01BQ3BCLElBQUksSUFBSSxHQUFHQyxZQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQztNQUM3QyxXQUFXLEVBQUUsRUFBRSxLQUFLLEVBQUVmLFVBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFO01BQ2pELE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRUEsVUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7S0FDN0MsQ0FBQzs7SUFFRixPQUFPO01BQ0wsS0FBSyxFQUFFLEVBQUUsR0FBRyxhQUFhLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO01BQ2xELElBQUksRUFBRSxFQUFFLEdBQUcsYUFBYSxFQUFFLE9BQU8sRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUNqRCxNQUFNLEVBQUUsYUFBYTtLQUN0QixDQUFDO0dBQ0g7Q0FDRixDQUFDOztBQ2xIRjtBQUNBLEFBQU8sTUFBTSxjQUFjLEdBQUc7RUFDNUIsSUFBSSxFQUFFLG1CQUFtQjtFQUN6QixJQUFJLEVBQUUsbUJBQW1CO0VBQ3pCLE1BQU0sRUFBRSxxQkFBcUI7Q0FDOUIsQ0FBQzs7QUNURjtBQUNBLEFBTUE7QUFDQSxTQUFTLFNBQVMsQ0FBQyxVQUFVLEVBQUU7RUFDN0IsTUFBTSxJQUFJLEdBQUcsVUFBVSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUM7RUFDN0MsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNwRTs7O0FBR0QsU0FBUyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFO0VBQ3JDLElBQUksTUFBTSxDQUFDO0VBQ1gsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzNDLE1BQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtNQUNuQixPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQzNCO0lBQ0QsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFO01BQ1gsTUFBTSxHQUFHLGdCQUFnQixDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUNwQztHQUNGO0VBQ0QsT0FBTyxNQUFNLENBQUM7Q0FDZjs7QUFFRCxTQUFTLFdBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7RUFDckMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7TUFDNUIsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDO01BQy9CLFNBQVMsQ0FBQztDQUNmOztBQUVELFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0VBQ25DLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztFQUNoQixLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUk7SUFDMUIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO01BQ2QsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztLQUNwRDs7SUFFRCxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFO01BQzVDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbkI7R0FDRixDQUFDLENBQUM7RUFDSCxPQUFPLE1BQU0sQ0FBQztDQUNmO0FBQ0QsU0FBUyxTQUFTLENBQUMsU0FBUyxFQUFFO0VBQzVCLE1BQU0sR0FBRyxHQUFHLElBQUlnQixXQUFnQixFQUFFO0tBQy9CLFVBQVUsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDL0MsTUFBTSxDQUFDLFNBQVMsQ0FBQztLQUNqQixHQUFHLEVBQUUsQ0FBQztFQUNULE1BQU0sQ0FBQyxHQUFHLElBQUksU0FBUyxFQUFFLENBQUM7RUFDMUIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsZUFBZSxDQUFDLENBQUM7RUFDcEQsT0FBTyxHQUFHLENBQUMsZUFBZSxDQUFDO0NBQzVCOztBQUVELFNBQVMsY0FBYyxDQUFDLGVBQWUsRUFBRSxDQUFDLEVBQUU7RUFDMUMsTUFBTSxDQUFDLEdBQUdDLGFBQWtCLENBQUNDLFdBQWdCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDdkQsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztFQUN6QixNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDekIsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDO0VBQzFFLElBQUksZUFBZSxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7RUFDckQsSUFBSSxlQUFlLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDM0IsZUFBZSxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7R0FDbEQ7RUFDRCxlQUFlLENBQUMsSUFBSSxFQUFFLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0VBQ2hELE9BQU8sQ0FBQyxFQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDM0QsV0FBVyxDQUFDLEVBQUU7R0FDZixDQUFDLENBQUM7Q0FDSjs7O0FBR0QsU0FBUyxPQUFPLENBQUMsSUFBSSxFQUFFO0VBQ3JCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQztFQUNwQixJQUFJLE1BQU0sQ0FBQztFQUNYLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO0lBQzVCLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0dBQ3RCO0VBQ0QsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO0VBQ2hCLFFBQVEsUUFBUTtFQUNoQixLQUFLLE1BQU07SUFDVCxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztNQUNyQixFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRTtNQUM3QixFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRTtNQUNsQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRTtNQUNqQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRTtNQUM5QixFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRTtNQUNsQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRTtNQUNwQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRTtLQUMvQixDQUFDLENBQUM7SUFDSCxNQUFNO0VBQ1IsS0FBSyxPQUFPO0lBQ1YsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7TUFDckIsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUU7TUFDN0IsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUU7TUFDbEMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUU7TUFDakMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUU7TUFDOUIsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUU7TUFDbEMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxZQUFZLEVBQUU7TUFDcEMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUU7S0FDL0IsQ0FBQyxDQUFDO0lBQ0gsTUFBTTtFQUNSLEtBQUssTUFBTTtJQUNULE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO01BQ3JCLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFO01BQ2xDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO01BQzNCLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO01BQzNCLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsYUFBYSxFQUFFO01BQ3JDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO01BQ2hDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFO0tBQ2xDLENBQUMsQ0FBQztJQUNILE1BQU07RUFDUixLQUFLLE1BQU07SUFDVCxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztNQUNyQixFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRTtNQUNsQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtNQUMzQixFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtNQUMzQixFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLGFBQWEsRUFBRTtNQUNyQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRTtNQUNoQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLGlCQUFpQixFQUFFO01BQ3pDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFO0tBQ2xDLENBQUMsQ0FBQztJQUNILE1BQU07RUFDUixLQUFLLFFBQVE7SUFDWCxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztNQUNyQixFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRTtNQUNsQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtNQUMzQixFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtNQUMzQixFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLGFBQWEsRUFBRTtNQUNyQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRTtNQUNoQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRTtLQUNsQyxDQUFDLENBQUM7SUFDSCxNQUFNO0VBQ1IsS0FBSyxNQUFNO0lBQ1QsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7TUFDckIsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7TUFDL0IsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUU7TUFDbEMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUU7TUFDakMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUU7TUFDOUIsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUU7TUFDckMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUU7S0FDakMsQ0FBQyxDQUFDO0lBQ0gsTUFBTTtFQUNSLEtBQUssVUFBVTtJQUNiLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO01BQ3JCLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO01BQzFCLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFO01BQ2pDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUU7TUFDcEQsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUU7TUFDckMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUU7S0FDakMsQ0FBQyxDQUFDO0lBQ0gsTUFBTTtFQUNSLEtBQUssTUFBTTtJQUNULE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO01BQ3JCLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFO01BQ2xDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO01BQzNCLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO01BQzNCLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsYUFBYSxFQUFFO01BQ3JDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO01BQ2hDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFO0tBQ2xDLENBQUMsQ0FBQztJQUNILE1BQU07RUFDUixLQUFLLFFBQVE7SUFDWCxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztNQUNyQixFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtNQUMvQixFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRTtNQUM3QixFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRTtNQUNsQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLGFBQWEsRUFBRTtNQUNyQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRTtNQUNoQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRTtNQUNqQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRTtLQUMvQixDQUFDLENBQUM7SUFDSCxNQUFNO0VBQ1IsS0FBSyxPQUFPO0lBQ1YsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7TUFDckIsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUU7TUFDbEMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUU7S0FDbEMsQ0FBQyxDQUFDO0lBQ0gsTUFBTTtFQUNSLEtBQUssWUFBWTtJQUNmLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsTUFBTTtFQUNSLEtBQUssTUFBTTtJQUNULE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO01BQ3JCLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO01BQy9CLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsYUFBYSxFQUFFO01BQ3JDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO01BQ2hDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFO01BQ2pDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFO0tBQy9CLENBQUMsQ0FBQztJQUNILE1BQU07RUFDUixLQUFLLE9BQU8sQ0FBQztFQUNiLEtBQUssTUFBTTtJQUNULE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO01BQ3JCLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO01BQy9CLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsYUFBYSxFQUFFO01BQ3JDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO01BQ2hDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFO01BQ2pDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFO0tBQy9CLENBQUMsQ0FBQztJQUNILE1BQU07RUFDUixLQUFLLGFBQWE7SUFDaEIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3RCxNQUFNO0FBQ1YsQUFFQSxHQUFHO0VBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO0lBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSTtNQUMvQixNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU07UUFDcEIsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssT0FBTyxDQUFDLEdBQUcsQ0FBQztPQUN6RCxDQUFDO0tBQ0gsQ0FBQyxDQUFDO0dBQ0o7RUFDRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQ3JCLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJO01BQ2xCLENBQUMsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO01BQ3JCLElBQUksTUFBTSxFQUFFO1FBQ1YsTUFBTTtXQUNILE1BQU0sQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQztXQUN2RCxPQUFPLENBQUMsR0FBRyxJQUFJO1lBQ2QsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1dBQzNCLENBQUMsQ0FBQztPQUNOO0tBQ0YsQ0FBQyxDQUFDO0lBQ0gsT0FBTyxNQUFNLENBQUM7R0FDZjtFQUNELElBQUksUUFBUSxLQUFLLE9BQU8sRUFBRTtJQUN4QixPQUFPLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7R0FDaEU7RUFDRCxPQUFPLENBQUMsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7Q0FDNUQ7O0FBRUQsU0FBUyxZQUFZLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUU7RUFDaEQsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7O0VBRTNDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJO0lBQ3hCLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyRCxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7R0FDbEQsQ0FBQyxDQUFDO0VBQ0gsT0FBTyxRQUFRLENBQUM7Q0FDakI7O0FBRUQsU0FBUyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUU7RUFDL0IsT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUN0RDs7QUN2UEQsU0FBUyxlQUFlLENBQUMsUUFBUSxFQUFFO0VBQ2pDO0lBQ0UsUUFBUTtJQUNSLFFBQVEsQ0FBQyxNQUFNO0lBQ2YsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJO0lBQ3BCLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUs7SUFDMUIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUk7SUFDL0IsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUk7SUFDdEQ7SUFDQSxPQUFPLElBQUksQ0FBQztHQUNiO0VBQ0QsT0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFRCxTQUFTLFFBQVEsQ0FBQyxRQUFRLEVBQUU7RUFDMUIsT0FBTyxlQUFlLENBQUMsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztDQUMzRTs7QUFFRCxTQUFTLGtCQUFrQixDQUFDLFFBQVEsRUFBRTtFQUNwQyxPQUFPLFFBQVEsS0FBSyxNQUFNLElBQUksUUFBUSxLQUFLLE1BQU0sSUFBSSxRQUFRLEtBQUssT0FBTyxDQUFDO0NBQzNFOztBQUVELFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUU7RUFDakMsSUFBSSxNQUFNLENBQUM7RUFDWCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNyQyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkIsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLFFBQVEsRUFBRTtNQUN2QixPQUFPLENBQUMsQ0FBQztLQUNWO0lBQ0QsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFO01BQ1gsTUFBTSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO01BQ3JDLElBQUksTUFBTSxFQUFFO1FBQ1YsTUFBTTtPQUNQO0tBQ0Y7R0FDRjtFQUNELE9BQU8sTUFBTSxDQUFDO0NBQ2Y7O0FBRUQsU0FBUyxRQUFRLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtFQUNoQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDekMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7TUFDbEMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3JCO0dBQ0Y7Q0FDRjtBQUNELFNBQVMsVUFBVSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUU7RUFDOUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3pDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkIsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFO01BQ2YsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUM7TUFDaEUsSUFBSSxNQUFNLEVBQUU7UUFDVixPQUFPLE1BQU0sQ0FBQztPQUNmO0tBQ0Y7R0FDRjtDQUNGOztBQ2hERCxNQUFNLFVBQVUsQ0FBQztFQUNmLFdBQVcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtJQUNsQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQ3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0QyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO0lBQ2hDLElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztHQUN4Qjs7RUFFRCxNQUFNLElBQUksR0FBRztJQUNYLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7O0lBRXhDLE1BQU0sUUFBUSxHQUFHLHNCQUFzQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BFLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzs7O0lBRzVELEtBQUssTUFBTSxDQUFDLElBQUksUUFBUSxFQUFFO01BQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSUMsSUFBUyxDQUFDQyxPQUFVLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUN0RixRQUFRLEVBQUUsS0FBSztPQUNoQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztLQUNoQjtJQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7R0FDaEM7O0VBRUQsVUFBVSxDQUFDLE1BQU0sRUFBRTtJQUNqQixPQUFPLE1BQU0sSUFBSTtNQUNmLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7TUFDaEMsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7VUFDL0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSztVQUNsQyxTQUFTLENBQUM7S0FDZixDQUFDO0dBQ0g7O0VBRUQsT0FBTyxDQUFDLE1BQU0sRUFBRTtJQUNkLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO01BQ2xDLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7S0FDN0M7SUFDRCxNQUFNLEtBQUssQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO0dBQ3pEOztFQUVELFFBQVEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFO0lBQ25CLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO01BQ2xDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUk7UUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUU7T0FDbEMsQ0FBQztNQUNGLE9BQU8sS0FBSyxJQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7S0FDbkQ7SUFDRCxNQUFNLEtBQUssQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO0dBQ3pEOztFQUVELFFBQVEsQ0FBQyxXQUFXLEVBQUUsWUFBWSxFQUFFO0lBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0lBQy9CLElBQUksQ0FBQyxLQUFLLEdBQUcsWUFBWSxDQUFDO0lBQzFCLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7O0lBRW5FLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSTtNQUNsRCxNQUFNLElBQUksR0FBRztRQUNYLE1BQU0sRUFBRSxFQUFFO1FBQ1YsS0FBSyxFQUFFLEVBQUU7UUFDVCxJQUFJLEVBQUUsRUFBRTtPQUNULENBQUM7TUFDRixNQUFNLFdBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztNQUN0RCxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSTtRQUMzQixNQUFNLFVBQVUsR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdDLElBQUksVUFBVSxJQUFJLENBQUMsRUFBRTtVQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN4QixNQUFNO1VBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEI7T0FDRixDQUFDLENBQUM7TUFDSCxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7O01BRXhFLFlBQVksR0FBRyxXQUFXLENBQUM7O01BRTNCLE9BQU8sQ0FBQyxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sRUFBRSxHQUFHLEtBQUs7UUFDekQsT0FBTyxNQUFNLENBQUMsTUFBTTtVQUNsQixNQUFNO1VBQ04sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUs7WUFDN0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUNmLE9BQU8sR0FBRyxDQUFDO1dBQ1osRUFBRSxFQUFFLENBQUM7U0FDUCxDQUFDO09BQ0gsRUFBRSxFQUFFLENBQUMsQ0FBQztLQUNSLENBQUMsQ0FBQztJQUNILElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3BFLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxLQUFLLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7R0FDMUQ7O0VBRUQsVUFBVSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRTtJQUNwQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJO01BQ2pELENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFO0tBQ2xDLENBQUM7SUFDRixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNsQyxJQUFJLENBQUMsSUFBSSxFQUFFO01BQ1QsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0tBQ3JEO0lBQ0QsTUFBTSxTQUFTLEdBQUc7TUFDaEIsT0FBTyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO01BQ2hDLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7S0FDbkMsQ0FBQztJQUNGLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQ2xEOztFQUVELHlCQUF5QixDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFO0lBQzdDLE9BQU8sRUFBRSxJQUFJO01BQ1gsT0FBTyxDQUFDLElBQUk7UUFDVixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFFLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUk7VUFDakQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUU7U0FDbEMsQ0FBQztRQUNGLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO1VBQ3JELENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFO1NBQ2xDLENBQUM7O1FBRUYsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDbEMsUUFBUSxJQUFJO1FBQ1osS0FBSyxPQUFPO1VBQ1YsR0FBRyxHQUFHLEdBQUcsQ0FBQztVQUNWLE1BQU07UUFDUixLQUFLLE1BQU07VUFDVCxHQUFHLEdBQUcsR0FBRyxDQUFDO1VBQ1YsTUFBTTtRQUNSLEtBQUssUUFBUTtVQUNYLE1BQU07UUFDUjtVQUNFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztTQUNyRDtRQUNELE1BQU0sU0FBUyxHQUFHO1VBQ2hCLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQztVQUNoQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1NBQ25DLENBQUM7UUFDRixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssV0FBVyxFQUFFO1VBQzdCLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO1lBQy9ELENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU07V0FDOUIsQ0FBQztTQUNIO1FBQ0QsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNwRSxNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDOztRQUVsRSxPQUFPQyxXQUFjLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDOztPQUVsRSxDQUFDO0tBQ0gsQ0FBQztHQUNIO0NBQ0Y7O0FBRUQsU0FBUyxzQkFBc0IsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFO0VBQ2hELE1BQU0sZUFBZSxHQUFHLE9BQU8sQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDO0VBQzdDLElBQUksZUFBZSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksT0FBTyxDQUFDLFFBQVEsRUFBRTs7SUFFcEQsTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM5RCxNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7OztJQUc3QyxNQUFNLE9BQU8sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlELE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQzs7SUFFN0MsS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLElBQUksT0FBTyxDQUFDLFFBQVEsRUFBRTtNQUNsRCxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3pCOztJQUVELGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDNUI7RUFDRCxPQUFPLGVBQWUsQ0FBQztDQUN4Qjs7O0FBR0QsU0FBUyxjQUFjLENBQUMsV0FBVyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7RUFDakQsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDO0lBQ3hCLFNBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDO0lBQ3hDLFNBQVMsRUFBRSxRQUFRO0dBQ3BCLENBQUMsQ0FBQzs7RUFFSCxNQUFNLGFBQWEsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDOztFQUV6QyxhQUFhLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7RUFDakMsYUFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0VBQzFDLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUM7RUFDbEQsTUFBTSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUM7O0VBRTVCLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0NBQzFCOztBQzlMYyxTQUFTLGNBQWMsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRTtFQUMvRCxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUU7SUFDZCxLQUFLLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxjQUFjLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0dBQzVFLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO0lBQ3ZCLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRztNQUNqQyxjQUFjLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUM7S0FDdkMsQ0FBQzs7SUFFRixJQUFJLEtBQUssQ0FBQyxVQUFVLEVBQUU7TUFDcEIsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLElBQUk7UUFDaEMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDLFVBQVU7T0FDN0MsQ0FBQzs7TUFFRixJQUFJLFlBQVksRUFBRTtRQUNoQixNQUFNLGVBQWUsR0FBRyxzQkFBc0IsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdEUsT0FBTyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU07VUFDcEMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsS0FBSztZQUNoQixNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN0QyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSTtjQUN0QyxZQUFZLENBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQzthQUN2QyxDQUFDLENBQUM7WUFDSCxpQkFBaUIsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ2xELGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDO1lBQ3hDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsZUFBZSxDQUFDLE1BQU0sQ0FBQztZQUN4RCxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsSUFBSTtjQUMvQixDQUFDLEtBQUssZUFBZSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7O1lBRW5DLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDbkMsT0FBTyxHQUFHLENBQUM7V0FDWjtVQUNELEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRTtTQUNmLENBQUM7T0FDSDtLQUNGO0dBQ0Y7RUFDRCxPQUFPLEtBQUssQ0FBQztDQUNkOztBQUVELFNBQVMsWUFBWSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFO0VBQ3pDLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO0lBQzlCLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLElBQUk7TUFDMUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDakMsQ0FBQyxDQUFDO0dBQ0osTUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO0lBQ3hDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztHQUNqRCxNQUFNO0lBQ0wsS0FBSyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztHQUMvQzs7O0NBQ0YsREM1Q00sU0FBUzVKLE9BQUssQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDOztFQUVsQyxNQUFNLGdCQUFnQixHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM3QyxBQUlBOztFQUVFLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUN6QixPQUFPLENBQUMsUUFBUSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7Ozs7RUFJbEYsSUFBSSxtQkFBbUIsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7RUFDN0UsSUFBSSxXQUFXLEdBQUcsWUFBWSxDQUFDLG1CQUFtQixFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxBQUFNLENBQUMsQ0FBQzs7O0VBR3hFLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJO0lBQzFCLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO01BQzFELElBQUksQ0FBQyxNQUFNLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7S0FDbEU7R0FDRixDQUFDLENBQUM7O0VBRUgsSUFBSSxPQUFPLENBQUMsV0FBVyxFQUFFO0lBQ3ZCLE9BQU8sQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBVSxJQUFJO01BQzFELE9BQU8sZ0JBQWdCLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztLQUMxRCxDQUFDLENBQUM7O0lBRUgsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUs7TUFDL0IsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDMUQsSUFBSSxHQUFHLGlCQUFpQixDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7T0FDckQ7S0FDRixDQUFDLENBQUM7R0FDSjs7O0VBR0QsTUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7RUFDM0MsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLG1CQUFtQixFQUFFLFdBQVcsQ0FBQyxDQUFDOztFQUVuRSxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRzZKLEtBQWEsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7OztFQUdsRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRSxDQUFDO0NBQ3BEOzs7QUFHRCxBQUFPLFNBQVMsU0FBUyxDQUFDLEtBQUssRUFBRSxhQUFhLEVBQUUsVUFBVSxHQUFHLENBQUMsRUFBRTtFQUM5RCxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUU7SUFDZCxPQUFPLGFBQWEsQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0dBQ3hEO0VBQ0QsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO0lBQ2hCLE9BQU8sZUFBZSxDQUFDLEtBQUssRUFBRSxhQUFhLEVBQUUsVUFBVSxDQUFDLENBQUM7R0FDMUQ7RUFDRCxNQUFNLEtBQUs7SUFDVCxDQUFDLEtBQUssQ0FBQyxLQUFLO1FBQ1IsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztVQUNoQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsYUFBYTtVQUN4QyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUs7UUFDcEIsQ0FBQyxJQUFJLFVBQVUsQ0FBQzs7RUFFdEIsTUFBTSxRQUFRO0lBQ1osQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBQ2xDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxhQUFhO1FBQzNDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxJQUFJLFVBQVUsQ0FBQztFQUMxQyxNQUFNLFFBQVE7SUFDWixPQUFPLEtBQUssQ0FBQyxTQUFTLEtBQUssUUFBUTtRQUMvQixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsS0FBSyxDQUFDLFNBQVMsQ0FBQztFQUN0QixNQUFNLFFBQVE7SUFDWixPQUFPLEtBQUssQ0FBQyxTQUFTLEtBQUssUUFBUSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsU0FBUyxDQUFDOztFQUU5RSxPQUFPO0lBQ0wsUUFBUTtJQUNSLEtBQUs7SUFDTCxNQUFNLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUM1RCxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU07SUFDcEIsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVO0lBQzVCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVTtJQUM1QixRQUFRO0lBQ1IsUUFBUTtHQUNULENBQUM7Q0FDSDtBQUNELEFBQU8sU0FBUyxlQUFlLENBQUMsV0FBVyxFQUFFLGFBQWEsRUFBRSxVQUFVLEdBQUcsQ0FBQyxFQUFFO0VBQzFFLE1BQU0sWUFBWSxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUM7RUFDeEMsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO0VBQ2pCLElBQUksZ0JBQWdCLEdBQUcsRUFBRSxDQUFDOztFQUUxQixNQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBRyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7O0VBRTFFLE1BQU0sY0FBYyxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJO0lBQy9DLE1BQU0sUUFBUSxHQUFHLFNBQVMsQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFLFVBQVUsR0FBRyxPQUFPLENBQUMsQ0FBQztJQUN2RSxRQUFRLEdBQUcsUUFBUSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ3ZFLE9BQU8sUUFBUSxDQUFDO0dBQ2pCLENBQUMsQ0FBQzs7RUFFSCxJQUFJLFdBQVcsQ0FBQyxjQUFjLEVBQUU7O0lBRTlCLFdBQVcsQ0FBQyxPQUFPLEdBQUc7TUFDcEIsY0FBYyxFQUFFLFdBQVcsQ0FBQyxjQUFjO01BQzFDLFNBQVM7UUFDUCxXQUFXLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7U0FDbkMsV0FBVyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0tBQ25FLENBQUM7SUFDRixJQUFJLFVBQVUsR0FBRyx5QkFBeUI7TUFDeEMsWUFBWTtNQUNaLFdBQVcsQ0FBQyxPQUFPLENBQUMsY0FBYztLQUNuQyxDQUFDOztJQUVGLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hCLFVBQVUsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLGNBQWMsSUFBSTtNQUM1QyxPQUFPLGNBQWMsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxLQUFLLEVBQUUsYUFBYSxFQUFFLFVBQVUsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO0tBQzNGLENBQUMsQ0FBQztJQUNILGdCQUFnQixHQUFHO01BQ2pCLFNBQVMsRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFDLFNBQVM7TUFDeEMsVUFBVTtLQUNYLENBQUM7R0FDSDtFQUNELE9BQU8sTUFBTSxDQUFDLE1BQU07SUFDbEI7TUFDRSxLQUFLLEVBQUUsQ0FBQztNQUNSLFFBQVE7TUFDUixNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRTtNQUM5QixNQUFNLEVBQUUsY0FBYztNQUN0QixPQUFPLEVBQUUsV0FBVyxDQUFDLE9BQU87TUFDNUIsVUFBVSxFQUFFLFdBQVcsQ0FBQyxVQUFVO0tBQ25DO0lBQ0QsZ0JBQWdCO0dBQ2pCLENBQUM7Q0FDSDs7QUFFRCxBQUFPLFNBQVMseUJBQXlCLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRTtFQUN2RCxNQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7RUFDcEIsTUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDO0VBQ25CLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxLQUFLO0lBQ3pCLElBQUksWUFBWSxDQUFDLEdBQUcsQ0FBQyxFQUFFO01BQ3JCLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7TUFDbkIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNqQjtHQUNGLENBQUMsQ0FBQzs7RUFFSCxPQUFPLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsYUFBYSxJQUFJO0lBQzlDLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxLQUFLO01BQ3ZDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUN2QyxPQUFPLEdBQUcsQ0FBQztLQUNaLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7R0FDbEIsQ0FBQyxDQUFDOztFQUVILFNBQVMsWUFBWSxDQUFDLEtBQUssRUFBRTtJQUMzQixJQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRTtNQUM5QixPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEtBQUs7UUFDdkQsR0FBRyxHQUFHLEdBQUcsSUFBSSxZQUFZLENBQUMsR0FBRyxBQUFPLENBQUMsQ0FBQztRQUN0QyxPQUFPLEdBQUcsQ0FBQztPQUNaLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDWDtJQUNELE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pELE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQ3REO0NBQ0Y7O0FBRUQsQUFBTyxTQUFTLGFBQWEsQ0FBQyxTQUFTLEVBQUUsYUFBYSxFQUFFLFVBQVUsR0FBRyxDQUFDLEVBQUU7RUFDdEUsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUM7RUFDM0MsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO0VBQ2pCLE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSTtJQUM1QyxNQUFNLFFBQVEsR0FBRyxTQUFTLENBQUMsS0FBSyxFQUFFLGFBQWEsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM3RCxRQUFRO01BQ04sUUFBUSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSztVQUN2RCxRQUFRO1VBQ1IsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdkQsT0FBTyxRQUFRLENBQUM7R0FDakIsQ0FBQyxDQUFDOztFQUVILE9BQU87SUFDTCxLQUFLLEVBQUUsQ0FBQztJQUNSLFFBQVE7SUFDUixNQUFNLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRTtJQUM5QixNQUFNO0lBQ04sSUFBSSxFQUFFLFNBQVM7R0FDaEIsQ0FBQztDQUNIOztBQUVELEFBQU8sU0FBUyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFO0VBQ2xELElBQUksQ0FBQyxXQUFXLElBQUksV0FBVyxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7SUFDcEQsT0FBTyxJQUFJLENBQUM7R0FDYjs7RUFFRCxNQUFNLEtBQUssR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUMxRSxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDbkQ7O0FBRUQsQUFBTyxTQUFTLGlCQUFpQixDQUFDLElBQUksRUFBRSxXQUFXLEVBQUU7RUFDbkQsSUFBSSxDQUFDLFdBQVcsSUFBSSxXQUFXLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRTtJQUNwRCxPQUFPLElBQUksQ0FBQztHQUNiOztFQUVELE1BQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxJQUFJO0lBQzVCLGFBQWEsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLGFBQWEsQ0FBQyxJQUFJO0dBQ3hELENBQUM7RUFDRixPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7Q0FDbkQ7O0FBRUQsQUFBTyxTQUFTLFlBQVksQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFO0VBQy9DLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztFQUNmLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztFQUN2RCxJQUFJLFNBQVMsR0FBRyxNQUFNLEtBQUssR0FBRyxHQUFHLFdBQVcsQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQztFQUN2RSxJQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxPQUFPLEVBQUU7SUFDMUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJO01BQ3hCLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTTtRQUNsQixZQUFZLENBQUMsR0FBRyxFQUFFO1VBQ2hCLEtBQUssRUFBRSxNQUFNLEtBQUssR0FBRyxHQUFHLFNBQVMsR0FBRyxTQUFTLEdBQUcsS0FBSyxDQUFDLFFBQVE7U0FDL0QsQ0FBQztPQUNILENBQUM7S0FDSCxDQUFDLENBQUM7R0FDSixNQUFNLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLEtBQUssRUFBRTtJQUMvQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUk7TUFDeEIsS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFNO1FBQ2xCLFlBQVksQ0FBQyxHQUFHLEVBQUU7VUFDaEIsS0FBSyxFQUFFLE1BQU0sS0FBSyxHQUFHLEdBQUcsU0FBUyxHQUFHLFNBQVMsR0FBRyxLQUFLLENBQUMsUUFBUTtTQUMvRCxDQUFDO09BQ0gsQ0FBQztLQUNILENBQUMsQ0FBQztHQUNKLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO0lBQ3ZCLElBQUksTUFBTSxLQUFLLEdBQUcsRUFBRTtNQUNsQixTQUFTLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQztLQUM3Qjs7SUFFRCxJQUFJLEtBQUssQ0FBQyxVQUFVLEVBQUU7TUFDcEIsS0FBSyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLO1FBQ3pDLElBQUksY0FBYyxHQUFHLFNBQVMsQ0FBQztRQUMvQixTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSTtVQUN2QixNQUFNLEtBQUssR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3BDLEtBQUssRUFBRSxjQUFjO1dBQ3RCLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJO1lBQ2IsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlELE9BQU8sSUFBSSxDQUFDO1dBQ2IsQ0FBQyxDQUFDOztVQUVILEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1VBQzVCLGNBQWMsSUFBSSxHQUFHLENBQUMsUUFBUSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7U0FDNUMsQ0FBQyxDQUFDO09BQ0osQ0FBQyxDQUFDO0tBQ0o7O0lBRUQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJO01BQzFCLE1BQU0sU0FBUyxHQUFHLFlBQVksQ0FBQyxHQUFHLEVBQUUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJO1FBQ3BFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLFNBQVMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDL0QsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7T0FDbkIsQ0FBQyxDQUFDO01BQ0gsS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7TUFDaEMsU0FBUyxJQUFJLEdBQUcsQ0FBQyxRQUFRLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztLQUN2QyxDQUFDLENBQUM7R0FDSixNQUFNO0lBQ0wsSUFBSSxNQUFNLEtBQUssR0FBRyxFQUFFO01BQ2xCLEtBQUssQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDO01BQ3hCLEtBQUssQ0FBQyxLQUFLLEdBQUcsU0FBUyxHQUFHLEtBQUssQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztLQUN4RCxNQUFNO01BQ0wsS0FBSyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7TUFDeEIsS0FBSyxDQUFDLEtBQUssR0FBRyxTQUFTLEdBQUcsS0FBSyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO0tBQ3hEO0lBQ0QsS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0dBQy9CO0VBQ0QsT0FBTyxLQUFLLENBQUM7OztDQUNkLERDMVFEO0FBQ0EsU0FBUyxTQUFTLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtFQUNqQyxJQUFJLENBQUMsUUFBUSxFQUFFO0lBQ2IsT0FBTztNQUNMO1FBQ0UsS0FBSyxFQUFFLEVBQUU7UUFDVCxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUU7UUFDMUMsS0FBSyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUM7T0FDekI7S0FDRixDQUFDO0dBQ0g7O0VBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQztFQUN6QixJQUFJLE9BQU8sT0FBTyxLQUFLLFFBQVEsRUFBRTtJQUMvQixPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztHQUNyQjtFQUNELE9BQU9DLE1BQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDcEUsR0FBRyxDQUFDLEtBQUssSUFBSTtNQUNaLE1BQU0sTUFBTSxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUM7TUFDeEIsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUs7UUFDdkMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsT0FBTyxLQUFLLENBQUM7T0FDZCxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO01BQzdCLE9BQU87UUFDTCxLQUFLLEVBQUUsS0FBSztRQUNaLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQztRQUN4QyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQztPQUMxQixDQUFDO0tBQ0gsQ0FBQyxDQUFDOztDQUVOO0FBQ0QsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFO0VBQ3hCLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssT0FBTyxFQUFFO0lBQ3JDLE9BQU8sSUFBSSxDQUFDO0dBQ2I7O0VBRUQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxFQUFFLEtBQUssS0FBSztJQUN0QyxPQUFPLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztHQUM5QyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQ1I7O0FBRUQsU0FBUyxXQUFXLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRTtFQUM5RCxJQUFJLFFBQVEsR0FBRyxlQUFlLENBQUMsUUFBUSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDO0VBQzNFLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDO0VBQ2pHLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFDckIsT0FBTyxJQUFJLENBQUM7R0FDYjtFQUNELElBQUksZUFBZSxHQUFHLGtCQUFrQixDQUFDLFFBQVEsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ2pFLFFBQVEsR0FBRyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUM7O0VBRXZDLEtBQUssZUFBZSxJQUFJLENBQUMsUUFBUSxHQUFHO0lBQ2xDLE9BQU8sU0FBUyxDQUFDLElBQUksRUFBRSxLQUFLLEtBQUssUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUM7R0FDbEcsQ0FBQyxJQUFJLENBQUMsZUFBZSxJQUFJLFFBQVEsRUFBRTtJQUNsQyxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQ3pCO0VBQ0QsT0FBTyxJQUFJLENBQUM7Q0FDYjs7QUFFRCxTQUFTLGtCQUFrQixDQUFDLFFBQVEsRUFBRTtFQUNwQyxJQUFJLFFBQVEsQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFO0lBQzlCLE9BQU87TUFDTCxNQUFNLEVBQUUsRUFBRTtNQUNWLE9BQU8sRUFBRSxFQUFFO01BQ1gsS0FBSyxFQUFFLEVBQUU7TUFDVCxLQUFLLEVBQUUsRUFBRTtLQUNWLENBQUM7R0FDSCxDQUFDLElBQUksUUFBUSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7SUFDbEMsT0FBTztNQUNMLE1BQU0sRUFBRSxFQUFFO01BQ1YsUUFBUSxFQUFFLEVBQUU7TUFDWixLQUFLLEVBQUUsRUFBRTtNQUNULEtBQUssRUFBRSxFQUFFO0tBQ1YsQ0FBQztHQUNIO0NBQ0Y7QUFDRCxTQUFTLGFBQWEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRTtFQUMvQyxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJO0lBQ3hFLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGNBQWM7R0FDckMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDWCxJQUFJLFVBQVUsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUM7RUFDekMsSUFBSSxRQUFRLENBQUMsSUFBSSxLQUFLLFFBQVEsRUFBRTtJQUM5QixVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUU7TUFDckMsTUFBTSxFQUFFLEVBQUU7TUFDVixPQUFPLEVBQUUsRUFBRTtNQUNYLEtBQUssRUFBRSxFQUFFO0tBQ1YsQ0FBQyxDQUFDO0lBQ0gsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSTtNQUNwRSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxjQUFjO0tBQ3JDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDMUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUk7TUFDckIsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7TUFDNUIsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJO1FBQ3BCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7T0FDL0QsQ0FBQztNQUNGLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSTtRQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxlQUFlLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO09BQ2hFLENBQUM7S0FDSCxDQUFDLENBQUM7R0FDSixNQUFNLElBQUksUUFBUSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7SUFDdkMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFO01BQ3JDLE1BQU0sRUFBRSxFQUFFO01BQ1YsUUFBUSxFQUFFLEVBQUU7TUFDWixLQUFLLEVBQUUsRUFBRTtLQUNWLENBQUMsQ0FBQztJQUNILE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUk7TUFDcEUsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssY0FBYztLQUNyQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNYLElBQUksTUFBTSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQztJQUNyQyxLQUFLLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxjQUFjLENBQUMsR0FBRztNQUN0RSxVQUFVLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUM1RDtJQUNELEtBQUssS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGFBQWEsQ0FBQyxHQUFHO01BQ3BFLFVBQVUsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ3pEO0lBQ0Q7T0FDRyxTQUFTLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssaUJBQWlCLENBQUM7TUFDdkU7TUFDQSxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDOUM7R0FDRjtFQUNELE9BQU8sVUFBVSxDQUFDO0NBQ25COztBQUVELFNBQVMsZ0JBQWdCLEdBQUc7RUFDMUIsT0FBTztJQUNMLElBQUksRUFBRSxFQUFFO0lBQ1IsS0FBSyxFQUFFLEVBQUU7SUFDVCxJQUFJLEVBQUUsRUFBRTtHQUNULENBQUM7Q0FDSDtBQUNELFNBQVMsV0FBVyxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUU7RUFDbkMsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLE9BQU8sS0FBSztJQUN4RCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUs7T0FDMUQsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQzs7SUFFakQsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQzVDLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDcEIsT0FBTyxHQUFHLENBQUM7R0FDWixFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQ1I7O0FDaElELFNBQVMsY0FBYyxDQUFDLEdBQUcsRUFBRTtFQUMzQixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDdEIsT0FBTyxDQUFDLENBQUMsS0FBSztNQUNaLE9BQU8sR0FBRztTQUNQLEdBQUcsQ0FBQyxLQUFLLElBQUk7VUFDWixPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDdkIsQ0FBQztTQUNELElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNkLENBQUM7R0FDSDtFQUNELE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3pDOztBQUVELFNBQVMsV0FBVyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUU7RUFDbEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDaEMsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQztFQUN4QixNQUFNLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7RUFDaEQsSUFBSSxNQUFNLENBQUMsUUFBUSxLQUFLLE1BQU0sRUFBRTtJQUM5QixJQUFJLEtBQUssRUFBRTtNQUNULE9BQU8sZ0JBQWdCLEVBQUUsQ0FBQztLQUMzQjtJQUNELE9BQU8sV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7R0FDNUM7RUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLEtBQUssUUFBUSxFQUFFO0lBQ2hDLElBQUksS0FBSyxFQUFFO01BQ1QsT0FBTyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDekM7SUFDRCxPQUFPLGFBQWEsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDOUQ7RUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLEtBQUssTUFBTSxFQUFFO0lBQzlCLElBQUksS0FBSyxFQUFFO01BQ1QsT0FBTyxFQUFFLENBQUM7S0FDWDtJQUNELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7SUFDNUUsT0FBTyxXQUFXLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztHQUNuRTtFQUNELElBQUksTUFBTSxDQUFDLFFBQVEsS0FBSyxNQUFNLEVBQUU7SUFDOUIsT0FBTyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztHQUNqRDtDQUNGOztBQUVELFNBQVMsUUFBUSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFO0VBQzVDLE1BQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQztFQUMxQixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDM0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQztFQUN0QixNQUFNLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7RUFDaEQsTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0VBQ25ELE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUM7RUFDeEIsSUFBSSxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7RUFDN0IsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDOztFQUVuQixJQUFJLE1BQU0sQ0FBQyxRQUFRLEtBQUssTUFBTSxFQUFFO0lBQzlCLE1BQU0sTUFBTSxHQUFHO01BQ2IsUUFBUSxFQUFFLEVBQUU7TUFDWixRQUFRLEVBQUUsRUFBRTtNQUNaLGNBQWMsRUFBRSxFQUFFO0tBQ25CLENBQUM7O0lBRUYsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsUUFBUTtRQUMzQixLQUFLLENBQUMsSUFBSTtRQUNWLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztJQUNsQyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDOztJQUV6QztNQUNFLE1BQU0sQ0FBQyxLQUFLLEtBQUssS0FBSztPQUNyQixNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEtBQUssQ0FBQztNQUM3QztNQUNBLE1BQU0sU0FBUyxHQUFHLENBQUMsSUFBSSxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO01BQzFELE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxPQUFPLEtBQUs7UUFDeEQsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUs7VUFDNUMsV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQyxBQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7VUFDdEUsT0FBTyxDQUFDLENBQUM7U0FDVixDQUFDLENBQUM7UUFDSCxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQztRQUNqQyxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQztRQUNqQyxHQUFHLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztRQUN4QyxPQUFPLEdBQUcsQ0FBQztPQUNaLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDWjs7SUFFRCxJQUFJLEtBQUssR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLElBQUksQ0FBQyxRQUFRLEVBQUU7TUFDYixLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDN0M7O0lBRUQsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLE9BQU8sS0FBSztNQUN4RCxJQUFJLGNBQWMsR0FBRyxPQUFPLEtBQUssTUFBTSxHQUFHLE9BQU8sR0FBRyxPQUFPLENBQUM7TUFDNUQsY0FBYyxHQUFHLGNBQWMsS0FBSyxPQUFPLEdBQUcsUUFBUSxHQUFHLGNBQWMsQ0FBQztNQUN4RSxJQUFJLFNBQVMsR0FBRyxDQUFDLElBQUksbUJBQW1CLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQzs7TUFFeEQsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssS0FBSyxFQUFFO1FBQzVELEdBQUcsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLEdBQUcsU0FBUyxDQUFDO1FBQ3hDLE9BQU8sR0FBRyxDQUFDO09BQ1o7O01BRUQsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztNQUMxQyxJQUFJLFlBQVksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO01BQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUU7UUFDN0IsTUFBTSxFQUFFLEdBQUcsYUFBYSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUM3QyxJQUFJLEVBQUUsR0FBRyxhQUFhLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzVDLFNBQVMsR0FBRyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDOztRQUV2QyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSztVQUNsQyxXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRTtZQUN4QixPQUFPLEVBQUUsTUFBTTtZQUNmLE9BQU8sRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7V0FDdEMsQ0FBQyxDQUFDO1NBQ0osQ0FBQyxDQUFDOztRQUVILFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLO1VBQ2xDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO1lBQ3hCLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLE9BQU8sRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7V0FDcEMsQ0FBQyxDQUFDO1NBQ0osQ0FBQyxDQUFDO09BQ0osTUFBTTtRQUNMLFFBQVEsQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztPQUN2RDs7Ozs7TUFLRCxNQUFNLGFBQWEsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLGFBQWEsR0FBRyxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztNQUNsRSxNQUFNLFFBQVEsR0FBRyxZQUFZO1NBQzFCLE1BQU0sQ0FBQyxDQUFDLElBQUksYUFBYSxDQUFDLE9BQU8sQ0FBQ0MsYUFBVyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDeEUsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxPQUFPLENBQUNBLGFBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7Ozs7Ozs7TUFRakcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxRQUFRLENBQUM7TUFDakMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxZQUFZLENBQUM7TUFDckMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLENBQUM7TUFDeEMsT0FBTyxHQUFHLENBQUM7S0FDWixFQUFFLE1BQU0sQ0FBQyxDQUFDOztHQUVaO0VBQ0QsSUFBSSxNQUFNLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtJQUNoQyxNQUFNLFlBQVksR0FBRyxPQUFPLElBQUk7TUFDOUIsSUFBSSxPQUFPLEtBQUssT0FBTyxFQUFFO1FBQ3ZCLE9BQU8sQ0FBQyxJQUFJO1VBQ1YsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztVQUM1RSxPQUFPLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN6QyxDQUFDO09BQ0gsTUFBTSxJQUFJLE9BQU8sS0FBSyxPQUFPLEVBQUU7UUFDOUIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztPQUNwQixNQUFNLElBQUksT0FBTyxLQUFLLFVBQVUsRUFBRTtRQUNqQyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7T0FDMUM7TUFDRCxPQUFPLENBQUMsSUFBSSxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ2hELENBQUM7O0lBRUYsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNO01BQ3RDLENBQUMsR0FBRyxFQUFFLE9BQU8sS0FBSztRQUNoQixTQUFTLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2xDLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLO1VBQzVDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7VUFDdEUsT0FBTyxDQUFDLENBQUM7U0FDVixDQUFDLENBQUM7UUFDSCxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQztRQUNqQyxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsQ0FBQztRQUNqQyxHQUFHLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxHQUFHLFNBQVMsQ0FBQztRQUN4QyxPQUFPLEdBQUcsQ0FBQztPQUNaO01BQ0Q7UUFDRSxRQUFRLEVBQUUsRUFBRTtRQUNaLFFBQVEsRUFBRSxFQUFFO1FBQ1osY0FBYyxFQUFFLEVBQUU7T0FDbkI7S0FDRixDQUFDOztJQUVGO01BQ0UsTUFBTSxDQUFDLEtBQUssS0FBSyxLQUFLO09BQ3JCLE1BQU0sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO01BQzdDO01BQ0EsT0FBTyxNQUFNLENBQUM7S0FDZjs7SUFFRCxJQUFJLFFBQVEsRUFBRTtNQUNaLE1BQU0sQ0FBQyxRQUFRLEdBQUcsa0JBQWtCLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO01BQ3JELE9BQU8sTUFBTSxDQUFDO0tBQ2Y7SUFDRCxNQUFNLEtBQUssR0FBRyxhQUFhLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2xFLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO09BQzVCLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO09BQzFCLE1BQU0sRUFBRSxDQUFDO0lBQ1osT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLE9BQU8sS0FBSztNQUNuQyxNQUFNLGNBQWMsR0FBRyxPQUFPLENBQUM7TUFDL0IsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssS0FBSyxFQUFFO1FBQzVELE9BQU8sR0FBRyxDQUFDO09BQ1o7TUFDRCxTQUFTLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO01BQ2xDLE1BQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7TUFDMUMsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztNQUN2QztRQUNFLENBQUMsT0FBTyxLQUFLLFFBQVE7VUFDbkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLO1FBQ3JELENBQUMsSUFBSSxDQUFDLG1CQUFtQjtRQUN6QjtRQUNBLE1BQU0sRUFBRSxHQUFHLGFBQWEsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDN0MsSUFBSSxFQUFFLEdBQUcsYUFBYSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM1QyxTQUFTLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQzs7UUFFdkMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUs7VUFDbEMsV0FBVyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUU7WUFDeEIsT0FBTyxFQUFFLE1BQU07WUFDZixPQUFPLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1dBQ3RDLENBQUMsQ0FBQztTQUNKLENBQUMsQ0FBQzs7UUFFSCxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSztVQUNsQyxXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRTtZQUN4QixPQUFPLEVBQUUsT0FBTztZQUNoQixPQUFPLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1dBQ3BDLENBQUMsQ0FBQztTQUNKLENBQUMsQ0FBQztPQUNKLE1BQU07UUFDTCxRQUFRLENBQUMsWUFBWSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7T0FDdkQ7Ozs7OztNQU1ELE1BQU0sYUFBYSxHQUFHLEVBQUUsQ0FBQyxDQUFDLElBQUksYUFBYSxHQUFHLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO01BQ2xFLE1BQU0sUUFBUSxHQUFHLFlBQVk7U0FDMUIsTUFBTSxDQUFDLENBQUMsSUFBSSxhQUFhLENBQUMsT0FBTyxDQUFDQSxhQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN4RSxNQUFNLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksYUFBYSxDQUFDLE9BQU8sQ0FBQ0EsYUFBVyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOztNQUVqRyxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFFBQVEsSUFBSSxFQUFFLENBQUM7TUFDdkMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxZQUFZLENBQUM7TUFDckMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsR0FBRyxTQUFTLENBQUM7TUFDeEMsT0FBTyxHQUFHLENBQUM7S0FDWixFQUFFLE1BQU0sQ0FBQyxDQUFDO0dBQ1o7RUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLEtBQUssTUFBTSxFQUFFO0lBQzlCLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUM7O0lBRXpCLElBQUksUUFBUSxHQUFHLENBQUMsUUFBUSxJQUFJLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssS0FBSztNQUN6RCxPQUFPLEdBQUcsQ0FBQyxRQUFRLEtBQUssS0FBSyxJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO01BQ3ZELE1BQU0sR0FBRyxDQUFDLEtBQUssS0FBSyxRQUFRLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQztJQUN6RCxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUM7SUFDdEIsSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFO01BQ2YsUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLEtBQUssR0FBRyxLQUFLLEdBQUcsUUFBUSxDQUFDO01BQzNELE9BQU8sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLEdBQUcsS0FBSyxHQUFHLE9BQU8sQ0FBQztNQUN4RCxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUM7TUFDckQsVUFBVSxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUM7S0FDcEY7OztJQUdELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDbEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUN0QixNQUFNLG1CQUFtQixHQUFHO01BQzFCLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsT0FBTyxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUM7TUFDakUsS0FBSyxFQUFFLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQztLQUNoRSxDQUFDOztJQUVGLE1BQU0sTUFBTSxHQUFHO01BQ2IsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPO1VBQ3JCLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7VUFDbEQsU0FBUztNQUNiLEtBQUssRUFBRSxRQUFRLENBQUMsS0FBSztVQUNqQixRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO1VBQ2xELFNBQVM7S0FDZCxDQUFDO0lBQ0YsSUFBSSxNQUFNLENBQUMsUUFBUSxLQUFLLEtBQUssRUFBRTtNQUM3QixtQkFBbUIsQ0FBQyxLQUFLLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDO0tBQ3pEOztJQUVELElBQUksTUFBTSxDQUFDLElBQUksSUFBSSxLQUFLLElBQUksUUFBUSxFQUFFO01BQ3BDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQzs7TUFFbEMsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO01BQ2YsSUFBSSxDQUFDLFFBQVEsRUFBRTtRQUNiLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQztRQUNuRCxNQUFNLEtBQUs7VUFDVCxNQUFNLENBQUMsUUFBUSxLQUFLLEtBQUs7Y0FDckIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSTtnQkFDeEIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUs7Z0JBQ2hDLFNBQVM7Y0FDWCxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJO2dCQUN0QixNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSztnQkFDOUIsU0FBUyxDQUFDOztRQUVsQixLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO09BQ3pFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O01BbUJELENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUk7UUFDcEMsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFO1VBQ2xDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxjQUFjLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzFELE1BQU0sSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUU7VUFDM0IsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLGNBQWMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDN0QsTUFBTTtVQUNMLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDL0M7T0FDRixDQUFDLENBQUM7OztNQUdILElBQUksbUJBQW1CLENBQUMsT0FBTyxJQUFJLG1CQUFtQixDQUFDLEtBQUssRUFBRTtRQUM1RDtVQUNFLE1BQU0sQ0FBQyxLQUFLO1VBQ1osTUFBTSxDQUFDLE9BQU87VUFDZCxNQUFNLENBQUMsS0FBSztVQUNaLE1BQU0sQ0FBQyxPQUFPO1VBQ2QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO1lBQ3RDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLFFBQVEsRUFBRTtVQUN4QztVQUNBLFNBQVMsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDO1VBQzlCLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN6QyxNQUFNO1VBQ0wsTUFBTSxDQUFDLEtBQUs7VUFDWixNQUFNLENBQUMsT0FBTztVQUNkLENBQUMsTUFBTSxDQUFDLEtBQUs7VUFDYixDQUFDLE1BQU0sQ0FBQyxPQUFPO1VBQ2Y7VUFDQSxTQUFTLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQztVQUM5QixRQUFRLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDekMsTUFBTTtVQUNMLE1BQU0sRUFBRSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1VBQ3JELElBQUksRUFBRSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDOztVQUVsRCxTQUFTLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQztVQUN2QyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSztZQUMzQixXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRTtjQUN4QixPQUFPLEVBQUUsTUFBTTtjQUNmLE9BQU8sRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7YUFDdEMsQ0FBQyxDQUFDO1dBQ0osQ0FBQyxDQUFDO1VBQ0gsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUs7WUFDM0IsV0FBVyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUU7Y0FDeEIsT0FBTyxFQUFFLE9BQU87Y0FDaEIsT0FBTyxFQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQzthQUNwQyxDQUFDLENBQUM7V0FDSixDQUFDLENBQUM7U0FDSjtPQUNGLE1BQU0sSUFBSSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBRTs7OztRQUlyRSxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUU7VUFDZixnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3RDO1FBQ0QsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1VBQ2IsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNwQzs7UUFFRDtVQUNFLFNBQVMsQ0FBQyxPQUFPO1VBQ2pCLFNBQVMsQ0FBQyxLQUFLO1VBQ2YsU0FBUyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO1lBQ3pDLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLFFBQVEsRUFBRTtVQUMzQztVQUNBLFNBQVMsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDO1VBQzlCLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN6QyxNQUFNLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRTtVQUNqRCxTQUFTLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQztVQUM5QixRQUFRLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDekMsTUFBTTtVQUNMLElBQUksRUFBRSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1VBQ25ELElBQUksRUFBRSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1VBQ2xELFNBQVMsR0FBRyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDOztVQUV2QyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSztZQUMzQixXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRTtjQUN4QixPQUFPLEVBQUUsTUFBTTtjQUNmLE9BQU8sRUFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7YUFDdEMsQ0FBQyxDQUFDO1dBQ0osQ0FBQyxDQUFDOztVQUVILEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLO1lBQzNCLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFO2NBQ3hCLE9BQU8sRUFBRSxPQUFPO2NBQ2hCLE9BQU8sRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7YUFDcEMsQ0FBQyxDQUFDO1dBQ0osQ0FBQyxDQUFDOztVQUVILElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxJQUFJLFNBQVMsQ0FBQyxLQUFLLEVBQUU7WUFDekMsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDekgsYUFBYSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsS0FBSyxFQUFDO1lBQ3JDLGdCQUFnQixHQUFHLElBQUksQ0FBQztXQUN6QixNQUFNLElBQUksU0FBUyxDQUFDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUU7WUFDaEQsYUFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDL0gsYUFBYSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsT0FBTyxFQUFDO1lBQ3ZDLGdCQUFnQixHQUFHLElBQUksQ0FBQztXQUN6QjtTQUNGO09BQ0YsTUFBTTs7UUFFTCxJQUFJLFdBQVcsQ0FBQyxDQUFDLElBQUksWUFBWSxDQUFDO1FBQ2xDLElBQUksbUJBQW1CLENBQUMsT0FBTyxFQUFFO1VBQy9CLFNBQVMsQ0FBQyxPQUFPLEdBQUcsY0FBYztZQUNoQyxNQUFNLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUk7V0FDakUsQ0FBQztVQUNGLFNBQVMsQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsQ0FBQztVQUNyRCxZQUFZLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1VBQ2pDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7O1VBRXJELFdBQVcsR0FBRyxTQUFTO1lBQ3JCLEtBQUs7WUFDTCxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJO2dCQUN0QixNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSztnQkFDaEMsU0FBUztXQUNkLENBQUM7VUFDRixRQUFRLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxTQUFTLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ3ZELE1BQU07VUFDTCxTQUFTLENBQUMsT0FBTyxHQUFHLGNBQWMsQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLENBQUM7VUFDdkQsU0FBUyxDQUFDLEtBQUssR0FBRyxjQUFjO1lBQzlCLE1BQU0sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSTtXQUM3RCxDQUFDOztVQUVGLFlBQVksR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7VUFDakMsUUFBUSxDQUFDLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQzs7VUFFdkQsV0FBVyxHQUFHLFNBQVM7WUFDckIsS0FBSztZQUNMLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUk7Z0JBQ3BCLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLO2dCQUM5QixTQUFTO1dBQ2QsQ0FBQztVQUNGLFFBQVEsQ0FBQyxXQUFXLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDckQ7O1FBRUQsT0FBTztVQUNMLFFBQVEsRUFBRSxLQUFLO1VBQ2YsUUFBUSxFQUFFLEtBQUs7VUFDZixjQUFjLEVBQUUsU0FBUztVQUN6QixXQUFXO1VBQ1gsWUFBWTtTQUNiLENBQUM7T0FDSDs7TUFFRCxNQUFNLGFBQWEsR0FBRyxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNO1FBQ25ELFFBQVEsR0FBRyxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUM7T0FDM0IsQ0FBQztNQUNGLElBQUksYUFBYSxHQUFHLENBQUMsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLE1BQU07UUFDbkQsUUFBUSxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRTtPQUMzQixDQUFDO01BQ0YsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLE1BQU07UUFDekIsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxPQUFPLENBQUNBLGFBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQztPQUNqRSxDQUFDO01BQ0YsSUFBSSxDQUFDLE1BQU0sRUFBRTs7UUFFWCxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLO1VBQzFCLFdBQVcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7U0FDakQsQ0FBQyxDQUFDO09BQ0o7O01BRUQsUUFBUSxHQUFHLFFBQVEsQ0FBQyxNQUFNO1FBQ3hCLEtBQUssQ0FBQyxNQUFNO1VBQ1YsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxPQUFPLENBQUNBLGFBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUNqRTtPQUNGLENBQUM7O01BRUYsT0FBTztRQUNMLFFBQVE7UUFDUixRQUFRLEVBQUUsS0FBSztRQUNmLGNBQWMsRUFBRSxTQUFTO1FBQ3pCLGdCQUFnQjtPQUNqQixDQUFDO0tBQ0g7O0lBRUQsU0FBUyxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQyxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSztNQUNuQyxXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BQ3JFLE9BQU8sQ0FBQyxDQUFDO0tBQ1YsQ0FBQyxDQUFDOztJQUVILElBQUksbUJBQW1CLENBQUMsT0FBTyxLQUFLLG1CQUFtQixDQUFDLEtBQUssRUFBRTs7TUFFN0QsSUFBSSxXQUFXLENBQUMsQ0FBQyxJQUFJLFlBQVksQ0FBQztNQUNsQyxJQUFJLG1CQUFtQixDQUFDLE9BQU8sRUFBRTtRQUMvQixZQUFZLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLO1VBQ3pCLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7VUFDckUsT0FBTyxDQUFDLENBQUM7U0FDVixDQUFDLENBQUM7UUFDSCxPQUFPO1VBQ0wsUUFBUSxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsS0FBSztVQUN2QyxjQUFjLEVBQUUsU0FBUztVQUN6QixXQUFXLEVBQUUsS0FBSztVQUNsQixZQUFZLEVBQUUsWUFBWTtTQUMzQixDQUFDO09BQ0g7TUFDRCxXQUFXLEdBQUcsU0FBUyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQztNQUN0RyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSztRQUN4QixXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JFLE9BQU8sQ0FBQyxDQUFDO09BQ1YsQ0FBQyxDQUFDO01BQ0gsT0FBTztRQUNMLFFBQVEsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLEtBQUs7UUFDdEMsY0FBYyxFQUFFLFNBQVM7UUFDekIsV0FBVztRQUNYLFlBQVksRUFBRSxLQUFLO09BQ3BCLENBQUM7S0FDSDs7SUFFRCxPQUFPO01BQ0wsUUFBUSxFQUFFLFFBQVE7TUFDbEIsUUFBUSxFQUFFLFFBQVE7TUFDbEIsY0FBYyxFQUFFLFNBQVM7S0FDMUIsQ0FBQztHQUNIO0VBQ0QsSUFBSSxNQUFNLENBQUMsUUFBUSxLQUFLLE1BQU0sRUFBRTtJQUM5QixPQUFPLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7R0FDL0Q7RUFDRCxPQUFPLEtBQUssQ0FBQztDQUNkO0FBQ0QsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFO0VBQy9DLE1BQU0sVUFBVSxHQUFHLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUM7RUFDOUMsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0VBQ3JCLE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQzs7RUFFcEIsTUFBTSxZQUFZLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0VBQzdDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDekIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUs7SUFDM0IsTUFBTSxFQUFFLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNoQyxNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsU0FBUztNQUNoQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFO0tBQzNDLENBQUM7SUFDRixNQUFNLEtBQUssR0FBRyxVQUFVLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxJQUFJLENBQUM7O0lBRXpELElBQUksS0FBSyxFQUFFO01BQ1QsTUFBTSxJQUFJLEdBQUcsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQztNQUNoRCxXQUFXLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztNQUMvQixXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztNQUNoQyxNQUFNLGNBQWMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztNQUMzRCxNQUFNLGNBQWMsR0FBRyxFQUFFLEdBQUcsTUFBTSxDQUFDLEtBQUssRUFBRSxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztNQUMzRCxNQUFNLENBQUMsS0FBSyxHQUFHLGNBQWMsQ0FBQztNQUM5QixLQUFLLENBQUMsS0FBSyxHQUFHLGNBQWMsQ0FBQztNQUM3QixVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztNQUM3QixVQUFVLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzs7TUFFaEMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQztLQUNqQyxNQUFNO01BQ0wsV0FBVyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO01BQzVELFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDdkI7R0FDRixDQUFDLENBQUM7RUFDSCxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSztJQUNqQyxJQUFJLENBQUMsS0FBSyxFQUFFO01BQ1YsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUU7UUFDMUIsT0FBTyxFQUFFLE9BQU87UUFDaEIsT0FBTyxFQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO09BQ2hDLENBQUMsQ0FBQztNQUNILFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDMUI7R0FDRixDQUFDLENBQUM7O0VBRUgsT0FBTztJQUNMLEtBQUssRUFBRSxTQUFTO0lBQ2hCLE1BQU0sRUFBRSxVQUFVO0lBQ2xCLElBQUksRUFBRSxRQUFRO0dBQ2YsQ0FBQztDQUNIOztBQUVELFNBQVMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtFQUN0QyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSTtJQUNmLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJO01BQ25CLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNoSCxDQUFDLENBQUM7R0FDSixFQUFDO0NBQ0g7QUFDRCxTQUFTLGFBQWEsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO0VBQ25DLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxJQUFJO0lBQzFCLEdBQUcsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSztNQUM5QixRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUM7S0FDMUQsRUFBQztHQUNILEVBQUM7Q0FDSDs7QUFFRCxTQUFTLGFBQWEsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUU7O0VBRXZGLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQztFQUNoRCxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFO0lBQ2xDLEVBQUUsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDO0dBQ2hCO0VBQ0QsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDOzs7RUFHbEMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUs7SUFDckMsSUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLEVBQUM7SUFDbkcsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzNCLElBQUksUUFBUSxFQUFFO01BQ1osT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUs7UUFDL0IsSUFBSSxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRTtVQUN2RCxHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLEtBQUs7WUFDN0IsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7V0FDOUQsQ0FBQyxDQUFDO1VBQ0gsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUs7WUFDekIsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztXQUM1RCxDQUFDLENBQUM7U0FDSjtPQUNGLENBQUMsQ0FBQztLQUNKLE1BQU07O01BRUwsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxLQUFLO1FBQzdCLFdBQVcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7T0FDdkQsQ0FBQyxDQUFDO01BQ0gsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEtBQUs7UUFDekIsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztPQUM1RCxDQUFDLENBQUM7S0FDSjtHQUNGLENBQUMsQ0FBQztDQUNKOztBQUVELFNBQVMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRTtFQUNsQyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxPQUFPLENBQUM7RUFDdEMsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLEVBQUUsSUFBSUMsV0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHO0lBQ3hELE9BQU8sSUFBSTtHQUNaO0VBQ0QsT0FBTyxLQUFLO0NBQ2I7O0FBRUQsU0FBU0QsYUFBVyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0VBQ2xDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO01BQzVCLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQztNQUMvQixTQUFTLENBQUM7Q0FDZjs7QUFFRCxTQUFTLGFBQWEsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFO0VBQ3pDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLO0lBQ2YsT0FBTyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQztHQUNsQyxDQUFDO0NBQ0g7QUFDRCxTQUFTLE1BQU0sQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFO0VBQy9CLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztFQUNmLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtJQUNwQyxPQUFPLEdBQUcsQ0FBQztHQUNaO0VBQ0QsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDaEMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7O0VBRWhDLE1BQU0sUUFBUSxHQUFHLFFBQVEsSUFBSTtJQUMzQixPQUFPLGVBQWUsQ0FBQyxRQUFRLENBQUM7UUFDNUIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUk7UUFDL0IsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7R0FDeEIsQ0FBQzs7RUFFRixNQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUk7SUFDbEMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7R0FDN0MsQ0FBQztFQUNGLElBQUksWUFBWSxDQUFDLFNBQVMsRUFBRTtJQUMxQixHQUFHLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsTUFBTTtNQUN2QyxLQUFLLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxLQUFLO0tBQzlCLENBQUM7R0FDSDtFQUNELE1BQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSTtJQUNsQyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztHQUMvQyxDQUFDO0VBQ0YsSUFBSSxZQUFZLENBQUMsU0FBUyxFQUFFO0lBQzFCLEdBQUcsQ0FBQyxPQUFPLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNO01BQ3pDLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLEtBQUs7S0FDOUIsQ0FBQztHQUNIO0VBQ0QsT0FBTyxHQUFHLENBQUM7Q0FDWjtBQUNELFNBQVMsWUFBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUU7RUFDckMsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0VBQ3JCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtJQUNwQyxPQUFPLFNBQVMsQ0FBQztHQUNsQjtFQUNELE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ2hDLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDOztFQUVoQyxNQUFNLFFBQVEsR0FBRyxRQUFRLElBQUk7SUFDM0IsT0FBTyxlQUFlLENBQUMsUUFBUSxDQUFDO1FBQzVCLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO1FBQy9CLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0dBQ3hCLENBQUM7O0VBRUYsTUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJO0lBQ2xDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0dBQzdDLENBQUM7RUFDRixJQUFJLFlBQVksQ0FBQyxTQUFTLEVBQUU7SUFDMUIsU0FBUyxDQUFDLEtBQUssR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLElBQUk7TUFDM0MsS0FBSyxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssV0FBVztLQUNwQyxDQUFDO0dBQ0g7RUFDRCxNQUFNLFlBQVksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUk7SUFDbEMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7R0FDL0MsQ0FBQztFQUNGLElBQUksWUFBWSxDQUFDLFNBQVMsRUFBRTtJQUMxQixTQUFTLENBQUMsT0FBTyxHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsSUFBSTtNQUM3QyxLQUFLLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxXQUFXO0tBQ3BDLENBQUM7R0FDSDtFQUNELE9BQU8sU0FBUyxDQUFDO0NBQ2xCOztBQUVELFNBQVMsV0FBVyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0VBQ3RDLEtBQUssQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUM7RUFDMUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO0VBQ3BFLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDcEQ7O0FDdnRCRCxTQUFTLGtCQUFrQixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO0VBQ2hELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztFQUM3QixNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsQ0FBQztFQUNqRSxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFO0lBQ3pCLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUztNQUNuQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUk7S0FDdEMsQ0FBQztJQUNGLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtNQUNkLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTTtRQUNsQixLQUFLO1FBQ0wsQ0FBQztRQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO09BQ3ZELENBQUM7S0FDSDtHQUNGO0VBQ0QsTUFBTSxRQUFRLEdBQUcsSUFBSUwsSUFBUyxDQUFDQyxPQUFVLENBQUMsUUFBUSxDQUFDLEVBQUU7SUFDbkQsUUFBUSxFQUFFLE1BQU07R0FDakIsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0VBQ1QsT0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUM7Q0FDL0M7O0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsZUFBZSxFQUFFLEdBQUcsR0FBRyxJQUFJLEVBQUU7O0VBRXBFLElBQUksTUFBTSxHQUFHLFlBQVksQ0FBQztFQUMxQixJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUU7SUFDaEIsTUFBTSxHQUFHLFlBQVksSUFBSSxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztHQUNyRTtFQUNELE1BQU0sR0FBRyxHQUFHLEdBQUcsS0FBSyxJQUFJLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxHQUFHLGVBQWUsQ0FBQzs7O0VBR2xFLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7S0FDdkIsTUFBTSxDQUFDLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxDQUFDO0tBQ3RDLE1BQU0sQ0FBQyxDQUFDLFVBQVUsRUFBRSxJQUFJLEtBQUs7TUFDNUIsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztNQUM3QixPQUFPLFVBQVUsQ0FBQztLQUNuQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0NBQ1Y7OztBQUdELFNBQVMsb0JBQW9CLENBQUMsY0FBYyxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUU7RUFDM0UsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsWUFBWSxDQUFDLENBQUM7RUFDL0MsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7RUFDN0UsTUFBTSxZQUFZLEdBQUc7SUFDbkIsSUFBSSxFQUFFO01BQ0osQ0FBQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7TUFDMUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUc7TUFDN0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDNUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7TUFDMUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEdBQUc7TUFDOUIsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUU7S0FDOUM7SUFDRCxJQUFJLEVBQUU7TUFDSixDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtNQUMzQyxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtNQUM5QyxDQUFDLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtNQUMvQyxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtNQUMzQyxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtNQUMvQyxDQUFDLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtNQUNoRCxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtNQUM1QyxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRTtNQUMvQyxDQUFDLFNBQVMsRUFBRSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUs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LE1BQU0sQ0FBQyxJQUFJLEtBQUssU0FBUyxHQUFHLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQzdEO01BQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssS0FBSztNQUM1QixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLO01BQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLEtBQUs7TUFDMUI7TUFDQSxNQUFNLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztLQUNyQjtJQUNELE1BQU0sQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsS0FBSyxTQUFTLEdBQUcsSUFBSSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7SUFDekUsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxLQUFLLFNBQVMsR0FBRyxJQUFJLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNoRSxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEtBQUssU0FBUyxHQUFHLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ25FLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sS0FBSyxTQUFTLEdBQUcsSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7R0FDcEUsTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssUUFBUSxFQUFFO0lBQ2pFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sS0FBSyxTQUFTLEdBQUcsSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDbkUsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxLQUFLLFNBQVMsR0FBRyxFQUFFLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQzs7SUFFOUQsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtNQUM5QixNQUFNLENBQUMsS0FBSyxHQUFHLE1BQU0s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QyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFOztRQUVsQyxNQUFNLENBQUMsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUQsSUFBSSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO09BQ2xFOztNQUVELElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTs7UUFFM0IsTUFBTSxDQUFDLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdELElBQUksR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7T0FDcEUsTUFBTSxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7O1FBRWxDLE1BQU0sQ0FBQyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3RCxJQUFJLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDOztPQUVyRTs7TUFFRCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFB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S0FBSyxJQUFJLE9BQU8sQ0FBQztFQUMxQyxNQUFNLFVBQVUsR0FBRyxTQUFTLENBQUMsT0FBTyxJQUFJLFNBQVMsQ0FBQzs7RUFFbEQsTUFBTSxVQUFVLEdBQUcsU0FBUyxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUM7RUFDaEQsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLE9BQU8sSUFBSSxNQUFNLENBQUM7RUFDekMsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUM7RUFDdkMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUM7RUFDNUMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUM7RUFDMUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUM7RUFDOUIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUM7RUFDekIsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLE9BQU8sSUFBSSxRQUFRLENBQUM7RUFDL0MsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLEtBQUssSUFBSSxRQUFRLENBQUM7RUFDN0MsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7RUFDbkcsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7RUFDbkcsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7RUFDbkcsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLGVBQWUs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QUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7TUFDcEUsTUFBTSxDQUFDLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7TUFDbEUsT0FBTyxRQUFRLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDOUM7R0FDRixNQUFNLElBQUksUUFBUSxDQUFDLE9BQU8sS0FBSyxPQUFPLEVBQUU7SUFDdkMsSUFBSSxRQUFRLENBQUMsR0FBRyxLQUFLLFdBQVcsRUFBRTtNQUNoQyxNQUFNLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO01BQzlELE9BQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7S0FDakU7R0FDRixNQUFNLElBQUksUUFBUSxDQUFDLE9BQU8sS0FBSyxZQUFZLEVBQUU7SUFDNUMsSUFBSSxRQUFRLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBRTtNQUN4QixNQUFNLEtBQUssR0FBRztRQUNaLENBQUMsRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQy9ELENBQUMsRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxD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QUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksS0FBSztRQUMxRCxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7T0FDbEMsRUFBRSxFQUFFLENBQUMsQ0FBQztNQUNQLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJO1FBQ3BCLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7VUFDMUIsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7VUFDckQsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUU7WUFDOUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7V0FDL0MsQ0FBQztTQUNILE1BQU0sSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLE1BQU0sRUFBRTtVQUM1QixZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7WUFDckIsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7V0FDM0MsQ0FBQztTQUNILE1BQU07VUFDTCxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRTtZQUN0QyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztXQUMzQyxDQUFDO1NBQ0g7T0FDRixDQUFDLENBQUM7Ozs7O01BS0gsTUFBTSxPQUFPLEdBQUcscUJBQXFCLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzs7TUFFL0QsTUFBTSxTQUFTLEdB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VUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0VBQ3hFLFNBQVMsQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7RUFDakQsU0FBUyxDQUFDLElBQUksR0FBRztJQUNmLE1BQU0sRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckIsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsVUFBVTtRQUM1QixTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU07SUFDekIsTUFBTSxFQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxVQUFVO1FBQzVCLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTTtHQUMxQixDQUFDO0VBQ0YsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUU7SUFDOUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsYUFBYSxDQUFDO0dBQ3ZDLE1BQU0sSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUU7SUFDeEQsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxhQUFhLENBQUM7R0FDeEM7O0VBRUQsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUU7SUFDOUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsYUFBYSxDQUFDO0dBQ3ZDLE1BQU0sSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUU7SUFDeEQsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxhQUFhLENBQUM7R0FDeEM7Ozs7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QUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtNQUNsRSxNQUFNLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7TUFDcEUsT0FBTyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO01BQ2pFLE9BQU8sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsVUFBVSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDOztJQUV4RSxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUM7O0lBRTNDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzdELFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0dBQzlEOztFQUVELE9BQU8sU0FBUyxDQUFDO0NBQ2xCO0FBQ0QsU0FBUyxjQUFjLENBQUMsT0FBTyxFQUFFO0VBQy9CLE1BQU0sU0FBUyxHQUFHLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztFQUN6QyxNQUFNLFdBQVcsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztFQUN4RSxTQUFTLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsU0FBUyxH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S0FBSyxDQUFDO09BQ2Q7TUFDRCxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO01BQzlFLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxNQUFNLENBQUMsQ0FBQztLQUN4RCxDQUFDLEVBQUU7TUFDRixLQUFLLEdBQUcsS0FBSyxDQUFDO0tBQ2Y7R0FDRixDQUFDLENBQUM7RUFDSCxJQUFJLENBQUMsS0FBSyxFQUFFO0lBQ1YsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLENBQUM7R0FDeEQ7O0VBRUQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDckMsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUMxRixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUN2QyxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDMUIsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRTtRQUMxQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtVQUN6QixPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMs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TSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUU7T0FDM0M7TUFDRDtRQUNFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFO1FBQzFDLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFO09BQzlDO01BQ0Q7UUFDRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRTtRQUM3QyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRTtPQUM1QztNQUNEO1FBQ0UsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUU7UUFDM0MsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUU7T0FDOUM7TUFDRDtRQUNFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFO1FBQzNDLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFO1FBQzFDLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFO09BQzVDO01BQ0Q7UUFDRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRTtRQUMxQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRTtRQUMzQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRTtPQUM5QztNQUNEO1FBQ0UsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUU7UUFDM0MsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUU7UUFDM0MsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxlQUFlLEVBQUU7T0FDOUM7TUFDRDtRQUNFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFO1FBQzNDLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFO1FBQzFDLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFO09BQzlDO01BQ0Q7UUFDRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRTtRQUMzQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRTtRQUMxQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRTtRQUM3QyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRTtPQUM1QztLQUNGO0lBQ0QsSUFBSSxFQUFFLENBQUMsR0FBRztHQUNYO0VBQ0Q7SUFDRSxNQUFNLEVBQUU7TUFDTjtRQUNFLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQzNELEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFO09BQzVEO0tBQ0Y7SUFDRCxJQUFJLEVBQUUsQ0FBQyxHQUFHO0dBQ1g7RUFDRDtJQUNFLE1BQU0sRUFBRTtNQUNOO1FBQ0UsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUU7UUFDM0QsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUU7T0FDNUQ7S0FDRjtJQUNELElBQUksRUFBRSxDQUFDLENBQUM7R0FDVDtFQUNEO0lBQ0UsTUFBTSxFQUFFO01BQ047UUFDRSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRTtR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
